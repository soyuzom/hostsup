{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"网盘自动填写密码【增强版】","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http*://*.pcs.baidu.com/*","http*://*.baidupcs.com/*","http*://*:8666/file/*","http*://*.baidu.com/file/*","http*://index.baidu.com/*","http*://*.gov/*","http*://*.gov.cn/*","http*://*.taobao.com/*","http*://*.tmall.com/*","http*://*.alimama.com/*","http*://*.jd.com/*","http://*.ctrip.com/*","https://*.evernote.com/*","https://*.yinxiang.com/*","/^https?://(localhost|10\\.|192\\.|127\\.)/","/https?://www.baidu.com/(?:s|baidu)\\?/","http*://www.zhihu.com/question/*/answers/created"],"orig_includes":["http://*","https://*","http://pan.baidu.com/s/*","http://eyun.baidu.com/s/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278855980},"enabled":false,"position":1,"file_url":"https://greasyfork.org/scripts/13463-%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81-%E5%A2%9E%E5%BC%BA%E7%89%88/code/%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81%E3%80%90%E5%A2%9E%E5%BC%BA%E7%89%88%E3%80%91.user.js","uuid":"c7e9185e-df8c-45b5-8565-486ed56c03a5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgCQkJ572R55uY6Ieq5Yqo5aGr5YaZ5a+G56CB44CQ5aKe5by654mI44CRCi8vIEBkZXNjcmlwdGlvbgkJ572R55uY6Ieq5Yqo5aGr5YaZ5o+Q5Y+W5a+G56CB44CQ5aKe5by654mI44CRK+e9keebmOi2hemTvuaOpeS4juaPkOWPlueggeiejeWQiOOAggovLyBAYXV0aG9yCQkJ5p6B5ZOB5bCP54yrCi8vIEBuYW1lc3BhY2UgICAJaHR0cDovL3d3dy5jbmJsb2dzLmNvbS9oa21oZC8KLy8gQGhvbWVwYWdlCQlodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMTM0NjMKLy8gQHN1cHBvcnRVUkwJCWh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8xMzQ2My9mZWVkYmFjawovLyBAdmVyc2lvbgkJCTIuNS4yLjQKLy8gQGRhdGUJCQkyMDE1LjEwLjMwCi8vIEBtb2RpZmllZAkJMjAxNy4wNy4xOQovLyAKLy8g5pSv5oyB55qE572R55uYCi8vIEBpbmNsdWRlICAgICAJaHR0cDovLyoKLy8gQGluY2x1ZGUJCQlodHRwczovLyoKLy8gQGluY2x1ZGUJCQlodHRwOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQGluY2x1ZGUJCQlodHRwOi8vZXl1bi5iYWlkdS5jb20vcy8qCi8vIAovLyDnmb3lkI3ljZUKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyoucGNzLmJhaWR1LmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmJhaWR1cGNzLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qOjg2NjYvZmlsZS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmJhaWR1LmNvbS9maWxlLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovL2luZGV4LmJhaWR1LmNvbS8qCi8vIAovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5nb3YvKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5nb3YuY24vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi50YW9iYW8uY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyoudG1hbGwuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyouYWxpbWFtYS5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5qZC5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHA6Ly8qLmN0cmlwLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cHM6Ly8qLmV2ZXJub3RlLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cHM6Ly8qLnlpbnhpYW5nLmNvbS8qCi8vIEBleGNsdWRlCQkJL15odHRwcz86Ly8obG9jYWxob3N0fDEwXC58MTkyXC58MTI3XC4pLwovLyBAZXhjbHVkZQkJCS9odHRwcz86Ly93d3cuYmFpZHUuY29tLyg/OnN8YmFpZHUpXD8vCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLyovYW5zd2Vycy9jcmVhdGVkCi8vCi8vIHJlcXVpcmUJCQlodHRwOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMKLy8gQHJlcXVpcmUJCQlodHRwOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8yLjEuNC9qcXVlcnkubWluLmpzCi8vIEBncmFudAkJCXVuc2FmZVdpbmRvdwovLyBAZW5jb2RpbmcJCXV0Zi04Ci8vIEBydW4tYXQJCQlkb2N1bWVudC1pZGxlCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIHVybHM9bG9jYXRpb24uaHJlZjsKdmFyIGhhc2g9bG9jYXRpb24uaGFzaDsKdmFyIGhvc3Q9bG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgvXnd3d1wuL2ksJycpLnRvTG93ZXJDYXNlKCk7CnZhciBwYXRocz1sb2NhdGlvbi5wYXRobmFtZS50b0xvd2VyQ2FzZSgpOwp1bnNhZmVXaW5kb3cuZXZlID0gRXZlbnQ7CgovKgogKiDmm7TmlrDml6Xlv5cKICogMi41LjIuMwogKiAx44CBTUFE57Sg5p2Q5bqT77yIbWFkc2NrLmNvbe+8ieWvhueggeiejeWQiOeJueauiuaUr+aMgQogKiAy44CB5L+u5aSNIGh1aHVwYW4uY29tIOeahOWvhueggeiejeWQiOaUr+aMgQogKgogKiAyLjUuMi4yCiAqIDHjgIHliKDpmaTnn6XkuY7ot7Povazpk77lpITnkIbku6PnoIEKICoKICogMi41LjIuMQogKiAx44CB6K6v5b2x572R77yIeHVueWluZ3dhbmcuY29t77yJ5a+G56CB6J6N5ZCI5aSE55CGCiAqIDLjgIHmiLfmiLfnm5jvvIhodWh1cGFuLmNvbe+8ieWvhueggeiejeWQiOWkhOeQhgogKiAKICogMi41LjEKICogMeOAgeaugea8gumBpe+8iHNoYW9pdC5jb23vvInlr4bnoIHono3lkIjlpITnkIbmlLnov5sKICogCiAqIDIuNS4wCiAqIDHjgIHmj5DljYflr4bnoIHono3lkIjog73lipsKICogCiAqIDIuNC4yIOOAkDIwMTYuMTAuMDXjgJEKICogMeOAgeaugea8gumBpe+8iHNoYW9pdC5jb23vvInlr4bnoIHono3lkIjlpITnkIYKICogMuOAgXJlaW11Lm5ldCDlr4bnoIHono3lkIjlpITnkIYKICogM+OAgeS/ruWkjeKAnOi3s+i9rOmTvuWkhOeQhuKAneW9seWTjeeZvuW6puS8geS4muebmOaXoOazleiuv+mXrumXrumimAogKiAKICogMi40LjEuMiDjgJAyMDE2LjA5LjI444CRCiAqIDHjgIHlop7liqAgc2lqaWh1aXN1by5jbHViIOeahOi3s+i9rOmTvuWkhOeQhgogKiAy44CB5aKe5Yqg5pys5ZywSVDnmb3lkI3ljZUKICogCiAqIDIuNC4xLjEg44CQMjAxNi4wOS4yMeOAkQogKiAx44CB5aKe5Yqg5pC656iL572R55m95ZCN5Y2VCiAqIAogKiAyLjQuMSDjgJAyMDE2LjA5LjIx44CRCiAqIDHjgIHmlK/mjIHkuIDkupvnibnmrornvZHnq5nnmoTlr4bnoIHono3lkIjpooTlpITnkIYKICogMuOAgeaUr+aMgeeZvuW6puS8geS4muS6keeahOWvhueggeiHquWKqOaPkOS6pO+8iOS8geS4muebmOeahOWvhueggeS4ujR+MTTkvY3vvIkKICogM+OAgeaUr+aMgSB3d3cuMGRheWt1LmNvbSDnmoTmj5Dlj5bnoIHlhbPplK7lrZfigJxFeHRyYWN0ZWQtY29kZeKAnQogKiAKICogMi4zLjMg44CQMjAxNi4wOC4wOOOAkQogKiAx44CB55+l5LmO6Lez6L2s6ZO+6aKE5aSE55CGCiAqIAogKiAyLjMuMiDjgJAyMDE2LjA4LjA044CRCiAqIDHjgIHmgaLlpI3mj5Dlj5bnoIHkuK3nmoTigJzlr4bnoIHigJ3lhbPplK7lrZfvvIjpgILnlKjkuo7vvJrlv4Pmtbdl56uZ77yJCiAqIAogKiAyLjMuMSDjgJAyMDE2LjA4LjAz44CRCiAqIDHjgIHlop7liqDlvq7kupHnvZHnm5jmj5Dlj5bnoIHmlK/mjIHvvIjljLnphY3op4TliJnmnaXoh6rljp/kvZzogIUgSml4dW4uTW9l77yJCiAqIDLjgIHkv67mraPmj5Dlj5bnoIHlhbzlrrnpl67popgKICogM+OAgeS/ruato+mHjeWkjea3u+WKoOaPkOWPlueggQogKiAKICogMi4zLjAg44CQMjAxNi4wOC4wMeOAkQogKiAx44CB56e76Zmk5a+56YeR5bGx5b+r55uY44CB5paw5rWq5LqR55uY55qE5pSv5oyBCiAqIDLjgIHnmb7luqbkvIHkuJrkupHnm5jkuI3ov73liqDpqozor4HnoIEKICogM+OAgeWPl+i0tOWQp+mhtemdoui3s+i9rOW9seWTje+8jOaaguaXtuS4jeaUr+aMgei0tOWQp+eahOWvhueggeaPkOWPlu+8jOW3suWwhui0tOWQp+WKoOWFpeeZveWQjeWNlQogKiA044CB5o+Q5Y2H6ZO+5o6lJuWvhueggeiejeWQiOeahOaIkOWKn+eOhwnigJTigJQgQSDmoIfnrb7nu5Hlrprlh73mlbDmm7TmlLnkuLogYm9keSDngrnlh7vkuovku7bnm5HlkKzvvIjmoLnmja7ljp/kvZzogIUgSml4dW4uTW9lIOeahOW7uuiuru+8iQogKiA144CB5om+5LiN5Yiw5a+G56CB5pe255qE6YGN5Y6G5pa55byP5pu05pS577yI5oSf6LCiIDEwMTM5IC0gbXVkb28g55qE5bu66K6u77yJCiAqIDbjgIHmlK/mjIHlr4bnoIHmlL7lnKjmjaLooYzooajmoLzkuK3nmoTmj5Dlj5YKKi8KCnZhciBzaXRlID0gewogICd5dW5wYW4uY24nOiB7CiAgICBjaGs6CS9eW2EtejAtOV17NH0kLywKICAgIGNvZGU6CScucHdkLWlucHV0JywKICAgIGJ0bjoJJy5zdWJtaXQtYnRuJwogIH0sCiAgJ2JhaWR1LmNvbSc6ewogICAgY2hrOgkvXlthLXowLTldezR9JC8sCiAgICBjb2RlOgknI2FjY2Vzc0NvZGUnLAogICAgYnRuOgknI3N1Ym1pdEJ0biwjZ2V0ZmlsZUJ0bicsCiAgICBQcmVQcm9jZXNzOiBmdW5jdGlvbigpIHsJLy/lt7LlpITnkIYKICAgICAgaWYoaG9zdD09J2V5dW4uYmFpZHUuY29tJyl7CS8v5aaC5p6c5Li655m+5bqm5LyB5Lia5LqR55uY77yM5YiZ5oyJ54Wn5LyB5Lia5LqR55uY55qE5pa55byP5aSE55CGCiAgICAgICAgY29uZj1zaXRlWydiYWlkdS5jb20nXT1zaXRlWydleXVuLmJhaWR1LmNvbSddOwogICAgICAgIHNpdGVbJ2JhaWR1LmNvbSddLlByZVByb2Nlc3MoKTsKICAgICAgfQogICAgfQogIH0sCiAgJ2V5dW4uYmFpZHUuY29tJzogewogICAgY2hrOgkvXlthLXowLTldezR9JC8sCiAgICBjb2RlOgknLnNoYXJlLWFjY2Vzcy1jb2RlJywKICAgIGJ0bjoJJy5nLWJ1dHRvbi1yaWdodCcsCiAgICBQcmVQcm9jZXNzOiBmdW5jdGlvbigpIHsKICAgICAgaWYoKGhhc2gmJiEvc2hhcmVsaW5rfHBhdGgvaS50ZXN0KGhhc2gpKSYmIS9lbnRlcnByaXNlLy50ZXN0KHBhdGhzKSkgewogICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0Jyk7CiAgICAgICAgbG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobG9jYXRpb24uaGFzaCwnJyk7CiAgICAgIH0KICAgIH0KICB9LAogICd3ZWl5dW4uY29tJzogewogICAgY2hrOiAvXlthLXowLTldezR9JC9pLAogICAgY29kZTogJyNvdXRsaW5rX3B3ZCcsCiAgICBidG46ICAnI291dGxpbmtfcHdkX29rJwogIH0sCiAgJ3B3ZFJ1bGUnIDogLyg/OuaPkOWPlnzorr/pl64pW+eggeeivF0/XHMqWzrvvJogXT9ccyooW2EtelxkXXs0fSkvLAkJCS8v5bi46KeE5a+G56CBCiAgJ2NvZGVSdWxlJyA6IC8oPzooPzrmj5Dlj5Z86K6/6ZeufOWvhlvnoIHnorxdfOiJvnxFeHRyYWN0ZWQtY29kZSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0fSkvaSwJLy/lhbblroPnsbvlnovnmoTlr4bnoIEKICAvL+i3s+i9rOmTvumihOWkhOeQhgogICdKdW1wVXJsJyA6IHsKICAgICdzaWppaHVpc3VvLmNsdWInOiB7CiAgICAgIGhyZWY6ICQoJy5kb3duLXRpcCBBW2hyZWZePSJodHRwczovL3d3dy5zaWppaHVpc3VvLmNsdWIvZ28vP3VybD0iXScpLAogICAgICB1cmw6ICdodHRwczovL3d3dy5zaWppaHVpc3VvLmNsdWIvZ28vP3VybD0nCiAgICB9CiAgfSwKICAvL+WvhueggeiejeWQiOmcgOimgeeJueauiuaUr+aMgeeahOe9keermQogICdTdXBwb3J0JyA6IHsKICAgICdtYWRzY2suY29tJzp7CiAgICAgIHBhdGg6IC9cL3Jlc291cmNlXC9cZCsvLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgIHZhciBJRD0kKCcuYnRuLWRvd25sb2FkJykuZGF0YSgnaWQnKTsKICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICJ1cmwiOiJodHRwOi8vd3d3Lm1hZHNjay5jb20vYWpheC9sb2dpbi9kb3dubG9hZC1saW5rP2lkPSIrSUQsCiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgdmFyIHJlcz1lLnJlc291cmNlOwogICAgICAgICAgICAgICQoJy5idG4tZG93bmxvYWQnKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7CiAgICAgICAgICAgICAgJCgnPGE+JykuYXR0cih7J2hyZWYnOnJlcy5yZXNvdXJjZV9saW5rKycjJytyZXMuZmV0Y2hfY29kZSwndGFyZ2V0JzonYmxhbmsnLCdjbGFzcyc6J2J0bi1kb3dubG9hZCd9KS5jc3MoeydsaW5lLWhlaWdodCc6JzYwcHgnLCd0ZXh0LWFsaWduJzonY2VudGVyJywnZm9udC1zaXplJzonMjRweCd9KS50ZXh0KCfkuIvovb0nKS5pbnNlcnRCZWZvcmUoJy5idG4tZG93bmxvYWQnKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgICdpZGFubXUuY28nOiB7CiAgICAgIHBhdGggOiAvc3RvcmFnZVwtZG93bmxvYWQvaSwKICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpewogICAgICAgICQoJy5pbnB1dC1ncm91cCcpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICQodGhpcykudGV4dCgkKHRoaXMpLnRleHQoKSskKHRoaXMpLmZpbmQoJ2lucHV0JykudmFsKCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgJ3NoYW9pdC5jb20nOiB7CiAgICAgIHBhdGggOiAvLiovaSwKICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpewogICAgICAgIHZhciBMaW5rUGFyZW50PSQoJ0FbaHJlZio9InBhbi5iYWlkdS5jb20iXSxBW2hyZWYqPSJleXVuLmJhaWR1LmNvbSJdJykucGFyZW50KCk7CiAgICAgICAgdmFyIFBhcmVudEhUTUw9TGlua1BhcmVudC5odG1sKCk7CiAgICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vXHMqKHNoYW9pdHxbYS16XGRdezR9KSgoPzpccyp8PGJyPikkKS9pOwogICAgICAgICAgdmFyIEh0bWxBcnI9UGFyZW50SFRNTC5tYXRjaCgvLiooPzogXC98XHMqJHw8YnI+KS9pZyk7CiAgICAgICAgICBmb3IoaT0wO2k8SHRtbEFyci5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgaWYoLzxcL2E+XHMqKFthLXpcZF17NH18c2hhb2l0KSBcLy9pLnRlc3QoSHRtbEFycltpXSkpewogICAgICAgICAgICAgIEh0bWxBcnJbaV09SHRtbEFycltpXS5yZXBsYWNlKC8oaHJlZj0iW14iXSspKCJbXj5dKj8+KD8hPFwvYT4pLis/PFwvYT5ccyooc2hhb2l0fFthLXpcZF17NH0pKS9pZywnJDEjJDMkMicpOwogICAgICAgICAgICB9IGVsc2UgaWYoc2l0ZVsnY29kZVJ1bGUnXS50ZXN0KEh0bWxBcnJbaV0pKXsKICAgICAgICAgICAgICB2YXIgUFdjb2RlPUh0bWxBcnJbaV0ubWF0Y2goc2l0ZVsnY29kZVJ1bGUnXSlbMV07CiAgICAgICAgICAgICAgSHRtbEFycltpXT1IdG1sQXJyW2ldLnJlcGxhY2UoLyhocmVmPSJbXiJdKz8pIi9pZywnJDEjJytQV2NvZGUrJyInKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgTGlua1BhcmVudC5odG1sKEh0bWxBcnIuam9pbignJykpOwogICAgICAgIAogICAgICB9CiAgICB9LAogICAgJ3h1bnlpbmd3YW5nLmNvbSc6ewogICAgICBwYXRoOi9tb3ZpZS9pLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgICQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCl7CiAgICAgICAgICAkKCdBW2hyZWYqPSJwYW4uYmFpZHUuY29tIl0sQVtocmVmKj0iZXl1bi5iYWlkdS5jb20iXScpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdocmVmJywkKHRoaXMpLmF0dHIoJ2hyZWYnKSsnIycrJCh0aGlzKS5uZXh0KCJzdHJvbmciKS50ZXh0KCkpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAnaHVodXBhbi5jb20nOnsKICAgICAgcGF0aDovZVwvZXh0ZW5kXC9kb3duL2ksCiAgICAgIGNhbGxiYWNrOmZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIF9MaW5rdG1wPSQoJ0FbaHJlZio9InBhbi5iYWlkdS5jb20iXSxBW2hyZWYqPSJleXVuLmJhaWR1LmNvbSJdJyk7CiAgICAgICAgdmFyIF9QV3RtcD0kKCdpbnB1dFtpZF49ImJkeXBhcyJdJyk7CiAgICAgICAgZm9yKGk9MDtpPF9MaW5rdG1wLmxlbmd0aDtpKyspewogICAgICAgICAgX0xpbmt0bXBbaV0uaHJlZis9IiMiK19QV3RtcFtpXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAncmVpbXUubmV0JzogewogICAgICBwYXRoOiAvYXJjaGl2ZXMvaSwKICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vKD86KD865o+Q5Y+WfOiuv+mXrnzlr4Zb56CB56K8XSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0fXw46YWxKS9pCiAgICAgIH0KICAgIH0KICB9Cn07Cgp2YXIgaG9zdE5hbWUgPSBsb2NhdGlvbi5ob3N0Lm1hdGNoKC9cdytcLlx3KyQvKVswXS50b0xvd2VyQ2FzZSgpOwkvL+aPkOWPluW9k+WJjee9keermeS4u+Wfn+WQje+8iOe9keebmOWhq+WFheWvhueggeeUqO+8iQp2YXIgY29uZiA9IHNpdGVbaG9zdE5hbWVdOwkJCQkJCQkJCQkJLy/orr7nva7kuLvln5/lkI0KCnZhciBIb3N0QXJyID0gW107CQkJCQkJCQkJLy/nlJ/miJDln5/lkI3mlbDnu4QKZm9yKHZhciBpIGluIHNpdGUpIEhvc3RBcnIucHVzaChpKTsJCQkJCS8v5o+S5YWl5Z+f5ZCN5a+56LGh5pWw57uECnZhciBIb3N0RXhwID0gbmV3IFJlZ0V4cChIb3N0QXJyLmpvaW4oInwiKSwnaScpOwkvL+eUn+aIkOagoemqjOi2hemTvuaOpeeahOato+WImQoKLy9jb25zb2xlLmxvZyhzaXRlLkp1bXBVcmxbaG9zdF0pOwoKLyogLS0tLS09PT09PSDmo4Dmn6XmmK/lkKbpnIDopoHlpITnkIbot7Povazpk74gU3RhcnQgPT09PT0tLS0tLSAqLwoKaWYoc2l0ZVsnSnVtcFVybCddW2hvc3RdKXsKICBjb25zb2xlLmxvZyhzaXRlWydKdW1wVXJsJ11baG9zdF1bJ2hyZWYnXSkKICBzaXRlWydKdW1wVXJsJ11baG9zdF1bJ2hyZWYnXS5lYWNoKGZ1bmN0aW9uKCl7CiAgICBjb25zb2xlLmxvZyhzaXRlWydKdW1wVXJsJ11baG9zdF1bJ3JlcCddKQogICAgJCh0aGlzKS5hdHRyKHsnaHJlZic6ZGVjb2RlVVJJQ29tcG9uZW50KCQodGhpcykuYXR0cignaHJlZicpLnJlcGxhY2Uoc2l0ZVsnSnVtcFVybCddW2hvc3RdWyd1cmwnXSwnJykpLCd0YXJnZXQnOidibGFuayd9KTsKICB9KTsKfQovKiAtLS0tLT09PT09IOajgOafpeaYr+WQpumcgOimgeWkhOeQhui3s+i9rOmTviBFbmQgPT09PT0tLS0tLSAqLwoKCmlmKGNvbmYmJiEvemhpZGFvLmJhaWR1LmNvbS9pLnRlc3QoaG9zdCkpewkvL+e9keebmOmhtemdouWhq+WvhueggeeZu+W9lQogIC8vIOaKk+WPluaPkOWPlueggQogIGlmKGNvbmYuUHJlUHJvY2VzcykgY29uZi5QcmVQcm9jZXNzKCk7CQkvL+WGheWuuemihOWkhOeQhu+8iOWkhOeQhueZvuW6puS8geS4muS6ke+8iQogIHZhciBzQ29kZSA9IGhhc2guc2xpY2UoMSkudHJpbSgpOwoKICAvLyDosIPor5XnlKjvvIzmo4Dmn6XmmK/lkKbkuLrlkIjms5XmoLzlvI8KICBpZiAoIWNvbmYuY2hrLnRlc3Qoc0NvZGUpKSB7CiAgICBjb25zb2xlLmxvZygn5rKh5pyJIEtleSDmiJbmoLzlvI/kuI3lr7knKTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2cgKCfmipPlj5bliLDnmoTmj5Dlj5bnoIE6ICVzJywgc0NvZGUpOwogIH0KCiAgLy8g5Yqg5Liq5bCP5bu25pe2CiAgc2V0VGltZW91dCAoZnVuY3Rpb24gKCkgewogICAgLy8g6ZSu5YWl5o+Q5Y+W56CB5bm25Y2V5Ye744CM5o+Q5Lqk44CN5oyJ6ZKu77yM5oql6ZSZ5LiN55So55CG44CCCiAgICB2YXIgY29kZUJveCA9ICQoY29uZi5jb2RlKSwKICAgICAgICBidG5PayA9ICQoY29uZi5idG4pOwogICAgaWYoY29kZUJveC5sZW5ndGg+MCkgewkJLy/lrZjlnKjlr4bnoIHmoYbml7bmiY3ov5vooYzlr4bnoIHmj5DkuqTmk43kvZwKICAgICAgY29kZUJveC52YWwoc0NvZGUpOwkJLy/loavlhpnpqozor4HnoIEKICAgICAgaWYgKGNvbmYucHJlU3VibWl0KQogICAgICAgIGlmIChjb25mLnByZVN1Ym1pdCAoY29kZUJveCwgYnRuT2spKQogICAgICAgICAgcmV0dXJuIDsKICAgICAgYnRuT2suY2xpY2soKTsKICAgIH0KICB9LCAxMCk7Cn0gZWxzZSB7CiAgLy/lr4bnoIHono3lkIgg54m55Yir5pSv5oyB55qE572R56uZCiAgaWYoc2l0ZVsnU3VwcG9ydCddW2hvc3ROYW1lXSYmc2l0ZVsnU3VwcG9ydCddW2hvc3ROYW1lXVsncGF0aCddLnRlc3QocGF0aHMpKSB7CiAgICBzaXRlWydTdXBwb3J0J11baG9zdE5hbWVdLmNhbGxiYWNrKCk7CiAgfQogIC8v55uR5ZCsIEEg5qCH562+54K55Ye75LqL5Lu2CiAgJCgnYm9keScpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24gKCkgewogICAgdmFyIHRhcmdldD10aGlzOwogICAgLy/lpoLmnpzotoXpk77mjqXlt7LmnIkgaGFzaCDliJnot7Pov4cKICAgIGlmKHRoaXMuaGFzaCkgcmV0dXJuOwogICAgLy/lpoLmnpznm67moIflr7nosaHkuLrnmb7luqbkvIHkuJrnm5jvvIzmj5DljYflr4bnoIHljLnphY3ojIPlm7TvvIzku6Xlhbzlrrnnmb7luqbkvIHkuJrkupEKICAgIGlmKC9leXVuLmJhaWR1LmNvbS9pLnRlc3QodGhpcy5ocmVmKSkgewogIAkJc2l0ZVsncHdkUnVsZSddPS8oPzrmj5Dlj5Z86K6/6ZeuKVvnoIHnorxdP1xzKls677yaIF0/XHMqKFthLXpcZF17NCwxNH0pLzsKICAJCXNpdGVbJ2NvZGVSdWxlJ109Lyg/Oig/OuaPkOWPlnzorr/pl6585a+GW+eggeeivF18RXh0cmFjdGVkLWNvZGUpW+eggeeivF0/KVxzKls677yaIF0/XHMqKFthLXpcZF17NCwxNH0pL2k7CiAgICB9CiAgICAvL3ZhciB0YXJnZXQ9ZXZlbnQudGFyZ2V0LnRhZ05hbWU9PT0nQSc/ZXZlbnQudGFyZ2V0OmV2ZW50LnRhcmdldC5wYXJlbnROb2RlOwogICAJCiAgICAvL+ato+WImeagoemqjOi2hemTvuaOpeWMuemFjeeahOe9keebmAogICAgaWYoSG9zdEV4cC50ZXN0KHRoaXMuaHJlZikmJiEvKD86dGllYmEpXC5iYWlkdVwuY29tL2kudGVzdCh0aGlzLmhyZWYpKXsKICAgICAgCiAgICAgIAogICAgICBpZihzaXRlWydjb2RlUnVsZSddLnRlc3QodGFyZ2V0LnRleHRDb250ZW50KSl7CiAgICAgICAgY29uc29sZS5sb2coJ+WcqOW9k+WJjei2hemTvuaOpeeahOWvueixoeS4reafpeaJvuWvhueggScpOwogICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZSh0YXJnZXQpOwogICAgICB9IGVsc2UgaWYodGFyZ2V0Lm5leHRTaWJsaW5nJiZzaXRlWydjb2RlUnVsZSddLnRlc3QodGFyZ2V0Lm5leHRTaWJsaW5nLnRleHRDb250ZW50KSl7CiAgICAgICAgY29uc29sZS5sb2coJ+WvhueggeWcqOi2hemTvuaOpeWQjumdoueahOWFhOW8n+WFg+e0oOS4rScsdGFyZ2V0Lm5leHRTaWJsaW5nLnRleHRDb250ZW50KTsKICAgICAgICBpZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHRhcmdldC5uZXh0U2libGluZyk7CiAgICAgIH0gZWxzZSBpZihzaXRlWydwd2RSdWxlJ10udGVzdCh0YXJnZXQucGFyZW50Tm9kZS50ZXh0Q29udGVudCkpewogICAgICAgIGNvbnNvbGUubG9nKCfku47niLblr7nosaHkuK3mn6Xmib7lr4bnoIEnKTsKICAgICAgICBpZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHRhcmdldC5wYXJlbnROb2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaSA9IDAsCiAgICAgICAgICAgIG1heFBhcmVudCA9IDUsCS8v5ZCR5LiK6YGN5Y6G55qE5bGC57qnCiAgICAgICAgICAgIHBhcmVudCA9IHRhcmdldDsKICAgICAgICB3aGlsZShpPG1heFBhcmVudCkgewogICAgICAgICAgaSsrOwkJCQkJCQkJCS8v6YGN5Y6G6K6h5pWwCiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsJCQkvL+WPluW+l+eItuWvueixoQogICAgICAgICAgY29uc29sZS5sb2coJ+mBjeWOhuS4iue6p+ebruW9leafpeaJvuWvhuegge+8micrIGkscGFyZW50KTsKICAgICAgICAgIGlmKHBhcmVudC50YWdOYW1lPT0iVFIiKSB7CQkJCS8v5aaC5p6c54i25a+56LGh5piv6KGo5qC877yM5YiZ5LuO6KGo5qC85Lit5o+Q5Y+W5a+G56CBCiAgICAgICAgICAgIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50KSkgewogICAgICAgICAgICAgIHBhcmVudD1wYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ+ihqOagvOS4reafpeaJvuWvhueggeaIkOWKn++8gScscGFyZW50KTsKICAgICAgICAgICAgICB0YXJnZXQuaHJlZis9JyMnK2V4dENvZGUocGFyZW50KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwdz1wYXJlbnQubmV4dFNpYmxpbmcudGV4dENvbnRlbnQpKXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+WQkeS4iumBjeWOhuafpeaJvu+8jOWcqOi2hemTvuaOpeWQjumdoueahOWFhOW8n+WFg+e0oOS4re+8jCcscGFyZW50Lm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKHBhcmVudC5uZXh0U2libGluZyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIGlmKHNpdGVbJ2NvZGVSdWxlJ10udGVzdChwYXJlbnQudGV4dENvbnRlbnQpKSB7CQkvL+WQpuWImeaMieeFp+W4uOinhOaWueW8j+aPkOWPluWvhueggQogICAgICAgICAgICBjb25zb2xlLmxvZygn5ZCR5LiK6YGN5Y6G5p+l5om+5a+G56CB5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgIHRhcmdldC5ocmVmKz0nIycrZXh0Q29kZShwYXJlbnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHBhcmVudD09ZG9jdW1lbnQuYm9keSkgYnJlYWs7CQkJCQkJCQkvL+WmguaenOW3sue7j+mBjeWOhuWIsOacgOmhtumDqAogICAgICAgIH0KICAgICAgfQogICAgICAvL2NvbnNvbGUubG9nKHNpdGVbJ2NvZGVSdWxlJ10pOwogICAgICAgICAgICAvL+aXp+eahOS7jueItuWvueixoeS4remBjeWOhuaWueW8jwogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfku44gZG9jdW1lbnQuYm9keSDkuK3mn6Xmib7lr4bnoIEnKTsKICAgICAgICAgICAgLy9pZighLyMvaS50ZXN0KHRhcmdldC5ocmVmKSkgdGFyZ2V0LmhyZWYrPScjJytleHRDb2RlKGRvY3VtZW50LmJvZHkpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBleHRDb2RlKG9iail7CiAgdGV4dD1vYmoudGV4dENvbnRlbnQudHJpbSgpOwogIHJldHVybiBzaXRlWydwd2RSdWxlJ10udGVzdCh0ZXh0KT90ZXh0Lm1hdGNoKHNpdGVbJ3B3ZFJ1bGUnXSlbMV06dGV4dC5tYXRjaChzaXRlWydjb2RlUnVsZSddKVsxXTsJLy/pppblhYjlsJ3or5Xkvb/nlKgg5o+Q5Y+W56CBfOiuv+mXrueggSDkvZzkuLrlr4bnoIHljLnphY3nmoTlhbPplK7lrZfvvIzml6DmlYjml7bliJnkvb/nlKjmm7TlrozmlbTnmoTljLnphY3op4TliJkKfQ=="},{"name":"百度网盘直接下载助手增强版","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278855990},"enabled":true,"position":2,"uuid":"619faedb-494a-4c0c-b1ef-799381f0a4ad","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnm7TmjqXkuIvovb3liqnmiYvlop7lvLrniYgKLy8gQG5hbWVzcGFjZSAgICB1bmRlZmluZWQKLy8gQHZlcnNpb24gICAgICAwLjkuMjQKLy8gQGRlc2NyaXB0aW9uIDHjgIHnm7TmjqXkuIvovb3nmb7luqbnvZHnm5jlkoznmb7luqbnvZHnm5jliIbkuqvnmoTmlofku7Ys6YG/5YWN5LiL6L295paH5Lu25pe26LCD55So55m+5bqm572R55uY5a6i5oi356uvLOiOt+WPlue9keebmOaWh+S7tueahOebtOaOpeS4i+i9veWcsOWdgO+8mwovLyBAZGVzY3JpcHRpb24g77yIYeOAgeS/ruWkjeS6huWumOaWueWOn+S9nOiAheeJiHYwLjkuNOWcqOaIkeeahOe9keebmOmhtemdouS4jeaYvuekuuOAkOS4i+i9veWKqeaJi+OAkeaMiemSrumXrumimO+8gQovLyBAZGVzY3JpcHRpb24g77yIYuOAgeino+WGs+S6huWboOS/ruWkjWHpl67popjlkI7lr7zoh7TliIbkuqvpk77mjqXpobXpnaLngrnjgJDkuIvovb3jgJHmjInpkq7kvJrosIPnlKjlrqLmiLfnq6/pl67popgKLy8gQGRlc2NyaXB0aW9uIDLjgIHlsY/olL3kuobnvZHnm5jpobXpnaLnmb7luqbogZTnm5/lub/lkYrlkoznmb7luqblrqLmiLfnq6/kuIvovb3mjInpkq7vvIzlhbzlrrkzNjDlronlhajmtY/op4jlmajnrYnvvJsKLy8gQGF1dGhvciAgICAgICBpdmVzamF544CBRGllTW9lCi8vIEBtYXRjaCAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL2Rpc2svaG9tZSoKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9zaGFyZS9saW5rKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LWxhdGVzdC5qcwovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgICAgIAogICAgdmFyICQgPSAkIHx8IHdpbmRvdy4kOwogICAgdmFyIGxvZ19jb3VudCA9IDE7CiAgICB2YXIgd29yZE1hcEh0dHAgPSB7CiAgICAgICAgJ2xpc3QtZ3JpZC1zd2l0Y2gnOid5dmdiOVhKJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2tzYlhabScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOid0Y2g2VzI1JywKICAgICAgICAnbGlzdC1zd2l0Y2gnOidscmJvOWEnLAogICAgICAgICdncmlkLXN3aXRjaCc6J3hoNnBvTCcsCiAgICAgICAgJ2NoZWNrYm94JzonRU9HZXhmJywKICAgICAgICAnY29sLWl0ZW0nOidReHlmdmcnLAogICAgICAgICdjaGVjayc6J2Z5ZEdOQycsCiAgICAgICAgJ2NoZWNrZWQnOidFenViR2cnLAogICAgICAgICdsaXN0LXZpZXcnOid2ZEFmS01iJywKICAgICAgICAnaXRlbS1hY3RpdmUnOiduZ2I5TzYnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzoneHBYMlBWJywKICAgICAgICAnYmFyJzoncXhuWDJHNScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXBIdHRwcyA9IHsKICAgICAgICAnbGlzdC1ncmlkLXN3aXRjaCc6J3FvYm1YQjFxJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2V3WG0xZScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOidreGhrWDJFbScsCiAgICAgICAgJ2xpc3Qtc3dpdGNoJzoncnZwWG02MycsCiAgICAgICAgJ2dyaWQtc3dpdGNoJzonbXhnZEpnd3YnLAogICAgICAgICdjaGVja2JveCc6J0VPR2V4ZicsCiAgICAgICAgJ2NvbC1pdGVtJzonUXh5ZnZnJywKICAgICAgICAnY2hlY2snOidmeWRHTkMnLAogICAgICAgICdjaGVja2VkJzonRXp1YkdnJywKICAgICAgICAnbGlzdC12aWV3JzondmRBZktNYicsCiAgICAgICAgJ2l0ZW0tYWN0aXZlJzoncGNhbVhCUlgnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzonbnl6dEpxV0UnLAogICAgICAgICdiYXInOidta3NlSnFLUScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXAgPSBsb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cDonID8gd29yZE1hcEh0dHAgOiB3b3JkTWFwSHR0cHM7CiAgICAKICAgIC8vY29uc29sZS5sb2cod29yZE1hcCk7CgogICAgZnVuY3Rpb24gc2xvZyhjMSxjMixjMyl7CiAgICAgICAgYzEgPSBjMT9jMTonJzsKICAgICAgICBjMiA9IGMyP2MyOicnOwogICAgICAgIGMzID0gYzM/YzM6Jyc7CiAgICAgICAgY29uc29sZS5sb2coJyMnKyBsb2dfY291bnQrKyArJy1CYWlEdU5ldGRpc2tIZWxwZXItbG9nOicsYzEsYzIsYzMpOwogICAgfQoKICAgICQoZnVuY3Rpb24oKXsKICAgICAgICBzd2l0Y2goZGV0ZWN0UGFnZSgpKXsKICAgICAgICAgICAgY2FzZSAnZGlzayc6CiAgICAgICAgICAgICAgICB2YXIgcGFuSGVscGVyID0gbmV3IFBhbkhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuSGVscGVyLmluaXQoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgY2FzZSAnc2hhcmUnOgogICAgICAgICAgICBjYXNlICdzJzoKICAgICAgICAgICAgICAgIHZhciBwYW5TaGFyZUhlbHBlciA9IG5ldyBQYW5TaGFyZUhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuU2hhcmVIZWxwZXIuaW5pdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0pOwoKICAgIC8v572R55uY6aG16Z2i55qE5LiL6L295Yqp5omLCiAgICBmdW5jdGlvbiBQYW5IZWxwZXIoKXsKICAgICAgICB2YXIgeXVuRGF0YSxzaWduLHRpbWVzdGFtcCxiZHN0b2tlbixsb2dpZCxmaWRfbGlzdDsKICAgICAgICB2YXIgZmlsZUxpc3Q9W10sc2VsZWN0RmlsZUxpc3Q9W10sYmF0Y2hMaW5rTGlzdD1bXSxiYXRjaExpbmtMaXN0QWxsPVtdLGxpbmtMaXN0PVtdLAogICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzPSdsaXN0JzsKICAgICAgICB2YXIgb2JzZXJ2ZXIsY3VycmVudFBhZ2UsY3VycmVudFBhdGgsY3VycmVudENhdGVnb3J5LGRpYWxvZyxzZWFyY2hLZXk7CiAgICAgICAgdmFyIHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgICAgIHZhciByZXN0QVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9wY3MuYmFpZHUuY29tL3Jlc3QvMi4wL3Bjcy8iOwogICAgICAgIHZhciBjbGllbnRBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvL2QucGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICBzbG9nKCd5dW5EYXRhOicseXVuRGF0YSk7CiAgICAgICAgICAgIGlmKHl1bkRhdGEgPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBzbG9nKCfpobXpnaLmnKrmraPluLjliqDovb3vvIzmiJbogIXnmb7luqblt7Lnu4/mm7TmlrDvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbml0UGFyYW1zKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICAgICAgICBhZGRCdXR0b24oKTsKICAgICAgICAgICAgY3JlYXRlSWZyYW1lKCk7CiAgICAgICAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6dHJ1ZX0pOwoKICAgICAgICAgICAgc2xvZygn572R55uY55u05o6l5LiL6L295Yqp5omL5Yqg6L295oiQ5Yqf77yBJyk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpewogICAgICAgICAgICBzaWduID0gZ2V0U2lnbigpOwogICAgICAgICAgICB0aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoKTsKICAgICAgICAgICAgYmRzdG9rZW4gPSBnZXRCRFN0b2tlbigpOwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgc2xvZygnQ3VycmVudCBkaXNwbGF5IG1vZGU6JyxjdXJyZW50UGFnZSk7CgogICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSAnbGlzdCcpCiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKCiAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09ICdjYXRlZ29yeScpCiAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwoKICAgICAgICAgICAgaWYoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpCiAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKCiAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGaWxlTGlzdCgpewogICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2xpc3QnKSB7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ2NhdGVnb3J5Jyl7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldENhdGVnb3J5RmlsZUxpc3QoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRTZWFyY2hGaWxlTGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0TGlzdCgpewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaExpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nmoTop4blm77mqKHlvI8KICAgICAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3JldHVybiAkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdsaXN0LXN3aXRjaGVkLW9uJyk/J2xpc3QnOigkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdncmlkLXN3aXRjaGVkLW9uJyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIC8vcmV0dXJuICQoJ2Rpdi5pdGlXelBZJykuaGFzQ2xhc3MoJ2t1ZHRXWTQ2Jyk/J2xpc3QnOigkKCdkaXYuaXRpV3pQWScpLmhhc0NsYXNzKCdueXRBTDl3Jyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIHJldHVybiAkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2xpc3Qtc3dpdGNoZWQtb24nXSk/J2xpc3QnOigkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2dyaWQtc3dpdGNoZWQtb24nXSk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckV2ZW50TGlzdGVuZXIoKXsKICAgICAgICAgICAgcmVnaXN0ZXJIYXNoQ2hhbmdlKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4blnLDlnYDmoI8j5qCH562+55qE5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJIYXNoQ2hhbmdlKCl7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICAgICAgaWYoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFBhdGggPT0gZ2V0UGF0aCgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnZXRDdXJyZW50UGFnZSgpID09ICdjYXRlZ29yeScpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudENhdGVnb3J5ID09IGdldENhdGVnb3J5KCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGdldEN1cnJlbnRQYWdlKCkgPT0gJ3NlYXJjaCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VhcmNoS2V5ID09IGdldFNlYXJjaEtleSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG6KeG5Zu+5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3ZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgIC8vdmFyICRhX2xpc3QgPSAkKCdhW25vZGUtdHlwZT1lZXBXemtrXScpOwogICAgICAgICAgICB2YXIgJGFfbGlzdCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnbGlzdC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9saXN0LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgLy92YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPXl0bnZXWTdxXScpOwogICAgICAgICAgICB2YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnZ3JpZC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v5paH5Lu26YCJ5oup5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uRU9HZXhmJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL2lmKCRwYXJlbnQuaGFzQ2xhc3MoJ2l0ZW0tYWN0aXZlJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygncHJXelhBJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnaXRlbS1hY3RpdmUnXSkpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojpgInkuK3mlofku7bvvJonK2ZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxzZWxlY3RGaWxlTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0W2ldLmZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5zcGxpY2UoaSwxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7Y6JytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uY2hlY2tib3gnKTsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5FT0dleGYnKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uJyt3b3JkTWFwWydjaGVja2JveCddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+WFqOmAieahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnZGl2LmNvbC1pdGVtLmNoZWNrJyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5ReHlmdmcuZnlkR05DJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuJyt3b3JkTWFwWydjb2wtaXRlbSddKycuJyt3b3JkTWFwWydjaGVjayddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgLy9pZigkcGFyZW50Lmhhc0NsYXNzKCdjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygnRXp1YkdnJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnY2hlY2tlZCddKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdkaXYuUXh5ZnZnLmZ5ZEdOQycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/ljZXkuKrmlofku7bpgInkuK3vvIzngrnlh7vmlofku7bkuI3mmK/ngrnlh7vpgInkuK3moYbvvIzkvJrlj6rpgInkuK3or6Xmlofku7YKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ3NoaWZ0S2V5OicrZS5zaGlmdEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFlLnNoaWZ0S2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyICRkZF9zZWxlY3QgPSAkKCdkaXYubGlzdC12aWV3IGRkLml0ZW0tYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciAkZGRfc2VsZWN0ID0gJCgnZGl2LnZkQWZLTWIgZGQucHJXelhBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRkX3NlbGVjdCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKycgZGQuJyt3b3JkTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCgkZGRfc2VsZWN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJChlbGVtZW50KSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXZpZXcnKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy92YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZkQWZLTWInKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkpLdkhKTWInKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBsaXN0X3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydsaXN0LXZpZXcnXSk7CiAgICAgICAgICAgIHZhciBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydncmlkLXZpZXcnXSk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxpc3RfdmlldyxvcHRpb25zKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICAvL+a3u+WKoOWKqeaJi+aMiemSrgogICAgICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpewogICAgICAgICAgICAvLyQoJ2Rpdi5iYXItc2VhcmNoJykuY3NzKCd3aWR0aCcsJzE4JScpOy8v5L+u5pS55pCc57Si5qGG55qE5a695bqm77yM6YG/5YWN6YGu5oyhCiAgICAgICAgICAgIC8vJCgnZGl2Lk9GYVBhTycpLmNzcygnd2lkdGgnLCcxOCUnKTsKICAgICAgICAgICAgJCgnZGl2Licrd29yZE1hcFsnYmFyLXNlYXJjaCddKS5jc3MoJ3dpZHRoJywnMTglJyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24iPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDo5NnB4Ij48L3NwYW4+Jyk7CgogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj7nm7TmjqXkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3OXB4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1kaXJlY3QiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImxpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQKTwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cHNsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQUyk8L2E+Jyk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbWVudS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbikuYXBwZW5kKCRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2EpLmFwcGVuZCgkZGlyZWN0YnV0dG9uX21lbnUpKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CgogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj5BUEnkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3N3B4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9Imh0dHBsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUCk8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBzbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUFMpPC9hPicpOwogICAgICAgICAgICAkYXBpYnV0dG9uX21lbnUuYXBwZW5kKCRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRhcGlidXR0b24uYXBwZW5kKCRhcGlidXR0b25fc3Bhbi5hcHBlbmQoJGFwaWJ1dHRvbl9hKS5hcHBlbmQoJGFwaWJ1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRhcGlidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRhcGlidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwoKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+5aSW6ZO+5LiL6L29PC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX21lbnUgPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjEyMHB4O2xlZnQ6NzlweCI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9kb3dubG9hZF9idXR0b24gPSAkKCc8YSBpZD0iZG93bmxvYWQtb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5LiL6L29PC9hPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJsaW5rLW91dGVybGluayIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lPC9hPicpOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX21lbnUuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fc3Bhbi5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9hKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b24pOwogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8kKCdkaXYuZGVmYXVsdC1kb20gZGl2LmJhciBkaXYubGlzdC10b29scycpLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgICAgICAgICAvLyQoJ2Rpdi5pcmhXOXBaIGRpdi55cWdSNzQ3IGRpdi5RRERPUUInKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICAgICAkKCdkaXYuJyt3b3JkTWFwWydsaXN0LXRvb2xzJ10pLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgICAgIH0KCiAgICAgICAgLy/mmoLml7bmsqHnlKgKICAgICAgICAvLyBmdW5jdGlvbiBhZGRMb2FkaW5nKCl7CiAgICAgICAgLy8gICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgLy8gICAgIHZhciBzY3JlZW5IZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgICAgICAvLyAgICAgdmFyIGxlZnQgPSAoc2NyZWVuV2lkdGgtMTApLzI7CiAgICAgICAgLy8gICAgIHZhciB0b3AgPSBzY3JlZW5IZWlnaHQvMjsKICAgICAgICAvLyAgICAgdmFyICRsb2FkaW5nID0gJCgnPGRpdiBpZD0iZGlhbG9nLWxvYWRpbmciIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OicrbGVmdCsncHg7dG9wOicrdG9wKydweDtkaXNwbGF5Om5vbmU7ei1pbmRleDo1Mjtjb2xvcjp3aGl0ZTtmb250LXNpemU6MTZweCI+5aSE55CG5LitPC9kaXY+Jyk7CiAgICAgICAgLy8gICAgICQoJ2JvZHknKS5hcHBlbmQoJGxvYWRpbmcpOwogICAgICAgIC8vIH0KCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRDbGljayhldmVudCl7CiAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbms7CgogICAgICAgICAgICBpZihpZCA9PSAnZG93bmxvYWQtZGlyZWN0Jyl7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRUeXBlOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZT0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkVHlwZSA9IHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyPT0xPydiYXRjaCc6KHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyPT09MD8nZGxpbmsnOidiYXRjaCcpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3Qoc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsgKyAnJnppcG5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChzZWxlY3RGaWxlTGlzdFswXS5maWxlbmFtZSkgKyAnLnppcCc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gLTEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJblt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHnm67lvZXkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGlkID09ICdkb3dubG9hZC1hcGknKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSAnZG93bmxvYWQtb3V0ZXJsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmVycm5vID09IDApewogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQudXJsc1swXS51cmw7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMil7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJbogIXlt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXhlY0Rvd25sb2FkKGRvd25sb2FkTGluayk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBsaW5rQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgbGlua0xpc3QsdGlwOwoKICAgICAgICAgICAgaWYoaWQuaW5kZXhPZignZGlyZWN0JykgIT0gLTEpewogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkVHlwZTsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZExpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2JhdGNoJzsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMCkKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlPSAnZGxpbmsnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3Qoc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZyhzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUpICsgJy56aXAnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gLTEpewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJblt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBodHRwbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywnaHR0cDonKTsKICAgICAgICAgICAgICAgIHZhciBodHRwc2xpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHBzOicpOwogICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cGxpbmsscmFuazoxfSwKICAgICAgICAgICAgICAgICAgICAgICAge3VybDpodHRwc2xpbmsscmFuazoyfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65qih5ouf55m+5bqm572R55uY572R6aG16I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25Yiw5LiL6L295bel5YW36ZyA6KaB5Lyg6YCSY29va2ll77yM5aSa5paH5Lu25omT5YyF5LiL6L2955qE6ZO+5o6l5Y+v5Lul55u05o6l5aSN5Yi25L2/55SoJzsKICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHnm67lvZXkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2FwaScpICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaHR0cGxpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHA6Jyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0dHBzbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywnaHR0cHM6Jyk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOnNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB1cmxzOlsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cGxpbmsscmFuazoxfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cHNsaW5rLHJhbms6Mn0KICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgaHR0cGxpbmsgPSBodHRwbGluay5yZXBsYWNlKCcyNTA1MjgnLCcyNjY3MTknKTsKICAgICAgICAgICAgICAgICAgICBodHRwc2xpbmsgPSBodHRwc2xpbmsucmVwbGFjZSgnMjUwNTI4JywnMjY2NzE5Jyk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QudXJscy5wdXNoKHt1cmw6aHR0cGxpbmsscmFuazozfSk7CiAgICAgICAgICAgICAgICAgICAgbGlua0xpc3QudXJscy5wdXNoKHt1cmw6aHR0cHNsaW5rLHJhbms6NH0pOwogICAgICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi59BUFDojrflj5bnmoTpk77mjqUo5L2/55So55m+5bqm5LqRSUQp77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25Yiw5LiL6L295bel5YW36ZyA6KaB5Lyg6YCSY29va2llJzsKICAgICAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6c2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOnJlc3VsdC51cmxzCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJybm8gPT0gMil7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmlofku7bkuI3lrZjlnKjmiJbogIXlt7Looqvnmb7luqblkozosJDvvIzml6Dms5XkuIvovb3vvIEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaooeaLn+eZvuW6pue9keebmOWuouaIt+err+iOt+WPlueahOmTvuaOpe+8jOWPr+S7peebtOaOpeWkjeWItuWIsOS4i+i9veW3peWFt+S9v+eUqO+8jOS4jemcgOimgWNvb2tpZSc7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlLHNob3dlZGl0OnRydWV9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvL2RpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGJhdGNoQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpgInkuK3mlofku7blpLHotKXvvIzor7fliLfmlrDph43or5XvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgICAgICAgIHZhciBsaW5rVHlwZSx0aXA7CiAgICAgICAgICAgIGxpbmtUeXBlID0gaWQuaW5kZXhPZignaHR0cHMnKSA9PSAtMSA/IChpZC5pbmRleE9mKCdodHRwJykgPT0gLTEgPyBsb2NhdGlvbi5wcm90b2NvbCsnOicgOiAnaHR0cDonKSA6ICdodHRwczonOwogICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gW107CiAgICAgICAgICAgIGJhdGNoTGlua0xpc3RBbGwgPSBbXTsKICAgICAgICAgICAgaWYoaWQuaW5kZXhPZignZGlyZWN0JykgIT0gLTEpewogICAgICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldERpcmVjdEJhdGNoTGluayhsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qE55u05o6l5LiL6L296ZO+5o6l77yM5paH5Lu25aS55pi+56S65Li65omT5YyF5LiL6L2955qE6ZO+5o6lJzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZC5pbmRleE9mKCdhcGknKSAhPSAtMSl7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0QVBJQmF0Y2hMaW5rKGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoRBUEnkuIvovb3pk77mjqXvvIzkuI3mmL7npLrmlofku7blpLknOwogICAgICAgICAgICAgICAgaWYoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpk77mjqXlj6/ku6XmmL7npLrvvIxBUEnpk77mjqXkuI3opoHlhajpg6jpgInkuK3mlofku7blpLnvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+aJuemHj+mTvuaOpScsdHlwZTonYmF0Y2gnLGxpc3Q6YmF0Y2hMaW5rTGlzdCx0aXA6dGlwLHNob3djb3B5OnRydWV9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKXsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3RBbGwgPSBnZXRPdXRlcmxpbmtCYXRjaExpbmtBbGwoKTsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXRPdXRlcmxpbmtCYXRjaExpbmtGaXJzdChiYXRjaExpbmtMaXN0QWxsKTsKICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoTlpJbpg6jkuIvovb3pk77mjqXvvIzkuI3mmL7npLrmlofku7blpLknOwogICAgICAgICAgICAgICAgaWYoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpk77mjqXlj6/ku6XmmL7npLrvvIxBUEnpk77mjqXkuI3opoHlhajpg6jpgInkuK3mlofku7blpLnvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlLGFsbGxpc3Q6YmF0Y2hMaW5rTGlzdEFsbCxzaG93YWxsOnRydWV9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy9kaWFsb2cub3Blbih7dGl0bGU6J+aJuemHj+mTvuaOpScsdHlwZTonYmF0Y2gnLGxpc3Q6YmF0Y2hMaW5rTGlzdCx0aXA6dGlwLHNob3djb3B5OnRydWV9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERpcmVjdEJhdGNoTGluayhsaW5rVHlwZSl7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZFR5cGUsZG93bmxvYWRMaW5rLHJlc3VsdDsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMCkKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnZGxpbmsnOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoW2VsZW1lbnRdKTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhQYW5BUEkoZG93bmxvYWRUeXBlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICBpZihkb3dubG9hZFR5cGUgPT0gJ2RsaW5rJykKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rWzBdLmRsaW5rOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoZG93bmxvYWRUeXBlID09ICdiYXRjaCcpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sbGlua1R5cGUpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZG93bmxvYWRMaW5rfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSl7CiAgICAgICAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwogICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShlbGVtZW50LnBhdGgpOwogICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZG93bmxvYWRMaW5rfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE91dGVybGlua0JhdGNoTGlua0FsbCgpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICAgICAgaWYoZWxlbWVudC5pc2RpciA9PSAxKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoZWxlbWVudC5wYXRoKTsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkTGluayA9IHJlc3VsdC51cmxzWzBdLnVybDsKICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsbGlua3M6cmVzdWx0LnVybHN9KTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIC8vZG93bmxvYWRMaW5rID0gJ2Vycm9yJzsKICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsbGlua3M6W3tyYW5rOjEsdXJsOidlcnJvcid9XX0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9saXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRPdXRlcmxpbmtCYXRjaExpbmtGaXJzdChsaXN0KXsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgICAkLmVhY2gobGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGRvd25sb2FkbGluazplbGVtZW50LmxpbmtzWzBdLnVybH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNpZ24oKXsKICAgICAgICAgICAgdmFyIHNpZ25GbmM7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIHNpZ25GbmMgPSBuZXcgRnVuY3Rpb24oInJldHVybiAiICsgeXVuRGF0YS5zaWduMikoKTsKICAgICAgICAgICAgfSBjYXRjaChlKXsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBiYXNlNjRFbmNvZGUoc2lnbkZuYyh5dW5EYXRhLnNpZ241LHl1bkRhdGEuc2lnbjEpKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5b2T5YmN55uu5b2VCiAgICAgICAgZnVuY3Rpb24gZ2V0UGF0aCgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pcGF0aD0oW14mXSopKCZ8JCkvaTsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzJdKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5YiG57G75pi+56S655qE57G75Yir77yM5Y2z5Zyw5Z2A5qCP5Lit55qEdHlwZQogICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5KCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLyl0eXBlPShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0U2VhcmNoS2V5KCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLylrZXk9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjemhtemdoihsaXN05oiW6ICFY2F0ZWdvcnkpCiAgICAgICAgZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2UoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKGhhc2guaW5kZXhPZignIycpKzEsaGFzaC5pbmRleE9mKCcvJykpKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5paH5Lu25YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIGZpbGVsaXN0ID0gW107CiAgICAgICAgICAgIHZhciBsaXN0VXJsID0gcGFuQVBJVXJsICsgImxpc3QiOwogICAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgZGlyOnBhdGgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgb3JkZXI6J3NpemUnLAogICAgICAgICAgICAgICAgZGVzYzowLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgYXBwaWQ6MjUwNTI4CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5YiG57G76aG16Z2i5LiL55qE5paH5Lu25YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlGaWxlTGlzdCgpewogICAgICAgICAgICB2YXIgZmlsZWxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGxpc3RVcmwgPSBwYW5BUElVcmwgKyAiY2F0ZWdvcnlsaXN0IjsKICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgY2F0ZWdvcnk6Y2F0ZWdvcnksCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgb3JkZXI6J3NpemUnLAogICAgICAgICAgICAgICAgZGVzYzowLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgYXBwaWQ6MjUwNTI4CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmluZm8gOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHZhciBmaWxlbGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgbGlzdFVybCA9IHBhbkFQSVVybCArICdzZWFyY2gnOwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgcmVjdXJzaW9uOjEsCiAgICAgICAgICAgICAgICBvcmRlcjondGltZScsCiAgICAgICAgICAgICAgICBkZXNjOjEsCiAgICAgICAgICAgICAgICBzaG93ZW1wdHk6MCwKICAgICAgICAgICAgICAgIHdlYjoxLAogICAgICAgICAgICAgICAgcGFnZToxLAogICAgICAgICAgICAgICAgbnVtOjEwMCwKICAgICAgICAgICAgICAgIGtleTpzZWFyY2hLZXksCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcF9pZDoyNTA1MjgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6bGlzdFVybCwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBmaWxlbGlzdCA9IDA9PT1yZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgICAgICB9CgogICAgICAgIC8v55Sf5oiQ5LiL6L295pe255qEZmlkX2xpc3Tlj4LmlbAKICAgICAgICBmdW5jdGlvbiBnZXRGaWRMaXN0KGxpc3QpewogICAgICAgICAgICB2YXIgZmlkbGlzdCA9IG51bGw7CiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB2YXIgZmlsZWlkbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2gobGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIGZpbGVpZGxpc3QucHVzaChlbGVtZW50LmZzX2lkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGZpZGxpc3QgPSAnWycgKyBmaWxlaWRsaXN0ICsgJ10nOwogICAgICAgICAgICByZXR1cm4gZmlkbGlzdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS50aW1lc3RhbXA7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRCRFN0b2tlbigpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS5NWUJEU1RPS0VOOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5bnm7TmjqXkuIvovb3lnLDlnYAKICAgICAgICAvL+i/meS4quWcsOWdgOS4jeaYr+ebtOaOpeS4i+i9veWcsOWdgO+8jOiuv+mXrui/meS4quWcsOWdgOS8mui/lOWbnjMwMu+8jHJlc3BvbnNlIGhlYWRlcuS4reeahGxvY2F0aW9u5omN5piv55yf5a6e5LiL6L295Zyw5Z2ACiAgICAgICAgLy/mmoLml7bmsqHmnInmib7liLDmj5Dlj5bmlrnms5UKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKHR5cGUpewogICAgICAgICAgICB2YXIgZG93bmxvYWRVcmwgPSBwYW5BUElVcmwgKyAiZG93bmxvYWQiOwogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIHZhciBwYXJhbXM9IHsKICAgICAgICAgICAgICAgIHNpZ246c2lnbiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDp0aW1lc3RhbXAsCiAgICAgICAgICAgICAgICBmaWRsaXN0OmZpZF9saXN0LAogICAgICAgICAgICAgICAgdHlwZTp0eXBlLAogICAgICAgICAgICAgICAgY2hhbm5lbDonY2h1bmxlaScsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIGFwcF9pZDoyNTA1MjgsCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTowCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6ZG93bmxvYWRVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShwYXRoKXsKICAgICAgICAgICAgdmFyIGxpbmsgPSByZXN0QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWRvd25sb2FkJmFwcF9pZD0yNTA1MjgmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpOwogICAgICAgICAgICByZXR1cm4gbGluazsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJRVMocGF0aCl7CiAgICAgICAgICAgIHZhciBsaW5rID0gcmVzdEFQSVVybCArICdmaWxlP21ldGhvZD1kb3dubG9hZCZhcHBfaWQ9MjY2NzE5JnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHBhdGgpewogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICB2YXIgdXJsID0gY2xpZW50QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWxvY2F0ZWRvd25sb2FkJmFwcF9pZD0yNTA1MjgmdmVyPTQuMCZwYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCk7CiAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICAgICAgICAgIHhockZpZWxkczogewogICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3RhdHVzQ29kZTp7CiAgICAgICAgICAgICAgICAgICAgNDA0OmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYocmVzdWx0KXsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJvcl9jb2RlID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnVybHMgPT0gdW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC51cmxzLGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnVybHNbaW5kZXhdLnVybCA9IGVsZW1lbnQudXJsLnJlcGxhY2UoJ1xcJywnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJvcl9jb2RlID09IDMxMDY2KXsKICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAxOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gLTE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmVzdWx0ID0ge307CiAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXhlY0Rvd25sb2FkKGxpbmspewogICAgICAgICAgICBzbG9nKCLkuIvovb3pk77mjqXvvJoiK2xpbmspOwogICAgICAgICAgICAkKCcjaGVscGVyZG93bmxvYWRpZnJhbWUnKS5hdHRyKCdzcmMnLGxpbmspOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSWZyYW1lKCl7CiAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdiBjbGFzcz0iaGVscGVyLWhpZGUiIHN0eWxlPSJwYWRkaW5nOjA7bWFyZ2luOjA7ZGlzcGxheTpibG9jayI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkaWZyYW1lID0gJCgnPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9ImhlbHBlcmRvd25sb2FkaWZyYW1lIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2lmcmFtZT4nKTsKICAgICAgICAgICAgJGRpdi5hcHBlbmQoJGlmcmFtZSk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpdik7CgogICAgICAgIH0KICAgIH0KCiAgICAvL+WIhuS6q+mhtemdoueahOS4i+i9veWKqeaJiwogICAgZnVuY3Rpb24gUGFuU2hhcmVIZWxwZXIoKXsKICAgICAgICB2YXIgeXVuRGF0YSxzaWduLHRpbWVzdGFtcCxiZHN0b2tlbixjaGFubmVsLGNsaWVudHR5cGUsd2ViLGFwcF9pZCxsb2dpZCxlbmNyeXB0LHByb2R1Y3QsdWsscHJpbWFyeWlkLGZpZF9saXN0LGV4dHJhLHNoYXJlaWQ7CiAgICAgICAgdmFyIHZjb2RlOwogICAgICAgIHZhciBzaGFyZVR5cGUsYnV0dG9uVGFyZ2V0LGN1cnJlbnRQYXRoLGxpc3RfZ3JpZF9zdGF0dXMsb2JzZXJ2ZXIsZGlhbG9nLHZjb2RlRGlhbG9nOwogICAgICAgIHZhciBmaWxlTGlzdD1bXSxzZWxlY3RGaWxlTGlzdD1bXTsKICAgICAgICB2YXIgcGFuQVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArICIvYXBpLyI7CiAgICAgICAgdmFyIHNoYXJlTGlzdFVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL3NoYXJlL2xpc3QiOwoKICAgICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbigpewogICAgICAgICAgICB5dW5EYXRhID0gdW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICAgICAgICAgIHNsb2coJ3l1bkRhdGE6Jyx5dW5EYXRhKTsKICAgICAgICAgICAgaWYoeXVuRGF0YSA9PT0gdW5kZWZpbmVkIHx8IHl1bkRhdGEuRklMRUlORk8gPT0gbnVsbCl7CiAgICAgICAgICAgICAgICBzbG9nKCfpobXpnaLmnKrmraPluLjliqDovb3vvIzmiJbogIXnmb7luqblt7Lnu4/mm7TmlrDvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbml0UGFyYW1zKCk7CiAgICAgICAgICAgIGFkZEJ1dHRvbigpOwogICAgICAgICAgICBkaWFsb2cgPSBuZXcgRGlhbG9nKHthZGRDb3B5OmZhbHNlfSk7CiAgICAgICAgICAgIHZjb2RlRGlhbG9nID0gbmV3IFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSxjb25maXJtQ2xpY2spOwogICAgICAgICAgICBjcmVhdGVJZnJhbWUoKTsKCiAgICAgICAgICAgIGlmKCFpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7CiAgICAgICAgICAgICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzbG9nKCfliIbkuqvnm7TmjqXkuIvovb3liqDovb3miJDlip8hJyk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpewogICAgICAgICAgICBzaGFyZVR5cGUgPSBnZXRTaGFyZVR5cGUoKTsKICAgICAgICAgICAgc2lnbiA9IHl1bkRhdGEuU0lHTjsKICAgICAgICAgICAgdGltZXN0YW1wID0geXVuRGF0YS5USU1FU1RBTVA7CiAgICAgICAgICAgIGJkc3Rva2VuID0geXVuRGF0YS5NWUJEU1RPS0VOOwogICAgICAgICAgICBjaGFubmVsID0gJ2NodW5sZWknOwogICAgICAgICAgICBjbGllbnR0eXBlID0gMDsKICAgICAgICAgICAgd2ViID0gMTsKICAgICAgICAgICAgYXBwX2lkID0gMjUwNTI4OwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIGVuY3J5cHQgPSAwOwogICAgICAgICAgICBwcm9kdWN0ID0gJ3NoYXJlJzsKICAgICAgICAgICAgcHJpbWFyeWlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICAgICAgdWsgPSB5dW5EYXRhLlNIQVJFX1VLOwoKICAgICAgICAgICAgaWYoc2hhcmVUeXBlID09ICdzZWNyZXQnKXsKICAgICAgICAgICAgICAgIGV4dHJhID0gZ2V0RXh0cmEoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgICAgICAgaWYoeXVuRGF0YS5DQVRFR09SWSA9PSAyKXsKICAgICAgICAgICAgICAgICAgICBvYmouZmlsZW5hbWUgPSB5dW5EYXRhLkZJTEVOQU1FOwogICAgICAgICAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5QQVRIOwogICAgICAgICAgICAgICAgICAgIG9iai5mc19pZCA9IHl1bkRhdGEuRlNfSUQ7CiAgICAgICAgICAgICAgICAgICAgb2JqLmlzZGlyID0gMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFSU5GT1swXS5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5GSUxFSU5GT1swXS5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZJTEVJTkZPWzBdLmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBvYmouaXNkaXIgPXl1bkRhdGEuRklMRUlORk9bMF0uaXNkaXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNoYXJlaWQgPSB5dW5EYXRhLlNIQVJFX0lEOwogICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3liIbkuqvnsbvlnovvvIhwdWJsaWPmiJbogIVzZWNyZXTvvIkKICAgICAgICBmdW5jdGlvbiBnZXRTaGFyZVR5cGUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuU0hBUkVfUFVCTElDPT09MSA/ICdwdWJsaWMnIDogJ3NlY3JldCc7CiAgICAgICAgfQoKICAgICAgICAvL+WIpOaWreaYr+WNleS4quaWh+S7tuWIhuS6q+i/mOaYr+aWh+S7tuWkueaIluiAheWkmuaWh+S7tuWIhuS6qwogICAgICAgIGZ1bmN0aW9uIGlzU2luZ2xlU2hhcmUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuZ2V0Q29udGV4dCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3mmK/lkKbkuLroh6rlt7HnmoTliIbkuqvpk77mjqUKICAgICAgICBmdW5jdGlvbiBpc1NlbGZTaGFyZSgpewogICAgICAgICAgICByZXR1cm4geXVuRGF0YS5NWVNFTEYgPT0gMSA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEV4dHJhKCl7CiAgICAgICAgICAgIHZhciBzZUtleSA9IGRlY29kZVVSSUNvbXBvbmVudChnZXRDb29raWUoJ0JEQ0xORCcpKTsKICAgICAgICAgICAgcmV0dXJuICd7JyArICcic2VrZXkiOiInICsgc2VLZXkgKyAnIicgKyAifSI7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgICAgIGZ1bmN0aW9uIGdldFBhdGgoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICB2YXIgcmVneCA9IC8oXnwmfFwvKXBhdGg9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeeahOinhuWbvuaooeW8jwogICAgICAgIGZ1bmN0aW9uIGdldExpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIHZhciBzdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIHZhciAkc3RhdHVzX2RpdiA9ICQoJ2Rpdi5saXN0LWdyaWQtc3dpdGNoJyk7CiAgICAgICAgICAgIGlmICgkc3RhdHVzX2Rpdi5oYXNDbGFzcygnbGlzdC1zd2l0Y2hlZC1vbicpKXsKICAgICAgICAgICAgICAgIHN0YXR1cyA9ICdsaXN0JzsKICAgICAgICAgICAgfSBlbHNlIGlmICgkc3RhdHVzX2Rpdi5oYXNDbGFzcygnZ3JpZC1zd2l0Y2hlZC1vbicpKSB7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnZ3JpZCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHN0YXR1czsKICAgICAgICB9CgogICAgICAgIC8v5re75Yqg5LiL6L295Yqp5omL5oyJ6ZKuCiAgICAgICAgZnVuY3Rpb24gYWRkQnV0dG9uKCl7CiAgICAgICAgICAgIGlmKGlzU2luZ2xlU2hhcmUoKSl7CiAgICAgICAgICAgICAgICAkKCdkaXYuc2xpZGUtc2hvdy1yaWdodCcpLmNzcygnd2lkdGgnLCc1MDBweCcpOwogICAgICAgICAgICAgICAgJCgnZGl2LmZyYW1lLW1haW4nKS5jc3MoJ3dpZHRoJywnOTYlJyk7CiAgICAgICAgICAgICAgICAkKCdkaXYuc2hhcmUtZmlsZS12aWV3ZXInKS5jc3MoJ3dpZHRoJywnNzQwcHgnKS5jc3MoJ21hcmdpbi1sZWZ0JywnYXV0bycpLmNzcygnbWFyZ2luLXJpZ2h0JywnYXV0bycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICQoJ2Rpdi5zbGlkZS1zaG93LXJpZ2h0JykuY3NzKCd3aWR0aCcsJzUwMHB4Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24iPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iYjIwMCIgZGF0YS1idXR0b24taW5kZXg9IjIwMCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX2Ffc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PGVtIGNsYXNzPSJpY29uIGljb24tZG93bmxvYWQiIHRpdGxlPSLnmb7luqbnvZHnm5jkuIvovb3liqnmiYsiPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPuS4i+i9veWKqeaJizwvc3Bhbj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6YXV0bzt6LWluZGV4OjQxIj48L3NwYW4+Jyk7CgogICAgICAgICAgICB2YXIgJGRvd25sb2FkQnV0dG9uID0gJCgnPGEgZGF0YS1tZW51LWlkPSJiLW1lbnUyMDciIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nm7TmjqXkuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkbGlua0J1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA4IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uX3NwYW4uYXBwZW5kKCRkb3dubG9hZEJ1dHRvbikuYXBwZW5kKCRsaW5rQnV0dG9uKTsKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uX2EuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hX3NwYW4pOwogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRvd25sb2FkQnV0dG9uLmNsaWNrKGRvd25sb2FkQnV0dG9uQ2xpY2spOwogICAgICAgICAgICAkbGlua0J1dHRvbi5jbGljayhsaW5rQnV0dG9uQ2xpY2spOwoKICAgICAgICAgICAgJCgnZGl2Lm1vZHVsZS1zaGFyZS10b3AtYmFyIGRpdi5iYXIgZGl2LmJ1dHRvbi1ib3gnKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpewogICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgY2xhc3M9ImhlbHBlci1oaWRlIiBzdHlsZT0icGFkZGluZzowO21hcmdpbjowO2Rpc3BsYXk6YmxvY2siPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGlmcmFtZSA9ICQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGlkPSJoZWxwZXJkb3dubG9hZGlmcmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9pZnJhbWU+Jyk7CiAgICAgICAgICAgICRkaXYuYXBwZW5kKCRpZnJhbWUpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaXYpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudExpc3RlbmVyKCl7CiAgICAgICAgICAgIHJlZ2lzdGVySGFzaENoYW5nZSgpOwogICAgICAgICAgICByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICByZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5Zyw5Z2A5qCPI+agh+etvuWPmOWMlgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVySGFzaENoYW5nZSgpewogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRQYXRoID09IGdldFBhdGgoKSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0RmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoRmlsZUxpc3QoKXsKICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRGaWxlTGlzdCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFNlbGVjdEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuinhuWbvuWPmOWMlgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKXsKICAgICAgICAgICAgdmFyICRhX2xpc3QgPSAkKCdhW25vZGUtdHlwZT1saXN0LXN3aXRjaF0nKTsKICAgICAgICAgICAgJGFfbGlzdC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdsaXN0JzsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPWdyaWQtc3dpdGNoXScpOwogICAgICAgICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu26YCJ5oup5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50Lmhhc0NsYXNzKCdpdGVtLWFjdGl2ZScpKXsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn5Y+W5raI6YCJ5Lit5paH5Lu277yaJytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8c2VsZWN0RmlsZUxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdFtpXS5maWxlbmFtZSA9PSBmaWxlbmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3Quc3BsaWNlKGksMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu277yaJytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uY2hlY2tib3gnKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uJyt3b3JkTWFwWydjaGVja2JveCddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuWFqOmAieahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnZGl2LmNvbC1pdGVtLmNoZWNrJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuJyt3b3JkTWFwWydjb2wtaXRlbSddKycuJyt3b3JkTWFwWydjaGVjayddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgLy9pZigkcGFyZW50Lmhhc0NsYXNzKCdjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnY2hlY2tlZCddKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bljZXkuKrmlofku7bpgInkuK0KICAgICAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJCh0aGlzKSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnNfaWQ6ZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpewogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYubGlzdC12aWV3IGRkJyk7CiAgICAgICAgICAgIHZhciAkZGQgPSAkKCdkaXYuJyt3b3JkTWFwWydsaXN0LXZpZXcnXSsnIGRkJyk7CiAgICAgICAgICAgICRkZC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bmlofku7bliJfooajmmL7npLrlj5jljJYKICAgICAgICBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcigpewogICAgICAgICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyOwogICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICdjaGlsZExpc3QnOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKXsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7IAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy92YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdmlldycpOwogICAgICAgICAgICAvL3ZhciBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC12aWV3Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicrd29yZE1hcFsnbGlzdC12aWV3J10pOwogICAgICAgICAgICB2YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicrd29yZE1hcFsnZ3JpZC12aWV3J10pOwoKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsaXN0X3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZ3JpZF92aWV3LG9wdGlvbnMpOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5bmlofku7bkv6Hmga/liJfooagKICAgICAgICBmdW5jdGlvbiBnZXRGaWxlTGlzdCgpewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgICAgIGlmKGdldFBhdGgoKSA9PSAnLycpewogICAgICAgICAgICAgICAgcmVzdWx0ID0geXVuRGF0YS5GSUxFSU5GTzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgdWs6dWssCiAgICAgICAgICAgICAgICAgICAgc2hhcmVpZDpzaGFyZWlkLAogICAgICAgICAgICAgICAgICAgIG9yZGVyOidvdGhlcicsCiAgICAgICAgICAgICAgICAgICAgZGVzYzoxLAogICAgICAgICAgICAgICAgICAgIHNob3dlbXB0eTowLAogICAgICAgICAgICAgICAgICAgIHdlYjp3ZWIsCiAgICAgICAgICAgICAgICAgICAgZGlyOmdldFBhdGgoKSwKICAgICAgICAgICAgICAgICAgICB0Ok1hdGgucmFuZG9tKCksCiAgICAgICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbDpjaGFubmVsLAogICAgICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6Y2xpZW50dHlwZSwKICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6YXBwX2lkLAogICAgICAgICAgICAgICAgICAgIGxvZ2lkOmxvZ2lkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB1cmw6c2hhcmVMaXN0VXJsLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJybm8gPT09IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2UubGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkb3dubG9hZEJ1dHRvbkNsaWNrKCl7CiAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPluaWh+S7tklE5aSx6LSl77yM6K+36YeN6K+VJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnV0dG9uVGFyZ2V0ID0gJ2Rvd25sb2FkJzsKICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGluaygpOwoKICAgICAgICAgICAgaWYoZG93bmxvYWRMaW5rLmVycm5vID09IC0yMCkgewogICAgICAgICAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgICAgICAgICAgaWYodmNvZGUuZXJybm8gIT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpqozor4HnoIHlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5vcGVuKHZjb2RlKTsKICAgICAgICAgICAgfSBlbHNlIGlmKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpewogICAgICAgICAgICAgICAgYWxlcnQoJ+mhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivlScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgICAgdmFyIGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSAmJiBzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMCkKICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG93bmxvYWRMaW5rLmxpc3RbMF0uZGxpbms7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5kbGluazsKICAgICAgICAgICAgICAgIGV4ZWNEb3dubG9hZChsaW5rKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bkuIvovb3pk77mjqXlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5bpqozor4HnoIEKICAgICAgICBmdW5jdGlvbiBnZXRWQ29kZSgpewogICAgICAgICAgICB2YXIgdXJsID0gcGFuQVBJVXJsICsgJ2dldHZjb2RlJzsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgcHJvZDoncGFuJywKICAgICAgICAgICAgICAgIHQ6TWF0aC5yYW5kb20oKSwKICAgICAgICAgICAgICAgIGJkc3Rva2VuOmJkc3Rva2VuLAogICAgICAgICAgICAgICAgY2hhbm5lbDpjaGFubmVsLAogICAgICAgICAgICAgICAgY2xpZW50dHlwZTpjbGllbnR0eXBlLAogICAgICAgICAgICAgICAgd2ViOndlYiwKICAgICAgICAgICAgICAgIGFwcF9pZDphcHBfaWQsCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOnVybCwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGFzeW5jOmZhbHNlLAogICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICAvL+WIt+aWsOmqjOivgeeggQogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hWQ29kZSgpewogICAgICAgICAgICB2Y29kZSA9IGdldFZDb2RlKCk7CiAgICAgICAgICAgICQoJyNkaWFsb2ctaW1nJykuYXR0cignc3JjJyx2Y29kZS5pbWcpOwogICAgICAgIH0KCiAgICAgICAgLy/pqozor4HnoIHnoa7orqTmj5DkuqQKICAgICAgICBmdW5jdGlvbiBjb25maXJtQ2xpY2soKXsKICAgICAgICAgICAgdmFyIHZhbCA9ICQoJyNkaWFsb2ctaW5wdXQnKS52YWwoKTsKICAgICAgICAgICAgaWYodmFsLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCfor7fovpPlhaXpqozor4HnoIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmKHZhbC5sZW5ndGggPCA0KSB7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+mqjOivgeeggei+k+WFpemUmeivr++8jOivt+mHjeaWsOi+k+WFpScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IAogICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aFZDb2RlKHZhbCk7CiAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAtMjApewogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cuY2xvc2UoKTsKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgICAgICAgICByZWZyZXNoVkNvZGUoKTsKICAgICAgICAgICAgICAgIGlmKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLm9wZW4oKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB2YXIgbGluazsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PTEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgbGluayA9IHJlc3VsdC5saXN0WzBdLmRsaW5rOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgICAgICBpZihidXR0b25UYXJnZXQgPT0gJ2Rvd25sb2FkJyl7CiAgICAgICAgICAgICAgICAgICAgZXhlY0Rvd25sb2FkKGxpbmspOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChidXR0b25UYXJnZXQgPT0gJ2xpbmsnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZSArICcsJyArIGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB1cmxzOlsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6bGluayxyYW5rOjF9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHZhciB0aXAgPSAi5pi+56S66I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25peg55So77yM6ZyA6KaB5Lyg6YCSY29va2llIjsKICAgICAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v55Sf5oiQ5LiL6L2955So55qEZmlkX2xpc3Tlj4LmlbAKICAgICAgICBmdW5jdGlvbiBnZXRGaWRMaXN0KCl7CiAgICAgICAgICAgIHZhciBmaWRsaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgIGZpZGxpc3QucHVzaChlbGVtZW50LmZzX2lkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiAnWycgKyBmaWRsaXN0ICsgJ10nOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbGlua0J1dHRvbkNsaWNrKCl7CiAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgYWxlcnQoJ+ayoeaciemAieS4reaWh+S7tu+8jOivt+mHjeivlScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1dHRvblRhcmdldCA9ICdsaW5rJzsKICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGluaygpOwoKICAgICAgICAgICAgaWYoZG93bmxvYWRMaW5rLmVycm5vID09IC0yMCkgewogICAgICAgICAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgICAgICAgICAgaWYoIXZjb2RlIHx8IHZjb2RlLmVycm5vICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cub3Blbih2Y29kZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09IDExMikgewogICAgICAgICAgICAgICAgYWxlcnQoJ+mhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivlScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgICAgdmFyIGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSAmJiBzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMCkKICAgICAgICAgICAgICAgICAgICBsaW5rID0gZG93bmxvYWRMaW5rLmxpc3RbMF0uZGxpbms7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5kbGluazsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZG93bmxvYWRsaW5rJykuYXR0cignaHJlZicsbGluaykudGV4dChsaW5rKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWRvd25sb2FkbGluaycpLmF0dHIoJ2hyZWYnLGxpbmspLnRleHQobGluayk7CiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAnJzsKICAgICAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZSArICcsJyArIGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6bGluayxyYW5rOjF9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciB0aXAgPSAi5pi+56S66I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35LiL6L2977yM5aSN5Yi25peg55So77yM6ZyA6KaB5Lyg6YCSY29va2llIjsKICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bkuIvovb3pk77mjqXlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5bkuIvovb3pk77mjqUKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmsoKXsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgaWYoaXNTaW5nbGVTaGFyZSl7CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoKTsKICAgICAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgICAgIHZhciB1cmwgPSBwYW5BUElVcmwgKyAnc2hhcmVkb3dubG9hZD9zaWduPScgKyBzaWduICsgJyZ0aW1lc3RhbXA9JyArIHRpbWVzdGFtcCArICcmYmRzdG9rZW49JyArIGJkc3Rva2VuICsgJyZjaGFubmVsPScgKyBjaGFubmVsICsgJyZjbGllbnR0eXBlPScgKyBjbGllbnR0eXBlICsgJyZ3ZWI9Jysgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICBlbmNyeXB0OmVuY3J5cHQsCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDpwcm9kdWN0LAogICAgICAgICAgICAgICAgICAgIHVrOnVrLAogICAgICAgICAgICAgICAgICAgIHByaW1hcnlpZDpwcmltYXJ5aWQsCiAgICAgICAgICAgICAgICAgICAgZmlkX2xpc3Q6ZmlkX2xpc3QKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZihzaGFyZVR5cGUgPT0gJ3NlY3JldCcpewogICAgICAgICAgICAgICAgICAgIHBhcmFtcy5leHRyYSA9IGV4dHJhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSB8fCBzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMudHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgICAgIHVybDp1cmwsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIC8v5pyJ6aqM6K+B56CB6L6T5YWl5pe26I635Y+W5LiL6L296ZO+5o6lCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFZDb2RlKHZjb2RlSW5wdXQpewogICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKXsKICAgICAgICAgICAgICAgIGZpZF9saXN0ID0gZ2V0RmlkTGlzdCgpOwogICAgICAgICAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdzaGFyZWRvd25sb2FkP3NpZ249JyArIHNpZ24gKyAnJnRpbWVzdGFtcD0nICsgdGltZXN0YW1wICsgJyZiZHN0b2tlbj0nICsgYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGNoYW5uZWwgKyAnJmNsaWVudHR5cGU9JyArIGNsaWVudHR5cGUgKyAnJndlYj0nKyB3ZWIgKyAnJmFwcF9pZD0nICsgYXBwX2lkICsgJyZsb2dpZD0nICsgbG9naWQ7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICAgIGVuY3J5cHQ6ZW5jcnlwdCwKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OnByb2R1Y3QsCiAgICAgICAgICAgICAgICAgICAgdmNvZGVfaW5wdXQ6dmNvZGVJbnB1dCwKICAgICAgICAgICAgICAgICAgICB2Y29kZV9zdHI6dmNvZGUudmNvZGUsCiAgICAgICAgICAgICAgICAgICAgdWs6dWssCiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeWlkOnByaW1hcnlpZCwKICAgICAgICAgICAgICAgICAgICBmaWRfbGlzdDpmaWRfbGlzdAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGlmKHNoYXJlVHlwZSA9PSAnc2VjcmV0Jyl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmV4dHJhID0gZXh0cmE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxIHx8IHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEgKXsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMudHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgICAgIHVybDp1cmwsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4ZWNEb3dubG9hZChsaW5rKXsKICAgICAgICAgICAgc2xvZygn5LiL6L296ZO+5o6l77yaJytsaW5rKTsKICAgICAgICAgICAgJCgnI2hlbHBlcmRvd25sb2FkaWZyYW1lJykuYXR0cignc3JjJyxsaW5rKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYmFzZTY0RW5jb2RlKHQpewogICAgICAgIHZhciBhLCByLCBlLCBuLCBpLCBzLCBvID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iOwogICAgICAgIGZvciAoZSA9IHQubGVuZ3RoLHIgPSAwLGEgPSAiIjsgZSA+IHI7ICkgewogICAgICAgICAgICBpZiAobiA9IDI1NSAmIHQuY2hhckNvZGVBdChyKyspLHIgPT0gZSkgewogICAgICAgICAgICAgICAgYSArPSBvLmNoYXJBdChuID4+IDIpOwogICAgICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQpOwogICAgICAgICAgICAgICAgYSArPSAiPT0iOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGkgPSB0LmNoYXJDb2RlQXQocisrKSxyID09IGUpIHsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDMgJiBuKSA8PCA0IHwgKDI0MCAmIGkpID4+IDQpOwogICAgICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMTUgJiBpKSA8PCAyKTsKICAgICAgICAgICAgICAgIGEgKz0gIj0iOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcyA9IHQuY2hhckNvZGVBdChyKyspOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDMgJiBuKSA8PCA0IHwgKDI0MCAmIGkpID4+IDQpOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KCgxNSAmIGkpIDw8IDIgfCAoMTkyICYgcykgPj4gNik7CiAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoNjMgJiBzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGE7CiAgICB9CgogICAgZnVuY3Rpb24gZGV0ZWN0UGFnZSgpewogICAgICAgIHZhciByZWd4ID0gL1tcL10uK1tcL10vZzsKICAgICAgICB2YXIgcGFnZSA9IGxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKHJlZ3gpOwogICAgICAgIHJldHVybiBwYWdlWzBdLnJlcGxhY2UoL1wvL2csJycpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENvb2tpZShlKSB7CiAgICAgICAgdmFyIG8sIHQ7CiAgICAgICAgdmFyIG4gPSBkb2N1bWVudCxjPWRlY29kZVVSSTsKICAgICAgICByZXR1cm4gbi5jb29raWUubGVuZ3RoID4gMCAmJiAobyA9IG4uY29va2llLmluZGV4T2YoZSArICI9IiksLTEgIT0gbykgPyAobyA9IG8gKyBlLmxlbmd0aCArIDEsdCA9IG4uY29va2llLmluZGV4T2YoIjsiLCBvKSwtMSA9PSB0ICYmICh0ID0gbi5jb29raWUubGVuZ3RoKSxjKG4uY29va2llLnN1YnN0cmluZyhvLCB0KSkpIDogIiI7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TG9nSUQoKXsKICAgICAgICB2YXIgbmFtZSA9ICJCQUlEVUlEIjsKICAgICAgICB2YXIgdSA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvfu+8gUAj77+lJeKApuKApiYiOwogICAgICAgIHZhciBkID0gL1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGRl18W15ceDAwLVx4N0ZdL2c7CiAgICAgICAgdmFyIGYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlOwogICAgICAgIGZ1bmN0aW9uIGwoZSl7CiAgICAgICAgICAgIGlmIChlLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgICAgIHZhciBuID0gZS5jaGFyQ29kZUF0KDApOwogICAgICAgICAgICAgICAgcmV0dXJuIDEyOCA+IG4gPyBlIDogMjA0OCA+IG4gPyBmKDE5MiB8IG4gPj4+IDYpICsgZigxMjggfCA2MyAmIG4pIDogZigyMjQgfCBuID4+PiAxMiAmIDE1KSArIGYoMTI4IHwgbiA+Pj4gNiAmIDYzKSArIGYoMTI4IHwgNjMgJiBuKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbiA9IDY1NTM2ICsgMTAyNCAqIChlLmNoYXJDb2RlQXQoMCkgLSA1NTI5NikgKyAoZS5jaGFyQ29kZUF0KDEpIC0gNTYzMjApOwogICAgICAgICAgICByZXR1cm4gZigyNDAgfCBuID4+PiAxOCAmIDcpICsgZigxMjggfCBuID4+PiAxMiAmIDYzKSArIGYoMTI4IHwgbiA+Pj4gNiAmIDYzKSArIGYoMTI4IHwgNjMgJiBuKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZyhlKXsKICAgICAgICAgICAgcmV0dXJuIChlICsgIiIgKyBNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKGQsIGwpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBtKGUpewogICAgICAgICAgICB2YXIgbiA9IFswLCAyLCAxXVtlLmxlbmd0aCAlIDNdOwogICAgICAgICAgICB2YXIgdCA9IGUuY2hhckNvZGVBdCgwKSA8PCAxNiB8IChlLmxlbmd0aCA+IDEgPyBlLmNoYXJDb2RlQXQoMSkgOiAwKSA8PCA4IHwgKGUubGVuZ3RoID4gMiA/IGUuY2hhckNvZGVBdCgyKSA6IDApOwogICAgICAgICAgICB2YXIgbyA9IFt1LmNoYXJBdCh0ID4+PiAxOCksIHUuY2hhckF0KHQgPj4+IDEyICYgNjMpLCBuID49IDIgPyAiPSIgOiB1LmNoYXJBdCh0ID4+PiA2ICYgNjMpLCBuID49IDEgPyAiPSIgOiB1LmNoYXJBdCg2MyAmIHQpXTsKICAgICAgICAgICAgcmV0dXJuIG8uam9pbigiIik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGgoZSl7CiAgICAgICAgICAgIHJldHVybiBlLnJlcGxhY2UoL1tcc1xTXXsxLDN9L2csIG0pOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBwKCl7CiAgICAgICAgICAgIHJldHVybiBoKGcoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSkpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiB3KGUsbil7CiAgICAgICAgICAgIHJldHVybiBuID8gcChTdHJpbmcoZSkpLnJlcGxhY2UoL1srXC9dL2csIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiKyIgPT0gZSA/ICItIiA6ICJfIjsKICAgICAgICAgICAgfSkucmVwbGFjZSgvPS9nLCAiIikgOiBwKFN0cmluZyhlKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB3KGdldENvb2tpZShuYW1lKSk7CiAgICB9CgogICAgZnVuY3Rpb24gRGlhbG9nKCl7CiAgICAgICAgdmFyIGxpbmtMaXN0ID0gW107CiAgICAgICAgdmFyIHNob3dQYXJhbXM7CiAgICAgICAgdmFyIGRpYWxvZyxzaGFkb3c7CiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCl7CiAgICAgICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIHZhciBkaWFsb2dMZWZ0ID0gc2NyZWVuV2lkdGg+ODAwID8gKHNjcmVlbldpZHRoLTgwMCkvMiA6IDA7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZyIgc3R5bGU9IndpZHRoOiA4MDBweDsgdG9wOiAwcHg7IGJvdHRvbTogYXV0bzsgbGVmdDogJytkaWFsb2dMZWZ0KydweDsgcmlnaHQ6IGF1dG87IGRpc3BsYXk6IGhpZGRlbjsgdmlzaWJpbGl0eTogdmlzaWJsZTsgei1pbmRleDogNTI7Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaGVhZGVyID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWhlYWRlciI+PGgzPjxzcGFuIGNsYXNzPSJkaWFsb2ctdGl0bGUiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDo3NDBweDt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3cteDpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PC9zcGFuPjwvaDM+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2NvbnRyb2wgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctY29udHJvbCI+PHNwYW4gY2xhc3M9ImRpYWxvZy1pY29uIGRpYWxvZy1jbG9zZSI+w5c8L3NwYW4+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2JvZHkgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctYm9keSIgc3R5bGU9Im1heC1oZWlnaHQ6NDUwcHg7b3ZlcmZsb3cteTphdXRvO3BhZGRpbmc6MCAyMHB4OyI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3RpcCA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy10aXAiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MjBweDtiYWNrZ3JvdW5kLWNvbG9yOiNmYWYyZDM7Ym9yZGVyLXRvcDogMXB4IHNvbGlkICNjNGRiZmU7Ij48cD48L3A+PC9kaXY+Jyk7CgogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19oZWFkZXIuYXBwZW5kKCRkaWFsb2dfY29udHJvbCkpLmFwcGVuZCgkZGlhbG9nX2JvZHkpOwoKICAgICAgICAgICAgLy92YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJzx0ZXh0YXJlYSBjbGFzcz0iZGlhbG9nLXRleHRhcmVhIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoIj48L3RleHRhcmVhPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19yYWRpb19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctcmFkaW8iIHN0eWxlPSJkaXNwbGF5Om5vbmU7d2lkdGg6NzYwcHg7cGFkZGluZy1sZWZ0OjIwcHg7cGFkZGluZy1yaWdodDoyMHB4Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmFkaW9fbXVsdGkgPSAkKCc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InNob3dtb2RlIiBjaGVja2VkPSJjaGVja2VkIiB2YWx1ZT0ibXVsdGkiPjxzcGFuPuWkmuihjDwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmFkaW9fc2luZ2xlID0gJCgnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzaG93bW9kZSIgdmFsdWU9InNpbmdsZSI+PHNwYW4+5Y2V6KGMPC9zcGFuPicpOwogICAgICAgICAgICAkZGlhbG9nX3JhZGlvX2Rpdi5hcHBlbmQoJGRpYWxvZ19yYWRpb19tdWx0aSkuYXBwZW5kKCRkaWFsb2dfcmFkaW9fc2luZ2xlKTsKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfcmFkaW9fZGl2KTsKICAgICAgICAgICAgJCgnaW5wdXRbdHlwZT1yYWRpb11bbmFtZT1zaG93bW9kZV0nLCRkaWFsb2dfcmFkaW9fZGl2KS5jaGFuZ2UoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgJHRleHRhcmVhID0gJCgnZGl2LmRpYWxvZy1ib2R5IHRleHRhcmVhW25hbWU9ZGlhbG9nLXRleHRhcmVhXScsZGlhbG9nKTsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJHRleHRhcmVhLnZhbCgpOwogICAgICAgICAgICAgICAgaWYodmFsdWUgPT0gJ211bHRpJyl7CiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXHMrL2csJ1xuJyk7CiAgICAgICAgICAgICAgICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywnMzAwcHgnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZih2YWx1ZSA9PSAnc2luZ2xlJyl7CiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXG4rL2csJyAnKTsKICAgICAgICAgICAgICAgICAgICAkdGV4dGFyZWEuY3NzKCdoZWlnaHQnLCcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICR0ZXh0YXJlYS52YWwoY29udGVudCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyICRkaWFsb2dfYnV0dG9uID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2J1dHRvbl9kaXYgPSAkKCc8ZGl2IHN0eWxlPSJkaXNwbGF5OnRhYmxlO21hcmdpbjphdXRvIj48L2Rpdj4nKQogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb3B5X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1jb3B5LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+5aSN5Yi2PC9idXR0b24+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2VkaXRfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWVkaXQtYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj7nvJbovpE8L2J1dHRvbj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZXhpdF9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctZXhpdC1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPumAgOWHujwvYnV0dG9uPicpOwoKICAgICAgICAgICAgJGRpYWxvZ19idXR0b25fZGl2LmFwcGVuZCgkZGlhbG9nX2NvcHlfYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19lZGl0X2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfZXhpdF9idXR0b24pOwogICAgICAgICAgICAkZGlhbG9nX2J1dHRvbi5hcHBlbmQoJGRpYWxvZ19idXR0b25fZGl2KTsKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfYnV0dG9uKTsKCiAgICAgICAgICAgICRkaWFsb2dfY29weV9idXR0b24uY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7CiAgICAgICAgICAgICAgICBpZihzaG93UGFyYW1zLnR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LmRvd25sb2FkbGluayA9PSAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbms7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAgY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzaG93UGFyYW1zLnR5cGUgPT0gJ2xpbmsnKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua0xpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudXJsID09ICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aC0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICBjb250ZW50ICsgZWxlbWVudC51cmwgKyAnXG4nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkKGNvbnRlbnQsJ3RleHQnKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCflt7LlsIbpk77mjqXlpI3liLbliLDliarotLTmnb/vvIEnKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLGRpYWxvZyk7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ19pdGVtID0gJCgnZGl2LmRpYWxvZy1ib2R5IGRpdicsZGlhbG9nKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfaXRlbS5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfZWRpdF9idXR0b24uaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ190ZXh0YXJlYS5zaG93KCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX3JhZGlvX2Rpdi5zaG93KCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLnNob3coKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLGRpYWxvZyk7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ19pdGVtID0gJCgnZGl2LmRpYWxvZy1ib2R5IGRpdicsZGlhbG9nKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfdGV4dGFyZWEuaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19yYWRpb19kaXYuaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19pdGVtLnNob3coKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfZXhpdF9idXR0b24uaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19jb3B5X2J1dHRvbi5zaG93KCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLnNob3coKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ190aXApOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaWFsb2dfZGl2KTsKICAgICAgICAgICAgJGRpYWxvZ19kaXYuZGlhbG9nRHJhZygpOwogICAgICAgICAgICAkZGlhbG9nX2NvbnRyb2wuY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgICAgICAgIHJldHVybiAkZGlhbG9nX2RpdjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNoYWRvdygpewogICAgICAgICAgICB2YXIgJHNoYWRvdyA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1zaGFkb3ciIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDBweDsgdG9wOiAwcHg7IHotaW5kZXg6IDUwOyBiYWNrZ3JvdW5kOiByZ2IoMCwgMCwgMCkgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBvcGFjaXR5OiAwLjU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4nKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkc2hhZG93KTsKICAgICAgICAgICAgcmV0dXJuICRzaGFkb3c7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbihwYXJhbXMpewogICAgICAgICAgICBzaG93UGFyYW1zID0gcGFyYW1zOwogICAgICAgICAgICBsaW5rTGlzdCA9IFtdOwogICAgICAgICAgICBpZihwYXJhbXMudHlwZSA9PSAnbGluaycpewogICAgICAgICAgICAgICAgbGlua0xpc3QgPSBwYXJhbXMubGlzdC51cmxzOwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLGRpYWxvZykudGV4dChwYXJhbXMudGl0bGUgKyAi77yaIiArcGFyYW1zLmxpc3QuZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LnVybHMsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2PjxkaXYgc3R5bGU9IndpZHRoOjMwcHg7ZmxvYXQ6bGVmdCI+JytlbGVtZW50LnJhbmsrJzo8L2Rpdj48ZGl2IHN0eWxlPSJ3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicrZWxlbWVudC51cmwrJyI+JytlbGVtZW50LnVybCsnPC9hPjwvZGl2PjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5hcHBlbmQoJGRpdik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKHBhcmFtcy50eXBlID09ICdiYXRjaCcpewogICAgICAgICAgICAgICAgbGlua0xpc3QgPSBwYXJhbXMubGlzdDsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJyxkaWFsb2cpLnRleHQocGFyYW1zLnRpdGxlKTsKICAgICAgICAgICAgICAgIGlmKHBhcmFtcy5zaG93YWxsKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gocGFyYW1zLmxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9kaXYgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lciIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9uYW1lID0gJCgnPGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIgdGl0bGU9IicrZWxlbWVudC5maWxlbmFtZSsnIj4nK2VsZW1lbnQuZmlsZW5hbWUrJzwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fc2VwID0gJCgnPGRpdiBzdHlsZT0id2lkdGg6MTJweDtmbG9hdDpsZWZ0Ij48c3Bhbj7vvJo8L3NwYW4+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9saW5rX2RpdiA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tbGluayIgc3R5bGU9ImZsb2F0OmxlZnQ7d2lkdGg6NjE4cHg7Ij48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX2ZpcnN0ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1maXJzdCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSInK2VsZW1lbnQuZG93bmxvYWRsaW5rKyciPicrZWxlbWVudC5kb3dubG9hZGxpbmsrJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fbGlua19kaXYuYXBwZW5kKCRpdGVtX2ZpcnN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5hbGxsaXN0W2luZGV4XS5saW5rcyxmdW5jdGlvbihuLGl0ZW0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gaXRlbS51cmwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1leCIgc3R5bGU9ImRpc3BsYXk6bm9uZTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJytpdGVtLnVybCsnIj4nK2l0ZW0udXJsKyc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaXRlbV9saW5rX2Rpdi5hcHBlbmQoJGl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX2V4ID0gJCgnPGRpdiBzdHlsZT0id2lkdGg6MTVweDtmbG9hdDpsZWZ0O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxNnB4Ij48c3Bhbj4rPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICAkaXRlbV9kaXYuYXBwZW5kKCRpdGVtX25hbWUpLmFwcGVuZCgkaXRlbV9zZXApLmFwcGVuZCgkaXRlbV9saW5rX2RpdikuYXBwZW5kKCRpdGVtX2V4KTsKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fZXguY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQudG9nZ2xlQ2xhc3MoJ3Nob3dhbGwnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3dhbGwnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KCctJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2Lml0ZW0tbGluayBkaXYuaXRlbS1leCcsJHBhcmVudCkuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJysnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXYuaXRlbS1saW5rIGRpdi5pdGVtLWV4JywkcGFyZW50KS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuYXBwZW5kKCRpdGVtX2Rpdik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gocGFyYW1zLmxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIiB0aXRsZT0iJytlbGVtZW50LmZpbGVuYW1lKyciPicrZWxlbWVudC5maWxlbmFtZSsnPC9kaXY+PHNwYW4+77yaPC9zcGFuPjxhIGhyZWY9IicrZWxlbWVudC5kb3dubG9hZGxpbmsrJyI+JytlbGVtZW50LmRvd25sb2FkbGluaysnPC9hPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihwYXJhbXMudGlwKXsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctdGlwIHAnLGRpYWxvZykudGV4dChwYXJhbXMudGlwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYocGFyYW1zLnNob3djb3B5KXsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJyxkaWFsb2cpLnNob3coKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctY29weS1idXR0b24nLGRpYWxvZykuc2hvdygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHBhcmFtcy5zaG93ZWRpdCl7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWVkaXQtYnV0dG9uJyxkaWFsb2cpLnNob3coKTsKICAgICAgICAgICAgICAgIHZhciAkZGlhbG9nX3RleHRhcmVhID0gJCgnPHRleHRhcmVhIG5hbWU9ImRpYWxvZy10ZXh0YXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTtyZXNpemU6bm9uZTt3aWR0aDo3NThweDtoZWlnaHQ6MzAwcHg7d2hpdGUtc3BhY2U6cHJlO3dvcmQtd3JhcDpub3JtYWw7b3ZlcmZsb3cteDpzY3JvbGwiPjwvdGV4dGFyZWE+Jyk7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgaWYoc2hvd1BhcmFtcy50eXBlID09ICdiYXRjaCcpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluayArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2hvd1BhcmFtcy50eXBlID09ICdsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnVybCA9PSAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAgY29udGVudCArIGVsZW1lbnQudXJsICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRkaWFsb2dfdGV4dGFyZWEudmFsKGNvbnRlbnQpOwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkZGlhbG9nX3RleHRhcmVhKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2hhZG93LnNob3coKTsKICAgICAgICAgICAgZGlhbG9nLnNob3coKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbigpewogICAgICAgICAgICBkaWFsb2dDb250cm9sKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaWFsb2dDb250cm9sKCl7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5jaGlsZHJlbigpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsZGlhbG9nKS50ZXh0KCcnKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy10aXAgcCcsZGlhbG9nKS50ZXh0KCcnKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLXJhZGlvIGlucHV0W3R5cGU9cmFkaW9dW25hbWU9c2hvd21vZGVdW3ZhbHVlPW11bHRpXScsZGlhbG9nKS5wcm9wKCdjaGVja2VkJyx0cnVlKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1yYWRpbycsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctY29weS1idXR0b24nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWVkaXQtYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1leGl0LWJ1dHRvbicsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgICAgICAgIHNoYWRvdy5oaWRlKCk7CiAgICAgICAgfQoKICAgICAgICBkaWFsb2cgPSBjcmVhdGVEaWFsb2coKTsKICAgICAgICBzaGFkb3cgPSBjcmVhdGVTaGFkb3coKTsKICAgIH0KCiAgICBmdW5jdGlvbiBWQ29kZURpYWxvZyhyZWZyZXNoVkNvZGUsY29uZmlybUNsaWNrKXsKICAgICAgICB2YXIgZGlhbG9nLHNoYWRvdzsKICAgICAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2coKXsKICAgICAgICAgICAgdmFyIHNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgICAgICAgdmFyIGRpYWxvZ0xlZnQgPSBzY3JlZW5XaWR0aD41MjAgPyAoc2NyZWVuV2lkdGgtNTIwKS8yIDogMDsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZGl2ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nIiBpZD0iZGlhbG9nLXZjb2RlIiBzdHlsZT0id2lkdGg6NTIwcHg7dG9wOjBweDtib3R0b206YXV0bztsZWZ0OicrZGlhbG9nTGVmdCsncHg7cmlnaHQ6YXV0bztkaXNwbGF5Om5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO3otaW5kZXg6NTIiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19oZWFkZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctaGVhZGVyIj48aDM+PHNwYW4gY2xhc3M9ImRpYWxvZy1oZWFkZXItdGl0bGUiPjxlbSBjbGFzcz0ic2VsZWN0LXRleHQiPuaPkOekujwvZW0+PC9zcGFuPjwvaDM+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2NvbnRyb2wgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctY29udHJvbCI+PHNwYW4gY2xhc3M9ImRpYWxvZy1pY29uIGRpYWxvZy1jbG9zZSBpY29uIGljb24tY2xvc2UiPjxzcGFuIGNsYXNzPSJzaWNvbiI+eDwvc3Bhbj48L3NwYW4+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2JvZHkgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctYm9keSI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2JvZHlfZGl2ID0gJCgnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoyMnB4Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkgPSAkKCc8ZGl2IGNsYXNzPSJkb3dubG9hZC12ZXJpZnkiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7cGFkZGluZzowIDI4cHg7dGV4dC1hbGlnbjpsZWZ0O2ZvbnQtc2l6ZToxMnB4OyI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3ZlcmlmeV9ib2R5ID0gJCgnPGRpdiBjbGFzcz0idmVyaWZ5LWJvZHkiPuivt+i+k+WFpemqjOivgeegge+8mjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19pbnB1dCA9ICQoJzxpbnB1dCBpZD0iZGlhbG9nLWlucHV0IiB0eXBlPSJ0ZXh0IiBzdHlsZT0icGFkZGluZzozcHg7d2lkdGg6ODVweDtoZWlnaHQ6MjNweDtib3JkZXI6MXB4IHNvbGlkICNjNmM2YzY7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IiBjbGFzcz0iaW5wdXQtY29kZSIgbWF4bGVuZ3RoPSI0Ij4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaW1nID0gJCgnPGltZyBpZD0iZGlhbG9nLWltZyIgY2xhc3M9ImltZy1jb2RlIiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IiBhbHQ9IueCueWHu+aNouS4gOW8oCIgc3JjPSIiIHdpZHRoPSIxMDAiIGhlaWdodD0iMzAiPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19yZWZyZXNoID0gJCgnPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsiIGNsYXNzPSJ1bmRlcmxpbmUiPuaNouS4gOW8oDwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZXJyID0gJCgnPGRpdiBpZD0iZGlhbG9nLWVyciIgc3R5bGU9InBhZGRpbmctbGVmdDo4NHB4O2hlaWdodDoxOHB4O2NvbG9yOiNkODAwMDAiIGNsYXNzPSJ2ZXJpZnktZXJyb3IiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19mb290ZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctZm9vdGVyIGctY2xlYXJmaXgiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb25maXJtX2J1dHRvbiA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiBnLWJ1dHRvbi1ibHVlIiBkYXRhLWJ1dHRvbi1pZD0iIiBkYXRhLWJ1dHRvbi1pbmRleCBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MzZweCI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0IiBzdHlsZT0icGFkZGluZy1yaWdodDozNnB4OyI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvOyI+56Gu5a6aPC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2NhbmNlbF9idXR0b24gPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGRhdGEtYnV0dG9uLWlkPSIiIGRhdGEtYnV0dG9uLWluZGV4IGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6IDM2cHg7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OiAzNnB4OyI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPuWPlua2iDwvc3Bhbj48L3NwYW4+PC9hPicpOwoKICAgICAgICAgICAgJGRpYWxvZ19oZWFkZXIuYXBwZW5kKCRkaWFsb2dfY29udHJvbCk7CiAgICAgICAgICAgICRkaWFsb2dfdmVyaWZ5X2JvZHkuYXBwZW5kKCRkaWFsb2dfaW5wdXQpLmFwcGVuZCgkZGlhbG9nX2ltZykuYXBwZW5kKCRkaWFsb2dfcmVmcmVzaCk7CiAgICAgICAgICAgICRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkuYXBwZW5kKCRkaWFsb2dfdmVyaWZ5X2JvZHkpLmFwcGVuZCgkZGlhbG9nX2Vycik7CiAgICAgICAgICAgICRkaWFsb2dfYm9keV9kaXYuYXBwZW5kKCRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkpOwogICAgICAgICAgICAkZGlhbG9nX2JvZHkuYXBwZW5kKCRkaWFsb2dfYm9keV9kaXYpOwogICAgICAgICAgICAkZGlhbG9nX2Zvb3Rlci5hcHBlbmQoJGRpYWxvZ19jb25maXJtX2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfY2FuY2VsX2J1dHRvbik7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2hlYWRlcikuYXBwZW5kKCRkaWFsb2dfYm9keSkuYXBwZW5kKCRkaWFsb2dfZm9vdGVyKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGlhbG9nX2Rpdik7CgogICAgICAgICAgICAkZGlhbG9nX2Rpdi5kaWFsb2dEcmFnKCk7CgogICAgICAgICAgICAkZGlhbG9nX2NvbnRyb2wuY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgICAgICAgICRkaWFsb2dfaW1nLmNsaWNrKHJlZnJlc2hWQ29kZSk7CiAgICAgICAgICAgICRkaWFsb2dfcmVmcmVzaC5jbGljayhyZWZyZXNoVkNvZGUpOwogICAgICAgICAgICAkZGlhbG9nX2lucHV0LmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIGlmKGV2ZW50LndoaWNoID09IDEzKQogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1DbGljaygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJGRpYWxvZ19jb25maXJtX2J1dHRvbi5jbGljayhjb25maXJtQ2xpY2spOwogICAgICAgICAgICAkZGlhbG9nX2NhbmNlbF9idXR0b24uY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgICAgICAgICRkaWFsb2dfaW5wdXQuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgnJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gJGRpYWxvZ19kaXY7CiAgICAgICAgfQogICAgICAgIHRoaXMub3BlbiA9IGZ1bmN0aW9uKHZjb2RlKXsKICAgICAgICAgICAgaWYodmNvZGUpCiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsdmNvZGUuaW1nKTsKICAgICAgICAgICAgZGlhbG9nLnNob3coKTsKICAgICAgICAgICAgc2hhZG93LnNob3coKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRpYWxvZ0NvbnRyb2woKTsKICAgICAgICB9CiAgICAgICAgZGlhbG9nID0gY3JlYXRlRGlhbG9nKCk7CiAgICAgICAgc2hhZG93ID0gJCgnZGl2LmRpYWxvZy1zaGFkb3cnKTsKICAgICAgICBmdW5jdGlvbiBkaWFsb2dDb250cm9sKCl7CiAgICAgICAgICAgICQoJyNkaWFsb2ctaW1nJyxkaWFsb2cpLmF0dHIoJ3NyYycsJycpOwogICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJycpOwogICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgICBzaGFkb3cuaGlkZSgpOwogICAgICAgIH0KICAgIH0KCiAgICAkLmZuLmRpYWxvZ0RyYWcgPSBmdW5jdGlvbigpewogICAgICAgIHZhciBtb3VzZUluaXRYLG1vdXNlSW5pdFksZGlhbG9nSW5pdFgsZGlhbG9nSW5pdFk7CiAgICAgICAgdmFyIHNjcmVlbldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgICB2YXIgJHBhcmVudCA9IHRoaXM7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXInLHRoaXMpLm1vdXNlZG93bihmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgIG1vdXNlSW5pdFggPSBwYXJzZUludChldmVudC5wYWdlWCk7CiAgICAgICAgICAgIG1vdXNlSW5pdFkgPSBwYXJzZUludChldmVudC5wYWdlWSk7CiAgICAgICAgICAgIGRpYWxvZ0luaXRYID0gcGFyc2VJbnQoJHBhcmVudC5jc3MoJ2xlZnQnKS5yZXBsYWNlKCdweCcsJycpKTsKICAgICAgICAgICAgZGlhbG9nSW5pdFkgPSBwYXJzZUludCgkcGFyZW50LmNzcygndG9wJykucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgICQodGhpcykubW91c2Vtb3ZlKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIHZhciB0ZW1wWCA9IGRpYWxvZ0luaXRYICsgcGFyc2VJbnQoZXZlbnQucGFnZVgpIC0gbW91c2VJbml0WDsKICAgICAgICAgICAgICAgIHZhciB0ZW1wWSA9IGRpYWxvZ0luaXRZICsgcGFyc2VJbnQoZXZlbnQucGFnZVkpIC0gbW91c2VJbml0WTsKICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHBhcnNlSW50KCRwYXJlbnQuY3NzKCd3aWR0aCcpLnJlcGxhY2UoJ3B4JywnJykpOwogICAgICAgICAgICAgICAgdGVtcFggPSB0ZW1wWDwwID8gMCA6IHRlbXBYPnNjcmVlbldpZHRoLXdpZHRoID8gc2NyZWVuV2lkdGgtd2lkdGggOiB0ZW1wWDsKICAgICAgICAgICAgICAgIHRlbXBZID0gdGVtcFk8MCA/IDAgOiB0ZW1wWTsKICAgICAgICAgICAgICAgICRwYXJlbnQuY3NzKCdsZWZ0Jyx0ZW1wWCsncHgnKS5jc3MoJ3RvcCcsdGVtcFkrJ3B4Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyJyx0aGlzKS5tb3VzZXVwKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgJCh0aGlzKS51bmJpbmQoJ21vdXNlbW92ZScpOwogICAgICAgIH0pOwogICAgfQoKfSkoKTsKCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBlcnJtc2dfMT0n5rWP6KeI5ZmobmF2aWdhdG9y5bGe5oCn5L+u5pS55aSx6LSl77yM6Ieq5Yqo5bCd6K+V5pa55qGIMuOAgic7CiAgICB2YXIgZXJybXNnXzI9J+aXoOazleS/ruaUuea1j+iniOWZqG5hdmlnYXRvcu+8jOi/meWwhuW9seWTjeWxj+iUveWKn+iDveOAgic7CiAgICB0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvciwncGxhdGZvcm0nLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJ0FuZHJvaWQnO319KTt9Y2F0Y2goZSl7fQogICAgY2hlY2tOYXYoKTsKICAgIGNsZWFyUGFnZSgpOwoKICAgIGZ1bmN0aW9uIGNoZWNrTmF2KCl7CiAgICAgICAgaWYobmF2aWdhdG9yLnBsYXRmb3JtIT0nQW5kcm9pZCcpey8vCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm1zZ18xKTsKICAgICAgICAgICAgdHJ5e25hdmlnYXRvci5fX2RlZmluZUdldHRlcl9fKCdwbGF0Zm9ybScsZnVuY3Rpb24oKXtyZXR1cm4gJ0FuZHJvaWQnO30pO31jYXRjaChlKXt9CiAgICAgICAgICAgIGlmKG5hdmlnYXRvci5wbGF0Zm9ybSE9J0FuZHJvaWQnKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm1zZ18yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjbGVhclBhZ2UoKXsKICAgICAgICB2YXIgY2xlYXJjc3MgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICBjbGVhcmNzcy5pbm5lckhUTUwgPSAiLmFwcERvd25sb2FkLC5uby1yZXN1bHQtZmlsZS10d29jb2RlLC5iYW5uZXItYWN0aXZlLC53ZWxjb21lLW1hc2ssLndlbGNvbWUtYm94LC51c2VyLWxldmVsLC5zaWRlLWxhbGxkb3dubG9hZCwudmlwLW5vdGljZSwudmlwLXByaXZpbGVnZSwuYXBwLWNlbnRlciwuYXBwLWRvd25sb2FkLC5jb3Vwb24tYmFubmVyLWFjdGl2ZSwjd2ViLXJpZ2h0LXZpZXcsLmFkLXBsYXRmb3JtLXRpcHMsLnVuaW9uLWhvdCwuc2ljb24+ZW17ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7d2lkdGg6MHB4O2hlaWdodDowcHg7fSI7ICAKICAgICAgICBjbGVhcmNzcy5pbm5lckhUTUwgKz0gIi5zaGFyZS1wZXJzb24tdXNlcm5hbWV7aGVpZ2h0OjE3cHggIWltcG9ydGFudDt9IjsgCiAgICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoY2xlYXJjc3MpOwogICAgfQoKICAgIC8vdW5zYWZlV2luZG93Lm9ubG9hZD1pbml0RWRpdEVsZW1lbnQoKTsKICAgIC8vd2luZG93LnNldFRpbWVvdXQoaW5pdEVkaXRFbGVtZW50LDQwMDApOwogICAgLy9pbml0RWRpdEVsZW1lbnQoKTsKCiAgICBmdW5jdGlvbiBpbml0RWRpdEVsZW1lbnQoKXsKICAgICAgICB2YXIgaW5zY3JpcHQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgaW5zY3JpcHQuaW5uZXJIVE1MID0idmFyIHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO3dpbmRvdy5vbmxvYWQ9c2V0VGltZW91dChFZGl0RWxlbWVudCgpLDYwMDApO2Z1bmN0aW9uIEVkaXRFbGVtZW50KCl7aWYoKHBhdGhuYW1lLmluZGV4T2YoJy9zLycpPi0xfHxwYXRobmFtZS5pbmRleE9mKCcvc2hhcmUvJyk+LTEpJiZ5dW5EYXRhLkZJTEVJTkZPKXt2YXIgcmV0PScnO2lmKHl1bkRhdGEuRklMRUlORk9bMF0ubWQ1KXtyZXQrPSdtZDU6ICcreXVuRGF0YS5GSUxFSU5GT1swXS5tZDV9ZWxzZXtjb25zb2xlLmxvZygn5peg5rOV6I635Y+W5YiG5Lqr5paH5Lu255qEbWQ1Jyl9JCgnLmZpbGUtbmFtZScpLmh0bWwocmV0KX1lbHNle2NvbnNvbGUubG9nKCfml6Dms5Xojrflj5bliIbkuqvmlofku7bnmoRpbmZvJyl9fSI7CiAgICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaW5zY3JpcHQpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB3aW5kb3cub25sb2FkPUVkaXRFbGVtZW50KCk7CiAgICAgICAgZnVuY3Rpb24gRWRpdEVsZW1lbnQoKXsKICAgICAgICAgICAgaWYoKHBhdGhuYW1lLmluZGV4T2YoJy9zLycpPi0xfHxwYXRobmFtZS5pbmRleE9mKCcvc2hhcmUvJyk+LTEpJiZ3aW5kb3cueXVuRGF0YS5GSUxFSU5GTyl7CiAgICAgICAgICAgICAgICB2YXIgJCA9ICQgfHwgdW5zYWZlV2luZG93LiQ7CiAgICAgICAgICAgICAgICB2YXIgcmV0PScnOwogICAgICAgICAgICAgICAgaWYod2luZG93Lnl1bkRhdGEuRklMRUlORk9bMF0ubWQ1KXsKICAgICAgICAgICAgICAgICAgICByZXQrPSdtZDU6ICcreXVuRGF0YS5GSUxFSU5GT1swXS5tZDU7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5peg5rOV6I635Y+W5YiG5Lqr5paH5Lu255qEbWQ1Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkKCcuZmlsZS1uYW1lJykuaHRtbChyZXQpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfml6Dms5Xojrflj5bliIbkuqvmlofku7bnmoRpbmZvJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0pKCk7"},{"name":"极速无缝解析VIP视频","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://v.youku.com/v_show/*","*://*.iqiyi.com/v_*","*://*.iqiyi.com/dianying/*","*://*.le.com/ptv/vplay/*","*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://*.tudou.com/listplay/*","*://*.tudou.com/albumplay/*","*://*.tudou.com/programs/view/*","*://*.mgtv.com/b/*","*://film.sohu.com/album/*","*://*.acfun.cn/v/*","*://*.bilibili.com/video/*","*://*.bilibili.com/anime/*","*://vip.pptv.com/show/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.wasu.cn/Play/show/*","*://miaomiaoai.cn/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278855998},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/29738-%E6%9E%81%E9%80%9F%E6%97%A0%E7%BC%9D%E8%A7%A3%E6%9E%90vip%E8%A7%86%E9%A2%91/code/%E6%9E%81%E9%80%9F%E6%97%A0%E7%BC%9D%E8%A7%A3%E6%9E%90VIP%E8%A7%86%E9%A2%91.user.js","uuid":"8bb45f9b-de02-4ac8-a4de-749ce454fb02","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDmnoHpgJ/ml6DnvJ3op6PmnpBWSVDop4bpopEKLy8gQG5hbWVzcGFjZSAgICBtaWFvbWlhb2FpLmNuCi8vIEB2ZXJzaW9uICAgICAgMi43LjUzCi8vIEBkZXNjcmlwdGlvbiAg5pyA5paw5peg57yd6Kej5p6Q5ZCE5aSn572R56uZVklQ5Zyo57q/6KeG6aKR77yM5pSv5oyB5ZCE5aSn6KeG6aKR572R56uZ77yMVUnmm7TliqDnvo7op4LvvIzmk43kvZzmm7TliqDkvr/mjbcKLy8gQGF1dGhvciAgICAgICDkv67mlLk65LiA57Gz6Ziz5YWJCi8vIEBtYXRjaCAgICAgICAgKjovL3YueW91a3UuY29tL3Zfc2hvdy8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouaXFpeWkuY29tL3ZfKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmlxaXlpLmNvbS9kaWFueWluZy8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoubGUuY29tL3B0di92cGxheS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3YucXEuY29tL3gvY292ZXIvKgovLyBAbWF0Y2ggICAgICAgICo6Ly92LnFxLmNvbS94L3BhZ2UvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnR1ZG91LmNvbS9saXN0cGxheS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoudHVkb3UuY29tL2FsYnVtcGxheS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoudHVkb3UuY29tL3Byb2dyYW1zL3ZpZXcvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLm1ndHYuY29tL2IvKgovLyBAbWF0Y2ggICAgICAgICo6Ly9maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5hY2Z1bi5jbi92LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5iaWxpYmlsaS5jb20vdmlkZW8vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmJpbGliaWxpLmNvbS9hbmltZS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3ZpcC5wcHR2LmNvbS9zaG93LyoKLy8gQG1hdGNoICAgICAgICAqOi8vdi55aW55dWV0YWkuY29tL3ZpZGVvLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdi55aW55dWV0YWkuY29tL3BsYXlsaXN0LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi53YXN1LmNuL1BsYXkvc2hvdy8qCi8vIEBtYXRjaCAgICAgICAgKjovL21pYW9taWFvYWkuY24vKgovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uYm9vdGNzcy5jb20vanF1ZXJ5LzEuOC4zL2pxdWVyeS5taW4uanMKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgY3VyUGxheVNpdGUgPSAnJzsKICAgIHZhciBjdXJXb3JkcyA9ICcnOwogICAgdmFyIHZpZGVvU2l0ZSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgdmFyIHJlWWsgPSAveW91a3UvaTsKICAgIHZhciByZUFxeSA9IC9pcWl5aS9pOwogICAgdmFyIHJlTFMgPSAvbGUvaTsKICAgIHZhciByZVRYID0gL3FxL2k7CiAgICB2YXIgcmVURCA9IC90dWRvdS9pOwogICAgdmFyIHJlTUcgPSAvbWd0di9pOwogICAgdmFyIHJlU0ggPSAvc29odS9pOwogICAgdmFyIHJlQUYgPSAvYWNmdW4vaTsKICAgIHZhciByZUJMID0gL2JpbGliaWxpL2k7CiAgICB2YXIgcmVZSiA9IC8xOTA1L2k7CiAgICB2YXIgcmVQUCA9IC9wcHR2L2k7CiAgICB2YXIgcmVZWVQgPSAveWlueXVldGFpL2k7CiAgICB2YXIgcmVtaWFvbWlhb2FpID0gL21pYW9taWFvYWkvaTsKICAgIHZhciB2aXBCdG4gPSAnPGEgaWQ9Im1pYW9taWFvYWlCdG4iIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjpyZWQ7cGFkZGluZzowIDVweDtib3JkZXI6MXB4IHNvbGlkIHJlZDsiPlZJUOino+aekDwvYT4nOwogICAgdmFyIG1TZWFyY2hCdG4gPSAnJzsKICAgIC8vIOS8mOmFtwogICAgaWYocmVZay50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciB5b3VrdVRpdGxlID0gJCgnI3N1YnRpdGxlJyk7CiAgICAgICAgeW91a3VUaXRsZS5wYXJlbnQoJy50aXRsZScpLmFmdGVyKG1TZWFyY2hCdG4pLmFmdGVyKHZpcEJ0bik7CiAgICAgICAgJCgnI21pYW9taWFvYWlCdG4nKS5jc3Moeydmb250LXNpemUnOicxN3B4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzIycHgnLCdsaW5lLWhlaWdodCc6JzIycHgnLCdtYXJnaW4nOicwIDVweCcsJ3ZlcnRpY2FsLWFsaWduJzonYm90dG9tJ30pOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTdweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMnB4JywnbGluZS1oZWlnaHQnOicyMnB4JywnbWFyZ2luJzonMCA1cHgnLCd2ZXJ0aWNhbC1hbGlnbic6J2JvdHRvbSd9KTsKICAgICAgIAljdXJXb3JkcyA9ICQoJy50dmluZm8nKS5maW5kKCdoMycpLmVxKDApLnRleHQoKTsKICAgICAgICAkKCcjbWlhb21pYW9haVNlYXJjaEJ0bicpLmF0dHIoJ2hyZWYnLCcvL3NoYW5nLnFxLmNvbS93cGEvcXVud3BhP2lka2V5PTMzOGVlNjJhMDYyNDg5NWMyYjFkMmM4MDQ2YmNhM2UwMTA4ZDNlNzBkNTJiYzBlNDdlM2YwMjA2ZTI3ZTRmYzAnICk7CiAgICB9CiAgICAvLyDniLHlpYfoiboKICAgIGlmKHJlQXF5LnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIGlxaXlpVGl0bGUgPSAkKCcjd2lkZ2V0LXZpZGVvdGl0bGUnKTsKICAgICAgICBpcWl5aVRpdGxlLnBhcmVudCgnLm1vZC1wbGF5LXRpdCcpLmFwcGVuZCh2aXBCdG4pLmFwcGVuZChtU2VhcmNoQnRuKTsKICAgICAgICAkKCcjbWlhb21pYW9haUJ0bicpLmNzcyh7J2ZvbnQtc2l6ZSc6JzE3cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMjRweCcsJ2xpbmUtaGVpZ2h0JzonMjRweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTdweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyNHB4JywnbGluZS1oZWlnaHQnOicyNHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgaWYoJCgnI2RyYW1hLXNlcmllcy10aXRsZScpLmxlbmd0aCAhPT0gMCl7CiAgICAgICAgIGN1cldvcmRzID0gJCgnI2RyYW1hLXNlcmllcy10aXRsZScpLmZpbmQoJ2EnKS50ZXh0KCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgIGN1cldvcmRzID0gaXFpeWlUaXRsZS50ZXh0KCk7CiAgICAgICAgfQogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuYXR0cignaHJlZicsJy8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9MzM4ZWU2MmEwNjI0ODk1YzJiMWQyYzgwNDZiY2EzZTAxMDhkM2U3MGQ1MmJjMGU0N2UzZjAyMDZlMjdlNGZjMCcgKTsKCiAgICB9CiAgICAvLyDkuZDop4YKICAgIGlmKHJlTFMudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgbHNUaXRsZSA9ICQoJy5qLXZpZGVvLW5hbWUnKTsKICAgICAgICBsc1RpdGxlLmFmdGVyKG1TZWFyY2hCdG4pLmFmdGVyKHZpcEJ0bik7CiAgICAgICAgbHNUaXRsZS5jc3MoJ2Zsb2F0JywnbGVmdCcpOwogICAgICAgICQoJyNtaWFvbWlhb2FpQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMHB4JywnbGluZS1oZWlnaHQnOicyMHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI21pYW9taWFvYWlTZWFyY2hCdG4nKS5jc3Moeydmb250LXNpemUnOicxNnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzIwcHgnLCdsaW5lLWhlaWdodCc6JzIwcHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgICAgIAlpZigkKCcuSW5mbycpLmZpbmQoJy50aXRsZScpLmZpbmQoJ2gzJykubGVuZ3RoICE9PSAwKXsKICAgICAgICAJY3VyV29yZHMgPSAkKCcuSW5mbycpLmZpbmQoJy50aXRsZScpLmZpbmQoJ2gzJykudGV4dCgpOwogICAgICAgIH1lbHNlewogICAgICAgIAljdXJXb3JkcyA9IGxzVGl0bGUudGV4dCgpOwogICAgICAgIH0KICAgICAgICAkKCcjbWlhb21pYW9haVNlYXJjaEJ0bicpLmF0dHIoJ2hyZWYnLCcvL3NoYW5nLnFxLmNvbS93cGEvcXVud3BhP2lka2V5PTMzOGVlNjJhMDYyNDg5NWMyYjFkMmM4MDQ2YmNhM2UwMTA4ZDNlNzBkNTJiYzBlNDdlM2YwMjA2ZTI3ZTRmYzAnICk7CiAgICB9CiAgICAvLyDohb7orq8KICAgIGlmKHJlVFgudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgcXFUaXRsZSA9ICQoJy52aWRlb190aXRsZScpOwogICAgICAgIHFxVGl0bGUuZXEoMCkuYWZ0ZXIobVNlYXJjaEJ0bikuYWZ0ZXIodmlwQnRuKTsKICAgICAgICAkKCcjbWlhb21pYW9haUJ0bicpLmNzcyh7J2ZvbnQtc2l6ZSc6JzI0cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzZweCcsJ2xpbmUtaGVpZ2h0JzonMzZweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMjRweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgaWYoJCgnLnBsYXllcl90aXRsZScpLmxlbmd0aCAhPT0gMCAmJiAkKCcucGxheWVyX3RpdGxlJykuZmluZCgnYScpLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgCWN1cldvcmRzID0gJCgnLnBsYXllcl90aXRsZScpLnRleHQoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAJY3VyV29yZHMgPSAkKCcuX2Jhc2VfdGl0bGUnKS50ZXh0KCk7CiAgICAgICAgfQogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuYXR0cignaHJlZicsJy8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9MzM4ZWU2MmEwNjI0ODk1YzJiMWQyYzgwNDZiY2EzZTAxMDhkM2U3MGQ1MmJjMGU0N2UzZjAyMDZlMjdlNGZjMCcgKTsKICAgIH0KICAgIC8vIOWcn+ixhgogICAgaWYocmVURC50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciB0ZFRpdGxlID0gJCgnI3ZpZGVvS3cnKTsKICAgICAgICB0ZFRpdGxlLnBhcmVudCgnLmZpeCcpLmFwcGVuZCh2aXBCdG4pOwogICAgICAgICQoJyNtaWFvbWlhb2FpQnRuJykuY3NzKHsnZm9udC1zaXplJzonMThweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMnB4JywnbGluZS1oZWlnaHQnOicyMnB4JywnbWFyZ2luJzonMTRweCA1cHggMCd9KTsKICAgIH0KICAgIC8vIOiKkuaenAogICAgaWYocmVNRy50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciBtZ1RpdGxlID0gJCgnLnYtcGFuZWwtdGl0bGUnKTsKICAgICAgICBtZ1RpdGxlLmFmdGVyKG1TZWFyY2hCdG4pLmFmdGVyKHZpcEJ0bik7CiAgICAgICAgbWdUaXRsZS5jc3MoeydmbG9hdCc6J2xlZnQnLCdtYXJnaW4tcmlnaHQnOicwJ30pOwogICAgICAgICQoJyNtaWFvbWlhb2FpQnRuJykuY3NzKHsnZm9udC1zaXplJzonMjJweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOic0MHB4JywnbGluZS1oZWlnaHQnOic0MHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI21pYW9taWFvYWlTZWFyY2hCdG4nKS5jc3Moeydmb250LXNpemUnOicyMnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzQwcHgnLCdsaW5lLWhlaWdodCc6JzQwcHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgIAljdXJXb3JkcyA9IG1nVGl0bGUudGV4dCgpOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuYXR0cignaHJlZicsJy8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9MzM4ZWU2MmEwNjI0ODk1YzJiMWQyYzgwNDZiY2EzZTAxMDhkM2U3MGQ1MmJjMGU0N2UzZjAyMDZlMjdlNGZjMCcgKTsKICAgIH0KICAgIC8vIOaQnOeLkAogICAgaWYocmVTSC50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciBzaFRpdGxlID0gJCgnLnBsYXllci10b3AtaW5mby1uYW1lJyk7CiAgICAgICAgc2hUaXRsZS5hcHBlbmQodmlwQnRuKS5hcHBlbmQobVNlYXJjaEJ0bik7CiAgICAgICAgc2hUaXRsZS5maW5kKCdoMicpLmNzcyh7J2Zsb2F0JzonbGVmdCd9KTsKICAgICAgICAkKCcjbWlhb21pYW9haUJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzZweCcsJ2xpbmUtaGVpZ2h0JzonMzZweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuY3NzKHsnZm9udC13ZWlnaHQnOidib2xkJywnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgY3VyV29yZHMgPSBzaFRpdGxlLmZpbmQoJ2gyJykudGV4dCgpOwogICAgICAgICQoJyNtaWFvbWlhb2FpU2VhcmNoQnRuJykuYXR0cignaHJlZicsJy8vc2hhbmcucXEuY29tL3dwYS9xdW53cGE/aWRrZXk9MzM4ZWU2MmEwNjI0ODk1YzJiMWQyYzgwNDZiY2EzZTAxMDhkM2U3MGQ1MmJjMGU0N2UzZjAyMDZlMjdlNGZjMCcgKTsKICAgIH0KICAgIC8vIGFjZnVuCiAgICBpZihyZUFGLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIGFjVGl0bGUgPSAkKCcuaGVhZCcpLmZpbmQoJy50aXRsZScpOwogICAgICAgIGFjVGl0bGUuYXBwZW5kKHZpcEJ0bik7CiAgICAgICAgJCgnI21pYW9taWFvYWlCdG4nKS5jc3Moeydmb250LXdlaWdodCc6J2JvbGQnLCdmb250LXNpemUnOicxNnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzIwcHgnLCdsaW5lLWhlaWdodCc6JzIwcHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgIH0KICAgIC8vIGJpbGliaWxpCiAgICBpZihyZUJMLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIGJpbGlUaXRsZSA9ICQoJy52LXRpdGxlJykuZmluZCgnaDEnKTsKICAgICAgICBiaWxpVGl0bGUuYWZ0ZXIodmlwQnRuKTsKICAgICAgICBiaWxpVGl0bGUuY3NzKHsnZmxvYXQnOidsZWZ0JywnbWFyZ2luLXJpZ2h0JzonMCd9KTsKICAgICAgICAkKCcjbWlhb21pYW9haUJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzZweCcsJ2xpbmUtaGVpZ2h0JzonMzZweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgfQogICAgLy8gcHB0dgogICAgaWYocmVQUC50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciBwcHR2VGl0bGUgPSAkKCcudGl0bGVfdmlkZW8nKS5maW5kKCdoMycpOwogICAgICAgIHBwdHZUaXRsZS5hZnRlcihtU2VhcmNoQnRuKS5hZnRlcih2aXBCdG4pOwogICAgICAgICQoJyNtaWFvbWlhb2FpQnRuJykuY3NzKHsnZm9udC13ZWlnaHQnOidib2xkJywnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI21pYW9taWFvYWlTZWFyY2hCdG4nKS5jc3Moeydmb250LXdlaWdodCc6J2JvbGQnLCdmb250LXNpemUnOicxNnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzM2cHgnLCdsaW5lLWhlaWdodCc6JzM2cHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgICAgICBjdXJXb3JkcyA9IHBwdHZUaXRsZS50ZXh0KCk7CiAgICAgICAgJCgnI21pYW9taWFvYWlTZWFyY2hCdG4nKS5hdHRyKCdocmVmJywnLy9zaGFuZy5xcS5jb20vd3BhL3F1bndwYT9pZGtleT0zMzhlZTYyYTA2MjQ4OTVjMmIxZDJjODA0NmJjYTNlMDEwOGQzZTcwZDUyYmMwZTQ3ZTNmMDIwNmUyN2U0ZmMwJyApOwogICAgfQogICAgLy8g6Z+z5oKm5Y+wCiAgICBpZihyZVlZVC50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciB5eXRUaXRsZSA9ICQoJy52aWRlb05hbWUnKTsKICAgICAgICB5eXRUaXRsZS5hcHBlbmQodmlwQnRuKTsKICAgICAgICAkKCcjbWlhb21pYW9haUJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE0cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzJweCcsJ2xpbmUtaGVpZ2h0JzonMzJweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgfQogICAgJCgnI21pYW9taWFvYWlCdG4nKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7CiAgICAgICAgY3VyUGxheVNpdGUgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwOi8vbWlhb21pYW9haS5jbi92aXAvcGxheS5odG1sP3VybD0nICsgY3VyUGxheVNpdGU7CiAgICB9KTsKfSkoKTs="},{"name":"bye-flash-hello-html5 | 再见flash 你好html5","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["*://*.le.com/*","*://*.iqiyi.com/*html*","*://v.qq.com/*","*://*.cctv.com/*","*://www.mgtv.com/*/*.html*","*://zt.mgtv.com/act/*","*://www.mgtv.com/news","*://www.mgtv.com/live","*://live.mgtv.com*","*://*.icourse163.org/*","*://open.163.com/movie*","*://study.163.com/course/courseLearn*","*://mooc.study.163.com/learn/*","*://live.bilibili.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856001},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/30879-bye-flash-hello-html5-%E5%86%8D%E8%A7%81flash-%E4%BD%A0%E5%A5%BDhtml5/code/bye-flash-hello-html5%20%7C%20%E5%86%8D%E8%A7%81flash%20%E4%BD%A0%E5%A5%BDhtml5.user.js","uuid":"9d1c824f-0876-43b4-8993-dc30c6609c4c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGJ5ZS1mbGFzaC1oZWxsby1odG1sNSB8IOWGjeingWZsYXNoIOS9oOWlvWh0bWw1Ci8vIEBuYW1lc3BhY2UgICBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3VzZXJzLzEzMTk2NS1sZXZpbml0Ci8vIEBhdXRob3IgICAgICBsZXZpbml0Ci8vIEBkZXNjcmlwdGlvbiDlm73lhoXkuLvmtYHop4bpopHnvZHnq5nnmoRIVE1MNeaSreaUvgovLyBAaW5jbHVkZSAgICAgKjovLyoubGUuY29tLyoKLy8gQGluY2x1ZGUgICAgICo6Ly8qLmlxaXlpLmNvbS8qaHRtbCoKLy8gQGluY2x1ZGUgICAgICo6Ly92LnFxLmNvbS8qCi8vIEBpbmNsdWRlICAgICAqOi8vKi5jY3R2LmNvbS8qCi8vIEBpbmNsdWRlICAgICAqOi8vd3d3Lm1ndHYuY29tLyovKi5odG1sKgovLyBAaW5jbHVkZSAgICAgKjovL3p0Lm1ndHYuY29tL2FjdC8qCi8vIEBpbmNsdWRlICAgICAqOi8vd3d3Lm1ndHYuY29tL25ld3MKLy8gQGluY2x1ZGUgICAgICo6Ly93d3cubWd0di5jb20vbGl2ZQovLyBAaW5jbHVkZSAgICAgKjovL2xpdmUubWd0di5jb20qCi8vIEBpbmNsdWRlICAgICAqOi8vKi5pY291cnNlMTYzLm9yZy8qCi8vIEBpbmNsdWRlICAgICAqOi8vb3Blbi4xNjMuY29tL21vdmllKgovLyBAaW5jbHVkZSAgICAgKjovL3N0dWR5LjE2My5jb20vY291cnNlL2NvdXJzZUxlYXJuKgovLyBAaW5jbHVkZSAgICAgKjovL21vb2Muc3R1ZHkuMTYzLmNvbS9sZWFybi8qCi8vIEBpbmNsdWRlICAgICAqOi8vbGl2ZS5iaWxpYmlsaS5jb20vKgovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHZlcnNpb24gICAgIDEuNwovLyBAZ3JhbnQgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KLy8ndXNlIHN0cmljdCc7CnZhciB1YSA9IG51bGw7ICAvL3VzZXItYWdlbnTlj5blgLwKdmFyIGlzUGhvbmUgPSBmYWxzZTsgIC8v5piv5ZCm5L2/55So56e75YqodWEKdmFyIGVsZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7ICAvL+iOt+WPluWFg+e0oOWvueixoeeahOWHveaVsAogICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7Cn07CnZhciBjaGFuZ2VVQSA9IGZ1bmN0aW9uICh1YSkgeyAvL+abtOaUuXVh55qE5Ye95pWwCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAndXNlckFnZW50JywgewogICAgICAgIHZhbHVlOiB1YSwKICAgICAgICB3cml0YWJsZTogZmFsc2UsCiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlCiAgICB9KTsKfTsKCihmdW5jdGlvbiAoKSB7ICAvL+WIpOaWreenu+WKqHVh55u45YWz5L+h5oGvCiAgICB2YXIgcGhvbmUgPSBbICAvL+i/meS6m+e9keermeS9v+eUqOenu+WKqHVhCiAgICAgICAgJ2NjdHYnLAogICAgICAgICcuMTYzJywKICAgICAgICAnbWd0dicsCiAgICAgICAgJ2lxaXlpJwogICAgXTsKCiAgICBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCdpcWl5aScpID49IDAgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xKSB7CiAgICAgICAgaXNQaG9uZSA9IGZhbHNlOyAgLy/niLHlpYfoibrnmoRodG1sNeS4jeaUr+aMgWZpcmVmb3gKICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaG9uZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKHBob25lW2ldKSA+PSAwKSB7CiAgICAgICAgICAgICAgICBpc1Bob25lID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfSkoKTsKCmlmIChpc1Bob25lKSB7ICAvL+enu+WKqHVh55qE572R56uZCiAgICB1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4wLjQ7IEdULUk5MzAwIEJ1aWxkL0lNTTc2RCkgQXBwbGVXZWJLaXQvNjAxLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzYwMS4xLjQ2JzsKICAgIGNoYW5nZVVBKHVhKTsKfSBlbHNlIHsgIC8v5L2/55SoY2hyb21l44CBbWFj44CBc2FmYXJp562JdWEKICAgIGlmICgobG9jYXRpb24uaG9zdCA9PT0gJ3YucXEuY29tJyB8fCBsb2NhdGlvbi5ob3N0ID09PSAnbGl2ZS5iaWxpYmlsLmNvbScpICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSkgewogICAgICAgIGNvbnNvbGUubG9nKCfmlK/mjIFodG1sNScpOyAgLy9FZGdl55qE6IW+6K6v6KeG6aKR5ZKMYuermeebtOaSreS4jeaUr+aMgWh0bWw1CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignaXFpeWknKSA+PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+aUr+aMgWh0bWw1Jyk7CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZignbGUuY29tJykgPj0gMCkgeyAgLy9sZS5jb23lr7ltYWMrc2FmYXJp5oOF5pyJ54us6ZKfCiAgICAgICAgdWEgPSAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTJfNikgQXBwbGVXZWJLaXQvNjAzLjMuOCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTAuMS4yIFNhZmFyaS82MDMuMy44JzsKICAgICAgICBjaGFuZ2VVQSh1YSk7CiAgICB9IGVsc2UgeyAgLy9jaHJvbWUgdWEKICAgICAgICB1YSA9ICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xMl82KSBBcHBsZVdlYktpdC82MDMuMy44IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYxLjAuMzE2My45MSBTYWZhcmkvNjAzLjMuOCc7CiAgICAgICAgY2hhbmdlVUEodWEpOwogICAgfQp9CgppZiAobG9jYXRpb24uaHJlZi5zZWFyY2goJ29wZW4uMTYzJykgPj0gMCkgeyAgLy/nvZHmmJPlhazlvIDor74KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB2ID0gZWxlKCcudmlkZW8td3JhcHBlciB2aWRlbycpOwogICAgICAgIGVsZSgnYm9keScpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZTRmMGViJzsKICAgICAgICBpZiAoISF2ID09PSB0cnVlKSB7ICAvL+iuvue9ruinhumikeaSreaUvuWMuuWfn+eahOmrmOW6pgogICAgICAgICAgICB2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnaGVpZ2h0OjEwMCUnKTsKICAgICAgICB9CiAgICB9LCAyMzMzKTsKfQoKd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChpc1Bob25lID09PSB0cnVlICYmIChsb2NhdGlvbi5ocmVmLnNlYXJjaCgnc3R1ZHkuMTYzJykgPj0gMCB8fCBsb2NhdGlvbi5ocmVmLnNlYXJjaCgnaXFpeWkuY29tJykgPj0gMCkpIHsKICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZWxlKCd2aWRlbycpOyAgLy/op4bpopHlhYPntKAKICAgICAgICBpZiAoISF2aWRlb0VsZW1lbnQgPT09IHRydWUpIHsKICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnY29udHJvbHMnKTsgIC8v5pi+56S65pKt5pS+5o6n5Yi25p2hCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLnNlYXJjaCgnaXFpeWkuY29tJykgPj0gMCkgewogICAgICAgICAgICAgICAgaXFpeWkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGlxaXlpKCkgeyAgLy/niLHlpYfoibrnmoTnm7jlhbPosIPmlbQKICAgICAgICB2YXIgZGVmYXVsdFByb2Nlc3MgPSBlbGUoJy5wcm9jZXNzLXJlc3BvbnNlJyk7ICAvL+eIseWlh+iJuum7mOiupOeahOi/m+W6puadoQogICAgICAgIHZhciBjb250cm9sMiA9IGVsZSgnLmJvdHRvbScpOyAgLy/mkq3mlL7kuIvkuIDkuKrop4bpopHlkozosIPmlbTnlLvotKjnmoTmjqfliLbmnaEKICAgICAgICBpZiAoISFjb250cm9sMiA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjb250cm9sMi5zdHlsZS5ib3R0b20gPSAnMjVweCc7ICAvL+aSreaUvuS4i+S4gOS4quinhumikeWSjOiwg+aVtOeUu+i0qOeahOaOp+WItuadoeW+gOS4iuaUvgogICAgICAgICAgICBpZiAoISFkZWZhdWx0UHJvY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgZGVmYXVsdFByb2Nlc3Muc3R5bGUuZGlzcGxheSA9ICdub25lJzsgIC8v6K6p6buY6K6k6L+b5bqm5p2h5raI5aSxCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn07Cg=="},{"name":"网盘自动填写密码【威力加强版】","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["http*://*.pcs.baidu.com/*","http*://*.baidupcs.com/*","http*://*:8666/file/*","http*://*.baidu.com/file/*","http*://index.baidu.com/*","http*://*.gov/*","http*://*.gov.cn/*","http*://*.taobao.com/*","http*://*.tmall.com/*","http*://*.alimama.com/*","http*://*.jd.com/*","http://*.zol.com.cn/*","http://*.ctrip.com/*","https://*.evernote.com/*","https://*.yinxiang.com/*","/^https?://(localhost|10\\.|192\\.|127\\.)/","/https?://www.baidu.com/(?:s|baidu)\\?/","http*://www.zhihu.com/question/*/answers/created"],"orig_includes":["http://pan.baidu.com/s/*","http://eyun.baidu.com/s/*","http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"CatPW":"o{\"Src\":\"https://pan.baidu.com/s/1eSIQ15w\",\"Hash\":\"\",\"webSrc\":\"http%3A%2F%2Fwww.zdfans.com%2F7337.html\",\"webTitle\":\"%E8%BF%85%E9%9B%B7%20v9.1.43.938%20%E6%AD%A3%E5%BC%8F%E7%89%88%E5%8E%BB%E5%B9%BF%E5%91%8A%E7%BB%BF%E8%89%B2%E7%BA%AF%E5%87%80%E7%89%88%20%E2%80%93%20zd423\"}"},"ts":1509678155079},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/29762-%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81-%E5%A8%81%E5%8A%9B%E5%8A%A0%E5%BC%BA%E7%89%88/code/%E7%BD%91%E7%9B%98%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E5%AF%86%E7%A0%81%E3%80%90%E5%A8%81%E5%8A%9B%E5%8A%A0%E5%BC%BA%E7%89%88%E3%80%91.user.js","uuid":"ed0fbd5a-ebd9-4078-bb9e-5696465d9cfd","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgCQkJ572R55uY6Ieq5Yqo5aGr5YaZ5a+G56CB44CQ5aiB5Yqb5Yqg5by654mI44CRCi8vIEBkZXNjcmlwdGlvbgkJ572R55uY6Ieq5Yqo5aGr5YaZ5o+Q5Y+W5a+G56CB44CQ5aKe5by654mI44CR55qE5Z+656GA5LiK5aKe5Yqg5L+h5oGv5o+Q5Y+W5Y+K5L+d5a2Y5Yqf6IO944CCCi8vIEBhdXRob3IJCQnmnoHlk4HlsI/njKsKLy8gQG5hbWVzcGFjZSAgIAlodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzMxMjgKLy8gQHZlcnNpb24JCQkzLjIuMAovLyBAZGF0ZQkJCTIwMTUuMTAuMzAKLy8gQG1vZGlmaWVkCQkyMDE3LjA3LjE5Ci8vIAovLyDmlK/mjIHnmoTnvZHnm5gKLy8gQGluY2x1ZGUJCQlodHRwOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQGluY2x1ZGUJCQlodHRwOi8vZXl1bi5iYWlkdS5jb20vcy8qCi8vIEBpbmNsdWRlICAgICAJaHR0cDovLyoKLy8gQGluY2x1ZGUJCQlodHRwczovLyoKLy8gCi8vIOeZveWQjeWNlQovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5wY3MuYmFpZHUuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyouYmFpZHVwY3MuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyo6ODY2Ni9maWxlLyoKLy8gQGV4Y2x1ZGUJCQlodHRwKjovLyouYmFpZHUuY29tL2ZpbGUvKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vaW5kZXguYmFpZHUuY29tLyoKLy8gCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmdvdi8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmdvdi5jbi8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLnRhb2Jhby5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi50bWFsbC5jb20vKgovLyBAZXhjbHVkZQkJCWh0dHAqOi8vKi5hbGltYW1hLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cCo6Ly8qLmpkLmNvbS8qCi8vIEBleGNsdWRlCQkJaHR0cDovLyouem9sLmNvbS5jbi8qCi8vIEBleGNsdWRlCQkJaHR0cDovLyouY3RyaXAuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwczovLyouZXZlcm5vdGUuY29tLyoKLy8gQGV4Y2x1ZGUJCQlodHRwczovLyoueWlueGlhbmcuY29tLyoKLy8gQGV4Y2x1ZGUJCQkvXmh0dHBzPzovLyhsb2NhbGhvc3R8MTBcLnwxOTJcLnwxMjdcLikvCi8vIEBleGNsdWRlCQkJL2h0dHBzPzovL3d3dy5iYWlkdS5jb20vKD86c3xiYWlkdSlcPy8KLy8gQGV4Y2x1ZGUJCQlodHRwKjovL3d3dy56aGlodS5jb20vcXVlc3Rpb24vKi9hbnN3ZXJzL2NyZWF0ZWQKLy8gcmVxdWlyZQkJCWh0dHA6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS40Lm1pbi5qcwovLyBAcmVxdWlyZQkJCWh0dHA6Ly9jZG4uc3RhdGljZmlsZS5vcmcvanF1ZXJ5LzIuMS40L2pxdWVyeS5taW4uanMKLy8gQHN1cHBvcnRVUkwJCWh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8yOTc2Mi9mZWVkYmFjawovLyBAaWNvbgkJCWh0dHBzOi8vZXl1bi5iYWlkdS5jb20vYm94LXN0YXRpYy9wYWdlLWNvbW1vbi9pbWFnZXMvZmF2aWNvbi5pY28KLy8gQGdyYW50CQkJdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgCUdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgCUdNX2dldFZhbHVlCi8vIEBncmFudAkJCUdNX2xpc3RWYWx1ZXMKLy8gQGdyYW50CQkJR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50CQkJR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZW5jb2RpbmcJCXV0Zi04Ci8vIEBydW4tYXQJCQlkb2N1bWVudC1pZGxlCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIHVybHM9bG9jYXRpb24uaHJlZjsKdmFyIGhhc2g9bG9jYXRpb24uaGFzaDsKdmFyIGhvc3Q9bG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZSgvXnd3d1wuL2ksJycpLnRvTG93ZXJDYXNlKCk7CnZhciBwYXRocz1sb2NhdGlvbi5wYXRobmFtZS50b0xvd2VyQ2FzZSgpOwoKLy/lip/og73lvIDlhbMgJiDorr7nva4KdmFyIFN0b3JhZ2VTYXZlPXRydWU7CQkJLy/kv6Hmga/orrDlvZXlip/og73vvIwgbG9jYWxTdG9yYWdlIOiusOW9leWvhueggeW8gOWFs++8jHRydWUg5Li65ZCv55So77yMZmFsc2Ug5Li65YWz6ZetCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3lu7rorq7lvIDlkK/vvIzor6Xlip/og73lj6/lnKjlho3mrKHmiZPlvIDmsqHmnInlr4bnoIHono3lkIjnmoTnvZHnm5jpk77mjqXml7bvvIzku47orrDlvZXkuK3or7vlj5bigJzmj5Dlj5bnoIHigJ3vvIzku47ogIzorqnkvaDlnKjml6Dms5Xmib7lm57mj5Dlj5bnoIHml7borr/pl67nvZHnm5gKCnZhciBTdG9yYWdlRXhwPTc7CQkJCS8vIGxvY2FsU3RvcmFnZSDorrDlvZXlr4bnoIHnmoTmnInmlYjmnJ8KdmFyIG5ld1RhZz10cnVlOwkJCQkvLyDnvZHnm5jpk77mjqXmt7vliqDku6XmlrDpobXpnaLmiZPlvIDlsZ7mgKcKdW5zYWZlV2luZG93LmV2ZSA9IEV2ZW50OwovL0dNX2xpc3RWYWx1ZXMoKTsKLyoKICog5pu05paw5pel5b+XCiAqIDMuMi4wIFsyMDE3LTExLTA4XQogKiAx44CB5L+u5q2j55m+5bqm572R55uY5peg5rOV6Ieq5Yqo5aGr5YaZ5a+G56CB6Zeu6aKY77yI5Lyw6K6h5Li65Y+N6ISa5pys562W55Wl77yJCiAqIAogKiAzLjEuNS4zIFsyMDE3LTEwLTI3XQogKiAx44CBRkYg5L+u5q2j5paw5rWq5Y2a5a6i5bSp5rqD6Zeu6aKYCiAqIAogKiAzLjEuNS4yIFsyMDE3LTA5LTIxXQogKiAx44CB44CQ5pSv5oyB44CRcWl1cXVhbi5jYyDlr4bnoIHono3lkIgKICogCiAqIDMuMS41LjEKICogMeOAgeOAkOeZveWQjeWNleOAkeWinuWKoOS4reWFs+adkee9keermQogKiAy44CB44CQ5L+u5q2j44CR5rKh5pyJ6I635Y+W5Yiw5a+G56CB5pe277yM556O5aGr5YaZ5a+G56CBCiAqIAogKiAzLjEuNQogKiAx44CB44CQ5L+u5q2j44CR5YWz6Zet5L+h5oGv6K6w5b2V5pe277yM5LuN54S25Lya5pi+56S66K6w5b2V55qE5L+h5oGvCiAqIDLjgIHjgJDkv67mraPjgJHlhbPpl63kv6Hmga/orrDlvZXml7bvvIzmj5Dlj5bnoIHml6Dms5Xoh6rliqjmj5DkuqTnmoTpl67popgKICogMy4xLjQKICogMeOAgeOAkOS/ruato+OAkXJlaW11Lm5ldCDnibnmrorono3lkIjlhbzlrrnmgKfpl67popgKICogMuOAgeOAkOS/ruato+OAkeS4jeWFvOWuueS4reaWh+aPkOWPlueggeiHquWKqOWhq+WGmQogKiAz44CB44CQ5L+u5q2j44CR5L+h5oGv6K6w5b2V5rKh5pyJ5o+Q5Y+W56CB55qE6Zeu6aKYCiAqIAogKiAzLjEuMy4xCiAqIDHjgIHjgJDliKDpmaTjgJFzaGFvaXQuY29tIOWvhueggeiejeWQiOWkhOeQhuinhOWImQogKiAKICogMy4xLjMKICogMeOAgeOAkOWinuW8uuOAkeW6puebmOWcqOeCueWHu+aXtuiuvue9ruS4uuaWsOmhtemdouaJk+W8gO+8iOWPr+W8gOWFs++8ie+8jOWPguaVsOWPmOmHj+S4uiBuZXdUYWcKICogMuOAgeOAkOS/ruato+OAkeihqOagvOS4reaPkOWPluWvhueggeS4uuS4i+S4gOihjOihqOagvOeahEJVRwogKiAz44CB44CQ5L+u5q2j44CRZ292LmNu44CBZ29255qE5Z+f5ZCN6buY6K6k5Li655m95ZCN5Y2VCiAqIAogKiAzLjEuMgogKiAx44CB44CQ5aKe5by644CR6Kej5Y6L5a+G56CB5o+Q5Y+W77yM5aKe5Yqg4oCc5Y6L57yp5a+G56CB4oCd5YWz6ZSu5a2XCiAqIDLjgIHjgJDkv67mraPjgJFwYW4uYmFpZHUuY29tIOino+WOi+WvhueggeiOt+WPlumUmeivrwogKiAz44CB44CQ5L+u5q2j44CRRmlyZWZveCDmtY/op4jlmaggR03mj5Lku7Yg55qE5YW85a655oCn6Zeu6aKYCiAqIDTjgIHjgJDkv67mraPjgJHlhbblroPlsI9CVUcKICogCiAqIDMuMS4xLjEKICogMeOAgeeJueauiuaUr+aMgee9keerme+8jOWinuWKoCDlsI/kvJfova/ku7borrrlnZsKICogCiAqIDMuMS4xCiAqIDHjgIHkv67mraPop6Pljovlr4bnoIHlhoXlrrnlpITnkIblr7zoh7Tmj5Dlj5bnoIHmj5Dlj5blpLHmlYhCVUcKICogMuOAgeS/ruato+e9keebmOS/oeaBr+aYvuekukJVRwogKgogKiAzLjEuMAogKiAx44CB5aKe5by65o+Q5Y+W56CB5Yy56YWN6KeE5YiZ77yM5o+Q6auY5Yy56YWN5oiQ5Yqf546HCiAqIDLjgIFsb2NhbFN0b3JhZ2Ug5L+h5oGv6K6w5b2VIOS8oOmAkuaWueW8j+aUueS4uuS9v+eUqCBHTV9zZXRWYWx1ZeOAgUdNX2dldFZhbHVlIEFQSQogKiAz44CB5peg5o+Q5Y+W56CB77yM5L2G5pyJ6Kej5Y6L5a+G56CB77yM5Lmf5bCG6L+b6KGM5L+h5oGv6K6w5b2VCiAqIAogKiAzLjAuMCDvvIjlhoXpg6jmtYvor5XvvIkKICogMeOAgeS9v+eUqCBsb2NhbFN0b3JhZ2Ug6K6w5b2V5a+G56CB562J5L+h5oGv77yM6buY6K6k6K6w5b2VIDcg5aSpCiAqIDLjgIHlop7lvLrigJzop6Pljovlr4bnoIHigJ3mj5Dlj5bop4TliJkKICogM+OAgeaJk+W8gOW3suiusOW9lee9keebmOaXtu+8jOiLpVVSTOS4reaXoOaPkOWPluegge+8jOWPr+S7juiusOW9leS4reivu+WPluaPkOWPlueggQogKiAKICogMi41LjIuMwogKiAx44CBTUFE57Sg5p2Q5bqT77yIbWFkc2NrLmNvbe+8ieWvhueggeiejeWQiOeJueauiuaUr+aMgQogKiAy44CB5L+u5aSNIGh1aHVwYW4uY29tIOeahOWvhueggeiejeWQiOaUr+aMgQogKgogKiAyLjUuMi4yIC0g5pyq5Yig6ZmkCiAqIDHjgIHliKDpmaTnn6XkuY7ot7Povazpk77lpITnkIbku6PnoIEKICogCiAqIDIuNS4zCiAqIDHjgIHmrKHlhYPovajov7nvvIhhY2c0NC5jb23vvInlr4bnoIHono3lkIjlpITnkIYKICogMuOAgeS/ruato+KAnOino+WOi+WvhueggeKAneeahOivr+ivhuWIqwogKiAz44CBQ29va2llIOiusOW9leWvhuegge+8jOS/neWtmDflpKkKICogCiAqIDIuNS4yLjEKICogMeOAgeiur+W9see9ke+8iHh1bnlpbmd3YW5nLmNvbe+8ieWvhueggeiejeWQiOWkhOeQhgogKiAy44CB5oi35oi355uY77yIaHVodXBhbi5jb23vvInlr4bnoIHono3lkIjlpITnkIYKICogCiAqIDIuNS4xCiAqIDHjgIHmroHmvILpgaXvvIhzaGFvaXQuY29t77yJ5a+G56CB6J6N5ZCI5aSE55CG5pS56L+bCiAqIAogKiAyLjUuMAogKiAx44CB5o+Q5Y2H5a+G56CB6J6N5ZCI6IO95YqbCiAqIAogKiAyLjQuMiDjgJAyMDE2LjEwLjA144CRCiAqIDHjgIHmroHmvILpgaXvvIhzaGFvaXQuY29t77yJ5a+G56CB6J6N5ZCI5aSE55CGCiAqIDLjgIFyZWltdS5uZXQg5a+G56CB6J6N5ZCI5aSE55CGCiAqIDPjgIHkv67lpI3igJzot7Povazpk77lpITnkIbigJ3lvbHlk43nmb7luqbkvIHkuJrnm5jml6Dms5Xorr/pl67pl67popgKICogCiAqIDIuNC4xLjIg44CQMjAxNi4wOS4yOOOAkQogKiAx44CB5aKe5YqgIHNpamlodWlzdW8uY2x1YiDnmoTot7Povazpk77lpITnkIYKICogMuOAgeWinuWKoOacrOWcsElQ55m95ZCN5Y2VCiAqIAogKiAyLjQuMS4xIOOAkDIwMTYuMDkuMjHjgJEKICogMeOAgeWinuWKoOaQuueoi+e9keeZveWQjeWNlQogKiAKICogMi40LjEg44CQMjAxNi4wOS4yMeOAkQogKiAx44CB5pSv5oyB5LiA5Lqb54m55q6K572R56uZ55qE5a+G56CB6J6N5ZCI6aKE5aSE55CGCiAqIDLjgIHmlK/mjIHnmb7luqbkvIHkuJrkupHnmoTlr4bnoIHoh6rliqjmj5DkuqTvvIjkvIHkuJrnm5jnmoTlr4bnoIHkuLo0fjE05L2N77yJCiAqIDPjgIHmlK/mjIEgd3d3LjBkYXlrdS5jb20g55qE5o+Q5Y+W56CB5YWz6ZSu5a2X4oCcRXh0cmFjdGVkLWNvZGXigJ0KICogCiAqIDIuMy4zIOOAkDIwMTYuMDguMDjjgJEKICogMeOAgeefpeS5jui3s+i9rOmTvumihOWkhOeQhgogKiAKICogMi4zLjIg44CQMjAxNi4wOC4wNOOAkQogKiAx44CB5oGi5aSN5o+Q5Y+W56CB5Lit55qE4oCc5a+G56CB4oCd5YWz6ZSu5a2X77yI6YCC55So5LqO77ya5b+D5rW3Zeerme+8iQogKiAKICogMi4zLjEg44CQMjAxNi4wOC4wM+OAkQogKiAx44CB5aKe5Yqg5b6u5LqR572R55uY5o+Q5Y+W56CB5pSv5oyB77yI5Yy56YWN6KeE5YiZ5p2l6Ieq5Y6f5L2c6ICFIEppeHVuLk1vZe+8iQogKiAy44CB5L+u5q2j5o+Q5Y+W56CB5YW85a656Zeu6aKYCiAqIDPjgIHkv67mraPph43lpI3mt7vliqDmj5Dlj5bnoIEKICogCiAqIDIuMy4wIOOAkDIwMTYuMDguMDHjgJEKICogMeOAgeenu+mZpOWvuemHkeWxseW/q+ebmOOAgeaWsOa1quS6keebmOeahOaUr+aMgQogKiAy44CB55m+5bqm5LyB5Lia5LqR55uY5LiN6L+95Yqg6aqM6K+B56CBCiAqIDPjgIHlj5fotLTlkKfpobXpnaLot7PovazlvbHlk43vvIzmmoLml7bkuI3mlK/mjIHotLTlkKfnmoTlr4bnoIHmj5Dlj5bvvIzlt7LlsIbotLTlkKfliqDlhaXnmb3lkI3ljZUKICogNOOAgeaPkOWNh+mTvuaOpSblr4bnoIHono3lkIjnmoTmiJDlip/njocJ4oCU4oCUIEEg5qCH562+57uR5a6a5Ye95pWw5pu05pS55Li6IGJvZHkg54K55Ye75LqL5Lu255uR5ZCs77yI5qC55o2u5Y6f5L2c6ICFIEppeHVuLk1vZSDnmoTlu7rorq7vvIkKICogNeOAgeaJvuS4jeWIsOWvhueggeaXtueahOmBjeWOhuaWueW8j+abtOaUue+8iOaEn+iwoiAxMDEzOSAtIG11ZG9vIOeahOW7uuiuru+8iQogKiA244CB5pSv5oyB5a+G56CB5pS+5Zyo5o2i6KGM6KGo5qC85Lit55qE5o+Q5Y+WCiovCgp2YXIgc2l0ZSA9IHsKICAnWXVuRGlzayc6ewogICAgJ3Bhbi5iYWlkdS5jb20nOnsKICAgICAgU2hhcmVJRCA6IGdldFF1ZXJ5U3RyaW5nKCdzaGFyZWlkJyksCiAgICAgIGNoazoJL15bYS16MC05XXs0fSQvLAogICAgICBjb2RlOgknLnBpY2twdyBpbnB1dCwgI2FjY2Vzc0NvZGUnLAogICAgICBidG46CScuZy1idXR0b24sICNzdWJtaXRCdG4sICNnZXRmaWxlQnRuJywKICAgICAgUHJlUHJvY2VzczogZnVuY3Rpb24oKSB7CS8v5bey5aSE55CGCiAgICAgICAgaWYoU3RvcmFnZVNhdmUpewogICAgICAgICAgaWYoR01fZ2V0VmFsdWUoJ0NhdFBXJyk9PSd1bmRlZmluZWQnKSBHTV9zZXRWYWx1ZSgnQ2F0UFcnLHt9KTsJLy/liJ3lp4vljJYKICAgICAgICAgIC8vd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCdzdGF0ZScsICd0aXRsZScsIGhhc2gucmVwbGFjZSgvI2xpc3RcL3BhdGg9LisvaSwnIycpKTsKCiAgICAgICAgICB2YXIgQ2F0UFcsIHl1bkRhdGE9dW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICAgICAgICBpZighbG9jYWxTdG9yYWdlW3l1bkRhdGEuU0hBUkVfSURdKXsKICAgICAgICAgICAgQ2F0UFc9R01fZ2V0VmFsdWUoJ0NhdFBXJyk7CiAgICAgICAgICAgIENhdFBXLlNoYXJlVUs9eXVuRGF0YS5TSEFSRV9VS3x8Z2V0UXVlcnlTdHJpbmcoJ3VrJyk7CQkJLy/ojrflj5Yg5YiG5Lqr55So5oi3SUQKICAgICAgICAgICAgQ2F0UFcuU2hhcmVJRD15dW5EYXRhLlNIQVJFX0lEfHxnZXRRdWVyeVN0cmluZygnc2hhcmVpZCcpOwkJLy/ojrflj5Yg5YiG5Lqr5paH5Lu2SUQKICAgICAgICAgICAgdmFyIFFzdHI9Q2F0UFcuU2hhcmVTdHI9L1NyYz0vaS50ZXN0KGhhc2gpP2hhc2g6bG9jYXRpb24uc2VhcmNoOwkJCQkvL+e9keWdgOWPguaVsOaPkOWPlgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQ2F0UFc9U3RvcmFnZURCKHl1bkRhdGEuU0hBUkVfSUR8fGdldFF1ZXJ5U3RyaW5nKCdzaGFyZWlkJykpLnJlYWQoKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvL+aPkOS6pOWvhueggeWJjQogICAgICAgICAgQ2F0UFcuc0NvZGU9U3RvcmFnZURCKENhdFBXLlNoYXJlSUQpLmZpbmQoJ3NDb2RlJyl8fChHTV9nZXRWYWx1ZSgnQ2F0UFcnKS5IYXNoP0dNX2dldFZhbHVlKCdDYXRQVycpLkhhc2gucmVwbGFjZSgnIycsJycpOi9eIy8udGVzdChoYXNoKSYmIS9eI2xpc3RcL3BhdGg9Ly50ZXN0KGhhc2gpP2hhc2gubWF0Y2goL14jKFteJl0rKSY/LylbMV06JycpOwkJLy/ojrflj5Yg5o+Q5Y+W56CBCiAgICAgICAgICAKICAgICAgICAgIGNvbnNvbGUubG9nKENhdFBXLlNoYXJlSUQsU3RvcmFnZURCKENhdFBXLlNoYXJlSUQpLmZpbmQoJ3NDb2RlJykpCiAgICAgICAgICBDYXRQVy53ZWJTcmM9ZGVjb2RlVVJJQ29tcG9uZW50KGdldFF1ZXJ5U3RyaW5nKCd3ZWJTcmMnLFFzdHIpfHxTdG9yYWdlREIoQ2F0UFcuU2hhcmVJRCkuZmluZCgnd2ViU3JjJyl8fEdNX2dldFZhbHVlKCdDYXRQVycpLndlYlNyYyk7CiAgICAgICAgICBDYXRQVy51blBXPWRlY29kZVVSSUNvbXBvbmVudChnZXRRdWVyeVN0cmluZygndW5QVycsUXN0cil8fChTdG9yYWdlREIoQ2F0UFcuU2hhcmVJRCkuZmluZCgndW5QVycpP1N0b3JhZ2VEQihDYXRQVy5TaGFyZUlEKS5maW5kKCd1blBXJyk6KEdNX2dldFZhbHVlKCdDYXRQVycpLnVuUFc/R01fZ2V0VmFsdWUoJ0NhdFBXJykudW5QVzonJykpKTsgQ2F0UFcud2ViVGl0bGU9ZGVjb2RlVVJJQ29tcG9uZW50KGdldFF1ZXJ5U3RyaW5nKCd3ZWJUaXRsZScsUXN0cil8fFN0b3JhZ2VEQihDYXRQVy5TaGFyZUlEKS5maW5kKCd3ZWJUaXRsZScpfHxHTV9nZXRWYWx1ZSgnQ2F0UFcnKS53ZWJUaXRsZSk7CiAgICAgICAgICBDYXRQVy5kYXRlPURhdGVzKCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhjb25mLENhdFBXKTsKCiAgICAgICAgICAkKGNvbmYuYnRuKS5jbGljayhmdW5jdGlvbigpewkvL+aPkOS6pOWvhueggeaXtgogICAgICAgICAgICBpZihTdG9yYWdlU2F2ZSkgIHsKICAgICAgICAgICAgICBDYXRQVy5zQ29kZT0hQ2F0UFcuc0NvZGU/JChDYXRQVy5jb2RlKS52YWwoKS50cmltKCkhPScnPyQoQ2F0UFcuY29kZSkudmFsKCkudHJpbSgpOkNhdFBXLnNDb2RlOkNhdFBXLnNDb2RlOwkJLy/lpoLmnpwgbG9jYWxTdG9yYWdlIOayoeacieWvhuegge+8jOWImemHjeaWsOaJi+WKqOiusOW9lQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZighbG9jYWxTdG9yYWdlW0NhdFBXLlNoYXJlSURdJiYoQ2F0UFcuc0NvZGUmJigkKCcjdGlwJykuY3NzKCdkaXNwbGF5Jyk9PSdub25lJyl8fCQoJyN0aXAnKS50ZXh0KCk9PScnKSkgewogICAgICAgICAgICAgIC8v5aaC5p6c5LiN5a2Y5Zyo6K6w5b2V5pe277yM5LiU5rKh5pyJ5Lu75L2V5o+Q56S65L+h5oGv5pe2CiAgICAgICAgICAgICAgU3RvcmFnZURCKENhdFBXLlNoYXJlSUQpLmluc2VydChDYXRQVyk7CiAgICAgICAgICAgICAgU3RvcmFnZURCKCdTaGFyZUlEZXhwJykuYWRkKENhdFBXLlNoYXJlSUQseydkYXRlJzpEYXRlcygpLCdpZCc6Q2F0UFcuU2hhcmVJRCwnZXhwJzokLm5vdygpK1N0b3JhZ2VFeHAqMjQqNjAqNjAqMTAwMH0pOwkJLy/orrDlvZXotoXml7bml7bpl7QKICAgICAgICAgICAgfSBlbHNlIGlmKENhdFBXLnNDb2RlJiYkKCcjdGlwJykuY3NzKCdkaXNwbGF5Jyk9PSdub25lJyl7CiAgICAgICAgICAgICAgU3RvcmFnZURCKCdTaGFyZUlEZXhwJykuYWRkKENhdFBXLlNoYXJlSUQseydkYXRlJzpEYXRlcygpLCdpZCc6Q2F0UFcuU2hhcmVJRCwnZXhwJzokLm5vdygpK1N0b3JhZ2VFeHAqMjQqNjAqNjAqMTAwMH0pOwkJLy/orrDlvZXotoXml7bml7bpl7QKICAgICAgICAgICAgfSBlbHNlIGlmKCQoJyN0aXAnKS50ZXh0KCk9PSflr4bnoIHplJnor68nKXsKICAgICAgICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NhdFBXLlNoYXJlSURdOwogICAgICAgICAgICAgIFN0b3JhZ2VEQignU2hhcmVJRGV4cCcpLmRlbGV0ZShDYXRQVy5TaGFyZUlEKTsJCS8v5Yig6Zmk6LaF5pe25pe26Ze06K6w5b2VCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYoQ2F0UFcudW5QVyYmIWxvY2FsU3RvcmFnZVtDYXRQVy5TaGFyZUlEXSl7CiAgICAgICAgICAgIFN0b3JhZ2VEQihDYXRQVy5TaGFyZUlEKS5pbnNlcnQoQ2F0UFcpOwogICAgICAgICAgICBTdG9yYWdlREIoJ1NoYXJlSURleHAnKS5hZGQoQ2F0UFcuU2hhcmVJRCx7J2RhdGUnOkRhdGVzKCksJ2lkJzpDYXRQVy5TaGFyZUlELCdleHAnOiQubm93KCkrU3RvcmFnZUV4cCoyNCo2MCo2MCoxMDAwfSk7CQkvL+iusOW9lei2heaXtuaXtumXtAogICAgICAgICAgfQoKICAgICAgICAgIC8v5pi+56S66K6w5b2V55qE5L+h5oGvCiAgICAgICAgICBpZihsb2NhbFN0b3JhZ2VbQ2F0UFcuU2hhcmVJRF0pewogICAgICAgICAgICAkKCc8RElWPicpLmF0dHIoJ2lkJywnQ2F0UFcnKS5jc3Moeydmb250LXNpemUnOicxNHB4J30pLnRleHQoJ+aPkOWPluegge+8micrQ2F0UFcuc0NvZGUrJ+OAgOOAgCcrJ+ino+WOi+Wvhuegge+8micpLmluc2VydEJlZm9yZSgkKCcubW9kdWxlLXNoYXJlLWhlYWRlcicpKTsKICAgICAgICAgICAgLy/op6Pljovlr4bnoIEKICAgICAgICAgICAgJCgnPGlucHV0PicpLmF0dHIoeydpZCc6J3VuUFcnLCd0aXRsZSc6J+eCueWHu+WkjeWItuWvhueggSd9KS5jc3MoeydtYXJnaW4nOicwIDEwcHgnLCd3aWR0aCc6JzEwMHB4JywndGV4dC1hbGlnbic6J2NlbnRlcid9KS52YWwoQ2F0UFcudW5QVykuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiU2VsZWN0QWxsIik7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKICAgICAgICAgICAgfSkuYXBwZW5kVG8oJCgnI0NhdFBXJykpOwogICAgICAgICAgICAvL+adpea6kOmhtemdou+8mgogICAgICAgICAgICAkKCc8QT4nKS5hdHRyKHsnaWQnOidDYXRQV3NyYycsJ2hyZWYnOkNhdFBXLndlYlNyYywndGFyZ2V0JzonYmxhbmsnfSkudGV4dCgn572R55uY5p2l5rqQ77yaJytDYXRQVy53ZWJTcmMpLmFwcGVuZFRvKCQoJyNDYXRQVycpKTsKICAgICAgICAgICAgJCgnPGJ1dHRvbj4nKS50ZXh0KCfliKDpmaTorrDlvZUnKS52YWwoJ+WIoOmZpOiusOW9lScpLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDYXRQVy5TaGFyZUlEXTsKICAgICAgICAgICAgICB0aGlzLmRpc2FibGVkPXRydWU7CiAgICAgICAgICAgIH0pLmFwcGVuZFRvKCQoJyNDYXRQVycpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBTdG9yYWdlREIoJ1NoYXJlSURleHAnKS5kZWxldGVFeHBpcmVzKCk7CgogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICdleXVuLmJhaWR1LmNvbSc6IHsKICAgICAgY2hrOgkvXlthLXowLTldezR9JC8sCiAgICAgIGNvZGU6CScuc2hhcmUtYWNjZXNzLWNvZGUnLAogICAgICBidG46CScuZy1idXR0b24tcmlnaHQnLAogICAgICBQcmVQcm9jZXNzOiBmdW5jdGlvbigpIHsKICAgICAgICBpZigoaGFzaCYmIS9zaGFyZWxpbmt8cGF0aC9pLnRlc3QoaGFzaCkpJiYhL2VudGVycHJpc2UvLnRlc3QocGF0aHMpKSB7CiAgICAgICAgICBsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZShsb2NhdGlvbi5oYXNoLCcnKTsKICAgICAgICB9CiAgICAgICAgY29uZi5TaGFyZVVLPXl1bkRhdGEuU0hBUkVfVUt8fGdldFF1ZXJ5U3RyaW5nKCd1aycpOwkJLy/ojrflj5Yg5YiG5Lqr55So5oi3SUQKICAgICAgICBjb25mLlNoYXJlSUQ9eXVuRGF0YS5TSEFSRV9JRHx8Z2V0UXVlcnlTdHJpbmcoJ2NpZCcpOwkJLy/ojrflj5Yg5YiG5Lqr5paH5Lu2SUQKICAgICAgICBjb25mLnNDb2RlPS9eIy8udGVzdChoYXNoKT9oYXNoLm1hdGNoKC9eIyhcdyspJj8vKVsxXTpTdG9yYWdlREIoY29uZi5TaGFyZUlEKS5maW5kKCdzQ29kZScpOwkJLy/ojrflj5Yg5o+Q5Y+W56CBCiAgICAgICAgJChjb25mLmJ0bikuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgIGlmKCFsb2NhbFN0b3JhZ2VbY29uZi5TaGFyZUlEXSYmY29uZi5zQ29kZSkgewogICAgICAgICAgICBTdG9yYWdlREIoY29uZi5TaGFyZUlEKS5pbnNlcnQoeydzQ29kZSc6Y29uZi5zQ29kZX0pOwogICAgICAgICAgICBTdG9yYWdlREIoJ1NoYXJlSURleHAnKS5hZGQoY29uZi5TaGFyZUlELHsnaWQnOmNvbmYuU2hhcmVJRCwnZXhwJzokLm5vdygpK1N0b3JhZ2VFeHAqMjQqNjAqNjAqMTAwMH0pOwkJLy/orrDlvZXotoXml7bml7bpl7QKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBTdG9yYWdlREIoJ1NoYXJlSURleHAnKS5kZWxldGVFeHBpcmVzKCk7CiAgICAgIH0KICAgIH0sCiAgICAnd2VpeXVuLmNvbSc6IHsKICAgICAgY2hrOiAvXlthLXowLTldezR9JC9pLAogICAgICBjb2RlOiAnI291dGxpbmtfcHdkJywKICAgICAgYnRuOiAgJyNvdXRsaW5rX3B3ZF9vaycKICAgIH0sCiAgfSwKICAncHdkUnVsZScgOiAvKD865o+Q5Y+WfOiuv+mXrilb56CB56K8XT9ccypbOu+8miBdP1xzKihbYS16XGRdezR9KS8sCQkJLy/luLjop4Tlr4bnoIEKICAnY29kZVJ1bGUnIDogLyg/Oig/OuaPkOWPlnzorr/pl6585a+GW+eggeeivF186Im+fEV4dHJhY3RlZC1jb2RlKVvnoIHnorxdPylccypbOu+8miBdP1xzKihbYS16XGRdezR9KS9pLAkvL+WFtuWug+exu+Wei+eahOWvhueggQogIC8v6Lez6L2s6ZO+6aKE5aSE55CGCiAgJ0p1bXBVcmwnIDogewogICAgJ3poaWh1LmNvbScgOiAgewogICAgICBocmVmOiAkKCdBW2hyZWYqPSIvL2xpbmsuemhpaHUuY29tLz90YXJnZXQ9Il0nKSwKICAgICAgdXJsOi8uKlwvXC9saW5rXC56aGlodVwuY29tXC9cP3RhcmdldD0vCiAgICB9LAogICAgJ3NpamlodWlzdW8uY2x1Yic6IHsKICAgICAgaHJlZjogJCgnLmRvd24tdGlwIEFbaHJlZl49Imh0dHBzOi8vd3d3LnNpamlodWlzdW8uY2x1Yi9nby8/dXJsPSJdJyksCiAgICAgIHVybDogJ2h0dHBzOi8vd3d3LnNpamlodWlzdW8uY2x1Yi9nby8/dXJsPScKICAgIH0KICB9LAogIC8v5a+G56CB6J6N5ZCI6ZyA6KaB54m55q6K5pSv5oyB55qE572R56uZCiAgJ1N1cHBvcnQnIDogewogICAgJ2Rha2FzaGFuZ2NoZS5jb20nOnsKICAgICAgcGF0aDovXC9zalwvXGQvLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgIGNvbnNvbGUubG9nKCfnibnmrormlK/mjIEnKTsKICAgICAgICAkKCcuZG93bi10aXA+YVtocmVmKj0iZHUuYWNnZ2V0LmNvbSJdJykuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgRG93bkFqYXgodGhpcy5ocmVmLCcucGFuZWwtYm9keScsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXR1cm4nLGUpOwogICAgICAgICAgICAkKGUpLmFwcGVuZFRvKCQoJyNwYXlkb3duJykpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgICdtZXRhLmFwcGlubi5jb20nOnsKICAgICAgcGF0aDovXC90XC9bXi9dK1wvL2ksCiAgICAgIGNhbGxiYWNrOmZ1bmN0aW9uKCl7CiAgICAgICAgbmV3IFByZUhhbmRsZS5WTSgpOwogICAgICAgICQoJ0FbaHJlZio9InBhbi5iYWlkdS5jb20iXSxBW2hyZWYqPSJleXVuLmJhaWR1LmNvbSJdJykuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgJCh0aGlzKS5kYXRhKHsndXJsJzp0aGlzLmhyZWZ9KS5jbGljayhmdW5jdGlvbihlKXsKICAgICAgICAgICAgbG9jYXRpb24uaHJlZj0kKHRoaXMpLmRhdGEoJ3VybCcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAnbWFkc2NrLmNvbSc6ewogICAgICBwYXRoOiAvXC9yZXNvdXJjZVwvXGQrLywKICAgICAgY2FsbGJhY2s6ZnVuY3Rpb24oKXsKICAgICAgICB2YXIgSUQ9JCgnLmJ0bi1kb3dubG9hZCcpLmRhdGEoJ2lkJyk7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgICJ1cmwiOiJodHRwOi8vd3d3Lm1hZHNjay5jb20vYWpheC9sb2dpbi9kb3dubG9hZC1saW5rP2lkPSIrSUQsCiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIHZhciByZXM9ZS5yZXNvdXJjZTsKICAgICAgICAgICAgJCgnLmJ0bi1kb3dubG9hZCcpLmNzcygnZGlzcGxheScsJ25vbmUnKTsKICAgICAgICAgICAgJCgnPGE+JykuYXR0cih7J2hyZWYnOnJlcy5yZXNvdXJjZV9saW5rKycjJytyZXMuZmV0Y2hfY29kZSwndGFyZ2V0JzonYmxhbmsnLCdjbGFzcyc6J2J0bi1kb3dubG9hZCd9KS5jc3MoeydsaW5lLWhlaWdodCc6JzYwcHgnLCd0ZXh0LWFsaWduJzonY2VudGVyJywnZm9udC1zaXplJzonMjRweCd9KS50ZXh0KCfkuIvovb0nKS5pbnNlcnRCZWZvcmUoJy5idG4tZG93bmxvYWQnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgICdpZGFubXUuY28nOiB7CiAgICAgIHBhdGggOiAvc3RvcmFnZVwtZG93bmxvYWQvaSwKICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpewogICAgICAgICQoJy5pbnB1dC1ncm91cCcpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICQodGhpcykudGV4dCgkKHRoaXMpLnRleHQoKSskKHRoaXMpLmZpbmQoJ2lucHV0JykudmFsKCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgJ3FpdXF1YW4uY2MnOnsKICAgICAgcGF0aDovLi8sCiAgICAgIGNhbGxiYWNrIDogZnVuY3Rpb24oKXsKICAgICAgICAkKCcjZG93bj5hW2hyZWYqPSJwYW4uYmFpZHUuY29tIl0nKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICBpZighdGhpcy5oYXNoKSB7CiAgICAgICAgICAgIHRoaXMuaGFzaD0kKHRoaXMpLnRleHQoKS5tYXRjaCgvW1wo77yIXShcdyspW++8iVwpXS9pKVsxXTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgJ2FjZzQ0LmNvbSc6ewogICAgICAvL3NlYXJjaDpbJ3BhZ2VfaWQnLCdwJ10sCiAgICAgIHBhdGg6L2Rvd25sb2FkL2ksCiAgICAgIGNhbGxiYWNrIDogZnVuY3Rpb24oKXsKICAgICAgICBzaXRlWydjb2RlUnVsZSddPS8oPzooPzrmj5Dlj5Z86K6/6ZeufOWvhlvnoIHnorxdKVvnoIHnorxdPylccypbOu+8miBdP1xzKihbYS16XGRdezR9fFteJF0rKS9pCiAgICAgICAgYWRkTXV0YXRpb25PYnNlcnZlcignI2Rvd25sb2FkLWNvbnRhaW5lcicsZnVuY3Rpb24oZSl7CiAgICAgICAgICBlLnNvbWUoZnVuY3Rpb24oYSl7CiAgICAgICAgICAgIGZvcih2YXIgaSBpbiBhLmFkZGVkTm9kZXMpewogICAgICAgICAgICAgIHZhciBiPWEuYWRkZWROb2Rlc1tpXTsKICAgICAgICAgICAgICBpZihiLmNsYXNzTmFtZT09J2FuaW1hdGVkIGZhZGVJbicpIHsKICAgICAgICAgICAgICAgIHZhciBWZXJDb2RlPSQoJ1tpZF49ImRvd25sb2FkUHdkIl0nKS52YWwoKTsKICAgICAgICAgICAgICAgIHZhciB1blppcFBXPWVuY29kZVVSSUNvbXBvbmVudCgkKCdbaWRePSJleHRyYWN0UHdkIl0nKS52YWwoKSk7CiAgICAgICAgICAgICAgICB2YXIgRG93blVybD0kKCcjZG93bmxvYWQtY29udGFpbmVyIGEuYnRuJykuYXR0cignaHJlZicpOwogICAgICAgICAgICAgICAgaWYoL3Bhbi5iYWlkdS5jb21cL3NoYXJlL2kudGVzdChEb3duVXJsKSl7CiAgICAgICAgICAgICAgICAgICQoJyNkb3dubG9hZC1jb250YWluZXIgYS5idG4nKS5hdHRyKCdocmVmJyxEb3duVXJsKycmdW5QVz0nK3VuWmlwUFcrJyZTcmM9JytlbmNvZGVVUklDb21wb25lbnQodXJscykpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgJCgnI2Rvd25sb2FkLWNvbnRhaW5lciBhLmJ0bicpLmF0dHIoJ2hyZWYnLERvd25VcmwrJyMnK1ZlckNvZGUrJyZ1blBXPScrdW5aaXBQVysnJlNyYz0nK2VuY29kZVVSSUNvbXBvbmVudCh1cmxzKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgICd4dW55aW5nd2FuZy5jb20nOnsKICAgICAgcGF0aDovbW92aWUvaSwKICAgICAgY2FsbGJhY2s6ZnVuY3Rpb24oKXsKICAgICAgICAkKHdpbmRvdykubG9hZChmdW5jdGlvbigpewogICAgICAgICAgJCgnQVtocmVmKj0icGFuLmJhaWR1LmNvbSJdLEFbaHJlZio9ImV5dW4uYmFpZHUuY29tIl0nKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICQodGhpcykuYXR0cignaHJlZicsJCh0aGlzKS5hdHRyKCdocmVmJykrJyMnKyQodGhpcykubmV4dCgic3Ryb25nIikudGV4dCgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgJ2h1aHVwYW4uY29tJzp7CiAgICAgIHBhdGg6L2VcL2V4dGVuZFwvZG93bi9pLAogICAgICBjYWxsYmFjazpmdW5jdGlvbigpewogICAgICAgIHZhciBfTGlua3RtcD0kKCdBW2hyZWYqPSJwYW4uYmFpZHUuY29tIl0sQVtocmVmKj0iZXl1bi5iYWlkdS5jb20iXScpOwogICAgICAgIHZhciBfUFd0bXA9JCgnaW5wdXRbaWRePSJiZHlwYXMiXSxpbnB1dFtpZF49ImZvbyJdJyk7CiAgICAgICAgZm9yKGk9MDtpPF9MaW5rdG1wLmxlbmd0aDtpKyspewogICAgICAgICAgX0xpbmt0bXBbaV0uaHJlZis9IiMiK19QV3RtcFtpXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAnYmxvZy5yZWltdS5uZXQnOiB7CiAgICAgIHBhdGg6IC9hcmNoaXZlcy9pLAogICAgICBjYWxsYmFjazogZnVuY3Rpb24oKXsKICAgICAgICBzaXRlWydjb2RlUnVsZSddPS8oPzooPzrmj5Dlj5Z86K6/6ZeufOWvhlvnoIHnorxdKVvnoIHnorxdPylccypbOu+8miBdP1xzKihbYS16XGRdezR9fDjphbEpL2k7CiAgICAgICAgY29uc29sZS5sb2coc2l0ZVsnY29kZVJ1bGUnXSk7CiAgICAgIH0KICAgIH0sCiAgICAncmVpbXUubmV0JzogewogICAgICBwYXRoOiAvYXJjaGl2ZXMvaSwKICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vKD86KD865o+Q5Y+WfOiuv+mXrnzlr4Zb56CB56K8XSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0fXw46YWxKS9pOwogICAgICAgIGNvbnNvbGUubG9nKHNpdGVbJ2NvZGVSdWxlJ10pOwogICAgICB9CiAgICB9CiAgfQp9OwoKdmFyIGNvbmYgPSBzaXRlWydZdW5EaXNrJ11baG9zdF07CQkJCQkJCQkJCQkvL+iuvue9ruS4u+Wfn+WQjQoKLyogLS0tLS09PT09PSDnlJ/miJDmraPliJnvvIzmoKHpqozljLnphY3nmoTnvZHnm5ggU3RhcnQgPT09PT0tLS0tLSAqLwp2YXIgSG9zdEFyciA9IFtdOwkJCQkJCQkJCS8v55Sf5oiQ5Z+f5ZCN5pWw57uECmZvcih2YXIgaSBpbiBzaXRlWydZdW5EaXNrJ10pIEhvc3RBcnIucHVzaChpKTsJCQkJCS8v5o+S5YWl5Z+f5ZCN5a+56LGh5pWw57uECnZhciBIb3N0RXhwID0gbmV3IFJlZ0V4cChIb3N0QXJyLmpvaW4oInwiKSwnaScpOwkvL+eUn+aIkOaUr+aMgee9keebmOeahOagoemqjOeahOato+WImQoKLyogLS0tLS09PT09PSDnlJ/miJDmraPliJnvvIzmoKHpqozljLnphY3nmoTnvZHnm5ggRW5kID09PT09LS0tLS0gKi8KCi8qIC0tLS0tPT09PT0g5qOA5p+l5piv5ZCm6ZyA6KaB5aSE55CG6Lez6L2s6ZO+IFN0YXJ0ID09PT09LS0tLS0gKi8KCi8vY29uc29sZS5sb2coc2l0ZS5KdW1wVXJsW2hvc3RdKTsKaWYoc2l0ZVsnSnVtcFVybCddW2hvc3RdKXsKICBjb25zb2xlLmxvZyhzaXRlWydKdW1wVXJsJ11baG9zdF1bJ2hyZWYnXSk7CiAgc2l0ZVsnSnVtcFVybCddW2hvc3RdWydocmVmJ10uZWFjaChmdW5jdGlvbigpewogICAgY29uc29sZS5sb2coc2l0ZVsnSnVtcFVybCddW2hvc3RdWydyZXAnXSkKICAgICQodGhpcykuYXR0cih7J2hyZWYnOmRlY29kZVVSSUNvbXBvbmVudCgkKHRoaXMpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKHNpdGVbJ0p1bXBVcmwnXVtob3N0XVsndXJsJ10sJycpKSwndGFyZ2V0JzonYmxhbmsnfSk7CiAgfSk7Cn0KLyogLS0tLS09PT09PSDmo4Dmn6XmmK/lkKbpnIDopoHlpITnkIbot7Povazpk74gRW5kID09PT09LS0tLS0gKi8KCgppZihjb25mJiYhL3poaWRhby5iYWlkdS5jb20vaS50ZXN0KGhvc3QpKXsJLy/nvZHnm5jpobXpnaLloavlr4bnoIHnmbvlvZUKICAvLyDmipPlj5bmj5Dlj5bnoIEKICBpZihjb25mLlByZVByb2Nlc3MpIGNvbmYuUHJlUHJvY2VzcygpOwkJLy/lhoXlrrnpooTlpITnkIYKICAvL3ZhciBzQ29kZSA9IGhhc2guc2xpY2UoMSkudHJpbSgpOwkJCQkvL+aPkOWPlueggeiOt+WPlgogIHZhciBzQ29kZSA9L14jLy50ZXN0KGhhc2gpP2hhc2gubWF0Y2goL14jKFteJl0rKSY/LylbMV06U3RvcmFnZURCKGNvbmYuU2hhcmVJRCkuZmluZCgnc0NvZGUnKTsJCS8v6I635Y+WIOaPkOWPlueggQogIC8vIOiwg+ivleeUqO+8jOajgOafpeaYr+WQpuS4uuWQiOazleagvOW8jwoKICBpZiAoIXNDb2RlKSB7CiAgICBjb25zb2xlLmxvZygn5rKh5pyJIEtleSDmiJbmoLzlvI/kuI3lr7knKTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2cgKCfmipPlj5bliLDnmoTmj5Dlj5bnoIE6ICVzJywgc0NvZGUpOwogIH0KCiAgLy8g5Yqg5Liq5bCP5bu25pe2CiAgc2V0VGltZW91dCAoZnVuY3Rpb24gKCkgewogICAgLy8g6ZSu5YWl5o+Q5Y+W56CB5bm25Y2V5Ye744CM5o+Q5Lqk44CN5oyJ6ZKu77yM5oql6ZSZ5LiN55So55CG44CCCiAgICB2YXIgY29kZUJveCA9ICQoY29uZi5jb2RlKSwKICAgICAgICBidG5PayA9ICQoY29uZi5idG4pOwogICAgaWYoY29kZUJveC5sZW5ndGg+MCkgewkJLy/lrZjlnKjlr4bnoIHmoYbml7bmiY3ov5vooYzlr4bnoIHmj5DkuqTmk43kvZwKICAgICAgY29kZUJveC52YWwoc0NvZGUpOwkJLy/loavlhpnpqozor4HnoIEKICAgICAgaWYgKGNvbmYucHJlU3VibWl0KQogICAgICAgIGlmIChjb25mLnByZVN1Ym1pdCAoY29kZUJveCwgYnRuT2spKQogICAgICAgICAgcmV0dXJuIDsKICAgICAgYnRuT2suY2xpY2soKTsKICAgIH0KICB9LCAxMCk7Cgp9IGVsc2UgewogIHZhciBQcmVIYW5kbGU9ewkvL+WGheWuuemihOWkhOeQhgogICAgVGV4dCA6IGZ1bmN0aW9uKHRleHQpewkvL+mihOWkhOeQhuWQq+ino+eggeWvhueggeeahOaWh+acrAogICAgICB0ZXh0PXRleHQ/dHlwZW9mKHRleHQpPT0ic3RyaW5nIj90ZXh0LnRyaW0oKTp0ZXh0LnRleHRDb250ZW50LnRyaW0oKTpudWxsOwogICAgICB0ZXh0PXRleHQ/dGV4dC5yZXBsYWNlKC8oW1xb44CQXT/op6Nb5Y6L5aOTXXxb5Y6L5aOTXVvnvKnnuK5dKeWvhlvnoIHnorxdW1xd44CRXT9ccypbOu+8miBdP1xzKihbYS16XGRdezR9fFteXG5dKykvaWcsJycpOm51bGw7CiAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIENvZGUgOiBmdW5jdGlvbihvYmopewkvLwogICAgICB2YXIgdGV4dD10aGlzLlRleHQob2JqKTsKICAgICAgaWYoIXRleHQpIHJldHVybjsKICAgICAgLy/pppblhYjlsJ3or5Xkvb/nlKgg5o+Q5Y+W56CBfOiuv+mXrueggSDkvZzkuLrlr4bnoIHljLnphY3nmoTlhbPplK7lrZfvvIzml6DmlYjml7bliJnkvb/nlKjmqKHns4rljLnphY3op4TliJkKICAgICAgdmFyIHB3PXNpdGVbJ3B3ZFJ1bGUnXS50ZXN0KHRleHQpP3RleHQubWF0Y2goc2l0ZVsncHdkUnVsZSddKVsxXTpzaXRlWydjb2RlUnVsZSddLnRlc3QodGV4dCk/dGV4dC5tYXRjaChzaXRlWydjb2RlUnVsZSddKVsxXTpudWxsOwogICAgICAvL2NvbnNvbGUubG9nKHRleHQscHcpOwogICAgICByZXR1cm4gcHc7CiAgICB9LAogICAgVk0gOiBmdW5jdGlvbigpewkvL+aatOWKm+WMuemFjQogICAgICB2YXIgTGluaz0kKCdBW2hyZWYqPSJwYW4uYmFpZHUuY29tIl0sQVtocmVmKj0iZXl1bi5iYWlkdS5jb20iXScpOwoKICAgICAgZm9yKGk9MDtpPExpbmsubGVuZ3RoO2krKyl7CiAgICAgICAgdmFyIExpbmtQYXJlbnQ9JChMaW5rW2ldKS5wYXJlbnQoKTsKICAgICAgICB2YXIgTGlua1BhcmVudEh0bWw9TGlua1BhcmVudC5odG1sKCk7CiAgICAgICAgaWYoUHJlSGFuZGxlLkNvZGUoTGlua1BhcmVudEh0bWwpKSBMaW5rW2ldLmhyZWYrPScjJytQcmVIYW5kbGUuQ29kZShMaW5rUGFyZW50SHRtbCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8v5a+G56CB6J6N5ZCIIOeJueWIq+aUr+aMgeeahOe9keermQogIHZhciBTdXBwb3J0SG9zdD1zaXRlWydTdXBwb3J0J11baG9zdF07CiAgaWYoU3VwcG9ydEhvc3QmJihTdXBwb3J0SG9zdFsncGF0aCddP1N1cHBvcnRIb3N0WydwYXRoJ10udGVzdChwYXRocyk6Z2V0UXVlcnlTdHJpbmcoU3VwcG9ydEhvc3RbJ3NlYXJjaCddKSkpIHsKICAgIFN1cHBvcnRIb3N0LmNhbGxiYWNrKCk7CiAgfQogIC8v55uR5ZCsIEEg5qCH562+54K55Ye75LqL5Lu2CiAgJCgnYm9keScpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0YXJnZXQ9dGhpcywgQ2F0UFc7CiAgICAKICAgIC8v5aaC5p6c55uu5qCH5a+56LGh5Li655m+5bqm5LyB5Lia55uY77yM5o+Q5Y2H5a+G56CB5Yy56YWN6IyD5Zu077yM5Lul5YW85a6555m+5bqm5LyB5Lia5LqRCiAgICBpZigvZXl1bi5iYWlkdS5jb20vaS50ZXN0KHRoaXMuaHJlZikpIHsKICAgICAgc2l0ZVsncHdkUnVsZSddPS8oPzrmj5Dlj5Z86K6/6ZeuKVvnoIHnorxdP1xzKls677yaIF0/XHMqKFthLXpcZF17NCwxNH0pLzsKICAgICAgc2l0ZVsnY29kZVJ1bGUnXT0vKD86KD865o+Q5Y+WfOiuv+mXrnzlr4Zb56CB56K8XXxFeHRyYWN0ZWQtY29kZSlb56CB56K8XT8pXHMqWzrvvJogXT9ccyooW2EtelxkXXs0LDE0fSkvaTsKICAgIH0KCiAgICAvL+ato+WImeagoemqjOi2hemTvuaOpeWMuemFjeeahOe9keebmAogICAgLy9jb25zb2xlLmxvZygn5aSE55CG5aW955qE5paH5pys77yaJytQcmVIYW5kbGUuVGV4dCh0YXJnZXQubmV4dFNpYmxpbmcpKTsKICAgIC8vY29uc29sZS5sb2coJ0NvZGXljLnphY3nu5PmnpwnLFByZUhhbmRsZS5Db2RlKHRhcmdldC5wYXJlbnROb2RlLm5leHRTaWJsaW5nKSk7CgogICAgaWYoSG9zdEV4cC50ZXN0KHRoaXMuaHJlZikpewogICAgICBpZihuZXdUYWcpIHRoaXMudGFyZ2V0PSdibGFuayc7CQkvL+aWsOmhtemdouaJk+W8gOe9keebmAogICAgICAKICAgICAgLy/liJ3lp4vljJbkv6Hmga/orrDlvZXlj5jph48KICAgICAgQ2F0UFc9eydTcmMnOnRoaXMuaHJlZiwnSGFzaCc6dGhpcy5oYXNoLCJ3ZWJTcmMiOmVuY29kZVVSSUNvbXBvbmVudCh1cmxzKSwid2ViVGl0bGUiOmVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC50aXRsZSl9OwogICAgICAKICAgICAgCiAgICAgIGlmKHRoaXMuaGFzaCkgcmV0dXJuOwkJLy/lpoLmnpzotoXpk77mjqXlt7LmnIkgaGFzaCDliJnot7Pov4cKICAgICAgY29uc29sZS5ncm91cCgn572R55uY6Ieq5Yqo5aGr5YaZ5a+G56CBJyk7CiAgICAgIGlmKFByZUhhbmRsZS5Db2RlKHRhcmdldCkpewogICAgICAgIGNvbnNvbGUubG9nKCflnKjlvZPliY3otoXpk77mjqXnmoTlr7nosaHkuK3mn6Xmib7lr4bnoIEnKTsKICAgICAgICB0YXJnZXQuaHJlZis9JyMnK1ByZUhhbmRsZS5Db2RlKHRhcmdldCk7CiAgICAgIH0gZWxzZSBpZihQcmVIYW5kbGUuQ29kZSh0YXJnZXQubmV4dFNpYmxpbmcpKXsKICAgICAgICBjb25zb2xlLmxvZygn5a+G56CB5Zyo6LaF6ZO+5o6l5ZCO6Z2i55qE5YWE5byf5YWD57Sg5LitJyk7CiAgICAgICAgdGFyZ2V0LmhyZWYrPScjJytQcmVIYW5kbGUuQ29kZSh0YXJnZXQubmV4dFNpYmxpbmcpOwogICAgICB9IGVsc2UgaWYoUHJlSGFuZGxlLkNvZGUodGFyZ2V0LnBhcmVudE5vZGUpKXsKICAgICAgICBjb25zb2xlLmxvZygn5LuO54i25a+56LGh5Lit5p+l5om+5a+G56CBJyk7CiAgICAgICAgdGFyZ2V0LmhyZWYrPScjJytQcmVIYW5kbGUuQ29kZSh0YXJnZXQucGFyZW50Tm9kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGkgPSAwLAogICAgICAgICAgICBtYXhQYXJlbnQgPSA1LAkvL+WQkeS4iumBjeWOhueahOWxgue6pwogICAgICAgICAgICBwYXJlbnQgPSB0YXJnZXQ7CiAgICAgICAgd2hpbGUoaTxtYXhQYXJlbnQpIHsKICAgICAgICAgIGkrKzsJCQkJCQkJCQkvL+mBjeWOhuiuoeaVsAogICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CQkJLy/lj5blvpfniLblr7nosaEKICAgICAgICAgIGNvbnNvbGUubG9nKCfpgY3ljobkuIrnuqfnm67lvZXmn6Xmib7lr4bnoIHvvJonKyBpLHBhcmVudCk7CiAgICAgICAgICBpZihwYXJlbnQudGFnTmFtZT09IlRSIikgewkJCQkvL+WmguaenOeItuWvueixoeaYr+ihqOagvO+8jOWImeS7juihqOagvOS4reaPkOWPluWvhueggQogICAgICAgICAgICBpZihQcmVIYW5kbGUuQ29kZShwYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nKSkgewogICAgICAgICAgICAgIHBhcmVudD1wYXJlbnQubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfooajmoLzkuK3mn6Xmib7lr4bnoIHmiJDlip/vvIEnLHBhcmVudCk7CiAgICAgICAgICAgICAgdGFyZ2V0LmhyZWYrPScjJytQcmVIYW5kbGUuQ29kZShwYXJlbnQpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYoUHJlSGFuZGxlLkNvZGUocGFyZW50Lm5leHRTaWJsaW5nKSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflkJHkuIrpgY3ljobmn6Xmib7vvIzlnKjotoXpk77mjqXlkI7pnaLnmoTlhYTlvJ/lhYPntKDkuK3vvIwnLHBhcmVudC5uZXh0U2libGluZyk7CiAgICAgICAgICAgIHRhcmdldC5ocmVmKz0nIycrUHJlSGFuZGxlLkNvZGUocGFyZW50Lm5leHRTaWJsaW5nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9IGVsc2UgaWYoUHJlSGFuZGxlLkNvZGUocGFyZW50KSkgewkJLy/lkKbliJnmjInnhafluLjop4TmlrnlvI/mj5Dlj5blr4bnoIEKICAgICAgICAgICAgY29uc29sZS5sb2coJ+WQkeS4iumBjeWOhuafpeaJvuWvhueggeaIkOWKn++8gScpOwogICAgICAgICAgICB0YXJnZXQuaHJlZis9JyMnK1ByZUhhbmRsZS5Db2RlKHBhcmVudCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYobWF4UGFyZW50PjUpIGNvbnNvbGUubG9nKCflt7LotoXlh7rpgY3ljobojIPlm7QnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHBhcmVudD09ZG9jdW1lbnQuYm9keSkgYnJlYWs7CQkJCQkJCQkvL+WmguaenOW3sue7j+mBjeWOhuWIsOacgOmhtumDqAogICAgICAgIH0KICAgICAgfQogICAgICBpZih0aGlzLmhhc2gpIENhdFBXLkhhc2g9dGhpcy5oYXNoOwoKICAgICAgaWYoU3RvcmFnZVNhdmUpIHsKICAgICAgICB2YXIgdW5QV0Fycj1bCiAgICAgICAgICAvcGFzc3dvcmRbOu+8miBdPyhbXlxuXSspL2lnbSwKICAgICAgICAgIC/op6PljotbOu+8miBdPyhcdyspL2dtLAogICAgICAgICAgL+OAkOino+WOi+WvhueggeOAkVxzKls677yaIF0/XHMqKFteXG5dKykvaWdtLAogICAgICAgICAgL1xb6Kej5Y6L5a+G56CBXF1ccypbOu+8miBdP1xzKihbYS16XGRcLjovXSspL2lnbSwJCS8vaHR0cDovL3d3dy5pdG9rb28uY29tLwogICAgICAgICAgLyg/Ouino1vljovlo5Nd5a+GP1vnoIHnorxdKVxzKls677yaIF0/XHMqKFthLXpcZFwuOi9dKykvaWdtLAogICAgICAgICAgLyg/Ouino1vljovlo5Nd5a+GP1vnoIHnorxdKSg/OumDvT/mmK8pP1xzKls677yaIF0/XHMqKFteXHddKylbXiRcclxuXS9pZ20sCiAgICAgICAgICAv44CQP+WOi+e8qeWvhueggeOAkT9ccypbOu+8miBdP1xzKihbXlxuXSspL2lnbQogICAgICAgIF0KICAgICAgICBmb3IoaT0wO2k8dW5QV0Fyci5sZW5ndGg7aSsrKSB7CiAgICAgICAgICB2YXIgdW5QV1RlbXA9dW5QV0FycltpXS5leGVjKGRvY3VtZW50LmJvZHkudGV4dENvbnRlbnQpOwogICAgICAgICAgaWYodW5QV1RlbXApIHsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn6Kej5Y6L5a+G56CB5o+Q5Y+W77yaJyx1blBXVGVtcCxlbmNvZGVVUklDb21wb25lbnQodW5QV1RlbXBbMV0pKTsKICAgICAgICAgICAgQ2F0UFcudW5QVz1lbmNvZGVVUklDb21wb25lbnQodW5QV1RlbXBbMV0pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgR01fc2V0VmFsdWUoJ0NhdFBXJyxDYXRQVyk7CiAgICAgICAgY29uc29sZS5sb2coR01fZ2V0VmFsdWUoJ0NhdFBXJykpOwogICAgICB9CiAgICB9CiAgICBjb25zb2xlLmdyb3VwRW5kKCk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGFkZE11dGF0aW9uT2JzZXJ2ZXIoc2VsZWN0b3IsIGNhbGxiYWNrLCBLaWxsKSB7CiAgdmFyIHdhdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgLy9jb25zb2xlLmxvZyh3YXRjaCk7CgogIGlmICghd2F0Y2gpIHsKICAgIHJldHVybjsKICB9CiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKXsKICAgIC8vY29uc29sZS5sb2cobXV0YXRpb25zKTsKICAgIHZhciBub2RlQWRkZWQgPSBtdXRhdGlvbnMuc29tZShmdW5jdGlvbih4KXsgcmV0dXJuIHguYWRkZWROb2Rlcy5sZW5ndGggPiAwOyB9KTsKICAgIGlmIChub2RlQWRkZWQpIHsKICAgICAgY2FsbGJhY2sobXV0YXRpb25zKTsKICAgICAgaWYoS2lsbCkgY29uc29sZS5sb2coJ+WBnOatoicrc2VsZWN0b3IrJ+eahOebkeaOpycpLG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgIH0KICB9KTsKICBvYnNlcnZlci5vYnNlcnZlKHdhdGNoLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7Cn0KCmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nKG5hbWUsdXJsKSB7Ly/nrZvpgInlj4LmlbAKICB1cmw9dXJsP3VybC5tYXRjaCgvWz8jXS4qLykudG9TdHJpbmcoKTpsb2NhdGlvbi5zZWFyY2g7CS8v572R5Z2A5Lyg6YCS55qE5Y+C5pWw5o+Q5Y+W77yM5aaC5p6c5Lyg5YWl5LqGdXJs5Y+C5pWw5YiZ5L2/55So5Lyg5YWl55qE5Y+C5pWw77yM5ZCm5YiZ5L2/55So5b2T5YmN6aG16Z2i55qE572R5Z2A5Y+C5pWwCgogIGlmKEFycmF5LmlzQXJyYXkobmFtZSkpewogICAgZm9yKHZhciBpIGluIG5hbWUpewogICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgiKD86XnwmKSgiICsgbmFtZVtpXSArICIpPShbXiZdKikoPzomfCQpIiwgImkiKTsJCS8v5q2j5YiZ562b6YCJ5Y+C5pWwCiAgICAgIHZhciBzdHIgPSB1cmwuc3Vic3RyKDEpLm1hdGNoKHJlZyk7CiAgICAgIGlmIChzdHIgIT09IG51bGwpIHJldHVybiB1bmVzY2FwZShzdHJbMl0pOwogICAgfQogIH0gZWxzZSB7CiAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgiKD86XnwmKSgiICsgbmFtZSArICIpPShbXiZdKikoPzomfCQpIiwgImkiKTsJCS8v5q2j5YiZ562b6YCJ5Y+C5pWwCiAgICB2YXIgc3RyID0gdXJsLnN1YnN0cigxKS5tYXRjaChyZWcpOwogICAgaWYgKHN0ciAhPT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKHN0clsyXSk7CiAgfQogIHJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBTdG9yYWdlREIoY29sbGVjdGlvbk5hbWUpIHsKICAvL+WmguaenOayoeaciSDpm4blkIjlkI3vvIzliJnkvb/nlKjpu5jorqQgZGVmYXVsdAogIGNvbGxlY3Rpb25OYW1lID0gY29sbGVjdGlvbk5hbWUgPyBjb2xsZWN0aW9uTmFtZSA6ICdkZWZhdWx0JzsKICAvL+WIm+W7ukpTT07nvJPlrZjvvIzlpoLmnpznvJPlrZjlrZjlnKjvvIzliJnovazkuLpKU09O77yM5ZCm5YiZ5paw5bu6CiAgdmFyIGNhY2hlID0gbG9jYWxTdG9yYWdlW2NvbGxlY3Rpb25OYW1lXSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2NvbGxlY3Rpb25OYW1lXSkgOiB7fTsKCiAgcmV0dXJuIHsKICAgIGFkZCA6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICAgIGNhY2hlW25hbWVdPXZhbHVlOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjb2xsZWN0aW9uTmFtZSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTsgICAgICAgIC8v5Zue5YaZIGxvY2FsU3RvcmFnZQogICAgfSwKICAgIGRlbDpmdW5jdGlvbihuYW1lKSB7CiAgICAgIGlmKG5hbWUpIHsKICAgICAgICBkZWxldGUgY2FjaGVbbmFtZV07CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29sbGVjdGlvbk5hbWUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7ICAgICAgICAvL+WbnuWGmSBsb2NhbFN0b3JhZ2UKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WIoOmZpOaVtOS4qiBsb2NhbFN0b3JhZ2Ug5pWw5o2uCiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICBpbnNlcnQ6IGZ1bmN0aW9uKG9iail7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbGxlY3Rpb25OYW1lLCBKU09OLnN0cmluZ2lmeShvYmopKTsKICAgIH0sCiAgICBVcGRhdGEgOiBmdW5jdGlvbihuYW1lLG9iaix2YWx1ZSl7CiAgICAgIGNhY2hlW29ial09Y2FjaGVbb2JqXXx8e307CiAgICAgIGNhY2hlW29ial1bbmFtZV09dmFsdWU7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbGxlY3Rpb25OYW1lLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpOyAgICAgICAgLy/lm57lhpkgbG9jYWxTdG9yYWdlCiAgICB9LAogICAgUXVlcnkgOiBmdW5jdGlvbihvYmosbmFtZSl7CiAgICAgIHJldHVybiBjYWNoZVtvYmpdP25hbWU/KGNhY2hlW29ial1bbmFtZV0/Y2FjaGVbb2JqXVtuYW1lXTpudWxsKTpjYWNoZVtvYmpdOm51bGw7CiAgICB9LAogICAgZmluZCA6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgaWYoIWNvbGxlY3Rpb25OYW1lKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiBjYWNoZVtuYW1lXTsKICAgIH0sCiAgICByZWFkIDogZnVuY3Rpb24oKXsKICAgICAgcmV0dXJuIGNhY2hlOwogICAgfSwKICAgIGRlbGV0ZUV4cGlyZXMgOiBmdW5jdGlvbihub3cpewogICAgICB2YXIgbm93PW5vd3x8JC5ub3coKTsKICAgICAgZm9yKHZhciBpIGluIGNhY2hlKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhpLGNvbGxlY3Rpb25OYW1lLG5vdyxjYWNoZVtpXVsnZXhwJ10sbm93PmNhY2hlW2ldWydleHAnXS8qLGNhY2hlW2ldLGxvY2FsU3RvcmFnZVtpXSovKTsgLy/liKDpmaTorrDlvZXmmL7npLoKICAgICAgICBpZihub3c+Y2FjaGVbaV1bJ2V4cCddKSB7CiAgICAgICAgICAvL2RlbGV0ZSBjYWNoZVtpXTsKICAgICAgICAgIC8vY29uc29sZS5sb2coJ+WIoOmZpO+8micsaSxjYWNoZSxjYWNoZVtpXSk7IC8v56Gu5a6a6ZyA6KaB5Yig6Zmk55qE5YaF5a65CiAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbGxlY3Rpb25OYW1lLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpOwkJLy/liKDpmaTlu7bml7borrDlvZUKICAgICAgICAgIC8vbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSk7CQkJCQkJCQkJCS8v5Yig6ZmkIGxvY2FsU3RvcmFnZSDorrDlvZUKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIERvd25BamF4KHVybHMsc2VsZWN0aW9uLGNhbGxiYWNrKXsKICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICBtZXRob2Q6ICJHRVQiLAogICAgdXJsOiB1cmxzLAogICAgb25sb2FkOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIHZhciBwYXJzZXRleHQgPSBmdW5jdGlvbih0ZXh0KXsKICAgICAgICB2YXIgZG9jID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTsKICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDsKICAgICAgICAgIHJldHVybiBkb2M7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICBhbGVydCgicGFyc2UgZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIERvd247CiAgICAgIHZhciBkb2MgPSBwYXJzZXRleHQocmVzdWx0LnJlc3BvbnNlVGV4dCk7CiAgICAgIGNvbnNvbGUubG9nKGRvYywkKGRvYykpOwogICAgICB2YXIgdCA9ICQoZG9jKS5maW5kKHNlbGVjdGlvbik7CiAgICAgIGNhbGxiYWNrKHQpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBEYXRlcygpewogIHZhciBzRGF0ZT1uZXcgRGF0ZSgpOwogIHJldHVybiBzRGF0ZS5nZXRGdWxsWWVhcigpKycvJysoc0RhdGUuZ2V0TW9udGgoKSsxKSsnLycrc0RhdGUuZ2V0RGF0ZSgpOwp9"},{"name":"破解VIP会员视频集合","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["*://*.bilibili.com/blackboard/*"],"orig_includes":[],"orig_matches":["*://*.iqiyi.com/*","*://*.youku.com/*","*://*.le.com/*","*://*.letv.com/*","*://v.qq.com/*","*://*.tudou.com/*","*://*.mgtv.com/*","*://film.sohu.com/*","*://tv.sohu.com/*","*://*.acfun.cn/v/*","*://*.bilibili.com/*","*://vip.1905.com/play/*","*://*.pptv.com/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.fun.tv/vplay/*","*://*.wasu.cn/Play/show/*","*://*.56.com/*"],"orig_noframes":true,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856011},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/27530-%E7%A0%B4%E8%A7%A3vip%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88/code/%E7%A0%B4%E8%A7%A3VIP%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88.user.js","uuid":"2780da2e-bc5b-4d1b-883e-e33287233f3e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnoLTop6NWSVDkvJrlkZjop4bpopHpm4blkIgKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzEwNDIwMQovLyBAdmVyc2lvbiAgICAgIDQuMC4yCi8vIEBkZXNjcmlwdGlvbiAg56C06KejW+S8mOmFt3zohb7orq985LmQ6KeGfOeIseWlh+iJunzoipLmnpx8QULnq5l86Z+z5oKm5Y+wXeetiVZJUOaIluS8muWRmOinhumike+8jOino+aekOaOpeWPo+i0teeyvuS4jei0teWkmu+8jOe7neWvueWkn+eUqOOAguacieebtOaOpei3s+i9rO+8i+Wkh+eUqOaOpeWPo+WIl+ihqOOAguivpue7huaWueazleeci+ivtOaYjui/mOacieWbvueJh+OAguWMheWQq+S6hlvnoLTop6PlhajnvZFWSVDop4bpopHkvJrlkZgt5Y675bm/5ZGK4pa2dHRtc2p4XVtWSVDkvJrlkZjop4bpopHop6PmnpDilrbpvpnovaldW+mFt+e7mC3noLTop6NWSVDkvJrlkZjop4bpopHilrZhaHVpYWJjMjAwM13ku6Xlj4pbVklQ6KeG6aKR56C06Kej4pa2aG9vdGhpbl3nmoTpg6jliIbmjqXlj6PjgIIKLy8gQGF1dGhvciAgICAgICDpu4Tnm5AKLy8gQG5vZnJhbWVzCi8vIEBtYXRjaCAgICAgICAgKjovLyouaXFpeWkuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi55b3VrdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmxlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoubGV0di5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly92LnFxLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoudHVkb3UuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5tZ3R2LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2ZpbG0uc29odS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly90di5zb2h1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouYWNmdW4uY24vdi8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouYmlsaWJpbGkuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdmlwLjE5MDUuY29tL3BsYXkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnBwdHYuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdi55aW55dWV0YWkuY29tL3ZpZGVvLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdi55aW55dWV0YWkuY29tL3BsYXlsaXN0LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5mdW4udHYvdnBsYXkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLndhc3UuY24vUGxheS9zaG93LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi41Ni5jb20vKgovLyBAZXhjbHVkZSAgICAgICo6Ly8qLmJpbGliaWxpLmNvbS9ibGFja2JvYXJkLyoKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB0TXNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgdE1zY3JpcHQuaW5uZXJUZXh0ID0gYHEgPSBmdW5jdGlvbihjc3NTZWxlY3Rvcil7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3NzU2VsZWN0b3IpO307cWEgPSBmdW5jdGlvbihjc3NTZWxlY3Rvcil7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3NzU2VsZWN0b3IpO307YDsKICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodE1zY3JpcHQpOwogICAgd2luZG93LnEgPSBmdW5jdGlvbihjc3NTZWxlY3Rvcikge3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNzc1NlbGVjdG9yKTt9OwogICAgd2luZG93LnFhID0gZnVuY3Rpb24oY3NzU2VsZWN0b3IpIHtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3NTZWxlY3Rvcik7fTsKICAgIHZhciByZXBsYWNlUmF3ID0gR01fZ2V0VmFsdWUoInJlcGxhY2VSYXciKTsKICAgIHZhciBlcGlzb2RlcyA9IEdNX2dldFZhbHVlKCJlcGlzb2RlcyIpOwogICAgaWYoR01fZ2V0VmFsdWUoJ3VzZXJBcGlzJykgPT09IHVuZGVmaW5lZClHTV9zZXRWYWx1ZSgndXNlckFwaXMnLCBbe31dKTsKICAgIGlmKEdNX2dldFZhbHVlKCd1c2VyQXBpc09uJykgPT09IHVuZGVmaW5lZClHTV9zZXRWYWx1ZSgndXNlckFwaXNPbicsIGZhbHNlKSA7CiAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgI1RNYW5heXN7ei1pbmRleDo5OTk5OTk7IHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjBweDsgdG9wOjBweDsgd2lkdGg6MTAwcHg7IGhlaWdodDphdXRvOyBib3JkZXI6MDsgbWFyZ2luOjA7fQogICAgICAgICNUTWlmcmFtZXtwb3NpdGlvbjphYnNvbHV0ZTt9CiAgICAgICAgI3BhcnNlVWx7cG9zaXRpb246Zml4ZWQ7dG9wOjgwcHg7IGxlZnQ6MHB4O30KICAgICAgICAjcGFyc2VVbCBsaXtsaXN0LXN0eWxlOm5vbmU7fQogICAgICAgIC5UTTF7b3BhY2l0eTowLjM7IHBvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6IDAgN3B4IDAgMDsgbWluLXdpZHRoOiAxOXB4OyBjdXJzb3I6cG9pbnRlcjt9CiAgICAgICAgLlRNMTpob3ZlcntvcGFjaXR5OjE7fQogICAgICAgIC5UTTEgc3BhbntkaXNwbGF5OmJsb2NrOyBib3JkZXItcmFkaXVzOjAgNXB4IDVweCAwOyBiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmMDA7IGJvcmRlcjowOyBmb250OmJvbGQgMTVweCAi5b6u6L2v6ZuF6buRIiAhaW1wb3J0YW50OyBjb2xvcjojZmYwMDAwOyBtYXJnaW46MDsgcGFkZGluZzoxNXB4IDJweDt9CiAgICAgICAgLlRNM3twb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjA7IGxlZnQ6MTlweDsgZGlzcGxheTpub25lOyBib3JkZXItcmFkaXVzOjVweDsgbWFyZ2luOjA7IHBhZGRpbmc6MDt9CiAgICAgICAgLlRNMyBsaXtmbG9hdDpub25lOyB3aWR0aDo4MHB4OyBtYXJnaW46MDsgZm9udC1zaXplOjE0cHg7IHBhZGRpbmc6M3B4IDEwcHggMnB4IDE1cHg7IGN1cnNvcjpwb2ludGVyOyBjb2xvcjojM2EzYTNhICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDAsMC44KX0KICAgICAgICAuVE0zIGxpOmhvdmVye2NvbG9yOndoaXRlICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjgpO30KICAgICAgICAuVE0zIGxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7fQogICAgICAgIC5UTTMgbGk6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7fQogICAgICAgIC5UTTE6aG92ZXIgLlRNM3tkaXNwbGF5OmJsb2NrfQogICAgICAgIC8qMjAxNy0xMC0yNCDlr7nlupToh6rlrprkuYnop6PmnpDmjqXlj6Ppg6jliIYqLwogICAgICAgICN0TXVzZXJEZWZpbmUge2Rpc3BsYXk6bm9uZTt3aWR0aDo1MDBweDtoZWlnaHQ6YXV0bztiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLDEpO3BhZGRpbmc6NXB4O2JvcmRlci1yYWRpdXM6NXB4O3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MjAlO3RvcDoyMCU7Zm9udC1zaXplOjE2cHg7ei1pbmRleDo5OTk5OTk7fQogICAgICAgICN0TXVzZXJEZWZpbmUgbGkge21hcmdpbjo1cHg7d2lkdGg6MTAwJTtsaXN0LXN0eWxlLXR5cGU6bm9uZTt9CiAgICAgICAgI3RNdXNlckRlZmluZSBpbnB1dFt0eXBlPSJ0ZXh0Il0ge3dpZHRoOjcwJTtoZWlnaHQ6MzBweDtib3JkZXI6MXB4IHNvbGlkICMzYTNhM2E7bWFyZ2luOjAgMTBweDtwYWRkaW5nOjAgNXB4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Zm9udC1zaXplOjE2cHghaW1wb3J0YW50O2NvbG9yOiMzYTNhM2E7Ym9yZGVyLXJhZGl1czo1cHh9CiAgICAgICAgI3RNdXNlckRlZmluZSBidXR0b24ge2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6IzNhM2EzYTtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1yYWRpdXM6NXB4O3dpZHRoOjIwJTtoZWlnaHQ6MzBweDttYXJnaW46NXB4O2N1cnNvcjpwb2ludGVyO30KICAgICAgICAjdE11c2VyRGVmaW5lIGJ1dHRvbjpob3ZlciB7YmFja2dyb3VuZDojNTU1O2NvbG9yOnllbGxvdztib3JkZXI6MDt9CiAgICAgICAgLmlsaW5rIHt3aWR0aDo4MCU7fQogICAgICAgIC5pZGVsZXRlIHtmbG9hdDogbGVmdDsgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgY29sb3I6IHJlZDsgcGFkZGluZzogMCAyMHB4ICFpbXBvcnRhbnQ7IGN1cnNvcjogcG9pbnRlcjt9CiAgICAgICAgLmluYW1lIHtwYWRkaW5nLXJpZ2h0OjEwcHg7fQogICAgICAgIGxpOmhvdmVyIC5pZGVsZXRlLGxpOmhvdmVyIC5pbGluayxsaTpob3ZlciAuaW5hbWUge2JhY2tncm91bmQ6cmdiYSgyMjQsMTc1LDE3LDAuNjIpO30KICAgIGApOwogICAgdmFyIGFwaXMgPVsKICAgICAgICB7bmFtZToidlBhcnNlW+iFvl0iLHVybDoiaHR0cHM6Ly9hcGkudnBhcnNlLm9yZy8/dXJsPSIsdGl0bGU6IuaUr+aMgeiFvuiuryJ9LAogICAgICAgIC8ve25hbWU6IkZMVlNQW+iFvuiur10iLHVybDoiaHR0cHM6Ly9hcGkuZmx2c3AuY29tLz91cmw9Iix0aXRsZToi5pSv5oyB6IW+6K6vIn0sLy/op6PmnpDmupDlkIzkuIoKICAgICAgICB7bmFtZToi5ZmX5ZmX55S15b2xIix1cmw6Imh0dHA6Ly9wdXB1ZHkuY29tL3BsYXk/bWFrZT11cmwmaWQ9Iix0aXRsZToi57u85ZCI5o6l5Y+j77yM56C06Kej5YWo572RVklQ6KeG6aKR5Lya5ZGYLeWOu+W5v+WRiuOAkOS9nOiAhXR0bXNqeOOAkeiEmuacrOeahOaOpeWPoyJ9LAogICAgICAgIHtuYW1lOiJQVS50biIsdXJsOiJodHRwOi8vYXBpLnB1LnRuL3FxMS8/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+S8mOmFt+W4g+iii+aIjyJ9LAogICAgICAgIHtuYW1lOiLphbfnu5giLHVybDoiaHR0cDovL2FwcGFwaS5zdmlwdi5rdXVodWkuY29tL3N2aXBqeC9saXVsYW5xaWNoYWppYW4vYnJvd3NlcnBsdWdpbi9xaGp4L3FoangucGhwP2lkPSIsdGl0bGU6Iue7vOWQiOaOpeWPo++8jOmFt+e7mCrjgJDkvZzogIVhaHVpYWJjMjAwM+OAkeiEmuacrOeahOaOpeWPoyJ9LAogICAgICAgIHtuYW1lOiLnmb7ln5/pmIEiLHVybDoiaHR0cDovL2FwaS5iYWl5dWcuY24vdmlwL2luZGV4LnBocD91cmw9Iix0aXRsZToi6L2s5ZyI5ZyI5bCx5o2i57q/6LevIn0sCiAgICAgICAge25hbWU6IuaXi+mjjuino+aekCIsdXJsOiJodHRwOi8vYXBpLnhmc3ViLmNvbS9pbmRleC5waHA/dXJsPSIsdGl0bGU6IjE5MDXkvJjlhYjkvb/nlKgifSwKICAgICAgICB7bmFtZToi55+z5aS06Kej5p6QIix1cmw6Imh0dHBzOi8vamlleGkuMDcxODExLmNjL2p4LnBocD91cmw9Iix0aXRsZToi5omL5Yqo54K55pKt5pS+In0sCiAgICAgICAge25hbWU6IuaXoOWQjeWwj+ermSIsdXJsOiJodHRwOi8vd3d3LnNmc2Z0LmNvbS9hZG1pbi5waHA/dXJsPSIsdGl0bGU6IuaXoOWQjeWwj+ermeWQjOa6kCJ9LAogICAgICAgIHtuYW1lOiJWSVDnnIvnnIsiLHVybDoiaHR0cDovL3Euei52aXAudG90di43MmR1LmNvbS8/dXJsPSIsdGl0bGU6IuabtOaNoue6v+i3r+aIkOWKn+eOh+S8muaPkOmrmCJ9LAogICAgICAgIHtuYW1lOiJPREZMViIsdXJsOiJodHRwOi8vYWlrYW4tdHYuY29tLz91cmw9Iix0aXRsZToi5LiN56iz5a6a77yM5bm/5ZGK6L+H5ruk6L2v5Lu25Y+v6IO95pyJ5b2x5ZONIn0sCiAgICAgICAge25hbWU6IjE2M+S6uiIsdXJsOiJodHRwOi8vanguYXBpLjE2M3Jlbi5jb20vdm9kLnBocD91cmw9Iix0aXRsZToi5YG25bCU5pSv5oyB6IW+6K6vIn0sCiAgICAgICAge25hbWU6IkNLRkxWIix1cmw6Imh0dHA6Ly93d3cuMDMzNWhhaWJvLmNvbS90b25nLnBocD91cmw9Iix0aXRsZToiQ0tGTFbkupEs6YOo5YiG56uZ54K55LiN5pSv5oyBIn0sCiAgICAgICAgLy8ge25hbWU6IuiInuWKqOeni+WkqSIsdXJsOiJodHRwOi8vcXR6ci5uZXQvcy8/cXQ9Iix0aXRsZToicXR6ci5uZXQifSwKICAgICAgICB7bmFtZToi5peg5ZCN5bCP56uZMiIsdXJsOiJodHRwOi8vd3d3LndteHoud2FuZy92aWRlby5waHA/dXJsPSIsdGl0bGU6Iui9rOWciOWciOWwseaNoue6v+i3ryJ9LAogICAgICAgIHtuYW1lOiLnnLznnZvkvJrkuIvpm6giLHVybDoiaHR0cDovL3d3dy52aXBqaWV4aS5jb20veXVuLnBocD91cmw9Iix0aXRsZToid3d3LnZpcGppZXhpLmNvbSJ9LAogICAgICAgIHtuYW1lOiIxMDA45b2x6KeGIix1cmw6Imh0dHA6Ly9hcGkuMTAwOG5ldC5jb20vdi5waHA/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+W4g+iii+a4uOaIj+inhumikSJ9LAogICAgICAgIHtuYW1lOiLkurrkurrlj5HluIMiLHVybDoiaHR0cDovL3YucmVucmVuZmFidS5jb20vamlleGkucGhwP3VybD0iLHRpdGxlOiLnu7zlkIjvvIzlpJrnur/ot68ifQogICAgXTsKICAgIHZhciB1c2VyQXBpc09uID0gR01fZ2V0VmFsdWUoJ3VzZXJBcGlzT24nKTsKICAgIHZhciBkZWZhdWx0YXBpID0gewogICAgICAgIHRpdGxlOiAi6b6Z6L2p6ISa5pys55qE5o6l5Y+j77yM6buY6K6k55So5rWu56m66Kej5p6Q77yM5aSx5pWI6K+35pu05o2i5o6l5Y+jIiwgdXJsOiAiaHR0cDovL2dvdWRpZGlhby5jb20vP3VybD0iCiAgICB9OwogICAgLy/ltYzlhaXpobXpnaLmkq3mlL4KICAgIGZ1bmN0aW9uIG9wZW5JblRhYihldnQpIHsKICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICAgICAgaWZyYW1lLmlkID0gIlRNaWZyYW1lIjsKICAgICAgICB2YXIgdmlkZW87CiAgICAgICAgLy9pZnJhbWUuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXI6bm9uZTsiOwogICAgICAgIGlmcmFtZS5zdHlsZS5ib3JkZXIgPSAibm9uZSI7CiAgICAgICAgaWZyYW1lLnRleHRBbGlnbiA9ICJjZW50ZXIiOwogICAgICAgIGlmcmFtZS5zcmMgPSBldnQudGFyZ2V0LmRhdGFzZXQudXJsICsgbG9jYXRpb24uaHJlZjsKICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsgLy8tLS0tLS0tLS0tLS0t5qOA5rWL6KeG6aKR5YWD57Sg5oCd6Lev5YCf6Ym05LuW5Lq6IExpY2Vuc2UgTUlUIEJlZ2luLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgW10uZXZlcnkuY2FsbChxYSgib2JqZWN0LGVtYmVkLHZpZGVvIiksIGZ1bmN0aW9uKGl0ZW0pIHsgLy9MSU5LOmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8yNjU1Ni12aXDop4bpopHnoLTop6MKICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoaXRlbSwgbnVsbCk7IC8vSG9tZXBhZ2U6IGh0dHA6Ly9ob290aGluLmNvbQogICAgICAgICAgICAgICAgaWYgKHN0eWxlLndpZHRoLnJlcGxhY2UoInB4IiwgIiIpID4gMTAwICYmIHN0eWxlLmhlaWdodC5yZXBsYWNlKCJweCIsICIiKSA+IDEwMCkgeyAvL0VtYWlsOiByaXhpeGlAZ21haWwuY29tCiAgICAgICAgICAgICAgICAgICAgdmlkZW8gPSBpdGVtOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy/mnInmkq3mlL7nqpcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHZpZGVvIHx8IHEoIiNUTWlmcmFtZSIpKSB7CiAgICAgICAgICAgICAgICBpZiAocSgiI1RNaWZyYW1lIikpIHsKICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IHEoIiNUTWlmcmFtZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICB2YXIgdmlkZW9TdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodmlkZW8sIG51bGwpOwogICAgICAgICAgICAgICAgaWZyYW1lLndpZHRoID0gdmlkZW9TdHlsZS53aWR0aDsKICAgICAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSB2aWRlb1N0eWxlLmhlaWdodDsKICAgICAgICAgICAgICAgIHZhciB2aWRlb1BhcmVudCA9IHZpZGVvLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubGluZUhlaWdodCA9IGdldENvbXB1dGVkU3R5bGUodmlkZW9QYXJlbnQpLmhlaWdodDsKICAgICAgICAgICAgICAgIGlmICh2aWRlby5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaWZyYW1lLCB2aWRlbyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LCA1MDApOyAvLy0tLS0tLS0tLS0tLS3mo4DmtYvop4bpopHlhYPntKDmgJ3ot6/lgJ/pibTku5bkurogIEVuZC0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInlvdWt1IikgIT0gLTEpIHsKICAgICAgICAgICAgcWEoIi52cGFjdGlvbnY1X2lmcmFtZV93cmFwIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gbm9OZXdUYWJDaGVjaygpIHsKICAgICAgICB2YXIgeCwgYXJyID0gcWEoIi5UTTQgbGkiKTsKICAgICAgICByZXBsYWNlUmF3ID0gcSgiI2luVGFiQ2hla2J4IikuY2hlY2tlZDsKICAgICAgICBHTV9zZXRWYWx1ZSgicmVwbGFjZVJhdyIsIHJlcGxhY2VSYXcpOwogICAgICAgIGZvciAoeCA9IDA7IHggPCBhcnIubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgaWYgKHJlcGxhY2VSYXcpIHsKICAgICAgICAgICAgICAgIGFyclt4XS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG9wZW5JblRhYiwgZmFsc2UpOwogICAgICAgICAgICAgICAgYXJyW3hdLm9uY2xpY2sgPSAnJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFyclt4XS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIG9wZW5JblRhYiwgZmFsc2UpOwogICAgICAgICAgICAgICAgYXJyW3hdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3Blbih0aGlzLmRhdGFzZXQudXJsICsgbG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQovKiAg54ix5aWH6Im65q2j56Gu6YCJ6ZuGICAqLwogICAgZnVuY3Rpb24gcmlnaHRFcHNMaW5rQ2hlY2soKSB7CiAgICAgICAgZXBpc29kZXMgPSBxKCIjcmVhbExpbmtDaGVrYngiKS5jaGVja2VkOwogICAgICAgIEdNX3NldFZhbHVlKCJlcGlzb2RlcyIsIGVwaXNvZGVzKTsKICAgICAgICBpZiAoZXBpc29kZXMpIHsKICAgICAgICAgICAgcSgnI3dpZGdldC1kcmFtYXNlcmllcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gZ2V0TGluayhlKSB7IC8vLS0tLS0tLS0tLS0tLWlxaXlp5Ymn6ZuG55yf5a6e5pKt5pS+6aG16Z2i5pa55rOVICBCZWdpbi0tLS0tLS0tLS0tLS0tLS0tLS8vSG9tZXBhZ2U6IGh0dHA6Ly9ob290aGluLmNvbSAgICBFbWFpbDogcml4aXhpQGdtYWlsLmNvbQogICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0LnBhcmVudE5vZGUudGFnTmFtZSA9PSAiTEkiID8gZS50YXJnZXQucGFyZW50Tm9kZSA6IChlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUudGFnTmFtZSA9PSAiTEkiID8gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlIDogZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9ICJMSSIpIHJldHVybjsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly9jYWNoZS52aWRlby5xaXlpLmNvbS9qcC92aS8iICsgdGFyZ2V0LmRhdGFzZXQudmlkZW9saXN0VHZpZCArICIvIiArIHRhcmdldC5kYXRhc2V0LnZpZGVvbGlzdFZpZCArICIvP2NhbGxiYWNrPWNyYWNrSXFpeWkiLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmFja0lxaXlpID0gZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGQudnU7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwocmVzdWx0LnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOyAvLy0tLS0tLS0tLS0tLS1pcWl5aeWJp+mbhuecn+WunuaSreaUvumhtemdouaWueazlSAgRW5kLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcSgnI3dpZGdldC1kcmFtYXNlcmllcycpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0TGluayk7CiAgICAgICAgfQogICAgfQovKiAg5Yu+6YCJ6Ieq5a6a5LmJ5o6l5Y+jICAqLwogICAgZnVuY3Rpb24gYWRkQXBpQ2hlY2soKSB7CiAgICAgICAgdXNlckFwaXNPbiA9IHEoJyNhZGRBcGlDaGVrQngnKS5jaGVja2VkOwogICAgICAgIEdNX3NldFZhbHVlKCd1c2VyQXBpc09uJywgdXNlckFwaXNPbik7CiAgICAgICAgc2VsZkRlZmluZSgpOwogICAgICAgIGlmICh1c2VyQXBpc09uKSB7CiAgICAgICAgICAgIHNob3dBZGRBcGlQYW5lbCgpOwogICAgICAgIH0KICAgIH0KCi8qICDmiafooYwgICovCiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBkaXYuaWQgPSAiVE1hbmF5cyI7CiAgICB2YXIgdHh0ID0gJycsIGkgPSAwOwogICAgLyrnnIvnnIvmmK/lkKbpnIDopoHliqDovb3oh6rlrprkuYnnmoTmjqXlj6PliJfooagqLwogICAgaWYgKHVzZXJBcGlzT24pIHsKICAgICAgICB2YXIgdXNlckFwaXMgPSBHTV9nZXRWYWx1ZSgndXNlckFwaXMnKTsKICAgICAgICBmb3IgKHZhciBqIGluIHVzZXJBcGlzKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAodXNlckFwaXNbal0ubGluayAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHR4dCArPSAnPGxpIGRhdGEtb3JkZXI9JyArIGogKyAnIGRhdGEtdXJsPSInICsgdXNlckFwaXNbal0ubGluayArICciIG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPicgKyB1c2VyQXBpc1tqXS5uYW1lICsgJzwvbGk+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2VsZkRlZmluZSgpOwogICAgfQogICAgLyrmj5DkvpvnmoTmjqXlj6PliJfooagqLwogICAgZm9yIChpIGluIGFwaXMpIHsKICAgICAgICB0eHQgKz0gJzxsaSBkYXRhLW9yZGVyPScgKyBpICsgJyBkYXRhLXVybD0iJyArIGFwaXNbaV0udXJsICsgJyIgdGl0bGU9IicgKyBhcGlzW2ldLnRpdGxlICsgJyIgb25jbGljaz0id2luZG93Lm9wZW4odGhpcy5kYXRhc2V0LnVybCtsb2NhdGlvbi5ocmVmKSI+JyArIGFwaXNbaV0ubmFtZSArICc8L2xpPic7CiAgICB9CiAgICBkaXYuaW5uZXJIVE1MID0gJzx1bCBpZD0icGFyc2VVbCI+JyArCiAgICAgICAgJzxsaSBjbGFzcz0iVE0xIj48c3BhbiBpZD0iVE1MaXN0IiAgdGl0bGU9IicgKyBkZWZhdWx0YXBpLnRpdGxlICsgJyIgb25jbGljaz0id2luZG93Lm9wZW4oXCcnICsgZGVmYXVsdGFwaS51cmwgKyAnXCcrd2luZG93LmxvY2F0aW9uLmhyZWYpIj7ilrY8L3NwYW4+PHVsIGNsYXNzPSJUTTMgVE00Ij4nICsgdHh0ICsgJzwvdWw+PC9saT4nICsKICAgICAgICAnPGxpIGNsYXNzPSJUTTEiPjxzcGFuIGlkPSJUTVNldCI+4pajPC9zcGFuPjx1bCBjbGFzcz0iVE0zIj48bGk+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImluVGFiQ2hla2J4Ij7mnKzpobXop6PmnpA8L2xhYmVsPjwvbGk+PGxpPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJyZWFsTGlua0NoZWtieCI+54ix5aWH6Im65q2j56Gu6YCJ6ZuGPC9sYWJlbD48L2xpPjxsaT48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhZGRBcGlDaGVrQngiPjxsYWJlbCBpZD0iYWRkQXBpQnRuIj7lop7liqDmjqXlj6M8L2xhYmVsPjwvbGk+PC91bD48L2xpPicgKwogICAgICAgICc8L3VsPic7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAvLyBjb25zb2xlLmxvZyhkaXYucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUudGFnTmFtZSk7CiAgICBxKCIjaW5UYWJDaGVrYngiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG5vTmV3VGFiQ2hlY2ssIGZhbHNlKTsKICAgIHEoIiNpblRhYkNoZWtieCIpLmNoZWNrZWQgPSByZXBsYWNlUmF3OwogICAgcSgiI3JlYWxMaW5rQ2hla2J4IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCByaWdodEVwc0xpbmtDaGVjaywgZmFsc2UpOwogICAgcSgiI3JlYWxMaW5rQ2hla2J4IikuY2hlY2tlZCA9IGVwaXNvZGVzOwogICAgcSgiI2FkZEFwaUNoZWtCeCIpLmNoZWNrZWQgPSB1c2VyQXBpc09uOwogICAgcSgiI2FkZEFwaUNoZWtCeCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkQXBpQ2hlY2ssIGZhbHNlKTsKICAgIHEoIiNhZGRBcGlCdG4iKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dBZGRBcGlQYW5lbCwgZmFsc2UpOwoKICAgIGlmIChlcGlzb2RlcyAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJpcWl5aSIpICE9IC0xKSB7CiAgICAgICAgcmlnaHRFcHNMaW5rQ2hlY2soKTsKICAgIH0KICAgIGlmIChyZXBsYWNlUmF3ICYmIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCAhPSAiaHR0cHM6IikgewogICAgICAgIG5vTmV3VGFiQ2hlY2soKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiVE1TZXQiKS5jbGljaygpOwogICAgfSAvL2h0dHBz5ZKMaHR0cOmhtemdouS4jeiDvemVtuW1jOOAggoKLyoqIDIwMTctMTAtMjQgIOiHquWumuS5ieino+aekOaOpeWPoyAgKi8KLyogIOaYvuekuuWinuWKoOaOpeWPo+eahOmdouadvyAgKi8KICAgIGZ1bmN0aW9uIHNob3dBZGRBcGlQYW5lbCgpIHsKICAgICAgICBpZiAocSgnI3RNdXNlckRlZmluZScpKSB7CiAgICAgICAgICAgIHEoJyN0TXVzZXJEZWZpbmUnKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB9IGVsc2UgewovKiAg6I2J5rOl6ams5a2X56ym55S7LOS7u+aAp+S4gOasoeS6hiwKICAgIOWcqCBBbGVydCDnqpflj6Plh7rmnaXkuYvlkI7lupTor6XmmK/ov5nmoLfnmoQ6CiAgICAgKiAgICDilI/ilJMgICAgICDilI/ilJMKICAgICAqICAg4pSP4pSb4pS74pSB4pSB4pSB4pSB4pSB4pSB4pSb4pS74pSTCiAgICAgKiAgIOKUgyAgICAgICAgICDilIMKICAgICAqICAg4pSDICAgIOKUgSAgICAg4pSDCiAgICAgKiAgIOKUgyAg4pSz4pSbICDilJfilLMgIOKUgwogICAgICogICDilIMgICAgICAgICAg4pSDCiAgICAgKiAgIOKUgyAgICDilLsgICAgIOKUgwogICAgICogICDilIMgICAgICAgICAg4pSDCiAgICAgKiAgIOKUl+KUgeKUkyAgICAgIOKUj+KUgeKUmwogICAgICogICAgIOKUgyAgICAgIOKUgwogICAgICogICAgIOKUgyAgICAgIOKUgwogICAgICogICAgIOKUgyAgICAgIOKUl+KUgeKUgeKUgeKUkwogICAgICogICAgIOKUgyAgICAgICAgICDilKPilJMKICAgICAqICAgICDilIMgICAgICAgICAg4pSP4pSbCiAgICAgKiAgICAg4pSX4pST4pST4pSP4pSB4pSB4pSB4pSB4pSz4pST4pSP4pSbCiAgICAgKiAgICAgIOKUg+KUq+KUqyAgICDilIPilKvilKsKICAgICAqICAgICAg4pSX4pS74pSbICAgIOKUl+KUu+KUmyovCiAgICAgICAgICAgIGFsZXJ0KGAKICAgICAg4pSP4pSTICAgICAgICAgICAg4pSP4pSTCiAgICDilI/ilJvilLvilIHilIHilIHilIHilIHilIHilJvilLvilJMKICAgIOKUgyAgICAgICAgICAgICAgICAgICAg4pSDCiAgICDilIMgICAgICAgIOKUgSAgICAgICAgICDilIMKICAgIOKUgyAgICDilLPilJsgICAg4pSX4pSzICAgIOKUgwogICAg4pSDICAgICAgICAgICAgICAgICAgICDilIMKICAgIOKUgyAgICAgICAg4pS7ICAgICAgICAgIOKUgwogICAg4pSDICAgICAgICAgICAgICAgICAgICDilIMKICAgIOKUl+KUgeKUkyAgICAgICAgICAgIOKUj+KUgeKUmwogICAgICAgIOKUgyAgICAgICAgICAgIOKUgyAgICAgIOacquWQr+eUqFvlop7liqDmjqXlj6Nd5Yqf6IO9CiAgICAgICAg4pSDICAgICAgICAgICAg4pSDICAgICAg6K+35oqKICfimJHlop7liqDmjqXlj6MnJyDnmoQnIOKWoyAnIOmAiemhueWLvuS4iiAhCiAgICAgICAg4pSDICAgICAgICAgICAg4pSX4pSB4pSB4pSB4pSTCiAgICAgICAg4pSDICAgICAgICAgICAgICAgICAgICDilKPilJMKICAgICAgICDilIMgICAgICAgICAgICAgICAgICAgIOKUj+KUmwogICAgICAgIOKUl+KUk+KUk+KUj+KUgeKUgeKUgeKUgeKUs+KUk+KUj+KUmwogICAgICAgICAg4pSD4pSr4pSrICAgICAgICDilIPilKvilKsKICAgICAgICAgIOKUl+KUu+KUmyAgICAgICAg4pSX4pS74pSbCiAgICAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgfQogICAgfQovKiAg55Sf5oiQ5aKe5Yqg5o6l5Y+j6Z2i5p2/ICAqLwogICAgZnVuY3Rpb24gc2VsZkRlZmluZSgpIHsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGEuaWQgPSAndE11c2VyRGVmaW5lJzsKICAgICAgICB2YXIgdHh0ID0gYAogICAgICAgICAgICA8bGk+PHNwYW4+6Kej5p6Q5o6l5Y+j5ZCN56ewOjwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9InRNbmFtZSIgcGxhY2Vob2xkZXI9IuaYvuekuueahOWQjeensCI+PC9saT4KICAgICAgICAgICAgPGxpPjxzcGFuPuino+aekOaOpeWPo+WcsOWdgDo8L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJ0TXBhcnNlTGluayIgcGxhY2Vob2xkZXI9IuaOpeWPo+mcgOimgeWMheWQqyBodHRwIOaIluiAhSBodHRwcyI+PC9saT4KICAgICAgICAgICAgPGxpIGlkPSJ0TWJ0bkxpIj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InRNcXVpdCIgb25jbGljaz0icSgnI3RNdXNlckRlZmluZScpLnN0eWxlLmRpc3BsYXk9J25vbmUnOyI+5YWz6ZetPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ0TWdvIiBvbmNsaWNrPSJ3aW5kb3cub3BlbihxKCcjdE1wYXJzZUxpbmsnKS52YWx1ZStsb2NhdGlvbi5ocmVmKSI+5rWL6K+VPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ0TWFkZCI+5aKe5YqgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJ0TXNhdmUiPuS/neWtmDwvYnV0dG9uPgogICAgICAgICAgICA8L2xpPgogICAgICAgIGA7CiAgICAgICAgdmFyIGFyID0gR01fZ2V0VmFsdWUoJ3VzZXJBcGlzJyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKGFyWzBdLm5hbWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHR4dCArPSBgPGxpPjxzcGFuIGNsYXNzPSJpZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndE11c2VyRGVmaW5lJykucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlKSI+4pyYPC9zcGFuPjxzcGFuIGNsYXNzPSJpbmFtZSI+JHthcltpXS5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzcz0iaWxpbmsiPiR7YXJbaV0ubGlua308L3NwYW4+PC9saT5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICBhLmlubmVySFRNTCA9IHR4dDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIC8q5LqL5Lu257uR5a6aKi8KICAgICAgICBxKCcjdE1zYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG5ld1BhcnNlTGlua3MgPSBnZXRhcnIoKTsKICAgICAgICAgICAgR01fc2V0VmFsdWUoJ3VzZXJBcGlzJywgbmV3UGFyc2VMaW5rcyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1BhcnNlTGlua3MpOwogICAgICAgIH0sIGZhbHNlKTsKICAgICAgICBxKCcjdE1hZGQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAocSgnI3RNbmFtZScpLnZhbHVlIHx8IHEoJyN0TXBhcnNlTGluaycpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgICAgICBhLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0iaWRlbGV0ZSIgdGl0bGU9IuWIoOmZpCIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RNdXNlckRlZmluZScpLnJlbW92ZUNoaWxkKHRoaXMucGFyZW50Tm9kZSkiPuKcmDwvc3Bhbj48c3BhbiBjbGFzcz0iaW5hbWUiPiR7cSgnI3RNbmFtZScpLnZhbHVlfTo8L3NwYW4+PHNwYW4gY2xhc3M9ImlsaW5rIj4ke3EoJyN0TXBhcnNlTGluaycpLnZhbHVlfTwvc3Bhbj5gOwogICAgICAgICAgICAgICAgaWYgKHEoJ3NwYW5bY2xhc3M9aW5hbWVdJykgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBxKCcjdE11c2VyRGVmaW5lJykuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICAgICAgcSgnI3RNbmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgcSgnI3RNcGFyc2VMaW5rJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcSgnI3RNdXNlckRlZmluZScpLmluc2VydEJlZm9yZShhLCBxKCdzcGFuW2NsYXNzPWluYW1lXScpLnBhcmVudE5vZGUpOwogICAgICAgICAgICAgICAgICAgIHEoJyN0TW5hbWUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgICAgIHEoJyN0TXBhcnNlTGluaycpLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LCBmYWxzZSk7CiAgICB9Ci8qICDkv53lrZjmjInpkq7miafooYzlh73mlbA66I635Y+W5YC85bm2IEdNX3NldFZhbHVlKCkgICovCiAgICBmdW5jdGlvbiBnZXRhcnIoKSB7CiAgICAgICAgdmFyIHVzZXJVcmwgPSBxYSgnLmlsaW5rJyk7CiAgICAgICAgdmFyIHVybGFyciA9IFtdLCB0TW5hbWUsIHRNcGFyc2VMaW5rOwogICAgICAgIHRNbmFtZSA9IHEoJyN0TW5hbWUnKS52YWx1ZTsKICAgICAgICB0TXBhcnNlTGluayA9IHEoJyN0TXBhcnNlTGluaycpLnZhbHVlOwogICAgICAgIGlmICh0TW5hbWUgfHwgdE1wYXJzZUxpbmspIHsKICAgICAgICAgICAgdXJsYXJyLnB1c2goeyBuYW1lOiB0TW5hbWUsIGxpbms6IHRNcGFyc2VMaW5rIH0pOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJVcmwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIG4sIHQ7CiAgICAgICAgICAgIG4gPSB1c2VyVXJsW2ldLnByZXZpb3VzU2libGluZy5pbm5lclRleHQ7CiAgICAgICAgICAgIHQgPSB1c2VyVXJsW2ldLmlubmVyVGV4dDsKICAgICAgICAgICAgdXJsYXJyLnB1c2goeyBuYW1lOiBuLCBsaW5rOiB0IH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdXJsYXJyOwogICAgfQovKiogMjAxNy0xMC0yNCAg6Ieq5a6a5LmJ6Kej5p6Q5o6l5Y+jIEVORCAqLwoKfSkoKTsKCi8vIOi1hOa6kOWPguiAg2h0dHA6Ly93d3cuNWlmeHcuY29tL3ZpcC8KLy8g6LWE5rqQ5Y+C6ICDaHR0cDovL2xpdmUuZ29wYXJ0b29rLmNvbS8KLy8g6LWE5rqQ5Y+C6ICDaHR0cDovL3R2LmRzcW5kaC5jb20KLy8g6LWE5rqQ5Y+C6ICDaHR0cDovLzUxLnJ1eW8ubmV0L3AvMzEyNy5odG1sCi8v5pyJ5pWI5oCn5pyq55+lfHzkuI3og73nm7TmjqXlvJXnlKjmjqXlj6MKLy9odHRwOi8vd3d3Lnl5ZHk4LmNvbS9jb21tb24vP3VybD0KLy9ocmVmPSJodHRwOi8vbXQydC5jb20veXVuP3VybD0KLy9odHRwczovL2FwaS40N2tzLmNvbS93ZWJjbG91ZC8/dj0KLy9odHRwOi8vd3d3Lmd1cWlhbmt1bi5jb20vdG9vbHMvdmlwdmlkZW8KLy/ov4fmnJ/mjqXlj6MKLy97bmFtZToiNjVZVyIsdXJsOiJodHRwOi8vd3d3LjY1eXcuY29tLzY1eXcvP3ZpZD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi57Sr54uQIix1cmw6Imh0dHA6Ly95dW4uemlodS50di9wbGF5Lmh0bWw/dXJsPSIsdGl0bGU6IuaViOaenOWPr+iDveS4jeeos+WumiJ9LAovL3tuYW1lOiLkupHop6PmnpAiLHVybDoiaHR0cDovL3d3dy5lZnVuZmlsbS5jb20veXVucGFyc2UvaW5kZXgucGhwP3VybD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi5aa55YS/5LqRIix1cmw6Imh0dHBzOi8vd3d3Lnl5bWVpZXIuY29tL2FwaS5waHA/dXJsPSIsdGl0bGU6IuS4jeeos+WumiJ9Ci8ve25hbWU6IlbkupFb6IW+6K6vXSIsdXJsOiJodHRwOi8vd3d3LnZpeXVuLm1lL2ppZXhpLnBocD91cmw9Iix0aXRsZToi6IW+6K6v6aaW6YCJIn0sCgovL2h0dHBz5Y2P6K6u6aG16Z2i77yaZmlsbS5zb2h1LmNvbQ=="},{"name":"AutoUnlock","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://maijz128.github.io/AutoUnlock/AutoUnlock/?open=*","https://maijz128.github.io/AutoUnlock/AutoUnlock/?open=*","http://pan.baidu.com/share/init?*","https://pan.baidu.com/share/init?*","http://localhost:8094/AutoUnlock/?open=*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856015},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/31324-autounlock/code/AutoUnlock.user.js","uuid":"65cc0249-c5ce-4493-a3e4-5b3fd019b6fb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBdXRvVW5sb2NrCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzMxMzI0LWF1dG91bmxvY2sKLy8gQHZlcnNpb24gICAgICAwLjIuMyAgICAgICAgICAKLy8gQGRlc2NyaXB0aW9uICDoh6rliqjot7Povazlubbop6PplIHnmb7luqbnvZHnm5jjgIFNZWdh5YiG5LqrCi8vIEBhdXRob3IgICAgICAgTWFpSloKLy8gQGhvbWVwYWdlVVJMICBodHRwczovL2dpdGh1Yi5jb20vbWFpanoxMjgvQXV0b1VubG9jawovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWlqejEyOC9BdXRvVW5sb2NrCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL21haWp6MTI4LmdpdGh1Yi5pby9BdXRvVW5sb2NrL0F1dG9VbmxvY2svP29wZW49KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vbWFpanoxMjguZ2l0aHViLmlvL0F1dG9VbmxvY2svQXV0b1VubG9jay8/b3Blbj0qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3Bhbi5iYWlkdS5jb20vc2hhcmUvaW5pdD8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2luaXQ/KgovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly9sb2NhbGhvc3Q6ODA5NC9BdXRvVW5sb2NrLz9vcGVuPSoKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VGFiCi8vIEBncmFudCAgICAgICAgR01fc2F2ZVRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFRhYnMKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBTSVRFX1dBSVRfVElNRSA9IDUwMDsKY29uc3QgREFUQV9PVkVSX1RJTUUgPSAxMCAqIDEwMDA7CgooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgcnVuKCk7Cn0pKCk7CgpmdW5jdGlvbiBydW4oKSB7CiAgICB2YXIgaXNBdXRvVW5sb2NrU2l0ZSA9IGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiQXV0b1VubG9jayIpID4gLTE7CiAgICB2YXIgaXNCYWlkdVNoYXJlSW5pdFNpdGUgPSBsb2NhdGlvbi5ocmVmLmluZGV4T2YoInBhbi5iYWlkdS5jb20vc2hhcmUvaW5pdCIpID4gLTE7CgogICAgaWYgKGlzQXV0b1VubG9ja1NpdGUpIHsKICAgICAgICB2YXIgaW50ZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChBdXRvVW5sb2NrLmRvbmUpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXIpOwogICAgICAgICAgICAgICAgaGFuZGxlKEF1dG9VbmxvY2spOwogICAgICAgICAgICB9CiAgICAgICAgfSwgNTApOwogICAgfSBlbHNlIGlmIChpc0JhaWR1U2hhcmVJbml0U2l0ZSkgewogICAgICAgIHVubG9ja19iYWlkdSgpOwogICAgfQp9CgpmdW5jdGlvbiBoYW5kbGUoYXV0b1VubG9jaykgewogICAgY29uc3QgdXJsID0gYXV0b1VubG9jay51cmw7CiAgICBjb25zdCBwYXNzd29yZCA9IGF1dG9VbmxvY2sucGFzc3dvcmQ7CiAgICBjb25zdCBpc01lZ2EgPSB1cmwuaW5kZXhPZigibWVnYS5ueiIpID4gLTE7CiAgICBjb25zdCBpc0JhaWR1UGFuID0gdXJsLmluZGV4T2YoInBhbi5iYWlkdS5jb20iKSA+IC0xOwoKCiAgICBpZiAoaXNCYWlkdVBhbikgewogICAgICAgIGhhbmRsZUJhaWR1KHVybCwgcGFzc3dvcmQpOwogICAgfSBlbHNlIGlmIChpc01lZ2EpIHsKICAgICAgICBoYW5kbGVNZWdhKHVybCwgcGFzc3dvcmQpOwogICAgfQp9CgpmdW5jdGlvbiBoYW5kbGVCYWlkdSh1cmwsIHBhc3N3b3JkKSB7CiAgICB2YXIgYXV0b1VubG9jayA9IHsKICAgICAgICB1cGRhdGVUaW1lOiBEYXRlLm5vdygpLAogICAgICAgIHVybDogdXJsLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgfTsKICAgIGNvbnNvbGUuZ3JvdXAoIkF1dG9VbmxvY2tTaXRlID4+IHBhbi5iYWl1LmNvbToiKTsKICAgIGNvbnNvbGUuaW5mbyhhdXRvVW5sb2NrKTsKICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKCiAgICAvLyBpbml0IHRhYgogICAgR01fZ2V0VGFiKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgdmFyIHRoaXNfdGFiX2RhdGEgPSBvOwogICAgICAgIHRoaXNfdGFiX2RhdGFbVEFCX0lEXSA9IHRydWU7CiAgICAgICAgdGhpc190YWJfZGF0YS5BdXRvVW5sb2NrID0gYXV0b1VubG9jazsKICAgICAgICBHTV9zYXZlVGFiKHRoaXNfdGFiX2RhdGEpOwoKICAgICAgICBqdW1wU2l0ZSh1cmwpOwogICAgfSk7Cgp9CgpmdW5jdGlvbiBoYW5kbGVNZWdhKHVybCwgcGFzc3dvcmQpIHsKICAgIHZhciB0YXJnZXRVUkwgPSB1cmwgKyBwYXNzd29yZDsKICAgIGp1bXBTaXRlKHRhcmdldFVSTCk7Cn0KCi8vIOabtOaWsOaVsOaNruWQjui3s+i9rOWIsOe9keebmApmdW5jdGlvbiBqdW1wU2l0ZSh1cmwpIHsKICAgIHZhciB0YXJnZXRVUkwgPSB1cmw7CiAgICBpZiAodGFyZ2V0VVJMLmluZGV4T2YoImh0dHAiKSAhPT0gMCkgewogICAgICAgIHRhcmdldFVSTCA9ICJodHRwOi8vIiArIHRhcmdldFVSTDsKICAgIH0KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0YXJnZXRVUkwpIHsKICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHRhcmdldFVSTDsKICAgICAgICB9CiAgICB9LCBTSVRFX1dBSVRfVElNRSk7Cn0KCmZ1bmN0aW9uIHVubG9ja19iYWlkdSgpIHsKICAgIHZhciBhdXRvVW5sb2NrID0gbnVsbDsKCiAgICBHTV9nZXRUYWIoZnVuY3Rpb24gKG8pIHsKICAgICAgICB2YXIgdGFiID0gbzsKICAgICAgICBpZiAodGFiW1RBQl9JRF0pIHsKICAgICAgICAgICAgYXV0b1VubG9jayA9IHRhYi5BdXRvVW5sb2NrOwogICAgICAgICAgICBjb25zb2xlLmdyb3VwKCJBdXRvVW5sb2NrOiIpOwogICAgICAgICAgICBjb25zb2xlLmluZm8oYXV0b1VubG9jayk7CiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgICB9CgogICAgICAgIGlmIChhdXRvVW5sb2NrKSB7CiAgICAgICAgICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpOwogICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gcGFyc2VJbnQoYXV0b1VubG9jay51cGRhdGVUaW1lKSB8fCAwOwogICAgICAgICAgICBjb25zdCBub3RPdmVydGltZSA9IChub3dUaW1lIC0gdXBkYXRlVGltZSkgPCBEQVRBX09WRVJfVElNRTsKCiAgICAgICAgICAgIGlmIChub3RPdmVydGltZSkgewogICAgICAgICAgICAgICAgX3VubG9ja19iYWlkdShhdXRvVW5sb2NrLnBhc3N3b3JkKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuaVsOaNruW3sui2heaXtu+8gSIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cgp9CgpmdW5jdGlvbiBfdW5sb2NrX2JhaWR1KHBhc3N3b3JkLCBjb3VudCkgewogICAgY29uc3QgTUFYX1RJTUUgPSAxMCAqIDEwMDA7CiAgICBjb25zdCBJTlRFUlZBTCA9IDUwOwogICAgY29uc3QgTUFYX0NPVU5UID0gTUFYX1RJTUUgLyBJTlRFUlZBTDsKICAgIGNvdW50ID0gY291bnQgfHwgMTsKCiAgICBjb25zb2xlLmxvZygicGFzc3dvcmQ6ICIgKyBwYXNzd29yZCArICIgY291bnQ6ICIgKyBjb3VudCk7CiAgICBpZiAoY291bnQgPCBNQVhfQ09VTlQgJiYgcGFzc3dvcmQpIHsKCiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUEFOX0JBSURVX0NPTS5JbnB1dElEKTsKICAgICAgICB2YXIgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUEFOX0JBSURVX0NPTS5TdWJtaXRCdG5JRCk7CiAgICAgICAgaWYgKGlucHV0ICYmIHN1Ym1pdEJ0bikgewogICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHBhc3N3b3JkOwogICAgICAgICAgICBzdWJtaXRCdG4uY2xpY2soKTsKICAgICAgICB9CgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdW5sb2NrX2JhaWR1KHBhc3N3b3JkLCBjb3VudCArIDEpOwogICAgICAgIH0sIElOVEVSVkFMKTsKICAgIH0KfQoKCmNvbnN0IFRBQl9JRCA9ICJUYWJfQXV0b1VubG9jayI7Cgpjb25zdCBQQU5fQkFJRFVfQ09NID0gewogICAgU3VibWl0QnRuSUQ6ICJzdWJtaXRCdG4iLAogICAgSW5wdXRJRDogImFjY2Vzc0NvZGUiCn07CgoKLy8KLy8gR01fZ2V0VGFicyhmdW5jdGlvbiAoZGIpIHsKLy8gICAgIHZhciBhbGxfdGFicyA9IGRiOwovLyAgICAgdmFyIHRhYiA9IG51bGw7Ci8vICAgICAvLyBmb3IgKHZhciBpIGluIGFsbF90YWJzKSB7Ci8vICAgICAvLyAgICAgdGFiID0gYWxsX3RhYnNbaV07Ci8vICAgICAvLwovLyAgICAgLy8gICAgIGlmICh0YWJbVEFCX0lEXSkgewovLyAgICAgLy8gICAgICAgICBhdXRvVW5sb2NrID0gdGFiLkF1dG9VbmxvY2s7Ci8vICAgICAvLyAgICAgICAgIGNvbnNvbGUuaW5mbyhhdXRvVW5sb2NrKTsKLy8gICAgIC8vICAgICAgICAgY29uc29sZS5pbmZvKHRhYik7Ci8vICAgICAvLyAgICAgICAgIGJyZWFrOwovLyAgICAgLy8gICAgIH0KLy8gICAgIC8vIH0KLy8gfSk7CgpmdW5jdGlvbiBzZXRQcmVmKG5hbWUsIHZhbHVlKSB7IC8vICBjcm9zcy1icm93c2VyIEdNX3NldFZhbHVlCiAgICB2YXIgYSA9ICcnLCBiID0gJyc7CiAgICB0cnkgewogICAgICAgIGEgPSB0eXBlb2YgR01fc2V0VmFsdWUudG9TdHJpbmc7CiAgICAgICAgYiA9IEdNX3NldFZhbHVlLnRvU3RyaW5nKCkKICAgIH0gY2F0Y2ggKGUpIHsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fc2V0VmFsdWUgPT09ICdmdW5jdGlvbicgJiYKICAgICAgICAoYSA9PT0gJ3VuZGVmaW5lZCcgfHwgYi5pbmRleE9mKCdub3Qgc3VwcG9ydGVkJykgPT09IC0xKSkgewogICAgICAgIEdNX3NldFZhbHVlKG5hbWUsIHZhbHVlKTsgLy8gR3JlYXNlbW9ua2V5LCBUYW1wZXJtb25rZXksIEZpcmVmb3ggZXh0ZW5zaW9uCiAgICB9IGVsc2UgewogICAgICAgIHZhciBscyA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlIHx8IG51bGwKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgfQogICAgICAgIGlmIChscykgewogICAgICAgICAgICByZXR1cm4gbHMuc2V0SXRlbShuYW1lLCB2YWx1ZSk7IC8vIENocm9tZSBzY3JpcHQsIE9wZXJhIGV4dGVuc2lvbnMKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIGdldFByZWYobmFtZSkgeyAvLyBjcm9zcy1icm93c2VyIEdNX2dldFZhbHVlCiAgICB2YXIgYSA9ICcnLCBiID0gJyc7CiAgICB0cnkgewogICAgICAgIGEgPSB0eXBlb2YgR01fZ2V0VmFsdWUudG9TdHJpbmc7CiAgICAgICAgYiA9IEdNX2dldFZhbHVlLnRvU3RyaW5nKCkKICAgIH0gY2F0Y2ggKGUpIHsKICAgIH0KICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicgJiYKICAgICAgICAoYSA9PT0gJ3VuZGVmaW5lZCcgfHwgYi5pbmRleE9mKCdub3Qgc3VwcG9ydGVkJykgPT09IC0xKSkgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZShuYW1lLCBudWxsKTsgLy8gR3JlYXNlbW9ua2V5LCBUYW1wZXJtb25rZXksIEZpcmVmb3ggZXh0ZW5zaW9uCiAgICB9IGVsc2UgewogICAgICAgIHZhciBscyA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbHMgPSB3aW5kb3cubG9jYWxTdG9yYWdlIHx8IG51bGwKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgfQogICAgICAgIGlmIChscykgewogICAgICAgICAgICByZXR1cm4gbHMuZ2V0SXRlbShuYW1lKTsgLy8gQ2hyb21lIHNjcmlwdCwgT3BlcmEgZXh0ZW5zaW9ucwogICAgICAgIH0KICAgIH0KfQ=="},{"name":"My Novel Reader","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":true,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http://read.qidian.com/BookReader/vol,*,*.aspx","*/List.htm","*/List.html","*/List.shtml","*/index.htm","*/index.html","*/index.shtml","*/Default.htm","*/Default.html","*/Default.shtml"],"orig_includes":["*://read.qidian.com/*,*.aspx","*://readbook.qidian.com/bookreader/*,*.html","*://read.qidian.com/BookReaderOld/*,*.aspx","*://read.qidian.com/BookReader/*,*.aspx","*://wwwploy.qidian.com/BookReader/*,*.aspx","*://free.qidian.com/Free/ReadChapter.aspx?*","*://www.qdmm.com/BookReader/*,*.aspx","*://www.qdwenxue.com/BookReader/*,*.aspx","*://chuangshi.qq.com/read/bookreader/*.html*","*://chuangshi.qq.com/*bk/*/*-r-*.html*","*://yunqi.qq.com/*bk/*/*.html","*://dushu.qq.com/read.html?bid=*","*://www.jjwxc.net/onebook.php?novelid=*","*://book.zongheng.com/chapter/*/*.html","*://www.xxsy.net/books/*/*.html","*://book.zhulang.com/*/*.html","*://www.17k.com/chapter/*/*.html","*://mm.17k.com/chapter/*/*.html","*://www.kanxia.net/k/*/*/*.html","*://www.qingdi.com/files/article/html/*/*/*.html","*://www.xkzw.org/*/*.html","*://shouda8.com/*/*.html","*://novel.hongxiu.com/*/*/*.shtml","*://www.readnovel.com/novel/*.html","*://tieba.baidu.com/p/*","*://booklink.me/*","*://2.booklink.me/*","*://www.shumilou.co/*/*.html","*://www.shumilou.us/*/*.html","*://www.shumilou.net/*/*/*.html","*://www.wcxiaoshuo.com/wcxs-*-*/","*://www.xiaoshuoz.com/wcxs-*-*/","*://www.quledu.com/wcxs-*-*/","*://www.ranwen.cc/*/*/*/*.html","*://www.ranwen.net/files/article/*/*/*.html","*://www.ranwena.com/files/article/*/*/*.html","*://www.64mi.com/*/*/*/*.html","*://www.bxs.cc/*/*.html*","*://www.laishuwu.com/html/*/*/*.html","*://www.binhuo.com/html/*/*/*.html","*://www.haoqi99.com/haoqi99/*/*/*.shtml","*://www.shuhe.cc/*/*/","*://www.dudukan.net/html/*/*/*.html","*://www.hahawx.com/*/*/*.htm","*://www.zhuzhudao.com/txt/*/*/","*://www.zhuzhudao.cc/txt/*/*/","*://www.dahaomen.net/txt/*/*/","*://www.tadu.com/book/*/*/","*://www.aishoucang.com/*/*.html","*://www.wanshuba.com/Html/*/*/*.html","*://www.zhuishu.net/files/article/html/*/*/*.html","*://www.sqsxs.com/*/*/*.html*","*://www.caiwei.tw/html/*/*.html","*://www.hotsk.com/Html/Book/*/*/*.shtml","*://www.92to.com/*/*/*.html","*://www.qirexs.com/read-*-chapter-*.html","*://www.du00.com/read/*/*/*.html","*://www.qishuwu.com/*/*/","*://www.wandoou.com/book/*/*.html","*://www.6yzw.org/*/*.html","*://www.6yzw.com/*/*.html","*://www.daomengren.com/*/*.html","*://muyuge.com/*/*.html","*://www.muyuge.net/*/*.html","*://bbs.vyming.com/novel-read-*-*.html","*://www.9imw.com/novel-read-*-*.html","*://www.23zw.com/olread/*/*/*.html","*://www.50zw.com/book_*/*.html","*://www.xiangcunxiaoshuo.com/shu/*/*.html","*://www.lwxs520.com/books/*/*/*.html","*://www.zashu.net/books/*/*/*.html","*://www.piaotian.net/html/*/*/*.html","*://www.yunlaige.com/html/*/*/*.html","*://www.cfwx.net/files/article/html/*/*/*.html","*://www.qiuwu.net/html/*/*/*.html","*://www.fengwu.org/html/*/*/*.html","*://www.wenxue8.org/html/*/*/*.html","*://www.xs84.com/*_*/*","*://www.geiliwx.com/GeiLi/*/*/*.shtml*","*://www.123yq.com/read/*/*/*.shtml","*://www.123yq.org/read/*/*/*.shtml","*://www.dhzw.com/book/*/*/*.html","*://www.aszw.com/book/*/*/*.html","*://www.xsbashi.com/*_*/","*://www.vodtw.com/Html/Book/*/*/*.html","*://www.fhxs.com/read/*/*/*.shtml","*://www.snwx.com/book/*/*/*.html","*://www.33yq.com/read/*/*/*.shtml","*://www.jiaodu8.com/*/*/*/*.html","*://www.fktxt.com/book/*/*.html","*://www.186s.cn/files/article/html/*/*/*.html","*://www.6xs.cn/xs/*/*/*.html","*://www.chaojiqiangbing.com/book/*/*/*.html","*://book.moka123.com/book/*/*/*.html","*://www.suimeng.com/files/article/html/*/*/*.html","*://www.hao662.com/haoshu/*/*/*.html","*://www.tsxs.cc/files/article/html/*/*/*.html","*://www.ziyuge.com/*/*/*/*/*.html","*://book.sfacg.com/Novel/*/*/*/","*://www.7dsw.com/book/*/*/*.html","*://www.d586.com/*/*/","*://www.bookgew.com/Html/Book/*/*/*.htm","*://read.shuhaha.com/Html/Book/*/*/*.html","*://www.shuhaha.com/Html/Book/*/*/*.html","*://www.biqi.me/files/article/html/*/*/*.html","*://www.ttzw.com/book/*/*.html","*://www.uukanshu.com/*/*/*.html","*://www.uukanshu.net/*/*/*.html","*://www.173ed.com/read/*/*.html","*://www.a240.com/read/*/*.html","*://www.zhuishu.com/*/*.html","*://www.shuangde.cc/*/*.html","*://www.shenmaxiaoshuo.com/ml-*-*/","*://www.86kankan.com/read/*/*.html","*://www.fkzww.com/*/*/*.html","*://www.151kan.com/*/*/*/*.html","*://www.bookabc.net/*/*/*.html","*://www.xshuotxt.com/*/*/*/*.html","*://www.doulaidu.com/*/*/*.html","*://www.d586.com/*/*/","*://www.kanshu.la/book/*/*html","*://www.wtcxs.com/files/article/html/*/*/*.html","*://www.5du5.com/book/*/*/*.html","*://book.kanunu.org/*/*/*.html","*://www.kanunu8.com/book*/*.html","*://paitxt.com/*/*/*.html","*://www.shunong.com/yuedu/*/*/*.html","*://book.yayacms.com/*/book_*_*.html","*://www.yqhhy.cc/*/*/*.html","*://www.nuoqiu.com/static/*/*.html","*://www.17yue.com/*/*/*.html","*://dukeba.com/book/*/*/*.shtml","*://www.wenchangshuyuan.com/html/*/*/*.html","*://www.pofeng.net/xiaoshuo/*/*.html","*://www.epzww.com/book/*/*","*://*.xiaoshuokan.com/haokan/*/*.html","*://www.wobudu.com/*/*.html","*://www.qb5.com/xiaoshuo/*/*/*.html","*://www.23us.com/html/*/*/*.html","*://www.23us.cc/html/*/*/*.html","*://www.23wx.com/html/*/*/*.html","*://www.xs222.com/html/*/*/*.html","*://www.bixiage.com/*/*/*/*.html","*://www.ranwenxiaoshuo.com/files/article/html/*/*/*.html","*://www.ranwenxiaoshuo.com/*/*-*-*.html","*://www.bjxiaoshuo.com/bjxs-*-*/","*://www.59shuku.com/xiaoshuo/*/*.htm","*://www.16kbook.org/Html/Book/*/*/*.shtml","*://www.dixiaoshuo.com/Html/*/*.html","*://www.nieshu.com/Book/*/*/*.shtml","*://www.tlxsw.com/files/article/html/*/*/*.html","*://www.1kanshu.com/files/article/html/*/*/*.html","*://www.uutxt.org/book/*/*/*.html","*://www.5800.cc/*/*/*/*.html","*://www.biquge.com/*/*.html","*://www.biquge.la/book/*/*.html","*://www.qududu.com/book/*/*/*.html","*://www.free97.cn/book/*/*/*.html","*://www.122s.com/book/*/*.html","*://www.123du.net/dudu-*/*/*.html","*://www.123du.cc/dudu-*/*/*.html","*://www.123du.net/book/*/*.html","*://www.hwafa.com/*/*.html","*://www.qmshu.com/html/*/*/*.html","*://dlzw.cc/article-*-*.html","*://www.shushu5.com/read/*/*.html","*://www.xiaoyanwenxue.com/files/article/html/*/*/*.html","*://www.3gsc.com.cn/bookcon/*_*_*","*://www.bj-ibook.cn/book/*/*/*.htm","*://www.baoliny.com/*/*.html","*://www.dajiadu.net/files/article/html/*/*/*.html","*://www.yankuai.com/files/article/html/*/*/*.html","*://www.docin.net/*/*.html","*://www.dushuge.net/html/*/*/*.html","*://www.xunshu.org/xunshu/*/*/*.html","*://www.moneyren.com/book/*/*/*.shtml","*://wemaxfilipino.com/*/*/*.html","*://www.85618892.cn/xiaoshuo/*/*/*.shtml","*://www.bookba.net/Html/Book/*/*/*.html","*://www.moksos.com/*/*/*.html","*://dudu8.net/novel/*/*/*.html","*://www.dawenxue.net/html/*/*/*.html","*://www.yanmoxuan.org/book/*/*/*.html","*://www.duyidu.com/xiaoshuo/*/*/*.html","*://www.69zw.com/xiaoshuo/*/*/*.html","*://www.kan7.com/xiaoshuo/*/*/*.html","*://www.laishu.com/book/*/*/*.shtml","*://www.bxwx.org/b/*/*/*.html","*://www.bxzw.org/*/*/*/*.shtml","*://www.360118.com/html/*/*/*.html","*://www.59to.com/files/article/xiaoshuo/*/*/*.html","*://www.dyzww.com/cn/*/*/*.html","*://www.9wh.net/*/*/*.html","*://www.luoqiu.net/html/*/*/*.html","*://www.luoqiu.com/html/*/*/*.html","*://www.epzw.com/files/article/html/*/*/*.html","*://www.dashubao.co/book/*/*/*.html","*://b.faloo.com/p/*/*.html","*://www.baikv.com/*/*.html","*://www.66721.com/*/*/*.html","*://www.3dllc.com/html/*/*/*.html","*://www.xstxt.com/*/*/","*://www.zzzcn.com/3z*/*/","*://www.zzzcn.com/modules/article/App.php*","*://www.nilongdao.com/book/*/*/*.html","*://xs321.net/*/*/","*://read.guanhuaju.com/files/article/html/*/*/*.html","*://www.book108.com/*/*/*.html","*://5ycn.com/*/*/*.html","*://www.zhaoxiaoshuo.com/chapter-*-*-*/","*://*zbzw.com/*/*.html","*://manghuangji.cc/*/*.html","*://www.aiqis.com/*/*.html","*://www.fftxt.net/book/*/*.html","*://www.5kwx.com/book/*/*/*.html","*://www.uuxiaoshuo.net/html/*/*/*.html","*://www.sanyyo.org/*.html","*://www.chinaisbn.com/*/*/*.html","*://www.caihongwenxue.com/Html/Book/*/*/*.html","*://www.shushuw.cn/shu/*/*.html","*://www.78xs.com/article/*/*/*.shtml","*://www.woaixiaoshuo.com/xiaoshuo/*/*/*.html","*://www.ty2016.com/book/*/*.html","*://wx.ty2016.com/*/*/*.html","*://www.my285.com/*/*/*/*.htm","*://www.5858xs.com/html/*/*/*.html","*://book.58xs.com/html/*/*/*.html","*://book.mihua.net/*/*/*/*.html","*://www.hjwzw.com/Book/Read/*,*","*://www.hjwzw.com/Book/Read/*_*","*://www.365essay.com/*/*.htm","*://www.gengxin8.com/read/*/*.html","*://www.365xs.org/books/*/*/*.html","*://www.wuruo.com/files/article/html/*/*/*.html","*://*.8shuw.net/book/*/*.html","*://www.pashuw.com/BookReader/*/*.html","*://read.shanwen.com/html/*/*/*.html","*://www.qqxs.cc/xs/*/*/*.html","*://www.69shu.com/txt/*/*","*://www.e8zw.com/book/*/*/*.html","*://www.biquge.tw/*_*/*.html","*://www.8535.org/*/*/*.html*","*://www.yfzww.com/books/*/*/*.htm","*://www.lewen8.com/lw*/*.html","*://www.pinwenba.com/read/*/*.html","*://down1.qidian.com/bookall/*.htm*","*://www.77nt.com/*/*.html","*://www.quanbenba.com/yuedu/*/*/*.html","*://www.sto.cc/book-*-*.html","*://www.151xs.com/wuxiazuoxiong/*/chapter/*/","*://www.qududu.net/book/*/*/*.html","*://www.qingdou.cc/chapter*","*://www.shuyuewu.com/kan*","*://www.1553.net/*/*","*://www.269s.com/*/*/*","*://www.33yq.com/read/*/*/*.shtml","*://www.50zw.co/book_*/*.html","*://www.bqg5200.com/xiaoshuo/*/*/*.html","*://www.50zw.la/book_*/*.html","*://www.qu.la/book/*/*.html","*://www.luoqiu.com/read/*/*.html","*://www.biqugezw.com/*/*.html","*://www.54tushu.com/book_library/chaptershow/theId/*.html","*://www.snwx8.com/book/*/*/*.html","*://read.qidian.com/chapter/*","*://www.23zw.me/olread/*/*/*.html","*://www.piaotian.com/html/*/*/*.html","*://www.dhzw.org/book/*/*/*.html","*://www.biqiuge.com/book/*/*.html","*://www.baquge.com/files/article/html/*/*/*.html","*://www.baquge.tw/files/article/html/*/*/*.html","*://www.qu.la/book/*/*.html","*://www.bxwx9.org/b/*/*/*.html","*://www.miaobige.com/*/*/*.html","*://www.remenxs.com/du_*/*/","*://www.shuhai.com/read/*/*.html","*://www.hbooker.com/chapter/book_chapter_detail/*","*://www.mianhuatang.la/*/*/*.html","*://www.paomov.com/*/*/*.html","*://www.moyuanwenxue.com/xiaoshuo/*/*/*.htm","*://www.ggdown.com/modules/article/reader.php?aid=*","*://233yq.com/xiaoshuo/*.html","*://www.biquge.com.tw/*/*.html","*://www.daizhuzai.com/*/*.html","*://www.mywenxue.com/xiaoshuo/*/*/*.htm","*://www.yueduyue.com/*/*.html","*://www.67shu.com/*/*/*.html","*://www.wangshuge.com/books/*/*/*.html","*://www.23sw.net/*/*/*.html","*://www.ybdu.com/xiaoshuo/*/*/*.html","*://www.shudaizi.org/book/*/*.html","*://www.ymoxuan.com/book/*/*/*.html","*://www.67shu.com/*/*/*.html","*://www.bookxuan.com/*/*.html","*://wap.yc.ireader.com.cn/book/*/*/","*://m.jjwxc.net/book2/*/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"booklink_enable":"btrue","copyCurTitle":"btrue","debug":"bfalse"},"ts":1507278856028},"enabled":true,"position":8,"uuid":"c5c0788e-d542-49eb-8e6a-f64cb04727cb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICAgIG15bm92ZWxyZWFkZXJAeXd6aGFpcWlAZ21haWwuY29tCi8vIEBuYW1lICAgICAgICAgICBNeSBOb3ZlbCBSZWFkZXIKLy8gQG5hbWU6emgtQ04gICAgIOWwj+ivtOmYheivu+iEmuacrAovLyBAbmFtZTp6aC1UVyAgICAg5bCP6Kqq6Zax6K6A6IWz5pysCi8vIEB2ZXJzaW9uICAgICAgICA1LjUuNQovLyBAbmFtZXNwYWNlICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3l3emhhaXFpCi8vIEBhdXRob3IgICAgICAgICB5d3poYWlxaQovLyBAY29udHJpYnV0b3IgICAgUm9nZXIgQXUsIHNoeWFuZ3MsIEppeHVuTW9l44CBYWtpYmE5NTI3IOWPiuWFtuS7lue9keWPiwovLyBAZGVzY3JpcHRpb24gICAg5bCP6K+06ZiF6K+76ISa5pys77yM57uf5LiA6ZiF6K+75qC35byP77yM5YaF5a655Y675bm/5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5Yqo5LiL5LiA6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5bCP6K+06ZiF6K+76ISa5pys77yM57uf5LiA6ZiF6K+75qC35byP77yM5YaF5a655Y675bm/5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5Yqo5LiL5LiA6aG1Ci8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5bCP6Kqq6Zax6K6A6IWz5pys77yM57Wx5LiA6Zax6K6A5qij5byP77yM5YWn5a655Y675buj5ZGK44CB5L+u5q2j5ou86Z+z5a2X44CB5q616JC95pW055CG77yM6Ieq5YuV5LiL5LiA6aCBCi8vIEBsaWNlbnNlICAgICAgICBHUEwgdmVyc2lvbiAzCi8vIEBncmFudCAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50ICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkCi8vIEBncmFudCAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGNvbm5lY3QgICAgICAgICoKLy8gQGhvbWVwYWdlVVJMICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yOTIvCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMi4xLjEvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9jZG4uc3RhdGljZmlsZS5vcmcvdW5kZXJzY29yZS5qcy8xLjcuMC91bmRlcnNjb3JlLW1pbi5qcwovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9jZG4uc3RhdGljZmlsZS5vcmcva2V5bWFzdGVyLzEuNi4xL2tleW1hc3Rlci5taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8yNjcyLW1laWh1YS1jbjJ0dy9jb2RlL01laWh1YV9jbjJ0dy5qcz92ZXJzaW9uPTczNzUKCi8vIEBpbmNsdWRlICAgICAgICAqOi8vcmVhZC5xaWRpYW4uY29tLyosKi5hc3B4Ci8vIEBpbmNsdWRlICAgICAgICAqOi8vcmVhZGJvb2sucWlkaWFuLmNvbS9ib29rcmVhZGVyLyosKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vcmVhZC5xaWRpYW4uY29tL0Jvb2tSZWFkZXJPbGQvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9yZWFkLnFpZGlhbi5jb20vQm9va1JlYWRlci8qLCouYXNweAovLyBAZXhjbHVkZSAgICAgICAgaHR0cDovL3JlYWQucWlkaWFuLmNvbS9Cb29rUmVhZGVyL3ZvbCwqLCouYXNweAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3d3Bsb3kucWlkaWFuLmNvbS9Cb29rUmVhZGVyLyosKi5hc3B4Ci8vIEBpbmNsdWRlICAgICAgICAqOi8vZnJlZS5xaWRpYW4uY29tL0ZyZWUvUmVhZENoYXB0ZXIuYXNweD8qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnFkbW0uY29tL0Jvb2tSZWFkZXIvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucWR3ZW54dWUuY29tL0Jvb2tSZWFkZXIvKiwqLmFzcHgKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9jaHVhbmdzaGkucXEuY29tL3JlYWQvYm9va3JlYWRlci8qLmh0bWwqCi8vIEBpbmNsdWRlICAgICAgICAqOi8vY2h1YW5nc2hpLnFxLmNvbS8qYmsvKi8qLXItKi5odG1sKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3l1bnFpLnFxLmNvbS8qYmsvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9kdXNodS5xcS5jb20vcmVhZC5odG1sP2JpZD0qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lmpqd3hjLm5ldC9vbmVib29rLnBocD9ub3ZlbGlkPSoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9ib29rLnpvbmdoZW5nLmNvbS9jaGFwdGVyLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnh4c3kubmV0L2Jvb2tzLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vYm9vay56aHVsYW5nLmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xN2suY29tL2NoYXB0ZXIvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9tbS4xN2suY29tL2NoYXB0ZXIvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cua2FueGlhLm5ldC9rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucWluZ2RpLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54a3p3Lm9yZy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3Nob3VkYTguY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vbm92ZWwuaG9uZ3hpdS5jb20vKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucmVhZG5vdmVsLmNvbS9ub3ZlbC8qLmh0bWwKLy8gaHR0cDovL3d3dy50aWFueWFib29rLmNvbS8qLyouaHRtCgovLyBAaW5jbHVkZSAgICAgICAgKjovL3RpZWJhLmJhaWR1LmNvbS9wLyoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9ib29rbGluay5tZS8qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vMi5ib29rbGluay5tZS8qCgovLyBib29rbGluay5tZQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVtaWxvdS5jby8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVtaWxvdS51cy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVtaWxvdS5uZXQvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy53Y3hpYW9zaHVvLmNvbS93Y3hzLSotKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cueGlhb3NodW96LmNvbS93Y3hzLSotKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucXVsZWR1LmNvbS93Y3hzLSotKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucmFud2VuLmNjLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5yYW53ZW4ubmV0L2ZpbGVzL2FydGljbGUvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5yYW53ZW5hLmNvbS9maWxlcy9hcnRpY2xlLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNjRtaS5jb20vKi8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJ4cy5jYy8qLyouaHRtbCoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubGFpc2h1d3UuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iaW5odW8uY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5oYW9xaTk5LmNvbS9oYW9xaTk5LyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnNodWhlLmNjLyovKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZHVkdWthbi5uZXQvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmhhaGF3eC5jb20vKi8qLyouaHRtCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnpodXpodWRhby5jb20vdHh0LyovKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuemh1emh1ZGFvLmNjL3R4dC8qLyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmRhaGFvbWVuLm5ldC90eHQvKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy50YWR1LmNvbS9ib29rLyovKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYWlzaG91Y2FuZy5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cud2Fuc2h1YmEuY29tL0h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy56aHVpc2h1Lm5ldC9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zcXN4cy5jb20vKi8qLyouaHRtbCoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuY2Fpd2VpLnR3L2h0bWwvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuaG90c2suY29tL0h0bWwvQm9vay8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy45MnRvLmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnFpcmV4cy5jb20vcmVhZC0qLWNoYXB0ZXItKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmR1MDAuY29tL3JlYWQvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5xaXNodXd1LmNvbS8qLyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LndhbmRvb3UuY29tL2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNnl6dy5vcmcvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNnl6dy5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZGFvbWVuZ3Jlbi5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9tdXl1Z2UuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lm11eXVnZS5uZXQvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9iYnMudnltaW5nLmNvbS9ub3ZlbC1yZWFkLSotKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjlpbXcuY29tL25vdmVsLXJlYWQtKi0qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMjN6dy5jb20vb2xyZWFkLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNTB6dy5jb20vYm9va18qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54aWFuZ2N1bnhpYW9zaHVvLmNvbS9zaHUvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubHd4czUyMC5jb20vYm9va3MvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy56YXNodS5uZXQvYm9va3MvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5waWFvdGlhbi5uZXQvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnl1bmxhaWdlLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuY2Z3eC5uZXQvZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucWl1d3UubmV0L2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5mZW5nd3Uub3JnL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy53ZW54dWU4Lm9yZy9odG1sLyovKi8qLmh0bWwKCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnhzODQuY29tLypfKi8qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmdlaWxpd3guY29tL0dlaUxpLyovKi8qLnNodG1sKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xMjN5cS5jb20vcmVhZC8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xMjN5cS5vcmcvcmVhZC8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5kaHp3LmNvbS9ib29rLyovKi8qLmh0bWwKLy8gICAgICAgICAqOi8vd3d3LmR1MDAuY2MvcmVhZC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmFzencuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54c2Jhc2hpLmNvbS8qXyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnZvZHR3LmNvbS9IdG1sL0Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5maHhzLmNvbS9yZWFkLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnNud3guY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4zM3lxLmNvbS9yZWFkLyovKi8qLnNodG1sCgovLyB3d3cuc29kdS5zbwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5qaWFvZHU4LmNvbS8qLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZmt0eHQuY29tL2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMTg2cy5jbi9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy42eHMuY24veHMvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5jaGFvamlxaWFuZ2JpbmcuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL2Jvb2subW9rYTEyMy5jb20vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnN1aW1lbmcuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmhhbzY2Mi5jb20vaGFvc2h1LyovKi8qLmh0bWwKCi8vd3d3LnZlcnlkdS5uZXQKLy8gICAgICAgICBodHRwOi8vd3d3Lnlhd2VuOC5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy50c3hzLmNjL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnppeXVnZS5jb20vKi8qLyovKi8qLmh0bWwKCi8vIOWFtuWug+e9keermQovLyBAaW5jbHVkZSAgICAgICAgKjovL2Jvb2suc2ZhY2cuY29tL05vdmVsLyovKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy43ZHN3LmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZDU4Ni5jb20vKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ib29rZ2V3LmNvbS9IdG1sL0Jvb2svKi8qLyouaHRtCi8vIEBpbmNsdWRlICAgICAgICAqOi8vcmVhZC5zaHVoYWhhLmNvbS9IdG1sL0Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVoYWhhLmNvbS9IdG1sL0Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iaXFpLm1lL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnR0encuY29tL2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cudXVrYW5zaHUuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cudXVrYW5zaHUubmV0LyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMTczZWQuY29tL3JlYWQvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYTI0MC5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy56aHVpc2h1LmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVhbmdkZS5jYy8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaGVubWF4aWFvc2h1by5jb20vbWwtKi0qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy44Nmthbmthbi5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ma3p3dy5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xNTFrYW4uY29tLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ib29rYWJjLm5ldC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnhzaHVvdHh0LmNvbS8qLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZG91bGFpZHUuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZDU4Ni5jb20vKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5rYW5zaHUubGEvYm9vay8qLypodG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnd0Y3hzLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy41ZHU1LmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9ib29rLmthbnVudS5vcmcvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5rYW51bnU4LmNvbS9ib29rKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9wYWl0eHQuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuc2h1bm9uZy5jb20veXVlZHUvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL2Jvb2sueWF5YWNtcy5jb20vKi9ib29rXypfKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnlxaGh5LmNjLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubnVvcWl1LmNvbS9zdGF0aWMvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMTd5dWUuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9kdWtlYmEuY29tL2Jvb2svKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cud2VuY2hhbmdzaHV5dWFuLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucG9mZW5nLm5ldC94aWFvc2h1by8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5lcHp3dy5jb20vYm9vay8qLyoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly8qLnhpYW9zaHVva2FuLmNvbS9oYW9rYW4vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cud29idWR1LmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5xYjUuY29tL3hpYW9zaHVvLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMjN1cy5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjIzdXMuY2MvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjIzd3guY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54czIyMi5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJpeGlhZ2UuY29tLyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5yYW53ZW54aWFvc2h1by5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucmFud2VueGlhb3NodW8uY29tLyovKi0qLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ianhpYW9zaHVvLmNvbS9ianhzLSotKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNTlzaHVrdS5jb20veGlhb3NodW8vKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xNmtib29rLm9yZy9IdG1sL0Jvb2svKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZGl4aWFvc2h1by5jb20vSHRtbC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5uaWVzaHUuY29tL0Jvb2svKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cudGx4c3cuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjFrYW5zaHUuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnV1dHh0Lm9yZy9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNTgwMC5jYy8qLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYmlxdWdlLmNvbS8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iaXF1Z2UubGEvYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5xdWR1ZHUuY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5mcmVlOTcuY24vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjEyMnMuY29tL2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMTIzZHUubmV0L2R1ZHUtKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xMjNkdS5jYy9kdWR1LSovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMTIzZHUubmV0L2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuaHdhZmEuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnFtc2h1LmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9kbHp3LmNjL2FydGljbGUtKi0qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuc2h1c2h1NS5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54aWFveWFud2VueHVlLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4zZ3NjLmNvbS5jbi9ib29rY29uLypfKl8qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJqLWlib29rLmNuL2Jvb2svKi8qLyouaHRtCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJhb2xpbnkuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmRhamlhZHUubmV0L2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnlhbmt1YWkuY29tL2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmRvY2luLm5ldC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5kdXNodWdlLm5ldC9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cueHVuc2h1Lm9yZy94dW5zaHUvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5tb25leXJlbi5jb20vYm9vay8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3dlbWF4ZmlsaXBpbm8uY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuODU2MTg4OTIuY24veGlhb3NodW8vKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYm9va2JhLm5ldC9IdG1sL0Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5tb2tzb3MuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9kdWR1OC5uZXQvbm92ZWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5kYXdlbnh1ZS5uZXQvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnlhbm1veHVhbi5vcmcvYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmR1eWlkdS5jb20veGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy42OXp3LmNvbS94aWFvc2h1by8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmthbjcuY29tL3hpYW9zaHVvLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubGFpc2h1LmNvbS9ib29rLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJ4d3gub3JnL2IvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ieHp3Lm9yZy8qLyovKi8qLnNodG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjM2MDExOC5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjU5dG8uY29tL2ZpbGVzL2FydGljbGUveGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5keXp3dy5jb20vY24vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy45d2gubmV0LyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubHVvcWl1Lm5ldC9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubHVvcWl1LmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZXB6dy5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuZGFzaHViYW8uY28vYm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vYi5mYWxvby5jb20vcC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iYWlrdi5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNjY3MjEuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuM2RsbGMuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy54c3R4dC5jb20vKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy56enpjbi5jb20vM3oqLyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Lnp6emNuLmNvbS9tb2R1bGVzL2FydGljbGUvQXBwLnBocCoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubmlsb25nZGFvLmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly94czMyMS5uZXQvKi8qLwovLyBAaW5jbHVkZSAgICAgICAgKjovL3JlYWQuZ3Vhbmh1YWp1LmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5ib29rMTA4LmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vNXljbi5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy56aGFveGlhb3NodW8uY29tL2NoYXB0ZXItKi0qLSovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vKnpiencuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vbWFuZ2h1YW5namkuY2MvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYWlxaXMuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmZmdHh0Lm5ldC9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjVrd3guY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy51dXhpYW9zaHVvLm5ldC9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuc2FueXlvLm9yZy8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuY2hpbmFpc2JuLmNvbS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmNhaWhvbmd3ZW54dWUuY29tL0h0bWwvQm9vay8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnNodXNodXcuY24vc2h1LyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Ljc4eHMuY29tL2FydGljbGUvKi8qLyouc2h0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cud29haXhpYW9zaHVvLmNvbS94aWFvc2h1by8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnR5MjAxNi5jb20vYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d4LnR5MjAxNi5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5teTI4NS5jb20vKi8qLyovKi5odG0KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNTg1OHhzLmNvbS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9ib29rLjU4eHMuY29tL2h0bWwvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL2Jvb2subWlodWEubmV0LyovKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5oand6dy5jb20vQm9vay9SZWFkLyosKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5oand6dy5jb20vQm9vay9SZWFkLypfKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4zNjVlc3NheS5jb20vKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5nZW5neGluOC5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4zNjV4cy5vcmcvYm9va3MvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy53dXJ1by5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly8qLjhzaHV3Lm5ldC9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnBhc2h1dy5jb20vQm9va1JlYWRlci8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3JlYWQuc2hhbndlbi5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnFxeHMuY2MveHMvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy42OXNodS5jb20vdHh0LyovKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5lOHp3LmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYmlxdWdlLnR3LypfKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuODUzNS5vcmcvKi8qLyouaHRtbCoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cueWZ6d3cuY29tL2Jvb2tzLyovKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5sZXdlbjguY29tL2x3Ki8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucGlud2VuYmEuY29tL3JlYWQvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly9kb3duMS5xaWRpYW4uY29tL2Jvb2thbGwvKi5odG0qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3Ljc3bnQuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnF1YW5iZW5iYS5jb20veXVlZHUvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zdG8uY2MvYm9vay0qLSouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xNTF4cy5jb20vd3V4aWF6dW94aW9uZy8qL2NoYXB0ZXIvKi8KLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucXVkdWR1Lm5ldC9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucWluZ2RvdS5jYy9jaGFwdGVyKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHV5dWV3dS5jb20va2FuKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy4xNTUzLm5ldC8qLyoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMjY5cy5jb20vKi8qLyoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMzN5cS5jb20vcmVhZC8qLyovKi5zaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy41MHp3LmNvL2Jvb2tfKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYnFnNTIwMC5jb20veGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy41MHp3LmxhL2Jvb2tfKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cucXUubGEvYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5sdW9xaXUuY29tL3JlYWQvKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYmlxdWdlencuY29tLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjU0dHVzaHUuY29tL2Jvb2tfbGlicmFyeS9jaGFwdGVyc2hvdy90aGVJZC8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuc253eDguY29tL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3JlYWQucWlkaWFuLmNvbS9jaGFwdGVyLyoKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuMjN6dy5tZS9vbHJlYWQvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5waWFvdGlhbi5jb20vaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmRoencub3JnL2Jvb2svKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iaXFpdWdlLmNvbS9ib29rLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmJhcXVnZS5jb20vZmlsZXMvYXJ0aWNsZS9odG1sLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYmFxdWdlLnR3L2ZpbGVzL2FydGljbGUvaHRtbC8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnF1LmxhL2Jvb2svKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYnh3eDkub3JnL2IvKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5taWFvYmlnZS5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5yZW1lbnhzLmNvbS9kdV8qLyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnNodWhhaS5jb20vcmVhZC8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5oYm9va2VyLmNvbS9jaGFwdGVyL2Jvb2tfY2hhcHRlcl9kZXRhaWwvKgovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5taWFuaHVhdGFuZy5sYS8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LnBhb21vdi5jb20vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5tb3l1YW53ZW54dWUuY29tL3hpYW9zaHVvLyovKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5nZ2Rvd24uY29tL21vZHVsZXMvYXJ0aWNsZS9yZWFkZXIucGhwP2FpZD0qCi8vIEBpbmNsdWRlICAgICAgICAqOi8vMjMzeXEuY29tL3hpYW9zaHVvLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5iaXF1Z2UuY29tLnR3LyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LmRhaXpodXphaS5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cubXl3ZW54dWUuY29tL3hpYW9zaHVvLyovKi8qLmh0bQovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy55dWVkdXl1ZS5jb20vKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNjdzaHUuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cud2FuZ3NodWdlLmNvbS9ib29rcy8qLyovKi5odG1sCi8vIEBpbmNsdWRlICAgICAgICAqOi8vd3d3LjIzc3cubmV0LyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cueWJkdS5jb20veGlhb3NodW8vKi8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy5zaHVkYWl6aS5vcmcvYm9vay8qLyouaHRtbAovLyBAaW5jbHVkZSAgICAgICAgKjovL3d3dy55bW94dWFuLmNvbS9ib29rLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuNjdzaHUuY29tLyovKi8qLmh0bWwKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93d3cuYm9va3h1YW4uY29tLyovKi5odG1sCgovLyDnp7vliqjniYgKLy8gQGluY2x1ZGUgICAgICAgICo6Ly93YXAueWMuaXJlYWRlci5jb20uY24vYm9vay8qLyovCi8vIEBpbmNsdWRlICAgICAgICAqOi8vbS5qand4Yy5uZXQvYm9vazIvKi8qCgovLyBAZXhjbHVkZSAgICAgICAgKi9MaXN0Lmh0bQovLyBAZXhjbHVkZSAgICAgICAgKi9MaXN0Lmh0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICovTGlzdC5zaHRtbAovLyBAZXhjbHVkZSAgICAgICAgKi9pbmRleC5odG0KLy8gQGV4Y2x1ZGUgICAgICAgICovaW5kZXguaHRtbAovLyBAZXhjbHVkZSAgICAgICAgKi9pbmRleC5zaHRtbAovLyBAZXhjbHVkZSAgICAgICAgKi9EZWZhdWx0Lmh0bQovLyBAZXhjbHVkZSAgICAgICAgKi9EZWZhdWx0Lmh0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICovRGVmYXVsdC5zaHRtbAoKLy8gQHJ1bi1hdCAgICAgICAgIGRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCgp2YXIgaXNDaHJvbWUgPSAhIXdpbmRvdy5jaHJvbWU7CnZhciBpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKSAhPSAtMTsKCi8vIOWFtuWug+iuvue9rgp2YXIgY29uZmlnID0gewogICAgc29kdXNvOiBmYWxzZSwgICAgICAgICAgICAgICAgICAvLyB3d3cuc29kdS5zbyDot7PovawKICAgIGNvbnRlbnRfcmVwbGFjZW1lbnRzOiB0cnVlLCAgICAgLy8g5bCP6K+05bGP6JS95a2X5L+u5aSNCiAgICBmaXhJbWFnZUZsb2F0czogdHJ1ZSwgICAgICAgICAgIC8vIOWbvueJh+WxheS4reS/ruatowogICAgcGFyYWdyYXBoQmxhbms6IHRydWUsICAgICAgICAgICAvLyDnu5/kuIDmrrXokL3lvIDlpLTnmoTnqbrmoLzkuLogMuS4quWFqOinkuepuuagvAogICAgZW5kX2NvbG9yOiAiIzY2NjY2NiIsICAgICAgICAgICAvLyDmnIDlkI7kuIDpobXnmoTpk77mjqXpopzoibIKICAgIFBSRUxPQURFUjogdHJ1ZSwgICAgICAgICAgICAgICAgLy8g5o+Q5YmN6aKE6K+75LiL5LiA6aG1CgogICAgeGhyX3RpbWU6IDE1ICogMTAwMCwKfTsKCnZhciBSRUFERVJfQUpBWCA9ICJyZWFkZXItYWpheCI7ICAgLy8g5YaF5a656ZyA6KaBIGFqYXgg55qEIGNsYXNzTmFtZQoKCi8vIFVuaWNvZGUvMjAwMC0yRkZG77yaaHR0cDovL3poLndpa2lib29rcy5vcmcvd2lraS9Vbmljb2RlLzIwMDAtMkZGRgovLyBVbmljb2RlL0YwMDAtRkZGRu+8mmh0dHBzOi8vemgud2lraWJvb2tzLm9yZy93aWtpL1VuaWNvZGUvRjAwMC1GRkZGCgovLyByZXBsYWNlIOS4reeahOeugOWGmQp2YXIgQ0hBUl9BTElBUyA9IHsKICAgICdcXFAnOiAnW1xcdTIwMDAtXFx1MkZGRlxcdTMwMDQtXFx1MzAzRlxcdUZFMDAtXFx1RkY2MFxcdUZGQzAtXFx1RkZGRl0nLCAgLy8g5bCP6K+05Lit5re75Yqg55qE54m55q6K56ym5Y+3Cn07CgovLyA9PT09PSDoh6rliqjlsJ3or5XnmoTop4TliJkgPT09PT0KdmFyIFJ1bGUgPSB7CiAgICB0aXRsZVJlZ0V4cDogL+esrD9ccypb5LiA5LqM5Lik5LiJ5Zub5LqU5YWt5LiD5YWr5Lmd5Y2B4peL6Zu255m+5Y2D5LiH5Lq/MC0577yR77yS77yT77yU77yV77yW77yX77yY77yZ77yQXXsxLDZ9XHMqW+eroOWbnuWNt+iKguaKmOevh+W5lembhl0vaSwKICAgIHRpdGxlUmVwbGFjZTogL17nq6DoioLnm67lvZV8XuaWh+eroOato+aWh3xe5q2j5paHfOWFqOaWh+WFjei0uemYheivu3zmnIDmlrDnq6DoioJ8XCjmlodcKS8sCgogICAgLy8gbmV4dFJlZ0V4cDogL1vkuIrliY3kuIvlkI5dW+S4gF0/W+mhteW8oOS4quevh+eroOiKguatpV0vLAogICAgbmV4dFNlbGVjdG9yOiAiYVtyZWw9J25leHQnXSwgYTpjb250YWlucygn5LiL5LiA6aG1JyksIGE6Y29udGFpbnMoJ+S4i+S4gOeroCcpLCBhOmNvbnRhaW5zKCfkuIvkuIDoioInKSwgYTpjb250YWlucygn5LiL6aG1JykiLAogICAgcHJldlNlbGVjdG9yOiAiYVtyZWw9J3ByZXYnXSwgYTpjb250YWlucygn5LiK5LiA6aG1JyksIGE6Y29udGFpbnMoJ+S4iuS4gOeroCcpLCBhOmNvbnRhaW5zKCfkuIrkuIDoioInKSwgYTpjb250YWlucygn5LiK6aG1JykiLAogICAgLy8g5b+955Wl55qE5LiL5LiA6aG16ZO+5o6l77yM5Yy56YWNIGhyZWYKICAgIG5leHRVcmxJZ25vcmU6IFsKICAgICAgICAvKD86KD86aW5kZXh8bGlzdHxsYXN0fExhc3RQYWdlfGVuZClcLil8QnV5Q2hhcHRlclVuTG9naW58XmphdmFzY3JpcHQ6L2ksCgogICAgICAgIC9Cb29rUmVhZGVyXC92aXAsL2ksCiAgICAgICAgL0Jvb2tSZWFkZXJcL0xhc3RQYWdlTmV3XC5hc3B4L2ksCiAgICAgICAgL3JlYWRcLnFpZGlhblwuY29tXC9Cb29rUmVhZGVyXC9cZCssMFwuYXNweCQvaSwKICAgICAgICAvcmVhZFwucWlkaWFuXC5jb21cLyQvaSwKICAgICAgICAvZnJlZVwucWlkaWFuXC5jb21cL0ZyZWVcL1Nob3dCb29rXC5hc3B4XD9ib29raWQ9L2ksCgogICAgICAgIC9ib29rXC56b25naGVuZ1wuY29tXC9yZWFkbW9yZS9pLAogICAgICAgIC93d3dcLnNodW1pbG91XC5jb21cL3RvLW4tW2Etel0rLVxkK1wuaHRtbC9pLAogICAgICAgIC9cLzBcLmh0bWwkL2ksCiAgICBdLAogICAgbmV4dFVybENvbXBhcmU6IC9cL1xkKyhfXGQrKT9cLmh0bWw/JHxcL3djeHMtXGQrLVxkK1wvJHxjaGFwdGVyLVxkK1wuaHRtbCR8XC9cZCtfXGQrXC8kL2ksICAvLyDlv73nlaXnmoTkuIvkuIDpobXpk77mjqXvvIjnibnmrorvvInvvIzot5/kuIrkuIDpobXmr5TovoMKCiAgICAvLyDmjInpobrluo/ljLnphY3vvIzljLnphY3liLDliJnlgZzmraLjgIJlY29udGFpbnMg5a6M5YWo55u4562JCiAgICBpbmRleFNlbGVjdG9yczogWyJhW2hyZWY9J2luZGV4Lmh0bWwnXSIsICJhOmNvbnRhaW5zKCfov5Tlm57kuabnm64nKSIsICJhOmNvbnRhaW5zKCfnq6DoioLnm67lvZUnKSIsICJhOmNvbnRhaW5zKCfnq6DoioLliJfooagnKSIsCiAgICAgICAgImE6ZWNvbnRhaW5zKCfmnIDmlrDnq6DoioInKSIsICJhOmNvbnRhaW5zKCflm57nm67lvZUnKSIsImE6Y29udGFpbnMoJ+WbnuS5puebricpIiwgImE6Y29udGFpbnMoJ+ebriDlvZUnKSIsICJhOmNvbnRhaW5zKCfnm67lvZUnKSJdLAoKICAgIGNvbnRlbnRTZWxlY3RvcnM6IFsiI3BhZ2Vjb250ZW50IiwgIiNjb250ZW50Ym94IiwgIiNibXN5X2NvbnRlbnQiLCAiI2Jvb2twYXJ0aW5mbyIsICIjaHRtbENvbnRlbnQiLAogICAgICAgICIjdGV4dF9hcmVhIiwgIiNjaGFwdGVyX2NvbnRlbnQiLCAiI2NoYXB0ZXJDb250ZW50IiwgIiNwYXJ0Ym9keSIsICIjQm9va0NvbnRlbnQiLAogICAgICAgICIjYXJ0aWNsZV9jb250ZW50IiwgIiNCb29rVGV4dFJlYWQiLCAiI2Jvb2t0ZXh0IiwgIiNCb29rVGV4dCIsICIjcmVhZHRleHQiLCAiI3JlYWRjb24iLCAiI3RleHRfYyIsICIjdHh0X3RkIiwgIiNUWFQiLCAiI3R4dCIsICIjempuZWlyb25nIiwKICAgICAgICAiLm5vdmVsX2NvbnRlbnQiLCAiLnJlYWRtYWluX2lubmVyIiwgIi5ub3ZlbHRleHQiLCAiLmJvb2t0ZXh0IiwgIi55ZF90ZXh0MiIsCiAgICAgICAgIiNjb250ZW50VHh0IiwgIiNvbGR0ZXh0IiwgIiNhX2NvbnRlbnQiLCAiI2NvbnRlbnRzIiwgIiNjb250ZW50MiIsICIjY29udGVudHRzIiwgIiNjb250ZW50MSIsICIjY29udGVudCIsICIuY29udGVudCIKICAgIF0sCgogICAgLy8gKOa1i+ivlSnlsJ3or5Xmn6Xmib7kuablkI3jgILpobbpg6jnq6DoioLlr7zoiKrnmoTmnIDlkI7kuIDkuKrpk77mjqXlj6/og73mmK/kuablkI3jgIIKICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmgxdGl0bGUgPiAuc2h1bWluZyA+IGFbdGl0bGVdLCAuY2hhcHRlcl9uYXYgPiBkaXY6Zmlyc3QgPiBhOmxhc3QiLAoKICAgIGNvbnRlbnRSZW1vdmU6ICJzY3JpcHQsIGlmcmFtZSIsICAgICAgICAgIC8vIOWGheWuueenu+mZpOmAieaLqeWZqAogICAgcmVtb3ZlTGluZVJlZ0V4cDogLzxwPlvjgIBcc+OAgjvvvIzvvIFcLuKIt+OAll0qPFwvcD4vZywgIC8vIOenu+mZpOWPquacieS4gOS4quWtl+espueahOihjAoKICAgIC8vIOS7peS4i+S4jeW4uOaUuQogICAgcmVwbGFjZUJyczogLyg8YnJbXj5dKj5bIFxuXHJcdF0qKXsxLH0vZ2ksICAgIC8vIOabv+aNouS4ujxwPgp9OwoKLy8gPT09PT0g6Ieq5a6a5LmJ56uZ54K56KeE5YiZID09PT09ClJ1bGUuc3BlY2lhbFNpdGUgPSBbCiAgICAvLyDor6bnu4bniYjop4TliJnnpLrkvovjgILms6jvvJror6XnvZHnq5nlt7Lml6Dms5Xorr/pl67jgIIKICAgIHtzaXRlTmFtZTogIuazoeS5puWQpyIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnq5nngrnlkI3lrZcuLi4gKOWPr+mAiSkKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwucGFvc2h1OFxcLm5ldC9IdG1sL1xcUytcXC5zaHRtJCIsICAgICAgICAgIC8vIC8vIOermeeCueato+WImS4uLiAofn7lv4Xpobt+fikKCiAgICAgICAgLy8g6I635Y+W5qCH6aKYCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KeacgOaWsOeroOiKgiBbLV9cXFwvXSguKj8pWy1fXC9dLiovLCAgICAgICAgIC8vIOS5puexjeagh+mimOOAgeeroOiKguagh+mimOato+WImSAo5Y+v6YCJKQogICAgICAgIHRpdGxlUG9zOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS5puexjeagh+mimOS9jee9ru+8mjAg5oiWIDEgKOWPr+mAie+8jOm7mOiupOS4uiAwKQogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjdGl0bGUgaDEiLAoKICAgICAgICBpbmRleFNlbGVjdG9yOiAiYTpjb250YWlucygn5Zue55uu5b2VJykiLCAgICAgICAgICAgICAgICAgICAgLy8g6aaW6aG16ZO+5o6lIGpRdWVyeSDpgInmi6nlmaggKOS4jeWhq+WImeWwneivleiHquWKqOaQnOe0oikKICAgICAgICBwcmV2U2VsZWN0b3I6ICJhOmNvbnRhaW5zKCfnv7vkuIrpobUnKSIsICAgICAgICAgICAgICAgICAgICAgIC8vIOS4iuS4gOmhtemTvuaOpSBqUXVlcnkg6YCJ5oup5ZmoICjkuI3loavliJnlsJ3or5Xoh6rliqjmkJzntKIpCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYTpjb250YWlucygn57+75LiL6aG1JykiLCAgICAgICAgICAgICAgICAgICAgIC8vIOS4i+S4gOmhtemTvuaOpSBqUXVlcnkg6YCJ5oup5ZmoICAo5LiN5aGr5YiZ5bCd6K+V6Ieq5Yqo5pCc57SiKQoKICAgICAgICAvLyDojrflj5blhoXlrrkKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjQm9va1RleHQiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YaF5a65IGpRdWVyeSDpgInmi6nlmaggKOS4jeWhq+WImeWwneivleiHquWKqOaQnOe0oikKICAgICAgICB1c2VpZnJhbWU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICjlj6/pgIkp5LiL5LiA6aG15Yqg6L295piv5ZCm5L2/55SoIGlmcmFtZQogICAgICAgIC8vIG11dGF0aW9uU2VsZWN0b3I6ICIjY2hhcHRlcmNvbnRhaW5lciIsICAgICAgICAgICAgICAgICAgICAvLyAo5Y+v6YCJKeWGheWuueeUn+aIkOebkeinhuWZqAogICAgICAgIC8vIOWvueWGheWuueeahOWkhOeQhgogICAgICAgIGNvbnRlbnRIYW5kbGU6IGZhbHNlLCAgIC8vICjlj6/pgIkp5piv5ZCm5a+55YaF5a656L+b6KGM54m55q6K5aSE55CG77yM6K+45aaC5ou86Z+z5a2X5L+u5aSN562J77yM6K+45aaC6LW354K5562J572R56uZ5Y+v56aB55SoCiAgICAgICAgZml4SW1hZ2U6IHRydWUsICAgICAgICAgLy8gKOWPr+mAiSnvvIzlm77niYflsYXkuK3vvIzkuI3liIblpKflsI8KICAgICAgICBjb250ZW50UmVwbGFjZTogLyhcKld877yId3xcKHcpLnsxMCwyNX0o5ZCnXCp877yJfFwpKXznnIvlsI/or7TlsLHkuIp85pys5Lmm6aaW5Y+RfOazoS57MSw2feWQp3znmb7luqbmkJzntKLpmIXor7vmnIDmlrDmnIDlhajnmoTlsI/or7R8aHR0cDpcL1wvd3d3LnBhb3NodTguY29tXC985peg5by556qXL2csICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDpnIDopoHnp7vpmaTnmoTlhoXlrrnmraPliJkgKOWPr+mAiSkKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICjlj6/pgIkp5YaF5a656KGl5LiB44CC6Kej5Yaz57+76aG15piv6ISa5pys55qE5oOF5Ya1CiAgICAgICAgICAgIHZhciAkbmV4dCA9IGZha2VTdHViLmZpbmQoJyNMaW5rTWVudScpOwogICAgICAgICAgICAkbmV4dC5odG1sKCRuZXh0Lmh0bWwoKS5yZXBsYWNlKC88c2NyaXB0PlNob3dMaW5rTWVudS4qPyg8YS4qP2E+KS4qPyg8YS4qP2E+KS4qP3NjcmlwdD4vLCckMSQyJykgKwogICAgICAgICAgICAgICAgJzxhIGhyZWY9XCdMaXN0LnNodG1cJz7lm57nm67lvZU8L2E+Jyk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogJ+i1t+eCueaWsOeJiC3pmIXmlocnLAogICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vcmVhZFxcLnFpZGlhblxcLmNvbS9jaGFwdGVyLy4qJywKICAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcjYm9va0ltZycsCiAgICAgICAgIHRpdGxlU2VsZWN0b3I6ICdoMy5qX2NoYXB0ZXJOYW1lJywKCiAgICAgICAgIHByZXZTZWxlY3RvcjogJyNqX2NoYXB0ZXJQcmV2JywKICAgICAgICAgbmV4dFNlbGVjdG9yOiAnI2pfY2hhcHRlck5leHQnLAogICAgICAgICBpbmRleFNlbGVjdG9yOiBmdW5jdGlvbihvYmopIHsKICAgICAgICAgICAgIHZhciB1cmwgPSBvYmouZmluZCgiLmNoYXB0ZXItY29udHJvbCBhOmNvbnRhaW5zKCfnm67lvZUnKSIpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgIHJldHVybiB1cmw7CiAgICAgICAgIH0sCgogICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcucmVhZC1jb250ZW50LmpfcmVhZENvbnRlbnQnLAogICAgICAgICBjb250ZW50UmVtb3ZlOiAnJywKICAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgICfmiYvmnLrnlKjmiLfor7fliLBtLnFpZGlhbi5jb23pmIXor7vjgIInLAogICAgICAgICAgICAgJ+i1t+eCueS4reaWh+e9kXd3dy5xaWRpYW4uY29t5qyi6L+O5bm/5aSn5Lmm5Y+L5YWJ5Li06ZiF6K+777yM5pyA5paw44CB5pyA5b+r44CB5pyA54Gr55qE6L+e6L295L2c5ZOB5bC95Zyo6LW354K55Y6f5Yib77yBLionCiAgICAgICAgIF0sCiAgICB9LAogICAgLy8g54m55q6K56uZ54K577yM6ZyA5YaN5qyh6I635Y+W5LiU6Leo5Z+f44CC5re75YqgIGNsYXNzPSJyZWFkZXItYWpheCLvvIzlkIzml7bpnIDopoEgc3JjLCBjaGFyc2V0CiAgICB7c2l0ZU5hbWU6ICfotbfngrnmlrDniYgnLAogICAgICAgIHVybDogJ15odHRwcz86Ly9yZWFkXFwucWlkaWFuXFwuY29tL0Jvb2tSZWFkZXIvLipcXC5hc3B4JywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5zdG9yeV90aXRsZSAudGV4dGluZm8gYTpudGgtY2hpbGQoMSknLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuc3RvcnlfdGl0bGUgaDEnLAoKICAgICAgICBwcmV2U2VsZWN0b3I6ICcjcGFnZVByZXZSaWdodEJ0bicsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAnI3BhZ2VOZXh0UmlnaHRCdG4nLAogICAgICAgIGluZGV4U2VsZWN0b3I6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gbG9jYXRpb24uaHJlZi5yZXBsYWNlKC8sLio/XC5hc3B4JC8sICcuYXNweCcpLnJlcGxhY2UoJ0Jvb2tSZWFkZXJOZXcnLCAnQm9va1JlYWRlcicpOwogICAgICAgIH0sCgogICAgICAgIG11dGF0aW9uU2VsZWN0b3I6ICIjY2hhcHRlcmNvbnRhaW5lciIsICAvLyDlhoXlrrnnlJ/miJDnm5Hop4blmagKICAgICAgICAgICAgbXV0YXRpb25DaGlsZENvdW50OiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNjb250ZW50LCAuYm9va3JlYWRlcmNvbnRlbnQnLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhW2hyZWY9Imh0dHA6Ly93d3cucWlkaWFuLmNvbSJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5omL5py655So5oi36K+35YiwbS5xaWRpYW4uY29t6ZiF6K+744CCJwogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3NjcmlwdFtzcmMkPSIudHh0Il0nKS5hZGRDbGFzcygncmVhZGVyLWFqYXgnKTsKICAgICAgICB9LAogICAgfSwKICAgIHtzaXRlTmFtZTogIui1t+eCueS4reaWh+OAgei1t+eCueWls+eUn+OAgei1t+eCueaWh+WtpiIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovLyh3d3d8cmVhZHxyZWFkYm9va3x3d3dwbG95fGNnYXxiaWc1cGxveSlcXC4ocWlkaWFufHFkbW18cWR3ZW54dWUpXFwuY29tL0Jvb2tSZWFkZXIvLioiLAogICAgICAgIC8vIHRpdGxlUmVnOiAi5bCP6K+0OiguKj8pKD8654us5a626aaW5Y+RKS8oLio/KS8uKiIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiNsYkNoYXB0ZXJOYW1lIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5wYWdlX3NpdGUgPiBhOmxhc3QiLAogICAgICAgIC8vIGNvbnRlbnRTZWxlY3RvcjogIiNoZENvbnRlbnQiLAogICAgICAgIG5leHRVcmw6IGZ1bmN0aW9uKCRkb2MpeyAgLy8g5Li65LqG6YG/5YWN6LW354K55p+Q5qyh5pS554mI5ZCO5oqKMemhteaLhuaIkDLpobXvvIznhLblkI7pgKDmiJDph43lpI3ovb3lhaXnrKzkuIDpobXnmoTmg4XlhrUKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhuZXh0cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICBpZiAoIWh0bWwpIHJldHVybjsKICAgICAgICAgICAgdmFyIG0gPSBodG1sLm1hdGNoKC9uZXh0cGFnZT0nKC4qPyknLyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9LAogICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uKCRkb2MpewogICAgICAgICAgICB2YXIgaHRtbCA9ICRkb2MuZmluZCgnc2NyaXB0OmNvbnRhaW5zKHByZXZwYWdlPSknKS5odG1sKCk7CiAgICAgICAgICAgIGlmICghaHRtbCkgcmV0dXJuOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL3ByZXZwYWdlPScoLio/KScvKTsKICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtWzFdOwogICAgICAgIH0sCiAgICAgICAgY29udGVudFJlcGxhY2U6IHsKICAgICAgICAgICAgIlxcW2ltZz0oLiopXFxdIjogIjxwPjxpbWcgc3JjPSckMSc+PC9wPjxwPiIsCiAgICAgICAgICAgICJcXFsrQ1AuKihodHRwOi8vZmlsZS4qXFwuanBnKVxcXSsiOiAiPHA+PGltZyBzcmM9JyQxJz48L3A+PHA+IiwKICAgICAgICAgICAgIlxcW2Jvb2tpZD0oXFxkKynvvIxib29rbmFtZT0oLio/KVxcXSI6ICI8YSBocmVmPSdodHRwOi8vd3d3LnFpZGlhbi5jb20vQm9vay8kMS5hc3B4Jz4kMjwvYT4iLAogICAgICAgICAgICAid3d3LmNtZnUuY29t5Y+R5biDfOi1t+eCueS4reaWh+e9kXd3dy5xaWRpYW4uY29t5qyi6L+O5bm/5aSn5Lmm5Y+L5YWJ5Li06ZiF6K+7LioiOiAiIiwKICAgICAgICAgICAgJyg8cD5cXHMrKT88YSBocmVmPSI/aHR0cDovL3d3dy4oPzpxaWRpYW58Y21mdSkuY29tIj8+6LW354K55Lit5paH572RLionOiAnJywKCiAgICAgICAgICAgICcoW1xcdTRlMDAtXFx1OWZhNV0pWyXvv6VdKyhbXFx1NGUwMC1cXHU5ZmE1XSknOiAnJDEkMicsICAvLyDlsY/olL3or43kv67mraPvvIzkvovlpoLvvJrpo44lJemqmgogICAgICAgIH0sCiAgICAgICAgY29udGVudFJlbW92ZTogInNwYW5baWRePSdhZF8nXSwgLnJlYWRfbWEiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCdzY3JpcHRbc3JjJD0iLnR4dCJdJykuYWRkQ2xhc3MoJ3JlYWRlci1hamF4Jyk7CiAgICAgICAgfSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLotbfngrnkuK3mlofnvZHlhY3otLnpopHpgZMiLAogICAgICAgIHVybDogIl5odHRwcz86Ly9mcmVlXFwucWlkaWFuXFwuY29tL0ZyZWUvUmVhZENoYXB0ZXJcXC5hc3B4IiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiLnRpdGxlID4gaDMiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLnNpdGVfcmVjdCA+IGE6bGFzdCIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NoYXB0ZXJfY29udCwgI2NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICIubmljZV9ib29rcyIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IHsKICAgICAgICAgICAgIlxcW2ltZz0oLiopXFxdIjogIjxwPjxpbWcgc3JjPSckMSc+PC9wPjxwPiIsCiAgICAgICAgICAgICJcXFsrQ1AuKihodHRwOi8vZmlsZS4qXFwuanBnKVxcXSsiOiAiPHA+PGltZyBzcmM9JyQxJz48L3A+PHA+IiwKICAgICAgICAgICAgIlxcW2Jvb2tpZD0oXFxkKynvvIxib29rbmFtZT0oLio/KVxcXSI6ICI8YSBocmVmPSdodHRwOi8vd3d3LnFpZGlhbi5jb20vQm9vay8kMS5hc3B4Jz4kMjwvYT4iLAogICAgICAgICAgICAid3d3LmNtZnUuY29t5Y+R5biDfOi1t+eCueS4reaWh+e9kXd3dy5xaWRpYW4uY29t5qyi6L+O5bm/5aSn5Lmm5Y+L5YWJ5Li06ZiF6K+7LioiOiAiIiwKICAgICAgICAgICAgJyg8cD5cXHMrKT88YSBocmVmPSI/aHR0cDovL3d3dy4oPzpxaWRpYW58Y21mdSkuY29tIj8+6LW354K55Lit5paH572RLionOiAnJwogICAgICAgIH0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1YikgewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCcjY2hhcHRlcl9jb250LCAjY29udGVudCA+IHNjcmlwdDpmaXJzdCcpLmFkZENsYXNzKCdyZWFkZXItYWpheCcpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLliJvkuJbkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly8oPzpjaHVhbmdzaGl8eXVucWkpXFwucXFcXC5jb20vfF5odHRwOi8vZHVzaHVcXC5xcVxcLmNvbS9yZWFkLmh0bWxcXD9iaWQ9IiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5ib29rTmF2ID4gYTpsYXN0KCknLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuc3RvcnlfdGl0bGUgPiBoMScsCgogICAgICAgIG5leHRTZWxlY3RvcjogJyNyaWdodEZsb2F0QmFyX25leHRDaGFwdGVyQnRuJywKICAgICAgICBwcmV2U2VsZWN0b3I6ICcjcmlnaHRGbG9hdEJhcl9wcmVDaGFwdGVyQnRuJywKICAgICAgICBpbmRleFNlbGVjdG9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG0gPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9cL2JrXC9cdytcLyguKj8pLXItXGQrLmh0bWwvKTsKICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cDovL2NodWFuZ3NoaS5xcS5jb20vYmsvbHMvJyArIG1bMV0gKyAnLWwuaHRtbCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHA6Ly9jaHVhbmdzaGkucXEuY29tL2JrL2xzLycgKyB1bnNhZmVXaW5kb3cuYmlkICsgJy1sLmh0bWwnOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLmJvb2tyZWFkZXJjb250ZW50IiwKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICBtdXRhdGlvblNlbGVjdG9yOiAiI2NoYXB0ZXJjb250YWluZXIiLCAgLy8g5YaF5a6555Sf5oiQ55uR6KeG5Zmo77yM56ys5LiA5qyh6L+Q6KGM55So5Yiw77yM5Lul5ZCO55So5LiL6Z2i55qEIGdldENvbnRlbnQg5Ye95pWwCiAgICAgICAgICAgIG11dGF0aW9uQ2hpbGRDb3VudDogMSwKICAgICAgICBzdGFydEZpbHRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIOS4i+S4gOmhtemcgOimgeaPkOWJjeWKoCAxCiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy51dWlkID0gcGFyc2VJbnQodW5zYWZlV2luZG93LnV1aWQpICsgMSArICcnOwogICAgICAgIH0sCiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24oZmFrZVN0dWIsIGNhbGxiYWNrKSB7ICAvLyB0aGlzIOaMhyBwYXJzZXIKICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnV1aWQgPSBkYXRhLm5leHR1dWlkOyAgLy8g57uZ5LiL5LiA6aG155SoCgogICAgICAgICAgICAgICAgY2FsbGJhY2soewogICAgICAgICAgICAgICAgICAgIGh0bWw6IGdldFBhZ2VVcmxIdG1sKGRhdGEucHJldXVpZCwgZGF0YS5uZXh0dXVpZCkgKyBkYXRhLkNvbnRlbnQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgICAgICBleHBvcnRGdW5jdGlvbihkb25lLCB1bnNhZmVXaW5kb3csIHsgZGVmaW5lQXM6ICJnbV9tbnJfY3NfY2FsbGJhY2siIH0pOwoKICAgICAgICAgICAgdW5zYWZlV2luZG93LkNTLnBhZ2UucmVhZC5tYWluLmdldENoYXB0ZXJDb250ZW50KHVuc2FmZVdpbmRvdy5iaWQsIHVuc2FmZVdpbmRvdy51dWlkLCB1bnNhZmVXaW5kb3cuZ21fbW5yX2NzX2NhbGxiYWNrKTsKCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFBhZ2VVcmxIdG1sKHByZUNoYXB0ZXJVVUlELCBuZXh0Q2hhcHRlclVVSUQpIHsKICAgICAgICAgICAgICAgIHZhciBwcmVSZWFkVXJsID0gX2dldFJlYWRQYWdlVXJsKHByZUNoYXB0ZXJVVUlEKSwKICAgICAgICAgICAgICAgICAgICBuZXh0UmVhZFVybCA9IF9nZXRSZWFkUGFnZVVybChuZXh0Q2hhcHRlclVVSUQpOwoKICAgICAgICAgICAgICAgIHJldHVybiAnPGEgaWQ9InJpZ2h0RmxvYXRCYXJfcHJlQ2hhcHRlckJ0biIgaHJlZj0iJyArIHByZVJlYWRVcmwgKyAnIj7kuIrkuIDpobU8L2E+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBpZD0icmlnaHRGbG9hdEJhcl9uZXh0Q2hhcHRlckJ0biIgaHJlZj0iJyArIG5leHRSZWFkVXJsICsgJyI+5LiL5LiA6aG1PC9hPicgKyAnXG4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBfZ2V0UmVhZFBhZ2VVcmwodXVpZCkgewogICAgICAgICAgICAgICAgaWYgKCF1dWlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdqYXZhc2NyaXB0OnZvaWQoMCk7JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoL1s/fCNdLiovZ2ksICcnKTsKICAgICAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvKFxkKStcLmh0bWwvLCB1dWlkICsgJy5odG1sJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIHtzaXRlTmFtZTogIue6teaoquS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL2Jvb2tcXC56b25naGVuZ1xcLmNvbS9cXFMrXFwvXFxkK1xcLmh0bWwkIiwKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICAvLyB0aXRsZVJlZzogIiguKj8pLSguKikiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICJlbVtpdGVtcHJvcD0naGVhZGxpbmUnXSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIudGMgaDIiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNyZWFkZXJGdCcsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJy53YXRlcm1hcmsnKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g57uZ56ys5Yeg56ug5re75Yqg56m65qC8CiAgICAgICAgICAgIHZhciBjaGFwdGVyVGl0bGUgPSBmYWtlU3R1Yi5maW5kKCIudGMgPiBoMiIpLnRleHQoKTsKICAgICAgICAgICAgdmFyIGNoYXB0ZXJUaXRsZTEgPSBmYWtlU3R1Yi5maW5kKCIudGMgPiBoMiBlbSIpLnRleHQoKTsKICAgICAgICAgICAgaWYoY2hhcHRlclRpdGxlMSkgewogICAgICAgICAgICAgICAgY2hhcHRlclRpdGxlID0gY2hhcHRlclRpdGxlLnJlcGxhY2UoY2hhcHRlclRpdGxlMSwgIiAiKSArIGNoYXB0ZXJUaXRsZTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgidGl0bGUiKS50ZXh0KAogICAgICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiLnRjID4gaDEiKS50ZXh0KCkgKyAiLSIgKyBjaGFwdGVyVGl0bGUKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5pmL5rGf5paH5a2m572RIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmpqd3hjXC5uZXRcL29uZWJvb2tcLnBocFxTKi8sCiAgICAgICAgdGl0bGVSZWc6IC/jgIooLio/KeOAiy4qW8uHXl0oLio/KVvLh15dLiovLAogICAgICAgIHRpdGxlUG9zOiAwLAogICAgICAgIC8vIHRpdGxlU2VsZWN0b3I6ICdoMicsCiAgICAgICAgLy8gYm9va1RpdGxlU2VsZWN0b3I6ICdoMSAuYmlndGV4dCcsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIi5ub3ZlbHRpdGxlID4gaDEgPiBhIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcubm92ZWx0ZXh0JywKICAgICAgICBjb250ZW50SGFuZGxlOiBmYWxzZSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnZm9udFtjb2xvcl0sIGhyJywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgnaDInKS5yZW1vdmUoKTsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgnI3NpeF9saXN0LCAjc2VuZEtpbmdUaWNrZXRzJykucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoImRpdi5ub3ZlbHRleHQiKS5maW5kKCJkaXY6Zmlyc3QsIGgxLCBkaXZbc3R5bGVdOmxhc3QiKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAn5pmL5rGf5paH5a2m5Z+OX+aJi+acuueJiCcsCiAgICAgICAgdXJsOiAnXmh0dHA6Ly9tXFwuamp3eGNcXC5uZXQvYm9vazIvXFxkKy9cXGQrJywKICAgICAgICB0aXRsZVJlZzogL+OAiiguKj8p44CLLipby4deXSguKj8pW8uHXl0uKi8sCiAgICAgICAgdGl0bGVQb3M6IDAsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAnZGl2LmdyaWQtYyA+IGRpdiA+IGRpdi5iLm1vZHVsZSA+IGRpdjpudGgtY2hpbGQoMikgPiB1bCcsCiAgICB9LAogICAge3NpdGVOYW1lOiAi5r2H5rmY5Lmm6ZmiIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwueHhzeVxcLm5ldC9ib29rcy8uKlxcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPykgKC4qKSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3pqY29udGVudGRpdiIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYVt0aXRsZT0n6ZiF6K+75LiL5LiA56ug6IqCJ10iLAogICAgICAgIGNvbnRlbnRIYW5kbGU6IGZhbHNlLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi5pys5Lmm55Sx5r2H5rmY5Lmm6Zmi6aaW5Y+R77yM6K+35Yu/6L2s6L2977yBIiwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgidGl0bGUiKS50ZXh0KGZha2VTdHViLmZpbmQoJ21ldGFbbmFtZT0ia2V5d29yZHMiXScpLmF0dHIoImNvbnRlbnQiKSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIumAkOa1qiIsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvYm9va1wuemh1bGFuZ1wuY29tXC8uKlwuaHRtbC8sCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KS0oLiopLywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjcmVhZHBhZ2VfbGVmdG50eHQiLAogICAgICAgIGNvbnRlbnRIYW5kbGU6IGZhbHNlLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICB2YXIgdGl0bGUgPSBmYWtlU3R1Yi5maW5kKCIucmVhZHBhZ2VfbGVmdG56Z3ggYTpmaXJzdCIpLnRleHQoKSArICItIiArCiAgICAgICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIucmVhZHBhZ2VfbGVmdG50aXQiKS50ZXh0KCk7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3RpdGxlJykuaHRtbCh0aXRsZSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWwj+ivtOmYheivu+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnJlYWRub3ZlbFxcLmNvbS9ub3ZlbC8uKlxcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIuYmd0b3AgPiBoMSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIubm93bmF2ID4gYTplcSg0KSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2FydGljbGUsIC56aGFuZ2ppZSIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdltzdHlsZV0sIC5taWFvc2h1LCAuemhpY2hpLCAuYm90dG9tQWRiYW5uZXIiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpIHsKICAgICAgICAgICAgLy8g5Yig6Zmk5qCH6aKY5LiN6ZyA6KaB55qE6YOo5YiGCiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoIi5iZ3RvcCA+IGgxID4gc3BhbiIpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICAvLyB7c2l0ZU5hbWU6ICLno6jpk4EiLAogICAgLy8gCXVybDogJ15odHRwcz86Ly93d3cubW90aWUuY29tL2Jvb2svXFxkK19cXGQrJywKICAgIC8vIAljb250ZW50U2VsZWN0b3I6ICcucGFnZS1jb250ZW50JwogICAgLy8gfSwKCiAgICB7c2l0ZU5hbWU6ICLnmb7luqbotLTlkKfvvIjmiYvliqjlkK/nlKjvvIkiLAogICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvdGllYmFcLmJhaWR1LmNvbVwvcFwvLywKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiaDEuY29yZV90aXRsZV90eHQiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmNhcmRfdGl0bGVfZm5hbWUiLAogICAgICAgIG5leHRTZWxlY3RvcjogZmFsc2UsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogJ2EuY2FyZF90aXRsZV9mbmFtZScsCiAgICAgICAgcHJldlNlbGVjdG9yOiBmYWxzZSwKCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2pfcF9wb3N0bGlzdCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIiNzb2ZhX3Bvc3QsIC5kX2F1dGhvciwgLnNoYXJlX2J0bl93cmFwcGVyLCAuY29yZV9yZXBseSwgLmpfdXNlcl9zaWduIiwKICAgICAgICBzdHlsZTogIi5jbGVhciB7IGJvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7IG1hcmdpbi1ib3R0b206IDUwcHg7IHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDt9IiwgIC8vIOaYvuekuualvOWxgueahOWIhuWJsue6vwogICAgfSwKICAgIC8vIHtzaXRlTmFtZTogIuWkqea2r+WcqOe6v+S5puW6k++8iOmDqOWIhuaUr+aMge+8iSIsCiAgICAvLyAgICAgdXJsOiAvd3d3XC50aWFueWFib29rXC5jb21cLy4qXC5odG0vLAogICAgLy8gICAgIHRpdGxlU2VsZWN0b3I6ICIubWF4LCBoMTpmaXJzdCIsCiAgICAvLyAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICJ0ZFt3aWR0aD0nNzAlJ10gPiBhW2hyZWYkPSdpbmRleC5odG0nXSIsCiAgICAvLyAgICAgY29udGVudFNlbGVjdG9yOiAiZGl2ID4gc3Bhbi5taWRkbGUsICN0ZXh0cyIsCiAgICAvLyAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICAvLyB9LAogICAge3NpdGVOYW1lOiAi5aSp5rav5Lmm5bqTIiwKICAgICAgICB1cmw6IC93d3dcLnR5MjAxNlwuY29tXC8uK1wuaHRtbCQvLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICJoMSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY3J1bWIgYVtocmVmPScuLyddIiwKCiAgICAgICAgaW5kZXhTZWxlY3RvcjogInRkIGFbaHJlZj0nLi8nXSIsCgogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtYWluIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmNydW1iLCB0YWJsZScsCiAgICAgICAgY29udGVudEhhbmRsZTogZmFsc2UsCiAgICB9LAoKICAgIC8vIHtzaXRlTmFtZTogIuaYk+ivuyIsCiAgICAvLyAgICAgdXJsOiAiXmh0dHBzPzovL3d3dy55aS1zZWUuY29tL3JlYWRfXFxkK19cXGQrLmh0bWwiLAogICAgLy8gICAgIGNvbnRlbnRTZWxlY3RvcjogJ3RhYmxlW3dpZHRoPSI5MDBweCJdW2FsaWduPSJDRU5URVIiXScKICAgIC8vIH0sCiAgICB7c2l0ZU5hbWU6ICLnh4PmlociLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wuKD86cmFud2VuYT9cLihjY3xuZXR8Y29tKXw2NG1pXC5jb20pXC8uKlwuaHRtbCQvLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPyktKC4qPykt54eD5paHLywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjb2xkdGV4dCwgI2NvbnRlbnRzIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiZGl2W3N0eWxlXSwgc2NyaXB0IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAvXCgoJm5ic3A7KSpcKS9nLAogICAgICAgICAgICAv5pyA5b+r5pu05pawNzjlsI/or7R8XCg/55m+5bqm5pCcLlwpfOiuv+mXruS4i+i9vXRYdOWwj+ivtHznmb7luqbmkJxcfOe0onzmlodcfOWtpnzmloflrablhajmlocu5a2X5omL5omTfFwoKCZuYnNwOykrfOeJm+i/h+S4reaWhy4uaGpzbS4u6aaW5Y+RLui9rOi9veivt+S/neeVmXxcW+acrOaWh+adpeiHqlxdfOKZoOaAneKZpei3r+KZo+WuouODrHzigLvkupTmnIjkuK3mlofnvZEgNXkg4oC7fOaXoOmUmeS4jei3s+Wtl3zmnIDlv6vpmIXor7vlsI/or7TlpKfkuLvlrrAuKnzot5/miJHor7vvvKjvvI1177yNbiDor7fniaLorrB86Z2e5bi45paH5a2mfOWFs+mXrSZsdDvlub/lkYomZ3Q7fHcgdy4qfOKAneWoseS5kOengOKAnXzmm7TlpJrnsr7lvanlsI9b6K+06KqqXS4qfOmrmOmAn+abtOaWsC9nLAogICAgICAgICAgICAvW1woXCril45dKijnmb7luqbmkJwpP+aWhy4/W+WtuOWtpl0uP1vppobppKhdW1wpXCrvvIldKnxcKOeZvuW6puaQnFwpL2csCiAgICAgICAgICAgIC/mj5Dkvpvml6DlvLnnqpflhajmloflrZflnKjnur/pmIXor7suKnzpq5jpgJ/pppblj5EuKuWmguaenOS9oOinieeahOacrOeroOiKgui/mOS4jemUmeeahOivnS4qL2csCiAgICAgICAgICAgIC/kuabnvZHiiLfmm7TmlrDlv6viiLfml6DlvLnnqpfiiLfnuq/mloflrZfiiLcudO+8geOAgi9nLAogICAgICAgICAgICAv5LiA56eS6K6w5L2P77yM5pys56uZ5Li65oKo5o+Q5L6b54Ot6Zeo5bCP6K+05YWN6LS56ZiF6K+744CCL2csCiAgICAgICAgICAgIC9cKOabtOaWsOmAn+W6puacgOW/q+iusOS9j+WNs+WPr+aJvuWIsFwpfOiKkuaenOebtOaSree9kXwubWd6aGlibyAufOWOuyDor7sg6K+7fOeci+Wwj+ivtOWwseWIsC9nLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnh4PmloflsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5yYW53ZW54aWFvc2h1b1xcLmNvbS9maWxlcy9hcnRpY2xlL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sfGh0dHA6Ly93d3dcXC5yYW53ZW54aWFvc2h1b1xcLmNvbS9cXHcrL1xcdystXFxkKy1cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KeacgOaWsOeroOiKgiguKj8p5Zyo57q/6ZiF6K+7LiovLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNmb250c2l6ZSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLlpKnmiY3kuIDnp5LorrDkvY9bXFxzXFxTXSvkuLrmgqjmj5Dkvpvnsr7lvanlsI/or7TpmIXor7vjgIIiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIueHg+aWh+Wwj+ivtCIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnJhbndlblxcLm5ldC9maWxlcy9hcnRpY2xlL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoXFxTKykgKC4qKSAtIOeHg+aWh+Wwj+ivtCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJcXCguKueHg+aWh+Wwj+ivtC4qXFwpfOOAkCDms6jlhozkvJrlkZjlj6/ojrfnp4HkurrkuabmnrbvvIznnIvkuabmm7Tmlrnkvr/vvIHmsLjkuYXlnLDlnYDvvJog44CRICIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLml6DplJnlsI/or7TnvZEiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wuKD86d2N4aWFvc2h1b3x4aWFvc2h1b3p8cXVsZWR1KVwuY29tXC93Y3hzWy1cZF0rXC8vLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPynmnIDmlrDnq6DoioIuKj8tKC4qPyktLiovLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIG5leHRTZWxlY3RvcjogImEjaHRtbHhpYXpoYW5nIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICJhI2h0bWxzaGFuZ3poYW5nIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiYSNodG1sbXVsdSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ2lsby1mdWxsLXNyYz0iXFxTK1xcLmpwZyIgJywKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJyg8Y2VudGVyPik/PD9pbWcgc3JjLi4oaHR0cDovL3d3dy53Y3hpYW9zaHVvLmNvbSk/KC9zc3MvXFxTK1xcLmpwZykuKD58IGFsdC4iXFxkK19cXGQrX1xcZCpcXC5qcGciIC8+KSg8L2NlbnRlcj4pPyc6ICckMycsCiAgICAgICAgICAgICAgICAiL3Nzcy9kYS5qcGciOiAi5omTIiwgIi9zc3MvbWF3cy5qcGciOiAi5ZCX77yfIiwgIi9zc3MvYmF3LmpwZyI6ICLlkKfvvJ8iLCAiL3Nzcy93dWMuanBnIjogIuaXoCIsICIvc3NzL21hb3N1LmpwZyI6ICLvvJrigJwiLCAiL3Nzcy9jdW93LmpwZyI6ICLplJkiLCAiL3Nzcy96aWppLmpwZyI6ICLoh6rlt7EiLCAiL3Nzcy9zaGVubWUuanBnIjogIuS7gOS5iCIsICIvc3NzL2h1aXF1Yi5qcGciOiAi5Zue5Y67IiwgIi9zc3Mvc2ppYW4uanBnIjogIuaXtumXtCIsICIvc3NzL3pvbWUuanBnIjogIuaAjuS5iCIsICIvc3NzL3poaWRvLmpwZyI6ICLnn6XpgZMiLCAiL3Nzcy94aWF4aW4uanBnIjogIuebuOS/oSIsICIvc3NzL2ZheGlhbi5qcGciOiAi5Y+R546wIiwgIi9zc3Mvc2hodWEuanBnIjogIuivtOivnSIsICIvc3NzL2RhamlleC5qcGciOiAi5aSn5aeQIiwgIi9zc3MvZG9uZ3hpLmpwZyI6ICLkuJzopb8iLCAiL3Nzcy9lcnppYi5qcGciOiAi5YS/5a2QIiwgIi9zc3MvZ3VvbGFpci5qcGciOiAi6L+H5p2lIiwgIi9zc3MveGlhYmFuZy5qcGciOiAi5LiL54+tIiwgIi9zc3MvemFuZ2ZsLmpwZyI6ICLkuIjlpKsiLCAiL3Nzcy9kaWFuaHVhLmpwZyI6ICLnlLXor50iLCAiL3Nzcy9odWlsYWltLmpwZyI6ICLlm57mnaUiLCAiL3Nzcy94aWF3dS5qcGciOiAi5LiL5Y2IIiwgIi9zc3MvZ3VvcXV1LmpwZyI6ICLov4fljrsiLCAiL3Nzcy9zaGFuZ2JhLmpwZyI6ICLkuIrnj60iLCAiL3Nzcy9taW5ndG4uanBnIjogIuaYjuWkqSIsICIvc3NzL252cmVuamouanBnIjogIuWls+S6uiIsICIvc3NzL3NoYW5nd28uanBnIjogIuS4iuWNiCIsICIvc3NzL3NoamkuanBnIjogIuaJi+acuiIsICIvc3NzL3hpYW94aW55eS5qcGciOiAi5bCP5b+DIiwgIi9zc3MvZnVyZW5lLmpwZyI6ICLlpKvkuroiLCAiL3Nzcy9nb25nemloLmpwZyI6ICLlhazlrZAiLCAiL3Nzcy94aWFuc2cuanBnIjogIuWFiOeUnyIsICIvc3NzL3BlbnlvdXhpLmpwZyI6ICLmnIvlj4siLCAiL3Nzcy94aWFvamUuanBnIjogIuWwj+WnkCIsICIvc3NzL3hpZnVwLmpwZyI6ICLlqrPlpociLCAiL3Nzcy9udnh1ZGpqLmpwZyI6ICLlpbPlqb8iLCAiL3Nzcy94b25kaS5qcGciOiAi5YWE5byfIiwgIi9zc3MvbGFnb25nLmpwZyI6ICLogIHlhawiLCAiL3Nzcy9sYXBvLmpwZyI6ICLogIHlqYYiLCAiL3Nzcy9tZWltZWlkLmpwZyI6ICLlprnlprkiLCAiL3Nzcy9qaWVqaWV2LmpwZyI6ICLlp5Dlp5AiLCAiL3Nzcy9qaWVtZWl2LmpwZyI6ICLlp5DlprkiLCAiL3Nzcy94aWFuZ2d4LmpwZyI6ICLnm7jlhawiLCAiL3Nzcy82c2hlbnVtZXYuanBnIjogIuS7gOS5iCIsICIvc3NzL2N1b2F3LmpwZyI6ICLplJkiLCAiL3Nzcy9mcGVmbnlvdHVyeGkuanBnIjogIuaci+WPiyIsICIvc3NzL3Zmc2pnaWdhcm4uanBnIjogIuaXtumXtCIsICIvc3NzL3p6aGllZG8zLmpwZyI6ICLnn6XpgZMiLCAiL3Nzcy96aWJqaWIuanBnIjogIuiHquW3sSIsICIvc3NzL3Fkb25nbHhpLmpwZyI6ICLkuJzopb8iLCAiL3Nzcy9oeGlhcHhpbnQuanBnIjogIuebuOS/oSIsICIvc3NzL2ZlenJvcm1yZS5qcGciOiAi5oCO5LmIIiwgIi9zc3MvbnZkcmZlbmZqZmouanBnIjogIuWls+S6uiIsICIvc3NzL2poaWhlZWplaWVldi5qcGciOiAi5aeQ5aeQIiwgIi9zc3MveGRpZmFnb2pnZS5qcGciOiAi5bCP5aeQIiwgIi9zc3MvZ2dndWdvbGdhaXIuanBnIjogIui/h+adpSIsICIvc3NzL21hb2FzaHUuanBnIjogIu+8muKAnCIsICIvc3NzL2dueG5pZmF3aHUuanBnIjogIuS4i+WNiCIsICIvc3NzL3JndHVnb3FndWd1LmpwZyI6ICLov4fljrsiLCAiL3Nzcy9raGp1a2lsa2FpbS5qcGciOiAi5Zue5p2lIiwgIi9zc3MvZ3hoaWdmYWRub3hpaG55eS5qcGciOiAi5bCP5b+DIiwgIi9zc3MvYmtic2toaHVrYS5qcGciOiAi6K+06K+dIiwgIi9zc3MveGVpZWF2bmZzZy5qcGciOiAi5YWI55SfIiwgIi9zc3MveXVoaGZ1aXVxdWIuanBnIjogIuWbnuWOuyIsICIvc3NzL3BkaWFucGh1YS5qcGciOiAi55S16K+dIiwgIi9zc3MvZmFieGlhbnIuanBnIjogIuWPkeeOsCIsICIvc3NzL2ZlaWxycHRvLmpwZyI6ICLogIHlqYYiLCAiL3Nzcy9neHJvbmZkcmkuanBnIjogIuWFhOW8nyIsICIvc3NzL2ZsZmFnZ29mbmcuanBnIjogIuiAgeWFrCIsICIvc3NzL3R5bXlpZ25ndHluLmpwZyI6ICLmmI7lpKkiLCAiL3Nzcy9kZnNoZmhoZmpmaS5qcGciOiAi5omL5py6IiwgIi9zc3MvZ3N0amhyYW5qZ3dqby5qcGciOiAi5LiK5Y2IIiwgIi9zc3MvZm1nZXlpbWVoaWQuanBnIjogIuWmueWmuSIsICIvc3NzL2d4Z2loZnR1dHAuanBnIjogIuWqs+WmhyIsICIvc3NzL2Nlcnp0aWZiLmpwZyI6ICLlhL/lrZAiLCAiL3Nzcy9nZnhnaWdhZ2JmYWRuZy5qcGciOiLkuIvnj60iLCAiL3Nzcy9nc3RqaHJhbmpnLmpwZyI6IuS4i+WNiCIsICIvc3NzL2hqZWlyZXJtNmVpaHYuanBnIjogIuWnkOWmuSIsICIvc3NzL2VkYWppaGV4ci5qcGciOiAi5aSn5aeQIiwgIi9zc3Mvd2VzZmhyYW5ycmdiYS5qcGciOiAi5LiK54+tIiwgIi9zc3MvZ2ZvZ25nZ3ppZ2guanBnIjogIuWFrOWtkCIsICIvc3NzL2ZydXJ0ZWZuZS5qcGciOiAi5aSr5Lq6IiwgIi9zc3MvZnphZ25nZ2ZibC5qcGciOiAi5LiI5aSrIiwgIi9zc3MvbnZkeGZ1ZGZqZmouanBnIjogIuWls+WpvyIsICIvc3NzL3hkaWRhZm5nZ3guanBnIjogIuebuOWFrCIsICIvc3NzL3plbm1lLmpwZyI6ICLmgI7kuYgiLCAiL3Nzcy9nb25nemkuanBnIjogIuWFrOWtkCIsICIvc3NzL2RkZWZyLmpwZyI6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICAiLipkZGVmclxcLmpwZy4qfOaXoCg/OumUmXwuKmN1b2E/d1xcLmpwZy4qKeWwj+ivtOe9keS4jVvlsJHot7Nd5a2XfHdbYS16XFwuXSpvbT98LirnlLFb44CQ5pegKumUmeOAkV0uKuS8muWRmOaJi+aJk1tcXHNcXFNdKiIsCiAgICAgICAgICAgICLmmK8g55SxIiwKICAgICAgICAgICAgIuaXoOmUmeS4jei3s+Wtl3zml6Dlub/lkYrnnIvnnYDlsLHmmK/niL0hfOS4gOenkuiusOS9jy4qfOWFqOaWh+WFjei0uemYheivuy4qfDggOSDpmIXpmIUg6K+7IOe9kXznnIvlsI/or7TmnIDlv6vmm7TmlrB84oCc5bCPI+ivtOeci+acrOS5puaXoOW5v+WRiuabtOaWsOacgOW/q+KAnSIsCiAgICAgICAgICAgICJbXFx4MjAtXFx4N2XjgItdP+aXoCg/Oi58Jmd0OynplJku5bCP6K+0LnsxLDJ9W++8t3ddKy4qP1tj77yjXVtv77yvXVtt77ytXSIsCiAgICAgICAgICAgICI85pegLemUmT4iLAogICAgICAgICAgICAi4oCU5peg4oCU6ZSZ4oCU5bCP6K+0IiwKICAgICAgICAgICAgIlxcK+aXoFxcK+mUmVxcKyIsCiAgICAgICAgICAgICImYW1wO+aXoCZhbXA76ZSZJmFtcDvlsI/or7QiLAogICAgICAgICAgICAi5peg6ZSZ5bCP6K+0IHd3dy5xdWxlZFvvvLV1XS5jb20iLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIC8vIOWOu+mZpOWGheWuueW8gOWktOOAgee7k+WwvueahOmHjeWkjeagh+mimAogICAgICAgICAgICB2YXIgdGl0bGUgPSBmYWtlU3R1Yi5maW5kKCIjaHRtbHRpbXUiKS50ZXh0KCkucmVwbGFjZSgvXHMrLywgIlxccyoiKTsKICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBmYWtlU3R1Yi5maW5kKCIjaHRtbENvbnRlbnQiKTsKICAgICAgICAgICAgY29udGVudC5maW5kKCJkaXZbYWxpZ249J2NlbnRlciddIikucmVtb3ZlKCk7CiAgICAgICAgICAgIGlmKHRpdGxlLm1hdGNoKC/nrKxcUyvnq6AvKSl7CiAgICAgICAgICAgICAgICBjb250ZW50Lmh0bWwoY29udGVudC5odG1sKCkucmVwbGFjZShuZXcgUmVnRXhwKHRpdGxlKSwgIiIpLnJlcGxhY2UobmV3IFJlZ0V4cCh0aXRsZSksICIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAn5Yek6Iie5paH5a2m572RJywKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3XFwud2VueHVlOFxcLm9yZy9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvUjQzLmdpZiI+Jzon54ixJywgJzxpbWcgc3JjPSIva2V5d2QvQTEzLmdpZiI+JzogJ+aDhScsICc8aW1nIHNyYz0iL2tleXdkL0QxMC5naWYiPic6ICfluoonLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvWTE5LmdpZiI+JzogJ+WluCcsICc8aW1nIHNyYz0iL2tleXdkL0gyMS5naWYiPic6ICflsYEnLCAnPGltZyBzcmM9Ii9rZXl3ZC9aMjMuZ2lmIj4nOiAn6YC8JywKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL0c0Mi5naWYiPic6ICfouqsnLCAnPGltZyBzcmM9Ii9rZXl3ZC9ZMi5naWYiPic6J+aApycsICc8aW1nIHNyYz0iL2tleXdkL0QzMi5naWYiPic6J+eDrScsCiAgICAgICAgICAgICAgICAnPGltZyBzcmM9Ii9rZXl3ZC9JNDQuZ2lmIj4nOifmjLonLCAnPGltZyBzcmM9Ii9rZXl3ZC9IMzAuZ2lmIj4nOifotLEnLCAnPGltZyBzcmM9Ii9rZXl3ZC9IMjUuZ2lmIj4nOifojaEnLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvVjcuZ2lmIj4nOifogoknLCAnPGltZyBzcmM9Ii9rZXl3ZC9PMjIuZ2lmIj4nOiflkK4nLCAnPGltZyBzcmM9Ii9rZXl3ZC9IOS5naWYiPic6J+aYpScsCiAgICAgICAgICAgICAgICAnPGltZyBzcmM9Ii9rZXl3ZC9LMzYuZ2lmIj4nOifml6UnLCAnPGltZyBzcmM9Ii9rZXl3ZC9PMTUuZ2lmIj4nOifog7gnLCAnPGltZyBzcmM9Ii9rZXl3ZC9TMzEuZ2lmIj4nOifmrLInLAogICAgICAgICAgICAgICAgJzxpbWcgc3JjPSIva2V5d2QvRjIwLmdpZiI+Jzon5bCEJywgJzxpbWcgc3JjPSIva2V5d2QvTjEyLmdpZiI+Jzon56aBJywgJzxpbWcgc3JjPSIva2V5d2QvUjI2LmdpZiI+Jzon5q6/JywKICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iL2tleXdkL1g2LmdpZiI+Jzon6K+xJywgJzxpbWcgc3JjPSIva2V5d2QvVTQ2LmdpZiI+JzogJ+WohycsCiAgICAgICAgICAgICAgICAnPGltZyBzcmM9Ii9rZXl3ZC9NMjQuZ2lmIj4nOiAn5pONJywgJzxpbWcgc3JjPSIva2V5d2QvQjQuZ2lmIj4nOifpqponLCAnPGltZyBzcmM9Ii9rZXl3ZC9PMy5naWYiPic6J+mYtCcsCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5Lmm6L+35qW8IiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLnNodW1pbG91XC4oPzpjb3x1cylcLy4qaHRtbCQvLAogICAgICAgIHRpdGxlUmVnOiAvKC4qKSAoLio/KSDkuabov7fmpbwvLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnYSwgY2VudGVyJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAnZGl2IGxpZ249ImVuZXIiJmd0O3wuKuabtOWkmueroOiKguivt+WIsOe9keWdgOmahumHjeaOqOiNkOWOu+mZpOW5v+WRiuWFqOaWh+Wtl+Wwj+ivtOmYheivu+WZqCcsCiAgICAgICAgICAgICfotbfngrnkuK3mlofnvZF3d3cucWlkaWFuLmNvbeasoui/juW5v+Wkp+S5pi4qJywKICAgICAgICAgICAgJ+S5pui/t+alvOacgOW/q+abtOaWsC4qJywKICAgICAgICAgICAgJ+abtOaWsOacgOW/q+acgOeos+WumicsCiAgICAgICAgICAgICdcXChcXC5cXClSP1UnLAogICAgICAgICAgICB7JzxwPlxcP1xcPyc6ICc8cD4nfSwKICAgICAgICAgICAgJ1xcKHd3dy5cXCknLAogICAgICAgICAgICAn56ug6IqC5pu05paw5pyA5b+rJywKICAgICAgICAgICAgJy3kuZAt6K+7LeWwjy3or7QtLeS5kOivu3gtJywKICAgICAgICAgICAgJ+OAiuS5kOOAi+OAiuivu+OAi+Wwj+ivtC7kuZDor7suQ29tJywKICAgICAgICAgICAgJ+e6r+aWh+Wtl+WcqOe6v+mYheivu+acrOermeWfn+WQjeaJi+acuuWQjOatpemYheivu+ivt+iuv+mXricsCiAgICAgICAgICAgICct5LyY77yN5LyY77yN5bCP77yN6K+077yN5pu077yN5paw77yN5pyA77yN5b+rLXd3dy51dXhzLmNjLScsCiAgICAgICAgICAgICdcXCjmnKznq6DlhY3otLlcXCknLAogICAgICAgICAgICAn5Lmm6L+35qW8d3d3LnNodW1pbG91LmNvJywKICAgICAgICBdLAogICAgICAgIGZpeEltYWdlOiB0cnVlLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudCIpLmZpbmQoImRpdi50aXRsZTpsYXN0IikKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhmYWtlU3R1Yi5maW5kKCdib2R5JykpOwogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudCIpLmZpbmQoImRpdi50aXRsZSwgcCA+IGIsIGRpdltzdHlsZV0iKS5yZW1vdmUoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5Yaw54Gr5Lit5paHIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmJpbmh1b1wuY29tXC9odG1sXC9bXGRcL10rXC5odG1sJC8sCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KeacgOaWsOeroOiKgiwoLio/KS0uKi8sCiAgICAgICAgZml4SW1hZ2U6IHRydWUsCiAgICAgICAgY29udGVudFJlbW92ZTogJ2ZvbnRbY29sb3I9InJlZCJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAiJmx0O+WGsOeBqyPkuK3mlocuKnzlhrDngavkuK3mlocmbmJzcDsod3d3Lik/YmluaHVvLmNvbSg/OuOAkOmmluWPkeOAkXwpfOWGsC7ngasu5Lit5paHfOe7v+iJsuWwj+ivtHxsdnNleHN85Yaw54Gr5Lit5paHIjogIiIsCiAgICAgICAgICAgICJMVTUu772D772PTXxsVe+8lS5jb218TFU1LmNvbSI6IiIsCiAgICAgICAgICAgICIoW14vXSl3d3dcXC5iaW5odW9cXC5jb20oPzpcXC5jb218KSI6ICIkMSIsCiAgICAgICAgICAgICJcXCguKj/lubPljZfmloflrabnvZFcXCkiOiAiIiwKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjQm9va1RleHQiKS5hcHBlbmQoZmFrZVN0dWIuZmluZCgiaW1nLmltYWdlY29udGVudCIpKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi55m+5pmT55SfIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmJ4c1wuY2NcL1xkK1wvXGQrXC5odG1sLywKICAgICAgICB0aXRsZVJlZzogLyguKj8pXGQqLCguKikvLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdhLCAjdHh0cmlnaHQnLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIC/kuIDnp5LorrDkvY/jgJDjgJF3d3cuemFpZHUuY2PvvIzmnKznq5nkuLrmgqjmj5Dkvpvng63pl6jlsI/or7TlhY3otLnpmIXor7vjgIIvaWcsCiAgICAgICAgICAgIC/vvIjmlocmbmJzcDvlrbjppoZ3Jm5ic3A7d3cudyZuYnNwO3hndWFuLmMmbmJzcDtvbe+8iS9pZywKICAgICAgICAgICAgL++8iOeZvuaZk+eUn+abtOaWsOacgOW/q+acgOeos+WumlwpL2csCiAgICAgICAgICAgIC9cKCg/OiZuYnNwOykqKD865peg5by556qXKT/lhajmlofpmIXor7tcKS9pZywKICAgICAgICAgICAgL1xbPGEuKj/pppblj5FcW+eZvuaZk+eUn1xdIFxTKy9pZywKICAgICAgICAgICAgL+mrmOmAn+mmluWPkS4q5pys56ug6IqC5piv5Zyw5Z2A5Li6L2lnLAogICAgICAgICAgICAvXC9cLyg/OiZuYnNwO3zorr/pl67kuIvovb10eHTlsI/or7R86auY6YCf5pu05pawKStcL1wvL2lnLAogICAgICAgICAgICAvKHd3d1wuKT9ieHNcLmNjfHd3d1wuYnhzKFwuY29tKT8vaWcsCiAgICAgICAgICAgIC/nmb7mmZPnlJ8u5LiN6Lez5a2XfOS4jei3s+Wtl+OAgnzmm7TmlrDlv6vnuq/mloflrZcvaWcsCiAgICAgICAgICAgIC9cLlxb77yM77yBXF0vaWcsCiAgICAgICAgICAgIC/vvIjmnKrlrozlvoXnu60mbmJzcDtodHRwOlwvXC93d3cuQnhzLmNjJm5ic3A7ODnlhY3otLnlsI/or7TpmIXjgIrnmb7mmZPnlJ/mloflrabnvZHjgIvvvIkvZywKICAgICAgICAgICAgL+OAlueZvuaZk+eUn+KIty4q44CXfOOAij/nmb7mmZPnlJ/mloflrabnvZHjgIs/fOacgOW/q+mYheivu+Wwj+ivtOWkp+S4u+WusO+8jOWwveWcqOeZvuaZk+eUn+aWh+Wtpue9kS4qfHd3Lngub2185qyi6L+O5aSn5a625p2l5YiwLio/YnhzXC5jY3znmb7mmZPnlJ/pmIXor7vmnIDmlrDmnIDlhajnmoTlsI/or7QuKnznmb7mmZPnlJ/nvZHkuI3lsJHlrZd856uZ6ZW/5o6o6I2QLip85paH5a2X6aaW5Y+RfOeZvi7mmZMu55SfLnzlhbPpl60uKuW5v+WRii4qfOmjmOWkqeaWh+WtpnzmnKznq5nln5/lkI3lsLHmmK8uKnxcKC57MCw1feWwj+ivtOabtOW/q+abtOWlvS57MCw1fVwpfCjor7flnKgpP+eZvuW6puaQnOe0oi4qfOS4gOenkuiusOS9jy4q5Li65oKo5o+Q5L6b57K+5b2p5bCP6K+06ZiF6K+7Lnznmb7mmZPnlJ98wqTmnKznq5nnvZHlnYDvvJrCpHxcL1wvJm5ic3A76K6/6Zeu5LiL6L29dHh05bCP6K+0XC9cL+KXjuKXjnznuq/nq5nngrlcXCIuKuWAvOW+l+aUtuiXj+eahC9pZywKICAgICAgICAgICAgL+aWh1vlrablrbhdW+mmhumkqF18d3d3XC5iaXF1Z2VcLmNjfChodHRwOlwvXC8pP3d3d1wuQnhzXC5jY3wo6K+354mi6K6wKT9zb3Vkde+8jm9yZy9pZywKICAgICAgICAgICAgL+ivt+aQnOe0ou+8jOWwj+ivtOabtOWlveabtOaWsOabtOW/qyF85pyA5b+r5paH5a2X5pu05paw5peg5by556qX5peg5bm/fFwo5Y2z5Y+v5om+5Yiw5pys56uZXCl85peg5bm/5ZGK55yL552A5bCx5piv54i9IXzmm7TlpJrlhajmnKx0eHTlsI/or7Tor7fliLDkuIvovb184oi35pu05paw5b+r4oi34oi357qv5paH5a2X4oi3L2lnLAogICAgICAgICAgICAv5rC45LmF572R5Z2A77yM6K+354mi6K6w77yBL2lnLAogICAgICAgICAgICAvJm5ic3A7Jmd0OzxcL3A+L2lnLAogICAgICAgIF0sCiAgICB9LAogICAge3NpdGVOYW1lOiAi5rWp5aWH5paH5a2m572RIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmhhb3FpOTlcLmNvbVwvLipcLnNodG1sJC8sCiAgICAgICAgdGl0bGVSZWc6IC9eKC4qPyktLSguKj8pLS8sCiAgICB9LAogICAge3NpdGVOYW1lOiAi5Lmm5rKz5bCP6K+0572RIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLnNodWhlXC5jY1wvXGQrXC9cZCsvLAogICAgICAgIHRpdGxlUmVnOiAiKFteXFxkXSspXFxkKiwoLio/KV8iLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNUWFQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAv5LiA56eS6K6w5L2PLirkuLrmgqjmj5Dkvpvnsr7lvanlsI/or7TpmIXor7sufFx76K+35Zyo55m+5bqm5pCc57SiLirpppblj5HpmIXor7tcfXzvvIjkuabmsrPlsI/or7TnvZEuKj/ml6DlvLnnqpfvvIl8d3hzLm98d3cueC5vbXxbXFvjgJBcKF0uezEsMzB9W1xdXCnjgJFdfGZmMzc7Lip85Lmm5rKz5bCP6K+0572R6auY6YCf6aaW5Y+RLip8VFhU5LiL6L29fOWFqOaWh+mYheivu3znrKzkuIDkuabmsrPlsI/or7TnvZF855m+5Lmm5paLLip86aaW5Y+R5p2l6Ieq5Lmm5rKz5bCP6K+0572RfOacrOS5puacgOaWsOeroOiKgnzkuabmsrPlsI/or7TnvZEvaWcsCiAgICB9LAogICAge3NpdGVOYW1lOiAi54ix5pS26JePIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmFpc2hvdWNhbmdcLmNvbVwvXHcrXC9cZCtcLmh0bWwvLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyktKC4qPykt54ix5pS26JePIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjemh1dG9uZSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IHsKICAgICAgICAgICAgIjxhW14+XSo+KC4qPyk8L2E+IjogIiQxIiwKICAgICAgICAgICAgIi7niLHmlLbol49bXjxdKiI6ICIiCiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuacqOmxvOWTpSIsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvKHd3d1wuKT9tdXl1Z2VcLihjb218bmV0KVwvXHcrXC9cZCtcLmh0bWwvLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjeXVlZHV5ZSBoMSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIucmVhZGVyTmF2ID4gbGkgPiBhOmxhc3QiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICIucmVhZGVyRm9vdGVyUGFnZSBhW3RpdGxlPSco5b+r5o23OuWbnui9pumUriknXSIsCiAgICAgICAgLy8gdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIC8vIG11dGF0aW9uU2VsZWN0b3I6ICIjY29udGVudCIsCiAgICAgICAgLy8gbXV0YXRpb25DaGlsZENvdW50OiAxLAogICAgICAgIG5leHRTZWxlY3RvcjogJ2E6Y29udGFpbnMo5LiL56ugKScsCiAgICAgICAgcHJldlNlbGVjdG9yOiAnYTpjb250YWlucyjkuIrnq6ApJywKICAgICAgICBpbmRleFNlbGVjdG9yOiAnYTpjb250YWlucyjnm67lvZUpJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAiLnZvdGUiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiB7CiAgICAgICAgICAgICI8YVtePl0qPiguKj8pPC9hPiI6ICIkMSIsCiAgICAgICAgICAgICLnnIvmm7TmlrDmnIDlv6vnmoTlsI/or7TlsLHmkJzntKLigJTigJQg5pyo6bG85ZOl4oCU4oCU5peg5by556qX77yM5YWo5paH5a2XIjogIiIsCiAgICAgICAgICAgICLjgJDnnIvmnIDmlrDlsI/or7TlsLHmkJzntKIuKuWFqOaWh+Wtl+mmluWPkeOAkSI6ICIiLAogICAgICAgICAgICAiPHA+Lio/5peg5by556qXPC9wPiI6IiIsCiAgICAgICAgICAgICJiYlxcLmtpbmd844CQ5pyoJm5ic3A76bG8Jm5ic3A75ZOlJm5ic3A7Lio/44CRfOOAkOS4gOenkumSn+iusOS9j+acrOerme+8mm11eXVnZS5jb20uKuacqOmxvOWTpeOAkSI6IiIsCiAgICAgICAgICAgICLigJTigJTmjqjojZDpmIXor7vigJTigJRbXFxzXFxTXSsiOiAiIiwKICAgICAgICAgICAgIuOAkFxccyrmnKhcXHMq6bG8XFxzKuWTpS4qP+OAkSI6IiIsCiAgICAgICAgICAgICJkaXYmZ3Q7fCZsdDvvvI3jgIsiOiAiIiwKICAgICAgICAgICAgIlxcKC5wbi4g5bmz5Y2XXFwpIjogIiIsCiAgICAgICAgfSwKICAgICAgICBzdGFydEZpbHRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodW5zYWZlV2luZG93LnNob3cpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLov73kuabnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC56aHVpc2h1XFwubmV0L2ZpbGVzL2FydGljbGUvaHRtbC8uKlxcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAvKD865q2j5paHICk/KC4qKSAoXFMrKSBcUysgLSAuKi8sCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIi5wYWdlYm90dG9tPmE6Y29udGFpbnMoJ+ebruW9lScpIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICIucGFnZWJvdHRvbT5hOmNvbnRhaW5zKCfkuIvkuIDpobUnKSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiLnBhZ2Vib3R0b20+YTpjb250YWlucygn5LiK5LiA6aG1JykiLAogICAgICAgIGZpeEltYWdlOiB0cnVlLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAiKFteL10pd3d3XFwuWmh1aXNIdVxcLm5ldCI6ICIkMSIsCiAgICAgICAgfSwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQgPiAudGl0bGUsICNjb250ZW50ID4gLnBhZ2Vib3R0b20iKS5hcHBlbmRUbyhmYWtlU3R1Yi5maW5kKCJib2R5IikpOwoKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgiI2NvbnRlbnQiKS5maW5kKCJjZW50ZXIsIGI6Y29udGFpbnMoJ+acgOW/q+abtOaWsCcpIikucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIueMqueMquWym+Wwj+ivtCIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnpodXpodWRhb1xcLig/OmNvbXxjYykvdHh0LyIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KeacgOaWsOeroOiKgi0oLio/KS0iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAvW+KAnCLigJ1dP+eMqueMquWym+Wwj+ivtC4qfDxcLz9hW14+XSs+fHcrXC56aHVaaHVEYW9cLmNvbXznnIvmm7TmlrDmnIDlv6vnmoQuKi9pZwogICAgfSwKICAgIHtzaXRlTmFtZTogIumAuOWQjeaWh+WtpuWxiyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovLyhiYnNcXC52eW1pbmd8d3d3XFwuOWltdylcXC5jb20vbm92ZWwtcmVhZC1cXGQrLVxcZCtcXC5odG1sIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjc2hvd2NvbnRlbnQiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLmhlYWRpbmZvIGE6Zmlyc3QiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJwOmNvbnRhaW5zKOeyvuWTgeaOqOiNkO+8miksIHA6Y29udGFpbnMo77yM5YWN6LS55bCP6K+06ZiF6K+75Z+65Zyw77yBKSwgYSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIumAuOWQjeaWh+WtpuWxi++8miIKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aWH5Lmm5bGLIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3LnFpc2h1d3UuY29tL1xcdysvXFxkKy8iLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKV8oLiopXy4qX+Wlh+S5puWxiyIsCiAgICB9LAogICAge3NpdGVOYW1lOiAiMTdr5bCP6K+0572RIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC9cUytcLjE3a1wuY29tXC9jaGFwdGVyXC9cUytcL1xkK1wuaHRtbCQvLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPyktKC4qPyktLiovLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjaGFwdGVyQ29udGVudCIsCiAgICAgICAgY29udGVudFJlbW92ZTogIi5xcmNvZGUsICNhdXRob3JTcGVuaywgLmxpa2VfYm94LCAjaG90UmVjb21tZW5kLCAuY3QwNDE2LCAucmVjZW50X3JlYWQsIGRpdltzdHlsZV0sICNtaW5pVm90ZUJveCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+acrOS5pummluWPkeadpeiHqjE3S+Wwj+ivtOe9ke+8jOesrOS4gOaXtumXtOeci+ato+eJiOWGheWuue+8gScKICAgICAgICBdLAogICAgICAgIG5leHRVcmw6IGZ1bmN0aW9uKCRkb2MpIHsKICAgICAgICAgICAgdmFyIGJvb2tJZCA9IHVuc2FmZVdpbmRvdy5ib29rSWQsCiAgICAgICAgICAgICAgICBuZXh0X2NoYXB0ZXIgPSB1bnNhZmVXaW5kb3cubmV4dF9jaGFwdGVyOwoKICAgICAgICAgICAgaWYgKG5leHRfY2hhcHRlciA+IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAnL2NoYXB0ZXIvJyArIGJvb2tJZCArICcvJyArIG5leHRfY2hhcHRlciArICcuaHRtbCc7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgYm9va0lkID0gdW5zYWZlV2luZG93LmJvb2tJZCwKICAgICAgICAgICAgICAgIGxhc3RfY2hhcHRlciA9IHVuc2FmZVdpbmRvdy5sYXN0X2NoYXB0ZXI7CgogICAgICAgICAgICBpZiAobGFzdF9jaGFwdGVyID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuICcvY2hhcHRlci8nICsgYm9va0lkICsgJy8nICsgbGFzdF9jaGFwdGVyICsgJy5odG1sJzsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8g6K6h566X5LiK5LiA56ug6IqC5LiL5LiA56ug6IqCCiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbFBhZ2VzKCkgewogICAgICAgICAgICAgICAgLy8g6Lez6L+H56ys5LiA6aG1CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5tU3RhcnRlZCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tU3RhcnRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBDaGFwdGVyRGF0YSA9IHVuc2FmZVdpbmRvdy5DaGFwdGVyRGF0YSwKICAgICAgICAgICAgICAgICAgICBjaGFwdGVySWQgPSB1bnNhZmVXaW5kb3cubmV4dF9jaGFwdGVyOwogICAgICAgICAgICAgICAgdmFyIGxhc3RfY2hhcHRlcl90YWcgPSAwOwogICAgICAgICAgICAgICAgdmFyIG5leHRfY2hhcHRlcl90YWcgPSAwOwoKICAgICAgICAgICAgICAgICQuZWFjaChDaGFwdGVyRGF0YVsndm9sdW1lcyddLCBmdW5jdGlvbihrLHYpIHsKICAgICAgICAgICAgICAgICAgICAkLmVhY2godlsnY2hhcHRlcnMnXSwgZnVuY3Rpb24oazEsdjEpewogICAgICAgICAgICAgICAgICAgICAgICAvL+S4i+S4gOeroOiusOW9lQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dF9jaGFwdGVyX3RhZyA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0X2NoYXB0ZXJfdGFnID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5uZXh0X2NoYXB0ZXIgPSB2MVsnaWQnXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3nq6AKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYxWydpZCddID09IGNoYXB0ZXJJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdF9jaGFwdGVyX3RhZyA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0X2NoYXB0ZXJfdGFnID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgLy/kuIrkuIDnq6DorrDlvZUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RfY2hhcHRlcl90YWcgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zYWZlV2luZG93Lmxhc3RfY2hhcHRlciA9IHYxWydpZCddOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FsUGFnZXMoKTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi55yL5LiL5paH5a2mIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwua2FueGlhXFwubmV0L2svXFxkKi9cXGQrL1xcZCtcXC5odG1sJCIsCiAgICAgICAgdGl0bGVSZWc6IC8oLio/KS0oLiopVFhU5LiL6L29X+eci+S4i+aWh+Wtpi8sCiAgICAgICAgY29udGVudFJlcGxhY2U6IC/nnIvkuIvmloflraYvZwogICAgfSwKICAgIHtzaXRlTmFtZTogIumdkuW4neaWh+Wtpue9kSIsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvd3d3XC5xaW5nZGlcLmNvbVwvZmlsZXNcL2FydGljbGVcL2h0bWxcL1xkK1wvXGQrXC9cZCtcLmh0bWwkLywKICAgICAgICB0aXRsZVJlZzogLyguKj8p5pyA5paw56ug6IqCXyguKj8pX+mdkuW4neaWh+Wtpue9kV8uKi8KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkvqDlrqLkuK3mlofnvZEiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wueGt6d1wub3JnXC9cdytcL1xkK1wuaHRtbC8sCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnJlYWRtYWluX2lubmVyIC5jb250IiwKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgZmFrZVN0dWIuZmluZCgndGl0bGUnKS5odG1sKGZha2VTdHViLmZpbmQoJy5yZWFkbWFpbl9pbm5lciBoMicpLnRleHQoKSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIkNoaW5hVW5peC5uZXQiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL2Jic1wuY2hpbmF1bml4XC5uZXRcL3RocmVhZC0uKlwuaHRtbC8sCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnRfZjpmaXJzdCIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxMjNkdSDlsI/or7QiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wuMTIzZHVcLig/Om5ldHxjYylcLy8sCiAgICAgICAgdGl0bGVSZWc6ICIoLiopLSguKikg55m+5a625LmQIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCwgI2NvbnRlbnRzIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIuS4gOenkuiusOS9jy53d3cuKnzlsI/or7TmnIDmlrDmm7TmlrDvvIzmnaUxMjPor7vkuaZ3d3cuMTIzZHUubmV0IiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiYSIsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZmFrZVN0dWIuZmluZCgiI0RpdkNvbnRlbnRCRyIpLmh0bWwoKS5tYXRjaCgv56ysXGQq6aG1KFtcc1xTXSop5LiA56eS6K6w5L2PLylbMV07CiAgICAgICAgICAgICQoJzxkaXYgaWQ9ImNvbnRlbnQiLz4nKS5odG1sKGNvbnRlbnQpLmFwcGVuZFRvKGZha2VTdHViLmZpbmQoJ2JvZHknKSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWKqOWKm+S4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL2RsendcXC5jYy9hcnRpY2xlLipcXC5odG1sIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICJzcGFuOmNvbnRhaW5zKCfkuIvkuIDnr4cnKSA+IGEiLAogICAgICAgIHByZXZTZWxlY3RvcjogInNwYW46Y29udGFpbnMoJ+S4iuS4gOevhycpID4gYSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIiNwdCBhW2hyZWZePSdodHRwJ10iCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aGU6K+75paH5a2mIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwudGFkdVxcLmNvbS9ib29rL1xcZCsvXFxkKy8iLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLnRpdGxlIGVtOmZpcnN0JywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjcGFydENvbnRlbnQiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICB2YXIgbSA9IGZha2VTdHViLmZpbmQoImJvZHkiKS5odG1sKCkubWF0Y2goL1wuaHRtbFwodW5lc2NhcGVcKCIoLiopIlwpLyk7CiAgICAgICAgICAgIGlmKG0pewogICAgICAgICAgICAgICAgdmFyIHVuZXNjYXBlQ29udGVudCA9IG1bMV07CiAgICAgICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjcGFydENvbnRlbnQiKS5odG1sKHVuZXNjYXBlKHVuZXNjYXBlQ29udGVudCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuesrOS4gOS4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmR5end3XFwuY29tL2NuL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCQiICwKICAgICAgICBjb250ZW50UmVwbGFjZTogewogICAgICAgICAgICAnPGltZy4qP2FpdD0iKC4qPykiLio/Pic6ICIkMSIsCiAgICAgICAgICAgICd3d3dcXC5keXp3d1xcLmNvbS4qfOKZgnzRiNCo0YkuKic6ICIiCiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuadpeS5puWxiyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3dy5sYWlzaHV3dS5jb20vaHRtbC9cXGQrL1xcZCsvXFxkKy5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiLmNoYXB0ZXJ0aXRsZSBoMiIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY2hhcHRlcnRpdGxlIGgxIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogInR4dFxcZCsvIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuIfkuablkKciLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC53YW5zaHViYVxcLmNvbS9IdG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KSwoLio/KS3kuIfkuablkKciLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIi55ZF90ZXh0MiIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIlxcW3d3dy4qP1xcXSIsCiAgICAgICAgICAgICJcXCgmbmJzcDsmbmJzcDtcXCkiLAogICAgICAgICAgICAi5o+Q5L6b5peg5by556qX5YWo5paH5a2X5Zyo57q/6ZiF6K+777yM5pu05paw6YCf5bqm5pu05b+r5paH56ug6LSo6YeP5pu05aW977yM5aaC5p6c5oKo6KeJ5b6X5LiN6ZSZ5bCx5aSa5aSa5YiG5Lqr5pys56uZIeiwouiwouWQhOS9jeivu+iAheeahOaUr+aMgSEiLAogICAgICAgICAgICAi6auY6YCf6aaW5Y+RLio/77yM5pys56ug6IqC5pivLio/5Zyw5Z2A5Li65aaC5p6c5L2g6KeJ55qE5pys56ug6IqC6L+Y5LiN6ZSZ55qE6K+d6K+35LiN6KaB5b+Y6K6w5ZCR5oKocXHnvqTlkozlvq7ljZrph4znmoTmnIvlj4vmjqjojZDlk6bvvIEiCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWkp+aWh+WtpiIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmRhd2VueHVlXFwubmV0L2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pLSguKikt5aSn5paH5a2mIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY2xpY2tleWVfY29udGVudCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJcXCg/5aSn5paH5a2mXFxzKnd3d1xcLmRhd2VueHVlXFwubmV0XFwpP3xcXChcXCkiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuWlh+eDrSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnFpcmV4c1xcLmNvbS9yZWFkLVxcZCstY2hhcHRlci1cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KS0oLio/KS0iLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogImRpdi5wYWdlLWNvbnRlbnQgLm5vdGUiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIuKAneWlh+eDreWwj+ivtOWwj+ivtOKAnOabtOaWsOacgOW/q3zpppblj5EsLy7lpYfng63lsI/or7TnvZHpmIXor7vnvZEhfOWlh+eDreWwj+ivtOe9keaPkOS+my4qfFxcKOaJi+acuueUqOaIt+ivt+ebtOaOpeiuv+mXri4qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIueDreeCuSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmhvdHNrXFwuY29tL0h0bWwvQm9vay9cXGQrL1xcZCsvXFxkK1xcLnNodG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pIOato+aWhyAoLio/KS0g54Ot54K55Lmm5bqTIC0iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiXFwo54Ot54K55Lmm5bqT6aaW5Y+ROnd3dy5ob3Rzay5jb21cXCl8d3d3LnpodVpodURhby5jb20gLueMqueMquWym+Wwj+ivtC4iCiAgICB9LAogICAge3NpdGVOYW1lOiAi6JC956eL5Lit5paHIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwubHVvcWl1XFwuKGNvbXxuZXQpL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pLSguKj8pLSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICImbHQ7L3AmZ3Q7IgogICAgfSwKICAgIHtzaXRlTmFtZTogIuWFqOacrOWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnFiNVxcLmNvbS94aWFvc2h1by9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKV8oLiopXyIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdltjbGFzc10iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi5YWoLnswLDJ95pysLnswLDJ95bCPLnswLDJ96K+0LnswLDJ9572RLnswLDJ9fFvvvZdXdyBdKy57MSwxMH1bQ++9g2PHkk/vvY1N0JwgXSsiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuaJi+eJteaJi+Wwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnNxc3hzXFwuY29tLy4qXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJyNzaXRlYmFyIGE6bGFzdCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIuKXhuWFjei0ueKXhiIsCiAgICAgICAgICAgICLimIXnmb7luqbmkJzntKLvvIzlhY3otLnpmIXor7vkuIfmnKzimIV86K6/6Zeu5LiL6L29dHh05bCP6K+0LueZvuW6puaQnC585YWN6LS555S15a2Q5Lmm5LiL6L29fFxcKOeZvuW6puaQnFxcKXzjgI7mloflrbjlkKd45ZCnLuOAj3zCpOacrOermee9keWdgO+8msKkIiwKICAgICAgICAgICAgIlvimIbimIXil4bjgJPjgI7jgJDil47il4ddLio/KD86eXVubGFpZ2V85LqRIOadpSDpmIF8772Z772V772O772M772B772J772H772FfOWFjei0ueeciykuKj9b4piG4peG4piF44CT44CP44CR4peO4peHXSIsCiAgICAgICAgICAgICLjgJDmiYvmnLrlsI/or7TpmIXor7smbmJzcDttLuOAkSIsCiAgICAgICAgICAgICJCQUlEVV9DTEJfZmlsbFNsb3QuKiIsCiAgICAgICAgICAgICImbmJzcDvlhbPpl608L3A+IiwKICAgICAgICAgICAgIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1xcPyIsCiAgICAgICAgICAgICJcXFvimIbmm7Qu5pawLuacgC7lv6vimIbml6Au5by5Lueql+KYhuWFqC7lhY0u6LS5XFxdIiwKICAgICAgICAgICAgJ1xcKC4qP+W5s+WNl+aWh+Wtpue9kVxcKScsCiAgICAgICAgICAgICfvvZvpppblj5HvvZ1844CQ6aaW5Y+R44CRJywKICAgICAgICAgICAgJz3plb896aOOJywKICAgICAgICAgICAgJy3kvJjvvI3kvJjvvI3lsI/vvI3or7TvvI3mm7TvvI3mlrDvvI3mnIDvvI3lv6stXFwuJywKICAgICAgICAgICAgJ+WPkeeOsOS4gOWutumdnuW4uOWlveWQg+eahOaJi+W3peabsuWlh+W6l+mTuu+8jOWPr+aQnOe0oua3mOWunS4qJywKICAgICAgICAgICAgJ+W8uueDiOaOqOiNkOS4gOWutuaJi+W3peabsuWlh+W6l++8jOWcqOa3mOWuneaQnOe0oi4qJywKICAgICAgICAgICAgeyAi44CCXFwuIjogIuOAgiIgfSwKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5YWt5pyI5Lit5paH572R77yM55uX5qKm5Lq65bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuKD86Nnl6d1xcLm9yZ3w2eXp3XFwuY29tfGRhb21lbmdyZW5cXC5jb20pLy4qXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY29uX3RvcD5hOmxhc3QiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICJhW2hyZWZdIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi57qv5paH5a2X5Zyo57q/6ZiF6K+75pys56uZ5Z+f5ZCNIDUyMHhzLkNvbSDmiYvmnLrlkIzmraXpmIXor7vor7forr/pl64gTS41MjB4cy5Db20iLAogICAgICAgICAgICAie+mjmOWkqeaWh+WtpltcXHNcXFNdKuaCqOeahOaUr+aMgeWwseaYr+aIkeS7rOacgOWkp+eahOWKqOWKm30iLAogICAgICAgICAgICAiKO+8iOacquWujOW+hee7re+8ie+8jHznsr7lvanmjqjojZDvvJrvvIwpP+acgOaWsOacgOW/q+abtOaWsOeDremXqOWwj+ivtO+8jOS6q+WPl+aXoOW8ueeql+mYheivu+WwseWcqO+8miIsCiAgICAgICAgICAgICLkuIDnp5LorrDkvY/jgJDjgJHvvIzmnKznq5nkuLrmgqjmj5Dkvpvng63pl6jlsI/or7TlhY3otLnpmIXor7vjgIIiLAogICAgICAgICAgICAi55m+5bqm5pCc57SiIOacrOS5puWQjS4qIiwKICAgICAgICAgICAgIuasoui/juaCqOeahOWFieS4tO+8jOS7u+S9leaQnOe0ouW8leaTjuaQnOe0oi4q57uZ5aSn5a625bim5p2l55qE5LiN5L6/5rex5oSf5oqx5q2JIe+8gSIsCiAgICAgICAgICAgICJcXCg/Jm5ic3A7Jm5ic3A7ID/mj5DkvpvjgI/jgILlpoLmnpzmgqjllpzmrKLov5npg6jkvZzlk4HvvIzmrKLov47mgqjmnaXliJvkuJbkuK3mlofnvZFbXFxzXFxTXSsiLAogICAgICAgICAgICAiW1xcKO+8iF3mnKrlrozlvoXnu60uezEsMn3mnKzmloflrZfnlLEuKiIsCiAgICAgICAgICAgICIvL+a3u+WKoOW8gOWktHzkvJrlkZjnibnmnYPmiqLlhYjkvZPpqowiLAogICAgICAgICAgICAi5pu05paw5pyA5b+rfOabtOaWsOW/q+e6r+aWh+Wtl3znnIvmnIDmlrDnq6DoioJ85YWt5pyI5Lit5paH572RfDc45bCP6K+0fGjvuZJj77mSZHznqb/otorlsI/or7TlkKcgc2oxMzF8XFwq5LqU5pyI5Lit5paH572RNS5jIG9tXFwqIiwKICAgICAgICAgICAgIlxcZOalvFtcXGRcXC06IF0rKD86Jm5ic3A7KSsgXFx8KD86Jm5ic3A7KSt85ZCn5Li7XFxkKyg/OiZuYnNwOykrfOaUr+aMgeWogeatpu+8jOWYjuWYju+8gSIsCiAgICAgICAgICAgICJ3d3fvvIx8Jm5ic3A7XFxcXHzigJzmoqbigJ0oJm5ic3A7fCApKuKAnOWwj+KAnSgmbmJzcDt8ICkqKOKAnOivtOKAnSApP+KAnOe9keKAnXzigJzlspvigJ0oJm5ic3A7fCApK+KAnOivtOKAnSIsCiAgICAgICAgICAgIC8o55m+5bqm5pCc57SiICk/5pys5Lmm5ZCNIFwrIOebl+aipuS6uiDnnIvmnIDlv6vmm7TmlrAvaWcsCiAgICAgICAgICAgICI1MjB4cy5jb20g4oCdNTIw5bCP6K+04oCc5bCP6K+056ug6IqC5pu05paw5pyA5b+rIiwKICAgICAgICAgICAgIueci+acgOaWsOacgOWFqOWwj+ivtHzmnIDlv6vmm7TmlrDvvIwoPzrml6DlvLnnqpcpP+mYheivu+ivt+OAgiIsCiAgICAgICAgICAgICLnuq/mloflrZflnKjnur/pmIXor7vmnKznq5nln5/lkI3CoMKg5omL5py65ZCM5q2l6ZiF6K+76K+36K6/6ZeuIiwKICAgICAgICAgICAgIm0u5omL5py65pyA55yB5rWB6YeP55qE56uZ54K544CCIiwKICAgICAgICAgICAgIuacrOaWh+eUseOAgOKApuKApuOAgOmmluWPkSIsCiAgICAgICAgICAgICLvvIjpppblj5HvvIl844CQ6aaW5Y+R44CRIiwKICAgICAgICAgICAgIiZhbXA7bmJzcCIsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIumjnuWNouWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL2JcXC5mYWxvb1xcLmNvbS9wL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjdGl0bGUgaDEiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiZGl2Lm5hdiA+IGE6bGFzdCIsCiAgICAgICAgYm9va1RpdGxlUmVwbGFjZTogJ+Wwj+ivtCQnLAoKICAgICAgICBuZXh0U2VsZWN0b3I6ICJhI25leHRfcGFnZSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiYSNwcmVfcGFnZSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImEjaHVpbXVsdSIsCgogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtYWluID4gLm1haW4wIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiPiAqOm5vdCgjY29uX2ltZ2luZm8sICNjb250ZW50KSwgLnBfY29udGVudF9ib3R0b20iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLpo57ljaLlsI/or7TnvZEgYi5mYWxvby5jb20g5qyi6L+O5bm/5aSn5Lmm5Y+L5YWJ5Li06ZiF6K+777yM5pyA5paw44CB5pyA5b+r44CB5pyA54Gr55qE6L+e6L295L2c5ZOB5bC95Zyo6aOe5Y2i5bCP6K+0572R77yBIiwKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudCIpLmZpbmQoIi5wX2dvbmdnYW8iKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gZmFrZVN0dWIuZmluZCgiI2Nvbl9pbWdpbmZvIikucHJlcGVuZFRvKCIjY29udGVudCIpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpobbngrnlsI/or7QiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC4oPzoyM3VzfDIzd3h8eHMyMjIpXFwuKD86Y29tfGNjKS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCQiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyktXFxTKlxccyguKj8pLemhtueCueWwj+ivtCIsCiAgICAgICAgdGl0bGVQb3M6IDAsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcuY3J1bWJzID4gZGl2ID4gYTpsYXN0JywKICAgICAgICBpbmRleFNlbGVjdG9yOiAiI2Zvb3RsaW5rIGE6Y29udGFpbnMoJ+i/lOWbnuebruW9lScpIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICIjZm9vdGxpbmsgYTpjb250YWlucygn5LiK5LiA6aG1JykiLAogICAgICAgIG5leHRTZWxlY3RvcjogIiNmb290bGluayBhOmNvbnRhaW5zKCfkuIvkuIDpobUnKSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnRzIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAiXFwo55yL5bCP6K+05Yiw6aG254K55bCP6K+0572RLipcXCl8XFwoXFwpfOOAkOiusOS9j+acrOermeWPqumcgOS4gOenkumSny4q44CRIiwKICAgICAgICAgICAgJ+S4gOenkuiusOS9j+OAkC4q6K+75Y+K5LiL6L2944CCJywKICAgICAgICAgICAgJ3d3dy54c3R4dC5vcmcnLAogICAgICAgICAgICAnd2VueHVlbWkuY29tJywKICAgICAgICAgICAgJzIzdXPvvI5jb20nLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciB0ZW1wPWZha2VTdHViLmZpbmQoJ3RpdGxlJykudGV4dCgpOwogICAgICAgICAgICB2YXIgcmVhbHRpdGxlID0gdGVtcC5yZXBsYWNlKC/nrKwuKuWNt1xzLywnJyk7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3RpdGxlJykuaHRtbChyZWFsdGl0bGUpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICcyM+S4reaWhycsCiAgICAgICAgdXJsOiAnXmh0dHBzPzovL3d3d1xcLjIzendcXC4oY29tfG1lKS8uKlxcLmh0bWwnLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNjaGFwdGVyX2NvbnRlbnQnLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdoMScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+eahOaci+WPi++8jOS9oOWPr+S7peWNs+WPr+esrOS4gOaXtumXtOaJvuWIsOacrOermeWTpuOAgicsCiAgICAgICAgICAgICfmiYvmnLrnnIvlsI/or7Tlk6rlrrblvLpcXD/miYvmnLrpmIXor7vnvZEnLAogICAgICAgICAgICAn77yM5pyA5b+r5pu05pawLio/5pyA5paw56ug6IqC77yBJywKICAgICAgICAgICAgJ+eciy4qP+acgOaWsOeroOiKguWIsOmVv+mjjuaWh+WtpicsCiAgICAgICAgICAgICfmnKzmlofnlLHpppblj5EnLAogICAgICAgICAgICAn56ug6IqC5pu05paw5pyA5b+rJywKICAgICAgICAgICAgJ+mhtueCueWwj+ivtC4yM3VzLuOAgicsCiAgICAgICAgICAgICdcXCjpobbngrnlsI/or7RcXCknLAogICAgICAgICAgICAn55yL5pyA5paw5pyA5YWoJywKICAgICAgICAgICAgJ1IxMTUyJywKICAgICAgICAgICAgJ1xcLm7iiJpldCcsCiAgICAgICAgICAgICfkuK3mlofnvZEnLAogICAgICAgICAgICAn5pu05paw5pyA5b+rJywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAn56yU5LiL6ZiBJywKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuYml4aWFnZVxcLmNvbS9cXHcrL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiop5pyA5paw56ug6IqC5YWN6LS55Zyo57q/6ZiF6K+7XyguKilf56yU5LiL6ZiBIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiLnJlYWRfdG9vbHMgYTpjb250YWlucygn6L+U5Zue55uu5b2VJykiLAogICAgICAgIHByZXZTZWxlY3RvcjogIi5yZWFkX3Rvb2xzIGE6Y29udGFpbnMoJ+S4iuS4gOmhtScpIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICIucmVhZF90b29scyBhOmNvbnRhaW5zKCfkuIvkuIDpobUnKSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIuacrOS5puacgOaWsOWFjei0ueeroOiKguivt+iuv+mXrnzor7forrDkvY/mnKznq5nnmoTnvZHlnYB86K+35L2/55So6K6/6Zeu5pys56uZIiwKICAgICAgICAgICAgIueci+abtOaWsOacgOW/q+eahC4qd3d3LmJpeGlhZ2UuY29tIiwKICAgICAgICAgICAgIueslOS4i+mYgeS4uuaCqOaPkOS+m+WFqOaWh+Wtl+Wwj+ivtC4qIiwKICAgICAgICAgICAgIuWmguaenOS9oOinieW+l+eslOS4i+mYgeS4jemUmS4qIiwKICAgICAgICAgICAgIuacrOevh+aYr+Wwj+ivtC4q56ug6IqC5YaF5a6577yM5aaC5p6c5L2g5Y+R546w5YaF5a656ZSZ6K+vLioiCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogJ+WPjOW+t+Wwj+ivtOe9kScsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnNodWFuZ2RlXFwuY2MvLipcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy50aXRsZSA+IGgyID4gYScsCiAgICAgICAgY29udGVudFJlbW92ZTogJy50aXRsZSwgZGl2W2FsaWduPSJjZW50ZXIiXScsCiAgICB9LAogICAge3NpdGVOYW1lOiAn54ix5bCa5bCP6K+0572RJywKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3LmEyNDAuY29tL3JlYWQvXFxkKy9cXGQrLmh0bWwnLAogICAgICAgIHRpdGxlUmVnOiAnKC4qKSAtICguKj8pIC0g54ix5bCa5bCP6K+0572RJywKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmJvdHRlbSwgY2VudGVyJywKICAgICAgICBjb250ZW50UmVwbGFjZTogJzwhLS3nq6DoioLlhoXlrrnlvIDlp4stLT4nCiAgICB9LAogICAge3NpdGVOYW1lOiAn77yl5bqm5paH5a2m572RJywKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3LjE3M2VkLmNvbS9yZWFkL1xcZCsvXFxkKy5odG1sJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnYVtocmVmKj0iMTczZSJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5YWo5paH5a2X5bCP6K+0Vy4qP1xcLmNvbScsCiAgICAgICAgICAgICdF5bqm5paH5a2m572R5pu05paw5pyA5b+rJywKICAgICAgICAgICAgJ3d3d1xcLuKZgDE3M2VkLmNvbeKZgCcKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAiM1rkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC56enpjblxcLmNvbVxcLygzelxcZCsvXFxkK1xcL3xtb2R1bGVzXFwvYXJ0aWNsZVxcL0FwcFxcLnBocFxcP2FpZD1cXGQrJmNpZD1cXGQrKXsxfSQiLAogICAgICAgIC8vIHRpdGxlUmVnOiAiKC4qPyktKC4qKVRYVOS4i+i9vSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQzemNuIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiYTpjb250YWlucygn6L+U5Zue55uu5b2VJykiLAogICAgICAgIHByZXZTZWxlY3RvcjogImE6Y29udGFpbnMoJ+S4iiDkuIAg6aG1JykiLAogICAgICAgIG5leHRTZWxlY3RvcjogImE6Y29udGFpbnMoJ+S4iyDkuIAg6aG1JyksIGE6Y29udGFpbnMoJ+i/lOWbnuS5puaeticpIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAvW3soXVthLXpcLy5dKyg/OummluWPkeaWh+Wtl3zmm7TmlrDotoXlv6spW30pXS9pZywKICAgICAgICAgICAgIuaJi+acuuWwj+ivtOermeeCue+8iHdhcC56enpjbi5jb23vvIkiLAogICAgICAgICAgICAi5LiA56eS6K6w5L2PLirkuLrmgqjmj5Dkvpvnsr7lvanlsI/or7TpmIXor7vjgIIiLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoImE6Y29udGFpbnMoJ+i/lOWbnuS5puaeticpIikuaHRtbCgi5LiLIOS4gCDpobUiKS5hdHRyKCJocmVmIiwgZmFrZVN0dWIuZmluZCgiYTpjb250YWlucygn6L+U5Zue55uu5b2VJykiKS5hdHRyKCJocmVmIikpOwogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCIjY29udGVudDN6Y24iKS5maW5kKCIudGl0bGVQb3MsIGZvbnQudGlwcywgYSIpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmr5TlpYfkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5iaXFpXFwubWUvZmlsZXMvYXJ0aWNsZS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiNsYkNoYXB0ZXJOYW1lIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIiNUT1BOQVYgdGQ6Zmlyc3QgPiBhOmxhc3QiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICJodHRwOi8vd3d3LmJpcWkubWXmr5TlpYfkuK3mlofnvZHmsLjkuYXnvZHlnYDvvIzor7fniaLorrDvvIEiLAogICAgICAgICAgICAid3d3LmJpcWkubWXmr5TlpYfkuK3mlofnvZHkuIDnm7TlnKjkuLrmj5Dpq5jpmIXor7vkvZPpqozogIzliqrlipvvvIzllpzmrKLor7fkuI7lpb3lj4vliIbkuqvvvIEiLAogICAgICAgICAgICAiW++9m+OAkF3mr5TlpYfkuK3mlofnvZHpppblj5F3d3cuYmlxaS5tZVvvvZ3jgJFdIiwKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5Lmm5ZOI5ZOI5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vKD86cmVhZHx3d3cpXFwuc2h1aGFoYVxcLmNvbS9IdG1sL0Jvb2svXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiI2h0bWx0aW11IiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogWyIuc3JjYm94ID4gYTpudGgtY2hpbGQoMikiLCAv55uu5b2VJC9dLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNCb29rVGV4dCIsCiAgICAgICAgY29udGVudFJlbW92ZTogJ2FbaHJlZio9Ind3dy5zaHVoYWhhLmNvbSJdJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn4oCY4oCYJywgJ+KAmeKAmScsCiAgICAgICAgICAgICfvvIhcXC5zaHVoJmFtcDtu77yJJywKICAgICAgICAgICAgLzxwW14+XSo+KCZuYnNwOyl7NH3nvZE8XC9wPi9naQogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICJTRiDovbvlsI/or7QiLAogICAgICAgIHVybDogJ15odHRwcz86Ly9ib29rLnNmYWNnLmNvbS9Ob3ZlbC9cXGQrL1xcZCsvXFxkKy8nLAogICAgICAgIHRpdGxlUmVnOiAnKC4qPyktKC4qPyktLionLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNDaGFwdGVyQm9keScsCiAgICB9LAogICAge3NpdGVOYW1lOiAi5q2m5p6X5Lit5paH572RIiwKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3XFwuNTB6d1xcLihjb218Y298bGEpL2Jvb2tfXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcuc3JjYm94ID4gYTpsYXN0JywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn5pu05paw5pyA5b+r44CQ44CRJywKICAgICAgICAgICAgJyZsdDsvZGQmZ3Q7JywKICAgICAgICAgICAgJyZsdDtjZW50ZXImZ3Q7ICZsdDtmb24gY29sb3I9cmVkJmd0OycsCiAgICAgICAgICAgICfkuIDnp5LorrDkvY/jgJDmrabmnpfkuK3mlofnvZEuKicsCiAgICAgICAgICAgICfmrabmnpfkuK3mlofnvZEgd3d3LionLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuaHmnZHlsI/or7TnvZEiLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC54aWFuZ2N1bnhpYW9zaHVvXFwuY29tL3NodS9cXGQrL1xcZCtcXC5odG1sJywKICAgICAgICAvLyBib29rVGl0bGVTZWxlY3RvcjogJy5yZWFkX20gPiAubGlzdCcsCiAgICAgICAgdGl0bGVSZWc6ICcoLio/KV8oLio/KV8uKl8uKicsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLnlkX3RleHQyJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAnW++9l++8t3ddK++8ju+8ku+8k++9le+8s++8jig/Ou+9g++9j++8rXxjb20pJywKICAgICAgICAgICAgJ+S5oSZhbXA75p2RJmFtcDsuKj9cXC5jb1tt77ytXScsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuadguS5pue9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnphc2h1XFwubmV0L2Jvb2tzL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgIuWQi+eFnOeJneWSsS4qP+adguS5pue9kSg/OuadoOadoOeahCk/IiwKICAgICAgICAgICAgIuWQi+eFnOeJneWSseeci+S5puelnuWZqCIsCiAgICAgICAgICAgICIoPzrlkIvnhZzniZ3lkrF86aOd546w5rSF5ZKxfOiMh+mYuueVseWMnSkuKj9b77yjY11vbSIsCiAgICAgICAgICAgICLlkIvnhZzniZ3lkrEiLAogICAgICAgICAgICAi6aOd546w5rSF5ZKxIiwgIuauouiQvuWYjuWMnSIsCiAgICAgICAgICAgICLnnIvlsI/or7TigJzmnYLkuabnvZF6YXNodS5uZXTigJ0iLAogICAgICAgICAgICAi5omL5py656uZ77yabS56YXNodS5uZXQg55S16ISR56uZ77yad3d3Lnphc2h1Lm5ldCIsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWwj+ivtOW3tOWjqyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnhzODRcXC5jb20vXFxkK19cXGQrLyIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuY29uX3RvcCBhOmxhc3QiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLCp+aOqOiNkOS4gOS4quaXoOW5v+WRiueahOWwj+ivtOermS4qPyDCpyIsCiAgICAgICAgICAgICLimIbmnKznq5nmnIDlv6vmm7TmlrAuKj/imIYiLAogICAgICAgICAgICAi57qv5paH5a2X5Zyo57q/6ZiF6K+7Lio/PC9icj4iLAogICAgICAgICAgICAid3d3LlggUyA4IDQuY29tIiwKICAgICAgICAgICAgIuOAiuOAiyB3d3cub2JyIC8+IiwKICAgICAgICAgICAgIuOAguOAgiB3LjIub2JyIiwKICAgICAgICAgICAgIlxcW3cgdyB3Lnggcy4qPy5jIG8gbSDlsI/or7QuKj9cXF0iLAogICAgICAgICAgICAi4pWC5LiKLio/4pWCIiwKICAgICAgICAgICAgIlxcKlxcKumhtlxcKlxcKueCuS57MCwzfeWwj+ivtCIsCiAgICAgICAgICAgICJfX1/lsI8u6K+0LuW3tC7lo6sgd3d3LnhTODQuY29tX19fIiwKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoJzxzY3JpcHQ+JykKICAgICAgICAgICAgICAgIC50ZXh0KCdjbGVhckludGVydmFsKHNob3cpOycpCiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2JvZHknKQogICAgICAgICAgICAgICAgLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIxMjPoqIDmg4UiLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC4xMjN5cVxcLihjb218b3JnKS9yZWFkL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwnLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLmNvbl90b3AgPiBhOmxhc3QnLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNUWFQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICcuYm90dGVtLCAucmVkLCAuY29udGFkcywgYScsCiAgICB9LAogICAge3NpdGVOYW1lOiAi54Ot6Zeo5bCP6K+0572RIiwKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3LnJlbWVueHMuY29tL2R1X1xcZCsvXFxkKy8nLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnc2VjdGlvbi5yZWFkaGVhZCA+IGRpdi5yZWFkX3QgPiBkaXYubGYgPiBhOm50aC1jaGlsZCgyKScsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAnLnBhZ2VnbyA+IGZvbnQ6Y29udGFpbnMoIuS4i+S4gOeroCIpICsgYScsCiAgICAgICAgcHJldlNlbGVjdG9yOiAnLnBhZ2VnbyA+IGZvbnQ6Y29udGFpbnMoIuS4iuS4gOeroCIpICsgYScsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnlkX3RleHQyIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmFkcnMsIC5jb25fdywgYScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+aCqOWPr+S7peWcqOeZvuW6pumHjOaQnOe0ouKAnC4qJywKICAgICAgICAgICAgJ+S4uuS6huaWueS+v+S4i+asoemYheivu++8jOS9oOWPr+S7peeCueWHu+S4i+aWueeahC4qJwogICAgICAgIF0KICAgIH0sCgogICAgLy8gPT09IOWGheWuueihpeS4gQogICAge3NpdGVOYW1lOiAi57uZ5Yqb5paH5a2m5bCP6K+06ZiF6K+7572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuZ2VpbGl3eFxcLmNvbS8uKlxcLnNodG1sIiwKICAgICAgICB0aXRsZVJlZzogIi0/KC4qKV8oLiop5pyA5paw56ug6IqCX+e7meWKmyIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgY29udGVudFJlbW92ZTogJ2gxLCBmb250W2NvbG9yXSwgY2VudGVyJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi572R56uZ5Y2H57qn5a6M5q+V77yB5oSf6LCi5a+557uZ5Yqb5paH5a2m572R55qE5pSv5oyB77yBIiwKICAgICAgICAgICAgIu+8iOeZvuW6puaQnOe0oue7meWKm+aWh+Wtpue9keabtOaWsOacgOW/q+acgOeos+WumlxcKSIsCiAgICAgICAgICAgICLjgJBzb2dvdSwzNjAsc29zb+aQnOWFjei0ueS4i+i9veWwj+ivtOOAkSIsCiAgICAgICAgICAgICJcXFvkuZBcXF1cXFvor7tcXF3lsI/or7Qu77ySMy5b77yjY11tIiwKICAgICAgICAgICAgIue7meWKm+aWh+Wtpue9kSIsCiAgICAgICAgICAgICLnnIvmnIDlv6vmm7TmlrAiLAogICAgICAgICAgICAi5bCP6K+0572R5LiN6Lez5a2XIiwKICAgICAgICAgICAgIlxcLmNvbSIsCiAgICAgICAgICAgICJCQUlEVV9DTEJfZmlsbFNsb3RcXCguKiIsCiAgICAgICAgICAgICItLeWwjy3or7Qtd3d3LTIzd3gtY29tIiwKICAgICAgICAgICAgIiZuYnNwOyZuYnNwO++8jOivtyIsCiAgICAgICAgICAgICdcXC53d3dcXC5HRUlMSVdY5byA5b+D6ZiF6K+75q+P5LiA5aSpJywKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICBpZiAoIWQuZmluZCgnI2NvbnRlbnQnKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBodG1sID0gZC5maW5kKCdib2R5JykuaHRtbCgpOwogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBodG1sLm1hdGNoKC88IS0tZ28tLT4oW1xzXFNdKj8pPCEtLW92ZXItLT4vaSlbMV07CgogICAgICAgICAgICAgICAgY29udGVudCA9ICQoJzxkaXYgaWQ9ImNvbnRlbnQiPicpLmh0bWwoY29udGVudCk7CiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5maW5kKCcjYWRyaWdodCcpLnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmZpbmQoJyNhZHJpZ2h0Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZFRvKGQuZmluZCgnYm9keScpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgLy8gPT09PT09PT09PT09PT09PT09IOmHh+eUqCBpZnJhbWUg5pa55byP6I635Y+W55qEID09PT09PT09PT09PT09PT09PT09CiAgICB7c2l0ZU5hbWU6ICIxNkvlsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC4xNmtib29rXFwub3JnL0h0bWwvQm9vay9cXGQrL1xcZCsvXFxkK1xcLnNodG1sJCIsCiAgICAgICAgdGl0bGVSZWc6ICcoXFxTKykgKC4qKS0gMTZL5bCP6K+0572RJywKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgY29udGVudFJlbW92ZTogJy5iZGxpa2VidXR0b24nLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiB7CiAgICAgICAgICAgICcoPGNlbnRlcj4pPzw/aW1nIHNyYy4uKGh0dHA6Ly93d3cuMTZrYm9vay5vcmcpPygvdHUvXFxTK1xcLmpwZykuKD58IGFsdC4iXFxkK19cXGQrX1xcZCpcXC5qcGciIC8+KSg8L2NlbnRlcj4pPyc6ICIkMyIsCiAgICAgICAgICAgICIvdHUvc2hpamllLmpwZyI6IuS4lueVjCIsICIvdHUveGlhbmdkYW8uanBnIjoi5oOz5YiwIiwgIi90dS9kYW5zaGkuanBnIjoi5L2G5pivIiwgIi90dS9odWlsYWkuanBnIjoi5Zue5p2lIiwgIi90dS95aWppbmcuanBnIjoi5bey57uPIiwgIi90dS96aGVuZGUuanBnIjoi55yf55qEIiwgIi90dS9saWxpYW5nLmpwZyI6IuWKm+mHjyIsICIvdHUvbGUuanBnIjoi5LqGIiwgIi90dS9kYS5qcGciOiLlpKciLCAiL3R1L3NoZW5nbGkuanBnIjoi6IOc5YipIiwgIi90dS94aXdhbmcuanBnIjoi5biM5pybIiwgIi90dS93YW5kYW4uanBnIjoi5a6M6JuLIiwgIi90dS9kZS5qcGciOiLnmoQiLAogICAgICAgICAgICAiMTZrYm9va1xccyoo6aaW5Y+R5pu05pawfOWwj+ivtOe9kSkiOiAiIiwKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi6K+76K+755yLIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuZHVkdWthblxcLm5ldC9odG1sLy4qXFwuaHRtbCQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi55yL5bCP6K+04oCc5bCx54ix6K+75Lmm4oCdfGJpbmh1b3x3d3dcXC45MnRvXFwuY29tIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgbXV0YXRpb25TZWxlY3RvcjogIiNtYWluIiwKICAgICAgICBtdXRhdGlvbkNoaWxkQ291bnQ6IDAsCiAgICB9LAogICAge3NpdGVOYW1lOiAi6K+76Zu26Zu277yI5pyJ6Zeu6aKY77yM5Y+q5pi+56S65LiA5Y2K5YaF5a6577yJIiwKICAgICAgICB1cmw6ICJodHRwcz86Ly93d3dcXC5kdTAwXFwuKD86Y29tfGNjKS9yZWFkL1xcZCsvXFxkKy9bXFxkX10rXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KSg/OuesrFxcZCvmrrUpPywoLiopIC0g6K+76Zu26Zu25bCP6K+0572RIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICAvLyBwcmV2U2VsZWN0b3I6ICIjZm9vdGxpbmsgYTpmaXJzdCIsCiAgICAgICAgLy8gaW5kZXhTZWxlY3RvcjogIiNmb290bGluayBhOmNvbnRhaW5zKCfnm67lvZUnKSIsCiAgICAgICAgLy8gbmV4dFNlbGVjdG9yOiAiI2Zvb3RsaW5rIGE6bGFzdCIsCiAgICAgICAgLy8g5YaF5a65CiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3BhZ2Vjb250ZW50LCAuZGl2aW1hZ2UiLAogICAgICAgIC8vIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICAvLyBtdXRhdGlvblNlbGVjdG9yOiAiI3BhZ2Vjb250ZW50IiwKICAgICAgICAvLyBtdXRhdGlvbkNoaWxkQ291bnQ6IDIsCiAgICAgICAgY29udGVudFJlbW92ZTogImZvbnQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICLor7vpm7bpm7blsI/or7TnvZHmrKLov47mgqjnmoTlhYnkuLQuKj90eHTmoLzlvI/kuIvovb3mnI3liqEiLAogICAgICAgICAgICAi77yM5aW955yL55qE5bCP6K+0OnzmnKzkuabmnIDmlrDlhY3otLnnq6DoioLor7forr/pl67jgIIiLAogICAgICAgICAgICAiXFwq5paH5a246aaGXFwqIiwKICAgICAgICAgICAgIlxcKOacquWujOW+hee7reivt+aQnOe0ou+8jOWwj+ivtOabtOWlveabtOaWsOabtOW/qyEiLAogICAgICAgICAgICAid3d3XFwuRFUwMFxcLmNvbSIsCiAgICAgICAgXSwKICAgICAgICBjaGVja1NlY3Rpb246IHRydWUKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICI3OOWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLjc4eHNcXC5jb20vYXJ0aWNsZS9cXGQrL1xcZCsvXFxkKy5zaHRtbCQiLAogICAgICAgIGNvbnRlbnRIYW5kbGU6IGZhbHNlLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPykgKD865q2j5paHICk/KC4qKSA3OOWwj+ivtOe9kSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImE6Y29udGFpbnMoJ+ebriDlvZUnKSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiYTpjb250YWlucygn5LiK5LiA56ugJykiLAogICAgICAgIG5leHRTZWxlY3RvcjogImE6Y29udGFpbnMoJ+S4i+S4gOeroCcpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICIvLy4qPzc4eHMuKj8vLyIsCiAgICAgICAgICAgICJcXCjlhajmloflrZflsI/or7Tmm7TmlrDmnIDlv6tcXCkiLAogICAgICAgIF0sCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJ3AudGl0bGUnKS5lbXB0eSgpOyAgICAgICAgICAgICAgICAgICAgICAvLyDljrvmjonlhoXlrrnkuK3luKbnmoTnq6DoioLmoIfpopgKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAiMTUx55yL5Lmm572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuMTUxa2FuXFwuY29tL2thbi8uKlxcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNtc2ciLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICBtdXRhdGlvblNlbGVjdG9yOiAiI21zZyIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1tcL3xdP3d3d1wuMTUxKD8655yLfGthbilcLmNvbVtcL3xdPy9pZywKICAgICAgICAgICAgLzE1Meeci+S5pue9kSg/Oue6r+aWh+Wtlyk/L2lnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlsLHniLHor7vkuaYiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC45MnRvXFwuY29tL1xcdysvXFx3Ky9cXGQrXFwuaHRtbCQiLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyktKC4qPyktIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgdGltZW91dDogNTAwLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAi55yL5bCP6K+0LuWwseeIsS4qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5puS5pue9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnNodXNodXdcXC5jbi9zaHUvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopICguKj8pIOS5puS5pue9kSIsCiAgICAgICAgdGl0bGVQb3M6IDEsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgICBjb250ZW50UmVwbGFjZTogIu+8gX7vvIFbXFxzXFxTXSoiCiAgICB9LAogICAge3NpdGVOYW1lOiAi5om+5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuemhhb3hpYW9zaHVvXFwuY29tL2NoYXB0ZXItXFxkKy1cXGQrLVxcdysvIiwKICAgICAgICB0aXRsZVJlZzogIiguKikgLSAoLiopIC0g5om+5bCP6K+0572RIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiZGl2W3N0eWxlXSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICJBQkPlsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5ib29rYWJjXFwubmV0Ly4qXFwuaHRtbCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlCiAgICB9LAoKICAgIC8vID09PT09PT09PT09PT09IOWGheWuuemcgOimgTLmrKHojrflj5bnmoQgPT09PT09PT09PT09PT09PT09PT09PT09PQogICAge3NpdGVOYW1lOiAi5omL5omT5ZCnIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC9zaG91ZGE4XC5jb21cL1x3K1wvXGQrXC5odG1sLywKICAgICAgICBjb250ZW50UmVwbGFjZTogL1t3XHNcW1wvXFxcKF0qLnNob3VkYTguY29tLip8KFwvXC8pP1vlhajmloflrZddP+mmluWPkXzmiYvmiZPlkKd8d3d3LnNob3UuKnxcKHdcL3dcL3cuc2hvdWRhOC5jXC9vXC9tIOaJi+OAgeaJk+OAguWQp+abtOaWsOi2heW/q1wpfOWwj+ivtCDpmIXor7vnvZEgd3d3LnhpYW9zaHVveWQgLmNvbS9pZywKICAgICAgICBjb250ZW50UGF0Y2g6IGZ1bmN0aW9uKGZha2VTdHViKXsKICAgICAgICAgICAgdmFyIHNjcmlwdFNyYyA9IGZha2VTdHViLmZpbmQoJ2JvZHknKS5odG1sKCkubWF0Y2goL291dHB1dENvbnRlbnRcKCcoLip0eHQpJ1wpLylbMV07CiAgICAgICAgICAgIHNjcmlwdFNyYyA9ICJodHRwOi8vc2hvdWRhOC5jb20vYWpheC5waHA/Zj1odHRwOi8vc2hvdWRhOC5jb20vcmVhZCIgKyBzY3JpcHRTcmM7CiAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJyNjb250ZW50JykuYXR0cih7CiAgICAgICAgICAgICAgICAiY2xhc3MiOiAncmVhZGVyLWFqYXgnLAogICAgICAgICAgICAgICAgc3JjOiBzY3JpcHRTcmMKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWTiOWTiOaWh+WtpiIsCiAgICAgICAgdXJsOiAvXmh0dHBzPzpcL1wvd3d3XC5oYWhhd3hcLmNvbVwvLipodG0vLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPyktKC4qPyktLiovLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjaGFwdGVyX2NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAvKD865aW95Lmm5o6o6I2QfOS5puWPi+WcqOeci3zlhbbku5bkuablj4vmraPlnKjnnIt85aW955yL55qE5bCP6K+0fOaOqOiNkOmYheivuynvvJrjgIJ8KD86d3d3fO+9l++9l++9l3zvvYLvvY/vvY/vvYspLiooPzpjb218bmV0fG9yZ3zvvYPvvY/vvY18772O772F772UKXzlhajmloflrZfpmIXor7t85peg5by556qX5bm/5ZGK5bCP6K+0572RfOWTiOWTiOaWh+Wtplwod3d3LmhhaGF3eC5jb21cKXxzb3VEVS5vcmd877yz772P772V772E772V77yO772P772S772HfGrEq25n5b2p5o6o6I2Q77yaL2lnLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgICB2YXIgJGNvbnRlbnQgPSBmYWtlU3R1Yi5maW5kKCIjY2hhcHRlcl9jb250ZW50Iik7CiAgICAgICAgICAgIHZhciBtID0gJGNvbnRlbnQuZmluZCgic2NyaXB0IikudGV4dCgpLm1hdGNoKC9vdXRwdXRcKChcZCspLCAiKFxkK1wudHh0KSJcKTsvKTsKICAgICAgICAgICAgaWYobSAmJiBtLmxlbmd0aCA9PSAzKXsKICAgICAgICAgICAgICAgIHZhciBhaWQgPSBtWzFdLAogICAgICAgICAgICAgICAgICAgIGZpbGVzID0gbVsyXTsKICAgICAgICAgICAgICAgIHZhciBzdWJEaXIgPSAiLyIgKyAoTWF0aC5mbG9vcihhaWQgLyAxMDAwKSArIDEpLAogICAgICAgICAgICAgICAgICAgIHN1YkRpcjIgPSAiLyIgKyAoYWlkIC0gTWF0aC5mbG9vcihhaWQgLyAxMDAwKSAqIDEwMDApOwogICAgICAgICAgICAgICAgJGNvbnRlbnQuYXR0cih7CiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJyZWFkZXItYWpheCIsCiAgICAgICAgICAgICAgICAgICAgc3JjOiAiaHR0cDovL3IueHNqb2IubmV0L25vdmVsIiArIHN1YkRpciArIHN1YkRpcjIgKyAiLyIgKyBmaWxlcywKICAgICAgICAgICAgICAgICAgICBjaGFyc2V0OiAiZ2JrIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5aSp5aSp5Lit5paHIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwudHR6d1xcLmNvbS9ib29rL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjY2hhcHRlcl90aXRsZSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuZmwucGwyMCBhOmxhc3QiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiN0ZXh0X2FyZWEiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAvd3d3LnR0encuY29tfHd3dy5jNjZjLmNvbXzmiYvmnLrnlKjmiLfor7fliLDpmIXor7vjgIJ8PHA+XHMqYTxcL3A+L2lnLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpIHsKICAgICAgICAgICAgdmFyIG0gPSBmYWtlU3R1Yi5maW5kKCcjdGV4dF9hcmVhIHNjcmlwdCcpLnRleHQoKS5tYXRjaCgvb3V0cHV0VHh0XCgiKC4qKSJcKTsvKTsKICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIGZha2VTdHViLmZpbmQoJyN0ZXh0X2FyZWEnKS5hdHRyKHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogInJlYWRlci1hamF4IiwKICAgICAgICAgICAgICAgICAgICBzcmM6IHVuc2FmZVdpbmRvdy5nZXRTZXJ2ZXIoKSArIG1bMV0sCiAgICAgICAgICAgICAgICAgICAgY2hhcnNldDogImdiayIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAge3NpdGVOYW1lOiAi5aW955yL5bCP6Kqq57ayIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vdHdcXC54aWFvc2h1b2thblxcLmNvbS9oYW9rYW4vXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLmJvb2tjb250ZW50IiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICJhLnJlZGJ1dHQ6Y29udGFpbnMoJ+S4iuS4gOmggScpIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiYS5yZWRidXR0OmNvbnRhaW5zKCfov5Tlm57nq6Dnr4Dnm67pjIQnKSIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYS5yZWRidXR0OmNvbnRhaW5zKCfkuIvkuIDpoIEnKSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJbYS16OyZdKncuW3jvvZhdaWFvc2h1b2thbi5jb20g5aW955yL5bCP6Kqq57ayW2Etejsm5peP44CR77yJXSoiCiAgICB9LAogICAge3NpdGVOYW1lOiAiReWTgeS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmVwend3XFwuY29tL2Jvb2svXFxkKy9cXGQrIiwKICAgICAgICB0aXRsZVJlZzogIiguKj8pLCguKj8pLCIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3Nob3djb250ZW50IiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpo5jlpKnmloflraYiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5waWFvdGlhblxcLihuZXR8Y29tKS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgLy8gdGl0bGVSZWc6ICIoLiop5pyA5paw56ug6IqCLCguKiks6aOY5aSp5paH5a2mIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJyNjb250ZW50ID4gaDEgPiBhJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLCAgLy8g5ZCm5YiZIGNvbnRlbnQg5ZyoIGJvZHkg5LiL6Z2iCiAgICAgICAgY29udGVudFJlbW92ZTogImgxLCB0YWJsZSwgLnRvcGxpbmsiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIC9be+OAll3or7flnKjnmb7luqbmkJzntKIuKlt944CXXXwuKD8655m+5bqm5pCc57Si6aOE5aSpfOaXoOW8ueeql+Wwj+ivtOe9kSkuKlwuTmV0LnxcW+mjhOWkqS4q5peg5by556qX5bCP6K+0572RXF0vaWcsCiAgICAgICAgICAgICdcXHvpo5jlpKnmloflraZ3d3cucGlhb3RpYW4ubmV05oSf6LCi5ZCE5L2N5Lmm5Y+L55qE5pSv5oyB77yM5oKo55qE5pSv5oyB5bCx5piv5oiR5Lus5pyA5aSn55qE5Yqo5YqbXFx9JywKICAgICAgICAgICAgJ+eroOiKguabtOaWsOacgOW/qycsCiAgICAgICAgICAgICfmlK/mjIHnvZHnq5nlj5HlsZXvvIzpgJvmt5jlrp3kubDkuJzopb8uKicsCiAgICAgICAgICAgICflpKnmiY3lo7nnp5LoqJjkvY/vvIzngrrmgqjmj5Dkvpvnsr7lvanplrHoroDjgIIuKicKICAgICAgICBdLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuWkqeS9v+Wwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnRzeHNcXC5jYy9maWxlcy9hcnRpY2xlL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLntKvpm6jpmIHlsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC56aXl1Z2VcXC5jb20vXFx3Ky9cXHcrL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KS3mraPmloctKC4qPykt57Sr6Zuo6ZiB5bCP6K+0572RIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIucmVhZGVyX2NvbnRlbnQiLAogICAgICAgIG5leHRTZWxlY3RvcjogIiNkaXZOZXh0IGEiLAogICAgICAgIHByZXZTZWxlY3RvcjogIiNkaXZQcmV2IGEiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiXFwoLip3d3cueml5dWdlLmNvbS4qXFwpIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuegtOmjjuS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnBvZmVuZ1xcLm5ldC94aWFvc2h1by9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLor7vlrqLlkKciLAogICAgICAgIHVybDogIl5odHRwcz86Ly9kdWtlYmFcXC5jb20vYm9vay9cXGQrL1xcZCsvXFxkK1xcLnNodG1sIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQgPiBkaXZbc3R5bGVdIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiYSwgZGl2W2FsaWduXTpoYXMoZm9udCkiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuS4gOi1t+mYhSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLjE3eXVlXFwuY29tL1xcdysvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuivuueni+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLm51b3FpdVxcLmNvbS9zdGF0aWMvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLiopICguKikg6K+656eL572RIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJNbXFxzXFxTXSvor7rnp4vnvZHmloflrZfmm7TmlrDmnIDlv6vigKbigKbjgJFA77yB77yBIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuiogOaDheWQjuiKseWbrSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnlxaGh5XFwuY2MvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKiktKC4qKS0uKi3oqIDmg4XlkI7oirHlm60iLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNjb250ZW50IiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiYSwgc3BhbltzdHlsZV0sIHNjcmlwdCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICLor7forrDkvY/mnKznq5nvvJogd3d3LnlxaGh5LmNjfOabtOWkmu+8jOWwveWcqOiogOaDheWQjuiKseWbreOAgiIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlha3kuZ3kuK3mlociLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3cuKD86Njl6d3xrYW43KS5jb20vXFx3Ky9cXGQrL1xcZCsvXFxkKy5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiLmNoYXB0ZXJfdGl0bGUiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiLnJlYWRoZWFkIGgxIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIueWRfdGV4dDIiLAogICAgICAgIC8vIHRpdGxlUmVnOiAiKC4qKT9fKC4qKS3lha3kuZ3kuK3mlociLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICJbXFwqXSvmnKznq6DoioLmnaXmupDlha3kuZ3kuK3mlocuKuivt+WIsOWFreS5neS4reaWh+mYheivu+acgOaWsOeroOiKgltcXCpdK3zvvI1cXFxcW3fvvLddKy4q5Lmm5Y+L5LiK5LygL++8jSIsCiAgICAgICAgICAgICJcXFxc6K+35YiwIHd3dy42OXp3LmNvbSDlha1cXCrkuZ0uKj8vIiwKICAgICAgICAgICAgIuOAkCDms6jlhozkvJrlkZjlj6/ojrfnp4HkurrkuabmnrbvvIznnIvkuabmm7Tmlrnkvr/vvIHvvJrjgJEiLAogICAgICAgICAgICAi6aaW5Y+RPGJyIC8+IiwKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5YWN6LS55bCP6K+06ZiF6K+7572RIiwKICAgICAgICB0aXRsZVJlZzogIiguKikgLCAoLiopICwg5YWN6LS55bCP6K+06ZiF6K+7572RIiwKICAgICAgICB0aXRsZVBvczogMSwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vYm9va1xcLnlheWFjbXNcXC5jb20vXFx3Ky9ib29rX1xcZCtfXFxkKy5odG1sIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiYSwgZGl2W3N0eWxlXSIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJodHRwOi8vYm9vay5ZYVlhQ01TLmNvbS8uKnzvvYLvvY/vvY/vvYvvvI7vvZnvvYHvvZnvvYHvvYPvvY3vvZPvvI7vvYPvvY/vvY0iLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuS5puWGnOWcqOe6v+S5puW6kyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnNodW5vbmdcXC5jb20veXVlZHUvXFxkKy9cXGQrL1xcZCsuaHRtbCIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLmJvb2tjb250ZW50IiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLliqrliqrkuablnYoiLAogICAgICAgIHVybDogIl5odHRwcz86Ly8oPzpib29rXFwua2FudW51XFwub3JnfHd3d1xcLmthbnVudThcXC5jb20pLy4qL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVJlZzogLyguKikgLSAoLiopIC0g5bCP6K+05Zyo57q/6ZiF6K+7IC0gLiogLSDliqrliqrkuablnYovLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogInRhYmxlOmVxKDQpIHAiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICJhW2hyZWZePScuLyddIiwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkupTmnIjkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly81eWNuXFwuY29tL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgY29udGVudFJlbW92ZTogImRpdlthbGlnbj0nY2VudGVyJ10sIGEiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIueslOS4i+S4reaWhyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmJ4endcXC5vcmcvXFx3Ky9cXGQrL1xcZCsvXFxkK1xcLnNodG1sIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiZGl2W2FsaWduPSdjZW50ZXInXSwgY2VudGVyLCAjZm9vdGxpbmsxIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogInd3d1xcLmJ4endcXC5vcmd8Ly/ml6DlvLnnqpfmm7TmlrDlv6svL3xcXCjnnIvnsr7lk4HlsI/or7Tor7fkuIouKlxcKXxcXCjnnIsuKuacgOaWsOabtOaWsOeroOiKgi4qXFwpIgogICAgfSwKICAgIHtzaXRlTmFtZTogIuedgOeslOS4reaWh+e9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovLy4qemJ6d1xcLmNvbS9cXHcrL1xcZCtcXC5odG1sIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogIueyvuW9qeWwj+ivtOWwveWcqC4qIgogICAgfSwKICAgIHtzaXRlTmFtZTogIkQ1ODblsI/or7TnvZEiLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC5kNTg2XFwuY29tLycsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnlkX3RleHQyIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnYScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+OAkHd3dy4xMzgwMDEwMC5jb23mloflrZfpppblj5FENe+8mDblsI/or7TnvZHjgJEnLAogICAgICAgICAgICAn44CQ4piGRDXvvJg25bCP6K+0572R4piGLy/mloflrZfpppblj5HjgJEuKicKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi6LGM6LGG5paH5a2m572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3LndhbmRvb3UuY29tL2Jvb2svXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICcoLio/KeacgOaWsOeroOiKgi0oLiopLS4q5peg5by556qX5bm/5ZGKX+ixjOixhuaWh+Wtpue9kScsCiAgICAgICAgY29udGVudFJlbW92ZTogImNlbnRlciIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgL1t777yIXTxhIGhyZWYuKlt977yJXXznvZHmrKLov47lub/lpKfkuablj4vlhYnkuLTpmIXor7vvvIwuKi9pZywKICAgICAgICAgICAgL1vjg6zimIVdKy4qKD866K+35pSv5oyBKT/osYwoPzoufCZhbXA7KT/osYYuP+aWhy4/5a2mLipb44Os4piFXSsvaWcsCiAgICAgICAgICAgIC9b77yIKOOAkF3osYwuP+ixhi4/5paHLj/lraYuKlvvvIkp44CRXS9pZywKICAgICAgICAgICAgL+KIt+abtOaWsOW/q+KIt+KIt+e6r+aWh+Wtl+KIt3xodHRwOuawuOS5hee9keWdgO+8jOivt+eJouiusO+8gS9pZywKICAgICAgICAgICAgLyg/Ont8XFx8XC98XCgpKuixjC4/6LGGLj/mlocuP+Wtpi4/572RLio/KD866auY6YCf5pu05pawfFxcXC98fSkrL2lnLAogICAgICAgICAgICAv5pu05paw5pyA5b+r5pyA56iz5a6afOeci+Wwj+ivtOKAnOKAnS9pZywKICAgICAgICAgICAgLyZsdDtzdHJuZyZndDsuKj8mbHQ7XC9zdHJuZyZndDsvaWcsCiAgICAgICAgICAgIC9cKOWHpOiInuaWh+Wtpue9kVwpfFwoICpcKXzjgIzlkK/oiKrmloflrZfjgI18NznpmIUu6K+7Lue9kS9pZywKICAgICAgICAgICAgL+mrmOmAn+mmluWPkS4qP+acrOeroOiKguaYry4qL2lnLAogICAgICAgICAgICAv55m+5bqm5pCc57Si6Ieq5LuO55+l6YGT55So55m+5bqm5pCc57Si77yM5aaI5aaI5YaN5Lmf5LiN55So5ouF5b+D5oiR6L+95LiN5Yiw5pyA5b+r5pu05paw5LqGL2lnLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLpg73mnaXor7vlsI/or7TnvZEiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wuZG91bGFpZHVcLmNvbVwvW15cL10rXC9cZCtcL1xkK1wuaHRtbC8sCiAgICAgICAgdXNlaWZyYW1lOiB0cnVlLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIC93d3fvvI4uK++8jig/OmNvbXxuZXQpL2lnLAogICAgICAgICAgICAv6YO95p2l6K+75bCP6K+0572R6aaW5Y+RfHd3d1wuW2EtejAtOV0rXC4oPzpvcmd8Y29tKS9pZywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5bCP6K+0VFhUIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLnhzaHVvdHh0XC5jb21cLy8sCiAgICAgICAgY29udGVudFJlcGxhY2U6ICJcXCguKuaXoOW8ueeql+WFqOaWh+mYheivu1xcKSIsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1YikgewogICAgICAgICAgICBmYWtlU3R1Yi5maW5kKCcjdGl0bGUgYScpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLnlq/ni4LkuK3mlofnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5ma3p3d1xcLmNvbS8iLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICIuYm90dGVtLCBhW2hyZWY9J2h0dHA6Ly93d3cuZmt6d3cuY29tJ10iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgIC/mlLbol4/jgJAuKj/nlq/ni4LkuK3mlofnvZFcKS9pZywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5ZC+6K+75bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuNWR1NVxcLmNvbS9ib29rLy4qXFwuaHRtbCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6ICdcXCjlkL7or7vlsI/or7TnvZEgPGEuKuaXoOW8ueeql+WFqOaWh+mYheivu1xcKScKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICJVVeeci+S5piIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnV1a2Fuc2h1XFwuKD86Y29tfG5ldCkvLiovXFxkKy9cXGQrLmh0bWwiLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAiW1XvvLVdKueci+S5plvvvIhcXChdLio/W++8iVxcKV3mloflrZfpppblj5HjgIIiCiAgICB9LAogICAge3NpdGVOYW1lOiAi6ZW/6aOO5paH5a2m572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuY2Z3eFxcLm5ldC9maWxlcy9hcnRpY2xlL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAnLnRpdGxlJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5saW5rbGVmdCA+IGE6bGFzdCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJyhbXlxcdTRFMDAtXFx1OUZGRl0rKemVv1xcMemjjlxcMeaWh1xcMeWtplteXFxuXSt0JywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5LqR5p2l6ZiBIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwueXVubGFpZ2VcXC5jb20vaHRtbC9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICcuY3RpdGxlJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJyNobEJvb2tOYW1lJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcjY29udGVudCcsCiAgICAgICAgY29udGVudFJlbW92ZTogJy5ib3R0b21saW5rLCBhLCAuY2FkLCAuZm9vdGVyLCAuYWRib3R0b20nLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICdb4piG4piF4peG44CT44CO44CQ4peO4peHXS4qPyg/Onl1bmxhaWdlfOS6kSDmnaUg6ZiBfO+9me+9le+9ju+9jO+9ge+9ie+9h++9hSkuKj9b4piG4peG4piF44CT44CP44CR4peO4peHXScsCiAgICAgICAgICAgICfjgIrmm7TmlrDmnIDlv6vlsI/or7TnvZHnq5nvvJrpm7LmnaXpmIFodHRwOi8vV1dXLll1bkxhaUdlLkNPTeOAiycsCiAgICAgICAgICAgICfil6Lnmb7luqbmkJzntKLpm7LmnaXpmIHvvIzmnIDmlrDmnIDlv6vnmoTlsI/or7Tmm7TmlrDil6MnLAogICAgICAgICAgICAn44CQ55W25L2g6Zax6K6A5Yiw5q2k56ug56+A77yM6KuL5oKo56e75q2l5Yiw6Zuy5L6G6Zaj6Zax6K6A5pyA5paw56ug56+A77yM5oiW6ICF77yM6Zuy5L6G6Zaj44CRJywKICAgICAgICAgICAgJ+OAkOeci+aBkOaAluWwj+ivtOOAgeeOhOW5u+Wwj+ivtOOAgeivt+Wkp+WutueZu+mZhum7keWyqeWxhWh0dHA6Ly93d3cuaGVpeWFuanUuY29t5LiH5pys5bCP6K+05YWN6LS555yL44CRJywKICAgICAgICAgICAgJ+WmguaCqOW3sumYheivu+WIsOatpOeroOiKgu+8jOivt+enu+atpeWIsC4qJywKICAgICAgICAgICAgJz09PeeZviE/5bqm5pCc57SiLio/5paw56ug6IqCPT09JywKICAgICAgICAgICAgJ+OAkOacgOaWsOabtOaWsOOAkScsCiAgICAgICAgICAgICflgLzlvpfmgqjmlLbol4/jgILjgIInLAogICAgICAgICAgICAn5bCP6K+04oCc5bCP6K+056ug6IqCJywKICAgICAgICAgICAgJ+e6r+aWh+Wtl+WcqOe6v+mYheivu+acrOermeWfn+WQjScsCiAgICAgICAgICAgICfmiYvmnLrlkIzmraXpmIXor7vor7forr/pl64nLAogICAgICAgICAgICAnXFwo5LqR5p2l6ZiB5bCP6K+05paH5a2m572Rd3d3Lnl1bmxhaWdlLmNvbVxcKScsCiAgICAgICAgICAgICfjgJDmnKzkuabkvZzogIXmjqjojZDvvJooPzrnmb7luqbmkJzntKIpP+S6keadpemWo++8jOWFjei0ueingueci+acrOS5puacgOW/q+eahFZJUOeroOiKguOAkScsCiAgICAgICAgICAgICfCsemhtsKx54K5wrHlsI/CseivtO+8jHd3JywKICAgICAgICAgICAgJ+KWoGRpbmdkZGlhbuWwj+ivtO+8jHd34oioMjN34oaS4pagbScsCiAgICAgICAgICAgICd34oioMjN3JywKICAgICAgICAgICAgJ++9l3fvvZcyM++9l++9mO+9g++9j++9jScsCiAgICAgICAgICAgICfvv6XihInpoILvv6XihInngrnvv6XihInlsI/vv6XihIknLAogICAgICAgICAgICAn77+h4oid6aCC77+h4oid54K577+h4oid5bCP77+h4oidJywKICAgICAgICAgICAgJ+evruOAguiJsuOAguS5puOAguW3tCwnLAogICAgICAgICAgICAnPCEtLVxcP1tcXCg8XScsICAgLy8g5o+Q5Y+W5YaF5a655ZCO5Ye6546w55qE5rOo6YeK5qCH5b+X77yM6YCg5oiQ5ZCO6Z2i55qE5YaF5a655rKh5LqGCiAgICAgICAgICAgICfnnIvkuaYmbmJzcDsmbmJzcDsg6KaBPycsCiAgICAgICAgICAgICfllpzmrKLnvZHlsLHkuIrjgIInLAogICAgICAgICAgICAn5peg5by556qX5bCP6K+077yMLionLAogICAgICAgICAgICAn5pys5Lmm5pyA5b+r5pu05paw572R56uZ6K+377yaLionLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuZDmloflsI/or7TnvZEiLAogICAgICAgIHVybDogL15odHRwcz86XC9cL3d3d1wubHd4czUyMFwuY29tXC9ib29rc1wvXGQrXC9cZCtcL1xkKy5odG1sLywKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cubHd4czUyMC5jb20vYm9va3MvMi8yMzI5LzQ3MzQyNi5odG1sJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJ2gyJywKICAgICAgICBjaGFwdGVyVGl0bGVSZXBsYWNlOiAnV3dXLmx3eHM1MjAuQ29tfOS5kOaWh+Wwj+ivtOe9kScsCgogICAgICAgIGNvbnRlbnRSZW1vdmU6ICcjY29udGVudD46bm90KHApJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAn55yL5bCP6K+05Yiw5LmQ5paH5bCP6K+0572Rd3d3Lmx3eHM1MjAuY29tJywKICAgICAgICAgICAgJ+WWnOasouS5kOaWh+Wwj+ivtOe9keWwseS4ind3dy4qKD8677yj77yv77ytfGNvbSknLAogICAgICAgICAgICAn54ix546p54ix55yL5bCx5p2l5LmQ5paH5bCP6K+0572RLionLAogICAgICAgICAgICAnXFwoTO+8t1jvvLPvvJXvvJLvvJDjgIJcXCknLAogICAgICAgICAgICAn77ytLkzvvLd477yzNTIwLmNvbSZuYnNwO+S5kOaWh+enu+WKqOe9kScsCiAgICAgICAgICAgIC/kuZDmloflsI/or7TnvZHlgLzlvpcuKy9nLAogICAgICAgICAgICAn5LmQXFwr5paHXFwr5bCP6K+0Jm5ic3A777y3d3cu44GXd++8uHM1MjAu77yjb20nLAogICAgICAgICAgICAn5LmQ5paHXHMq5bCP6K+0IHd3dy5sd3hzNTIwLmNvbScsCiAgICAgICAgICAgICcm5LmQJuaWhyblsI/or7QgXFx7d3d3XFx9Llxce2x3XFx9XFx7eHM1MjBcXH0uXFx7Y29tXFx9JywKICAgICAgICAgICAgJzzkuZAt5paHPuWwj+ivtHd3dy7jgZfvvLfvvLhTNTIwLmNvbScsCiAgICAgICAgICAgICct5LmQLeaWhy3lsI8t6K+0LXd3dy1sd3hzNTIwLWNvbScsCiAgICAgICAgICAgICfvvJ/kuZDvvJ/mlofvvJ/lsI/or7Qgd3fvvLcubO+8t++8uHM1MjAuIO+8o++8r++8rScsCiAgICAgICAgICAgICc75LmQO+aWhzvlsI/or7Qgd3d3Lmx377yLeHM1MjAuY29tJywKICAgICAgICAgICAgJ3d3dy5M77y377y477yz77yV77yS77yQLmNvbScsCiAgICAgICAgICAgICd3d3cubHd4czUyMC5jb20g6aaW5Y+R5ZOm5LqyJywKICAgICAgICAgICAgJ3d3dy5sd3hzNTIwLmNvbScsCiAgICAgICAgICAgIC9cKOacquWujOW+hee7rS4rL2csCiAgICAgICAgICAgICdcXFA/W+aoguS5kF1cXFDmlodcXFDlsI9cXFA/6K+0JywKICAgICAgICAgICAgJ+OAi+S5kD7mlofjgIvlsI/or7QnLAogICAgICAgICAgICAn5LmQK+aWhyvlsI/or7QnLAogICAgICAgICAgICAn44CK5LmQPOaWh+OAiuWwj+ivtCcsCiAgICAgICAgICAgICfmqILmloflsI/oqqonLAogICAgICAgICAgICAnOuS5kDrmloc65bCP6K+0JywKICAgICAgICAgICAgJ2DkuZBg5paHYOWwj+ivtGAnLAogICAgICAgICAgICAnPeS5kD3mloc95bCP6K+0JywKICAgICAgICAgICAgJ++8oOaogu+8oOaWh++8oOWwj++8oOivtHwnLAogICAgICAgICAgICAnO+S5kDvmloc75bCP6K+0JywKICAgICAgICAgICAgJ1vjgZdsTF1bz4nvvLd3XVvPh++8uFh4XVvvvZNzU101MjAnLAogICAgICAgICAgICAnbHfvvIt4czUyMCcsCiAgICAgICAgICAgICfimYLvvIEnLAogICAgICAgICAgICAnM3cuJywKICAgICAgICAgICAgJ1xcKFxcKScsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogJ+aIkeeIseWwj+ivtCcsCiAgICAgICAgdXJsOiAnXmh0dHBzPzovL3d3d1xcLndvYWl4aWFvc2h1b1xcLmNvbS94aWFvc2h1by9cXGQrL1xcZCsvXFxkK1xcLmh0bWwnLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnI2xib3ggPiBiJywKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcjcmVhZGJveCcsCiAgICAgICAgY29udGVudFJlbW92ZTogJyNwYXBnYnV0dG9uLCAjY29udGVudCcsCiAgICB9LAogICAge3NpdGVOYW1lOiAi57Gz6Iqx5Zyo57q/5Lmm5bqTIiwKICAgICAgICB1cmw6IC9ib29rXC5taWh1YVwubmV0XC9cdytcL1xkK1wvXGQrXC8uK1wuaHRtbC8sCiAgICAgICAgdGl0bGVTZWxlY3RvcjogIiN0aXRsZSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3ZpZXdib29rIgogICAgfSwKICAgIHtzaXRlTmFtZTogIjU45bCP6K+0572RIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC8od3d3fGJvb2spXC4oNTgpPzU4eHNcLmNvbVwvaHRtbFwvXGQrXC9cZCtcL1xkK1wuaHRtbC8sCiAgICAgICAgdGl0bGVTZWxlY3RvcjogImgxIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAiI2Zvb3RsaW5rID4gYTplcSgxKSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiI2Zvb3RsaW5rID4gYTplcSgwKSIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiI2Zvb3RsaW5rID4gYTplcSgyKSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICIuZjEsIC5jMSIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpKnlpKnnvo7mlofnvZEiLAogICAgICAgIHVybDogL3d3d1wuMzY1ZXNzYXlcLmNvbVwvXHcrXC8uKy5odG0vLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIudGl0bGUgPiBoMSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI3pvb21jIHRkIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiLnBhZ2UtYm90dG9tYyIKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlpKnmtq/mrablupMiLAogICAgICAgIHVybDogL3d4XC50eTIwMTZcLmNvbVwvLitcLmh0bWwkLywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogInRkW3dpZHRoPSc4MDAnXVtoZWlnaHQ9JzI1J10+YVtocmVmPScuLyddIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAic3Ryb25nPmZvbnQiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICJ0ZCBhW2hyZWY9Jy4vJ10iLAogICAgICAgIG5leHRTZWxlY3RvcjogInRkW3dpZHRoPScyOCUnXSBhIiwKCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAidGRbd2lkdGg9Jzc2MCddIHAiLAogICAgICAgIGNvbnRlbnRIYW5kbGU6IGZhbHNlLAogICAgfSwKICAgIHtzaXRlTmFtZTogIum7hOmHkeWxi+S4reaWh+e9kSIsCiAgICAgICAgdXJsOiAvd3d3XC5oand6d1wuY29tXC9Cb29rXC9SZWFkXC9cZCtbLF9dXGQrJC8sCiAgICAgICAgdGl0bGVTZWxlY3RvcjogImgxIiwKICAgICAgICBpbmRleFNlbGVjdG9yOiAidGQgYVtocmVmPScuLyddIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjQWxseVNpdGUrZGl2IiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAiYiwgYitwIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAi6K+36K6w5L2P5pys56uZ5Z+f5ZCNOiIKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5qKm6L+c5Lmm5Z+OIiwKICAgICAgICB1cmw6IC93d3dcLm15Mjg1XC5jb20oPzpcL1x3Kyl7Myw1fVwvXGQrXC5odG0kLywKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAidGFibGU6ZXEoMikgdHI6ZXEoMykiLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuabtOaWsOWQpyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmdlbmd4aW44XFwuY29tL3JlYWQvXFxkKy9cXGQrLmh0bWwkIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5sZWZ0IGE6bGFzdCcsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NoYXB0ZXJ0eHQiLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLkuZDmloflsI/or7TnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC4zNjV4c1xcLm9yZy9ib29rcy9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIua2Z5ZCBoMSIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICJ1bC5icmVhZC1jcnVtYnMgYTpsYXN0IiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjY29udGVudCIsCiAgICAgICAgLy8gY29udGVudFJlcGxhY2U6IFtdCiAgICB9LAogICAge3NpdGVOYW1lOiAi6Iie6Iul5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwud3VydW9cXC5jb20vZmlsZXMvYXJ0aWNsZS9odG1sL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIudGV4dCBhOmVxKDEpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIjemhlbmd3ZW4iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICfjgJDmm7TlpJrnsr7lvanlsI/or7Tor7forr/pl653d3cud3VydW8uY29t44CRJywKICAgICAgICAgICAgJ++8iHd3dy53dXJ1by5jb23oiJ7oi6XlsI/or7TnvZHpppblj5HvvIknLAogICAgICAgICAgICAn44CQ6Iie6Iul5bCP6K+0572R6aaW5Y+R44CRJywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAi5aSn5Lmm5YyF5bCP6K+0572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuZGFzaHViYW9cXC5jb20/L2Jvb2svXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogIi5yZWFkX3QgPiAubGYgPiBhOm50aC1jaGlsZCgzKSIsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLnlkX3RleHQyIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLniKzkuabnvZEiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5wYXNodXdcXC5jb20vQm9va1JlYWRlci9cXGQrLVxcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAiI3BhaWhhbmdiYW5nX3NlbGVjdCA+IGE6bGFzdCgpIiwKICAgICAgICBuZXh0U2VsZWN0b3I6ICIjbmV4dDIgYSIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiI3ByZXYyIGEiLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICIjZmhtbDIgYSIsCiAgICAgICAgY29udGVudFJlbW92ZTogJy5ub3ZlbF9ib3QnLAogICAgfSwKICAgIHtzaXRlTmFtZTogIumXquaWh+S5puW6kyIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3JlYWRcXC5zaGFud2VuXFwuY29tL2h0bWwvXFxkKy9cXGQrL1xcZCtcXC5odG1sIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAnLm5ld3N0aXRsZScsCiAgICAgICAgY29udGVudFJlbW92ZTogJyN0aXRsZWJvdHRvbScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+mXquaWh+e9keWdgOS4reeahC4qP+azqOWGjOS8muWRmDwvYT4nCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWTgeS5pue9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLnZvZHR3XFwuY29tL0h0bWwvQm9vay9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnLnNyY2JveCA+IGE6bGFzdCgpJywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnYScsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+WTgeS5pue9kSB3d3cudm9EdHcuY29t4peH4oaTJywKICAgICAgICAgICAgJ+WTgeS5pue9kSB3d3cudm9kdFcuY29tJywKICAgICAgICAgICAgJ+WTgSDkuaYg572RIO+8iHcgVyBXICAuIFYgbyBEdHcgLiBjIG8gTe+8iScsCiAgICAgICAgICAgICflpI3liLbnvZHlnYDorr/pl65cXHMqaHR0cDovL1slXFxkXFx3XSsnCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogIuWHpOWHsOWwj+ivtOe9kSIsCiAgICAgICAgdXJsOiAiXmh0dHBzPzovL3d3d1xcLmZoeHNcXC5jb20vcmVhZC9cXGQrL1xcZCsvXFxkK1xcLnNodG1sIiwKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5jb25fdG9wID4gYTpsYXN0KCknLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICcuYm90dGVtJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLlsI/or7Tlt7Tlo6siLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC54c2Jhc2hpXFwuY29tL1xcZCtfXFxkKy8iLAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiBbCiAgICAgICAgICAgICflhajmlofpmIXor7vlpoLmgqjlt7LpmIXor7vliLDmraTnq6Bb56+A6IqCXS4qP++8jO+8jO+8jO+8jCcsCiAgICAgICAgICAgICfnnIvlsI/or7Tpppblj5HmjqjojZDljrvnnLzlv6vnnIvkuaYnLAogICAgICAgICAgICAn5pyA5b+r5pu05paw77yM6ZiF6K+76K+344CCX19f5bCPL+ivtC/lt7Qv5aOrIFd3dy5YU0JBU0hJLmNvTV9fXycsCiAgICAgICAgICAgICdfX1/lsI8v6K+0L+W3tC/lo6sgd3d3LlhTQkFTSEkuY29tX19fJywKICAgICAgICAgICAgJ2xhbGHlpoLmgqjlt7LpmIXor7vliLDmraTnq6Dnr4DvvIzoq4vnp7vmraXliLAuKj/pgJ/orrDmlrnms5XvvJrvvIxcXF0nLAogICAgICAgICAgICAnbGFsYeWmguaCqOW3sumYheivu+WIsOatpOeroOevgC4qP+aVrOiri+iomOS9j+aIkeWAkeaWsOeahOe2suWdgOethi3otqMt6ZajJywKICAgICAgICAgICAgJ+i1t+iInueUteWtkOS5puiuv+mXrjouIOOAgicsCiAgICAgICAgICAgICfiiaflk4jvvIxtXFwuJywKICAgICAgICAgICAgJ1xcW1xccyrotoXlpJrlpb3nnItcXF0nLAogICAgICAgICAgICAn54Ot6Zeo44CQ6aaW5Y+R44CRJywKICAgICAgICAgICAgJz09PeeZvuW6puaQnOe0oi4qPz09PScsCiAgICAgICAgICAgICc9PT1cXCpcXCrlsI/or7Tlt7Tlo6suKj89PT0nLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLmgJ3lhZTpmIXor7siLAogICAgICAgIHVybDogIl5odHRwcz86Ly9cXHcrXFwuc3RvXFwuY2MvYm9vay1cXGQrLVxcZCsuaHRtbCIsCiAgICAgICAgdGl0bGVSZWc6ICIoLio/KV8oLio/KV/lhajmloflnKjnt5rplrHoroBf5oCd5YWUIiwKICAgICAgICB0aXRsZVBvczogMCwKICAgICAgICAvL2Jvb2tUaXRsZVNlbGVjdG9yOiAiaDEiLAogICAgICAgIHByZXZTZWxlY3RvcjogImE6Y29udGFpbnMoJ+S4iuWjuemggScpLCBhOmNvbnRhaW5zKCfkuIrlo7npobUnKSIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiYTpjb250YWlucygn5LiL5aO56aCBJyksIGE6Y29udGFpbnMoJ+S4i+WjuemhtScpIiwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICJkaXYjQm9va0NvbnRlbnQiLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICdzcGFuJywKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLljrvor7vor7siLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5xdWR1ZHVcXC5uZXQvYm9vay9cXGQrL1xcZCsvXFxkK1xcLmh0bWwiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNrdWktcGFnZS1yZWFkLXR4dCIsCiAgICB9LAogICAge3NpdGVOYW1lOiAiMzPoqIDmg4UiLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC4zM3lxXFwuY29tL3JlYWQvXFxkKy9cXGQrL1xcZCtcXC5zaHRtbCIsCiAgICAgICAgY29udGVudFJlbW92ZTogJ2EsIC5ib3R0ZW0sIC5yZWQnLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuW3q+W4iOWbvuS5pummhi4iLAogICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC41NHR1c2h1XFwuY29tL2Jvb2tfbGlicmFyeS9jaGFwdGVyc2hvdy90aGVJZC9cXGQrXFwuaHRtbCIsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIjbS1ib29rLXRpdGxlIiwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiZGl2LnRpdGxlIiwKICAgICAgICBwcmV2U2VsZWN0b3I6ICJkaXYucGFnZUluZm8gYTpmaXJzdCIsCiAgICAgICAgbmV4dFNlbGVjdG9yOiAiZGl2LnBhZ2VJbmZvIGE6bGFzdCIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogImFbdGl0bGU9J+i/lOWbnuS5pumhtSddIiwKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgdGltZW91dDogMTAwMCwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICJkaXYjQ2hhcHRlckNvbnRlbnQiLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oZmFrZVN0dWIpewogICAgICAgICAgdmFyIGJvb2tUaXRsZSA9IGZha2VTdHViLmZpbmQoJ21ldGFbbmFtZT0ia2V5d29yZHMiXScpLmF0dHIoJ2NvbnRlbnQnKTsKICAgICAgICAgIGZha2VTdHViLmZpbmQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9Im0tYm9vay10aXRsZSI+JyArIGJvb2tUaXRsZSArICc8L2Rpdj4nKTsKICAgICAgICB9CiAgICB9LAoKICAgIC8vID09PT09IOeJueauiueahOiOt+WPluS4i+S4gOmhtemTvuaOpQogICAge3NpdGVOYW1lOiAi55yL5Lmm5ZWmIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3LmthbnNodS5sYS9ib29rL1xcdysvXFxkK1xcLnNodG1sIiwKICAgICAgICB0aXRsZVJlZzogIiguKiktKC4qKS3nnIvkuabllaYiLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIG5leHRVcmw6IGZ1bmN0aW9uKCRkb2MpewogICAgICAgICAgICB2YXIgaHRtbCA9ICRkb2MuZmluZCgnc2NyaXB0OmNvbnRhaW5zKG5leHRfcGFnZSA9ICIpJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL25leHRfcGFnZSA9ICIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9LAogICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uKCRkb2MpewogICAgICAgICAgICB2YXIgaHRtbCA9ICRkb2MuZmluZCgnc2NyaXB0OmNvbnRhaW5zKHByZXZpZXdfcGFnZSA9ICIpJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL3ByZXZpZXdfcGFnZSA9ICIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9CiAgICB9LAogICAge3NpdGVOYW1lOiAi5Lmm6ZiB572RIiwKICAgICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwuYm9va2dld1xcLmNvbS9IdG1sL0Jvb2svXFxkKy9cXGQrL1xcZCtcXC5odG0iLAogICAgICAgIHRpdGxlUmVnOiAiKC4qKS0oLio/KS3kuabpmIHnvZEiLAogICAgICAgIHRpdGxlUG9zOiAxLAogICAgICAgIC8vIHRpdGxlU2VsZWN0b3I6ICIubmV3c3RpdGxlIiwKICAgICAgICBuZXh0VXJsOiBmdW5jdGlvbigkZG9jKXsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhuZXh0cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL25leHRwYWdlPSIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9LAogICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uKCRkb2MpIHsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkZG9jLmZpbmQoJ3NjcmlwdDpjb250YWlucyhwcmV2cGFnZT0pJykuaHRtbCgpOwogICAgICAgICAgICB2YXIgbSA9IGh0bWwubWF0Y2goL3ByZXZwYWdlPSIoLio/KSI7Lyk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbVsxXTsKICAgICAgICB9CiAgICB9LAoKICAgIC8vIHtzaXRlTmFtZTogIumbheaWh+iogOaDheWwj+ivtOWQpyIsICAvLyDkuIDnq6DliIbmrrUKICAgIC8vICAgICB1cmw6ICJeaHR0cHM/Oi8vd3d3XFwueWF3ZW44XFwuY29tL1xcdysvXFxkKy9cXGQrXFwuaHRtbCIsCiAgICAvLyAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQgLnR4dGMiCiAgICAvLyB9CgoJe3NpdGVOYW1lOiflppnnrJTpmIEnLAoJCXVybDogL15odHRwcz86XC9cL3d3d1wubWlhb2JpZ2VcLmNvbVwvLipcLmh0bWwvaSwKCQlzaXRlRXhhbXBsZTonaHR0cDovL3d3dy5taWFvYmlnZS5jb20vYm9vay81XzE1ODYvMTAwNjMyMC5odG1sJywKICAgICAgICAvLyDmnInnmoTkvJrmj5DnpLrpmLLph4fpm4bnq6DoioIKICAgICAgICBmSW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCc8c2NyaXB0PicpCiAgICAgICAgICAgICAgICAudGV4dCgnJChkb2N1bWVudCkudW5iaW5kKCJjb250ZXh0bWVudSBzZWxlY3RzdGFydCIpJykKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICB9LAogICAgICAgIGNvbnRlbnRSZXBsYWNlOiAn5aaZ56yU6ZiB77yM5peg5by556qX77yM5pu05paw5b+r77yM6K6w5L2Pd3d3Lm1pYW9iaWdlLmNvbScsCiAgICAgICAgY29udGVudFBhdGNoOiBmdW5jdGlvbihmYWtlU3R1Yil7CiAgICAgICAgICAgIHZhciB0eHQgPSBmYWtlU3R1Yi5maW5kKCcjY29udGVudCcpLAogICAgICAgICAgICAgICAgbU5ld0xpbms7CgogICAgICAgICAgICBpZiAoMCA9PT0gdHh0LnRleHQoKS50cmltKCkuaW5kZXhPZign6Ziy6YeH6ZuG56ug6IqC77yMJykpIHsKICAgICAgICAgICAgICAgIG1OZXdMaW5rID0gdHh0Lmh0bWwoKS5tYXRjaCgvaHR0cDpcL1wvd3d3XC5taWFvYmlnZVwuY29tXC9ib29rXC8oXGQpXyhcZCspXC8oXGQrKVwuaHRtbC9pKTsKICAgICAgICAgICAgICAgIGlmIChtTmV3TGluaykgewogICAgICAgICAgICAgICAgICAgIHR4dCAuYWRkQ2xhc3MoUkVBREVSX0FKQVgpCiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogJy9qcy9hamF4dHh0LmFzcCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyc2V0OiAnZ2JrJwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSgncG9zdCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZDogbU5ld0xpbmtbMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aWQ6IG1OZXdMaW5rWzNdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lkOiBtTmV3TGlua1sxXQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgn6K+3562J5b6F5Yqg6L294oCmJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9Cgl9LAoKICAgIHtzaXRlTmFtZTogJ+S5pua1t+Wwj+ivtCcsCiAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3XFwuc2h1aGFpXFwuY29tL3JlYWQvXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5wYXRoMiBhOm50aC1vZi10eXBlKDMpJywKICAgICAgIHRpdGxlU2VsZWN0b3I6ICcucmVhZF90b3AgaDEnLAogICAgICAgcHJldlNlbGVjdG9yOiAnLnJlYWQgLnJlYWRfZHduIHAgYTpudGgtb2YtdHlwZSgxKScsCiAgICAgICBpbmRleFNlbGVjdG9yOiAnLnJlYWQgLnJlYWRfZHduIHAgYTpudGgtb2YtdHlwZSgyKScsCiAgICAgICBuZXh0U2VsZWN0b3I6ICcucmVhZCAucmVhZF9kd24gcCBhOm50aC1vZi10eXBlKDMpJywKICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5yZWFkIC50eHQnLAogICAgfSwKICAgIHtzaXRlTmFtZTogIuasouS5kOS5puWuoiIsCiAgICAgICAgIHVybDogIl5odHRwcz86Ly93d3dcXC5oYm9va2VyXFwuY29tL2NoYXB0ZXIvYm9va19jaGFwdGVyX2RldGFpbC9cXGQrIiwKICAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICIuYnJlYWtjcnVtYiA+IGE6bGFzdCIsCiAgICAgICAgIHRpdGxlU2VsZWN0b3I6ICIuYm9vay1yZWFkLWJveCAucmVhZC1oZCBoMyIsCiAgICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICAgdGltZW91dDogNTAwLAogICAgICAgICBjb250ZW50U2VsZWN0b3I6ICIuYm9vay1yZWFkLWJveCAucmVhZC1iZCIsCiAgICAgICAgIGNvbnRlbnRSZW1vdmU6ICIuYm9vay1yZWFkLWJveCAuYmFycmFnZSwgI0pfQnRuR3VpZGUsIC5ib29rLXJlYWQtYm94IC5yZWFkLWJkIGkubnVtLCAuY2hhcHRlciBpLCAuSl9OdW0sIC5udW0sIC5ib29rLXJlYWQtYm94IC5yZWFkLWhkIHA6bnRoLW9mLXR5cGUoMSkgc3BhbiIsCgogICAgICAgICBpbmRleFNlbGVjdG9yOiAiLmJvb2stcmVhZC1wYWdlIGEuYnRuLWxpc3QiLAogICAgICAgICBuZXh0VXJsOiBmdW5jdGlvbiAoJGRvYyl7CiAgICAgICAgICAgIHJldHVybiAkZG9jLmZpbmQoJyNKX0J0blBhZ2VOZXh0JykuYXR0cignZGF0YS1ocmVmJyk7CiAgICAgICAgIH0sCiAgICAgICAgIHByZXZVcmw6IGZ1bmN0aW9uICgkZG9jKXsKICAgICAgICAgICAgcmV0dXJuICRkb2MuZmluZCgnI0pfQnRuUGFnZVByZXYnKS5hdHRyKCdkYXRhLWhyZWYnKTsKICAgICAgICAgfSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICfmo4noirHns5blsI/or7TnvZEnLAogICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3XFwubWlhbmh1YXRhbmdcXC5sYS9cXGQrL1xcZCsvXFxkK1xcLmh0bWwnLAogICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5uYXYgPiBhOm50aC1vZi10eXBlKDMpJywKICAgICAgICAgdGl0bGVTZWxlY3RvcjogJy5yZWFkX3RpdGxlIGgxJywKICAgICAgICAgcHJldlNlbGVjdG9yOiAnLnBhZ2VnbyBhOm50aC1vZi10eXBlKDEpJywKICAgICAgICAgaW5kZXhTZWxlY3RvcjogJy5wYWdlZ28gYTpudGgtb2YtdHlwZSgyKScsCiAgICAgICAgIG5leHRTZWxlY3RvcjogJy5wYWdlZ28gYTpudGgtb2YtdHlwZSgzKScsCiAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJy5jb250ZW50JywKICAgICAgICAgY29udGVudFJlbW92ZTogJ2EsIC5jb250YWRzJywKICAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgICfkuIvovb3mnKzkuabmnIDmlrDnmoR0eHTnlLXlrZDkuabor7fngrnlh7vvvJonLAogICAgICAgICAgICAgJ+acrOS5puaJi+acuumYheivu++8micsCiAgICAgICAgICAgICAn5Y+R6KGo5Lmm6K+E77yaJywKICAgICAgICAgICAgICfkuLrkuobmlrnkvr/kuIvmrKHpmIXor7vvvIzkvaDlj6/ku6XlnKjngrnlh7vkuIvmlrnnmoQuKuiwouiwouaCqOeahOaUr+aMge+8ge+8gScKICAgICAgICAgXSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICfloqjnvJjmloflrabnvZEnLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3dcXC5tb3l1YW53ZW54dWVcXC5jb20veGlhb3NodW8vXFxkKy9cXGQrL1xcZCtcXC5odG0nLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNjaGFwdGVyQ29udGVudCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICB7Iu+8uu+8qO+8oe+8riI6IuaImCJ9LAogICAgICAgICAgIHsiTFUiOiLot68ifSwKICAgICAgICAgICB7Iu+8s++8qO+8r++8teOAgOOAgO+8se+8qe+8oe+8ru+8pyI6IuaJi+aeqiJ9LAogICAgICAgICAgIHsi772T772J44CA772X772B772O772HIjoi5q275LqhIn0sCiAgICAgICBdLAogICAgfSwKICAgIC8vIOW/hemhu+WFiOeUqOmUruebmOeureWktOe/u+mhteWQjuWPmOaIkCBhcnRpY2xlXHJlYWRlciDnmoR1cmzlkI7miY3kuI3kvJrmnInmlq3nq6DnjrDosaEKICAgIHtzaXRlTmFtZTogIuagvOagvOWFmiIsCiAgICAgICAgdXJsOiAnaHR0cDovL3d3d1xcLmdnZG93blxcLmNvbS9tb2R1bGVzL2FydGljbGUvcmVhZGVyXFwucGhwXFw/YWlkPS4qJywKICAgICAgICBzaXRlRXhhbXBsZTogJ2h0dHA6Ly93d3cuZ2dkb3duLmNvbS9tb2R1bGVzL2FydGljbGUvcmVhZGVyLnBocD9haWQ9NDE0OTAmY2lkPTEzODMzMzkzJywKICAgICAgICBpbmRleFNlbGVjdG9yOiAnLmxpbmsueGIgYTpjb250YWlucygi6L+U5Zue5YiX6KGoIiknLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogIiNCb29rVGV4dCIsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+iusOS9j+aIkeS7rOeahOe9keWdgOWZouOAgueZvuW6puaQnDvmoLzvvIHvvIHmoLzvvIHvvIHlhZou5oiW6ICF55u05o6l6L6T5Z+f5ZCNL2cvZy9kL28vdy9uLy4vYy9vL20nLAogICAgICAgIF0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICIyMzPoqIDmg4UiLAogICAgICAgIHVybDogJ2h0dHA6Ly8yMzN5cVxcLmNvbS94aWFvc2h1by8uKi8uKlxcLmh0bWwnLAogICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovLzIzM3lxLmNvbS94aWFvc2h1by9Vc1JBX21mTExjVS9jd3NNOHQyaWJXRS5odG1sJywKICAgICAgICB0aXRsZVNlbGVjdG9yOiAnLmJuYW1lIGgxJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5iMjEgaDM6Zmlyc3QoKScsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiLmNuIiwKICAgICAgICBjb250ZW50UmVtb3ZlOiAnLmJvdHRlbScsCiAgICB9LAogICAge3NpdGVOYW1lOiAi56yU6Laj6ZiBIiwKICAgICAgICB1cmw6IC9eaHR0cHM/OlwvXC93d3dcLmJpcXVnZVwuY29tXC50d1wvXGQrX1xkK1wvXGQrLmh0bWwvLAogICAgICAgIHNpdGVFeGFtcGxlOiAnaHR0cDovL3d3dy5iaXF1Z2UuY29tLnR3LzE3XzE3NzY4LzgyODA2NTYuaHRtbCcsCiAgICAgICAgY29udGVudFNlbGVjdG9yOiAiI2NvbnRlbnQiCiAgICB9LAogICAge3NpdGVOYW1lOiAn5aSn5Li75a6w5bCP6K+0572RJywKICAgICAgICB1cmw6ICd3d3dcXC5kYWl6aHV6YWlcXC5jb20vXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICAgYm9va1RpdGxlU2VsZWN0b3I6ICcucmVhZGJveCBhcnRpY2xlIC5pbmZvIHNwYW46bnRoLW9mLXR5cGUoMSkgYScsCiAgICAgICAgdGl0bGVTZWxlY3RvcjogJy5yZWFkYm94IGFydGljbGUgLnRpdGxlIGgxIGEnLAogICAgICAgIHByZXZTZWxlY3RvcjogJy5yZWFkYm94IC5vcGVyYXRlIGxpOm50aC1vZi10eXBlKDEpIGEnLAogICAgICAgIGluZGV4U2VsZWN0b3I6ICcucmVhZGJveCAub3BlcmF0ZSBsaTpudGgtb2YtdHlwZSgyKSBhJywKICAgICAgICBuZXh0U2VsZWN0b3I6ICcucmVhZGJveCAub3BlcmF0ZSBsaTpudGgtb2YtdHlwZSgzKSBhJywKICAgICAgICB1c2VpZnJhbWU6IHRydWUsCiAgICAgICAgbXV0YXRpb25TZWxlY3RvcjogIiNjaGFwdGVyY29udGVudCIsCiAgICAgICAgbXV0YXRpb25DaGlsZENvdW50OiAyLAogICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcucmVhZGJveCBhcnRpY2xlIC5jb250ZW50JywKICAgICAgICBjb250ZW50UmVtb3ZlOiAnJywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICB7ICfjgIImJzogJ+OAgicgfSwKICAgICAgICAgICAgJ+KWs+eVquiMhOWwj+iqquKXi+e2suKYhicsCiAgICAgICAgICAgICfimIYg55Wq6IyE4peL4paz5bCP6Kqq57ayJywKICAgICAgICAgICAgJ+eVquiMhOWwj+iqque2suKYhicsCiAgICAgICAgXSwKICAgIH0sCiAgICB7c2l0ZU5hbWU6ICLloqjnvJjmloflrabnvZEiLAogICAgICAgIHVybDogIl5odHRwOi8vd3d3XFwubXl3ZW54dWVcXC5jb20veGlhb3NodW8vXFxkKy9cXGQrL1xcZCtcXC5odG0iLAogICAgICAgIGJvb2tUaXRsZVNlbGVjdG9yOiAnI2h0bWx0aW11IGgxIGEnLAogICAgICAgIHRpdGxlU2VsZWN0b3I6ICIjaHRtbHRpbXUgaDIgc3BhbiIsCiAgICAgICAgcHJldlNlbGVjdG9yOiAiLnBhcGdidXR0b24gYTpudGgtb2YtdHlwZSgxKSIsCiAgICAgICAgaW5kZXhTZWxlY3RvcjogIi5wYXBnYnV0dG9uIGE6bnRoLW9mLXR5cGUoMikiLAogICAgICAgIG5leHRTZWxlY3RvcjogIi5wYXBnYnV0dG9uIGE6bnRoLW9mLXR5cGUoMykiLAogICAgICAgIHVzZWlmcmFtZTogdHJ1ZSwKICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuY29udGVudGJveCA+IC5jb250ZW50Ym94JywKICAgICAgICBjb250ZW50UmVtb3ZlOiAic3Ryb25nLCBhIiwKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICB7ICfvvLrvvKjvvKHvvK4nOiAn5oiYJyB9LAogICAgICAgICAgICB7ICdTSeiuric6ICfmgJ3orq4nIH0sCiAgICAgICAgICAgIHsgJ+aEj1NJJzogJ+aEj+aAnScgfSwKICAgICAgICAgICAgeyAn772T772J44CA772X772B772O772HJzogJ+atu+S6oScgfSwKICAgICAgICAgICAgeyAn77yk77yp77yu77yn5aW9JzogJ+WumuWlvScgfSwKICAgICAgICAgICAgeyAn5aS66IiN77yz77yo77ypJzogJ+WkuuiIjeW8jycgfSwKICAgICAgICAgICAgeyAn5oub77yz77yo77ypJzogJ+aLm+W8jycgfSwKICAgICAgICAgICAgeyAn5Yi277yz77yo77ypJzogJ+WItuW8jycgfSwKICAgICAgICAgICAgeyAn5q2j77yz77yo77ypJzogJ+ato+W8jycgfSwKICAgICAgICAgICAgeyAn6I+c77yz77yo77ypJzogJ+iPnOW8jycgfSwKICAgICAgICAgICAgeyAnTFXkuIonOiAn6Lev5LiKJyB9LAogICAgICAgICAgICB7ICfmnaFMVSc6ICfmnaHot68nIH0sCiAgICAgICAgICAgIHsgJ+mprExVJzogJ+mprOi3rycgfSwKICAgICAgICAgICAgJ+abtOWkmuivt+eZu+W9leWiqOe8mOaWh+Wtpue9kS4q5qyi6L+O5oKo55qE5p2l6K6/ICZndDsmZ3Q7Jmd0OycsCiAgICAgICAgICAgICfmm7TlpJror7fnmbvlvZXloqjnvJjmloflrabnvZEuKuasoui/juaCqOeahOadpeiuv1xcWyAuKiBcXF0nLAogICAgICAgICAgICAnXFwoIGh0dHAuKuWiqOe8mOaWh+Wtpue9kSBcXCknLAogICAgICAgIF0sCiAgICB9LAogICAge3NpdGVOYW1lOiAn5aSn5rW35Lit5paHJywKICAgICAgICB1cmw6ICdodHRwOi8vd3d3XFwuZGh6d1xcLm9yZy9ib29rL1xcZCsvXFxkKy9cXGQrXFwuaHRtbCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgJ+aBi+S4iuS9oOeci+S5pue9kSA2MzBib29rbGEuKicsCiAgICAgICAgXQogICAgfSwKICAgIHtzaXRlTmFtZTogJ+eIseS4iuS5puWxiycsCiAgICAgICAgdXJsOiAnaHR0cHM/Oi8vd3d3LjIzc3cubmV0L1xcZCsvXFxkKy9cXGQrLmh0bWwnLAogICAgICAgIHRpdGxlUmVnOiAvKC4qPykgKC4qPyksLywKICAgICAgICBjb250ZW50UmVwbGFjZTogWwogICAgICAgICAgICAnXFxbd3d3LjIzc3cubmV0XFxdJywKICAgICAgICBdCiAgICB9LAogICAge3NpdGVOYW1lOiAn5Lmm6L2p572RJywKICAgICAgICB1cmw6ICdeaHR0cHM/Oi8vd3d3LmJvb2t4dWFuLmNvbS9cXGQrX1xcZCsvXFxkKy5odG1sJywKICAgICAgICBib29rVGl0bGVTZWxlY3RvcjogJy5jb25fdG9wIGE6bGFzdCcsCiAgICAgICAgY29udGVudFJlcGxhY2U6IFsKICAgICAgICAgICAgeyAnJmFtcDtxdW90Oyc6ICciJywgfSwKICAgICAgICAgICAgJ2dldHJlYWRzZXQ7JywKICAgICAgICAgICAgLy8gJyZsdDtkaXYgY2xhc3M9JnF1b3Q7ZGl2aW1hZ2UmcXVvdDsmZ3Q7Jmx0O2ltZyBzcmM9JnF1b3Q7JywKICAgICAgICAgICAgJyZsdDtkaXYgY2xhc3M9ImRpdmltYWdlIiZndDsmbHQ7aW1nIHNyYz0iJywKICAgICAgICBdLAogICAgICAgIGNvbnRlbnRQYXRjaDogZnVuY3Rpb24oJGRvYykgewogICAgICAgICAgICAkZG9jLmZpbmQoJyNjb250ZW50W3RpdGxlPSLkuabvvIzovanvvIznvZEiXScpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB7c2l0ZU5hbWU6ICflpKflrrbor7vkuabpmaInLAogICAgICAgIHVybDogJ15odHRwcz86Ly93d3cuZGFqaWFkdS5uZXQvZmlsZXMvYXJ0aWNsZS9odG1sL1xcZCsvXFxkKy9cXGQrLmh0bWwnLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogJyNjb250ZW50LCAjY29udGVudDEnLAogICAgICAgIGNvbnRlbnRSZW1vdmU6ICcuY29weScsCiAgICB9LAoKICAgIC8vIOenu+WKqOeJiAogICAge3NpdGVOYW1lOiAi5o6M6ZiF5omL5py6572RIiwKICAgICAgICB1cmw6ICJodHRwcz86Ly93YXBcXC55Y1xcLmlyZWFkZXJcXC5jb21cXC5jbi9ib29rL1xcZCsvXFxkKy8iLAogICAgICAgIHRpdGxlUmVnOiAiKC4qPyksLio/5L2c5ZOBIC0g5o6M6ZiF5bCP6K+0572RIiwKICAgICAgICB0aXRsZVBvczogMCwKICAgICAgICB0aXRsZVNlbGVjdG9yOiAiaDQiLAogICAgICAgIGNvbnRlbnRTZWxlY3RvcjogImRpdi50ZXh0IiwKICAgIH0sCgpdOwoKLy8gPT09PT0g5bCP6K+05ou86Z+z5a2X44CB5bGP6JS95a2X5L+u5aSNID09PT09Ci8vIOi/kOihjOWcqOacquabv+aNoiA8YnI+IOS5i+WJje+8jC4qIOWPr+iDveS8mumAoOaIkOWFqOmDqOabv+aNogpSdWxlLnJlcGxhY2UgPSB7CiAgICAvLyA9PT3moLzlvI/mlbTnkIY9PT0KICAgIC8vICJcXCh8XFxbfFxce3zvvIh844CQfO+9myI6Iu+8iCIsCiAgICAvLyAiXFwpfFxcXXxcXH1877yJfOOAkXzvvZ0iOiLvvIkiLAoKICAgIC8vIOmcgOimge+8nwogICAgIiwiOiAi77yMIiwKICAgIC8vICI6IjogIu+8miIsICJcXD8iOiLvvJ8iLCAgLy8g5Lya6YCg5oiQ6LW354K555qE5Zu+54mH5peg5rOV5pu/5o2iCgogICAgIlxcKnzvvIoiOiIqIiwKICAgICJbd1fvvZfvvLddezN9Ijoid3d3IiwKICAgICJ3ezN9KFx1MzAwMXxcdTMwMDIpIjoid3d3LiIsCiAgICAiW2ND772D77yjXVtvT++9j++8r11bbU3vvY3vvK1dIjoiY29tIiwKICAgICJbbk7vvY7vvK5dW2XvvYVF77ylXVt0772UVO+8tF0iOiJuZXQiLAogICAgIltjQ++9g++8o11bbk7vvY7vvK5dIjoiY24iLAogICAgIihcXC58XHUzMDAxfFx1MzAwMiljb20iOiIuY29tIiwKICAgICIoXFwufFx1MzAwMXxcdTMwMDIpbmV0IjoiLm5ldCIsCiAgICAiKFxcLnxcdTMwMDF8XHUzMDAyKWNuIjoiLmNuIiwKICAgICJbcFDvvZDvvLBdW3NT772T77yzXVs677yaXSI6InBzOiIsCiAgICAi44CCezUsN30iOiLigKbigKYiLCJ+ezIsNTB9Ijoi4oCU4oCUIiwi4oCmezMsNDB9IjogIuKApuKApiIsIu+8jXszLDIwfSI6IuKAlOKAlCIsCiAgICAvLyLjgIIoLHzvvIx844CCKSI6ICLjgIIiLAogICAgLy8gIu+8nygsfO+8jCkiOiAi77yfIiwKICAgIC8vIuKAnSgsfO+8jHzjgIIpIjogIuKAnSIsCiAgICAiQHszLH0iOiAiIiwKCiAgICAvLyA9PT0g5q615pyr55qE5aSa5L2Z55qEciA9PT0KICAgICJcXFxccjxicj4iOiI8YnI+IiwKCiAgICAvLyA9PT0g5LiA5Lqb54m55q6K55qE5pu/5o2iID09PQogICAgIlxcWytDUC4qKGh0dHA6Ly9maWxlLipcXC5qcGcpXFxdKyI6ICI8aW1nIHNyYz0nJDEnPiIsCiAgICAi44COKC4p44CPIjogIiQxIiwgIC8vICLjgI7oibLjgI8iOiAi6ImyIiwKCiAgICAvLyA9PT0g5Y675bm/5ZGKID09PQogICAgIlxcW+aQnOe0ouacgOaWsOabtOaWsOWwveWcqFthLXpcXC5dK1xcXSI6ICIiLAogICAgIjxhPuaJi+acuueUqOaIt+ivt+WIsG0ucWlkaWFuLmNvbemYheivu+OAgjwvYT4iOiAiIiwKICAgICIuezIsNH3kuK3mlofnvZHmrKLov47lub/lpKfkuablj4siOiAiIiwKICAgICLorr/pl67kuIvovb10eHTlsI/or7R84peO6Zuy5L6G6Zaj5YWN6LS55LiH5pysbS55dW5sYWlnZS5jb23il44iOiIiLAogICAgIuOAluKIt+abtOaWsOW/q+KIt+aXoOW8ueeql+KIt+e6r+aWh+Wtl+KIty4qP+OAlyI6ICIiLAogICAgJ+i2heW/q+eos+WumuabtOaWsOWwj+ivtFss77yMXSc6JycsICLmnKzmlofnlLHjgIDjgILjgILjgIDpppblj5EiOiIiLAogICAgJ+KAneWwj+ivtOKAnOWwj+ivtOeroOiKguabtOaWsOacgOW/qyc6ICcnLAogICAgJ+WmguaenOinieW+l+Wlveeci++8jOivt+aKiuacrOermee9keWdgOaOqOiNkOe7meaCqOeahOaci+WPi+WQp++8gSc6ICcnLAogICAgJ+acrOermeaJi+acuue9keWdgO+8miZuYnNwOyZuYnNwO+ivt+S6kuebuOmAmuefpeWQkeaCqFFR576k44CQ5b6u5Y2aL+W+ruS/oeOAkeiuuuWdm+i0tOWQp+aOqOiNkOWuo+S8oOS7i+e7jSEnOiAnJywKICAgICJmcVhTd1xcLmNvbSI6IiIsICJcXC41772E772VfFxcLu+8lWR177yVXFwuIjoiIiwKICAgICJcXFtcXF0iOiIiLAogICAgIuWmguaenOaCqOinieW+l+e9keS4jemUmeWwseWkmuWkmuWIhuS6q+acrOermeiwouiwouWQhOS9jeivu+iAheeahOaUr+aMgSI6ICIiLAogICAgIuWFqOaWh+Wtl+aXoOW5v+WRinxcXCjnnIvkuabnqp0mbmJzcDvnnIvkuabnqp0mbmJzcDvml6DlvLnnqpflhajmlofpmIXor7tcXCkiOiAiIiwKICAgICLjgILjgIIrW1xcc+OAgF0q55yL5pyA5paw5pyA5YWo5bCP6K+0IjogIiIsCiAgICAi5rC05Y2w5bm/5ZGK5rWL6K+VIjogIiIsCiAgICAiXFwo5bmz5Y2X5paH5a2m572RXFwpIjoiIiwgICLoroDolbbolbblsJDoqqrntrIiOiIiLAogICAgIuavlOWlh+aPkOekuu+8muWmguS9leW/q+mAn+aQnOiHquW3seimgeaJvueahOS5puexjSI6IiIsICAi44CK55m+5bqm5Lmm5ZCNXFwr5q+U5aWH44CL5Y2z5Y+v5b+r6YCf55u06L6+IjoiIiwKICAgICJ+5pegfumUmX7lsI9+6K+0IjogIiIsCgogICAgIlxcKOS4gOenkuiusOS9j+Wwj+ivtOeVjFxc77yJfFxcKuS4gOenkuiusOS9j1xcKiI6IiIsCiAgICAidXV0eHRcXC5vcmd8M3Zib29rXFwuY258d3d3XFwucWJ3eFxcLmNvbXxXV3dcXC5ZYU5rdWFpXFwuY29tfHd3d1xcLmJ0endcXC5jb218d3d3XFwuMjN1U1xcLmNvbSI6ICIiLAogICAgInR4dDUzNzEyLyI6ICIiLAogICAgIlx4YTB7NCwxMn0iOiJceGEwXHhhMFx4YTBceGEwXHhhMFx4YTBceGEwIiwKCiAgICAvLyA9PT0g6YCa55So5Y675bm/5ZGKCiAgICAiW3fvvZfvvLddezEsM31b77yOXFwuXe+8ku+8k++9le+8s1vvvI5cXC5dKD86772D772P77ytfGNvbSkiOiAiIiwKCiAgICAvLyA9PT0g5pif5Y+35bGP6JS95a2X6L+Y5Y6fID09PQogICAgIuWNgeaciShcXCp7Mn0pIjoi5Y2B5pyJ5YWr5LmdIiwi5Y2B5pyJYsSBJ+S5nSI6IuWNgeacieWFq+S5nSIsICAiXFwqezJ95LiN56a75Y2BIjoi5YWr5Lmd5LiN56a75Y2BIiwKICAgICJHKFxcKnsyfSkiOiJHU00iLCAi5oSfKFxcKnsyfSnlvakiOiLmhJ/mg4XoibLlvakiLAogICAgIuW8uihcXCp7Mn0pdTVCOUQiOiLlvLrlpKfms5Xlrp0iLAogICAgIihcXCp7Mn0p5Yeh6IOOIjogIuiCieS9k+WHoeiDjiIsCiAgICAiKFxcKns0fSnnnYAiOiLotaToo7jnnYAiLAogICAgIihcXCp7Mn0p6KO4Ijoi6LWk6KO46KO4IiwKICAgICLmnqooXFwqezR9KSI6IuaequWPkeWwhCIsCiAgICAiKFxcKns0fSnogIzlh7oiOiLllrflsITogIzlh7oiLAogICAgIuWBtyhcXCp7Mn0pIjoi5YG35YG355SoIiwKICAgICIoXFwqezJ9KeS5i+asoiI6IumxvOawtOS5i+asoiIsCiAgICAiKFxcKnsyfSnpmJ8iOiLlm73lhpvpmJ8iLAogICAgIihcXCp7Mn0p6IiwIjoi5Zu95Yab6IiwIiwKICAgICLmmrQoXFwqezJ9KeiwiyI6IuaatOmcsumYtOiwiyIsCiAgICAi5aS65Y+W5aW555qEKFxcKnsyfSkiOiLlpLrlj5blpbnnmoTogonkvZMiLAogICAgIuWkuuWPluS7lueahChcXCp7Mn0pIjoi5aS65Y+W5LuW55qE6IKJ5L2TIiwKICAgICIoXFwqezJ9KeS4jueyvuelniI6IuiCieS9k+S4jueyvuelniIsCiAgICAi55qEKFxcKnsyfSnmmK/ml6DmraLlooPnmoQiOiLnmoTmrLLmnJvmmK/ml6DmraLlooPnmoQiLAogICAgIumCquaBtueahChcXCp7Mn0pIjoi6YKq5oG255qE5qyy5pybIiwKICAgICLooqsoXFwqezJ9KeaUr+mFjSI6Iuiiq+assuacm+aUr+mFjSIsCiAgICAi5o6A5qGM55qEKFxcKnsyfSkiOiLmjoDmoYznmoTmrLLmnJsiLAoKICAgIC8vID09PSDlpJrlrZfmm7/mjaIgPT09CiAgICAiY2Fv5LmL6L+H5oClIjoi5pON5LmL6L+H5oClIiwgImNodW5ndWFuZ+Wkp+azhCI6IuaYpeWFieWkp+azhCIsCiAgICAi5aSn5YWs5pegc2kiOiLlpKflhazml6Dnp4EiLAogICAgImZ16YGT5Lq65a62Ijoi5aaH6YGT5Lq65a62IiwgIuaUvnPFjW5nJ3hpw6DmnaUiOiLmlL7mnb7kuIvmnaUiLAogICAgIuWluHlpbuaOs+aOoCI6IuWluOa3q+aOs+aOoCIsCiAgICAi56m6ZGFuZ2RhbmciOiLnqbrojaHojaEiLAogICAgIueqgeWPkXFpbmflhrUiOiAi56qB5Y+R5oOF5Ya1IiwKICAgICJ5aW7lpYnpmLPov50iOiLpmLTlpYnpmLPov50iLCAi5LiAeWlu5LiA6ZizIjoi5LiA6Zi05LiA6ZizIiwKCiAgICAvLyA9PT0g5Y+M5a2X5pu/5o2iID09PQogICAgIuaap21bZcOoXVtpw6xdIjoi5pqn5pinIiwKICAgICJiw6BuXFxzKmbHjiI6IuWKnuazlSIsICJidWN1byI6IuS4jemUmSIsICLkuI1sacOhbmciOiLkuI3oia8iLCAiYlvEm2VdaShcXHN8Jm5ic3A7KSpqW8SraV1uZyI6IuWMl+S6rCIsIuWNinNoZW4iOiAi5Y2K6LqrIiwgImJbw6xpXWpbw6xpXW5nIjoi5q+V56ufIiwgIuaKpSjkuoY/KWppbmciOiLmiqUkMeitpiIsICJiw6hpJ3DDsiI6Iuiiq+i/qyIsICLljIV5x45uZyI6IuWMheWFuyIsICIoPzpiaceOb3zlqYpcXFxcPynlrZAiOiLlqYrlrZAiLCAiYmnHjm9cXHMqeGnDoG5cXHMqIjoi6KGo546wIiwKICAgICJjaGlmYW4iOiLlkIPppa0iLCAiY2hbb8WNXW5nZFtvw7JdbmciOiLlhrLliqgiLCAiY2hvbmfniakiOiLlrqDniakiLCAiY2FvKOe7g3zkvZwpIjoi5pONJDEiLCAi5Ye6Z3VpIjoi5Ye66L2oIiwgImNodVxccyp4aWFuIjoi5Ye6546wIiwgIue8oG1pYW4iOiAi57yg57u1IiwgIuaIkHNodSI6ICLmiJDnhp8iLCAiKD866LWkfGNoaSlcXHMqbHVbb8eSXSI6ICLotaToo7giLCAi5pilZ3VhbmciOiAi5pil5YWJIiwgImNodW7po44iOiLmmKXpo44iLCAiY2h1YW5n5Ly0Ijoi5bqK5Ly0IiwgIuayiW1pIjoi5rKJ6L+3IiwgIuayiWx1biI6IuayieaypiIsICLliLpqaSI6IuWIuua/gCIsICJjaGFv57qiIjoi5r2u57qiIiwgIuWInWNodW4iOiLliJ3mmKUiLCAi77yC772D772I772J44CA772M772V772P77yCIjoi6LWk6KO4IiwKICAgICJkxIFuXFxzKnjEq24iOiLlvZPlv4MiLCAiZGFuZ+agoSI6ICLlhZrmoKEiLCAiZGHlrZAiOiAi6Z6R5a2QIiwgIuWkp3R1aSI6IuWkp+iFvyIsICJkx45cXHMqc3XDoG4iOiLmiZPnrpciLCAiZGVuZ2RhaSI6IuetieW+hSIsICLnlLVodcOgIjoi55S16K+dIiwgImRpYW/kuJ0iOiAi5bGM5LidIiwgImRbw7p1XSg/Olxcc3wmbmJzcDt8PGJyLz4pKmxbw6xpXSI6ICLni6znq4siLCAiZFt1w7pdXFxzezAsMn1jW8OhYV1pIjoi54us6KOBIiwgICJkP1tpw6xdZlvEgWFdbmciOiLlnLDmlrkiLCAiZFvDrGldXFxzKmRbxat1XSI6IuW4nemDvSIsICJkaeWbvXzluJ1ndW8iOiLluJ3lm70iLCAiZHVbb8OyXeiQvSI6IuWgleiQvSIsICLlnaBsdcOyIjoi5Z2g6JC9IiwKICAgICJmW8eOYV1uZ2Zbw7NvXSI6IuS7v+S9myIsICJmZWnouKIiOiAi6aOe6LiiIiwgImZlbmfmtYEiOiAi6aOO5rWBIiwgIumjjmxpdSI6ICLpo47mtYEiLCAiZlvDqGVdbm5bw7l1XSI6IuaEpOaAkiIsICJmx45uXFxzKnnEq25nIjoi5Y+N5bqUIiwKICAgICJnYW/mva4iOiAi6auY5r2uIiwgIumrmOawteacnSI6IumrmOa9riIsICJnxIFvXFxzKnjDrG5nXFxzKiI6IumrmOWFtCIsICLlubJjaGFpIjogIuW5suaftCIsICLli755aW4iOiLli77lvJUiLCAiZ3Vbb8OyXWNoW8OpZV1uZyI6Iui/h+eoiyIsICJndVvEgWFdblxccyp4W2nDrF0iOiLlhbPns7siLCAiZ1vHjmFdbmppW8OgYV1vIjoi5oSf6KeJIiwgIuWbvXd16ZmiIjoi5Zu95Yqh6ZmiIiwgImfDuVxccyp5w6xcXHMqIjoi5pWF5oSPIiwgImd1b2ZlbiI6Iui/h+WIhiIsCiAgICAiaMSBXFxzKmjEgVxccyoiOiLlk4jlk4giLCAiaFthx45db2RlIjoi5aW955qEIiwgImjDueWjqyI6IuaKpOWjqyIsICLngatxaWFuZyI6IueBq+aeqiIsICJow6EnZ3XDsyI6IumfqeWbvSIsICJoYW7kvY8iOiAi5ZCr5L2PIiwgImhhaea0m+WboCI6ICLmtbfmtJvlm6AiLCAi57qiZmVuIjogIue6oueyiSIsICLngat5YW8iOiAi54Gr6I2vIiwgImhbx45hXW94aVvDoGFdbmciOiLlpb3lg48iLCAiaHVbw6FhXW5nc1vDqGVdIjoi6buE6ImyIiwgIueah2Rbw6xpXSI6Iueah+W4nSIsICLmmI/mmI95deedoSI6IuaYj+aYj+assuedoSIsICLlm55kYW5nIjoi5Zue6I2hIiwgImh1w61cXHMqccO5XFxzKiI6IuWbnuWOuyIsICJow6lcXHMqc2jDrFxccyoiOiLlkIjpgIIiLAogICAgImppYW4o6IejfOe7hikiOiLlpbgkMSIsICLlpbh5aW4iOiLlpbjmt6siLCAiamnDoG5tacOgbiI6IuingemdoiIsICJqaWFu6LSnIjoi6LSx6LSnIiwgImppbmflr58iOiLorablr58iLCAialvDrGldbmjDoW5nIjoi6L+b6KGMIiwgImrEq25nXFxzKmd1w7IiOiLnu4/ov4ciLCAiamnng4giOiLmv4Dng4giLCAialtpw6xdKG52fOWlsykiOiAi5aaT5aWzIiwgImppcm91IjogIum4oeiCiSIsICJqaeiAhSI6IuiusOiAhSIsICJqw6xcXHMqeMO5XFxzKiI6Iue7p+e7rSIsICJqdeiKsSI6IuiPiuiKsSIsImpbxKtpXeWKqCI6Iua/gOWKqCIsICJqaWxpW8OoZV0iOiLmv4Dng4giLCAi6IKMclvDsm9ddSI6IuiCjOiCiSIsImpp5bCEIjoi5r+A5bCEIiwgImppW8STZV1jaFt1w7ldIjoi5o6l6KemIiwgImppw7lcXHMqc2jDrCI6IuWwseaYryIsICJqW8O5dV1saVvDqGVdIjogIuWJp+eDiCIsICJqx5BuZ+aDlSI6ICLorabmg5UiLCAi6IqCY2FvIjoi6IqC5pONIiwgIua1uHlpbiI6Iua1uOa3qyIsICJqw7lcXHMqanXDqVxccyoiOiLmi5Lnu50iLCAianVl6ImyIjoi6KeS6ImyIiwKICAgICJrW8SbZV1uW8OpZV1uZyI6ICLlj6/og70iLCAi5byAYmFvIjogIuW8gOiLniIsICAia1vDoGFdb+i/kSI6ICLpnaDov5EiLCAi5Y+jd2VuIjoi5Y+j5ZC7IiwgImthbmthbiI6Iueci+eciyIsCiAgICAibGluZ+i+sSI6ICLlh4zovrEiLCAibHVhbuibiyI6ICLljbXom4siLCAi6IS4c8OoIjogIuiEuOiJsiIsICJsdeWHuiI6IumcsuWHuiIsICLmtYFtw6FuZyI6Iua1geawkyIsICJsdW7nkIYiOiLkvKbnkIYiLCAibMOsXFxzKnHDrCI6IuWKm+awlCIsCiAgICAibVvHjmFdbnlbw6xpXSI6Iua7oeaEjyIsICJtW8eOYV1zaFvDoGFdbmciOiLpqazkuIoiLCAibVvDqWVdaXlbb8eSXXUiOiLmsqHmnIkiLCAibWVp5Zu9IjogIue+juWbvSIsICJtW8OtaV1uZ2Jbw6FhXWkiOiLmmI7nmb0iLCAi6L+3aHVhbiI6ICLov7flubsiLCAibWnojKsiOiLov7fojKsiLCAibcOzXFxzKnnDoG5nIjoi5qih5qC3IiwgIm1bw61pXW5cXHN7MCwyfXpoW8eUdV0iOiAi5rCR5Li7IiwgIui/t2ppYW4iOiAi6L+35aW4IiwgIm1pbWnns4rns4oiOiLov7fov7fns4rns4oiLCAi5pyrKD86XFxzfDxici8/Pikqw6wiOiLmnKvml6UiLCAi6Z2ic2UiOiLpnaLoibIiLCAibWVuZ21lbmciOiLokpnokpkiLAogICAgIm7DoG1lIjoi6YKj5LmIIiwgIm5bx45hXW9cXHMqZFvDoGFdaSI6IuiEkeiiiyIsICJuW8OpZV1uZ2dbb8OyXXUiOiLog73lpJ8iLCAibsOhblxcc3swLDJ9aMeOaSI6ICLpgqPkvJoiLCAi5YaFamlhbiI6IuWGheWluCIsICJb5YaF5YWnXXlbacSrXSI6IuWGheihoyIsICLlhoVrdSI6IuWGheijpCIsCiAgICAicGlbw6FhXW/lrqIiOiLlq5blrqIiLCAicFvDoWFdbmdiaVvEgWFdbiI6IuaXgei+uSIsCiAgICAicVvDrWldZ3Vbw6BhXWkiOiLlpYfmgKoiLCAicWluZ1xccyoocmVufOS6uikiOiLmg4XkuroiLCAicWlu5YW9Ijoi56a95YW9IiwgInFbacSrXW5nY2hbdceUXSI6Iua4healmiIsICJxdcOoXFxzKmTDrG5nIjoi56Gu5a6aIiwgIueQg21pIjoi55CD6L+3IiwgIumdkmNodW4iOiLpnZLmmKUiLCAi6Z2SbG91Ijoi6Z2S5qW8IiwgInFpbmdrdWFuZyI6IuaDheWGtSIsICJxaWFuZ1vjgIBcXHNdKmppYW4iOiLlvLrlpbgiLAogICAgInJlXFxzKm5hbyI6IueDremXuSIsICJyW8O6dV1ndVtvx5JdIjoi5aaC5p6cIiwgInJbb8OzXW5neVvDrGldIjoi5a655piTIiwgInJ1KOaIv3znmb3oibIpIjogIuS5syQxIiwgInLDqW7lkZgiOiLkurrlkZgiLCAicsOpbuW9oiI6IuS6uuW9oiIsICLkurpjaGFvIjoi5Lq65r2uIiwgICJyZW5tZW4iOiLkurrlkI0iLAogICAgIuS4imppYW5nIjoi5LiK5bCGIiwgInNoZSjpl6h85pyvfOaJi3znqIt85Ye7KSI6IuWwhCQxIiwgInN1ZHUiOiLpgJ/luqYiLCAic2h1aWp1ZSI6IuedoeiniSIsICJzaGlkZSI6IuaYr+eahCIsICJzaFtpw6xdamlbZcOoXSI6IuS4lueVjCIsICJzaFtpw61damlbYcSBXW4iOiLml7bpl7QiLCAic2hbacOtXWhbb8OyXXUiOiAi5pe25YCZIiwgInNoW2nDrV1tZSI6IuS7gOS5iCIsICJzaeS6uiI6IuengeS6uiIsICJzaGnlpbMiOiLkvo3lpbMiLCAic2hp6LqrIjogIuWksei6qyIsICJzaFvFq3VdalvDrGldIjoi5Lmm6K6wIiwgInNodeWlsyI6ICLnhp/lpbMiLCAic2h1W+OAgFxcc10/eGlvbmciOiLphaXog7giLCAiKD865LiKfHNoYW5nKWNodWFuZyI6ICLkuIrluooiLCAi5ZG7eVvDrWldbiI6ICLlkbvlkJ8iLCAic2hbxJNlXW5nemhbw61pXSI6ICLnlJ/mrpYiLCAi5rexZ3UiOiAi5rex6LC3IiwgIuWPjHhpdSI6ICLlj4zkv64iLCAi55SfclvDrGldIjogIueUn+aXpSIsICJzaeebkCI6IuengeebkCIsICJzaGnljasiOiLkvo3ljasiLCAic2nkuIsiOiLnp4HkuIsiLCAic2Fv5omwIjoi6aqa5omwIiwgIu+9k++9iO+9le+9ge+9ju+9h+OAgO+9hu+9he+9ju+9hyI6IuWPjOWzsCIsCiAgICAidFt1xatdclvDoWFdbiI6IueqgeeEtiIsICJ0aWFvamlhbyI6ICLosIPmlZkiLCAi5YG3cWluZyI6IuWBt+aDhSIsICLmjqhkYW8iOiAi5o6o5YCSIiwgIuiEsWd1YW5nIjogIuiEseWFiSIsICJ0W8OoZV1iaVvDqWVdIjoi54m55YirIiwgInRbxY1vXW5nZ3Vbw7JvXSI6IumAmui/hyIsICLlkIxqdSI6IuWQjOWxhSIsICJ0aWFu5p2ldGlhbuWOuyI6IuiIlOadpeiIlOWOuyIsCiAgICAid1vEk2VdaXhpW8OpZV0iOiLlqIHog4EiLCAid8OoaXpoW8OsaV0iOiLkvY3nva4iLCAid2Vp5ZGYIjoi5aeU5ZGYIiwgIndbw6hlXW50aSI6IumXrumimCIsICJ3w6hpXFxzKmTDoG9cXHMqIjoi5ZGz6YGTIiwgInfDulxccypuw6BpIjoi5peg5aWIIiwgIndlaWxhaSI6IuacquadpSIsCiAgICAieGl16ZW/IjogIuS/rumVvyIsICLkurVkdSI6ICLkurXmuI4iLCAieGluZ+emjyI6ICLlubjnpo8iLCAi5bCPYm8iOiLlsI/ms6IiLCAi5bCPbmnFqyI6IuWwj+WmniIsICJ4aW9uZyhbXmEtel0pIjoi6IO4JDEiLCAi5bCPdHVpIjoi5bCP6IW/IiwgInhpYW5n5rivIjoi6aaZ5rivIiwgInhpw6BvaHXDoCI6IueskeivnSIsICJ4acOgblxcJ3pow6wiOiLpmZDliLYiLCAieGnFjW5nXFxzKmTDrCI6IuWFhOW8nyIsICLpgIl6w6kiOiLpgInmi6kiLAogICAgInnDrFxccyp3w6BpXFxzKiI6IuaEj+WkliIsICJ5aW4o5Ya3fOaal3zosIt86ZmpfOayiXzmsp9855m45rS+fOWQjikiOiLpmLQkMSIsICJ5W2nEq115W8OgYV1uZyI6IuS4gOagtyIsICJ5W8SraV1kaVvHjmFdbiI6IuS4gOeCuSIsICJ5xKtcXHMqemjDqG4iOiLkuIDpmLUiLCAieVvHkGldalvEq2ldbmciOiLlt7Lnu48iLCAi55aRaHVvIjoi55aR5oORIiwgInnDrVxccypodcOyIjoi55aR5oORIiwgIuW9sW1pIjoi5b2x6L+3IiwgInlpbuiNoSI6Iua3q+iNoSIsICJ5aW7otLwiOiLmt6votLwiLCAi6Zizd1vEm2VdaSI6ICLpmLPnl78iLCAieWFv5aS0IjogIuaRh+WktCIsICJ5YW90b3UiOiAi5pGH5aS0IiwgIuaRh3RvdSI6ICLmkYflpLQiLCAieWV6aGFuIjogIumHjuaImCIsICJ5b3XppbUiOiAi6K+x6aW1IiwgIig/OnlvdXzor7EpKD865oORfGh1bykiOiAi6K+x5oORIiwgInlvdeWvvCI6ICLor7Hlr7wiLCAi5byVeW91IjogIuW8leivsSIsICJ5b3XkuroiOiAi6K+x5Lq6IiwgInlvdXNoaSI6IuacieS6iyIsICJ5b3VcXHMqeGl1Ijoi5LyY56eAIiwgIuW+oXnDsm5nIjoi5b6h55SoIiwgIuaXlm5pIjoi5peW5peOIiwgInl15b+1Ijoi5qyy5b+1IiwgInlvdeaVjOa3seWFpSI6IuivseaVjOa3seWFpSIsICLlvbFzaGUiOiLlvbHlsIQiLCAi54mZcWlhbiI6IueJmeetviIsICLkuIB5w6jmg4UiOiLkuIDlpJzmg4UiLAogICAgInpbacOsXWpbaceQXSI6ICLoh6rlt7EiLCJ6W8OsaV0oPzpcXHN8PGJyLz8+fCZuYnNwOykqeVtvw7NddSI6ICLoh6rnlLEiLCJ6aFtpxKtdZD9bw6BhXXU/byI6IuefpemBkyIsICJ6aXhpbiI6IuiHquS/oSIsICJ6aMOsJ2bDuiI6IuWItuacjSIsICJ6aGHoja8iOiAi54K46I2vIiwgInpoYW7mnIkiOiAi5Y2g5pyJIiwgInpow6hcXHMqZ8OoIjoi6L+Z5LiqIiwgIuaUv2Zbx5R1XXx6aGVuZ+W6nCI6ICLmlL/lupwiLCAiemhbw6hlXW5nXFxzezAsMn1mW3XHlF0iOiAi5pS/5bqcIiwgInpvbmfnkIYiOiLmgLvnkIYiLCAiemhbxY1vXW5neVvEgWFdbmciOiAi5Lit5aSuIiwgIuS4rXlhbmciOiLkuK3lpK4iLCAienVbb8eSXVxccyp5W2/Dsl11Ijoi5bem5Y+zIiwgInpox5RcXHMqZMOybmciOiLkuLvliqgiLCAiemhbb8WNXXV3W8OpZV1pIjoi5ZGo5Zu0IiwgIuS4rW5hbua1tyI6IuS4reWNl+a1tyIsICLkuK1q5aeUIjoi5Lit57qq5aeUIiwgIuS4rXp16YOoIjoi5Lit57uE6YOoIiwgIuaUv3poaeWxgCI6IuaUv+ayu+WxgCIsICIo5piofOS4gHzml7Z85L2ZKSg/Ojxici8/PnwmbmJzcDt8XFxzKSrDrCI6IiQx5pelIiwgIueFp3NoZSI6IueFp+WwhCIsICJ6aMeUblxccypiw6hpXFxzKiI6IuWHhuWkhyIsICJ6aHXkuYkiOiLkuLvkuYkiLAoKICAgICI8L3A+XFxuPHA+XFxzKsOsIjoi5pelIiwKCiAgICAn5pu56Im5JzogJ+abueaTjScsCiAgICAnSknmmIInOiAn5r+A5piCJywKICAgICfilqHilqHml6DmmocnOiAn6Ieq6aG+5peg5pqHJywKICAgICfms5Xlvosv55WMJzogJ+azleW+i+eVjCcsCiAgICAn5Lq6L+exuyc6ICfkurrnsbsnLAogICAgJ+aBkOaAli/kuLvkuYknOiAn5oGQ5oCW5Li75LmJJywKICAgICfpoqAv6KaGJzogJ+mioOimhicsCiAgICAn5rCRLuS6iy7lj7gu5rOVLuijgS7liKQnOiAn5rCR5LqL5Y+45rOV6KOB5YikJywKICAgICfljZfmtbcv6Zeu6aKYJzogJ+WNl+a1t+mXrumimCcsCiAgICAn5ZyI5ZyIL+WKnyc6ICfms5Xova7lip8nLAogICAgJ+mVhy/ljosnOiAn6ZWH5Y6LJywKICAgICfotaQu6KO4JzogJ+i1pOijuCcsCiAgICAn5qyywrfmnJsnOiAn5qyy5pybJywKICAgICduduecnyc6ICflpbPnnJ8nLAogICAgJ+Wcn2dhaSc6ICflnJ/mlLknLAogICAgJ+eLl8K35bGOJzogJ+eLl+WxjicsCiAgICAnZHXnq4snOiAn54us56uLJywKICAgICflj5FzYW8nOiAn5Y+R6aqaJywKICAgICflpbgv5aSrL+a3qy/lpocnOiAn5aW45aSr5rer5aaHJywKICAgICfniLFxaW5nJzogJ+eIseaDhScsCiAgICAn5oqabW8nOiAn5oqa5pG4JywKICAgICfnpZ5xaW5nJzogJ+elnuaDhScsCiAgICAn5YWsfuWKoX7lkZgnOiAn5YWs5Yqh5ZGYJywKICAgICfljp/nnYAnOiAn5Y6f6JGXJywKICAgICfilqHilqHpg6jliIYnOiAn6auY5r2u6YOo5YiGJywKICAgICfop5LilqHilqHpnaInOiAn6KeS6Imy5oOF6Z2iJywKfTsKCi8vIOWNleWtl+abv+aNou+8jOWPr+iDveS8muivr+abv+aNou+8jOaJgOS7pemcgOimgeeJueauiuWkhOeQhgooZnVuY3Rpb24oKXsKICAgIHZhciBvbmVXb3JkUmVwbGFjZSA9IHsKICAgICAgICAiYlvEgcOgXW5nIjoi5qOSIiwiYsOgbyI6IueIhiIsImLDoCI6IuWQpyIsImLEqyI6IumAvCIsImLFjSI6IuazoiIsICJiacOgbiI6IuS+vyIsCiAgICAgICAgImPEgW8iOiAi5pONIiwgImPHjm8iOiAi6I2JIiwgImPDoG8iOiAi5pONIiwgImNoxIFuZyI6ICLlqLwiLCAiY2hhbmciOiAi5ai8IiwgImNow6FvIjogIua9riIsICJjaMSBIjogIuaPkiIsICJjaMOpbmciOiAi5oiQIiwgImNoxY11IjogIuaKvSIsICJjaHXDoW5nIjogIuW6iiIsICJjaMO6biI6ICLllIciLCAiY2jFq24iOiAi5pilIiwgImN1xY0iOiAi5pCTIiwgImPFqyI6ICLnspciLAogICAgICAgICJkx45uZyI6ICLlhZoiLCAiZMOgbmciOiAi6I2hIiwgImTEgW8iOiAi5YiAIiwgImTDsm5nIjogIua0niIsICJkaWFvIjogIuWxjCIsICJkaceObiI6ICLngrkiLAogICAgICAgICJmx44iOiAi5rOVIiwgImbDqWkiOiAi6IKlIiwgImbDuSI6ICLlpociLAogICAgICAgICJndcSBbiI6ICLlrpgiLAogICAgICAgICJow6FuIjogIuWQqyIsICJow7N1IjogIuWWiSIsICJow7J1Ijoi5ZCOIiwgImgodSk/xIEiOiAi6IqxIiwgImh1w6EiOiAi5Y2OIiwgImh1w6wiOiLkvJoiLCAiaHXDsiI6ICLmg5EiLCAiaMO5biI6ICLmt7ciLCAiaMO6biI6ICLprYIiLAogICAgICAgICJqaceUIjogIuS5nSIsICJqxKtuZyI6ICLnsr4iLCAiasOsbiI6ICLnpoEiLCAiaseQbmciOiAi6K2mIiwgImppxIFuZyI6ICLmsZ8iLCAiamnEgW4iOiAi5aW4IiwgImppxIFvIjogIuS6pCIsICJqxatuIjogIuWGmyIsICJqxasiOiAi5ouYIiwgImrDuiI6ICLlsYAiLCAiasSrIjogIua/gCIsICLmv4DEgW4iOiLlpbgiLAogICAgICAgICJrw7kiOiAi6KOkIiwgImvDoG4iOiAi55yLIiwKICAgICAgICAiWzFsXcOgbmciOiAi5rWqIiwgImxpw6FvIjogIuaSqSIsICJsacO6Ijoi5rWBIiwgImzDrCI6IuiOiSIsICJsacOoIjoi54OIIiwgIlsxbF11w6BuIjoi5LmxIiwgImzDum4iOiLkvKYiLCAibHXHkiI6IuijuCIsICJsw7J1Ijoi6ZyyIiwgIltsMV3DuSI6IumcsiIsICJsx5wiOiLnu78iLCAibGnDoG4iOiLnu4MiLAogICAgICAgICJtx45pIjogIuS5sCIsICJtw6BpIjogIuWNliIsICJtw6FvIjogIuavmyIsICJtxIEiOiAi5aaIIiwgIm3DqW5nIjogIuiSmSIsICJtw6luIjogIumXqCIsICJtacOoIjogIueBrSIsICJtw60iOiAi6L+3IiwgIm3DrCI6ICLonJwiLCAibcWNIjogIuaRuCIsICJtacOgbiI6IumdoiIsCiAgICAgICAgIm7HjmkiOiAi5aW2IiwgIm7DqG4iOiAi5aupIiwgIm5pw6BvIjogIuWwvyIsICJuacSTIjogIuaNjyIsICJuw7JuZyI6ICLlvIQiLCAibseaIjogIuWlsyIsCiAgICAgICAgInDDoG8iOiAi54KuIiwgInBpw6BuIjogIueJhyIsICJww7IiOiLnoLQiLAogICAgICAgICJxaVvEgWFdbmciOiAi5p6qIiwgInHDrW5nIjogIuaDhSIsICJxxKtuIjogIuS6siIsICJxacO6IjogIuaxgiIsICJxdcOhbiI6ICLlhagiLCAiccO5Ijoi5Y67IiwKICAgICAgICAicsOpbiI6IuS6uiIsICJyw6wiOiAi5pelIiwgInLHlCI6ICLkubMiLAogICAgICAgICJzx44iOiLmtJIiLCAic8SBbyI6IumqmiIsICJzx45vIjogIumqmiIsICJzw6giOiAi6ImyIiwgICJzaMSBIjogIuadgCIsICJzaMSTbiI6IuWRuyIsICJzaMOpbiI6IuelniIsICJzaMOoIjogIuWwhCIsICJzaMeQIjogIuWxjiIsICJzaMOsIjogIuS+jSIsICJzx5AiOiAi5q27IiwgInPEqyI6ICLnp4EiLCAic2jHlG4iOiAi5ZCuIiwgInPHlG4iOiAi5ZCuIiwgInPFqyI6ICLphaUiLCAic2jDoG8iOiLnu40iLAogICAgICAgICJ0xIFuIjoi6LSqIiwgInRpx45uIjogIuiIlCIsICJ0x5BuZyI6IuaMuiIsICJ0x5AiOiAi5L2TIiwgInTHkm5nIjogIuaNhSIsICJ0xY11IjogIuWBtyIsICJ0b3UiOiAi5YG3IiwgInR1x5AiOiAi6IW/IiwgInTFq24iOiAi5ZCeIiwgInTDum4iOiAi6IeAIiwgInRpw6FvIjoi6LCDIiwgInTDoGkiOiLmgIEiLCAidMOgbyI6IuWllyIsCiAgICAgICAgInfEk24iOiAi5ripIiwgInfEm24iOiAi5ZC7IiwKICAgICAgICAieGnHjm8iOiLlsI8iLCAieGnDoG8iOiLnrJEiLCAieMOsbmciOiAi5oCnIiwgInhpxY1uZyI6ICLog7giLCAieMSrIjogIuWQuCIsICJ4w60iOiAi5LmgIiwgInjDrCI6IuezuyIsICJ4w6xuIjoi5L+hIiwgInh1w6kiOiAi56m0IiwgInh1w6giOiAi56m0IiwgInjDuWUiOiAi56m0IiwgICJ4dWFuIjoi5a6jIiwgInhpw6BuZyI6IuixoSIsCiAgICAgICAgInnEgW5nIjoi5aSuIiwgInnDoG4iOiLoibMiLCAiecSrbiI6IumYtCIsICJ5w6BvIjogIuiNryIsICJ5w6kiOiAi54i3IiwgInnDsnUiOiAi6K+xIiwgInrDoG5nIjogIuiEjyIsICJ5w7kiOiAi5qyyIiwgInnDrW4iOiAi5rerIiwgInnDrCI6IuaEjyIsICJ5w6AiOiLorrYiLAogICAgICAgICJ6aMSTbiI6IumSiCIsICJ6xJNuIjoi6ZKIIiwgInpow6AiOiLngrgiLCAiemjDqG5nIjoi5pS/IiwgInrHknUiOiAi6LWwIiwgInp1w6wiOiLnvaoiLCAienXDsiI6IuWBmiIsICJ6aMWNbmciOiLkuK0iLAoKICAgICAgICAicmkiOiLml6UiLCAic2UiOiLoibIiLCAieXUiOiLmrLIiLCAieGluZyI6IuaApyIsCiAgICAgICAgImppbmciOiLnsr4iLCAidGluZyI6IuaMuiIsCiAgICB9OwoKICAgIHZhciByZXBsYWNlT3RoZXJzID0gewogICAgICAgIC8vID09Peivr+abv+aNoui/mOWOnz09PQogICAgICAgICLnoqfmrLIiOiAi56Kn546JIiwgIue+juassiI6ICLnvo7njokiLCLmrLLnn7MiOiAi546J55+zIiwi5oOc5qyyIjogIuaDnOeOiSIsIuWuneassiI6ICLlrp3njokiLAogICAgICAgICLlk4HmgKciOiAi5ZOB6KGMIiwgIuW+t+aApyI6ICLlvrfooYwiLAogICAgICAgICLms6JvayI6ICJib29rIiwgIuazolNTIjogIkJPU1MiLAoKICAgICAgICAvLyA9PT3lhbbku5bkv67mraM9PT0KICAgICAgICAi5byl5L+pIjogIuS9oOS/qSIsCiAgICAgICAgIuWmsyI6ICLkvaAiLAogICAgICAgICLlnJ585Z6pfOWNnXzpvpgiOiIiLAogICAgICAgICLlpKc2IjogIuWkp+mZhiIsCiAgICB9OwoKICAgIF8uZWFjaChvbmVXb3JkUmVwbGFjZSwgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgIFJ1bGUucmVwbGFjZVsnKFteYS16XFxzXSknICsga2V5ICsgJyg/IVthLXpdKSddID0gJyQxJyArIHZhbHVlOwogICAgfSk7CgogICAgXy5leHRlbmQoUnVsZS5yZXBsYWNlLCByZXBsYWNlT3RoZXJzKTsKfSkoKTsKCi8vID09PT09IOWFqOWxgOenu+mZpO+8jOWcqOabv+aNoiA8YnI+IOS4uiBcbiDkuYvlkI4gPT09PT0KUnVsZS5yZXBsYWNlQWxsID0gWwogICAgJy4q5YWz5rOo5b6u5L+h5YWs5LyX5Y+3LionLAogICAgJ+S4gOenkuiusOS9jy4qJywKCiAgICAvLyDplb/mloflrZfmm7/mjaIKICAgICflroznvo7noLTpmLLnm5fnq6DoioLvvIzor7fnlKjmkJzntKLlvJXmk47lkITnp43lsI/or7Tku7vkvaDop4LnnIsnLAogICAgJ+egtOmYsuebl+eroOiKgu+8jOivt+eUqOaQnOe0ouW8leaTjuWQhOenjeWwj+ivtOS7u+S9oOingueciycsCiAgICAn6K+355So5pCc57Si5byV5pOOKD865pCc57Si5YWz6ZSu6K+NKT8uKj/lroznvo7noLTpmLLnm5fnq6DoioLvvIzlkITnp43lsI/or7Tku7vkvaDop4LnnIsnLAogICAgJ+e6r+aWh+Wtl+WcqOe6v+mYheivu+acrOermeWfn+WQjeaJi+acuuWQjOatpemYheivu+ivt+iuv+mXricsCiAgICAnXFwoP+acquWujOW+hee7reivt+aQnOe0oumjhOWkqeaWh+WtuO+8jOWwj+ivtOabtOWlveabtOaWsOabtOW/qyEnLAogICAgJy3kvJjvvI3kvJjvvI3lsI/vvI3or7TvvI3mm7TvvI3mlrDvvI3mnIDvvI3lv6std3d3Lu+8te+8te+8uO+8sy7vvKPvvKMtJywKICAgICfjgJDpmIXor7vmnKzkuabmnIDmlrDnq6DoioLvvIzor7fmkJzntKI4MDDjgJEnLAogICAgJ+S6su+8jOeZvuW6puaQnOe0ouecvCZhbXA75b+r77yM5aSn6YeP5bCP6K+05YWN6LS555yL44CCJywKICAgICdcXHzmr4/kuKTkuKrnnIvoqIDmg4XnmoTkurrlvZPkuK3vvIzlsLHmnInkuIDkuKrms6jlhozov4flj6/CsOS5kMKw5bCPwrDor7TCsOe9keeahOi0puWPt+OAgicsCiAgICAn5pyA5paw56ug6IqC5YWo5paH6ZiF6K+755yL5Lmm56We5ZmoXFwueWFua3VhaVxcLicsCiAgICAn77yIODAw5bCP6K+0572RIHd3dy44MDBCb29rLm5ldCDmj5DkvptUeHTlhY3otLnkuIvovb3vvInmnIDmlrDnq6DoioLlhajmlofpmIXor7stLi4tJywKICAgICdcXFvnnIvmnKzkuabmnIDmlrDnq6DoioLor7fliLDmsYLkuaYgLlxcXScsCiAgICAnXFxbODAwXFxdXFxb56uZ6aG16Z2i5riF54i977yM5bm/5ZGK5bCR77yMJywKICAgICdcXHzkvJhcXHzkvJhcXHzlsI9cXHzor7RcXHzmm7RcXHzmlrBcXHzmnIBcXHzlv6tcXHx3d3cudXV4cy5jY1xcfCcsCiAgICAn55yL5pys5Lmm5pyA5paw56ug6IqC6K+35YiwODAw5bCP6K+0572R77yId3d3LjgwMGJvb2submV077yJJywKICAgICcxNjk3N+Wwj+a4uOaIj+avj+WkqeabtOaWsOWlveeOqeeahOWwj+a4uOaIj++8jOetieS9oOadpeWPkeeOsO+8gScsCiAgICAn77yIODAw5bCP6K+0572RIHd3dy44MDBCb29rLm5ldCDmj5DkvptUeHTlhY3otLnkuIvovb3vvIknLAogICAgJ+eDremXqOWwj+ivtOacgOaWsOeroOiKguWFqOaWh+mYheivuy7jgIIg5pu05paw5aW95b+r44CCJywKICAgICfmiYvmnLrnlKjmiLfor7fmtY/op4jpmIXor7vvvIzmm7TkvJjotKjnmoTpmIXor7vkvZPpqozjgIInLAogICAgJ+aBi+S4iuS9oOeci+S5pue9kSA2MzBib29rbGEg77yM5pyA5b+r5pu05pawLionLAogICAgJy3kvJjvvI3kvJjvvI3lsI/vvI3or7TvvI3mm7TvvI3mlrDvvI3mnIDvvI3lv6t4JywKICAgICfkurLvvIznnLwm5b+r77yM5aSn6YeP5bCP6K+05YWN6LS555yL44CCJywKICAgICfmiYvmnLrnnIvlsI/or7Tlk6rlrrblvLrmiYvmnLrpmIUnLAogICAgJ+WmguaenOS9oOWWnOasouacrOermeS4gOWumuimgeiusOS9j+e9keWdgOWTpicsCiAgICAn5aaC5p6c5L2g5Zac5qyi5pys56uZ44CW5LiA5a6a6KaB6K6w5L2P44CR572R5Z2A5ZOmJywKICAgICflpoLmnpzkvaDllpzmrKLmnKznq5nkuIDlrpropoHorrDkvY/jgJHnvZHlnYDlk6YnLAogICAgJ+WmguaenOS9oOWWnOasouacrOermeS4gOWumuimgeiusOS9j+acrOermeWcsOWdgOWTpicsCiAgICAn5oCdy4rot6/Li+Wuou+8jOabtOaWsOacgOW/q+eahO+8gScsCiAgICAn77yI5pys56ug5pyq5a6M77yM6K+357+76aG177yJJywKICAgICdcXCjmnKrlrozlvoXnu63jgIJcXCknLAogICAgJ1xcKOeci+Wwj+ivtOWIsOe9kVxcKScsCiAgICAn5pyA5paw56ug6IqC5YWo5paH6ZiF6K+777yILi7pppblj5HvvIknLAogICAgJ+acgOaWsOeroOiKguWFqOaWh+mYheivu+OAkOmmluWPkeOAkScsCiAgICAn5pyA5paw56ug6IqC5YWo5paH6ZiF6K+7JywKICAgICfnnIvmuIXniL3nmoTlsI/or7TlsLHliLAnLAogICAgJ+adpeWPr+S5kOe9keeci+Wwj+ivtCcsCiAgICAndHh055S15a2Q5Lmm5LiL6L29LycsCiAgICAndHh05YWo6ZuG5LiL6L29JywKICAgICd0eHTlsI/or7TkuIvovb0nLAogICAgJ++8iFxccyrlkJvlrZDogZrkuYnloILvvIknLAogICAgJ3JlYWR4OycsCiAgICAn6L+95Lmm5b+F5aSHJywKICAgICfmqILmloflsI/or7QnLAoKICAgIC8vIOWMheWQqyBcUCDnmoTmm7/mjaIKICAgICdcXFB7MSwyfVvpobbpoIJdLnsxLDN9W+eCueWwj10uKj9vP1ttd++8jF0nLAogICAgJ1xcUC4/6ZW/LnsxLDJ96aOOLnsxLDJ95paHLnsxLDJ95a2mLio/W3R4XScsCiAgICAnXFxQ5pegLumUmS4qP1tj77yjXVtv77yvXVtt77ytXScsCiAgICAnWztcXChd6aG2LnswLDJ954K5LuWwj+ivtCcsCiAgICAnMumVvzLpo44y5paHMuWtpu+8jHfvv6DvvIQnLAogICAgJ+OAi+mVvz7po47jgIsnLAoKICAgIC8vIOWMheWQqyAuKiDnmoTvvIzlj6/og73mnInlpJrkvZnnmoTmm7/mjaIKICAgICfnnIvml6DpmLLnm5fnq6DoioLnmoTlsI/or7TvvIzor7fnlKjmkJzntKLlvJXmk47mkJzntKLlhbPplK7or40uKicsCiAgICAnKD865a6M576OKT/noLTpmLLnm5fnq6DoioLvvIzor7fnlKjmkJzntKLlvJXmk47mkJzntKLlhbPplK7or40uKicsCiAgICAn56C06Ziy55uX5a6M576O56ug6IqC77yM6K+355So5pCc57Si5byV5pOOLirlkITnp43lsI/or7Tku7vkvaDop4LnnIsnLAogICAgJ+WmguaCqOW3sig/OumWseiugHzpmIXor7sp5Yiw5q2k56ug6IqCLio/5pWs6K+36K6w5L2P5oiR5Lus5paw55qE572R5Z2AXFxzKuOAgicsCiAgICAn4oaX55m+5bqm5pCc77yaLio/55u06L6+572R5Z2ALio/4oaWJywKICAgICJbOuOAiuOAiO+9nH7iiKjiiJ/iiJFdezEsMn3plb8uezEsMn3po44uKj9ldCIsCiAgICAnXFxb6ZmQ5pe25oqi6LStXFxdLionLAogICAgJ+aUr+aMgee9keermeWPkeWxlS7pgJvmt5jlrp3kubDkuJzopb/lsLHku47ov5nph4zov5suKicsCiAgICAncHNb77yaOl3mg7PlkKzliLDmm7TlpJrkvaDku6znmoTlo7Dpn7PvvIzmg7PmlLbliLDmm7TlpJrkvaDku6znmoTlu7rorq7vvIznjrDlnKjlsLHmkJzntKLlvq7kv6HlhazkvJflj7figJxxZHJlYWTigJ3lubbliqDlhbPms6jvvIznu5kuKj/mm7TlpJrmlK/mjIHvvIEnLAogICAgJyg/OnBzWzrvvJpdKT/nnIvjgIouKj/jgIvog4zlkI7nmoTni6zlrrbmlYXkuosuKj/lkYror4nmiJHlkKfvvIEnLAogICAgJ++8iD/lpKnkuIrmjonppoXppbznmoTlpb3mtLvliqguKj/lvq7kv6HlhazkvJflj7fvvIHvvIk/JywKICAgICfvvIjlvq7kv6Hmt7vliqAuKnFkcmVhZOW+ruS/oeWFrOS8l+WPt++8ge+8iScsCiAgICAnamllbWVp5aaC5oKo5bey6ZiF6K+75Yiw5q2k56ug6IqC77yM6K+356e75q2l5YiwLio/XFxbYWRzOuacrOermeaNouaWsOe9keWdgOWVpu+8jOmAn+iusOaWueazle+8mu+8jC5cXF0nLAoKICAgIC8vIOefreaWh+Wtl+abv+aNogogICAgJ1xcW3R4dOWFqOmbhuS4i+i9vVxcXScsCiAgICAnXFxbXFxzKui2heWkmuWlveeci+Wwj+ivtFxcXScsCiAgICAn4oqZ5Zub4oqZ5LqU4oqZ5Lit4oqZ5paH4piG4oaSJywKICAgICdcXFthZHM65pys56uZ5o2i5paw572R5Z2A5ZWm77yM6YCf6K6w5pa55rOV77yaLio/XFxdJywKICAgICdb44CL44CK772c772eXeaXoCg/Oi58Jmd0OynplJkoPzoufCZndDsp5bCP6K+0JywKICAgICdg5pegYOmUmWDlsI/or7Rgd3d3LmBgY29tJywgJ++8i+aXoO+8i+mUme+8i+Wwj+ivtO+8izN377yL77yLJywKICAgICdcXHzkvJhcXHzkvJhcXHzlsI9cXHzor7RcXHzmm7RcXHzmlrBcXHzmnIBcXHzlv6vvvLgnLAogICAgJ+KWsuKItCcsICc477yMd3fihpAnLAogICAgL3d3dy4yM++8iz9b77y3d11b77y4eF0uW++8o2Ndb20vaWcsCiAgICAv54Ot6Zeo5o6o6I2QOuOAgSsvZywKICAgIC9oMiZndDsvZywKICAgICdb44CK44CI44CLPlxcK++9nO+9nu+8u1xcXV3ml6BcXDHplJlcXDEnLCAn44CL5pegPumUmeOAiycsCgogICAgJ+Wls+WHpOWFjei0ueWwj+ivtOaKouWFiOeciycsICflpbPlh6TlsI/or7TnvZHlhajmloflrZcg5peg5bm/5ZGKJywKICAgICfkuZDmloflsI/or7TnvZE/JywgJ+OAiuS5kOOAiOaWh+OAiuWwj+ivtCcsICfkuZDmlofnp7vliqjnvZEnLCAn6aCC54K55bCP6K+0JywgJ+mggum7nuWwj+iqqicsCiAgICAn6L+95bCP6K+05ZOq6YeM5b+r5Y6755y85b+rJywKICAgICdcXFvkuablupNcXF0uXFxbNzc0XFxdXFxbYnV5XFxdLmt1YWknLAoKICAgIC8nYWRzX3d6X3R4dDsnLHznmb7luqbmkJzntKJ85peg5by556qX5bCP6K+0572RfOabtOaWsOW/q+aXoOW8ueeql+e6r+aWh+Wtl3zpq5jlk4HotKjmm7TmlrB85bCP6K+056ug6IqC5pu05paw5pyA5b+rfFwo55m+5bqm5pCcLlwpfOWFqOaWh+Wtl+aJi+aJk3zigJzigJ0mbmJzcDvnnIt85pegLuW8uS7nqpcu5bCPLuivtC7nvZF86L+95Lmm572RfOOAluKIt+KIt+aXoOW8ueeql+KIt+e6r+aWh+Wtl+KItyDjgJcvZywKXTsKCgovLyDoh6rlrprkuYnnmoQKUnVsZS5jdXN0b21SdWxlcyA9IFtdOwpSdWxlLmN1c3RvbVJlcGxhY2UgPSB7fTsKClJ1bGUucGFyc2VDdXN0b21SZXBsYWNlUnVsZXMgPSBmdW5jdGlvbihzdHIpIHsKICAgIHZhciBhcnIgPSBzdHIuc3BsaXQoL1xuLyk7CiAgICB2YXIgcnVsZXMgPSB7fTsKICAgIF8uZWFjaChhcnIsIGZ1bmN0aW9uKGIpIHsKICAgICAgICB2YXIgcG9zID0gYi5pbmRleE9mKCc9Jyk7CiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHJldHVybjsKCiAgICAgICAgdmFyIGtleSA9IGIuc3Vic3RyaW5nKDAsIHBvcyksCiAgICAgICAgICAgIHZhbHVlID0gYi5zdWJzdHJpbmcocG9zICsgMSwgYi5sZW5ndGgpOwogICAgICAgIHJ1bGVzW2tleV0gPSB2YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIHJ1bGVzOwp9OwoKCnZhciBnZXRCb29sZWFuQ29uZmlnID0gZnVuY3Rpb24oY29uZmlnTmFtZSwgZGVmYXVsdFZhbHVlKSB7CiAgICB2YXIgY29uZmlnID0gR01fZ2V0VmFsdWUoY29uZmlnTmFtZSk7CiAgICBpZihjb25maWcgPT09IHVuZGVmaW5lZCkgewogICAgICAgIEdNX3NldFZhbHVlKGNvbmZpZ05hbWUsIGRlZmF1bHRWYWx1ZSk7CiAgICAgICAgY29uZmlnID0gZGVmYXVsdFZhbHVlOwogICAgfQogICAgcmV0dXJuIGNvbmZpZzsKfTsKCnZhciBDb25maWcgPSB7CiAgICBnZXREaXNhYmxlQXV0b0xhdW5jaDogZnVuY3Rpb24oKSB7ICAvLyDlvLrliLbmiYvliqjlkK/nlKjmqKHlvI8KICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygiZGlzYWJsZV9hdXRvX2xhdW5jaCIsIGZhbHNlKTsKICAgIH0sCiAgICBzZXREaXNhYmxlQXV0b0xhdW5jaDogZnVuY3Rpb24oYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCJkaXNhYmxlX2F1dG9fbGF1bmNoIiwgYm9vbCk7CiAgICB9LAoKICAgIC8vIOaMiemUruiwg+eUqOS8mumBh+WIsOmXrumimO+8miBHcmVhc2Vtb25rZXkg6K6/6Zeu6L+d6KeE77yadW5zYWZlV2luZG93IOaXoOazleiwg+eUqCBHTV9nZXRWYWx1ZQogICAgLy8g5pWF5pS55oiQ6L+Z56eN5b2i5byPCiAgICBjb3B5Q3VyVGl0bGU6IGdldEJvb2xlYW5Db25maWcoImNvcHlDdXJUaXRsZSIsIHRydWUpLAogICAgc2V0Q29weUN1clRpdGxlOiBmdW5jdGlvbiAoYm9vbCkgewogICAgICAgIHRoaXMuY29weUN1clRpdGxlID0gISFib29sOwogICAgICAgIEdNX3NldFZhbHVlKCJjb3B5Q3VyVGl0bGUiLCAhIWJvb2wpOwogICAgfSwKCiAgICBnZXQgY24ydHcoKSB7CiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQodGhpcy5fY24ydHcpKSB7CiAgICAgICAgICAgIHRoaXMuX2NuMnR3ID0gZ2V0Qm9vbGVhbkNvbmZpZygnY24ydHcnLCBDb25maWcubGFuZyA9PT0gJ3poLVRXJyA/IHRydWUgOiBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLl9jbjJ0dzsKICAgIH0sCiAgICBzZXQgY24ydHcoYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdjbjJ0dycsIGJvb2wpOwogICAgICAgIHRoaXMuX2NuMnR3ID0gYm9vbDsKICAgIH0sCgogICAgZ2V0IGJvb2tsaW5rX2VuYWJsZSgpIHsgIC8vIGJvb2tsaW5rLm1lIOi3s+i9rOeahOiHquWKqOWQr+WKqAogICAgICAgIHJldHVybiBnZXRCb29sZWFuQ29uZmlnKCJib29rbGlua19lbmFibGUiLCB0cnVlKTsKICAgIH0sCiAgICBzZXQgYm9va2xpbmtfZW5hYmxlKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiYm9va2xpbmtfZW5hYmxlIiwgYm9vbCk7CiAgICB9LAoKICAgIGdldCBkZWJ1ZygpIHsgIC8vIOiwg+ivlQogICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHRoaXMuX2RlYnVnKSkgewogICAgICAgICAgICB0aGlzLl9kZWJ1ZyA9IGdldEJvb2xlYW5Db25maWcoImRlYnVnIiwgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fZGVidWc7CiAgICB9LAogICAgc2V0IGRlYnVnKGJvb2wpIHsKICAgICAgICB0aGlzLl9kZWJ1ZyA9IGJvb2w7CiAgICAgICAgR01fc2V0VmFsdWUoImRlYnVnIiwgYm9vbCk7CiAgICAgICAgdG9nZ2xlQ29uc29sZShib29sKTsKICAgIH0sCgogICAgZ2V0IGFkZFRvSGlzdG9yeSgpIHsKICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZCh0aGlzLl9hZGRUb0hpc3RvcnkpKSB7CiAgICAgICAgICAgIHRoaXMuX2FkZFRvSGlzdG9yeSA9IGdldEJvb2xlYW5Db25maWcoImFkZF9uZXh0cGFnZV90b19oaXN0b3J5IiwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLl9hZGRUb0hpc3Rvcnk7CiAgICB9LAogICAgc2V0IGFkZFRvSGlzdG9yeShib29sKSB7CiAgICAgICAgdGhpcy5fYWRkVG9IaXN0b3J5ID0gYm9vbDsKICAgICAgICBHTV9zZXRWYWx1ZSgiYWRkX25leHRwYWdlX3RvX2hpc3RvcnkiLCBib29sKTsKICAgIH0sCgogICAgZ2V0IGRibGNsaWNrUGF1c2UoKSB7CiAgICAgICAgcmV0dXJuIGdldEJvb2xlYW5Db25maWcoJ2RibGNsaWNrX3BhdXNlJywgdHJ1ZSk7CiAgICB9LAogICAgc2V0IGRibGNsaWNrUGF1c2UoYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdkYmxjbGlja19wYXVzZScsIGJvb2wpOwogICAgfSwKCiAgICBnZXQgcmVtYWluX2hlaWdodCgpIHsgIC8vIOi3neemu+W6lemDqOWkmuWwkemrmOW6pu+8iHB477yJ5byA5aeL5Yqg6L295LiL5LiA6aG1CiAgICAgICAgaWYoXy5pc1VuZGVmaW5lZCh0aGlzLl9yZW1haW5faGVpZ2h0KSl7CiAgICAgICAgICAgIHRoaXMuX3JlbWFpbl9oZWlnaHQgPSBwYXJzZUludChHTV9nZXRWYWx1ZSgicmVtYWluX2hlaWdodCIpLCAxMCkgfHwgNDAwOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fcmVtYWluX2hlaWdodDsKICAgIH0sCiAgICBzZXQgcmVtYWluX2hlaWdodCh2YWwpIHsKICAgICAgICB0aGlzLl9yZW1haW5faGVpZ2h0ID0gdmFsOwogICAgICAgIEdNX3NldFZhbHVlKCJyZW1haW5faGVpZ2h0IiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IGxhbmcoKSB7CiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQodGhpcy5fbGFuZykpIHsKICAgICAgICAgICAgdGhpcy5fbGFuZyA9IEdNX2dldFZhbHVlKCJsYW5nIikgfHwgKChuYXZpZ2F0b3IubGFuZ3VhZ2UgPT09ICJ6aC1UVyIgfHwgbmF2aWdhdG9yLmxhbmd1YWdlID09PSAiemgtSEsiKSA/ICJ6aC1UVyIgOiAiemgtQ04iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmc7CiAgICB9LAogICAgc2V0IGxhbmcodmFsKSB7CiAgICAgICAgdGhpcy5fbGFuZyA9IHZhbDsKICAgICAgICBHTV9zZXRWYWx1ZSgibGFuZyIsIHZhbCk7CiAgICB9LAoKICAgIGdldCBmb250X2ZhbWlseSgpIHsKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoImZvbnRfZmFtaWx5IikgfHwgIuW+rui9r+mbhem7kSzlrovkvZMs6buR5L2TLOalt+S9kyIudWlUcmFucygpOwogICAgfSwKICAgIHNldCBmb250X2ZhbWlseSh2YWwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiZm9udF9mYW1pbHkiLCB2YWwpOwogICAgfSwKCiAgICBnZXQgZm9udF9zaXplKCkgeyAgLy8g5a2X5L2T5aSn5bCPCiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCJmb250X3NpemUiKSB8fCAiMThweCI7CiAgICB9LAogICAgc2V0IGZvbnRfc2l6ZSh2YWwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgiZm9udF9zaXplIiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IHRleHRfbGluZV9oZWlnaHQoKXsKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoInRleHRfbGluZV9oZWlnaHQiKSB8fCAiMmVtIjsKICAgIH0sCiAgICBzZXQgdGV4dF9saW5lX2hlaWdodCh2YWwpewogICAgICAgIEdNX3NldFZhbHVlKCJ0ZXh0X2xpbmVfaGVpZ2h0IiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IGNvbnRlbnRfd2lkdGgoKSB7ICAvLyDlhoXlrrnlrr3luqYKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoImNvbnRlbnRfd2lkdGgiKSB8fCAiODAwcHgiOwogICAgfSwKICAgIHNldCBjb250ZW50X3dpZHRoKHZhbCkgewogICAgICAgIEdNX3NldFZhbHVlKCJjb250ZW50X3dpZHRoIiwgdmFsKTsKICAgIH0sCgogICAgZ2V0IGV4dHJhX2NzcygpIHsKICAgICAgICByZXR1cm4gR01fZ2V0VmFsdWUoImV4dHJhX2NzcyIsICIiKTsKICAgIH0sCiAgICBzZXQgZXh0cmFfY3NzKHZhbCkgewogICAgICAgIEdNX3NldFZhbHVlKCJleHRyYV9jc3MiLCB2YWwpOwogICAgfSwKCiAgICBnZXQgY3VzdG9tU2l0ZWluZm8oKSB7CiAgICAgICAgcmV0dXJuIEdNX2dldFZhbHVlKCdjdXN0b21fc2l0ZWluZm8nLCAnW10nKTsKICAgIH0sCiAgICBzZXQgY3VzdG9tU2l0ZWluZm8odmFsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ2N1c3RvbV9zaXRlaW5mbycsIHZhbCk7CiAgICB9LAoKICAgIGdldCBjdXN0b21SZXBsYWNlUnVsZXMoKSB7CiAgICAgICAgdmFyIHJ1bGVzID0gR01fZ2V0VmFsdWUoJ2N1c3RvbV9yZXBsYWNlX3J1bGVzJywgJ2JbxIHDoF1uZz3mo5JcbuOAjiguKeOAjz0kMScpOwoKICAgICAgICByZXR1cm4gcnVsZXM7CiAgICB9LAogICAgc2V0IGN1c3RvbVJlcGxhY2VSdWxlcyh2YWwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnY3VzdG9tX3JlcGxhY2VfcnVsZXMnLCB2YWwpOwogICAgfSwKCiAgICBnZXQgc2tpbl9uYW1lKCkgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZSgic2tpbl9uYW1lIikgfHwgIue8uuecgeearuiCpCIudWlUcmFucygpOwogICAgfSwKICAgIHNldCBza2luX25hbWUodmFsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoInNraW5fbmFtZSIsIHZhbCk7CiAgICB9LAoKICAgIGdldCBtZW51X2xpc3RfaGlkZGRlbigpIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygibWVudV9saXN0X2hpZGRkZW4iLCBmYWxzZSk7CiAgICB9LAogICAgc2V0IG1lbnVfbGlzdF9oaWRkZGVuKGJvb2wpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgibWVudV9saXN0X2hpZGRkZW4iLCBib29sKTsKICAgIH0sCgogICAgZ2V0IGhpZGVfZm9vdGVyX25hdigpIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygiaGlkZV9mb290ZXJfbmF2IiwgdHJ1ZSk7CiAgICB9LAogICAgc2V0IGhpZGVfZm9vdGVyX25hdihib29sKSB7CiAgICAgICAgR01fc2V0VmFsdWUoImhpZGVfZm9vdGVyX25hdiIsIGJvb2wpOwogICAgICAgIFVJLmhpZGVGb290ZXJOYXZTdHlsZShib29sKTsKICAgIH0sCgogICAgZ2V0IGhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uKCkgewogICAgICAgIHJldHVybiBnZXRCb29sZWFuQ29uZmlnKCJoaWRlX3ByZWZlcmVuY2VzX2J1dHRvbiIsIGZhbHNlKTsKICAgIH0sCiAgICBzZXQgaGlkZV9wcmVmZXJlbmNlc19idXR0b24oYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdoaWRlX3ByZWZlcmVuY2VzX2J1dHRvbicsIGJvb2wpOwogICAgfSwKCiAgICAvLyA9PT0g5b+r5o236ZSuCgogICAgLy8g5a6J6Z2Z5qih5byP5YiH5o2i5b+r5o236ZSuCiAgICBnZXQgcXVpZXRNb2RlS2V5KCkgewogICAgICAgIGlmICh0aGlzLl9xdWlldE1vZGVLZXkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1aWV0TW9kZUtleTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fcXVpZXRNb2RlS2V5ID0gR01fZ2V0VmFsdWUoJ3F1aWV0TW9kZUtleScpIHx8ICdxJzsKCiAgICAgICAgcmV0dXJuIHRoaXMuX3F1aWV0TW9kZUtleTsKICAgIH0sCiAgICBzZXQgcXVpZXRNb2RlS2V5KGtleUNvZGUpIHsKICAgICAgICB0aGlzLl9xdWlldE1vZGVLZXkgPSBrZXlDb2RlOwogICAgICAgIEdNX3NldFZhbHVlKCdxdWlldE1vZGVLZXknLCBrZXlDb2RlKTsKICAgIH0sCgogICAgLy8g5omT5byA6K6+572u56qX5Y+j55qE5b+r5o236ZSuCiAgICBnZXQgb3BlblByZWZlcmVuY2VzS2V5KCkgewogICAgICAgIGlmICh0aGlzLl9vcGVuUHJlZmVyZW5jZXNLZXkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wZW5QcmVmZXJlbmNlc0tleTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fb3BlblByZWZlcmVuY2VzS2V5ID0gR01fZ2V0VmFsdWUoJ29wZW5fcHJlZmVyZW5jZXNfa2V5JykgfHwgJ3MnOwoKICAgICAgICByZXR1cm4gdGhpcy5fb3BlblByZWZlcmVuY2VzS2V5OwogICAgfSwKICAgIHNldCBvcGVuUHJlZmVyZW5jZXNLZXkoa2V5Q29kZSkgewogICAgICAgIHRoaXMuX29wZW5QcmVmZXJlbmNlc0tleSA9IGtleUNvZGU7CiAgICAgICAgR01fc2V0VmFsdWUoJ29wZW5fcHJlZmVyZW5jZXNfa2V5Jywga2V5Q29kZSk7CiAgICB9LAoKICAgIC8vIOmakOiXj+W3puS+p+eroOiKguWIl+ihqOeahOW/q+aNt+mUrgogICAgZ2V0IGhpZGVNZW51TGlzdEtleSgpIHsgIC8vIOm7mOiupOS4uiBjCiAgICAgICAgLy8gJ0MnLmNoYXJDb2RlQXQoMCkgPSA2NwogICAgICAgIGlmICh0aGlzLl9oaWRlTWVudUxpc3RLZXkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hpZGVNZW51TGlzdEtleTsKICAgICAgICB9CiAgICAgICAgdGhpcy5faGlkZU1lbnVMaXN0S2V5ID0gR01fZ2V0VmFsdWUoJ2hpZGVfbWVudWxpc3Rfa2V5JykgfHwgJ2MnOwoKICAgICAgICByZXR1cm4gdGhpcy5faGlkZU1lbnVMaXN0S2V5OwogICAgfSwKICAgIHNldCBoaWRlTWVudUxpc3RLZXkoa2V5KSB7CiAgICAgICAgdGhpcy5faGlkZU1lbnVMaXN0S2V5ID0ga2V5OwogICAgICAgIEdNX3NldFZhbHVlKCJoaWRlX21lbnVsaXN0X2tleSIsIGtleSk7CiAgICB9LAoKICAgIGdldCBwaWNOaWdodE1vZGVDaGVjaygpIHsKICAgICAgICByZXR1cm4gZ2V0Qm9vbGVhbkNvbmZpZygncGljTmlnaHRNb2RlQ2hlY2snLCB0cnVlKTsKICAgIH0sCiAgICBzZXQgcGljTmlnaHRNb2RlQ2hlY2soYm9vbCkgewogICAgICAgIEdNX3NldFZhbHVlKCdwaWNOaWdodE1vZGVDaGVjaycsIGJvb2wpOwogICAgfSwKCiAgICBnZXQgc3BsaXRfY29udGVudCgpIHsKICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZCh0aGlzLl9zcGxpdF9jb250ZW50KSkgewogICAgICAgICAgICB0aGlzLl9zcGxpdF9jb250ZW50ID0gR01fZ2V0VmFsdWUoJ3NwbGl0X2NvbnRlbnQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3NwbGl0X2NvbnRlbnQ7CiAgICB9LAogICAgc2V0IHNwbGl0X2NvbnRlbnQoYm9vbCkgewogICAgICAgIHRoaXMuX3NwbGl0X2NvbnRlbnQgPSBib29sOwogICAgICAgIEdNX3NldFZhbHVlKCdzcGxpdF9jb250ZW50JywgYm9vbCk7CiAgICB9LAoKICAgIGdldCBzY3JvbGxBbmltYXRlKCkgewogICAgICAgIHJldHVybiBHTV9nZXRWYWx1ZSgnc2Nyb2xsQW5pbWF0ZScsIGZhbHNlKTsKICAgIH0sCiAgICBzZXQgc2Nyb2xsQW5pbWF0ZShib29sKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ3Njcm9sbEFuaW1hdGUnLCBib29sKTsKICAgIH0sCn07CgoKdmFyIHVpVHJhbnMgPSB7CiAgICAi5bCG5bCP6K+0572R6aG15paH5pys6L2s5o2i5Li657mB5L2T44CCXG5cbuazqOaEj++8muWGhee9rueahOe5geeugOi9rOaNouihqO+8jOWPquaUtuW9leS6hueugOWNleeahOWNleWtl+i9rOaNou+8jOWQr+eUqOacrOWKn+iDveWQju+8jOWmguaciemUmeivr+i9rOaNoueahOaDheW9ou+8jOivt+WIqeeUqOiEmuacrOeahOiHquiuouWtl+ivjeWPluS7o+inhOWImeadpeS/ruato+OAglxu5L6L5aaC77ya44CM5Y2D6YeM5LmL5aSW44CN77yM5Lya6ZSZ6K+v6L2s5o2i5oiQ44CM5Y2D6YeM5LmL5aSW44CN77yM5L2g5Y+v5Lul5Yqg5YWl6KeE5YiZ44CM5Y2D6YeM5LmL5aSWPeWNg+mHjOS5i+WkluOAjeadpeiHquihjOS/ruato+OAgiI6ICLlsIflsI/oqqrntrLpoIHmloflrZfovYnmj5vngrrnuYHpq5TjgIJcblxu5rOo5oSP77ya5YWn5bu655qE57mB57Ch6L2J5o+b6KGo77yM5Y+q5pS26YyE5LqG57Ch5Zau55qE5Zau5a2X6L2J5o+b77yM5ZWf55So5pys5Yqf6IO95b6M77yM5aaC5pyJ6Yyv6Kqk6L2J5o+b55qE5oOF5b2i77yM6KuL5Yip55So6IWz5pys55qE6Ieq6KiC5a2X6Kme5Y+W5Luj6KaP5YmH5L6G5L+u5q2j44CCXG7kvovlpoLvvJrjgIzljYPph4zkuYvlpJbjgI3vvIzmnIPpjK/oqqTovYnmj5vmiJDjgIzljYPoo6HkuYvlpJbjgI3vvIzkvaDlj6/ku6XliqDlhaXopo/liYfjgIzljYPoo6HkuYvlpJY95Y2D6YeM5LmL5aSW44CN5L6G6Ieq6KGM5L+u5q2j44CCIiwKICAgICLlm77niYfnq6DoioLnlKjlpJzpl7TmqKHlvI/msqHms5XnnIvvvIzov5nkuKrpgInpobnlnKjlkK/liqjml7bkvJroh6rliqjliIfmjaLliLDnvLrnnIHnmq7ogqQiOiAi5ZyW54mH56ug56+A54Sh5rOV5Lul5aSc6ZaT5qih5byP6KeA55yL77yM6YCZ5YCL6YG46aCF5Zyo5ZWf5YuV5pmC5pyD6Ieq5YuV5YiH5o+b5Yiw6aCQ6Kit5L2I5pmvIiwKICAgICLpgJrov4flv6vmjbfplK7liIfmjaLmiJblnKggR3JlYXNlbW9ua2V5IOeUqOaIt+iEmuacrOWRveS7pOWkhOaJk+W8gOiuvue9rueql+WPoyI6ICLpgJrpgY7nhrHpjbXliIfmj5vmiJblnKggR3JlYXNlbW9ua2V5IOS9v+eUqOiAheiFs+acrOWRveS7pOiZlemWi+WVn+ioreWumuimlueqlyIsCiAgICAi6ZqQ6JeP5ZCO6YCa6L+H5b+r5o236ZSu5oiWIEdyZWFzZW1vbmtleSDnlKjmiLfohJrmnKzlkb3ku6TlpITosIPnlKgiOiAi6Zqx6JeP5b6M6YCa6YGO54ax6Y215oiWIEdyZWFzZW1vbmtleSDkvb/nlKjogIXohbPmnKzlkb3ku6TomZXoqr/nlKgiLAogICAgIuS4gOihjOS4gOS4qu+8jOavj+ihjOesrOS4gOS4qiA9IOS4uuWIhumalOesplxu6ZyA6KaB5Yi35paw6aG16Z2i55Sf5pWIIjogIuS4gOihjOS4gOaineimj+WJh++8jOavj+S4gOihjOesrOS4gOWAiyA9IOeCuuWIhumalOesplxu77yI6ZyA6YeN5paw6LyJ5YWl6aCB6Z2i5omN6IO955Sf5pWI77yJIiwKICAgICLplJnor6/vvJrmsqHmnInmib7liLDkuIvkuIDpobXnmoTlhoXlrrnvvIzkvb/nlKjlj7PplK7nv7vliLDkuIvkuIDpobUiOiAi6Yyv6Kqk77ya5rKS5pyJ5om+5Yiw5LiL5LiA6aCB55qE5YWn5a6577yM5L2/55So5Y+z6Y2157+75Yiw5LiL5LiA6aCBIiwKICAgICLlt6bplK7mu5rliqjvvIzkuK3plK7miZPlvIDpk77mjqXvvIjml6DpmIXor7vmqKHlvI/vvIkiOiAi5bem6Y215o2y5YuV55Wr6Z2i6Iez6Kmy56ug56+A77yM5Lit6Y216ZaL5ZWf6YCj57WQ77yI54Sh6Zax6K6A5qih5byP77yJIiwKICAgICLor7fovpPlhaXliIfmjaLlt6bkvqfnq6DoioLliJfooajnmoTlv6vmjbfplK7vvJoiOiAi6KuL6Ly45YWl5YiH5o+b5bem5YG056ug56+A5YiX6KGo55qE54ax6Y2177yaIiwKICAgICLor6bop4HohJrmnKzku6PnoIHnmoQgUnVsZS5zcGVjaWFsU2l0ZSI6ICLoqbPopovohbPmnKzku6PnorznmoQgUnVsZS5zcGVjaWFsU2l0ZSIsCiAgICAiYm9va2xpbmsubWUg54K55Ye755qE572R56uZ5by65Yi25ZCv55SoIjogImJvb2tsaW5rLm1lIOm7nuaTiueahOe2suermeW8t+WItuWVn+eUqCIsCiAgICAi6YOo5YiG6YCJ6aG56ZyA6KaB5Yi35paw6aG16Z2i5omN6IO955Sf5pWIIjogIumDqOS7vemBuOmghemcgOmHjeaWsOi8ieWFpemggemdouaJjeiDveeUn+aViCIsCiAgICAi5Y+W5raI5pys5qyh6K6+5a6a77yM5omA5pyJ6YCJ6aG56L+Y5Y6fIjogIuWPlua2iOacrOasoeioreWumu+8jOaJgOaciemBuOmghemChOWOnyIsCiAgICAi5LiN5b2x5ZONIGJvb2tsaW5rLm1lIOeahOWQr+eUqCI6ICLkuI3lvbHpn78gYm9va2xpbmsubWUg55qE5ZWf55SoIiwKICAgICLor7fovpPlhaXmiZPlvIDorr7nva7nmoTlv6vmjbfplK7vvJoiOiAi6KuL6Ly45YWl6ZaL5ZWf6Kit5a6a6KaW56qX55qE54ax6Y2177yaIiwKICAgICLlvq7ova/pm4Xpu5Es5a6L5L2TLOm7keS9kyzmpbfkvZMiOiAiTWljcm9zb2Z0IFlhSGVpLOaWsOe0sOaYjumrlCxQTWluZ0xpVSxNaW5nTGlVLOe0sOaYjumrlCzmqJnmpbfpq5QiLAogICAgIuWknOmXtOaooeW8j+eahOWbvueJh+eroOiKguajgOa1iyI6ICLlpJzplpPmqKHlvI/nmoTlnJbniYfnq6Dnr4DmqqLmuKwiLAogICAgIueCueWHu+aYvuekuumakOiXj+eroOiKguWIl+ihqCI6ICLpu57mraTku6Xpoa/npLrmiJbpmrHol4/nq6Dnr4DliJfooagiLAogICAgIua3u+WKoOS4i+S4gOmhteWIsOWOhuWPsuiusOW9lSI6ICLliqDlhaXkuIvkuIDpoIHliLDmrbflj7LoqJjpjIQiLAogICAgImJvb2tsaW5rIOiHquWKqOWQr+eUqCI6ICJib29rbGluayDoh6rli5XllZ/nlKgiLAogICAgIkVudGVyIOmUruaJk+W8gOebruW9lSI6ICJFbnRlciDpjbXplovllZ/nm67pjIQiLAogICAgIumakOiXj+W3puS+p+eroOiKguWIl+ihqCI6ICLpmrHol4/lt6blgbTnq6Dnr4DliJfooagiLAogICAgIuWwj+ivtOmYheivu+iEmuacrOiuvue9riI6IuWwj+iqqumWseiugOiFs+acrOioreWumiIsCiAgICAi5bey5Yiw6L6+5pyA5ZCO5LiA6aG1IjogIuW3suWIsOmBlOacgOW+jOS4gOmggSIsCiAgICAi5q2j5Zyo6L295YWl5LiL5LiA6aG1IjogIuato+WcqOi8ieWFpeS4i+S4gOmggSIsCiAgICAi6YCa6L+H5b+r5o236ZSu5YiH5o2iIjogIumAmumBjueGsemNteWIh+aPmyIsCiAgICAi6ZqQ6JeP5bqV6YOo5a+86Iiq5qCPIjogIumaseiXj+W6lemDqOWwjuiIquWIlyIsCiAgICAi6ZqQ6JeP5bem5L6n5a+86Iiq5p2hIjogIumaseiXj+W3puWBtOeroOevgOWIl+ihqOW9iOWHuumIlSIsCiAgICAi5Li76aG16ZO+5o6l5rKh5pyJ5om+5YiwIjogIuacquaJvuWIsOS4u+mggemAo+e1kCIsCiAgICAi6Ieq5a6a5LmJ56uZ54K56KeE5YiZIjogIuiHquiogue2suermeimj+WJhyIsCiAgICAi6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZIjogIuiHquioguWtl+ipnuWPluS7o+imj+WJhyIsCiAgICAi572R6aG177ya6L2s57mB5L2TIjogIue2sumgge+8mui9iee5gemrlCIsCiAgICAi5Y+M5Ye75pqC5YGc57+76aG1IjogIumbmeaTiuaaq+WBnOe/u+mggSIsCiAgICAi6ZqQ6JeP6K6+572u5oyJ6ZKuIjogIumaseiXj+ioreWumuaMiemIlSIsCiAgICAi5by65Yi25omL5Yqo5ZCv55SoIjogIuW8t+WItuaJi+WLleWVn+eUqCIsCiAgICAi6LCD55So6ZiF6K+75ZmoIjogIuiqv+eUqOmWseiugOWZqCIsCiAgICAi6Ieq5a6a5LmJ5qC35byPIjogIuiHquioguaoo+W8jyIsCiAgICAi55WM6Z2i6K+t6KiAIjogIuS7i+mdouiqnuiogCIsCiAgICAi5omT5byA55uu5b2VIjogIumWi+WVn+acrOabuOebrumMhOmggSIsCiAgICAi6Ieq5Yqo57+76aG1IjogIuiHquWLlee/u+mggSIsCiAgICAi57y655yB55qu6IKkIjogIumgkOioreS9iOaZryIsCiAgICAi5pqX6Imy55qu6IKkIjogIuaal+iJsuS9iOaZryIsCiAgICAi5aSc6Ze05qih5byPIjogIuWknOmWk+aooeW8jyIsCiAgICAi5aSc6Ze05qih5byPMSI6ICLlpJzplpPmqKHlvI8xIiwKICAgICLlpJzpl7TmqKHlvI8yIjogIuWknOmWk+aooeW8jzIiLAogICAgIuapmeiJsuiDjOaZryI6ICLmqZnoibLog4zmma8iLAogICAgIue7v+iJsuiDjOaZryI6ICLntqDoibLog4zmma8iLAogICAgIue7v+iJsuiDjOaZrzIiOiAi57ag6Imy6IOM5pmvMiIsCiAgICAi6JOd6Imy6IOM5pmvIjogIuiXjeiJsuiDjOaZryIsCiAgICAi5qOV6buE6IOM5pmvIjogIuajlem7g+iDjOaZryIsCiAgICAi57uP5YW455qu6IKkIjogIue2k+WFuOiDjOaZryIsCiAgICAi6ZiF6K+75qih5byPIjogIumWseiugOaooeW8jyIsCiAgICAi6LCD6K+V5qih5byPIjogIuWBtemMr+aooeW8jyIsCiAgICAi5Y+N6aaI5Zyw5Z2AIjogIuWPjemli+iIh+iojuirliIsCiAgICAi5a6J6Z2Z5qih5byPIjogIuWuiemdnOaooeW8jyIsCiAgICAi4oiaIOehruiupCI6ICLiiJog56K65a6aIiwKICAgICJYIOWPlua2iCI6ICJYIOWPlua2iCIsCiAgICAi5LiK5LiA6aG1IjogIuS4iuS4gOmggSIsCiAgICAi5LiL5LiA6aG1IjogIuS4i+S4gOmggSIsCiAgICAi54q25oCBIjogIueLgOaFiyIsCiAgICAi5bey57uPIjogIuW3sue2kyIsCiAgICAi5pqC5YGcIjogIuaaq+WBnCIsCiAgICAi5ZCv55SoIjogIuWVn+eUqCIsCiAgICAi6YCA5Ye6IjogIumboumWiyIsCiAgICAi5rWL6K+VIjogIua4rOippiIsCiAgICAi6Led56a7IjogIui3nemboiIsCiAgICAi5Yqg6L29IjogIui8ieWFpSIsCiAgICAi5a2X5L2TIjogIuWtl+WeiyIsCiAgICAi6KGM6auYIjogIuihjOi3nSIsCiAgICAi6KGM5a69IjogIueJiOmdouWvrOW6piIsCiAgICAi55uu5b2VIjogIuebrumMhCIKfTsKCmlmKCFTdHJpbmcucHJvdG90eXBlLnVpVHJhbnMpewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICd1aVRyYW5zJywgewogICAgICAgIHZhbHVlOiBmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLnZhbHVlT2YoKSwga2V5LCByZWdleHA7CiAgICAgICAgICAgIGlmKENvbmZpZy5sYW5nICE9PSAnemgtVFcnKSByZXR1cm4gX3RoaXM7CiAgICAgICAgICAgIGlmKHVpVHJhbnMuaGFzT3duUHJvcGVydHkoX3RoaXMpKSByZXR1cm4gdWlUcmFuc1tfdGhpc107CiAgICAgICAgICAgIGZvciAoa2V5IGluIHVpVHJhbnMpIHsKICAgICAgICAgICAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoa2V5LCAnZycpOwogICAgICAgICAgICAgICAgX3RoaXMgPSBfdGhpcy5yZXBsYWNlKHJlZ2V4cCwgdWlUcmFuc1trZXldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX3RoaXM7CiAgICAgICAgfSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgfSk7Cn0KCi8vLS0tLS0tLS0tLS0tLS0tLS0tLSDovoXliqnlh73mlbAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIG51bGxGbiA9IGZ1bmN0aW9uKCkge307CgovLyBDaGVjayBpZiBpcyBHTSAyLngKaWYgKHR5cGVvZiBleHBvcnRGdW5jdGlvbiA9PSAndW5kZWZpbmVkJykgewogICAgLy8gRm9yIEdNIDEueCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBzaG91bGQgd29yay4KICAgIHZhciBleHBvcnRGdW5jdGlvbiA9IChmdW5jdGlvbihmb28sIHNjb3BlLCBkZWZBcykgewogICAgICAgIHNjb3BlW2RlZkFzLmRlZmluZUFzXSA9IGZvbzsKICAgIH0pLmJpbmQodW5zYWZlV2luZG93KTsKfQoKdmFyIEM7CnRvZ2dsZUNvbnNvbGUoQ29uZmlnLmRlYnVnKTsKCmZ1bmN0aW9uIHRvZ2dsZUNvbnNvbGUoZGVidWcpIHsKICAgIGlmIChkZWJ1ZykgewogICAgICAgIEMgPSBjb25zb2xlOwogICAgfSBlbHNlIHsKICAgICAgICBDID0gewogICAgICAgICAgICBsb2c6IG51bGxGbiwKICAgICAgICAgICAgZGVidWc6IG51bGxGbiwKICAgICAgICAgICAgZXJyb3I6IG51bGxGbiwKICAgICAgICAgICAgZ3JvdXA6IG51bGxGbiwKICAgICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IG51bGxGbiwKICAgICAgICAgICAgZ3JvdXBFbmQ6IG51bGxGbiwKICAgICAgICAgICAgdGltZTogbnVsbEZuLAogICAgICAgICAgICB0aW1lRW5kOiBudWxsRm4sCiAgICAgICAgfTsKICAgIH0KfQoKZnVuY3Rpb24gTF9nZXRWYWx1ZShrZXkpIHsgLy8g5Liq5Yir55So5oi356aB55So5pys5Zyw5a2Y5YKo5Lya5oql6ZSZCiAgICB0cnkgewogICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgfSBjYXRjaCAoZSkge30KfQoKZnVuY3Rpb24gTF9zZXRWYWx1ZShrZXksIHZhbHVlKSB7CiAgICB0cnkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgfSBjYXRjaCAoZSkge30KfQoKZnVuY3Rpb24gTF9yZW1vdmVWYWx1ZShrZXkpIHsKICAgIHRyeSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsKICAgIH0gY2F0Y2ggKGUpIHt9Cn0KCgpmdW5jdGlvbiBwYXJzZUhUTUwoc3RyKSB7CiAgICB2YXIgZG9jOwogICAgdHJ5IHsKICAgICAgICAvLyBmaXJlZm94IGFuZCBjaHJvbWUgMzAr77yMT3BlcmEgMTIg5Lya5oql6ZSZCiAgICAgICAgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzdHIsICJ0ZXh0L2h0bWwiKTsKICAgIH0gY2F0Y2ggKGV4KSB7fQoKICAgIGlmICghZG9jKSB7CiAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTsKICAgICAgICBkb2MucXVlcnlTZWxlY3RvcigiaHRtbCIpLmlubmVySFRNTCA9IHN0cjsKICAgIH0KICAgIHJldHVybiBkb2M7Cn0KCmZ1bmN0aW9uIHRvUkUob2JqLCBmbGFnKSB7CiAgICBpZiAob2JqIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAob2JqLCAoZmxhZyB8fCAnaWcnKSk7CiAgICB9Cn0KCmZ1bmN0aW9uIHRvUmVTdHIoc3RyKSB7ICAvLyDlpITnkIblrZfnrKbkuLLvvIzlkKbliJnlj6/og73kvJrml6Dms5XnlKjmraPliJnmm7/mjaIKICAgIHJldHVybiBzdHIucmVwbGFjZSgvWygpXFtcXXt9fCsuLF4kP1xcKl0vZywgIlxcJCYiKTsKfQoKZnVuY3Rpb24gd2lsZGNhcmRUb1JlZ0V4cFN0cih1cmxzdHIpIHsKICAgIGlmICh1cmxzdHIuc291cmNlKSByZXR1cm4gdXJsc3RyLnNvdXJjZTsKICAgIHZhciByZWcgPSB1cmxzdHIucmVwbGFjZSgvWygpXFtcXXt9fCsuLF4kP1xcXS9nLCAiXFwkJiIpLnJlcGxhY2UoL1wqKy9nLCBmdW5jdGlvbihzdHIpewogICAgICAgIHJldHVybiBzdHIgPT09ICIqIiA/ICIuKiIgOiAiW14vXSoiOwogICAgfSk7CiAgICByZXR1cm4gIl4iICsgcmVnICsgIiQiOwp9CgpmdW5jdGlvbiBnZXRVcmxIb3N0KHVybCkgewogICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBhLmhyZWYgPSB1cmw7CiAgICByZXR1cm4gYS5ob3N0Owp9CgovLyDmqKHmnb8KJC5uYW5vID0gZnVuY3Rpb24odGVtcGxhdGUsIGRhdGEpIHsKICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9ceyhbXHdcLl0qKVx9L2csIGZ1bmN0aW9uKHN0ciwga2V5KSB7CiAgICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoIi4iKSwKICAgICAgICAgICAgdiA9IGRhdGFba2V5cy5zaGlmdCgpXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB2ID0gdltrZXlzW2ldXTsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgIHJldHVybiAodHlwZW9mIHYgIT09ICJ1bmRlZmluZWQiICYmIHYgIT09IG51bGwpID8gdiA6ICIiOwogICAgfSk7Cn07CgovLyBqUXVlcnkgdGV4dCDlrozlhajljLnphY0uIGUuZy4gYTplY29udGFpbnMoJ+acgOaWsOeroOiKgicpCiQuZXhwclsiOiJdLmVjb250YWlucyA9IGZ1bmN0aW9uKG9iaiwgaW5kZXgsIG1ldGEsIHN0YWNrKSB7CiAgICByZXR1cm4gKG9iai50ZXh0Q29udGVudCB8fCBvYmouaW5uZXJUZXh0IHx8ICQob2JqKS50ZXh0KCkgfHwgIiIpLnRvTG93ZXJDYXNlKCkgPT0gbWV0YVszXS50b0xvd2VyQ2FzZSgpOwp9OwoKLyoganNoaW50IGlnbm9yZTogc3RhcnQgKi8KCmZ1bmN0aW9uICR4KGFYUGF0aCwgYUNvbnRleHQpIHsKICAgIHZhciBub2RlcyA9IFtdOwogICAgdmFyIGRvYyA9IGRvY3VtZW50OwogICAgYUNvbnRleHQgPSBhQ29udGV4dCB8fCBkb2M7CgogICAgdHJ5IHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGRvYy5ldmFsdWF0ZShhWFBhdGgsIGFDb250ZXh0LCBudWxsLAogICAgICAgICAgICBYUGF0aFJlc3VsdC5BTllfVFlQRSwgbnVsbCk7CiAgICAgICAgdmFyIG5vZGU7CiAgICAgICAgd2hpbGUgKG5vZGUgPSByZXN1bHRzLml0ZXJhdGVOZXh0KCkpIHsKICAgICAgICAgICAgbm9kZXMucHVzaChub2RlKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChleCkge30KCiAgICByZXR1cm4gbm9kZXM7Cn0KCkZ1bmN0aW9uLnByb3RvdHlwZS5nZXRNU3RyID0gZnVuY3Rpb24oKSB7ICAvLyDlpJrooYxTdHJpbmcKICAgIHZhciBsaW5lcyA9IG5ldyBTdHJpbmcodGhpcyk7CiAgICBsaW5lcyA9IGxpbmVzLnN1YnN0cmluZyhsaW5lcy5pbmRleE9mKCIvKiIpICsgMywgbGluZXMubGFzdEluZGV4T2YoIiovIikpOwogICAgcmV0dXJuIGxpbmVzOwp9OwoKaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggIT0gJ2Z1bmN0aW9uJykgewogICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgc3RyLmxlbmd0aCkgPT0gc3RyOwogICAgfTsKfQoKaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zICE9ICdmdW5jdGlvbicpIHsKICAgIFN0cmluZy5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihzdHIpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHN0cikgIT0gLTE7CiAgICB9Owp9CgpmdW5jdGlvbiBzYXZlQXMoZGF0YSwgZmlsZW5hbWUpIHsKICAgIGlmKCFmaWxlbmFtZSkgZmlsZW5hbWUgPSAnY29uc29sZS5qc29uJwoKICAgIGlmICh0eXBlb2YgZGF0YSA9PSAnb2JqZWN0JykgewogICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIDQpOwogICAgfQoKICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pOwogICAgdmFyIHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgdmFyIHNhdmVhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIHNhdmVhcy5ocmVmID0gdXJsOwogICAgc2F2ZWFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNhdmVhcyk7CiAgICBzYXZlYXMuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgIHNhdmVhcy5jbGljaygpOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBzYXZlYXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzYXZlYXMpOwogICAgfSwgMTAwMCkKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIGZ1bmN0aW9uKCkgewogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7CiAgICB9KTsKfQoKLyoKICogalF1ZXJ5IEVhc2luZyB2MS4zIC0gaHR0cDovL2dzZ2QuY28udWsvc2FuZGJveC9qcXVlcnkvZWFzaW5nLwogKi8KalF1ZXJ5LmVhc2luZy5qc3dpbmc9alF1ZXJ5LmVhc2luZy5zd2luZyxqUXVlcnkuZXh0ZW5kKGpRdWVyeS5lYXNpbmcse2RlZjoiZWFzZU91dFF1YWQiLHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGpRdWVyeS5lYXNpbmdbalF1ZXJ5LmVhc2luZy5kZWZdKGEsYixjLGQsZSl9LGVhc2VJblF1YWQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZCooYi89ZSkqYitjfSxlYXNlT3V0UXVhZDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybi1kKihiLz1lKSooYi0yKStjfSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuKGIvPWUvMik8MT9kLzIqYipiK2M6LWQvMiooLS1iKihiLTIpLTEpK2N9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKGIvPWUpKmIqYitjfSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZCooKGI9Yi9lLTEpKmIqYisxKStjfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybihiLz1lLzIpPDE/ZC8yKmIqYipiK2M6ZC8yKigoYi09MikqYipiKzIpK2N9LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKGIvPWUpKmIqYipiK2N9LGVhc2VPdXRRdWFydDpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybi1kKigoYj1iL2UtMSkqYipiKmItMSkrY30sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4oYi89ZS8yKTwxP2QvMipiKmIqYipiK2M6LWQvMiooKGItPTIpKmIqYipiLTIpK2N9LGVhc2VJblF1aW50OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKGIvPWUpKmIqYipiKmIrY30sZWFzZU91dFF1aW50OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqKChiPWIvZS0xKSpiKmIqYipiKzEpK2N9LGVhc2VJbk91dFF1aW50OmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuKGIvPWUvMik8MT9kLzIqYipiKmIqYipiK2M6ZC8yKigoYi09MikqYipiKmIqYisyKStjfSxlYXNlSW5TaW5lOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuLWQqTWF0aC5jb3MoYi9lKihNYXRoLlBJLzIpKStkK2N9LGVhc2VPdXRTaW5lOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQqTWF0aC5zaW4oYi9lKihNYXRoLlBJLzIpKStjfSxlYXNlSW5PdXRTaW5lOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuLWQvMiooTWF0aC5jb3MoTWF0aC5QSSpiL2UpLTEpK2N9LGVhc2VJbkV4cG86ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gMD09Yj9jOmQqTWF0aC5wb3coMiwxMCooYi9lLTEpKStjfSxlYXNlT3V0RXhwbzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBiPT1lP2MrZDpkKigtTWF0aC5wb3coMiwtMTAqYi9lKSsxKStjfSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIDA9PWI/YzpiPT1lP2MrZDooYi89ZS8yKTwxP2QvMipNYXRoLnBvdygyLDEwKihiLTEpKStjOmQvMiooLU1hdGgucG93KDIsLTEwKi0tYikrMikrY30sZWFzZUluQ2lyYzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybi1kKihNYXRoLnNxcnQoMS0oYi89ZSkqYiktMSkrY30sZWFzZU91dENpcmM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZCpNYXRoLnNxcnQoMS0oYj1iL2UtMSkqYikrY30sZWFzZUluT3V0Q2lyYzpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybihiLz1lLzIpPDE/LWQvMiooTWF0aC5zcXJ0KDEtYipiKS0xKStjOmQvMiooTWF0aC5zcXJ0KDEtKGItPTIpKmIpKzEpK2N9LGVhc2VJbkVsYXN0aWM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0xLjcwMTU4LGc9MCxoPWQ7cmV0dXJuIDA9PWI/YzoxPT0oYi89ZSk/YytkOihnfHwoZz0uMyplKSxoPE1hdGguYWJzKGQpPyhoPWQsZj1nLzQpOmY9Zy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZC9oKSwtKGgqTWF0aC5wb3coMiwxMCooYi09MSkpKk1hdGguc2luKChiKmUtZikqMipNYXRoLlBJL2cpKStjKX0sZWFzZU91dEVsYXN0aWM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0xLjcwMTU4LGc9MCxoPWQ7cmV0dXJuIDA9PWI/YzoxPT0oYi89ZSk/YytkOihnfHwoZz0uMyplKSxoPE1hdGguYWJzKGQpPyhoPWQsZj1nLzQpOmY9Zy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZC9oKSxoKk1hdGgucG93KDIsLTEwKmIpKk1hdGguc2luKChiKmUtZikqMipNYXRoLlBJL2cpK2QrYyl9LGVhc2VJbk91dEVsYXN0aWM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0xLjcwMTU4LGc9MCxoPWQ7cmV0dXJuIDA9PWI/YzoyPT0oYi89ZS8yKT9jK2Q6KGd8fChnPWUqLjMqMS41KSxoPE1hdGguYWJzKGQpPyhoPWQsZj1nLzQpOmY9Zy8oMipNYXRoLlBJKSpNYXRoLmFzaW4oZC9oKSwxPmI/LS41KmgqTWF0aC5wb3coMiwxMCooYi09MSkpKk1hdGguc2luKChiKmUtZikqMipNYXRoLlBJL2cpK2M6LjUqaCpNYXRoLnBvdygyLC0xMCooYi09MSkpKk1hdGguc2luKChiKmUtZikqMipNYXRoLlBJL2cpK2QrYyl9LGVhc2VJbkJhY2s6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB2b2lkIDA9PWYmJihmPTEuNzAxNTgpLGQqKGIvPWUpKmIqKChmKzEpKmItZikrY30sZWFzZU91dEJhY2s6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB2b2lkIDA9PWYmJihmPTEuNzAxNTgpLGQqKChiPWIvZS0xKSpiKigoZisxKSpiK2YpKzEpK2N9LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB2b2lkIDA9PWYmJihmPTEuNzAxNTgpLChiLz1lLzIpPDE/ZC8yKmIqYiooKChmKj0xLjUyNSkrMSkqYi1mKStjOmQvMiooKGItPTIpKmIqKCgoZio9MS41MjUpKzEpKmIrZikrMikrY30sZWFzZUluQm91bmNlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQtalF1ZXJ5LmVhc2luZy5lYXNlT3V0Qm91bmNlKGEsZS1iLDAsZCxlKStjfSxlYXNlT3V0Qm91bmNlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuKGIvPWUpPDEvMi43NT9kKjcuNTYyNSpiKmIrYzoyLzIuNzU+Yj9kKig3LjU2MjUqKGItPTEuNS8yLjc1KSpiKy43NSkrYzoyLjUvMi43NT5iP2QqKDcuNTYyNSooYi09Mi4yNS8yLjc1KSpiKy45Mzc1KStjOmQqKDcuNTYyNSooYi09Mi42MjUvMi43NSkqYisuOTg0Mzc1KStjfSxlYXNlSW5PdXRCb3VuY2U6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZS8yPmI/LjUqalF1ZXJ5LmVhc2luZy5lYXNlSW5Cb3VuY2UoYSwyKmIsMCxkLGUpK2M6LjUqalF1ZXJ5LmVhc2luZy5lYXNlT3V0Qm91bmNlKGEsMipiLWUsMCxkLGUpKy41KmQrY319KTsKCi8qIGpzaGludCBpZ25vcmU6IGVuZCAqLwoKCnZhciBVSSA9IHsKICAgIHRwbF9mb290ZXJfbmF2OiAnXAogICAgICAgIDxkaXYgY2xhc3M9ImNoYXB0ZXItZm9vdGVyLW5hdiI+XAogICAgICAgICAgICA8YSBjbGFzcz0icHJldi1wYWdlIiBocmVmPSJ7cHJldlVybH0iPuS4iuS4gOmhtTwvYT4gfCBcCiAgICAgICAgICAgIDxhIGNsYXNzPSJpbmRleC1wYWdlIiBocmVmPSJ7aW5kZXhVcmx9IiB0aXRsZT0iRW50ZXIg6ZSu5omT5byA55uu5b2VIj7nm67lvZU8L2E+IHwgXAogICAgICAgICAgICA8YSBjbGFzcz0ibmV4dC1wYWdlIiBzdHlsZT0iY29sb3I6e3RoZUVuZENvbG9yfSIgaHJlZj0ie25leHRVcmx9Ij7kuIvkuIDpobU8L2E+XAogICAgICAgIDwvZGl2PlwKICAgICAgICAnLnVpVHJhbnMoKSwKICAgIHNraW5zOiB7fSwKCiAgICBpbml0OiBmdW5jdGlvbigpewogICAgICAgIFVJLnJlZnJlc2hNYWluU3R5bGUoKTsKCiAgICAgICAgVUkucmVmcmVzaFNraW5TdHlsZShDb25maWcuc2tpbl9uYW1lLCB0cnVlKTsKCiAgICAgICAgVUkucmVmcmVzaEV4dHJhU3R5bGUoQ29uZmlnLmV4dHJhX2Nzcyk7CgogICAgICAgIFVJLmZpeE1vYmlsZSgpOwoKICAgICAgICAvLyDliJ3lp4vlj5jph48KICAgICAgICBVSS4kbWVudSA9ICQoJyNtZW51Jyk7CiAgICAgICAgVUkuJG1lbnVCYXIgPSAkKCcjbWVudS1iYXInKTsKICAgICAgICBVSS4kY29udGVudCA9ICQoJyNteW5vdmVscmVhZGVyLWNvbnRlbnQnKTsKICAgICAgICBVSS4kcHJlZmVyZW5jZXNCdG4gPSAkKCcjcHJlZmVyZW5jZXNCdG4nKTsKCiAgICAgICAgLy8g5Yid5aeL5YyW5piv5ZCm6ZqQ6JePCiAgICAgICAgaWYoQ29uZmlnLmhpZGVfZm9vdGVyX25hdil7CiAgICAgICAgICAgIFVJLmhpZGVGb290ZXJOYXZTdHlsZSh0cnVlKTsKICAgICAgICB9CgogICAgICAgIC8vIFVJLnRvZ2dsZVF1aWV0TW9kZSgpOyAgLy8g5Yid5aeL5YyW5a6J6Z2Z5qih5byPCiAgICAgICAgVUkuaGlkZU1lbnVMaXN0KENvbmZpZy5tZW51X2xpc3RfaGlkZGRlbik7ICAvLyDliJ3lp4vljJbnq6DoioLliJfooajmmK/lkKbpmpDol48KICAgICAgICBVSS5oaWRlUHJlZmVyZW5jZXNCdXR0b24oQ29uZmlnLmhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uKTsgIC8vIOWIneWni+WMluiuvue9ruaMiemSruaYr+WQpumakOiXjwogICAgfSwKICAgIHJlZnJlc2hNYWluU3R5bGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIG1haW5Dc3MgPSBSZXMuQ1NTX01BSU4KICAgICAgICAgICAgICAgIC5yZXBsYWNlKCJ7Zm9udF9mYW1pbHl9IiwgQ29uZmlnLmZvbnRfZmFtaWx5KQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIntmb250X3NpemV9IiwgVUkuY2FsY0NvbnRlbnRGb250U2l6ZShDb25maWcuZm9udF9zaXplKSkKICAgICAgICAgICAgICAgIC5yZXBsYWNlKCJ7dGl0bGVfZm9udF9zaXplfSIsIFVJLmNhbGNUaXRsZUZvbnRTaXplKENvbmZpZy5mb250X3NpemUpKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIntjb250ZW50X3dpZHRofSIsIENvbmZpZy5jb250ZW50X3dpZHRoKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoInt0ZXh0X2xpbmVfaGVpZ2h0fSIsIENvbmZpZy50ZXh0X2xpbmVfaGVpZ2h0KQogICAgICAgICAgICAgICAgLnJlcGxhY2UoInttZW51LWJhci1oaWRkZW59IiwgQ29uZmlnLm1lbnVfYmFyX2hpZGRlbiA/ICJkaXNwbGF5Om5vbmU7IiA6ICIiKTsKCiAgICAgICAgaWYoVUkuJG1haW5TdHlsZSl7CiAgICAgICAgICAgIFVJLiRtYWluU3R5bGUudGV4dChtYWluQ3NzKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgVUkuJG1haW5TdHlsZSA9ICQoJzxzdHlsZSBpZD0ibWFpbiI+JykKICAgICAgICAgICAgLnRleHQobWFpbkNzcykKICAgICAgICAgICAgLmFwcGVuZFRvKCdoZWFkJyk7CiAgICB9LAogICAgaGlkZUZvb3Rlck5hdlN0eWxlOiBmdW5jdGlvbihoaWRkZW4pewogICAgICAgIHZhciBuYXZTdHlsZSA9ICQoIiNmb290ZXJfbmF2X2NzcyIpOwogICAgICAgIGlmKGhpZGRlbikgewogICAgICAgICAgICBpZihuYXZTdHlsZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICQoJzxzdHlsZT4nKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJpZCIsICJmb290ZXJfbmF2X2NzcyIpCiAgICAgICAgICAgICAgICAgICAgLnRleHQoIi5jaGFwdGVyLWZvb3Rlci1uYXYgeyBkaXNwbGF5OiBub25lOyB9IikKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2hlYWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5hdlN0eWxlLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sCiAgICBoaWRlTWVudUxpc3Q6IGZ1bmN0aW9uKGhpZGRlbil7CiAgICAgICAgaWYodHlwZW9mKGhpZGRlbikgPT09ICJ1bmRlZmluZWQiKXsKICAgICAgICAgICAgaGlkZGVuID0gIVVJLm1lbnVfbGlzdF9oaWRkZGVuOwogICAgICAgIH0KCiAgICAgICAgaWYoaGlkZGVuKXsKICAgICAgICAgICAgVUkuJG1lbnUuYWRkQ2xhc3MoJ2hpZGRlbicpOwogICAgICAgICAgICBVSS4kY29udGVudC5jc3MoIm1hcmdpbi1sZWZ0IiwgIiIpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBVSS4kbWVudS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgIFVJLiRjb250ZW50LmNzcygibWFyZ2luLWxlZnQiLCAiMzIwcHgiKTsKICAgICAgICB9CiAgICAgICAgVUkubWVudV9saXN0X2hpZGRkZW4gPSBoaWRkZW47CiAgICB9LAogICAgaGlkZVByZWZlcmVuY2VzQnV0dG9uOiBmdW5jdGlvbihoaWRkZW4pIHsKICAgICAgICBoaWRkZW4gPSBfLmlzVW5kZWZpbmVkKGhpZGRlbikgPyBDb25maWcuaGlkZV9wcmVmZXJlbmNlc19idXR0b24gOiBoaWRkZW47CgogICAgICAgIFVJLiRwcmVmZXJlbmNlc0J0bi50b2dnbGUoIWhpZGRlbik7CiAgICB9LAogICAgaGlkZU1lbnVCYXI6IGZ1bmN0aW9uKGhpZGRlbikgewogICAgICAgIGhpZGRlbiA9IF8uaXNVbmRlZmluZWQoaGlkZGVuKSA/IENvbmZpZy5tZW51X2Jhcl9oaWRkZW4gOiBoaWRkZW47CgogICAgICAgIFVJLiRtZW51QmFyLnRvZ2dsZSghaGlkZGVuKTsKICAgIH0sCiAgICByZWZyZXNoU2tpblN0eWxlOiBmdW5jdGlvbihza2luX25hbWUsIGlzRmlyc3QpewogICAgICAgIHZhciAkc3R5bGUgPSAkKCIjc2tpbl9zdHlsZSIpOwogICAgICAgIGlmKCRzdHlsZS5sZW5ndGggPT09IDApewogICAgICAgICAgICAkc3R5bGUgPSAkKCc8c3R5bGUgaWQ9InNraW5fc3R5bGUiPicpLmFwcGVuZFRvKCdoZWFkJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDlm77niYfnq6DoioLlpJzpl7TmqKHlvI/kvJrlj5jnmoTml6Dms5XnnIsKICAgICAgICBpZiAoaXNGaXJzdCAmJiBza2luX25hbWUuaW5kZXhPZign5aSc6Ze0Jy51aVRyYW5zKCkpICE9IC0xICYmIENvbmZpZy5waWNOaWdodE1vZGVDaGVjaykgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgaW1nID0gJCgnI215bm92ZWxyZWFkZXItY29udGVudCBpbWcnKVswXTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGltZy53aWR0aCwgaW1nLmhlaWdodCkKICAgICAgICAgICAgICAgIGlmIChpbWcgJiYgaW1nLndpZHRoID4gNTAwICYmIGltZy5oZWlnaHQgPiAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgJHN0eWxlLnRleHQoVUkuc2tpbnNbJ+e8uuecgeearuiCpCcudWlUcmFucygpXSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyMDApOwogICAgICAgIH0KCiAgICAgICAgJHN0eWxlLnRleHQoVUkuc2tpbnNbc2tpbl9uYW1lXSk7CiAgICB9LAogICAgcmVmcmVzaEV4dHJhU3R5bGU6IGZ1bmN0aW9uKGNzcyl7CiAgICAgICAgdmFyIHN0eWxlID0gJCgiI2V4dHJhX3N0eWxlIik7CiAgICAgICAgaWYoc3R5bGUubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgc3R5bGUgPSAkKCc8c3R5bGUgaWQ9ImV4dHJhX3N0eWxlIj4nKS5hcHBlbmRUbygnaGVhZCcpOwogICAgICAgIH0KCiAgICAgICAgc3R5bGUudGV4dChjc3MpOwogICAgfSwKICAgIHRvZ2dsZVF1aWV0TW9kZTogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5faXNRdWlldE1vZGUgPSAhdGhpcy5faXNRdWlldE1vZGU7CiAgICAgICAgdmFyIHNlbGVjdG9yID0gJyNtZW51LWJhciwgI21lbnUsICNwcmVmZXJlbmNlc0J0biwgLnJlYWRlcmJ0bic7CgogICAgICAgIGlmICh0aGlzLiRfcXVpZXRTdHlsZSkgewogICAgICAgICAgICB0aGlzLiRfcXVpZXRTdHlsZS5yZW1vdmUoKTsKICAgICAgICAgICAgdGhpcy4kX3F1aWV0U3R5bGUgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuX2lzUXVpZXRNb2RlKSB7CiAgICAgICAgICAgICQoc2VsZWN0b3IpLmFkZENsYXNzKCJxdWlldC1tb2RlIik7CgogICAgICAgICAgICBpZiAoIWlzQ2hyb21lKSB7ICAvLyBmaXJlZm94IOS4i+makOiXj+a7muWKqOadoQogICAgICAgICAgICAgICAgdGhpcy4kX3F1aWV0U3R5bGUgPSAkKCc8c3R5bGU+JykKICAgICAgICAgICAgICAgICAgICAudGV4dCgnc2Nyb2xsYmFyIHt2aXNpYmlsaXR5OmNvbGxhcHNlICFpbXBvcnRhbnQ7IH0gYm9keSB7b3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OyBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudDt9JykKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2hlYWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQoc2VsZWN0b3IpLnJlbW92ZUNsYXNzKCJxdWlldC1tb2RlIik7CiAgICAgICAgfQogICAgfSwKICAgIGFkZEJ1dHRvbjogZnVuY3Rpb24oKXsKICAgICAgICBHTV9hZGRTdHlsZSgnXAogICAgICAgICAgICAucmVhZGVyYnRuIHtcCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XAogICAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7XAogICAgICAgICAgICAgICAgYm90dG9tOiAxMHB4O1wKICAgICAgICAgICAgICAgIHotaW5kZXg6IDIyNDc0ODM2NDg7XAogICAgICAgICAgICAgICAgcGFkZGluZzogMjBweCA1cHg7XAogICAgICAgICAgICAgICAgd2lkdGg6IDUwcHg7XAogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1wKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1wKICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcCiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZDtcCiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICM4ODg7XAogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1wKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjUpO1wKICAgICAgICAgICAgICAgIGNvbG9yOiAjRkZGO1wKICAgICAgICAgICAgICAgIGZvbnQ6IDEycHgvMS41ICLlvq7ova/pm4Xpu5EiLCLlrovkvZMiLEFyaWFsO1wKICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcCiAgICAgICAgICAgIH1cCiAgICAgICAgJyk7CgogICAgICAgICQoIjxkaXY+IikKICAgICAgICAgICAgLmFkZENsYXNzKCJyZWFkZXJidG4iKQogICAgICAgICAgICAuaHRtbChBcHAuaXNFbmFibGVkID8gIumAgOWHuiIudWlUcmFucygpIDogIumYheivu+aooeW8jyIudWlUcmFucygpKQogICAgICAgICAgICAubW91c2Vkb3duKGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgIGlmKGV2ZW50LndoaWNoID09IDEpewogICAgICAgICAgICAgICAgICAgIEFwcC50b2dnbGUoKTsKICAgICAgICAgICAgICAgIH1lbHNlIGlmKGV2ZW50LndoaWNoID09IDIpewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgTF9zZXRWYWx1ZSgibXlub3ZlcmxyZWFkZXJfZGlzYWJsZV9vbmNlIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBBcHAuYWN0aXZlVXJsIHx8IEFwcC5jdXJQYWdlVXJsOwogICAgICAgICAgICAgICAgICAgIEFwcC5vcGVuVXJsKHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5hcHBlbmRUbygnYm9keScpOwogICAgfSwKICAgIGNhbGNDb250ZW50Rm9udFNpemU6IGZ1bmN0aW9uKGZvbnRTaXplU3RyKSB7CiAgICAgICAgdmFyIG0gPSBmb250U2l6ZVN0ci5tYXRjaCgvKFtcZFwuXSspKHB4fHI/ZW18cHQpLyk7CiAgICAgICAgaWYobSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IG1bMV0sCiAgICAgICAgICAgICAgICB0eXBlID0gbVsyXTsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc2l6ZSwgMTApICsgdHlwZTsKICAgICAgICB9CgogICAgICAgIG0gPSBmb250U2l6ZVN0ci5tYXRjaCgvKFtcZFwuXSspLyk7CiAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobVsxXSwgMTApICsgJ3B4JzsKICAgICAgICB9CgogICAgICAgIHJldHVybiAiIjsKICAgIH0sCiAgICBjYWxjVGl0bGVGb250U2l6ZTogZnVuY3Rpb24oZm9udFNpemVTdHIpewogICAgICAgIHZhciBtID0gZm9udFNpemVTdHIubWF0Y2goLyhbXGRcLl0rKShweHxyP2VtfHB0KS8pOwogICAgICAgIGlmKG0pIHsKICAgICAgICAgICAgdmFyIHNpemUgPSBtWzFdLAogICAgICAgICAgICAgICAgdHlwZSA9IG1bMl07CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHNpemUsIDEwKSAqIDEuOCArIHR5cGU7CiAgICAgICAgfQoKICAgICAgICBtID0gZm9udFNpemVTdHIubWF0Y2goLyhbXGRcLl0rKS8pOwogICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KG1bMV0sIDEwKSAqIDEuOCArICdweCc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIiI7CiAgICB9LAogICAgZml4TW9iaWxlOiBmdW5jdGlvbigpeyAgLy8g6Ieq6YCC5bqU572R6aG16K6+6K6hCiAgICAgICAgdmFyIG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJtZXRhIik7CiAgICAgICAgbWV0YS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidmlld3BvcnQiKTsKICAgICAgICBtZXRhLnNldEF0dHJpYnV0ZSgiY29udGVudCIsICJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSIpOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobWV0YSk7CiAgICB9LAogICAgcHJlZmVyZW5jZXNTaG93OiBmdW5jdGlvbihldmVudCl7CiAgICAgICAgaWYoJCgiI3JlYWRlcl9wcmVmZXJlbmNlcyIpLmxlbmd0aCl7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIFVJLl9sb2FkQmxvY2tlcigpOwoKICAgICAgICBVSS4kcHJlZnMgPSAkKCc8ZGl2IGlkPSJyZWFkZXJfcHJlZmVyZW5jZXMiPicpCiAgICAgICAgICAgIC5jc3MoJ2Nzc1RleHQnLCAncG9zaXRpb246Zml4ZWQ7IHRvcDoxMiU7IGxlZnQ6MzAlOyB3aWR0aDo1MDBweDsgei1pbmRleDozMDAwMDA7JykKICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICQoJzxzdHlsZT4nKS50ZXh0KFJlcy5wcmVmZXJlbmNlc0NTUykpCiAgICAgICAgICAgIC5hcHBlbmQoCiAgICAgICAgICAgICAgICAkKCc8ZGl2IGNsYXNzPSJib2R5Ij4nKS5odG1sKFJlcy5wcmVmZXJlbmNlc0hUTUwpKQogICAgICAgICAgICAuYXBwZW5kVG8oJ2JvZHknKTsKCiAgICAgICAgVUkucHJlZmVyZW5jZXNMb2FkSGFuZGxlcigpOwogICAgfSwKICAgIF9sb2FkQmxvY2tlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgVUkuJGJsb2NrZXIgPSAkKCc8ZGl2PicpLmF0dHIoewogICAgICAgICAgICBpZDogJ3VpbF9ibG9ja2VyJywKICAgICAgICAgICAgc3R5bGU6ICdwb3NpdGlvbjpmaXhlZDt0b3A6MHB4O2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206MHB4O2JhY2tncm91bmQtY29sb3I6IzAwMDtvcGFjaXR5OjAuNTt6LWluZGV4OjEwMDAwMDsnCiAgICAgICAgfSkuYXBwZW5kVG8oJ2JvZHknKTsKICAgIH0sCiAgICBoaWRlOiBmdW5jdGlvbigpewogICAgICAgIGlmKFVJLiRwcmVmcykgVUkuJHByZWZzLnJlbW92ZSgpOwogICAgICAgIGlmKFVJLiRibG9ja2VyKSBVSS4kYmxvY2tlci5yZW1vdmUoKTsKICAgICAgICBVSS4kcHJlZnMgPSBudWxsOwogICAgICAgIFVJLiRibG9ja2VyID0gbnVsbDsKICAgIH0sCiAgICBwcmVmZXJlbmNlc0xvYWRIYW5kbGVyOiBmdW5jdGlvbigpewogICAgICAgIHZhciAkZm9ybSA9ICQoIiNwcmVmZXJlbmNlcyIpOwoKICAgICAgICAvLyBjaGVja2JveAogICAgICAgICRmb3JtLmZpbmQoIiNlbmFibGUtY24ydHciKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5jbjJ0dzsKICAgICAgICAkZm9ybS5maW5kKCIjZGlzYWJsZS1hdXRvLWxhdW5jaCIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmdldERpc2FibGVBdXRvTGF1bmNoKCk7CiAgICAgICAgJGZvcm0uZmluZCgiI2Jvb2tsaW5rLWVuYWJsZSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmJvb2tsaW5rX2VuYWJsZTsKICAgICAgICAkZm9ybS5maW5kKCIjZGVidWciKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5kZWJ1ZzsKICAgICAgICAkZm9ybS5maW5kKCIjcXVpZXRNb2RlIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuaXNRdWlldE1vZGU7CiAgICAgICAgJGZvcm0uZmluZCgiI3BpYy1uaWdodG1vZGUtY2hlY2siKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5waWNOaWdodE1vZGVDaGVjazsKICAgICAgICAkZm9ybS5maW5kKCIjY29weUN1clRpdGxlIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuY29weUN1clRpdGxlOwoKICAgICAgICAkZm9ybS5maW5kKCIjaGlkZS1tZW51LWxpc3QiKS5nZXQoMCkuY2hlY2tlZCA9IENvbmZpZy5tZW51X2xpc3RfaGlkZGRlbjsKICAgICAgICAkZm9ybS5maW5kKCIjaGlkZS1mb290ZXItbmF2IikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuaGlkZV9mb290ZXJfbmF2OwogICAgICAgICRmb3JtLmZpbmQoIiNoaWRlLXByZWZlcmVuY2VzLWJ1dHRvbiIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uOwogICAgICAgICRmb3JtLmZpbmQoIiNhZGQtbmV4dHBhZ2UtdG8taGlzdG9yeSIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLmFkZFRvSGlzdG9yeTsKICAgICAgICAkZm9ybS5maW5kKCIjZW5hYmxlLWRibGNsaWNrLXBhdXNlIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuZGJsY2xpY2tQYXVzZTsKCiAgICAgICAgJGZvcm0uZmluZCgiI2ZvbnQtZmFtaWx5IikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLmZvbnRfZmFtaWx5OwogICAgICAgICRmb3JtLmZpbmQoIiNmb250LXNpemUiKS5nZXQoMCkudmFsdWUgPSBDb25maWcuZm9udF9zaXplOwogICAgICAgICRmb3JtLmZpbmQoIiNjb250ZW50X3dpZHRoIikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLmNvbnRlbnRfd2lkdGg7CiAgICAgICAgJGZvcm0uZmluZCgiI3RleHRfbGluZV9oZWlnaHQiKS5nZXQoMCkudmFsdWUgPSBDb25maWcudGV4dF9saW5lX2hlaWdodDsKICAgICAgICAkZm9ybS5maW5kKCIjc3BsaXRfY29udGVudCIpLmdldCgwKS5jaGVja2VkID0gQ29uZmlnLnNwbGl0X2NvbnRlbnQ7CiAgICAgICAgJGZvcm0uZmluZCgiI3Njcm9sbF9hbmltYXRlIikuZ2V0KDApLmNoZWNrZWQgPSBDb25maWcuc2Nyb2xsQW5pbWF0ZTsKCiAgICAgICAgJGZvcm0uZmluZCgiI3JlbWFpbi1oZWlnaHQiKS5nZXQoMCkudmFsdWUgPSBDb25maWcucmVtYWluX2hlaWdodDsKICAgICAgICAkZm9ybS5maW5kKCIjZXh0cmFfY3NzIikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLmV4dHJhX2NzczsKICAgICAgICAkZm9ybS5maW5kKCIjY3VzdG9tX3NpdGVpbmZvIikuZ2V0KDApLnZhbHVlID0gQ29uZmlnLmN1c3RvbVNpdGVpbmZvOwogICAgICAgIFVJLl9ydWxlcyA9ICRmb3JtLmZpbmQoIiNjdXN0b21fcmVwbGFjZV9ydWxlcyIpLmdldCgwKS52YWx1ZSA9IENvbmZpZy5jdXN0b21SZXBsYWNlUnVsZXM7CgogICAgICAgIC8vIOeVjOmdouivreiogAogICAgICAgIHZhciAkbGFuZyA9ICRmb3JtLmZpbmQoIiNsYW5nIik7CiAgICAgICAgJCgiPG9wdGlvbj4iKS50ZXh0KCJ6aC1DTiIpLmFwcGVuZFRvKCRsYW5nKTsKICAgICAgICAkKCI8b3B0aW9uPiIpLnRleHQoInpoLVRXIikuYXBwZW5kVG8oJGxhbmcpOwogICAgICAgICRsYW5nLnZhbChDb25maWcubGFuZykuY2hhbmdlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBrZXkgPSAkKHRoaXMpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLnRleHQoKTsKICAgICAgICAgICAgQ29uZmlnLmxhbmcgPSBrZXk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIOearuiCpAogICAgICAgIHZhciAkc2tpbiA9ICRmb3JtLmZpbmQoIiNza2luIik7CiAgICAgICAgZm9yKHZhciBrZXkgaW4gVUkuc2tpbnMpewogICAgICAgICAgICAkKCI8b3B0aW9uPiIpLnRleHQoa2V5KS5hcHBlbmRUbygkc2tpbik7CiAgICAgICAgfQogICAgICAgICRza2luLnZhbChDb25maWcuc2tpbl9uYW1lKS5jaGFuZ2UoZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIGtleSA9ICQodGhpcykuZmluZCgib3B0aW9uOnNlbGVjdGVkIikudGV4dCgpOwogICAgICAgICAgICBVSS5yZWZyZXNoU2tpblN0eWxlKGtleSk7CiAgICAgICAgICAgIENvbmZpZy5za2luX25hbWUgPSBrZXk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIOWtl+S9k+Wkp+Wwj+etiemihOiniAogICAgICAgIHZhciBwcmV2aWV3ID0gXy5kZWJvdW5jZShmdW5jdGlvbigpewogICAgICAgICAgICBzd2l0Y2godGhpcy5pZCl7CiAgICAgICAgICAgICAgICBjYXNlICJmb250LXNpemUiOgogICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50Rm9udFNpemUgPSBVSS5jYWxjQ29udGVudEZvbnRTaXplKHRoaXMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZUZvbnRTaXplID0gVUkuY2FsY1RpdGxlRm9udFNpemUodGhpcy52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYodGl0bGVGb250U2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBVSS4kY29udGVudC5jc3MoImZvbnQtc2l6ZSIsIGNvbnRlbnRGb250U2l6ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFVJLiRjb250ZW50LmZpbmQoImgxIikuY3NzKCJmb250LXNpemUiLCB0aXRsZUZvbnRTaXplKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICJmb250LWZhbWlseSI6CiAgICAgICAgICAgICAgICAgICAgVUkuJGNvbnRlbnQuY3NzKCJmb250LWZhbWlseSIsIHRoaXMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAiY29udGVudF93aWR0aCI6CiAgICAgICAgICAgICAgICAgICAgVUkuJGNvbnRlbnQuY3NzKCJ3aWR0aCIsIHRoaXMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAidGV4dF9saW5lX2hlaWdodCI6CiAgICAgICAgICAgICAgICAgICAgVUkuJGNvbnRlbnQuY3NzKCJsaW5lLWhlaWdodCIsIHRoaXMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0sIDMwMCk7CiAgICAgICAgJGZvcm0ub24oImlucHV0IiwgImlucHV0IiwgcHJldmlldyk7CgogICAgICAgIC8vIOWIneWni+WMluiuvue9ruaMiemUrgogICAgICAgICRmb3JtLmZpbmQoIiNxdWlldE1vZGVLZXkiKS5nZXQoMCkudmFsdWUgPSBDb25maWcucXVpZXRNb2RlS2V5OwogICAgICAgICRmb3JtLmZpbmQoIiNvcGVuUHJlZmVyZW5jZXNLZXkiKS5nZXQoMCkudmFsdWUgPSBDb25maWcub3BlblByZWZlcmVuY2VzS2V5OwogICAgICAgICRmb3JtLmZpbmQoIiNzZXRIaWRlTWVudUxpc3RLZXkiKS5nZXQoMCkudmFsdWUgPSBDb25maWcuaGlkZU1lbnVMaXN0S2V5OwoKICAgICAgICAvLyDngrnlh7vkuovku7YKICAgICAgICAkZm9ybS5vbignY2xpY2snLCAnaW5wdXQ6Y2hlY2tib3gsIGlucHV0OmJ1dHRvbicsIGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgVUkucHJlZmVyZW5jZXNDbGlja0hhbmRsZXIoZXZlbnQudGFyZ2V0KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjbGVhblByZXZpZXc6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIOaBouWkjeWIneWni+iuvue9rgogICAgICAgIFVJLiRjb250ZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7CiAgICAgICAgVUkuJGNvbnRlbnQuZmluZCgiaDEiKS5jc3MoImZvbnQtc2l6ZSIsICIiKTsKICAgIH0sCiAgICBwcmVmZXJlbmNlc0NsaWNrSGFuZGxlcjogZnVuY3Rpb24odGFyZ2V0KXsKICAgICAgICB2YXIga2V5OwogICAgICAgIHN3aXRjaCAodGFyZ2V0LmlkKSB7CiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlX2J1dHRvbic6CiAgICAgICAgICAgICAgICBVSS5wcmVmZXJlbmNlc0Nsb3NlSGFuZGxlcigpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3NhdmVfYnV0dG9uJzoKICAgICAgICAgICAgICAgIFVJLnByZWZlcmVuY2VzU2F2ZUhhbmRsZXIoKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdkZWJ1Zyc6CiAgICAgICAgICAgICAgICBDb25maWcuZGVidWcgPSAhQ29uZmlnLmRlYnVnOwogICAgICAgICAgICAgICAgdG9nZ2xlQ29uc29sZShDb25maWcuZGVidWcpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3F1aWV0TW9kZSc6CiAgICAgICAgICAgICAgICBVSS50b2dnbGVRdWlldE1vZGUodGFyZ2V0LmNoZWNrZWQpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2hpZGUtbWVudS1saXN0JzoKICAgICAgICAgICAgICAgIFVJLmhpZGVNZW51TGlzdCh0YXJnZXQuY2hlY2tlZCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnaGlkZS1wcmVmZXJlbmNlcy1idXR0b24nOgogICAgICAgICAgICAgICAgVUkuaGlkZVByZWZlcmVuY2VzQnV0dG9uKHRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfpmpDol4/lkI7pgJrov4flv6vmjbfplK7miJYgR3JlYXNlbW9ua2V5IOeUqOaIt+iEmuacrOWRveS7pOWkhOiwg+eUqCcudWlUcmFucygpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdoaWRlLWZvb3Rlci1uYXYnOgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3F1aWV0TW9kZUtleSc6CiAgICAgICAgICAgICAgICBrZXkgPSBwcm9tcHQoJ+ivt+i+k+WFpeaJk+W8gOiuvue9rueahOW/q+aNt+mUru+8micudWlUcmFucygpLCBDb25maWcucXVpZXRNb2RlS2V5KTsKICAgICAgICAgICAgICAgIGlmIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICBDb25maWcucXVpZXRNb2RlS2V5ID0ga2V5OwogICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS52YWwoa2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdvcGVuUHJlZmVyZW5jZXNLZXknOgogICAgICAgICAgICAgICAga2V5ID0gcHJvbXB0KCfor7fovpPlhaXmiZPlvIDorr7nva7nmoTlv6vmjbfplK7vvJonLnVpVHJhbnMoKSwgQ29uZmlnLm9wZW5QcmVmZXJlbmNlc0tleSk7CiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLm9wZW5QcmVmZXJlbmNlc0tleSA9IGtleTsKICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkudmFsKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2V0SGlkZU1lbnVMaXN0S2V5JzoKICAgICAgICAgICAgICAgIGtleSA9IHByb21wdCgn6K+36L6T5YWl5YiH5o2i5bem5L6n56ug6IqC5YiX6KGo55qE5b+r5o236ZSu77yaJy51aVRyYW5zKCksIENvbmZpZy5oaWRlTWVudUxpc3RLZXkpOwogICAgICAgICAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgICAgICAgICAgIENvbmZpZy5oaWRlTWVudUxpc3RLZXkgPSBrZXk7CiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnZhbChrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3NhdmVBc1R4dCc6CiAgICAgICAgICAgICAgICBBcHAuc2F2ZUFzVHh0KCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0sCiAgICBwcmVmZXJlbmNlc0Nsb3NlSGFuZGxlcjogZnVuY3Rpb24oKXsKICAgICAgICBVSS5jbGVhblByZXZpZXcoKTsKCiAgICAgICAgVUkuaGlkZSgpOwogICAgfSwKICAgIHByZWZlcmVuY2VzU2F2ZUhhbmRsZXI6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyICRmb3JtID0gJCgiI3ByZWZlcmVuY2VzIik7CgogICAgICAgIENvbmZpZy5zZXREaXNhYmxlQXV0b0xhdW5jaCgkZm9ybS5maW5kKCIjZGlzYWJsZS1hdXRvLWxhdW5jaCIpLmdldCgwKS5jaGVja2VkKTsKCiAgICAgICAgQ29uZmlnLmNuMnR3ID0gJGZvcm0uZmluZCgiI2VuYWJsZS1jbjJ0dyIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5ib29rbGlua19lbmFibGUgPSAkZm9ybS5maW5kKCIjYm9va2xpbmstZW5hYmxlIikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmlzUXVpZXRNb2RlID0gJGZvcm0uZmluZCgiI3F1aWV0TW9kZSIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5kZWJ1ZyA9ICRmb3JtLmZpbmQoIiNkZWJ1ZyIpLmdldCgwKS5jaGVja2VkOwogICAgICAgIENvbmZpZy5waWNOaWdodE1vZGVDaGVjayA9ICRmb3JtLmZpbmQoIiNwaWMtbmlnaHRtb2RlLWNoZWNrIikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLnNldENvcHlDdXJUaXRsZSgkZm9ybS5maW5kKCIjY29weUN1clRpdGxlIikuZ2V0KDApLmNoZWNrZWQpOwoKICAgICAgICBDb25maWcuYWRkVG9IaXN0b3J5ID0gJGZvcm0uZmluZCgiI2FkZC1uZXh0cGFnZS10by1oaXN0b3J5IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmRibGNsaWNrUGF1c2UgPSAkZm9ybS5maW5kKCIjZW5hYmxlLWRibGNsaWNrLXBhdXNlIikuZ2V0KDApLmNoZWNrZWQ7CgogICAgICAgIHZhciBza2luTmFtZSA9ICRmb3JtLmZpbmQoIiNza2luIikuZmluZCgib3B0aW9uOnNlbGVjdGVkIikudGV4dCgpOwogICAgICAgIENvbmZpZy5za2luX25hbWUgPSBza2luTmFtZTsKICAgICAgICBVSS5yZWZyZXNoU2tpblN0eWxlKHNraW5OYW1lKTsKCiAgICAgICAgQ29uZmlnLmZvbnRfZmFtaWx5ID0gJGZvcm0uZmluZCgiI2ZvbnQtZmFtaWx5IikuZ2V0KDApLnZhbHVlOwogICAgICAgIFVJLiRjb250ZW50LmNzcygiZm9udC1mYW1pbHkiLCBDb25maWcuZm9udF9mYW1pbHkpOwoKICAgICAgICBDb25maWcuZm9udF9zaXplID0gJGZvcm0uZmluZCgiI2ZvbnQtc2l6ZSIpLmdldCgwKS52YWx1ZTsKICAgICAgICBDb25maWcudGV4dF9saW5lX2hlaWdodCA9ICRmb3JtLmZpbmQoIiN0ZXh0X2xpbmVfaGVpZ2h0IikuZ2V0KDApLnZhbHVlOwogICAgICAgIENvbmZpZy5jb250ZW50X3dpZHRoID0gJGZvcm0uZmluZCgiI2NvbnRlbnRfd2lkdGgiKS5nZXQoMCkudmFsdWU7CiAgICAgICAgQ29uZmlnLnJlbWFpbl9oZWlnaHQgPSAkZm9ybS5maW5kKCIjcmVtYWluLWhlaWdodCIpLmdldCgwKS52YWx1ZTsKICAgICAgICBDb25maWcuc3BsaXRfY29udGVudCA9ICRmb3JtLmZpbmQoIiNzcGxpdF9jb250ZW50IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLnNjcm9sbEFuaW1hdGUgPSAkZm9ybS5maW5kKCIjc2Nyb2xsX2FuaW1hdGUiKS5nZXQoMCkuY2hlY2tlZDsKCiAgICAgICAgQ29uZmlnLm1lbnVfbGlzdF9oaWRkZGVuID0gJGZvcm0uZmluZCgiI2hpZGUtbWVudS1saXN0IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgVUkuaGlkZU1lbnVMaXN0KENvbmZpZy5tZW51X2xpc3RfaGlkZGRlbik7CgogICAgICAgIENvbmZpZy5oaWRlX2Zvb3Rlcl9uYXYgPSAkZm9ybS5maW5kKCIjaGlkZS1mb290ZXItbmF2IikuZ2V0KDApLmNoZWNrZWQ7CiAgICAgICAgQ29uZmlnLmhpZGVfcHJlZmVyZW5jZXNfYnV0dG9uID0gJGZvcm0uZmluZCgiI2hpZGUtcHJlZmVyZW5jZXMtYnV0dG9uIikuZ2V0KDApLmNoZWNrZWQ7CgogICAgICAgIHZhciBjc3MgPSAkZm9ybS5maW5kKCIjZXh0cmFfY3NzIikuZ2V0KDApLnZhbHVlOwogICAgICAgIFVJLnJlZnJlc2hFeHRyYVN0eWxlKGNzcyk7CiAgICAgICAgQ29uZmlnLmV4dHJhX2NzcyA9IGNzczsKCiAgICAgICAgQ29uZmlnLmN1c3RvbVNpdGVpbmZvID0gJGZvcm0uZmluZCgiI2N1c3RvbV9zaXRlaW5mbyIpLmdldCgwKS52YWx1ZTsKCiAgICAgICAgLy8g6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZ55u05o6l55Sf5pWICiAgICAgICAgdmFyIHJ1bGVzID0gJGZvcm0uZmluZCgiI2N1c3RvbV9yZXBsYWNlX3J1bGVzIikuZ2V0KDApLnZhbHVlOwogICAgICAgIENvbmZpZy5jdXN0b21SZXBsYWNlUnVsZXMgPSBydWxlczsKICAgICAgICBpZiAocnVsZXMgIT0gVUkuX3J1bGVzKSB7CiAgICAgICAgICAgIHZhciBjb250ZW50SHRtbCA9IEFwcC5vQXJ0aWNsZXMuam9pbignXG4nKTsKICAgICAgICAgICAgaWYgKHJ1bGVzKSB7CiAgICAgICAgICAgICAgICAvLyDovazmjaLop4TliJkKICAgICAgICAgICAgICAgIHJ1bGVzID0gUnVsZS5wYXJzZUN1c3RvbVJlcGxhY2VSdWxlcyhydWxlcyk7CiAgICAgICAgICAgICAgICAvLyDmm7/mjaIKICAgICAgICAgICAgICAgIGNvbnRlbnRIdG1sID0gUGFyc2VyLnByb3RvdHlwZS5yZXBsYWNlSHRtbChjb250ZW50SHRtbCwgcnVsZXMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBVSS4kY29udGVudC5odG1sKGNvbnRlbnRIdG1sKTsKCiAgICAgICAgICAgIEFwcC5yZXNldENhY2hlKCk7CgogICAgICAgICAgICBVSS5fcnVsZXMgPSBydWxlczsKICAgICAgICB9CgogICAgICAgIC8vIOmHjeaWsOi9veWFpeagt+W8jwogICAgICAgIFVJLmNsZWFuUHJldmlldygpOwogICAgICAgIFVJLnJlZnJlc2hNYWluU3R5bGUoKTsKCiAgICAgICAgVUkuaGlkZSgpOwogICAgfSwKICAgIG9wZW5IZWxwOiBmdW5jdGlvbigpIHsKCiAgICB9LAogICAgbm90aWNlOiBmdW5jdGlvbiAoaHRtbFRleHQsIG1zKXsKICAgICAgICB2YXIgJG5vdGljZURpdiA9ICQoIiNhbGVydCIpOwogICAgICAgIGlmICghbXMpIHsKICAgICAgICAgICAgbXMgPSAxNjY2OwogICAgICAgIH0KCiAgICAgICAgY2xlYXJUaW1lb3V0KFVJLm5vdGljZURpdnRvKTsKICAgICAgICAkbm90aWNlRGl2LmZpbmQoInAiKS5odG1sKGh0bWxUZXh0KTsKICAgICAgICAkbm90aWNlRGl2LmZhZGVJbigiZmFzdCIpOwoKICAgICAgICBVSS5ub3RpY2VEaXZ0byA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgJG5vdGljZURpdi5mYWRlT3V0KDUwMCk7CiAgICAgICAgfSwgbXMpOwoKICAgICAgICByZXR1cm4gJG5vdGljZURpdjsKICAgIH0KfTsKClVJLnNraW5zWyLnvLrnnIHnmq7ogqQiLnVpVHJhbnMoKV0gPSAiIjsKVUkuc2tpbnNbIuaal+iJsuearuiCpCIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6ICM2NjY7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMDswOzA7LjEpOyB9XAogICAgICAgICAgICAgICAgLnRpdGxlIHsgY29sb3I6ICMyMjI7IH0iOwpVSS5za2luc1si55m95bqV6buR5a2XIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogYmxhY2s7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlO31cCiAgICAgICAgICAgICAgICAudGl0bGUgeyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLWJvdHRvbTogMC4xZW0gc29saWQ7IG1hcmdpbi1ib3R0b206IDEuODU3ZW07IHBhZGRpbmctYm90dG9tOiAwLjg1N2VtO30iOwpVSS5za2luc1si5aSc6Ze05qih5byPIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogIzkzOTM5MjsgYmFja2dyb3VuZDogIzJkMmQyZDsgfSAjcHJlZmVyZW5jZXNCdG4geyBiYWNrZ3JvdW5kOiB3aGl0ZTsgfSAjbXlub3ZlbHJlYWRlci1jb250ZW50IGltZyB7IGJhY2tncm91bmQtY29sb3I6ICNjMGMwYzA7IH0gLmNoYXB0ZXIuYWN0aXZlIGRpdntjb2xvcjogIzkzOTM5Mjt9IjsKVUkuc2tpbnNbIuWknOmXtOaooeW8jzEiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiAjNjc5OyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgfSAjcHJlZmVyZW5jZXNCdG4gaW1nIHsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDsgfSAudGl0bGUgeyBjb2xvcjogIzMzOTlGRjsgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsgfSI7ClVJLnNraW5zWyLlpJzpl7TmqKHlvI8yIi51aVRyYW5zKCldID0gImJvZHkgeyBjb2xvcjogI0FBQUFBQTsgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsgfSAjcHJlZmVyZW5jZXNCdG4gaW1nIHsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IH0gI215bm92ZWxyZWFkZXItY29udGVudCBpbWcgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwOyB9IC50aXRsZSB7IGNvbG9yOiAjMzM5OUZGOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMTIxMjEyOyB9ICAgYm9keSBhIHsgY29sb3I6ICNFMEJDMkQ7IH0gYm9keSBhOmxpbmsgeyBjb2xvcjogI0UwQkMyRDsgfSBib2R5IGE6dmlzaXRlZCB7IGNvbG9yOiNBQUFBQUE7IH0gYm9keSBhOmhvdmVyIHsgY29sb3I6ICMzMzk5RkY7IH0gYm9keSBhOmFjdGl2ZSB7IGNvbG9yOiAjNDIzRjNGOyB9IjsKVUkuc2tpbnNbIuWknOmXtOaooeW8j++8iOWkmueci++8iSIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6ICM0QTRBNEE7IGJhY2tncm91bmQ6ICMxMDE4MTk7IH0gI3ByZWZlcmVuY2VzQnRuIHsgYmFja2dyb3VuZDogd2hpdGU7IH0gI215bm92ZWxyZWFkZXItY29udGVudCBpbWcgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjMGMwOyB9IjsKClVJLnNraW5zWyLmqZnoibLog4zmma8iLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiAjMjQyNzJjOyBiYWNrZ3JvdW5kLWNvbG9yOiAjRkVGMEUxOyB9IjsKVUkuc2tpbnNbIue7v+iJsuiDjOaZryIudWlUcmFucygpXSA9ICJib2R5IHsgY29sb3I6IGJsYWNrOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZDhlMmM4OyB9IjsKVUkuc2tpbnNbIue7v+iJsuiDjOaZrzIiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiBibGFjazsgYmFja2dyb3VuZC1jb2xvcjogI0NDRThDRjsgfSI7ClVJLnNraW5zWyLok53oibLog4zmma8iLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiBibGFjazsgYmFja2dyb3VuZC1jb2xvcjogI0U3RjRGRTsgfSI7ClVJLnNraW5zWyLmo5Xpu4Tog4zmma8iLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiBibGFjazsgYmFja2dyb3VuZC1jb2xvcjogI0MyQTg4NjsgfSI7ClVJLnNraW5zWyLnu4/lhbjnmq7ogqQiLnVpVHJhbnMoKV0gPSAiYm9keSB7IGNvbG9yOiBibGFjazsgYmFja2dyb3VuZC1jb2xvcjogI0VBRUFFRTsgfSAudGl0bGUgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOyB9IjsKCgp2YXIgZm9udGF3ZXNvbWVXb2ZmID0gImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9mb250cy9mb250YXdlc29tZS13ZWJmb250LndvZmYiOwoKCnZhciBSZXMgPSB7CiAgICBDU1NfTUFJTjogJ0Bmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiAiRm9udEF3ZXNvbWUiO1xuICAgIHNyYzogdXJsKHtmb250YXdlc29tZVdvZmZ9KTtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbn1cbmJvZHkgPiBhIHsgZGlzcGxheTpub25lICFpbXBvcnRhbnQ7IH1cbi5oaWRkZW4ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG4ucXVpZXQtbW9kZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cbmJvZHkge1xuICAgIGJhY2tncm91bmQ6ICNGM0YyRUU7XG4gICAgY29sb3I6ICMxRjA5MDk7XG4gICAgcGFkZGluZzogMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIFVJIiwg5b6u6L2v6ZuF6buRLCDmlrDlrovkvZMsIOWui+S9kywgYXJpYWw7XG59XG5hIHsgY29sb3I6ICMwNjU0ODg7IH1cbmE6bGluayB7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgfVxuI215bm92ZWxyZWFkZXItY29udGVudCB7XG4gICAgd2lkdGg6IHtjb250ZW50X3dpZHRofTtcbiAgICBmb250LXNpemU6IHtmb250X3NpemV9O1xuICAgIGZvbnQtZmFtaWx5OiB7Zm9udF9mYW1pbHl9O1xuICAgIGxpbmUtaGVpZ2h0OiB7dGV4dF9saW5lX2hlaWdodH07XG4gICAgbWFyZ2luLWxlZnQ6YXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6YXV0bztcbiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbn1cbiNteW5vdmVscmVhZGVyLWNvbnRlbnQgaW1ne1xuICAgIG1heC13aWR0aDogMTAwJTtcbn1cbmFydGljbGUge1xuICAgIG1hcmdpbi10b3A6IDU1cHg7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xufVxuYXJ0aWNsZSBoMSB7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgZm9udC1zaXplOiB7dGl0bGVfZm9udF9zaXplfTtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIG1hcmdpbjogMjVweCAtMjBweDtcbiAgICBwYWRkaW5nOiAwIDIwcHggMTBweDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwuMjUpO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG59XG5hcnRpY2xlIGxpIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xufVxuLmNoYXB0ZXItZm9vdGVyLW5hdiB7XG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgZm9udC1zaXplOjAuOWVtO1xuICAgIG1hcmdpbjotMTBweCAwcHggMzBweCAwcHg7XG59XG4jbG9hZGluZyB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250OiAxMnB4ICLlvq7ova/pm4Xpu5EiLCAi5a6L5L2TIiwgIlRpbWVzIE5ldyBSb21hbiIsICJWZXJkYW5hIjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICB3aWR0aDogMzc2cHg7XG4gICAgaGVpZ2h0OiAzMnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzY2NjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xufVxuI2xvYWRpbmcgaW1nIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuI2xvYWRpbmcgYSB7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuI3ByZWZlcmVuY2VzQnRue1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDEwcHg7XG4gICAgcmlnaHQ6IDEwcHg7XG4gICAgei1pbmRleDogMTU5Nztcbn1cbiNhbGVydCB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHotaW5kZXg6IDEwMDtcbiAgICBmbG9hdDogYXV0bztcbiAgICB3aWR0aDogYXV0bztcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgdG9wOiAxMHB4O1xuICAgIGxlZnQ6IDUwMHB4O1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjE1LCAyNDAsIDI1MywgMC42NSk7XG4gICAgY29sb3I6ICMyZDcwOTE7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg0NSwxMTIsMTQ1LDAuMyk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHRleHQtc2hhZG93OiAwIDFweCAwICNmZmY7XG59XG4jYWxlcnQgcCB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIG1hcmdpbjogNnB4O1xufVxuaW1nLmJsb2NrSW1hZ2Uge2NsZWFyOiBib3RoO2Zsb2F0OiBub25lO2Rpc3BsYXk6IGJsb2NrO21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzt9XG4jbWVudS1iYXIge1xuICAgIGJvcmRlcjogc29saWQgcmdiYSgwLCAxMDAsIDI1NSwgLjkpO1xuICAgIGJvcmRlci13aWR0aDogM3B4IDJweCAzcHggMHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgdG9wOiA0MCU7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICB3aWR0aDogMnB4O1xuICAgIHotaW5kZXg6IDE5OTtcbiAgICB7bWVudS1iYXItaGlkZGVufVxufVxuI21lbnUtYmFyIHsgXG4gICAgdG9wOiAwcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxcHg7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiBub25lO1xufVxuI21lbnUge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgei1pbmRleDogMTAwO1xuICAgIHdpZHRoOiAyNzBweDtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogIzMzMztcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xufVxuI21lbnU6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDQ2cHg7XG4gICAgYm90dG9tOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHdpZHRoOiAxcHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjYpO1xuICAgIGJveC1zaGFkb3c6IDAgMCA1cHggMnB4IHJnYmEoMCwwLDAsMC42KTtcbn1cbiNoZWFkZXJ7XG4gICAgY29sb3I6ICM3Nzc7XG4gICAgbWFyZ2luLXRvcDogMDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjMpO1xuICAgIGJhY2tncm91bmQ6ICM0MDQwNDA7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMDUpO1xuICAgIHRleHQtc2hhZG93OiAwIDFweCAwIHJnYmEoMCwwLDAsMC41KTtcbiAgICBwYWRkaW5nOiAxMHB4IDEycHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG4jaGVhZGVyIGEge1xuICAgIGNvbG9yOiAjNzc3Nzc3O1xufVxuI2RpdmlkZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAzMDA7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wMSk7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4zKTtcbiAgICBtYXJnaW46IDA7XG4gICAgaGVpZ2h0OiA0cHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjIpO1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KSwgaW5zZXQgMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4zKTtcbn1cbiNjaGFwdGVyLWxpc3Qge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB6LWluZGV4OiAyMDA7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbn1cbi5jaGFwdGVyIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xufVxuLmNoYXB0ZXI6bGFzdC1jaGlsZCB7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4zKTtcbiAgICBib3gtc2hhZG93OiAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7XG59XG4uY2hhcHRlciBkaXYge1xuICAgIGNvbG9yOiAjY2NjO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBwYWRkaW5nOiA4cHggMjBweDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjMpO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTtcbiAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDAsMCwwLDAuNSk7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uY2hhcHRlciBkaXY6YmVmb3JlIHtcbiAgICBjb250ZW50OiAiXFxmMTA1IjtcbiAgICB3aWR0aDogMjBweDtcbiAgICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgZm9udC1mYW1pbHk6ICJGb250QXdlc29tZSIgIWltcG9ydGFudDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uY2hhcHRlciBkaXY6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6ICM0MDQwNDA7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgb3V0bGluZTogMDtcbn1cbi5jaGFwdGVyLmFjdGl2ZSBkaXYge1xuICAgIGJhY2tncm91bmQ6ICMxYTFhMWE7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMyk7XG59XG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBoZWlnaHQ6IDlweCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiA5cHggIWltcG9ydGFudDtcbn1cbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3RDdEN0QgIWltcG9ydGFudDtcbiAgICBib3JkZXItcmFkaXVzOiAzcHggIWltcG9ydGFudDtcbn1cbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2stcGllY2Uge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsLjI1KSAhaW1wb3J0YW50O1xufVxuJwogICAgICAgIC5yZXBsYWNlKCd7Zm9udGF3ZXNvbWVXb2ZmfScsIGZvbnRhd2Vzb21lV29mZiksCgogICAgcHJlZmVyZW5jZXNIVE1MOiAnPGZvcm0gaWQ9InByZWZlcmVuY2VzIiBuYW1lPSJwcmVmZXJlbmNlcyI+XG4gICAgPGRpdiBpZD0ic2V0dGluZ190YWJsZTEiPlxuICAgICAgICA8c3BhbiBpZD0idG9wLWJ1dHRvbnMiPlxuICAgICAgICAgICAgPGlucHV0IHRpdGxlPSLpg6jliIbpgInpobnpnIDopoHliLfmlrDpobXpnaLmiY3og73nlJ/mlYgiIGlkPSJzYXZlX2J1dHRvbiIgdmFsdWU9IuKImiDnoa7orqQiIHR5cGU9ImJ1dHRvbiI+XG4gICAgICAgICAgICA8aW5wdXQgdGl0bGU9IuWPlua2iOacrOasoeiuvuWumu+8jOaJgOaciemAiemhuei/mOWOnyIgaWQ9ImNsb3NlX2J1dHRvbiIgdmFsdWU9Ilgg5Y+W5raIIiB0eXBlPSJidXR0b24iPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICDnlYzpnaLor63oqIA8c2VsZWN0IGlkPSJsYW5nIj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgdGl0bGU9IuWwhuWwj+ivtOe9kemhteaWh+acrOi9rOaNouS4uue5geS9k+OAglxcblxcbuazqOaEj++8muWGhee9rueahOe5geeugOi9rOaNouihqO+8jOWPquaUtuW9leS6hueugOWNleeahOWNleWtl+i9rOaNou+8jOWQr+eUqOacrOWKn+iDveWQju+8jOWmguaciemUmeivr+i9rOaNoueahOaDheW9ou+8jOivt+WIqeeUqOiEmuacrOeahOiHquiuouWtl+ivjeWPluS7o+inhOWImeadpeS/ruato+OAglxcbuS+i+Wmgu+8muOAjOWNg+mHjOS5i+WkluOAje+8jOS8mumUmeivr+i9rOaNouaIkOOAjOWNg+mHjOS5i+WkluOAje+8jOS9oOWPr+S7peWKoOWFpeinhOWImeOAjOWNg+mHjOS5i+Wklj3ljYPph4zkuYvlpJbjgI3mnaXoh6rooYzkv67mraPjgIIiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImVuYWJsZS1jbjJ0dyIgbmFtZT0iZW5hYmxlLWNuMnR3Ii8+572R6aG177ya6L2s57mB5L2TXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGlkPSJxdWlldE1vZGUiIGNsYXNzPSJyaWdodCIgdGl0bGU9IumakOiXj+WFtuS7lu+8jOWPquS/neeVmeato+aWh++8jOmAgueUqOS6juWFqOWxj+eKtuaAgeS4iyI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9InF1aWV0TW9kZUtleSIvPuWuiemdmeaooeW8j1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5LiN5b2x5ZONIGJvb2tsaW5rLm1lIOeahOWQr+eUqCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iZGlzYWJsZS1hdXRvLWxhdW5jaCIgbmFtZT0iZGlzYWJsZS1hdXRvLWxhdW5jaCIvPuW8uuWItuaJi+WKqOWQr+eUqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0iYm9va2xpbmsubWUg54K55Ye755qE572R56uZ5by65Yi25ZCv55SoIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJib29rbGluay1lbmFibGUiIG5hbWU9ImJvb2tsaW5rLWVuYWJsZSIvPmJvb2tsaW5rIOiHquWKqOWQr+eUqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJkZWJ1ZyIgbmFtZT0iZGVidWciLz7osIPor5XmqKHlvI9cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjkyLW15LW5vdmVsLXJlYWRlci9mZWVkYmFjayIgdGFyZ2V0PSJfYmxhbmsiPuWPjemmiOWcsOWdgDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5Zu+54mH56ug6IqC55So5aSc6Ze05qih5byP5rKh5rOV55yL77yM6L+Z5Liq6YCJ6aG55Zyo5ZCv5Yqo5pe25Lya6Ieq5Yqo5YiH5o2i5Yiw57y655yB55qu6IKkIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJwaWMtbmlnaHRtb2RlLWNoZWNrIiBuYW1lPSJwaWMtbmlnaHRtb2RlLWNoZWNrIi8+XG4gICAgICAgICAgICAgICAg5aSc6Ze05qih5byP55qE5Zu+54mH56ug6IqC5qOA5rWLXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImNvcHlDdXJUaXRsZSIvPlxuICAgICAgICAgICAgICAgIOaJk+W8gOebruW9leWkjeWItuW9k+WJjeagh+mimFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i6YCa6L+H5b+r5o236ZSu5YiH5o2iIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJoaWRlLW1lbnUtbGlzdCIvPumakOiXj+W3puS+p+eroOiKguWIl+ihqFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJoaWRlLWZvb3Rlci1uYXYiLz7pmpDol4/lupXpg6jlr7zoiKrmoI9cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9InJpZ2h0IiB0aXRsZT0i5a+85Ye65LmL5ZCO55qE5omA5pyJ56ug6IqCIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBpZD0ic2F2ZUFzVHh0IiB2YWx1ZT0i5a2Y5Li6IHR4dO+8iOa1i+ivle+8iSIgLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAg5bem5L6n5a+86Iiq5qCP5YiH5o2i5b+r5o236ZSu77yaXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9InNldEhpZGVNZW51TGlzdEtleSIgLz5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i6YCa6L+H5b+r5o236ZSu5YiH5o2i5oiW5ZyoIEdyZWFzZW1vbmtleSDnlKjmiLfohJrmnKzlkb3ku6TlpITmiZPlvIDorr7nva7nqpflj6MiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImhpZGUtcHJlZmVyZW5jZXMtYnV0dG9uIi8+6ZqQ6JeP6K6+572u5oyJ6ZKuXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJrZXkiIHR5cGU9ImJ1dHRvbiIgaWQ9Im9wZW5QcmVmZXJlbmNlc0tleSIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOi3neemu+W6lemDqFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0icmVtYWluLWhlaWdodCIgbmFtZT0icmVtYWluLWhlaWdodCIgc2l6ZT0iNSIvPlxuICAgICAgICAgICAgICAgIHB4IOWKoOi9veS4i+S4gOmhtVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhZGQtbmV4dHBhZ2UtdG8taGlzdG9yeSIvPua3u+WKoOS4i+S4gOmhteWIsOWOhuWPsuiusOW9lVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJlbmFibGUtZGJsY2xpY2stcGF1c2UiLz7lj4zlh7vmmoLlgZznv7vpobVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ic2tpbiI+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOWtl+S9k1xuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iZm9udC1mYW1pbHkiIHN0eWxlPSJtaW4td2lkdGg6MjAwcHg7Ii8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGJyLz48YnIvPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOWtl+S9k+Wkp+Wwj1xuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iZm9udC1zaXplIiBuYW1lPSJmb250LXNpemUiIHNpemU9IjYiLz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAg6KGM6auYXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHRib3giIGlkPSJ0ZXh0X2xpbmVfaGVpZ2h0IiBzaXplPSI2Ii8+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIOihjOWuvVxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0Ym94IiBpZD0iY29udGVudF93aWR0aCIgc2l6ZT0iNiIvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tcm93Ij5cbiAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0i5oqK5LiA5aSn5Z2X5pyq5YiG5q6155qE5YaF5a655paH5pys5oyJ54Wn5Y+l5Y+35YiG5q61Ij5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcGxpdF9jb250ZW50Ii8+5a+55LiA5Z2o5YaF5a656L+b6KGM5by65Yi25YiG5q61XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNjcm9sbF9hbmltYXRlIi8+56ug6IqC5rua5Yqo5pWI5p6cXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJlZnNfdGl0bGUiPuiHquWumuS5ieagt+W8jzwvZGl2PlxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJleHRyYV9jc3MiIGNsYXNzPSJwcmVmc190ZXh0YXJlYSIgcGxhY2Vob2xkZXI9IuiHquWumuS5ieagt+W8jyI+PC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD0ic2V0dGluZ190YWJsZTIiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyIgdGl0bGU9IuivpuingeiEmuacrOS7o+eggeeahCBSdWxlLnNwZWNpYWxTaXRlIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZWZzX3RpdGxlIj7oh6rlrprkuYnnq5nngrnop4TliJk8L2Rpdj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iY3VzdG9tX3NpdGVpbmZvIiBjbGFzcz0icHJlZnNfdGV4dGFyZWEiIHBsYWNlaG9sZGVyPSLoh6rlrprkuYnnq5nngrnop4TliJkiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyIgdGl0bGU9IuS4gOihjOS4gOS4qu+8jOavj+ihjOeahOesrOS4gOS4qiA9IOS4uuWIhumalOespuOAglxcbuS/neWtmOWQjueUn+aViCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcmVmc190aXRsZSI+6Ieq5a6a5LmJ5pu/5o2i6KeE5YiZPC9kaXY+XG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImN1c3RvbV9yZXBsYWNlX3J1bGVzIiBjbGFzcz0icHJlZnNfdGV4dGFyZWEiIHBsYWNlaG9sZGVyPSJiW8SBw6Bdbmc95qOSIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZm9ybT4nCiAgICAgICAgLnVpVHJhbnMoKS5yZXBsYWNlKC9cXG4vZywgJ1xuJyksCgogICAgcHJlZmVyZW5jZXNDU1M6ICcuYm9keSB7XG4gICAgIGNvbG9yOiMzMzM7XG4gICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgcGFkZGluZzogMTBweDtcbiAgICAgaGVpZ2h0OiA0MjBweDtcbiAgICAgb3ZlcmZsb3cteTogYXV0bztcbiB9XG4gI3RvcC1idXR0b25zIHtcbiAgICAgYmFja2dyb3VuZDogbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlIHJnYigyNTUsIDI1NSwgMjU1KTtcbiAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgdG9wOiAtMzVweDtcbiAgICAgYm9yZGVyLXJpZ2h0OiAxMnB4IHNvbGlkIHJnYigyMjQsIDIyNCwgMjI0KTtcbiAgICAgYm9yZGVyLXRvcDogMTJweCBzb2xpZCByZ2IoMjI0LCAyMjQsIDIyNCk7XG4gICAgIGJvcmRlci1sZWZ0OiAxMnB4IHNvbGlkIHJnYigyMjQsIDIyNCwgMjI0KTtcbiAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuIH1cbiBpbnB1dCB7XG4gICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gfVxuIC5mb3JtLXJvdyB7XG4gICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgIGZvbnQtc2l6ZTogMTFweDtcbiB9XG4gLmZvcm0tcm93IGxhYmVsIHtcbiAgICAgcGFkZGluZy1yaWdodDogMTBweDtcbiB9XG4gLmZvcm0tcm93IGlucHV0IHtcbiAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgbWFyZ2luLXRvcDogMHB4O1xuIH1cbiB0ZXh0YXJlYSwgLmZvcm0tcm93IGlucHV0IHtcbiAgICAgcGFkZGluZzogMnB4IDRweDtcbiAgICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcbiAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICBjb2xvcjogIzY2NjtcbiAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgbGluZWFyIC4ycztcbiAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAuMnM7XG4gfVxuIHRleHRhcmVhIHtcbiAgICAgd2lkdGg6IDEwMCU7XG4gICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuIH1cbiB0ZXh0YXJlYTpmb2N1cywgaW5wdXQ6Zm9jdXMge1xuICAgICBib3JkZXItY29sb3I6ICM5OWJhY2E7XG4gICAgIG91dGxpbmU6IDA7XG4gICAgIGJhY2tncm91bmQ6ICNmNWZiZmU7XG4gICAgIGNvbG9yOiAjNjY2O1xuIH1cbiAucHJlZnNfdGl0bGUge1xuICAgICBmb250LXNpemU6IDEycHg7XG4gICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuIH1cbiAucHJlZnNfdGV4dGFyZWEge1xuICAgICBmb250LXNpemU6IDEycHg7XG4gICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgaGVpZ2h0OiAxMDBweDtcbiB9XG4gLnJpZ2h0IHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gfScsCn07CgoKZnVuY3Rpb24gUGFyc2VyKCl7CiAgICB0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKUGFyc2VyLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBQYXJzZXIsCiAgICBnZXQgY29udGVudFR4dCgpIHsgIC8vIGNhbGxiYWNrIOaJjeacieeUqAogICAgICAgIHZhciB0ZXh0ID0gJCgnPGRpdj4nKS5odG1sKHRoaXMuY29udGVudCkudGV4dCgpLnRyaW0oKTsKCiAgICAgICAgLy8g6Kej5Yaz56ys5LqM5Liq5q616JC95ZKM56ys5LiA5Liq6ZS754K85ZCI5Zyo5LiA6LW355qE6Zeu6aKYCiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKFteXG5dKeOAgOOAgC8sICckMVxu44CA44CAJyk7CgogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKCiAgICBpbml0OiBmdW5jdGlvbiAoaW5mbywgZG9jLCBjdXJQYWdlVXJsKSB7CiAgICAgICAgdGhpcy5pbmZvID0gaW5mbyB8fCB7fTsKICAgICAgICB0aGlzLmRvYyA9IGRvYzsKICAgICAgICB0aGlzLiRkb2MgPSAkKGRvYyk7CiAgICAgICAgdGhpcy5jdXJQYWdlVXJsID0gY3VyUGFnZVVybCB8fCBkb2MuVVJMOwogICAgICAgIHRoaXMuX2N1clBhZ2VIb3N0ID0gZ2V0VXJsSG9zdCh0aGlzLmN1clBhZ2VVcmwpOyAgLy8g5b2T5YmN6aG155qEIGhvc3TvvIzlkI7pnaLnlKjliLAKCiAgICAgICAgLy8g6K6+572u5Yid5aeL5YC8CiAgICAgICAgdGhpcy5pc1RoZUVuZCA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNTZWN0aW9uID0gZmFsc2U7CiAgICB9LAogICAgYXBwbHlQYXRjaDogZnVuY3Rpb24oKXsKICAgICAgICB2YXIgY29udGVudFBhdGNoID0gdGhpcy5pbmZvLmNvbnRlbnRQYXRjaDsKICAgICAgICBpZihjb250ZW50UGF0Y2gpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29udGVudFBhdGNoLmNhbGwodGhpcywgdGhpcy4kZG9jKTsKICAgICAgICAgICAgICAgIEMubG9nKCJBcHBseSBDb250ZW50IFBhdGNoIFN1Y2Nlc3MuIik7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIEMubG9nKCJFcnJvcjogQ29udGVudCBQYXRjaCBFcnJvciEiLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBnZXRBbGw6IGZ1bmN0aW9uKGNhbGxiYWNrKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICAgIEMuZGVidWcoJ+W8gOWni+ino+aekOmhtemdoicpOwoKICAgICAgICB0aGlzLmFwcGx5UGF0Y2goKTsKCiAgICAgICAgdmFyIGVuZEZuID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgdmFyIGRpdjsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbnRlbnQpIHsKICAgICAgICAgICAgICAgICAgICBkaXYgPSAkKCc8ZGl2IGlkPSJjb250ZW50Ij48L2Rpdj4nKS5odG1sKGRhdGEuY29udGVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaHRtbCkgewogICAgICAgICAgICAgICAgICAgIGRpdiA9ICQoJzxkaXY+PC9kaXY+JykuaHRtbChkYXRhLmh0bWwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlbGYuJGRvYy5maW5kKCdib2R5JykucHJlcGVuZChkaXYpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZWxmLnBhcnNlKCk7CiAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYpOwogICAgICAgIH07CgogICAgICAgIGlmICghdGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5pbmZvLmdldENvbnRlbnQpIHsKICAgICAgICAgICAgQy5sb2coJ+W8gOWniyBpbmZvLmdldENvbnRlbnQnKQogICAgICAgICAgICB0aGlzLmluZm8uZ2V0Q29udGVudC5jYWxsKHRoaXMsIHRoaXMuJGRvYywgZW5kRm4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOeJueauiuWkhOeQhu+8jOS+i+Wmgui1t+eCuQogICAgICAgICAgICB2YXIgYWpheFNjcmlwdCA9IHRoaXMuJGRvYy5maW5kKCcuJyArIFJFQURFUl9BSkFYKTsKICAgICAgICAgICAgaWYgKGFqYXhTY3JpcHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIHVybCA9IGFqYXhTY3JpcHQuYXR0cignc3JjJyk7CiAgICAgICAgICAgICAgICBpZighdXJsKSByZXR1cm47CiAgICAgICAgICAgICAgICB2YXIgY2hhcnNldCA9IGFqYXhTY3JpcHQuYXR0cignY2hhcnNldCcpIHx8ICd1dGYtOCc7CgogICAgICAgICAgICAgICAgQy5sb2coJ0FqYXgg6I635Y+W5YaF5a65OiAnLCB1cmwsICIuIGNoYXJzZXQ9IiArIGNoYXJzZXQpOwoKICAgICAgICAgICAgICAgIHZhciByZXFPYmogPSB7CiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiAidGV4dC9odG1sO2NoYXJzZXQ9IiArIGNoYXJzZXQsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge30sCiAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHJlcy5yZXNwb25zZVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL2RvY3VtZW50LndyaXRlKGxuKT9cKCcvLCAiIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgiJyk7IiwgIiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcblxyXSsvZywgJzwvcD48cD4nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEZuKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRleHQKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyBKaXh1bjogQWxsb3cgcG9zdCBkYXRhCiAgICAgICAgICAgICAgICB2YXIgcG9zdERhdGEgPSBhamF4U2NyaXB0LmRhdGEoJ3Bvc3QnKTsKCiAgICAgICAgICAgICAgICBpZiAocG9zdERhdGEpIHsKICAgICAgICAgICAgICAgICAgICByZXFPYmoubWV0aG9kID0gJ1BPU1QnOwogICAgICAgICAgICAgICAgICAgIHJlcU9iai5kYXRhID0gJC5wYXJhbShwb3N0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgcmVxT2JqLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QocmVxT2JqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVuZEZuKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHBhcnNlOiBmdW5jdGlvbigpIHsKICAgICAgICBDLmdyb3VwKCflvIDlp4vojrflj5bpk77mjqUnKTsKICAgICAgICB0aGlzLmdldFByZXZVcmwoKTsKICAgICAgICB0aGlzLmdldEluZGV4VXJsKCk7CiAgICAgICAgdGhpcy5nZXROZXh0VXJsKCk7CiAgICAgICAgQy5ncm91cEVuZCgpOwoKICAgICAgICBDLmdyb3VwKCflvIDlp4vojrflj5bmoIfpopgnKTsKICAgICAgICB0aGlzLmdldFRpdGxlcygpOwogICAgICAgIEMuZ3JvdXBFbmQoKTsKCiAgICAgICAgdGhpcy5nZXRDb250ZW50KCk7CiAgICB9LAoKICAgIGhhc0NvbnRlbnQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciAkY29udGVudDsKCiAgICAgICAgLy8gdmFyICRhamF4U2NyaXB0ID0gdGhpcy4kZG9jLmZpbmQoJy4nICsgUkVBREVSX0FKQVgpOwogICAgICAgIC8vIGlmICgkYWpheFNjcmlwdC5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0cnVlOwogICAgICAgIC8vIH0KCiAgICAgICAgaWYodGhpcy5pbmZvLmNvbnRlbnRTZWxlY3Rvcil7CiAgICAgICAgICAgICRjb250ZW50ID0gdGhpcy4kZG9jLmZpbmQodGhpcy5pbmZvLmNvbnRlbnRTZWxlY3Rvcik7CiAgICAgICAgfQoKICAgICAgICBpZiAoISRjb250ZW50IHx8ICEkY29udGVudC5sZW5ndGgpIHsKICAgICAgICAgICAgLy8g5oyJ54Wn6aG65bqP6YCJ5Y+WCiAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBSdWxlLmNvbnRlbnRTZWxlY3RvcnM7CiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKXsKICAgICAgICAgICAgICAgICRjb250ZW50ID0gdGhpcy4kZG9jLmZpbmQoc2VsZWN0b3JzW2ldKTsKICAgICAgICAgICAgICAgIGlmKCRjb250ZW50Lmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgQy5sb2coIuiHquWKqOafpeaJvuWGheWuuemAieaLqeWZqDogIiArIHNlbGVjdG9yc1tpXSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuJGNvbnRlbnQgPSAkY29udGVudDsKICAgICAgICAvLyBDLmRlYnVnKCRjb250ZW50KTsKCiAgICAgICAgcmV0dXJuICRjb250ZW50LnNpemUoKSA+IDA7CiAgICB9LAogICAgLy8g6I635Y+W5Lmm5ZCN5ZKM56ug6IqC5qCH6aKYCiAgICBnZXRUaXRsZXM6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIGluZm8gPSB0aGlzLmluZm8sCiAgICAgICAgICAgIGNoYXB0ZXJUaXRsZSwKICAgICAgICAgICAgYm9va1RpdGxlLAogICAgICAgICAgICBkb2NUaXRsZSA9IHRoaXMuJGRvYy5maW5kKCJ0aXRsZSIpLnRleHQoKTsKCiAgICAgICAgLy8g6I635Y+W56ug6IqC5qCH6aKYCiAgICAgICAgaWYgKGluZm8udGl0bGVSZWcpewogICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRvY1RpdGxlLm1hdGNoKHRvUkUoaW5mby50aXRsZVJlZywgJ2knKSk7CiAgICAgICAgICAgIGlmKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPj0gMil7CiAgICAgICAgICAgICAgICB2YXIgdGl0bGVQb3MgPSAoIGluZm8udGl0bGVQb3MgfHwgMCApICsgMTsKICAgICAgICAgICAgICAgIHZhciBjaGFwdGVyUG9zID0gKHRpdGxlUG9zID09IDEpID8gMiA6IDE7CgogICAgICAgICAgICAgICAgYm9va1RpdGxlID0gbWF0Y2hlc1t0aXRsZVBvc107CiAgICAgICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSBtYXRjaGVzW2NoYXB0ZXJQb3NdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBDLmxvZygiVGl0bGVSZWc6IiwgaW5mby50aXRsZVJlZywgbWF0Y2hlcyk7CiAgICAgICAgfQoKICAgICAgICAvLyDlho3mrKHlsJ3or5Xojrflj5bnq6DoioLmoIfpopgKICAgICAgICBpZiAoIWNoYXB0ZXJUaXRsZSkgewogICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSB0aGlzLmdldFRpdGxlRnJvbUluZm8oaW5mby50aXRsZVNlbGVjdG9yKTsKICAgICAgICB9CiAgICAgICAgaWYoIWNoYXB0ZXJUaXRsZSl7CiAgICAgICAgICAgIGNoYXB0ZXJUaXRsZSA9IHRoaXMuYXV0b0dldENoYXB0ZXJUaXRsZSh0aGlzLmRvYyk7CiAgICAgICAgfQogICAgICAgIGlmIChpbmZvLmNoYXB0ZXJUaXRsZVJlcGxhY2UpIHsKICAgICAgICAgICAgY2hhcHRlclRpdGxlID0gY2hhcHRlclRpdGxlLnJlcGxhY2UodG9SRShpbmZvLmNoYXB0ZXJUaXRsZVJlcGxhY2UpLCAnJykKICAgICAgICB9CgogICAgICAgIGlmICghYm9va1RpdGxlKSB7CiAgICAgICAgICAgIGJvb2tUaXRsZSA9IHRoaXMuZ2V0VGl0bGVGcm9tSW5mbyhpbmZvLmJvb2tUaXRsZVNlbGVjdG9yKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFib29rVGl0bGUpIHsKICAgICAgICAgICAgYm9va1RpdGxlID0gdGhpcy4kZG9jLmZpbmQoUnVsZS5ib29rVGl0bGVTZWxlY3RvcikudGV4dCgpOwogICAgICAgIH0KICAgICAgICBpZiAoaW5mby5ib29rVGl0bGVSZXBsYWNlKSB7CiAgICAgICAgICAgIGJvb2tUaXRsZSA9IGJvb2tUaXRsZS5yZXBsYWNlKHRvUkUoaW5mby5ib29rVGl0bGVSZXBsYWNlKSwgJycpCiAgICAgICAgfQoKICAgICAgICAvLyDmoIfpopjpl7Tlop7liqDkuIDkuKrnqbrmoLzvvIzkuI3lh4bnoa7vvIzlt7Lms6jph4oKICAgICAgICBjaGFwdGVyVGl0bGUgPSBjaGFwdGVyVGl0bGUKICAgICAgICAgICAgICAgIC5yZXBsYWNlKFJ1bGUudGl0bGVSZXBsYWNlLCAiIikKICAgICAgICAgICAgICAgIC50cmltKCk7CiAgICAgICAgICAgICAgICAvLyAucmVwbGFjZSgvKOesrD9cUys/W+eroOiKguWNt+Wbnl0pKC4qKS8sICIkMSAkMiIpOwoKICAgICAgICBpZiAoY2hhcHRlclRpdGxlLnN0YXJ0c1dpdGgoYm9va1RpdGxlKSkgewogICAgICAgICAgICBjaGFwdGVyVGl0bGUgPSBjaGFwdGVyVGl0bGUucmVwbGFjZShib29rVGl0bGUsICcnKS50cmltKCk7CiAgICAgICAgfQoKICAgICAgICBib29rVGl0bGUgPSBib29rVGl0bGUucmVwbGFjZSgvKD865pyA5paw56ug6IqCfOeroOiKguebruW9lSkkLywgJycpOwoKICAgICAgICBkb2NUaXRsZSA9IGJvb2tUaXRsZSA/CiAgICAgICAgICAgICAgICBib29rVGl0bGUgKyAnIC0gJyArIGNoYXB0ZXJUaXRsZSA6CiAgICAgICAgICAgICAgICBkb2NUaXRsZTsKCiAgICAgICAgaWYgKENvbmZpZy5jbjJ0dykgewogICAgICAgICAgICBib29rVGl0bGUgPSB0aGlzLmNvbnZlcnQydHcoYm9va1RpdGxlKTsKICAgICAgICAgICAgY2hhcHRlclRpdGxlID0gdGhpcy5jb252ZXJ0MnR3KGNoYXB0ZXJUaXRsZSk7CiAgICAgICAgICAgIGRvY1RpdGxlID0gdGhpcy5jb252ZXJ0MnR3KGRvY1RpdGxlKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYm9va1RpdGxlID0gKGJvb2tUaXRsZSB8fCAn55uu5b2VJykudHJpbSgpOwogICAgICAgIHRoaXMuY2hhcHRlclRpdGxlID0gY2hhcHRlclRpdGxlOwogICAgICAgIHRoaXMuZG9jVGl0bGUgPSBkb2NUaXRsZTsKCiAgICAgICAgQy5sb2coIkJvb2sgVGl0bGU6ICIgKyB0aGlzLmJvb2tUaXRsZSk7CiAgICAgICAgQy5sb2coIkNoYXB0ZXIgVGl0bGU6ICIgKyB0aGlzLmNoYXB0ZXJUaXRsZSk7CiAgICAgICAgQy5sb2coIkRvY3VtZW50IFRpdGxlOiAiICsgdGhpcy5kb2NUaXRsZSk7CiAgICB9LAogICAgZ2V0VGl0bGVGcm9tSW5mbzogZnVuY3Rpb24oc2VsZWN0b3JPckFycmF5KSB7CiAgICAgICAgdmFyIHRpdGxlID0gJyc7CiAgICAgICAgaWYgKCFzZWxlY3Rvck9yQXJyYXkpIHsKICAgICAgICAgICAgcmV0dXJuIHRpdGxlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNlbGVjdG9yLAogICAgICAgICAgICByZXBsYWNlOwoKICAgICAgICBpZiAoXy5pc0FycmF5KHNlbGVjdG9yT3JBcnJheSkpIHsKICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvck9yQXJyYXlbMF07CiAgICAgICAgICAgIHJlcGxhY2UgPSBzZWxlY3Rvck9yQXJyYXlbMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvck9yQXJyYXk7CiAgICAgICAgfQoKICAgICAgICB0aXRsZSA9IHRoaXMuJGRvYy5maW5kKHNlbGVjdG9yKS5yZW1vdmUoKS50ZXh0KCkudHJpbSgpOwoKICAgICAgICBpZiAocmVwbGFjZSkgewogICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UodG9SRShyZXBsYWNlKSwgJycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRpdGxlOwogICAgfSwKICAgIC8vIOaZuuiDveiOt+WPlueroOiKguagh+mimAogICAgYXV0b0dldENoYXB0ZXJUaXRsZTogZnVuY3Rpb24gKGRvY3VtZW50KSB7CiAgICAgICAgdmFyCiAgICAgICAgICAgIF9tYWluX3NlbGVjdG9yID0gImgxLCBoMiwgaDMiLAogICAgICAgICAgICBfc2Vjb25kX3NlbGVjdG9yID0gIiNUZXh0VGl0bGUsICN0aXRsZSwgLkNoYXB0ZXJOYW1lLCAjbGJDaGFwdGVyTmFtZSwgZGl2LmgxIiwKICAgICAgICAgICAgX3Bvc2l0aXZlX3JlZ2V4cCA9IFJ1bGUudGl0bGVSZWdFeHAsCiAgICAgICAgICAgIC8vIF9wb3NpdGl2ZV9yZWdleHAgPSAv56ysP1xTK1vnq6DoioLljbflm55dfFxkezIsNH0vLAogICAgICAgICAgICAvLyBfbmVnYXRpdmVfcmVnZXhwID0gL1vkuIrliY3kuIvlkI5dW+S4gF0/W+mhteW8oOS4quevh+eroOiKguatpV0vLAogICAgICAgICAgICBfdGl0bGVfcmVtb3ZlX3JlZ2V4cCA9IC/mnIDmlrDnq6DoioJ85Lmm5Lmm572RLywKICAgICAgICAgICAgJGRvYyA9ICQoZG9jdW1lbnQpLAogICAgICAgICAgICBfZG9jdW1lbnRfdGl0bGUgPSBkb2N1bWVudC50aXRsZSA/IGRvY3VtZW50LnRpdGxlIDogJGRvYy5maW5kKCJ0aXRsZSIpLnRleHQoKSwKICAgICAgICAgICAgX3NlYXJjaF9kb2N1bWVudF90aXRsZSA9ICcgJyArIF9kb2N1bWVudF90aXRsZS5yZXBsYWNlKC9ccysvZ2ksICcgJykgKyAnICcKICAgICAgICA7CgogICAgICAgIHZhciBfaGVhZGluZ3MgPSAkZG9jLmZpbmQoX21haW5fc2VsZWN0b3IpOwogICAgICAgIC8vIOWKoOS4iiBzZWNvbmQgc2VsZWN0b3Ig5bm25Y676Zmk5YyF5ZCr55qECiAgICAgICAgJGRvYy5maW5kKF9zZWNvbmRfc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYoJCh0aGlzKS5maW5kKF9tYWluX3NlbGVjdG9yKS5sZW5ndGggPT09IDApewogICAgICAgICAgICAgICAgX2hlYWRpbmdzLnB1c2godGhpcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgdmFyIHBvc3NpYmxlVGl0bGVzID0ge30sCiAgICAgICAgICAgIF9oZWFkaW5nX3RleHQ7CgogICAgICAgIEMuZ3JvdXBDb2xsYXBzZWQoJ+iHquWKqOafpeaJvueroOiKguagh+mimCcpOwoKICAgICAgICAkKF9oZWFkaW5ncykuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgX2hlYWRpbmcgPSB0aGlzLAogICAgICAgICAgICAgICAgX2hlYWRpbmdfdGV4dCA9IF9oZWFkaW5nLnRleHRDb250ZW50LnRyaW0oKTsKCiAgICAgICAgICAgIGlmIChfaGVhZGluZ190ZXh0IGluIHBvc3NpYmxlVGl0bGVzKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEMuZ3JvdXAoJ+W8gOWni+iuoeeulyAiJyArIF9oZWFkaW5nX3RleHQgKyAnIiDnmoTlvpfliIYnKTsKCiAgICAgICAgICAgIC8vIGgxIOS4uiAx77yMIGgyIOS4uiAyCiAgICAgICAgICAgIHZhcgogICAgICAgICAgICAgICAgbm9kZU51bSA9IHBhcnNlSW50KF9oZWFkaW5nLm5vZGVOYW1lLnNsaWNlKDEpLCAxMCkgfHwgMTAsCiAgICAgICAgICAgICAgICBzY29yZSA9IDEwIC8gbm9kZU51bSwKICAgICAgICAgICAgICAgIF9oZWFkaW5nX3dvcmRzID0gX2hlYWRpbmdfdGV4dC5yZXBsYWNlKC9ccysvZywgIiAiKS5zcGxpdCgiICIpLAogICAgICAgICAgICAgICAgX21hdGNoZWRfd29yZHMgPSAiIgogICAgICAgICAgICA7CgogICAgICAgICAgICBDLmxvZygi5Yid5aeL5b6X5YiG77yaIiArIHNjb3JlKTsKCiAgICAgICAgICAgIC8vIOWQjumdoui/meenjeaYr+eJueauiueahOWIpOaWrQogICAgICAgICAgICBpZiAoX3Bvc2l0aXZlX3JlZ2V4cC50ZXN0KF9oZWFkaW5nX3RleHQpIHx8IC9cZHsyLDR9Ly50ZXN0KF9oZWFkaW5nX3RleHQpKSB7CiAgICAgICAgICAgICAgICBzY29yZSArPSA1MDsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBpZihfbmVnYXRpdmVfcmVnZXhwLnRlc3QoX2hlYWRpbmdfdGV4dCkpewogICAgICAgICAgICAvLyAgICAgc2NvcmUgLT0gMTAwOwogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICBDLmxvZygi56ym5ZCI5q2j5YiZ6K6h566X5ZCO5b6X5YiG77yaIiArIHNjb3JlKTsKCiAgICAgICAgICAgIC8vICBjb3VudCB3b3JkcyBwcmVzZW50IGluIHRpdGxlCiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBfaiA9IF9oZWFkaW5nX3dvcmRzLmxlbmd0aDsgaiA8IF9qOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChfc2VhcmNoX2RvY3VtZW50X3RpdGxlLmluZGV4T2YoX2hlYWRpbmdfd29yZHNbal0pID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBfbWF0Y2hlZF93b3JkcyArPSBfaGVhZGluZ193b3Jkc1tqXSArICcgJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBzY29yZSArPSBfbWF0Y2hlZF93b3Jkcy5sZW5ndGggKiAxLjU7CgogICAgICAgICAgICBDLmxvZygi6Lef6aG16Z2i5qCH6aKY5q+U6L6D5ZCO5b6X5YiG77yaIiArIHNjb3JlKTsKCiAgICAgICAgICAgIHZhciBfZm9udF9zaXplX3RleHQgPSAiIiwKICAgICAgICAgICAgICAgIF9mb250X3NpemVfYWRkX3Njb3JlID0gMCwKICAgICAgICAgICAgICAgIF9oZWFkaW5nX3N0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoX2hlYWRpbmcsIG51bGwpOwogICAgICAgICAgICBpZihfaGVhZGluZ19zdHlsZSl7CiAgICAgICAgICAgICAgICBfZm9udF9zaXplX3RleHQgPSBfaGVhZGluZ19zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCJmb250LXNpemUiKSB8fCAwOwogICAgICAgICAgICAgICAgX2ZvbnRfc2l6ZV9hZGRfc2NvcmUgPSBwYXJzZUludChfZm9udF9zaXplX3RleHQsIDEwKSAqIDEuNTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2NvcmUgKz0gIF9mb250X3NpemVfYWRkX3Njb3JlOwoKICAgICAgICAgICAgQy5sb2coIuiuoeeul+Wkp+Wwj+WQjuW+l+WIhu+8miIgKyBzY29yZSk7CgogICAgICAgICAgICBwb3NzaWJsZVRpdGxlc1tfaGVhZGluZ190ZXh0XSA9IHNjb3JlOwoKICAgICAgICAgICAgQy5ncm91cEVuZCgpOwogICAgICAgIH0pOwoKICAgICAgICAvLyDmib7liLDliIbmlbDmnIDpq5jnmoTlgLwKICAgICAgICB2YXIgdG9wU2NvcmVUaXRsZSwKICAgICAgICAgICAgc2NvcmVfdG1wID0gMDsKICAgICAgICBmb3IgKF9oZWFkaW5nX3RleHQgaW4gcG9zc2libGVUaXRsZXMpIHsKICAgICAgICAgICAgaWYgKHBvc3NpYmxlVGl0bGVzW19oZWFkaW5nX3RleHRdID4gc2NvcmVfdG1wKSB7CiAgICAgICAgICAgICAgICB0b3BTY29yZVRpdGxlID0gX2hlYWRpbmdfdGV4dDsKICAgICAgICAgICAgICAgIHNjb3JlX3RtcCA9IHBvc3NpYmxlVGl0bGVzW19oZWFkaW5nX3RleHRdOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgY3VyVGl0bGUgPSB0b3BTY29yZVRpdGxlOwogICAgICAgIGlmICghY3VyVGl0bGUpIHsKICAgICAgICAgICAgY3VyVGl0bGUgPSBfZG9jdW1lbnRfdGl0bGU7CgogICAgICAgICAgICAvLyDkuIvpnaLnmoTmraPliJnku44KICAgICAgICAgICAgLy8gICAgIEZpcmVmb3gtRmlyZWZveOa1j+iniOWZqOiuuuWdmy3ljaHppa3orrrlnZsgLSDkupLliqnliIbkuqsgLSDlpKfmsJTosKblkowhCiAgICAgICAgICAgIC8vIOWPmOS4ugogICAgICAgICAgICAvLyAgICAgRmlyZWZveC1GaXJlZm945rWP6KeI5Zmo6K665Z2bLeWNoemlreiuuuWdmwogICAgICAgICAgICBjdXJUaXRsZSA9IGN1clRpdGxlLnJlcGxhY2UoL1xzLVxzLiovaSwgIiIpCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX1teXFtcXeOAkOOAkV0rJC8sICIiKTsKICAgICAgICAgICAgY3VyVGl0bGUgPSBjdXJUaXRsZS50cmltKCk7CiAgICAgICAgICAgIGN1clRpdGxlID0gY3VyVGl0bGUucmVwbGFjZShfdGl0bGVfcmVtb3ZlX3JlZ2V4cCwgJycpOwogICAgICAgIH0KCiAgICAgICAgY3VyVGl0bGUgPSBjdXJUaXRsZS5yZXBsYWNlKFJ1bGUudGl0bGVSZXBsYWNlLCAiIik7CgogICAgICAgIEMuZ3JvdXBFbmQoKTsKCiAgICAgICAgcmV0dXJuIGN1clRpdGxlOwogICAgfSwKCiAgICAvLyDojrflj5blkozlpITnkIblhoXlrrkKICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgICAgICB0aGlzLmhhc0NvbnRlbnQoKTsKCiAgICAgICAgaWYgKHRoaXMuJGNvbnRlbnQuc2l6ZSgpIDw9IDApIHsKICAgICAgICAgICAgLy8gY2FsbGJhY2sodGhpcyk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ayoeacieaJvuWIsOWGheWuuScsIHRoaXMuJGRvYyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuaGFuZGxlQ29udGVudFRleHQodGhpcy4kY29udGVudC5odG1sKCksIHRoaXMuaW5mbyk7CiAgICB9LAogICAgaGFuZGxlQ29udGVudFRleHQ6IGZ1bmN0aW9uKHRleHQsIGluZm8pewogICAgICAgIGlmKCF0ZXh0KSByZXR1cm4gbnVsbDsKCiAgICAgICAgLy8g6LS05ZCn55qE5YaF5a655aSE55CG5q+U6L6D6ICX5pe26Ze0CiAgICAgICAgQy5ncm91cCgn5byA5aeL5YaF5a655aSE55CGJyk7CiAgICAgICAgQy50aW1lKCflhoXlrrnlpITnkIYnKTsKCiAgICAgICAgdmFyIGNvbnRlbnRIYW5kbGUgPSAodHlwZW9mKGluZm8uY29udGVudEhhbmRsZSkgPT0gJ3VuZGVmaW5lZCcpID8gdHJ1ZSA6IGluZm8uY29udGVudEhhbmRsZTsKCiAgICAgICAgLy8g5ou86Z+z5a2X44CB5bGP6JS95a2X5L+u5aSNCiAgICAgICAgaWYoY29udGVudEhhbmRsZSl7CiAgICAgICAgICAgIHRleHQgPSB0aGlzLnJlcGxhY2VIdG1sKHRleHQpOwogICAgICAgIH0KCiAgICAgICAgLyogVHVybiBhbGwgZG91YmxlIGJyJ3MgaW50byBwJ3MgKi8KICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKFJ1bGUucmVwbGFjZUJycywgJzwvcD5cbjxwPicpOwogICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzxcL3A+PHA+L2csICI8L3A+XG48cD4iKTsKCiAgICAgICAgLy8gR01fc2V0Q2xpcGJvYXJkKHRleHQpOwogICAgICAgIAogICAgICAgIC8vIOinhOWImeabv+aNogogICAgICAgIGlmIChpbmZvLmNvbnRlbnRSZXBsYWNlKSB7CiAgICAgICAgICAgIHRleHQgPSB0aGlzLnJlcGxhY2VUZXh0KHRleHQsIGluZm8uY29udGVudFJlcGxhY2UpOwogICAgICAgIH0KCiAgICAgICAgLy8g56e76Zmk5paH5a2X5bm/5ZGK562JCiAgICAgICAgdGV4dCA9IHRoaXMucmVwbGFjZVRleHQodGV4dCwgUnVsZS5yZXBsYWNlQWxsKTsKCiAgICAgICAgLy8g5Y676Zmk5YaF5a655Lit55qE5qCH6aKYCiAgICAgICAgaWYodGhpcy5jaGFwdGVyVGl0bGUgJiYgUnVsZS50aXRsZVJlZ0V4cC50ZXN0KHRoaXMuY2hhcHRlclRpdGxlKSl7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICB2YXIgcmVnID0gdG9SZVN0cih0aGlzLmNoYXB0ZXJUaXRsZSkucmVwbGFjZSgvXHMrL2csICdcXHMqJyk7CiAgICAgICAgICAgICAgICByZWcgPSBuZXcgUmVnRXhwKHJlZywgJ2lnJyk7CiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHJlZywgIiIpOwogICAgICAgICAgICAgICAgQy5sb2coJ+WOu+mZpOWGheWuueS4reeahOagh+mimCcsIHJlZyk7CiAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuYm9va1RpdGxlKSB7CiAgICAgICAgICAgIHZhciByZWdTdHIgPSAn77yIJyArIHRvUmVTdHIodGhpcy5ib29rVGl0bGUpICsgJ1xcZCrnq6DvvIknCiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChyZWdTdHIsICdpZycpLCAiIik7CiAgICAgICAgfQoKICAgICAgICBpZiAoQ29uZmlnLmNuMnR3KSB7CiAgICAgICAgICAgIHRleHQgPSB0aGlzLmNvbnZlcnQydHcodGV4dCk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICB0ZXh0ID0gdGhpcy5jb250ZW50Q3VzdG9tUmVwbGFjZSh0ZXh0KTsKICAgICAgICB9IGNhdGNoKGV4KSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iHquWumuS5ieabv+aNoumUmeivrycsIGV4KTsKICAgICAgICB9CgogICAgICAgIC8vIOmHh+eUqCBET00g5pa55byP6L+b6KGM5aSE55CGCiAgICAgICAgdmFyICRkaXYgPSAkKCI8ZGl2PiIpLmh0bWwodGV4dCk7CgogICAgICAgIC8vIGNvbnRlbnRSZW1vdmUKICAgICAgICAkZGl2LmZpbmQoUnVsZS5jb250ZW50UmVtb3ZlKS5yZW1vdmUoKTsKICAgICAgICBpZihpbmZvLmNvbnRlbnRSZW1vdmUpewogICAgICAgICAgICAkZGl2LmZpbmQoaW5mby5jb250ZW50UmVtb3ZlKS5yZW1vdmUoKTsKICAgICAgICB9CgogICAgICAgIC8vIOe7meeLrOeri+eahOaWh+acrOWKoOS4iiBwCiAgICAgICAgJGRpdi5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVR5cGUgPT0gMyAmJgogICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCAhPSAnXG4nICYmCiAgICAgICAgICAgICAgICAoIXRoaXMubmV4dEVsZW1lbnRTaWJsaW5nIHx8IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLm5vZGVOYW1lICE9ICdBJykgJiYKICAgICAgICAgICAgICAgICghdGhpcy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIHx8IHRoaXMucHJldmlvdXNFbGVtZW50U2libGluZy5ub2RlTmFtZSAhPSAnQScpOwogICAgICAgIH0pLndyYXAoJzxwPicpOwoKICAgICAgICAvLyDliKDpmaTml6DmlYjnmoQgcO+8jOaOkumZpOWvueWkp+Wdl+aWh+acrOeahOWIpOaWrQogICAgICAgICRkaXYuZmluZCgncCcpLmZpbHRlcihmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTsKICAgICAgICAgICAgaWYgKCR0aGlzLmZpbmQoJ2ltZycpLnNpemUoKSkgIC8vIOaOkumZpOacieWbvueJh+eahAogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICAgICAgLy8g5pyJ5pWI5paH5pys77yI5o6S6Zmk5rOo6YeK44CB5o2i6KGM56ym44CB56m655m977yJ5Liq5pWw5Li6IDAKICAgICAgICAgICAgcmV0dXJuICR0aGlzLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVR5cGUgIT0gOCAmJgogICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy50ZXh0Q29udGVudC5tYXRjaCgvXlxzKiQvKTsKICAgICAgICAgICAgfSkuc2l6ZSgpID09IDA7CiAgICAgICAgfSkucmVtb3ZlKCk7CgogICAgICAgIC8vIOaKiuS4gOWkp+Wdl+eahOaWh+acrOWIhuautQogICAgICAgIGlmIChDb25maWcuc3BsaXRfY29udGVudCkgewogICAgICAgICAgICB2YXIgJHAgPSAkZGl2LmZpbmQoJ3AnKSwKICAgICAgICAgICAgICAgICRuZXdQOwogICAgICAgICAgICBpZiAoJHAubGVuZ3RoID09IDAgKSB7CiAgICAgICAgICAgICAgICAkbmV3UCA9ICRkaXY7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHAubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICRuZXdQID0gJHA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkbmV3UCkgewogICAgICAgICAgICAgICAgJG5ld1AucmVwbGFjZVdpdGgoJzxwPicgKyB0aGlzLnNwbGl0Q29udGVudCgkbmV3UC5odG1sKCkpLmpvaW4oJzwvcD5cbjxwPicpICsgJzwvcD4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoY29udGVudEhhbmRsZSl7CiAgICAgICAgICAgICRkaXYuZmlsdGVyKCdicicpLnJlbW92ZSgpOwoKICAgICAgICAgICAgJGRpdi5maW5kKCcqJykucmVtb3ZlQXR0cignc3R5bGUnKTsKICAgICAgICB9CgogICAgICAgICRkaXYuZmluZCgncCcpLnJlbW92ZUF0dHIoJ2NsYXNzJyk7CgogICAgICAgIC8vIOWbvueJh+WxheS4re+8jOaJgOacieWbvuWDj++8nwogICAgICAgIC8vIGlmKGluZm8uZml4SW1hZ2UpewogICAgICAgIC8vICAgICAkZGl2LmZpbmQoImltZyIpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMuY2xhc3NOYW1lICs9ICIgYmxvY2tJbWFnZSI7CiAgICAgICAgLy8gICAgIH0pOwogICAgICAgIC8vIH0KCiAgICAgICAgdGV4dCA9ICRkaXYuaHRtbCgpOwoKICAgICAgICAvLyDkv67lpI3nrKzkuIDooYzlj6/og73mmK/nqbrnmoTmg4XlhrUKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8oPzpcc3wmbmJzcDspKzxwPi8sICI8cD4iKTsKCiAgICAgICAgLy8g5L+u5aSN5b2T6KGM5bCx5LiA5Liq5a2X56ym55qECiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvPFwvcD48cD4oW+OAgl0pLywgIiQxIik7CgogICAgICAgIGlmKGNvbmZpZy5wYXJhZ3JhcGhCbGFuayl7CiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzxwPig/OlxzfCZuYnNwOykrL2csICI8cD4iKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88cD4vZywgIjxwPuOAgOOAgCIpOwogICAgICAgIH0KCiAgICAgICAgLy8g5Yig6Zmk56m655m955qE44CB5Y2V5Liq5a2X56ym55qEIHAKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKFJ1bGUucmVtb3ZlTGluZVJlZ0V4cCwgIiIpOwoKICAgICAgICBDLnRpbWVFbmQoJ+WGheWuueWkhOeQhicpOwogICAgICAgIEMuZ3JvdXBFbmQoKTsKCiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9LAogICAgcmVwbGFjZUh0bWw6IGZ1bmN0aW9uKHRleHQsIHJlcGxhY2VSdWxlKSB7ICAvLyByZXBsYWNlUnVsZSDnu5nigJzoh6rlrprkuYnmm7/mjaLop4TliJnnm7TmjqXnlJ/mlYjigJ3nlKgKICAgICAgICBpZiAoIXJlcGxhY2VSdWxlKSB7CiAgICAgICAgICAgIHJlcGxhY2VSdWxlID0gUnVsZS5yZXBsYWNlOwogICAgICAgIH0KCiAgICAgICAgLy8g5YWI5o+Q5Y+W5Ye6IGltZwogICAgICAgIHZhciBpbWdzID0ge307CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzwoaW1nfGEpW14+XSo+L2csIGZ1bmN0aW9uKGltZyl7CiAgICAgICAgICAgIGltZ3NbaV0gPSBpbWc7CiAgICAgICAgICAgIHJldHVybiAieyIgKyAoaSsrKSArICJ9IjsKICAgICAgICB9KTsKCiAgICAgICAgLy8g5L+u5q2j5ou86Z+z5a2X562JCiAgICAgICAgdGV4dCA9IHRoaXMuY29udGVudFJlcGxhY2VtZW50cyh0ZXh0LCByZXBsYWNlUnVsZSk7CgogICAgICAgIC8vIOi/mOWOn+WbvueJhwogICAgICAgIHRleHQgPSAkLm5hbm8odGV4dCwgaW1ncyk7CgogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIGNvbnRlbnRSZXBsYWNlbWVudHM6IGZ1bmN0aW9uICh0ZXh0LCBydWxlKSB7CiAgICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHJ1bGUpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0b1JFKGtleSwgImlnIiksIHJ1bGVba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHJlcGxhY2VUZXh0OiBmdW5jdGlvbih0ZXh0LCBydWxlKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgc3dpdGNoKHRydWUpIHsKICAgICAgICAgICAgY2FzZSBfLmlzUmVnRXhwKHJ1bGUpOgogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShydWxlLCAnJyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBfLmlzU3RyaW5nKHJ1bGUpOgogICAgICAgICAgICAgICAgLy8g6L+Y5Y6f566A5YaZCiAgICAgICAgICAgICAgICBfLmVhY2goQ0hBUl9BTElBUywgZnVuY3Rpb24odmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlLnJlcGxhY2Uoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHJ1bGUsICdpZycpOwogICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyZWdleHAsICcnKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIF8uaXNBcnJheShydWxlKToKICAgICAgICAgICAgICAgIHJ1bGUuZm9yRWFjaChmdW5jdGlvbihyKXsKICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gc2VsZi5yZXBsYWNlVGV4dCh0ZXh0LCByKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgXy5pc09iamVjdChydWxlKToKICAgICAgICAgICAgICAgIHZhciBrZXk7CiAgICAgICAgICAgICAgICBmb3Ioa2V5IGluIHJ1bGUpewogICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICJpZyIpLCBydWxlW2tleV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIGNvbnZlcnQydHc6IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDsKCiAgICAgICAgdmFyIGlpLCBsZW4sIHN0cjsKICAgICAgICBzdHIgPSB0ZXh0LnNwbGl0KCIiKTsKICAgICAgICBsZW4gPSBzdHIubGVuZ3RoOwogICAgICAgIGZvciAoaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykgewogICAgICAgICAgICBzdHJbaWldID0gY24ydHdbc3RyW2lpXV0gfHwgc3RyW2lpXTsKICAgICAgICB9CgogICAgICAgIHN0ciA9IHN0ci5qb2luKCIiKTsKCiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBjb250ZW50Q3VzdG9tUmVwbGFjZTogZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICBpZiAoIXRleHQpIHJldHVybiB0ZXh0OwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gUnVsZS5jdXN0b21SZXBsYWNlKSB7CiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICdpZycpLCBSdWxlLmN1c3RvbVJlcGxhY2Vba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHNwbGl0Q29udGVudDogZnVuY3Rpb24gKHRleHQpIHsgIC8vIOacieS6m+eroOiKguaVtOS4qumDvembhuS4reWcqOS4gOi1t++8jOayoeacieWIhuaute+8jOi/meS4quWHveaVsOeUqOS6jueugOaYk+WIhuautQogICAgICAgIGlmICh0ZXh0LmluZGV4T2YoJ+OAgicpID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiBbdGV4dF07CiAgICAgICAgfQoKICAgICAgICB2YXIgaGFzTWFyayA9IGZhbHNlLAogICAgICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgICAgIGNoYXJDb3RhaW5lciA9IFtdOwoKICAgICAgICB0ZXh0LnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHsKICAgICAgICAgICAgY2hhckNvdGFpbmVyLnB1c2goYyk7CgogICAgICAgICAgICBpZiAoYyA9PSAn4oCcJykgewogICAgICAgICAgICAgICAgaGFzTWFyayA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSAn4oCdJykgewogICAgICAgICAgICAgICAgaGFzTWFyayA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT0gJ+OAgicgJiYgIWhhc01hcmspIHsKICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goY2hhckNvdGFpbmVyLmpvaW4oJycpKTsKICAgICAgICAgICAgICAgIGNoYXJDb3RhaW5lciA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBsaW5lczsKICAgIH0sCgogICAgZ2V0SW5kZXhVcmw6IGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHVybCA9ICcnLAogICAgICAgICAgICBzZWxlY3RvciA9IHRoaXMuaW5mby5pbmRleFNlbGVjdG9yIHx8IHRoaXMuaW5mby5pbmRleFVybDsKCiAgICAgICAgaWYgKHNlbGVjdG9yID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLmluZGV4VXJsID0gdXJsOwogICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgIH0KCiAgICAgICAgLy8g5YWI5bCd6K+V56uZ54K56KeE5YiZCiAgICAgICAgaWYgKHNlbGVjdG9yICYmIF8uaXNGdW5jdGlvbihzZWxlY3RvcikpIHsKICAgICAgICAgICAgdXJsID0gc2VsZWN0b3IodGhpcy4kZG9jKTsKICAgICAgICB9IGVsc2UgaWYodGhpcy5pbmZvLmluZGV4U2VsZWN0b3IpewogICAgICAgICAgICB1cmwgPSB0aGlzLiRkb2MuZmluZCh0aGlzLmluZm8uaW5kZXhTZWxlY3Rvcik7CiAgICAgICAgfQoKICAgICAgICAvLyDlho3lsJ3or5XpgJrnlKjop4TliJkKICAgICAgICBpZiAoIXVybCB8fCAhdXJsLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgc2VsZWN0b3JzID0gUnVsZS5pbmRleFNlbGVjdG9yczsKICAgICAgICAgICAgdmFyIF9pbmRleExpbms7CiAgICAgICAgICAgIC8vIOaMieeFp+mhuuW6j+mAieWPluebruW9lemTvuaOpQogICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gc2VsZWN0b3JzLmxlbmd0aDsgaSA8IGw7IGkrKyl7CiAgICAgICAgICAgICAgICBfaW5kZXhMaW5rID0gdGhpcy4kZG9jLmZpbmQoc2VsZWN0b3JzW2ldKTsKICAgICAgICAgICAgICAgIGlmKF9pbmRleExpbmsubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gX2luZGV4TGluazsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYodXJsKXsKICAgICAgICAgICAgdXJsID0gdGhpcy5jaGVja0xpbmtzKHVybCk7CiAgICAgICAgICAgIEMubG9nKCLmib7liLDnm67lvZXpk77mjqU6ICIgKyB1cmwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF1cmwpIHsKICAgICAgICAgICAgQy5sb2coIuaXoOazleaJvuWIsOebruW9lemTvuaOpS4iKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW5kZXhVcmwgPSB1cmw7CiAgICAgICAgcmV0dXJuIHVybDsKICAgIH0sCiAgICBnZXROZXh0VXJsOiBmdW5jdGlvbigpewogICAgICAgIHZhciB1cmwgPSAnJywKICAgICAgICAgICAgc2VsZWN0b3IgPSB0aGlzLmluZm8ubmV4dFNlbGVjdG9yIHx8IHRoaXMuaW5mby5uZXh0VXJsOwoKICAgICAgICBpZiAoc2VsZWN0b3IgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMubmV4dFVybCA9IHVybDsKICAgICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9CgogICAgICAgIC8vIOWFiOWwneivleermeeCueinhOWImQogICAgICAgIGlmIChzZWxlY3RvcikgewogICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKHNlbGVjdG9yKSkgewogICAgICAgICAgICAgICAgdXJsID0gc2VsZWN0b3IodGhpcy4kZG9jKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuJGRvYy5maW5kKHNlbGVjdG9yKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXJsID0gdGhpcy5jaGVja0xpbmtzKHVybCk7CiAgICAgICAgfQoKICAgICAgICAvLyDlho3lsJ3or5XpgJrnlKjop4TliJkKICAgICAgICBpZiAoIXVybCkgewogICAgICAgICAgICB1cmwgPSB0aGlzLiRkb2MuZmluZChSdWxlLm5leHRTZWxlY3Rvcik7CiAgICAgICAgICAgIHVybCA9IHRoaXMuY2hlY2tMaW5rcyh1cmwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICBDLmxvZygi5om+5Yiw5LiL5LiA6aG16ZO+5o6lOiAiICsgdXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDLmxvZygi5peg5rOV5om+5Yiw5LiL5LiA6aG16ZO+5o6lIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm5leHRVcmwgPSB1cmwgfHwgJyc7CiAgICAgICAgdGhpcy5pc1RoZUVuZCA9ICF0aGlzLmNoZWNrTmV4dFVybCh1cmwpOwogICAgICAgIGlmKHRoaXMuaXNUaGVFbmQpewogICAgICAgICAgICB0aGlzLnRoZUVuZENvbG9yID0gY29uZmlnLmVuZF9jb2xvcjsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1cmw7CiAgICB9LAogICAgLy8g6I635Y+W5LiK5LiL6aG15Y+K55uu5b2V6aG16ZO+5o6lCiAgICBnZXRQcmV2VXJsOiBmdW5jdGlvbigpewogICAgICAgIHZhciB1cmwgPSAnJywKICAgICAgICAgICAgc2VsZWN0b3IgPSB0aGlzLmluZm8ucHJldlNlbGVjdG9yIHx8IHRoaXMuaW5mby5wcmV2VXJsOwoKICAgICAgICBpZiAoc2VsZWN0b3IgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMucHJldlVybCA9IHVybDsKICAgICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9CgogICAgICAgIC8vIOWFiOWwneivleermeeCueinhOWImQogICAgICAgIGlmIChzZWxlY3RvcikgewogICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKHNlbGVjdG9yKSkgewogICAgICAgICAgICAgICAgdXJsID0gc2VsZWN0b3IodGhpcy4kZG9jKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuJGRvYy5maW5kKHNlbGVjdG9yKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdXJsID0gdGhpcy5jaGVja0xpbmtzKHVybCk7CiAgICAgICAgfQoKICAgICAgICAvLyDlho3lsJ3or5XpgJrnlKjop4TliJkKICAgICAgICBpZiAoIXVybCkgewogICAgICAgICAgICB1cmwgPSB0aGlzLiRkb2MuZmluZChSdWxlLnByZXZTZWxlY3Rvcik7CiAgICAgICAgICAgIHVybCA9IHRoaXMuY2hlY2tMaW5rcyh1cmwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICBDLmxvZygi5om+5Yiw5LiK5LiA6aG16ZO+5o6lOiAiICsgdXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDLmxvZygi5peg5rOV5om+5Yiw5LiK5LiA6aG16ZO+5o6lIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnByZXZVcmwgPSB1cmwgfHwgJyc7CiAgICAgICAgcmV0dXJuIHVybDsKICAgIH0sCiAgICBjaGVja05leHRVcmw6IGZ1bmN0aW9uKHVybCl7CiAgICAgICAgaWYgKHRoaXMuaW5mby5jaGVja1NlY3Rpb24pIHsKICAgICAgICAgICAgaWYgKC9cL1xkK19cZCtcLmh0bWwkLy50ZXN0KHRoaXMuY3VyUGFnZVVybCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNTZWN0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmKHVybCA9PSB0aGlzLmluZGV4VXJsKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g6LefIGluY2x1ZGUg5q+U6L6DCiAgICAgICAgdmFyIGluY2x1ZGVVcmwgPSB0aGlzLmluZm8uaW5jbHVkZVVybCB8fCB0aGlzLmdldEluY2x1ZGVVcmwoKTsKICAgICAgICBpZiAoIXRvUkUoaW5jbHVkZVVybCkudGVzdCh1cmwpKQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIHN3aXRjaCh0cnVlKXsKICAgICAgICAgICAgY2FzZSB1cmwgPT09ICcnOgogICAgICAgICAgICBjYXNlIFJ1bGUubmV4dFVybElnbm9yZS5zb21lKGZ1bmN0aW9uKHJlKSB7IHJldHVybiB0b1JFKHJlKS50ZXN0KHVybCkgfSk6CiAgICAgICAgICAgIGNhc2UgdXJsID09PSB0aGlzLmluZGV4VXJsOgogICAgICAgICAgICBjYXNlIHVybCA9PT0gdGhpcy5wcmV2VXJsOgogICAgICAgICAgICBjYXNlIHVybCA9PT0gdGhpcy5jdXJQYWdlVXJsOgogICAgICAgICAgICBjYXNlIFJ1bGUubmV4dFVybENvbXBhcmUudGVzdCh0aGlzLnByZXZVcmwpICYmICFSdWxlLm5leHRVcmxDb21wYXJlLnRlc3QodXJsKToKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0sCiAgICBnZXRJbmNsdWRlVXJsOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgaW5jbHVkZVVybCA9IHRoaXMuaW5mby51cmw7CgogICAgICAgIGlmICghaW5jbHVkZVVybCAmJiB0eXBlb2YgR01faW5mbyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgdmFyIGxvY2F0aW9uSHJlZiA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIEdNX2luZm8uc2NyaXB0LmluY2x1ZGVzLnNvbWUoZnVuY3Rpb24oaW5jbHVkZVN0cikgewogICAgICAgICAgICAgICAgdmFyIGlVcmwgPSB3aWxkY2FyZFRvUmVnRXhwU3RyKGluY2x1ZGVTdHIpOwogICAgICAgICAgICAgICAgaWYgKHRvUkUoaVVybCkudGVzdChsb2NhdGlvbkhyZWYpKSB7CiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZVVybCA9IGlVcmw7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pbmZvLmluY2x1ZGVVcmwgPSBpbmNsdWRlVXJsOwogICAgICAgIHJldHVybiBpbmNsdWRlVXJsOwogICAgfSwKICAgIGNoZWNrTGlua3M6IGZ1bmN0aW9uKGxpbmtzKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgdmFyIHVybCA9ICcnOwoKICAgICAgICBpZiAoIWxpbmtzKSByZXR1cm4gJycKCiAgICAgICAgaWYgKF8uaXNTdHJpbmcobGlua3MpKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxIcmVmKGxpbmtzKTsKICAgICAgICB9CgogICAgICAgIGxpbmtzICYmIGxpbmtzLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgdXJsID0gJCh0aGlzKS5hdHRyKCJocmVmIik7CiAgICAgICAgICAgIGlmKCF1cmwgfHwgdXJsLmluZGV4T2YoIiMiKSA9PT0gMCB8fCB1cmwuaW5kZXhPZigiamF2YXNjcmlwdDoiKSA9PT0gMCkKICAgICAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgICAgIHVybCA9IHNlbGYuZ2V0RnVsbEhyZWYodGhpcyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHVybDsKICAgIH0sCiAgICBnZXRMaW5rVXJsOiBmdW5jdGlvbihsaW5rT3JVcmwpIHsKICAgICAgICAvLyBpZiAobGlua09yVXJsICYmICkKICAgICAgICByZXR1cm4gbGlua09yVXJsOwogICAgfSwKICAgIGdldEZ1bGxIcmVmOiBmdW5jdGlvbihocmVmKSB7CiAgICAgICAgaWYoIWhyZWYpIHJldHVybiAnJzsKCiAgICAgICAgaWYgKCFfLmlzU3RyaW5nKGhyZWYpKSB7CiAgICAgICAgICAgIGhyZWYgPSBocmVmLmdldEF0dHJpYnV0ZSgnaHJlZicpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGhyZWYuaW5kZXhPZignaHR0cDovLycpID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBocmVmOwogICAgICAgIH0KCiAgICAgICAgdmFyIGEgPSB0aGlzLmE7CiAgICAgICAgaWYgKCFhKSB7CiAgICAgICAgICAgIHRoaXMuYSA9IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgfQogICAgICAgIGEuaHJlZiA9IGhyZWY7CgogICAgICAgIC8vIC8vIOajgOa1iyBob3N0IOaYr+WQpuWSjCDlvZPliY3pobXnmoTkuIDoh7QKICAgICAgICAvLyBpZiAoYS5ob3N0ICE9IHRoaXMuX2N1clBhZ2VIb3N0KSB7CiAgICAgICAgLy8gICAgIGEuaG9zdCA9IHRoaXMuX2N1clBhZ2VIb3N0OwogICAgICAgIC8vIH0KCiAgICAgICAgcmV0dXJuIGEuaHJlZjsKICAgIH0sCn07CgoKdmFyIEFwcCA9IHsKICAgIGlzRW5hYmxlZDogZmFsc2UsCiAgICBwYXJzZWRQYWdlczoge30sCiAgICBwYWdlTnVtOiAxLAogICAgcGF1c2VkOiBmYWxzZSwKICAgIGN1clBhZ2VVcmw6IGxvY2F0aW9uLmhyZWYsCiAgICByZXF1ZXN0VXJsOiBudWxsLAogICAgaWZyYW1lOiBudWxsLAogICAgcmVtb3ZlOiBbXSwKCiAgICBpbml0OiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoWyJteW5vdmVscmVhZGVyLWlmcmFtZSIsICJzdXBlcnByZWxvYWRlci1pZnJhbWUiXS5pbmRleE9mKHdpbmRvdy5uYW1lKSAhPSAtMSkgeyAvLyDnlKjkuo7liqDovb3kuIvkuIDpobXnmoQgaWZyYW1lCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIOaJi+WKqOiwg+eUqAogICAgICAgIHZhciByZWFkeCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvLyDpmLLmraIgdW5zYWZlV2luZG93IGNhbm5vdCBjYWxsOiBHTV9nZXRWYWx1ZQogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgQXBwLmxhdW5jaCgpOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9OwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGV4cG9ydEZ1bmN0aW9uKHJlYWR4LCB1bnNhZmVXaW5kb3csIHtkZWZpbmVBczogInJlYWR4In0pOwogICAgICAgIH0gY2F0Y2goZXgpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5peg5rOV5a6a5LmJIHJlYWR4IOWHveaVsCcpOwogICAgICAgIH0KCgogICAgICAgIEFwcC5sb2FkQ3VzdG9tU2V0dGluZygpOwogICAgICAgIEFwcC5zaXRlID0gQXBwLmdldEN1clNpdGVJbmZvKCk7CiAgICAgICAgdmFyIGF1dG9MYXVuY2ggPSBBcHAuaXNBdXRvTGF1bmNoKCk7CgogICAgICAgIGlmIChhdXRvTGF1bmNoID09PSAtMSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChhdXRvTGF1bmNoKSB7CiAgICAgICAgICAgIGlmIChBcHAuc2l0ZS5tdXRhdGlvblNlbGVjdG9yKSB7IC8vIOeJueauiueahOWQr+WKqO+8muetieW+hWpz5oqK5YaF5a6555Sf5oiQ5a6M5q+VCiAgICAgICAgICAgICAgICBBcHAuYWRkTXV0YXRpb25PYnNlcnZlKGRvY3VtZW50LCBBcHAubGF1bmNoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChBcHAuc2l0ZS50aW1lb3V0KSB7IC8vIOW7tui/n+WQr+WKqAogICAgICAgICAgICAgICAgc2V0VGltZW91dChBcHAubGF1bmNoLCBBcHAuc2l0ZS50aW1lb3V0KTsKICAgICAgICAgICAgfSBlbHNlIHsgLy8gTm9TY3JpcHQg5LiLIHNldFRpbWVvdXQg5rKh55So77yfCiAgICAgICAgICAgICAgICBBcHAubGF1bmNoKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBVSS5hZGRCdXR0b24oKTsKICAgICAgICB9CiAgICB9LAogICAgbG9hZEN1c3RvbVNldHRpbmc6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBjdXN0b21SdWxlczsKICAgICAgICB0cnkgewogICAgICAgICAgICBjdXN0b21SdWxlcyA9IGV2YWwoQ29uZmlnLmN1c3RvbVNpdGVpbmZvKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i9veWFpeiHquWumuS5ieermeeCuemFjee9rumUmeivrycsIGUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKF8uaXNBcnJheShjdXN0b21SdWxlcykpIHsKICAgICAgICAgICAgUnVsZS5jdXN0b21SdWxlcyA9IGN1c3RvbVJ1bGVzOwogICAgICAgICAgICBDLmxvZygn6L295YWl6Ieq5a6a5LmJ56uZ54K56KeE5YiZ5oiQ5YqfJywgY3VzdG9tUnVsZXMpOwogICAgICAgIH0KCiAgICAgICAgLy8gbG9hZCBjdXN0b20gcmVwbGFjZSBydWxlcwogICAgICAgIFJ1bGUuY3VzdG9tUmVwbGFjZSA9IFJ1bGUucGFyc2VDdXN0b21SZXBsYWNlUnVsZXMoQ29uZmlnLmN1c3RvbVJlcGxhY2VSdWxlcyk7CgogICAgICAgIEMubG9nKCfovb3lhaXoh6rlrprkuYnmm7/mjaLop4TliJnmiJDlip8nLCBSdWxlLmN1c3RvbVJlcGxhY2UpOwogICAgfSwKICAgIGdldEN1clNpdGVJbmZvOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgcnVsZXMgPSBSdWxlLmN1c3RvbVJ1bGVzLmNvbmNhdChSdWxlLnNwZWNpYWxTaXRlKTsKICAgICAgICB2YXIgbG9jYXRpb25IcmVmID0gbG9jYXRpb24uaHJlZjsKCiAgICAgICAgdmFyIGluZm8gPSBfLmZpbmQocnVsZXMsIGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgcmV0dXJuIHRvUkUoeC51cmwpLnRlc3QobG9jYXRpb25IcmVmKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFpbmZvKSB7CiAgICAgICAgICAgIGluZm8gPSB7fTsKICAgICAgICAgICAgQy5sb2coIuayoeacieaJvuWIsOinhOWIme+8jOWwneivleiHquWKqOaooeW8j+OAgiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEMubG9nKCLmib7liLDop4TliJnvvJoiLCBpbmZvKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICB9LAogICAgaXNBdXRvTGF1bmNoOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbG9jYXRpb25IcmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYsCiAgICAgICAgICAgIGxvY2F0aW9uSG9zdCA9IGxvY2F0aW9uLmhvc3QsCiAgICAgICAgICAgIHJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXI7CgogICAgICAgIHN3aXRjaCAodHJ1ZSkgewogICAgICAgICAgICBjYXNlIExfZ2V0VmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIpID09ICd0cnVlJzoKICAgICAgICAgICAgICAgIExfcmVtb3ZlVmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAvLyBjYXNlIGxvY2F0aW9uLmhvc3RuYW1lID09ICd3d3cuZmt6d3cubmV0JyAmJiAhZG9jdW1lbnQudGl0bGUubWF0Y2goL+e9keaWh+W/q+iury8pOiAgLy8g5ZWD5Lmm5Y+q6Ieq5Yqo5ZCv55So5LiA5Liq5Zyw5pa5CiAgICAgICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgQ29uZmlnLmJvb2tsaW5rX2VuYWJsZSAmJiAvYm9va2xpbmtcLm1lLy50ZXN0KHJlZmVycmVyKToKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICBjYXNlIGxvY2F0aW9uSG9zdCA9PSAndGllYmEuYmFpZHUuY29tJzoKICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9ICQoJy5jb3JlX3RpdGxlX3R4dCcpLnRleHQoKTsKICAgICAgICAgICAgICAgIGlmICh0aXRsZS5tYXRjaChSdWxlLnRpdGxlUmVnRXhwKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIENvbmZpZy5nZXREaXNhYmxlQXV0b0xhdW5jaCgpOgogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlIEdNX2dldFZhbHVlKCJhdXRvX2VuYWJsZSIpOgogICAgICAgICAgICBjYXNlIGNvbmZpZy5zb2R1c28gJiYgL3d3d1wuc29kdVwuc28vLnRlc3QocmVmZXJyZXIpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfSwKICAgIGFkZE11dGF0aW9uT2JzZXJ2ZTogZnVuY3Rpb24oZG9jLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzaG91bGRBZGQgPSBmYWxzZTsKICAgICAgICB2YXIgJGRvYyA9ICQoZG9jKTsKCiAgICAgICAgaWYgKCRkb2MuZmluZChBcHAuc2l0ZS5jb250ZW50U2VsZWN0b3IpLnNpemUoKSkgewogICAgICAgICAgICBzaG91bGRBZGQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgbXV0YXRpb25TZWxlY3RvciA9IEFwcC5zaXRlLm11dGF0aW9uU2VsZWN0b3I7CiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkZG9jLmZpbmQobXV0YXRpb25TZWxlY3RvcilbMF07CiAgICAgICAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICAgICAgICAgIHZhciBjaGlsZENvdW50ID0gQXBwLnNpdGUubXV0YXRpb25DaGlsZENvdW50OwogICAgICAgICAgICAgICAgaWYgKGNoaWxkQ291bnQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQuY2hpbGRyZW4ubGVuZ3RoIDw9IGNoaWxkQ291bnQpIHsKICAgICAgICAgICAgICAgICAgICBzaG91bGRBZGQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoc2hvdWxkQWRkKSB7CiAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgdmFyIG5vZGVBZGRlZCA9IG11dGF0aW9ucy5zb21lKGZ1bmN0aW9uKHgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5hZGRlZE5vZGVzLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAobm9kZUFkZGVkKSB7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIHsKICAgICAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIEMubG9nKCLmt7vliqAgTXV0YXRpb25PYnNlcnZlIOaIkOWKn++8miIsIG11dGF0aW9uU2VsZWN0b3IpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgfSwKICAgIGxhdW5jaDogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8g5Y+q6Kej5p6Q5LiA5qyh77yM6Ziy5q2i5aSa5qyh6YeN5aSN6Kej5p6Q5LiA5Liq6aG16Z2iCiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSA9PSAiTXlOb3ZlbFJlYWRlciIpIHsKICAgICAgICAgICAgcmV0dXJuIEFwcC50b2dnbGUoKTsKICAgICAgICB9CgogICAgICAgIGlmICghQXBwLnNpdGUpIHsKICAgICAgICAgICAgQXBwLnNpdGUgPSBBcHAuZ2V0Q3VyU2l0ZUluZm8oKTsKICAgICAgICB9CgogICAgICAgIGlmIChBcHAuc2l0ZS5zdGFydEZpbHRlcikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgQXBwLnNpdGUuc3RhcnRGaWx0ZXIoKTsKICAgICAgICAgICAgICAgIEMubG9nKCdydW4gc3RhcnRGaWx0ZXIgZnVuY3Rpb24gc3VjY2VzcycpOwogICAgICAgICAgICB9IGNhdGNoIChleCkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign6L+Q6KGMIHN0YXJ0RmlsdGVyIGZ1bmN0aW9uIOmUmeivrycsIGV4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIoQXBwLnNpdGUsIGRvY3VtZW50KTsKICAgICAgICB2YXIgaGFzQ29udGVudCA9ICEhcGFyc2VyLmhhc0NvbnRlbnQoKTsKICAgICAgICBpZiAoaGFzQ29udGVudCkgewogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgibmFtZSIsICJNeU5vdmVsUmVhZGVyIik7CiAgICAgICAgICAgIEFwcC5wYXJzZWRQYWdlc1t3aW5kb3cubG9jYXRpb24uaHJlZl0gPSB0cnVlOwogICAgICAgICAgICBwYXJzZXIuZ2V0QWxsKGZ1bmN0aW9uKHBhcnNlcikgewogICAgICAgICAgICAgICAgQXBwLnByb2Nlc3NQYWdlKHBhcnNlcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuW9k+WJjemhtemdouayoeacieaJvuWIsOWGheWuuSIpOwogICAgICAgIH0KCiAgICAgICAgLy8g5Yid5aeL5YyWLCDlj5bmtojpobXpnaLpmZDliLbnrYkKICAgICAgICBpZiAoQXBwLnNpdGUuZkluaXQpCiAgICAgICAgICAgIEFwcC5zaXRlLmZJbml0KCk7CiAgICB9LAogICAgcHJvY2Vzc1BhZ2U6IGZ1bmN0aW9uKHBhcnNlcikgewogICAgICAgIC8vIOWvuSBEb2N1bWVudCDov5vooYzlpITnkIYKICAgICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnOwogICAgICAgIEFwcC5wcmVwRG9jdW1lbnQoKTsKICAgICAgICBBcHAuaW5pdERvY3VtZW50KHBhcnNlcik7CgogICAgICAgIC8vIGNhY2hlIHZhcnMKICAgICAgICBBcHAuJGRvYyA9ICQoZG9jdW1lbnQpOwogICAgICAgIEFwcC4kbWVudUJhciA9IEFwcC4kZG9jLmZpbmQoIiNtZW51LWJhciIpOwogICAgICAgIEFwcC4kbWVudSA9IEFwcC4kZG9jLmZpbmQoIiNtZW51Iik7CiAgICAgICAgQXBwLiRjb250ZW50ID0gQXBwLiRkb2MuZmluZCgiI215bm92ZWxyZWFkZXItY29udGVudCIpOwogICAgICAgIEFwcC4kbG9hZGluZyA9IEFwcC4kZG9jLmZpbmQoIiNsb2FkaW5nIik7CiAgICAgICAgQXBwLiRwcmVmZXJlbmNlc0J0biA9IEFwcC4kZG9jLmZpbmQoIiNwcmVmZXJlbmNlc0J0biIpOwoKICAgICAgICBBcHAuJG1lbnVIZWFkZXIgPSBBcHAuJG1lbnUuZmluZCgiI2NoYXB0ZXItbGlzdCIpOwogICAgICAgIEFwcC4kY2hhcHRlckxpc3QgPSBBcHAuJG1lbnUuZmluZCgiI2NoYXB0ZXItbGlzdCIpOwoKICAgICAgICBBcHAuaW5kZXhVcmwgPSBwYXJzZXIuaW5kZXhVcmw7CiAgICAgICAgQXBwLnByZXZVcmwgPSBwYXJzZXIucHJldlVybDsgLy8g56ys5LiA5Liq5LiK5LiA6aG1CgogICAgICAgIEFwcC5vQXJ0aWNsZXMgPSBbXTsgIC8vIOWOn+Wni+eahOWGheWuue+8jOeUqOS6juabv+aNoueahOaXoOmcgOWIt+aWsAogICAgICAgIEFwcC5wYXJzZXJzID0gW107CgogICAgICAgIC8vIOWKoOWFpeS4iuS4gOeroOeahOmTvuaOpQogICAgICAgIGlmIChwYXJzZXIucHJldlVybCkgewogICAgICAgICAgICAkKCI8bGk+IikKICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY2hhcHRlcicpCiAgICAgICAgICAgICAgICAuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgICQoIjxkaXY+IikKICAgICAgICAgICAgICAgICAgICAuYXR0cih7CiAgICAgICAgICAgICAgICAgICAgICAgICJyZWFsSHJlZiI6IHBhcnNlci5wcmV2VXJsLAogICAgICAgICAgICAgICAgICAgICAgICAib25jbGljayI6ICJyZXR1cm4gZmFsc2U7IgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRleHQoIuS4iuS4gOeroCIudWlUcmFucygpKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnByZXBlbmRUbyhBcHAuJGNoYXB0ZXJMaXN0KTsKICAgICAgICB9CgogICAgICAgIC8vIOaPkuWFpeermeeCueagt+W8jwogICAgICAgIGlmIChBcHAuc2l0ZS5zdHlsZSkgewogICAgICAgICAgICBHTV9hZGRTdHlsZShBcHAuc2l0ZS5zdHlsZSk7CiAgICAgICAgfQoKICAgICAgICBBcHAuYXBwZW5kUGFnZShwYXJzZXIsIHRydWUpOwoKICAgICAgICBBcHAucmVnaXN0ZXJDb250cm9scygpOwoKICAgICAgICAvLyBVSSDnmoTliJ3lp4vljJYKICAgICAgICBVSS5pbml0KCk7CgogICAgICAgIEFwcC5jdXJGb2N1c0VsZW1lbnQgPSAkKCJhcnRpY2xlOmZpcnN0IikuZ2V0KDApOyAvLyDliJ3lp4vljJblvZPliY3lhbPms6jnmoQgZWxlbWVudAogICAgICAgIEFwcC5yZXF1ZXN0VXJsID0gcGFyc2VyLm5leHRVcmw7CiAgICAgICAgQXBwLmlzVGhlRW5kID0gcGFyc2VyLmlzVGhlRW5kOwoKICAgICAgICBBcHAuaXNFbmFibGVkID0gdHJ1ZTsKICAgICAgICBVSS5hZGRCdXR0b24oKTsKCiAgICAgICAgLy8gLy8g5aaC5p6c5bey57uP5oqK5b2T5YmN54Sm54K56ZO+5o6l5re75Yqg5Yiw5Y6G5Y+y6K6w5b2V77yM5YiZ5rua5Yqo5Yiw6aG26YOoCiAgICAgICAgLy8gaWYgKENvbmZpZy5hZGRUb0hpc3RvcnkpIHsKICAgICAgICAvLyAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgIC8vIH0KCiAgICAgICAgLy8g5pyJ5Lqb5Zu+54mH572R56uZ6auY5bqm6ZqP552A5Zu+54mH5Yqg6L296ICM5Y+Y6ZW/CiAgICAgICAgc2V0VGltZW91dChBcHAuc2Nyb2xsLCAxMDAwKTsKCiAgICAgICAgQXBwLmNsZWFuQWdhaW4oKTsKCiAgICAgICAgaWYgKGNvbmZpZy5QUkVMT0FERVIpIHsKICAgICAgICAgICAgQXBwLmRvUmVxdWVzdCgpOwogICAgICAgIH0KICAgIH0sCiAgICBwcmVwRG9jdW1lbnQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHdpbmRvdy5vbmxvYWQgPSB3aW5kb3cub251bmxvYWQgPSBmdW5jdGlvbigpIHt9OwoKICAgICAgICAvLyDnoLTop6Plj7PplK7pmZDliLYKICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQ7CiAgICAgICAgdmFyIGJkID0gZG9jLmJvZHk7CiAgICAgICAgYmQub25jbGljayA9IGJkLm9uZGJsY2xpY2sgPSBiZC5vbnNlbGVjdHN0YXJ0ID0gYmQub25jb3B5ID0gYmQub25wYXN0ZSA9IGJkLm9ua2V5ZG93biA9IGJkLm9uY29udGV4dG1lbnUgPSBiZC5vbm1vdXNlbW92ZSA9IGJkLm9uc2VsZWN0c3RhcnQgPSBiZC5vbmRyYWdzdGFydCA9IGRvYy5vbnNlbGVjdHN0YXJ0ID0gZG9jLm9uY29weSA9IGRvYy5vbnBhc3RlID0gZG9jLm9ua2V5ZG93biA9IGRvYy5vbmNvbnRleHRtZW51ID0gbnVsbDsKICAgICAgICBkb2Mub25jbGljayA9IGRvYy5vbmRibGNsaWNrID0gZG9jLm9uc2VsZWN0c3RhcnQgPSBkb2Mub25jb250ZXh0bWVudSA9IGRvYy5vbm1vdXNlZG93biA9IGRvYy5vbmtleWRvd24gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKCiAgICAgICAgZG9jID0gZG9jdW1lbnQud3JhcHBlZEpTT2JqZWN0IHx8IGRvY3VtZW50OwogICAgICAgIGRvYy5vbm1vdXNldXAgPSBudWxsOwogICAgICAgIGRvYy5vbm1vdXNlZG93biA9IG51bGw7CiAgICAgICAgZG9jLm9uY29udGV4dG1lbnUgPSBudWxsOwoKICAgICAgICB2YXIgYXJBbGxFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7CiAgICAgICAgZm9yICh2YXIgaSA9IGFyQWxsRWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdmFyIGVsbU9uZSA9IGFyQWxsRWxlbWVudHNbaV07CiAgICAgICAgICAgIGVsbU9uZSA9IGVsbU9uZS53cmFwcGVkSlNPYmplY3QgfHwgZWxtT25lOwogICAgICAgICAgICBlbG1PbmUub25tb3VzZXVwID0gbnVsbDsKICAgICAgICAgICAgZWxtT25lLm9ubW91c2Vkb3duID0gbnVsbDsKICAgICAgICB9CgogICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgia2V5cHJlc3MiKTsKICAgICAgICAkKGRvY3VtZW50KS51bmJpbmQoImtleWRvd24iKTsKCiAgICAgICAgLy8gcmVtb3ZlIGJvZHkgc3R5bGUKICAgICAgICAkKCdsaW5rW3JlbD0ic3R5bGVzaGVldCJdLCBzY3JpcHQnKS5yZW1vdmUoKTsKICAgICAgICAkKCdib2R5JykKICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3N0eWxlJykKICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2JnY29sb3InKTsKCiAgICAgICAgJCgnc3R5bGUnKS5maWx0ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciAkc3R5bGUgPSAkKHRoaXMpOwogICAgICAgICAgICBpZigkc3R5bGUudGV4dCgpLmluZGV4T2YoJyNjVmltLWxpbmstY29udGFpbmVyJykgIT0gLTEpIHsgIC8vIGNocm9tZSDnmoQgY1ZpbSDmianlsZUKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KS5yZW1vdmUoKTsKICAgIH0sCiAgICBpbml0RG9jdW1lbnQ6IGZ1bmN0aW9uKHBhcnNlcikgewogICAgICAgIGRvY3VtZW50LnRpdGxlID0gcGFyc2VyLmRvY1RpdGxlOwogICAgICAgIHdpbmRvdy5uYW1lID0gIk15Tm92ZWxSZWFkZXIiOwogICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJC5uYW5vKCc8ZGl2IGlkPSJjb250YWluZXIiPlxuICAgIDxkaXYgaWQ9Im1lbnUtYmFyIiB0aXRsZT0i54K55Ye75pi+56S66ZqQ6JeP56ug6IqC5YiX6KGoIj48L2Rpdj5cbiAgICA8ZGl2IGlkPSJtZW51Ij5cbiAgICAgICAgPGRpdiBpZD0iaGVhZGVyIiB0aXRsZT0i5omT5byA55uu5b2VIj5cbiAgICAgICAgICAgIDxhIGhyZWY9IntpbmRleFVybH0iIHRhcmdldD0iX2JsYW5rIj57Ym9va1RpdGxlfTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9ImRpdmlkZXIiPjwvZGl2PlxuICAgICAgICA8dWwgaWQ9ImNoYXB0ZXItbGlzdCIgdGl0bGU9IuW3pumUrua7muWKqO+8jOS4remUruaJk+W8gOmTvuaOpe+8iOaXoOmYheivu+aooeW8j++8iSI+XG4gICAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD0ibXlub3ZlbHJlYWRlci1jb250ZW50Ij48L2Rpdj5cbiAgICA8ZGl2IGlkPSJsb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2Rpdj5cbiAgICA8ZGl2IGlkPSJwcmVmZXJlbmNlc0J0biI+XG4gICAgICAgIDxpbWcgc3R5bGU9IndpZHRoOjE2cHgiIHNyYz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCZ0FBQUFZQ0FZQUFBRGdkejM0QUFBQndrbEVRVlJJaWJWVnpXckNRQkFlUWsvYmRrK2JtMGFXRFFFUEh0d1ZhaGRhdkxVOWF3NktBUStTUTg2U2ExOUFxdTBUOU5hZlN3OHR0T2dyMUNld1VCOUNCTDNZeTI2eDFxUnAwQThHaHNuTzl5VXpteG1BaEtqWDY4Y0FNQWVBdWZLM0M4NzVGUUFzQVdDcC9PM0NzcXloRmxCK090aTIvY0FZZXdyRDhGREhhclhhaFdFWVV5MWdHTWJVZGQxei9Ud013MFBHMkpOdDIvZXg1SXl4UjAyQ0VKcElLYnVFa0pHT3JSc2haQ1NsN0NLRUpqckdHSHVJRk1qbGNzOVJaRWxOY1d4R0VBUUhHT054V25LTThUZ0lnb1BZTWtrcEw5TUtxTng0eE5YOEx5T0V2TWVTcTV1eE1abHozdk45ditEN2ZvRnozb3M2VjYxV3ozNlFOaHFOVXlIRU5hVjBDQUNMVFVuRll2RjYvV1ZVYkpQSWdsSTZGRUxjdEZxdE1pVDU5SGE3VGRjRlZDeEo2WFlzMEd3MlQxU0pCbHNxMFp4U09oQkMzSGllZC9RalNUVW9xc245bFNiM284Nzlhdkk2MUZYYnpUVUZBQ2lYeTd2NzBUcWR6ajdHK0NPdHdKK2pJcFBKdktZbDEyWloxa3Vjd0pzK2lCRDZsRkoyVGRPTUhCMm1hYjcvYTF4WEtwVzlmRDUvNnpqTzNlckNjVjMzUE1uQ2NSd25mdUhFWVhWbFpyUFpRV3FpS0pSS3BlOEJ0NU9sNzNsZUNRQm1BREJUZmlKOEFlYlRZQ1JiSTNCVUFBQUFBRWxGVGtTdVFtQ0MiLz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPSJhbGVydCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij5cbiAgICAgICAgPHAgaWQ9IkFwcC1ub3RpY2UiPjwvcD5cbiAgICA8L2Rpdj5cbjwvZGl2PicudWlUcmFucygpLCBwYXJzZXIpOwogICAgfSwKICAgIGNsZWFuOiBmdW5jdGlvbigpIHsKICAgICAgICAkKCdib2R5ID4gKjpub3QoIiNjb250YWluZXIsIC5yZWFkZXJidG4sICNyZWFkZXJfcHJlZmVyZW5jZXMsICN1aWxfYmxvY2tlcixpZnJhbWVbbmFtZT1cJ215bm92ZWxyZWFkZXItaWZyYW1lXCddIiknKS5yZW1vdmUoKTsKICAgICAgICAkKCdsaW5rW3JlbD0ic3R5bGVzaGVldCJdJykucmVtb3ZlKCk7CiAgICAgICAgJCgnYm9keSwgI2NvbnRhaW5lcicpLnJlbW92ZUF0dHIoJ3N0eWxlJykucmVtb3ZlQXR0cignY2xhc3MnKTsKCiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigncWlkaWFuJykgPiAwKSB7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9mZigic2VsZWN0c3RhcnQiKS5vZmYoImNvbnRleHRtZW51Iik7CiAgICAgICAgfQogICAgfSwKICAgIGNsZWFuQWdhaW46IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgICAgICAvLyBpZiAoIWhvc3QubWF0Y2goL3FpZGlhblwuY29tfHpvbmdoZW5nXC5jb20vKSkgeyAgLy8g5Y+q5Zyo6LW354K544CB57q15qiq562J572R56uZ6L+Q6KGMCiAgICAgICAgLy8gICAgIHJldHVybjsKICAgICAgICAvLyB9CgogICAgICAgIC8vIOWGjeasoeenu+mZpOWFtuWug+S4jeebuOWFs+eahO+8jOi1t+eCue+8jOe6teaoquS4reaWh+acieaXtuWAmeaciemXrumimAogICAgICAgIHNldFRpbWVvdXQoQXBwLmNsZWFuLCAyMDAwKTsKICAgICAgICBzZXRUaW1lb3V0KEFwcC5jbGVhbiwgNTAwMCk7CiAgICAgICAgc2V0VGltZW91dChBcHAuY2xlYW4sIDgwMDApOwogICAgICAgIC8vIFRNIOeUqCBhZGRFdmVudExpc3RlbmVyKCdsb2FkJykg5pyJ6Zeu6aKYCiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuY2xlYW4oKTsKICAgICAgICAgICAgc2V0VGltZW91dChBcHAuY2xlYW4sIDUwMCk7CiAgICAgICAgfTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChBcHAuaXNFbmFibGVkKSB7IC8vIOmAgOWHugogICAgICAgICAgICBHTV9zZXRWYWx1ZSgiYXV0b19lbmFibGUiLCBmYWxzZSk7CiAgICAgICAgICAgIExfc2V0VmFsdWUoIm15bm92ZXJscmVhZGVyX2Rpc2FibGVfb25jZSIsICJ0cnVlIik7CgogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBBcHAuYWN0aXZlVXJsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJhdXRvX2VuYWJsZSIsIHRydWUpOwogICAgICAgICAgICBMX3JlbW92ZVZhbHVlKCJteW5vdmVybHJlYWRlcl9kaXNhYmxlX29uY2UiKTsKICAgICAgICAgICAgQXBwLmlzRW5hYmxlZCA9IHRydWU7CiAgICAgICAgICAgIEFwcC5sYXVuY2goKTsKICAgICAgICB9CiAgICB9LAogICAgcmVtb3ZlTGlzdGVuZXI6IGZ1bmN0aW9uKCkgewogICAgICAgIEMubG9nKCLnp7vpmaTlkITnp43kuovku7bnm5HlkKwiKTsKICAgICAgICBBcHAucmVtb3ZlLmZvckVhY2goZnVuY3Rpb24oX3JlbW92ZSkgewogICAgICAgICAgICBfcmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgYXBwZW5kUGFnZTogZnVuY3Rpb24ocGFyc2VyLCBpc0ZpcnN0KSB7CiAgICAgICAgdmFyIGNoYXB0ZXIgPSAkKCJhcnRpY2xlOmxhc3QiKTsKICAgICAgICBpZiAoY2hhcHRlci5sZW5ndGggJiYgcGFyc2VyLmlzU2VjdGlvbikgeyAvLyDmr4/mrKHojrflj5bnmoTkuI3mmK/kuIDnq6DvvIzogIzmmK/kuIDoioIKICAgICAgICAgICAgdmFyIGxhc3RUZXh0ID0gY2hhcHRlci5maW5kKCJwOmxhc3QiKS5yZW1vdmUoKS50ZXh0KCkudHJpbSgpOwogICAgICAgICAgICB2YXIgbmV3UGFnZSA9IHBhcnNlci5jb250ZW50LnJlcGxhY2UoLzxwPlxzKy8sICI8cD4iICsgbGFzdFRleHQpOwoKICAgICAgICAgICAgY2hhcHRlcgogICAgICAgICAgICAgICAgLmZpbmQoIi5jaGFwdGVyLWZvb3Rlci1uYXYiKS5yZW1vdmUoKQogICAgICAgICAgICAgICAgLmVuZCgpCiAgICAgICAgICAgICAgICAuYXBwZW5kKG5ld1BhZ2UpOwoKICAgICAgICAgICAgaWYgKCFDb25maWcuaGlkZV9mb290ZXJfbmF2KSB7CiAgICAgICAgICAgICAgICBjaGFwdGVyLmFwcGVuZCgkLm5hbm8oVUkudHBsX2Zvb3Rlcl9uYXYsIHBhcnNlcikpOwogICAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoYXB0ZXIgPSAkKCI8YXJ0aWNsZT4iKQogICAgICAgICAgICAgICAgLmF0dHIoImlkIiwgInBhZ2UtIiArIEFwcC5wYWdlTnVtKQogICAgICAgICAgICAgICAgLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAkKCI8aDE+IikuYWRkQ2xhc3MoInRpdGxlIikudGV4dChwYXJzZXIuY2hhcHRlclRpdGxlKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFwcGVuZChwYXJzZXIuY29udGVudCkKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhBcHAuJGNvbnRlbnQpOwoKICAgICAgICAgICAgaWYgKCFDb25maWcuaGlkZV9mb290ZXJfbmF2KSB7CiAgICAgICAgICAgICAgICBjaGFwdGVyLmFwcGVuZCgkLm5hbm8oVUkudHBsX2Zvb3Rlcl9uYXYsIHBhcnNlcikpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBBcHAuZml4SW1hZ2VGbG9hdHMoY2hhcHRlci5nZXQoMCkpOwoKICAgICAgICAgICAgLy8g5re75Yqg5Yiw56ug6IqC5YiX6KGoCiAgICAgICAgICAgIHZhciBjaGFwdGVySXRlbSA9ICQoIjxsaT4iKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjaGFwdGVyJykKICAgICAgICAgICAgICAgIC5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgJCgiPGRpdj4iKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogIiNwYWdlLSIgKyBBcHAucGFnZU51bSwKICAgICAgICAgICAgICAgICAgICAgICAgInJlYWxIcmVmIjogcGFyc2VyLmN1clBhZ2VVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICJyZXR1cm4gZmFsc2U7IiwKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBhcnNlci5jaGFwdGVyVGl0bGUKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50ZXh0KHBhcnNlci5jaGFwdGVyVGl0bGUpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAucHJlcGVuZFRvKEFwcC4kY2hhcHRlckxpc3QpOwoKICAgICAgICAgICAgaWYgKGlzRmlyc3QpIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQXBwLnBhZ2VOdW0gKz0gMTsKICAgICAgICAgICAgQXBwLnJlc2V0Q2FjaGUoKTsKICAgICAgICB9CgogICAgICAgIEFwcC5vQXJ0aWNsZXMucHVzaChjaGFwdGVyWzBdLm91dGVySFRNTCk7CiAgICAgICAgQXBwLnBhcnNlcnMucHVzaChwYXJzZXIpOwogICAgfSwKICAgIHJlc2V0Q2FjaGU6IGZ1bmN0aW9uKCkgeyAgLy8g5pu05paw57yT5a2Y5Y+Y6YePCiAgICAgICAgQXBwLm1lbnVJdGVtcyA9IEFwcC4kY2hhcHRlckxpc3QuZmluZCgiZGl2Iik7CiAgICAgICAgQXBwLnNjcm9sbEl0ZW1zID0gJCgiYXJ0aWNsZSIpOwogICAgfSwKICAgIHJlZ2lzdGVyQ29udHJvbHM6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIOWGheWuuea7muWKqAogICAgICAgIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKEFwcC5zY3JvbGwsIDIwMCk7CiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbCh0aHJvdHRsZWQpOwoKICAgICAgICBBcHAucmVnaXN0ZXJLZXlzKCk7CgogICAgICAgIGlmIChDb25maWcuZGJsY2xpY2tQYXVzZSkgewogICAgICAgICAgICBBcHAuJGNvbnRlbnQub24oImRibGNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBBcHAucGF1c2VIYW5kbGVyKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8g5bem5L6n56ug6IqC5YiX6KGoCiAgICAgICAgQXBwLiRtZW51SGVhZGVyLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuY29weUN1clRpdGxlKCk7CiAgICAgICAgfSk7CgogICAgICAgIEFwcC4kbWVudUJhci5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgVUkuaGlkZU1lbnVMaXN0KCk7CiAgICAgICAgfSk7CgogICAgICAgIEFwcC4kZG9jLm9uKCJtb3VzZWRvd24iLCAiI2NoYXB0ZXItbGlzdCBkaXYiLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoImhyZWYiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2Nyb2xsVG9BcnRpY2xlKCQoaHJlZikpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoInJlYWxIcmVmIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOiAvLyBtaWRkbGUgY2xpY2sKICAgICAgICAgICAgICAgICAgICBMX3NldFZhbHVlKCJteW5vdmVybHJlYWRlcl9kaXNhYmxlX29uY2UiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBBcHAub3BlblVybCgkKHRoaXMpLmF0dHIoInJlYWxIcmVmIikpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgICQoIiNwcmVmZXJlbmNlc0J0biIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIFVJLnByZWZlcmVuY2VzU2hvdygpOwogICAgICAgIH0pOwoKICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLlsI/or7TpmIXor7vohJrmnKzorr7nva4iLnVpVHJhbnMoKSwgVUkucHJlZmVyZW5jZXNTaG93LmJpbmQoVUkpKTsKICAgIH0sCiAgICByZWdpc3RlcktleXM6IGZ1bmN0aW9uKCkgewogICAgICAgIGtleSgnZW50ZXInLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBpZiAoVUkuJHByZWZzKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEFwcC5vcGVuVXJsKEFwcC5pbmRleFVybCwgIuS4u+mhtemTvuaOpeayoeacieaJvuWIsCIudWlUcmFucygpKTsKICAgICAgICAgICAgQXBwLmNvcHlDdXJUaXRsZSgpOwoKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfSk7CgogICAgICAgIGtleSgnbGVmdCcsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7CiAgICAgICAgICAgIGlmIChzY3JvbGxUb3AgPT09IDApIHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBBcHAucHJldlVybDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBvZmZzZXRUb3AgPSAkKEFwcC5jdXJGb2N1c0VsZW1lbnQpLm9mZnNldCgpLnRvcDsKICAgICAgICAgICAgICAgIC8vIOWcqOinhumHjueql+WPo+WGhQogICAgICAgICAgICAgICAgaWYgKG9mZnNldFRvcCA+IHNjcm9sbFRvcCAmJiBvZmZzZXRUb3AgPCAoc2Nyb2xsVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpKSkgewogICAgICAgICAgICAgICAgICAgIEFwcC5zY3JvbGxUb0FydGljbGUoQXBwLmN1ckZvY3VzRWxlbWVudC5wcmV2aW91c1NpYmxpbmcgfHwgMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEFwcC5zY3JvbGxUb0FydGljbGUoQXBwLmN1ckZvY3VzRWxlbWVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pOwoKICAgICAgICBrZXkoJ3JpZ2h0JywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgaWYgKEFwcC5nZXRSZW1haW4oKSA9PT0gMCkgewogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IEFwcC5sYXN0UmVxdWVzdFVybCB8fCBBcHAucmVxdWVzdFVybDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEFwcC5zY3JvbGxUb0FydGljbGUoQXBwLmN1ckZvY3VzRWxlbWVudC5uZXh0U2libGluZyB8fCBBcHAuJGRvYy5oZWlnaHQoKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CgogICAgICAgIGtleSgnZXNjJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYgKFVJLiRwcmVmcykgewogICAgICAgICAgICAgICAgVUkuaGlkZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGtleSgnc2hpZnQrLycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBVSS5vcGVuSGVscCgpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CgogICAgICAgIGtleShDb25maWcucXVpZXRNb2RlS2V5LCBmdW5jdGlvbigpewogICAgICAgICAgICBVSS50b2dnbGVRdWlldE1vZGUoKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pOwoKICAgICAgICBrZXkoQ29uZmlnLmhpZGVNZW51TGlzdEtleSwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgVUkuaGlkZU1lbnVMaXN0KCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAga2V5KENvbmZpZy5vcGVuUHJlZmVyZW5jZXNLZXksIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIFVJLnByZWZlcmVuY2VzU2hvdygpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgY29weUN1clRpdGxlOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoQ29uZmlnLmNvcHlDdXJUaXRsZSkgewogICAgICAgICAgICB2YXIgdGl0bGUgPSAkKEFwcC5jdXJGb2N1c0VsZW1lbnQpLmZpbmQoIi50aXRsZSIpLnRleHQoKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoL+esrD9cUyvnq6AvLCAiIikudHJpbSgpOwoKICAgICAgICAgICAgR01fc2V0Q2xpcGJvYXJkKHRpdGxlLCAidGV4dCIpOwogICAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb0FydGljbGU6IGZ1bmN0aW9uKGVsZW0pIHsKICAgICAgICB2YXIgb2Zmc2V0VG9wOwogICAgICAgIGlmICh0eXBlb2YgZWxlbSA9PSAibnVtYmVyIikgewogICAgICAgICAgICBvZmZzZXRUb3AgPSBlbGVtOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9mZnNldFRvcCA9ICQoZWxlbSkub2Zmc2V0KCkudG9wIC0gcGFyc2VJbnQoJChlbGVtKS5jc3MoIm1hcmdpbi10b3AiKSwgMTApOwogICAgICAgIH0KCiAgICAgICAgaWYgKENvbmZpZy5zY3JvbGxBbmltYXRlKSB7CiAgICAgICAgICAgICQoImh0bWwsIGJvZHkiKS5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFRvcAogICAgICAgICAgICB9LCA3NTAsICJlYXNlT3V0RXhwbyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQoImh0bWwsIGJvZHkiKS5zdG9wKCkuc2Nyb2xsVG9wKG9mZnNldFRvcCk7CiAgICAgICAgfQogICAgfSwKICAgIG9wZW5Vcmw6IGZ1bmN0aW9uKHVybCwgZXJyb3JNc2cpIHsKICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIC8vIGZmMzAgR3JlYXNlbW9ua2V5IOS8muaKpemUme+8mkdyZWFzZW1vbmtleSDorr/pl67ov53op4TvvJp1bnNhZmVXaW5kb3cg5peg5rOV6LCD55SoIEdNX29wZW5JblRhYuOAguaWsOW7uuiEmuacrOmHh+eUqOaMiemUruiwg+eUqOS5n+i/meagt+OAggogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgR01fb3BlbkluVGFiKHVybCwgZmFsc2UpOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9IGVsc2UgaWYgKGVycm9yTXNnKSB7CiAgICAgICAgICAgIFVJLm5vdGljZShlcnJvck1zZyk7CiAgICAgICAgfQogICAgfSwKICAgIHBhdXNlSGFuZGxlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgQXBwLnBhdXNlZCA9ICFBcHAucGF1c2VkOwogICAgICAgIGlmIChBcHAucGF1c2VkKSB7CiAgICAgICAgICAgIFVJLm5vdGljZSgnPGI+54q25oCBPC9iPjroh6rliqjnv7vpobU8c3BhbiBzdHlsZT0iY29sb3I6cmVkIWltcG9ydGFudDsiPjxiPuaaguWBnDwvYj48L3NwYW4+LicudWlUcmFucygpKTsKICAgICAgICAgICAgQXBwLiRsb2FkaW5nLmh0bWwoJ+iHquWKqOe/u+mhteW3sue7jzxzcGFuIHN0eWxlPSJjb2xvcjpyZWQhaW1wb3J0YW50OyI+PGI+5pqC5YGcPC9iPjwvc3Bhbj4uJy51aVRyYW5zKCkpLnNob3coKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBVSS5ub3RpY2UoJzxiPueKtuaAgTwvYj466Ieq5Yqo57+76aG1PHNwYW4gc3R5bGU9ImNvbG9yOnJlZCFpbXBvcnRhbnQ7Ij48Yj7lkK/nlKg8L2I+PC9zcGFuPi4nLnVpVHJhbnMoKSk7CiAgICAgICAgICAgIEFwcC5zY3JvbGwoKTsKICAgICAgICB9CiAgICB9LAogICAgc2Nyb2xsOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoIUFwcC5wYXVzZWQgJiYgIUFwcC53b3JraW5nICYmIEFwcC5nZXRSZW1haW4oKSA8IENvbmZpZy5yZW1haW5faGVpZ2h0KSB7CiAgICAgICAgICAgIGlmIChBcHAudG1wRG9jKSB7CiAgICAgICAgICAgICAgICBBcHAubG9hZGVkKEFwcC50bXBEb2MpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgQXBwLmRvUmVxdWVzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoQXBwLmlzVGhlRW5kKSB7CiAgICAgICAgICAgIEFwcC4kbG9hZGluZy5odG1sKCLlt7LliLDovr7mnIDlkI7kuIDpobUuLi4iLnVpVHJhbnMoKSkuc2hvdygpOwogICAgICAgIH0KCiAgICAgICAgQXBwLnVwZGF0ZUN1ckZvY3VzRWxlbWVudCgpOwogICAgfSwKICAgIHVwZGF0ZUN1ckZvY3VzRWxlbWVudDogZnVuY3Rpb24oKSB7IC8vIOa7muWKqOa/gOa0u+eroOiKguWIl+ihqAogICAgICAgIC8vIEdldCBjb250YWluZXIgc2Nyb2xsIHBvc2l0aW9uCiAgICAgICAgdmFyIGZyb21Ub3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgLyAyOwoKICAgICAgICAvLyBHZXQgaWQgb2YgY3VycmVudCBzY3JvbGwgaXRlbQogICAgICAgIHZhciBjdXIgPSBBcHAuc2Nyb2xsSXRlbXMubWFwKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoJCh0aGlzKS5vZmZzZXQoKS50b3AgPCBmcm9tVG9wKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfSk7CiAgICAgICAgLy8gR2V0IHRoZSBpZCBvZiB0aGUgY3VycmVudCBlbGVtZW50CiAgICAgICAgY3VyID0gY3VyW2N1ci5sZW5ndGggLSAxXTsKICAgICAgICB2YXIgaWQgPSBjdXIgPyBjdXIuaWQgOiAiIjsKCiAgICAgICAgaWYgKEFwcC5sYXN0SWQgIT09IGlkKSB7CiAgICAgICAgICAgIEFwcC5sYXN0SWQgPSBpZDsKCiAgICAgICAgICAgIHZhciBhY3RpdmVJdGVtID0gQXBwLm1lbnVJdGVtcy5maWx0ZXIoIltocmVmPSMiICsgaWQgKyAiXSIpLAogICAgICAgICAgICAgICAgYWN0aXZlVGl0bGUgPSBhY3RpdmVJdGVtLnRleHQoKSwKICAgICAgICAgICAgICAgIGFjdGl2ZVVybCA9IGFjdGl2ZUl0ZW0uYXR0cigicmVhbEhyZWYiKTsKCiAgICAgICAgICAgIC8vIFNldC9yZW1vdmUgYWN0aXZlIGNsYXNzCiAgICAgICAgICAgIEFwcC5tZW51SXRlbXMucGFyZW50KCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOwogICAgICAgICAgICBhY3RpdmVJdGVtLnBhcmVudCgpLmFkZENsYXNzKCJhY3RpdmUiKTsKCiAgICAgICAgICAgIEFwcC5jdXJGb2N1c0VsZW1lbnQgPSBjdXI7CiAgICAgICAgICAgIEFwcC5hY3RpdmVVcmwgPSBhY3RpdmVVcmw7CgogICAgICAgICAgICBpZiAoQ29uZmlnLmFkZFRvSGlzdG9yeSkgewogICAgICAgICAgICAgICAgdmFyIGN1ck51bSA9IGlkLm1hdGNoKC9cZCsvKVswXSAtIDE7ICAvLyDlvZPliY3mmK/nrKzlh6DkuKoKICAgICAgICAgICAgICAgIHZhciBjdXJUaXRsZSA9IEFwcC5wYXJzZXJzW2N1ck51bV0uZG9jVGl0bGU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGN1clRpdGxlOwoKICAgICAgICAgICAgICAgIC8vIFRPRE86IOi1t+eCueaXoOazlea3u+WKoOaVtOS4que9keWdgO+8jOWPquiDvea3u+WKoOWQjuWNiumDqOWIhuOAggogICAgICAgICAgICAgICAgdmFyIHVybCA9IGFjdGl2ZVVybC5yZXBsYWNlKCdodHRwOi8vcmVhZC5xaWRpYW4uY29tJywgJycpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgY3VyVGl0bGUsIHVybCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5re75Yqg5LiL5LiA6aG15Yiw5Y6G5Y+y6K6w5b2V5aSx6LSlJywgZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgZ2V0UmVtYWluOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpOwogICAgICAgIHZhciByZW1haW4gPSBzY3JvbGxIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgLSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICByZXR1cm4gcmVtYWluOwogICAgfSwKICAgIGRvUmVxdWVzdDogZnVuY3Rpb24oKSB7CiAgICAgICAgQXBwLndvcmtpbmcgPSB0cnVlOwogICAgICAgIHZhciBuZXh0VXJsID0gQXBwLnJlcXVlc3RVcmw7CiAgICAgICAgQXBwLmxhc3RSZXF1ZXN0VXJsID0gQXBwLnJlcXVlc3RVcmw7CgogICAgICAgIGlmIChuZXh0VXJsICYmICFBcHAuaXNUaGVFbmQgJiYgIShuZXh0VXJsIGluIEFwcC5wYXJzZWRQYWdlcykpIHsKICAgICAgICAgICAgQXBwLnBhcnNlZFBhZ2VzW25leHRVcmxdID0gMDsKICAgICAgICAgICAgQXBwLmN1clBhZ2VVcmwgPSBBcHAucmVxdWVzdFVybDsKICAgICAgICAgICAgQXBwLnJlcXVlc3RVcmwgPSBudWxsOwoKICAgICAgICAgICAgdmFyIHVzZWlmcmFtZSA9IEFwcC5zaXRlLnVzZWlmcmFtZTsKCiAgICAgICAgICAgIEFwcC4kbG9hZGluZwogICAgICAgICAgICAgICAgLnNob3coKQogICAgICAgICAgICAgICAgLmh0bWwoIiIpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoIjxpbWc+IikuYXR0cigic3JjIiwgImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVBQVFBTVFBQVBmMzkrL3Y3K2JtNXQ3ZTN0YlcxczdPenNYRnhiMjl2YlcxdGEydHJhV2xwWnljbkpTVWxJeU1qSVNFaEh0N2UzTnpjMnRyYTJOalkxcGFXbEpTVWtwS1NrSkNRam82T2pFeE1Ta3BLU0VoSVJrWkdSQVFFQWdJQ0FBQUFBQUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRSkJRQWVBQ3dBQUFFQUR3QU9BQUFGZGFBbmV0MjBHQVVDY2VONExRbHlGTVJBVEMzR0xFcU0xZ0ljNmRGZ1BEQ2lpNkkyWUYwZURraW54VWtNQkJBUEJmTEl0RVNXMnNFamlXUy9JdHFBTEpHZ1Jack5SdHZXb0RseEZxWmRtYlkwY1ZNZGJSTVdjeDU0ZVNNWkV4UVZGaGNZR0JtQmZ4V1BrWlFiZmkwZEdwSVlHaXdqSVFBaCtRUUpCUUFlQUN3QUFBRUFEd0FPQUFBRmVLQW5lcDBGTFFvamNlT1lRVTZESXNkaHRWb0V5d3B0RUJSUlp5S0JRREtpaStKSFlHRWt4RTZMa3lBTUlCNktSS0pwSlF1RGcyY3I4WTdBZ2pIVUxDb1EwcFVKWldPK3VCR2VESVZpa2JZeURnUllIUlVWRmhjc0hod2FHaHNZZmh1SEZ4Z1pHWXdiSEg0aUhCaVVsaHVZbWxNYmpaa3RJUUFoK1FRRkJRQWVBQ3dBQUFFQUR3QU9BQUFGZTZBbmVoMUdRVTlVZGVPb1RWSUVPUTJ6V0cwbVNWUDBPRFlGNGlMcTdIZ2FFYWFSUUNBNEhzeU93aHAxRmdkRHhGT1pURFl0MGNWUVNIZ282UENJUE9CV0ttcFJnZERHV0N6UThLVXdPSGcyRnhjWVlSd0pkQkFpR1JnWkdYa2NDM01FamhrYWxaWVRmQk10SFJ1ZG5oc0tjR29kSEtVY0hWVWVJUUFoK1FRSkJRQWVBQ3dBQUFFQUR3QU9BQUFGYktBbmpwNGtVUmlwbG1ZRVFlbW9UWk1wdVkvVGtCVkZWUnRSSnRKZ01Eb2VqYVZpV1QwV2lva0hjMm11TUlvRVkwcGRpUkNJZ3llRGlhME9ob0puazhsNFBlbUVoNk9wcnhRRlFrUzAyV2lDSWhkNEhtb2lIUng5SW1rRUExNGNpSVNNQkZKZVNBUUlFQndqSVFBaCtRUUpCUUFlQUN3QUFBRUFEd0FPQUFBRmQ2QW5lbDFXVFJLRmRlTzRXUldGU3RLa3Rkd0ZVM0pOWjZNTTVuTFppRFFUQ0NUQzRnaFhyVTdrNGJCNE5wb01weVhLTkJxUWE1WTdZaXdXSGc2V0xGSzRTV29XOTVKQU1PQWJJMDV4T0VoRUhXb2FGeUowQmdZSFd5SWNIQTRGajQ4RUJGWXRHSktTQXdNRkZHUWRFQWdDQWdjUWloNGhBQ0g1QkFrRkFCNEFMQUFBQVFBUEFBNEFBQVYwb0NlS0cyWlZGdGFOWTZkaDEwbE5VOFoyV3diTGt5UnBJODVHaytHUUtyN0pxaU1FM21ZU2pJZTVXYkU4R2toa01oVmVSNDhIcEx2NWlob09COWw0eFRBWVl3OW5vbUNMT2d6Rm9pSlNFQW9JRmlJWEN3a0pDMVlWQXdNRWZ3VUdCZ2VCTEJNRUFvdU9CeGRmSEE4SGx3Z1JkaUVBSWZrRUNRVUFIZ0FzQUFBQkFBOEFEZ0FBQlhPZ0o0cmRwbVdaMW8wc1oyWVlkbGthNjNYdUtWc1ZWWk91emNyRHVmUW9ReHpIMXJGTUpKaWJhOGphUENuU2pXMzBsSGdHaE1KV0JJbDREMkRMTnZPQVREd1B3U0N4SEhVZ2pzZUZPSkFuMUI0WURnd05EME1UQVdBRkJnY0lDZ3NNVVZ3RGlnWUlDUXQ3Tmh3UUNHRUxFMVFoQUNINUJBa0ZBQjRBTEFBQUFRQVBBQTRBQUFWNG9DZU9IV2R5WStwMUpiZHBXb2FtN2ZabUdZWnRZb2VabTQ2SWs3a1loWkJCUTZQeVdTb1pqMEZBdUtnOG13ckY0Z2xRcnlJS1pkTDlnaWNUaVZRdzRLbzJhWXJud1ViTWVoR0pCT1BoREFZRUNWWWVHQThQRUJOQ0hoT0FCZ2NKQ2d3Tmgwd2pGUWFPQ0FvTGsxRXFIQklMbWc4VmloNGhBQ0g1QkFrRkFCNEFMQUFBQVFBUEFBNEFBQVY2b0NkNkhkbWQ1VGhXQ2VlK1hDcE93VEJ0ZUw2bG5DQU1MVkZIUTlTSUhnSEJnYVB5WkRLWWpjZndzelE5SE13bDQwa09yaUtMdURzZ2dEMlZ0T2N3S0ZpYkd3ckZDaUVVRWpKU1pUTGhjZ3dHQndzWUloa1VFaElUS1JZR0NBa0tEQTBQaUJKY0t3b0tDd3dPRHhFVFJrMGRGQThORGhJWU1pRUFJZmtFQ1FVQUhnQXNBQUFCQUE4QURnQUFCWG1nSjNyY1l3aGNONjZlSkFUQ3NIRXBPd1h3UUd3OHJaS0RHTUlpNnZCbW9rY3N3V0Z0TkJ2VlFVZGtjVEpRajY3QUdtRXlHVStoWU9pS01HaVA0b0M0ZERtWFMxaUNTRFIreFl2Rm92RjBGQW9MRHhnaUd4WVVGUlkvRndzTURRNFBFaE9URkgwakZ3NlFFQktjRTVZckhSY1RFUklVR0hnaEFDSDVCQWtGQUI0QUxBQUFBUUFQQUE0QUFBVjRvQ2Q2M0dNQWdmRjA0emdOUWl4anJWY0pRejRRUkxOeEkwNkJoN0NJTHBrZjBDTXBHQkxMMGViSFdod09sNXFuby9sNUVHQ3RxQXRVbU1XZVROZnpXQ3hvTlU0bWFXczBWcTBPQnBNQmRoNE9EeEVhSWhzWGh4a2pHUkFRRWhJVEV4UVZGaGRSSGhvVGpvOFVGQlliV25vVWpoVVpMQ0loQUNINUJBa0ZBQjRBTEFBQUFRQVBBQTRBQUFWNW9DZDZISVFJZ2ZGdzQyZ1pCREVNZ2pCTWJYVVlSbEhJTkVGRjFGRWdFSXFMeUhLUUpUb2Vpa0xCZ0k0NGlza0crbUFzTUMwUlI3TmhOUnFNOElqTWVqZ2NhaEhiTTRFOE11cHgyWU9KU0NaV0l4bGtVQjBURWhJVUcySVlnNHR5aUg4VUZSYU5Hb0VlR1lnVGt4WVhHWmhFR0JXVEdJOGlJUUE3IikpCiAgICAgICAgICAgICAgICAuYXBwZW5kKCI8YSBocmVmPSciICsgbmV4dFVybCArICInIHRpdGxlPSfngrnlh7vmiZPlvIDkuIvkuIDpobXpk77mjqUnPuato+WcqOi9veWFpeS4i+S4gOmhtSIudWlUcmFucygpICsgKHVzZWlmcmFtZSA/ICIoaWZyYW1lKSIgOiAiIikgKyAiLi4uPC9hPiIpOwoKICAgICAgICAgICAgaWYgKHVzZWlmcmFtZSkgewogICAgICAgICAgICAgICAgQXBwLmlmcmFtZVJlcXVlc3QobmV4dFVybCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBBcHAuaHR0cFJlcXVlc3QobmV4dFVybCwgQXBwLmh0dHBSZXF1ZXN0RG9uZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBBcHAuJGxvYWRpbmcuaHRtbCgiPGEgaHJlZj0nIiArIEFwcC5jdXJQYWdlVXJsICArICInPuaXoOazleS9v+eUqOmYheivu+aooeW8j++8jOivt+aJi+WKqOeCueWHu+S4i+S4gOmhtTwvYT4iKS5zaG93KCk7CiAgICAgICAgfQogICAgfSwKICAgIGh0dHBSZXF1ZXN0OiBmdW5jdGlvbihuZXh0VXJsLCBjYWxsYmFjaykgewogICAgICAgIGlmICghXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkgewogICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge30KICAgICAgICB9CgogICAgICAgIEMubG9nKCLojrflj5bkuIvkuIDpobU6ICIgKyBuZXh0VXJsKTsKICAgICAgICBBcHAucGFyc2VkUGFnZXNbbmV4dFVybF0gKz0gMTsKCiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICB1cmw6IG5leHRVcmwsCiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5cGU6ICJ0ZXh0L2h0bWw7Y2hhcnNldD0iICsgZG9jdW1lbnQuY2hhcmFjdGVyU2V0LAogICAgICAgICAgICB0aW1lb3V0OiBjb25maWcueGhyX3RpbWUsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzKSB7CiAgICAgICAgICAgICAgICB2YXIgZG9jID0gcGFyc2VIVE1MKHJlcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgY2FsbGJhY2soZG9jLCBuZXh0VXJsKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb250aW1lb3V0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG5leHRVcmwpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgaHR0cFJlcXVlc3REb25lOiBmdW5jdGlvbihkb2MsIG5leHRVcmwpIHsKICAgICAgICBpZiAoZG9jKSB7CiAgICAgICAgICAgIEFwcC5iZWZvcmVMb2FkKGRvYyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChBcHAucGFyc2VkUGFnZXNbbmV4dFVybF0gPj0gMykgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflkIzkuIDkuKrpk77mjqXlt7Lojrflj5Yz5qyhJywgbmV4dFVybCkKICAgICAgICAgICAgQXBwLiRsb2FkaW5nLmh0bWwoIjxhIGhyZWY9JyIgKyBuZXh0VXJsICArICInPuaXoOazleiOt+WPluS4i+S4gOmhte+8jOivt+aJi+WKqOeCueWHuzwvYT4iKS5zaG93KCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIOaXoOWGheWuueWGjeasoeWwneivleiOt+WPlgogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i/nuaOpei2heaXtiwg5YaN5qyh6I635Y+WJyk7CiAgICAgICAgQXBwLmh0dHBSZXF1ZXN0KG5leHRVcmwsIEFwcC5odHRwUmVxdWVzdERvbmUpOwogICAgfSwKICAgIGlmcmFtZVJlcXVlc3Q6IGZ1bmN0aW9uKG5leHRVcmwpIHsKICAgICAgICBDLmxvZygiaWZyYW1lUmVxdWVzdDogIiArIG5leHRVcmwpOwogICAgICAgIGlmICghQXBwLmlmcmFtZSkgewogICAgICAgICAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgICAgICBBcHAuaWZyYW1lID0gaTsKICAgICAgICAgICAgaS5uYW1lID0gJ215bm92ZWxyZWFkZXItaWZyYW1lJzsKICAgICAgICAgICAgaS53aWR0aCA9ICcxMDAlJzsKICAgICAgICAgICAgaS5oZWlnaHQgPSAnMCc7CiAgICAgICAgICAgIGkuZnJhbWVCb3JkZXIgPSAiMCI7CiAgICAgICAgICAgIGkuc3R5bGUuY3NzVGV4dCA9ICdcCiAgICAgICAgICAgICAgICBtYXJnaW46MCFpbXBvcnRhbnQ7XAogICAgICAgICAgICAgICAgcGFkZGluZzowIWltcG9ydGFudDtcCiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OmhpZGRlbiFpbXBvcnRhbnQ7XAogICAgICAgICAgICAnOwogICAgICAgICAgICBpLnNyYyA9IG5leHRVcmw7CiAgICAgICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIEFwcC5pZnJhbWVMb2FkZWQsIGZhbHNlKTsKICAgICAgICAgICAgQXBwLnJlbW92ZS5wdXNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgQXBwLmlmcmFtZUxvYWRlZCwgZmFsc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBBcHAuaWZyYW1lLmNvbnRlbnREb2N1bWVudC5sb2NhdGlvbi5yZXBsYWNlKG5leHRVcmwpOwogICAgICAgIH0KICAgIH0sCiAgICBpZnJhbWVMb2FkZWQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBpZnJhbWUgPSB0aGlzOwogICAgICAgIHZhciBib2R5ID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5ib2R5OwoKICAgICAgICBpZiAoYm9keSAmJiBib2R5LmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgZG9jID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudDsKCiAgICAgICAgICAgIHZhciBtdXRhdGlvblNlbGVjdG9yID0gQXBwLnNpdGUubXV0YXRpb25TZWxlY3RvcjsKICAgICAgICAgICAgaWYgKG11dGF0aW9uU2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIEFwcC5hZGRNdXRhdGlvbk9ic2VydmUoZG9jLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBBcHAuYmVmb3JlTG9hZChkb2MpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IEFwcC5zaXRlLnRpbWVvdXQgfHwgMDsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIEFwcC5iZWZvcmVMb2FkKGRvYyk7CiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVMb2FkOiBmdW5jdGlvbihodG1sRG9jKSB7CiAgICAgICAgaWYgKGNvbmZpZy5QUkVMT0FERVIpIHsKICAgICAgICAgICAgQXBwLnRtcERvYyA9IGh0bWxEb2M7CiAgICAgICAgICAgIEFwcC53b3JraW5nID0gZmFsc2U7CiAgICAgICAgICAgIEFwcC5zY3JvbGwoKTsKCiAgICAgICAgICAgIC8vIOmihOivu+WbvueJhwogICAgICAgICAgICB2YXIgZXhpc3RTUkMgPSB7fTsKICAgICAgICAgICAgJChBcHAudG1wRG9jKS5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGlzcmMgPSAkKHRoaXMpLmF0dHIoJ3NyYycpOwogICAgICAgICAgICAgICAgaWYgKCFpc3JjIHx8IGV4aXN0U1JDW2lzcmNdKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBleGlzdFNSQ1tpc3JjXSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICAgICAgICAgICAgICBpbWcuc3JjID0gaXNyYzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQXBwLmxvYWRlZChodG1sRG9jKTsKICAgICAgICB9CiAgICB9LAogICAgbG9hZGVkOiBmdW5jdGlvbihkb2MpIHsKICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihBcHAuc2l0ZSwgZG9jLCBBcHAuY3VyUGFnZVVybCk7CiAgICAgICAgcGFyc2VyLmdldEFsbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgQXBwLmFkZE5leHRQYWdlKHBhcnNlcik7CiAgICAgICAgfSk7CiAgICAgICAgQXBwLnRtcERvYyA9IG51bGw7CiAgICB9LAogICAgYWRkTmV4dFBhZ2U6IGZ1bmN0aW9uKHBhcnNlcikgewogICAgICAgIGlmIChwYXJzZXIuY29udGVudCkgewogICAgICAgICAgICBBcHAuYXBwZW5kUGFnZShwYXJzZXIpOwoKICAgICAgICAgICAgQXBwLiRsb2FkaW5nLmhpZGUoKTsKICAgICAgICAgICAgQXBwLnJlcXVlc3RVcmwgPSBwYXJzZXIubmV4dFVybDsKICAgICAgICAgICAgQXBwLmlzVGhlRW5kID0gcGFyc2VyLmlzVGhlRW5kOwoKICAgICAgICAgICAgQXBwLmFmdGVyTG9hZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEFwcC5yZW1vdmVMaXN0ZW5lcigpOwoKICAgICAgICAgICAgQXBwLiRsb2FkaW5nLmh0bWwoCiAgICAgICAgICAgICAgICAnPGEgaHJlZj0iJyArIEFwcC5jdXJQYWdlVXJsICsgJyI+6ZSZ6K+v77ya5rKh5pyJ5om+5Yiw5LiL5LiA6aG155qE5YaF5a6544CC54K55Ye75omT5byA5LiL5LiA6aG16ZO+5o6l44CCPC9hPicudWlUcmFucygpKQogICAgICAgICAgICAgICAgLnNob3coKTsKICAgICAgICB9CgogICAgICAgIEFwcC53b3JraW5nID0gZmFsc2U7CiAgICB9LAogICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbigpIHsKICAgICAgICBBcHAudG1wRG9jID0gbnVsbDsKCiAgICAgICAgaWYgKGNvbmZpZy5QUkVMT0FERVIpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgQXBwLmRvUmVxdWVzdCgpOwogICAgICAgICAgICB9LCAyMDApOwogICAgICAgIH0KICAgIH0sCiAgICBmaXhJbWFnZUZsb2F0czogZnVuY3Rpb24oYXJ0aWNsZUNvbnRlbnQpIHsKICAgICAgICBpZiAoIWNvbmZpZy5maXhJbWFnZUZsb2F0cykgcmV0dXJuOwoKICAgICAgICBhcnRpY2xlQ29udGVudCA9IGFydGljbGVDb250ZW50IHx8IGRvY3VtZW50OwoKICAgICAgICB2YXIgaW1hZ2VXaWR0aFRocmVzaG9sZCA9IE1hdGgubWluKGFydGljbGVDb250ZW50Lm9mZnNldFdpZHRoLCA4MDApICogMC41NSwKICAgICAgICAgICAgaW1hZ2VzID0gYXJ0aWNsZUNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nOm5vdCguYmxvY2tJbWFnZSknKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gaW1hZ2VzLmxlbmd0aDsgaSA8IGlsOyBpICs9IDEpIHsKICAgICAgICAgICAgdmFyIGltYWdlID0gaW1hZ2VzW2ldOwoKICAgICAgICAgICAgaWYgKGltYWdlLm9mZnNldFdpZHRoID4gaW1hZ2VXaWR0aFRocmVzaG9sZCkgewogICAgICAgICAgICAgICAgaW1hZ2UuY2xhc3NOYW1lICs9ICIgYmxvY2tJbWFnZSI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKICAgIGlzU2F2ZWluZzogZmFsc2UsCiAgICBzYXZlQXNUeHQ6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChBcHAuc2l0ZS51c2VpZnJhbWUpIHsKICAgICAgICAgICAgVUkubm90aWNlKCfmmoLkuI3mlK/mjIEnLCA0MDAwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKEFwcC5pc1NhdmVpbmcpIHsKICAgICAgICAgICAgVUkubm90aWNlKCfmraPlnKjkv53lrZjvvIzor7fnqI3lkI4nLCA0MDAwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFVJLm5vdGljZSgn5byA5aeL5LiA56ug56ug6I635Y+W5YaF5a6577yM6K+36ICQ5b+D562J5b6FJywgNDAwMCk7CiAgICAgICAgfQoKICAgICAgICBBcHAuaXNTYXZlaW5nID0gdHJ1ZTsKCiAgICAgICAgdmFyIGNoYXB0ZXJzID0gW107CiAgICAgICAgdmFyIGZpbGVOYW1lOwoKICAgICAgICB2YXIgdG9UeHQgPSBmdW5jdGlvbihwYXJzZXIpIHsKICAgICAgICAgICAgdmFyIGh0bWwgPSAkLm5hbm8oJ3tjaGFwdGVyVGl0bGV9XG5cbntjb250ZW50VHh0fScsIHBhcnNlcik7CiAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2goaHRtbCk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZmluaXNoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNhdmVBcyhjaGFwdGVycy5qb2luKCdcblxuJyksIGZpbGVOYW1lKTsKICAgICAgICAgICAgQXBwLmlzU2F2ZWluZyA9IGZhbHNlOwogICAgICAgIH07CgogICAgICAgIHZhciBnZXRPbmVQYWdlID0gZnVuY3Rpb24gKHBhcnNlciwgbmV4dFVybCkgewogICAgICAgICAgICB2YXIgaXNFbmQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHBhcnNlcikgewogICAgICAgICAgICAgICAgdG9UeHQocGFyc2VyKTsKICAgICAgICAgICAgICAgIG5leHRVcmwgPSBwYXJzZXIubmV4dFVybDsKICAgICAgICAgICAgICAgIGlzRW5kID0gcGFyc2VyLmlzVGhlRW5kOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIW5leHRVcmwgfHwgaXNFbmQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflhajpg6jojrflj5blrozmr5UnKTsKICAgICAgICAgICAgICAgIGZpbmlzaCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoQXBwLnNpdGUudXNlaWZyYW1lKSB7CiAgICAgICAgICAgICAgICAvLyBBcHAuaWZyYW1lUmVxdWVzdChuZXh0VXJsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdb5a2Y5Li6dHh0Xeato+WcqOiOt+WPlu+8micsIG5leHRVcmwpCiAgICAgICAgICAgICAgICBBcHAuaHR0cFJlcXVlc3QobmV4dFVybCwgZnVuY3Rpb24oZG9jKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvYykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyID0gbmV3IFBhcnNlcihBcHAuc2l0ZSwgZG9jLCBuZXh0VXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgcGFyLmdldEFsbChnZXRPbmVQYWdlKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+i2heaXtuaIlui/nuaOpeWHuumUmScpOwogICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2goKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIEFwcC5wYXJzZXJzLmZvckVhY2godG9UeHQpOwogICAgICAgIC8vIOS/neWtmOWQjumdoueahOeroOiKggogICAgICAgIHZhciBsYXN0UGFyc2VyID0gQXBwLnBhcnNlcnNbQXBwLnBhcnNlcnMubGVuZ3RoIC0gMV07CiAgICAgICAgZmlsZU5hbWUgPSBsYXN0UGFyc2VyLmJvb2tUaXRsZSArICcudHh0JzsKICAgICAgICBnZXRPbmVQYWdlKG51bGwsIGxhc3RQYXJzZXIubmV4dFVybCk7CiAgICB9Cn07Cgp2YXIgQm9va0xpbmtNZSA9IHsKICAgIGNsaWNrZWRDb2xvcjogIjY2NjY2NiIsCgogICAgaW5pdDogZnVuY3Rpb24oKSB7CgogICAgICAgIHRoaXMuYWRkVW5yZWFkQnV0dG9uKCk7CgogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvYm9vay0iKSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLmNoYXB0ZXJQYWdlQWRkVGllYmFMaW5rKCk7CiAgICAgICAgfQogICAgfSwKICAgIGFkZFVucmVhZEJ1dHRvbjogZnVuY3Rpb24oKXsgIC8vIOa3u+WKoOS4gOmUruaJk+W8gOaJgOacieacquivu+mTvuaOpQogICAgICAgIHZhciAkcGFyZW50ID0gJCgndGRbY29sc3Bhbj0iMiJdOmNvbnRhaW5zKCLmnKror7siKTpmaXJzdCwgdGRbY29sc3Bhbj0iMiJdOmNvbnRhaW5zKCLmnKroroAiKTpmaXJzdCcpOwogICAgICAgIGlmKCEkcGFyZW50Lmxlbmd0aCkgcmV0dXJuOwoKICAgICAgICB2YXIgb3BlbkFsbFVucmVhZExpbmtzID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgdmFyIGxpbmtzID0gJHgoJy4vYW5jZXN0b3I6OnRhYmxlW0B3aWR0aD0iMTAwJSJdL2Rlc2NlbmRhbnQ6OmFbaW1nW0BhbHQ9IuacquivuyJdXScsIGV2ZW50LnRhcmdldCk7CiAgICAgICAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24obGluayl7CiAgICAgICAgICAgICAgICAvLyDlv73nlaXmsqHmnInnm5fniYjnmoQKICAgICAgICAgICAgICAgIHZhciBjaGFwdGVyTGluayA9IGxpbmsucGFyZW50Tm9kZS5uZXh0U2libGluZy5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICAgICAgICAgICBpZiAoY2hhcHRlckxpbmsucXVlcnlTZWxlY3RvcignZm9udFtjb2xvcio9IjgwMDAwMCJdJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoaXNGaXJlZm94KQogICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIobGluay5ocmVmKTsKCiAgICAgICAgICAgICAgICAvLyDorr7nva7ngrnlh7vlkI7nmoTmoLflvI8KICAgICAgICAgICAgICAgIC8vIOacquivu+W3pui+ueeahCAxeCDpk77mjqUKICAgICAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5wcmV2aW91c1NpYmxpbmcucXVlcnlTZWxlY3RvcignZm9udCcpCiAgICAgICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnY29sb3InLCBCb29rTGlua01lLmNsaWNrZWRDb2xvcik7CiAgICAgICAgICAgICAgICBjaGFwdGVyTGluay5jbGFzc0xpc3QuYWRkKCdtY2xpY2tlZCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKCiAgICAgICAgJCgnPGE+JykKICAgICAgICAgICAgLmF0dHIoeyBocmVmOiAnamF2YXNjcmlwdDo7JywgdGl0bGU6ICfkuIDplK7miZPlvIDmiYDmnInmnKror7vpk77mjqUnLCBzdHlsZTogJ3dpZHRoOmF1dG87JyB9KQogICAgICAgICAgICAuY2xpY2sob3BlbkFsbFVucmVhZExpbmtzKQogICAgICAgICAgICAuYXBwZW5kKCQoJzxpbWcgc3JjPSJtZS5wbmciIHN0eWxlPSJtYXgtd2lkdGg6IDIwcHg7Ij4nKSkKICAgICAgICAgICAgLmFwcGVuZFRvKCRwYXJlbnQpOwogICAgfSwKICAgIGNoYXB0ZXJQYWdlQWRkVGllYmFMaW5rOiBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgbGluayA9ICQoJ2ZvbnQ6Y29udGFpbnMoIui0tOWQpyIpJykucGFyZW50KCkuZ2V0KDApOwogICAgICAgIGlmICghbGluaykgcmV0dXJuOwoKICAgICAgICB2YXIgdGllYmFVcmwgPSAnaHR0cDovL3RpZWJhLmJhaWR1LmNvbS9mP2t3PScgKyAkKCdoMScpLnRleHQoKTsKICAgICAgICBjb25zb2xlLmxvZygnR01feG1saHR0cFJlcXVlc3QnLCB0aWViYVVybCk7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICB1cmw6IHRpZWJhVXJsLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZG9jID0gcGFyc2VIVE1MKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICBCb29rTGlua01lLmxvYWQoZG9jKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGxvYWQ6IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHZhciAkZGF0YSA9ICQoZG9jKS5maW5kKCcudGhyZWFkbGlzdF90ZXh0ID4gYScpLm1hcChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiAkKHRoaXMpLnRleHQoKSwKICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly90aWViYS5iYWlkdS5jb20nICsgJCh0aGlzKS5hdHRyKCdocmVmJykKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICB2YXIgdHJpbVRpdGxlID0gZnVuY3Rpb24odGl0bGUsIHN0cmljdCkgewogICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnRyaW0oKQogICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wuXC5cLiQvLCAnJyk7CgogICAgICAgICAgICBpZiAoc3RyaWN0KSB7CiAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoL+esrC4qP+eroFxzKi8sICcnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgKHRvTnVtKSB7CiAgICAgICAgICAgIC8vICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoL1vpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ3ljYHnmb7ljYPkuIfkur9dKy8sIGNuTnVtMkFyYWJOdW0pOwogICAgICAgICAgICAvLyB9CgogICAgICAgICAgICByZXR1cm4gdGl0bGU7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGZpbmRVcmwgPSBmdW5jdGlvbihzVGl0bGUpIHsKICAgICAgICAgICAgaWYgKCFzVGl0bGUpIHJldHVybjsKCiAgICAgICAgICAgIHZhciB1cmw7CiAgICAgICAgICAgICRkYXRhLmVhY2goZnVuY3Rpb24oaSwgaXRlbSkgewogICAgICAgICAgICAgICAgdmFyIHRpZWJhVGl0bGUgPSBpdGVtLnRpdGxlOwogICAgICAgICAgICAgICAgaWYgKHRpZWJhVGl0bGUuaW5kZXhPZih0cmltVGl0bGUoc1RpdGxlKSkgPiAwIHx8CiAgICAgICAgICAgICAgICAgICAgc1RpdGxlLmluZGV4T2YodHJpbVRpdGxlKHRpZWJhVGl0bGUsIHRydWUpKSA+IDAgIC8vIOWMheWQq+i0tOWQp+agh+mimOeahOmDqOWIhgogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgdXJsID0gaXRlbS51cmw7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICB9OwoKICAgICAgICAkKCdhOmNvbnRhaW5zKCLmkJzntKLmnKznq6DoioIiKScpLmVhY2goZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgICAgICAgICR0aGlzTGluZSA9ICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLAogICAgICAgICAgICAgICAgY2hhcHRlclRpdGxlID0gJHRoaXNMaW5lLnByZXYoKS5maW5kKCdhW2hyZWZePSIvanVtcC5waHAiXTpmaXJzdCcpLnRleHQoKTsKCiAgICAgICAgICAgIHZhciB1cmwgPSBmaW5kVXJsKGNoYXB0ZXJUaXRsZSk7CiAgICAgICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgICAgICQoJzxhPicpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoeyB0YXJnZXQ6ICdfYmxhbmsnLCBocmVmOiB1cmwgfSkKICAgICAgICAgICAgICAgICAgICAudGV4dCgn6LS05ZCnJykKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJHRoaXMucGFyZW50KCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9Cn07CgppZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCdib29rbGluay5tZScpID4gLTEpIHsKICAgIEJvb2tMaW5rTWUuaW5pdCgpOwp9IGVsc2UgewogICAgQXBwLmluaXQoKTsKfQo="},{"name":"EX-百度云盘","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link?*","*://yun.baidu.com/share/link?*","*://eyun.baidu.com/s/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856035},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/26638-ex-%E7%99%BE%E5%BA%A6%E4%BA%91%E7%9B%98/code/EX-%E7%99%BE%E5%BA%A6%E4%BA%91%E7%9B%98.user.js","uuid":"3a952e70-597c-41b1-96d0-12ccf68a0644","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFWC3nmb7luqbkupHnm5gKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vZ3h2di9leC1iYWlkdXl1bnBhbi8KLy8gQHZlcnNpb24gICAgICAwLjEuNwovLyBAZGVzY3JpcHRpb24gIFvkuIvovb3lpKfmlofku7ZdIFvmibnph4/kuIvovb1dIFvmlofku7blpLnkuIvovb1dIFvnmb7luqbnvZHnm5hdIFvnmb7luqbkupHnm5hdIFvnmb7luqbkupHnm5jkvIHkuJrniYhdIFvkvIHkuJrniYhdIFtiYWlkdV0gW2JhaWR1eXVuXSBbeXVucGFuXSBbYmFpZHV5dW5wYW5dIFtleXVuXQovLyBAYXV0aG9yICAgICAgIGd4dnYKLy8gQGxpY2Vuc2UgICAgICBNSVQKLy8gQHN1cHBvcnRVUkwgICBodHRwczovL2dpdGh1Yi5jb20vZ3h2di9leC1iYWlkdXl1bnBhbi9pc3N1ZXMKLy8gQGRhdGUgICAgICAgICAwMS8wMS8yMDE3Ci8vIEBtb2RpZmllZCAgICAgMDcvMDMvMjAxNwovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL2Rpc2svaG9tZSoKLy8gQG1hdGNoICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vcy8qCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vcy8qCi8vIEBtYXRjaCAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vc2hhcmUvbGluaz8qCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vc2hhcmUvbGluaz8qCi8vIEBtYXRjaCAgICAgICAgKjovL2V5dW4uYmFpZHUuY29tL3MvKgovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyBAZ3JhbnQgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01faW5mbwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2NsaXBib2FyZC5qcy8xLjUuMTYvY2xpcGJvYXJkLm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbihyZXF1aXJlLCBkZWZpbmUsIFByb21pc2UpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBmdW5jdGlvbiBzaG93RXJyb3IobXNnKSB7CiAgICAgICAgR01fYWRkU3R5bGUoJyNlcnJvckRpYWxvZ3twb3NpdGlvbjogZml4ZWQ7dG9wOiA3Ni41cHg7IGJvdHRvbTogYXV0bzsgbGVmdDogNDIzcHg7IHJpZ2h0OiBhdXRvO2JhY2tncm91bmQ6ICNmZmY7Ym9yZGVyOiAxcHggc29saWQgI2NlZDFkOTtib3JkZXItcmFkaXVzOiA0cHg7Ym94LXNoYWRvdzogMCAwIDNweCAjY2VkMWQ5O2NvbG9yOiBibGFjazt3b3JkLWJyZWFrOiBicmVhay1hbGw7ZGlzcGxheTogYmxvY2s7d2lkdGg6IDUyMHB4O3BhZGRpbmc6IDEwcHggMjBweDt6LWluZGV4OiA5OTk5O30jZXJyb3JEaWFsb2cgaDN7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjZWQxZDk7Zm9udC1zaXplOiAxLjVlbTtmb250LXdlaWdodDogYm9sZDt9Jyk7CiAgICAgICAgdmFyICQ7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJCA9IHJlcXVpcmUoJ2Jhc2U6d2lkZ2V0L2xpYnMvanF1ZXJ5cGFja2V0LmpzJyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICQgPSBmdW5jdGlvbihzdHIpIHsKICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBzdHI7CiAgICAgICAgICAgICAgICBkaXYub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmV0dXJuICQ7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQub24gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgdmFyICRkaWFsb2cgPSAkKCc8ZGl2IGlkPSJlcnJvckRpYWxvZyI+JyArCiAgICAgICAgICAgICc8aDM+RVgtYmFpZHV5dW5wYW4656iL5bqP5byC5bi4PC9oMz4nICsKICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImRpYWxvZy1ib2R5Ij48cD7or7flsJ3or5Xmm7TmlrDohJrmnKzmiJblpI3liLbku6XkuIvkv6Hmga/mj5DkuqRpc3N1ZTwvcD4nICsKICAgICAgICAgICAgJzxwPkV4Y2VwdGlvbjogJyArIG1zZyArICc8L3A+JyArCiAgICAgICAgICAgICc8cD5TY3JpcHQgVmVyOiAnICsgR01faW5mby5zY3JpcHQudmVyc2lvbiArICc8L3A+JyArCiAgICAgICAgICAgICc8cD5UZW1wZXJNb25rZXkgVmVyOiAnICsgR01faW5mby52ZXJzaW9uICsgJzwvcD4nICsKICAgICAgICAgICAgJzxwPlVBOiAnICsgbmF2aWdhdG9yLnVzZXJBZ2VudCArICc8L3A+JyArCiAgICAgICAgICAgICc8L2Rpdj48aHI+PGEgY2xhc3M9ImNsb3NlIiBocmVmPSJqYXZhc2NyaXB0OjsiPuWFs+mXrTwvYT48L2Rpdj4nKTsKICAgICAgICAkZGlhbG9nLm9uKCdjbGljaycsICcuY2xvc2UnLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAkZGlhbG9nLnJlbW92ZSgpOwogICAgICAgIH0pLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpOwogICAgfQogICAgZGVmaW5lKCdleC15dW5wYW46cGFnZUluZm8nLCBmdW5jdGlvbihyZXF1aXJlKSB7CiAgICAgICAgdmFyIHVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gJ3Bhbic7CiAgICAgICAgdmFyIG1hdGNocyA9IHsKICAgICAgICAgICAgJy4qOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUuKic6ICdwYW4nLAogICAgICAgICAgICAnLio6Ly95dW4uYmFpZHUuY29tL2Rpc2svaG9tZS4qJzogJ3BhbicsCiAgICAgICAgICAgICcuKjovL3Bhbi5iYWlkdS5jb20vcy8uKic6ICdzaGFyZScsCiAgICAgICAgICAgICcuKjovL3l1bi5iYWlkdS5jb20vcy8uKic6ICdzaGFyZScsCiAgICAgICAgICAgICcuKjovL3Bhbi5iYWlkdS5jb20vc2hhcmUvbGluaz8uKic6ICdzaGFyZScsCiAgICAgICAgICAgICcuKjovL3l1bi5iYWlkdS5jb20vc2hhcmUvbGluaz8uKic6ICdzaGFyZScsCiAgICAgICAgICAgICcuKjovL2V5dW4uYmFpZHUuY29tL3MvLionOiAnZW50ZXJwcmlzZScKICAgICAgICB9OwogICAgICAgIHZhciBQQUdFX0NPTkZJRyA9IHsKICAgICAgICAgICAgcGFuOiB7CiAgICAgICAgICAgICAgICBwcmVmaXg6ICdmaWxlLXdpZGdldC0xOicsCiAgICAgICAgICAgICAgICBjb250YWluZXJzOiBbJy5nLWJ1dHRvbjpoYXMoLmljb24tZG93bmxvYWQpOnZpc2libGUnXSwKICAgICAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hhcmU6IHsKICAgICAgICAgICAgICAgIHByZWZpeDogJ2ZpbGUtd2lkZ2V0LTE6JywKICAgICAgICAgICAgICAgIGNvbnRhaW5lcnM6IFsKICAgICAgICAgICAgICAgICAgJy5LS3R3YUggLmJ1dHRvbi1ib3g+LmctYnV0dG9uOmhhcyguaWNvbi1kb3dubG9hZCknLAogICAgICAgICAgICAgICAgICAnLm1vZHVsZS1zaGFyZS10b3AtYmFyIC5idXR0b24tYm94Pi5nLWJ1dHRvbjpoYXMoLmljb24tZG93bmxvYWQpJwogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVMaXN0ID0gWwogICAgICAgICAgICAgICAgICAgICAgICAnLktQRHdDRSAuUXhKeHRne3otaW5kZXg6IDI7fScsCiAgICAgICAgICAgICAgICAgICAgICAgICcubW9kdWxlLXNoYXJlLWhlYWRlciAuc2xpZGUtc2hvdy1yaWdodHt3aWR0aDogYXV0bzt9JywKICAgICAgICAgICAgICAgICAgICAgICAgJy5leC15dW5wYW4tZHJvcGRvd24tYnV0dG9uLmctZHJvcGRvd24tYnV0dG9uLmJ1dHRvbi1vcGVuIC5tZW51e3otaW5kZXg6NDE7fScsCiAgICAgICAgICAgICAgICAgICAgICAgICcubW9kdWxlLXNoYXJlLWhlYWRlciAuc2xpZGUtc2hvdy1oZWFkZXIgaDJ7d2lkdGg6MjMwcHg7fScsCiAgICAgICAgICAgICAgICAgICAgICAgICcuS1BEd0NFIC54R0xNSWFiIC5nLWRyb3Bkb3duLWJ1dHRvbi5leC15dW5wYW4tZHJvcGRvd24tYnV0dG9ue21hcmdpbjogMCA1cHg7fScKICAgICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKHN0eWxlTGlzdC5qb2luKCcnKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVudGVycHJpc2U6IHsKICAgICAgICAgICAgICAgIHByZWZpeDogJ2J1c2luZXNzLWZ1bmN0aW9uOicsCiAgICAgICAgICAgICAgICBjb250YWluZXJzOiBbJy5idXR0b24tYm94LWNvbnRhaW5lcj4uZy1idXR0b246aGFzKDpjb250YWlucygi5LiL6L29IikpJ10sCiAgICAgICAgICAgICAgICBzdHlsZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlTGlzdCA9IFsKICAgICAgICAgICAgICAgICAgICAgICAgJy5leC15dW5wYW4tZHJvcGRvd24tYnV0dG9uIC5pY29uLWRvd25sb2Fke2JhY2tncm91bmQtaW1hZ2U6IHVybCgvYm94LXN0YXRpYy9idXNpbmVzcy1mdW5jdGlvbi9pbmZvcy9pY29uc196LnBuZz90PTE0NzYwMDQwMTQzMTMpO30nLAogICAgICAgICAgICAgICAgICAgICAgICAnLmV4LXl1bnBhbi1kcm9wZG93bi1idXR0b24gLmctYnV0dG9uOmhvdmVyIC5pY29uLWRvd25sb2Fke2JhY2tncm91bmQtcG9zaXRpb246IDBweCAtMzRweDt9JwogICAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoc3R5bGVMaXN0LmpvaW4oJycpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZm9yICh2YXIgbWF0Y2ggaW4gbWF0Y2hzKSB7CiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKG1hdGNoKS50ZXN0KHVybCkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gbWF0Y2hzW21hdGNoXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gUEFHRV9DT05GSUdbY3VycmVudFBhZ2VdOwogICAgfSk7CiAgICBkZWZpbmUoJ2V4LXl1bnBhbjpkb3dubG9hZEJ0bkluaXQnLCBmdW5jdGlvbihyZXF1aXJlKSB7CiAgICAgICAgdmFyIGN0eCA9IHJlcXVpcmUoJ3N5c3RlbS1jb3JlOmNvbnRleHQvY29udGV4dC5qcycpLmluc3RhbmNlRm9yU3lzdGVtOwogICAgICAgIHZhciAkID0gcmVxdWlyZSgnYmFzZTp3aWRnZXQvbGlicy9qcXVlcnlwYWNrZXQuanMnKTsKICAgICAgICB2YXIgcGFnZUluZm8gPSByZXF1aXJlKCdleC15dW5wYW46cGFnZUluZm8nKTsKICAgICAgICB2YXIgcHJlZml4ID0gcGFnZUluZm8ucHJlZml4OwogICAgICAgIHZhciBkU2VydiA9IG51bGw7CiAgICAgICAgcmVxdWlyZS5hc3luYyhwcmVmaXggKyAnZG93bmxvYWQvc2VydmljZS9kbGlua1NlcnZpY2UuanMnLCBmdW5jdGlvbihkbGlua1NlcnZpY2UpIHsKICAgICAgICAgICAgZFNlcnYgPSBkbGlua1NlcnZpY2U7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGV4RGxCdG5Db25maWcgPSB7CiAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsCiAgICAgICAgICAgIHRpdGxlOiAnRVgt5LiL6L29JywKICAgICAgICAgICAgcmVzaXplOiB0cnVlLAogICAgICAgICAgICBtZW51OiBbewogICAgICAgICAgICAgICAgdGl0bGU6ICfmma7pgJrkuIvovb0nLAogICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcmVxdWlyZShwcmVmaXggKyAnZG93bmxvYWQvc3RhcnQuanMnKTsKICAgICAgICAgICAgICAgICAgICBzdGFydC5zdGFydChjdHgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+WkjeWItumTvuaOpScsCiAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRMaXN0ID0gY3R4Lmxpc3QuZ2V0U2VsZWN0ZWQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMaXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGN0eC51aS50aXAoewogICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+aCqOi/mOayoeaciemAieaLqeS4i+i9veeahOaWh+S7ticKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2xvYWRpbmcnLAogICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICflvIDlp4vor7fmsYLpk77mjqUuLi4nCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRlcnNMaXN0ID0gc2VsZWN0ZWRMaXN0LmZpbHRlcihmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmlzZGlyID09PSAxOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlc0xpc3QgPSBzZWxlY3RlZExpc3QuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaXNkaXIgPT09IDA7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9kdWN0ID0gY3R4LnBhZ2VJbmZvLmN1cnJlbnRQcm9kdWN0OwogICAgICAgICAgICAgICAgICAgIGlmICghflsncGFuJywgJ3NoYXJlJywgJ2VudGVycHJpc2UnXS5pbmRleE9mKGN1cnJlbnRQcm9kdWN0KSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnVpLnRpcCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICflpI3liLbpk77mjqXlvZPliY3pobXpnaLkuI3lj6/nlKgnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZXNMaXN0Lmxlbmd0aCA+IDAgJiYgY3VycmVudFByb2R1Y3QgIT09ICdlbnRlcnByaXNlJykgewogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJzTGlzdC51bnNoaWZ0KGZpbGVzTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgW10ucHVzaC5hcHBseShmb2xkZXJzTGlzdCwgZmlsZXNMaXN0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RNZXRob2Q7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQcm9kdWN0ID09PSAncGFuJykgewogICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWV0aG9kID0gZnVuY3Rpb24oZSwgY2IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRTZXJ2LmdldERsaW5rUGFuKGRTZXJ2LmdldEZzaWRMaXN0RGF0YShlKSwgZS5pc2RpciA9PT0gMSA/ICdiYXRjaCcgOiAnbm9saW1pdCcsIGNiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgJ1BPU1QnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgeXVuRGF0YSA9IHJlcXVpcmUoKGN1cnJlbnRQcm9kdWN0ID09PSAnc2hhcmUnID8gJ2Rpc2stc2hhcmU6d2lkZ2V0L3N5c3RlbScgOiAncGFnZS1jb21tb246d2lkZ2V0JykgKyAnL2RhdGEveXVuRGF0YS5qcycpLmdldCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWV0aG9kID0gZnVuY3Rpb24oZSwgY2IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRTZXJ2LmdldERsaW5rU2hhcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlX2lkOiB5dW5EYXRhLnNoYXJlaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVfdWs6IHl1bkRhdGEudWssCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbjogeXVuRGF0YS5zaWduLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogeXVuRGF0YS50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogY3VycmVudFByb2R1Y3QgPT09ICdzaGFyZScgPyBlIDogW2VdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGUuaXNkaXIgPT09IDEgPyAnYmF0Y2gnIDogJ25vbGltaXQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjYik7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gZm9sZGVyc0xpc3QubGVuZ3RoID09PSAxID8zZTQgOjNlMzsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBmb2xkZXJzTGlzdC5tYXAoZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJC5leHRlbmQoe30sIGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdE1ldGhvZChlLCBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCQuZXh0ZW5kKHt9LCBlLmlzZGlyID09PSAxID8gZSA6IHt9LCByZXN1bHQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnVpLmhpZGVUaXAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRsaW5rcyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVlZFRvUmV0cnkgPSByZXN1bHQuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmVycm5vICE9PSAwOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb1JldHJ5Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZFNlcnYuZGlhbG9nLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnVpLnRpcCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2NhdXRpb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogbmVlZFRvUmV0cnkubGVuZ3RoICsgJ+S4quaWh+S7tuivt+axgumTvuaOpeWksei0pScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZXJybm8gPT09IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuaXNkaXIgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGxpbmsgPSBlLmRsaW5rICsgIiZ6aXBuYW1lPSIgKyBlbmNvZGVVUklDb21wb25lbnQoJ+OAkOaWh+S7tuWkueOAkScgKyBlLnNlcnZlcl9maWxlbmFtZSArICcuemlwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGxpbmtzLnB1c2goZS5kbGluayAmJiBkbGluayk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtdLnB1c2guYXBwbHkoZGxpbmtzLCAoZS5kbGluayB8fCBlLmxpc3QgfHwgW10pLm1hcChmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkbGlua3MubGVuZ3RoID09PSAwKSByZXR1cm4gY3R4LnVpLnRpcCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICflpI3liLblpLHotKXvvJrmnKrojrflj5bliLDpk77mjqUnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCgnLmJ0bicpOwogICAgICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAn5aSN5Yi25oiQ5YqfJyArIGRsaW5rcy5sZW5ndGggKyAn5Liq5paH5Lu2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAn5aSN5Yi25aSx6LSlJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICc8dGV4dGFyZWEgaWQ9ImJhciIgcm93cz0iJyArICgoZGxpbmtzLmxlbmd0aD4yMCA/MjAgOmRsaW5rcy5sZW5ndGgpICsgMSkgKyAnIiBzdHlsZT0id2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTogbm93cmFwOyI+JyArIGRsaW5rcy5qb2luKCdcbicpICsgJzwvdGV4dGFyZWE+JzsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGN0eC51aS5jb25maXJtKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5aSN5Yi26ZO+5o6lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJlVGV4dDogJ+WkjeWIticsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmQgJiYgY2xpcGJvYXJkLmRlc3RvcnkgJiYgY2xpcGJvYXJkLmRlc3Ryb3koKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5idXR0b25JbnNbMF0uZG9tLmF0dHIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtY2xpcGJvYXJkLWFjdGlvbic6ICdjb3B5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLWNsaXBib2FyZC10YXJnZXQnOiAnI2JhcicKICAgICAgICAgICAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MoJ2J0bicpLm9mZigpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9XSwKICAgICAgICAgICAgaWNvbjogJ2ljb24tZG93bmxvYWQnCiAgICAgICAgfTsKICAgICAgICB2YXIgc2VsZWN0b3IgPSBwYWdlSW5mby5jb250YWluZXJzLmpvaW4oKTsKICAgICAgICAkKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKGksIGUpIHsKICAgICAgICAgICAgdmFyIGV4RGxCdG4gPSBjdHgudWkuYnV0dG9uKGV4RGxCdG5Db25maWcpOwogICAgICAgICAgICAkKGUpLmFmdGVyKGV4RGxCdG4uZG9tLmFkZENsYXNzKCdleC15dW5wYW4tZHJvcGRvd24tYnV0dG9uJykpOwogICAgICAgICAgICBleERsQnRuLnJlc2l6ZUJ1dHRvbldpZHRoKCk7CiAgICAgICAgfSk7CiAgICAgICAgcGFnZUluZm8uc3R5bGUoKTsKICAgIH0pOwogICAgZGVmaW5lKCdleC15dW5wYW46cGx1Z2luSW5pdC5qcycsIGZ1bmN0aW9uKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cykgewogICAgICAgIHZhciBjdHggPSByZXF1aXJlKCdzeXN0ZW0tY29yZTpjb250ZXh0L2NvbnRleHQuanMnKS5pbnN0YW5jZUZvclN5c3RlbTsKICAgICAgICB2YXIgJCA9IHJlcXVpcmUoJ2Jhc2U6d2lkZ2V0L2xpYnMvanF1ZXJ5cGFja2V0LmpzJyk7CiAgICAgICAgdmFyIHBhZ2VJbmZvID0gcmVxdWlyZSgnZXgteXVucGFuOnBhZ2VJbmZvJyk7CiAgICAgICAgdmFyIHByZWZpeCA9IHBhZ2VJbmZvLnByZWZpeDsKICAgICAgICB2YXIgZG1Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICQodW5zYWZlV2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmVqZWN0KCdkb3dubG9hZE1hbmFnZXIuanMnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlcXVpcmUuYXN5bmMocHJlZml4ICsgJ2Rvd25sb2FkL3NlcnZpY2UvZG93bmxvYWRNYW5hZ2VyLmpzJywgZnVuY3Rpb24oZG0pIHsKICAgICAgICAgICAgICAgIGRtLk1PREVfUFJFX0lOU1RBTEwgPSBkbS5NT0RFX1BSRV9ET1dOTE9BRDsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGdqY1Byb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgJCh1bnNhZmVXaW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICByZWplY3QoJ2d1YW5qaWFDb25uZWN0b3IuanMnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlcXVpcmUuYXN5bmMocHJlZml4ICsgJ2Rvd25sb2FkL3NlcnZpY2UvZ3VhbmppYUNvbm5lY3Rvci5qcycsIGZ1bmN0aW9uKGdqQykgewogICAgICAgICAgICAgICAgZ2pDLmluaXQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6ICdjYXV0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+ajgOa1i+WIsOato+WcqOiwg+eUqOS6keeuoeWutu+8jOiLpeiEmuacrOWkseaViO+8jOivt+ajgOafpeabtOaWsOaIluaPkOS6pGlzc3VlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHZhciBkZHNQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICQodW5zYWZlV2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmVqZWN0KCdkb3dubG9hZERpcmVjdFNlcnZpY2UuanMnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlcXVpcmUuYXN5bmMocHJlZml4ICsgJ2Rvd25sb2FkL3NlcnZpY2UvZG93bmxvYWREaXJlY3RTZXJ2aWNlLmpzJywgZnVuY3Rpb24oZERTKSB7CiAgICAgICAgICAgICAgICB2YXIgJHByZURsRnJhbWUgPSBudWxsOwogICAgICAgICAgICAgICAgdmFyIF8gPSBkRFMuc3RyYWlnaHRmb3J3YXJkRG93bmxvYWQ7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF8gIT09ICdmdW5jdGlvbicpIHJldHVybjsKICAgICAgICAgICAgICAgIGREUy5zdHJhaWdodGZvcndhcmREb3dubG9hZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGN0eC51aS50aXAoewogICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnbG9hZGluZycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+ato+WcqOW8gOWni+S4i+i9vS4uLicKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZiAoJHByZURsRnJhbWUgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZnJhbWUgPSAkKCcjcGNzZG93bmxvYWRpZnJhbWUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZnJhbWUubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZnJhbWUucmVhZHkoZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgudWkuaGlkZVRpcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcHJlRGxGcmFtZSA9ICRmcmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF8uYXBwbHkoZERTLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgUHJvbWlzZS5hbGwoW2RtUHJvbWlzZSwgZ2pjUHJvbWlzZSwgZGRzUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXF1aXJlKCdleC15dW5wYW46ZG93bmxvYWRCdG5Jbml0Jyk7CiAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbXNnOiAnRVgtYmFpZHV5dW5wYW46IOaPkuS7tuWKoOi9veaIkOWKnycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjdHgudWkudGlwKHsKICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgbXNnOiAnRVgtYmFpZHV5dW5wYW46IOaPkuS7tuWKoOi9veaIkOWKn++8jOaMiemSruWIneWni+WMluWksei0pScsCiAgICAgICAgICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBoYXNDbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihtc2cpIHsKICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NoYXJlX25vZm91bmRfZGVzJykgIT09IG51bGwpIHJldHVybjsKICAgICAgICAgICAgc2hvd0Vycm9yKG1zZyArICfliqDovb3lpLHotKUnKTsKICAgICAgICB9KTsKICAgIH0pOwogICAgdHJ5IHsKICAgICAgICByZXF1aXJlKCdleC15dW5wYW46cGx1Z2luSW5pdC5qcycpOwogICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICBzaG93RXJyb3IoZXgpOwogICAgfQp9KSh1bnNhZmVXaW5kb3cucmVxdWlyZSwgdW5zYWZlV2luZG93LmRlZmluZSwgdW5zYWZlV2luZG93LlByb21pc2UpOwo="},{"name":"AC-baidu： 优化百度、搜狗、谷歌搜索结果之重定向去除+去广告+favicon","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["*"],"orig_excludes":[],"orig_includes":["https://www.baidu.com/*","http://www.baidu.com/*","http://www.sogou.com/web*","https://www.sogou.com/web*","https://www.so.com/s?*","https://www.so.com/s?*","/^https?://\\w+.bing.com/.*/","/^https?\\:\\/\\/encrypted.google.[^\\/]+/","/^https?\\:\\/\\/www.google.[^\\/]+/","https://*.zhidao.baidu.com/*","https://zhidao.baidu.com/*","*.zhihu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":["baidu.com","*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856041},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/14178-ac-baidu-%E4%BC%98%E5%8C%96%E7%99%BE%E5%BA%A6-%E6%90%9C%E7%8B%97-%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E4%B9%8B%E9%87%8D%E5%AE%9A%E5%90%91%E5%8E%BB%E9%99%A4-%E5%8E%BB%E5%B9%BF%E5%91%8A-favicon/code/AC-baidu%EF%BC%9A%20%E4%BC%98%E5%8C%96%E7%99%BE%E5%BA%A6%E3%80%81%E6%90%9C%E7%8B%97%E3%80%81%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E4%B9%8B%E9%87%8D%E5%AE%9A%E5%90%91%E5%8E%BB%E9%99%A4+%E5%8E%BB%E5%B9%BF%E5%91%8A+favicon.user.js","uuid":"3fca38ba-08b5-4c5a-bcd6-f1e09c12a4c3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQUMtYmFpZHXvvJog5LyY5YyW55m+5bqm44CB5pCc54uX44CB6LC35q2M5pCc57Si57uT5p6c5LmL6YeN5a6a5ZCR5Y676ZmkK+WOu+W5v+WRiitmYXZpY29uCi8vIEBpY29uICAgICAgICAgICAgaHR0cHM6Ly9jb2RpbmcubmV0L3UvemIyMjcvcC96YkltZy9naXQvcmF3L21hc3Rlci9pbWcwL2ljb24uanBnCi8vIEBncmFudAkJICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBhdXRob3IgICAgICAgICAgQUMKLy8gQGNyZWF0ZSAgICAgICAgICAyMDE1LTExLTI1Ci8vIEBydW4tYXQgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHZlcnNpb24gICAgICAgICAxMi4xMQovLyBAY29ubmVjdCAgICAgICAgICoKLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovL3d3dy5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgIGh0dHA6Ly93d3cuYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICBodHRwOi8vd3d3LnNvZ291LmNvbS93ZWIqCi8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly93d3cuc29nb3UuY29tL3dlYioKLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovL3d3dy5zby5jb20vcz8qCi8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly93d3cuc28uY29tL3M/KgovLyBAaW5jbHVkZSAgICAgICAgIC9eaHR0cHM/Oi8vXHcrLmJpbmcuY29tLy4qLwovLyBAaW5jbHVkZSAgICAgICAgIC9eaHR0cHM/XDpcL1wvZW5jcnlwdGVkLmdvb2dsZS5bXlwvXSsvCi8vIEBpbmNsdWRlICAgICAgICAgL15odHRwcz9cOlwvXC93d3cuZ29vZ2xlLlteXC9dKy8KLy8gQGluY2x1ZGUgICAgICAgICBodHRwczovLyouemhpZGFvLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgaHR0cHM6Ly96aGlkYW8uYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAqLnpoaWh1LmNvbS8qCi8vIEBob21lLXVybCAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1UVy9zY3JpcHRzLzE0MTc4Ci8vIEBob21lLXVybDIgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xhbmdyZW4xMzUzL0dNX3NjcmlwdAovLyBAbmFtZXNwYWNlICAgICAgIDEzNTM0NjQ1MzlAcXEuY29tCi8vIEBjb3B5cmlnaHQgICAgICAgMjAxNywgQUMKLy8gQGRlc2NyaXB0aW9uICAgICAxLue5numBjueZvuW6puOAgeaQnOeLl+OAgeiwt+atjOOAgeWlveaQnOaQnOe0oue1kOaenOS4reeahOiHquW3seeahOi3s+i9iemPiOaOpe+8jOebtOaOpeioquWVj+WOn+Wni+e2sumggS3lj43mraPpg73og73nnIvmh4IgMi7ljrvpmaTnmb7luqbnmoTlpJrkvZnlub/lkYogMy7mt7vliqBGYXZpY29u5pi+56S6IDQu6aG16Z2iQ1NTIDUu5re75Yqg6K6h5pWwIDYu5byA5YWz6YCJ5oup5Lul5LiK5Yqf6IO9Ci8vIEBsYXN0bW9kaWZpZWQgICAgMjAxNy0wOS0yNwovLyBAZmVlZGJhY2stdXJsICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtVFcvc2NyaXB0cy8xNDE3OAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMTEuMDItVjEyLjExIOaWsOWinuWcqOaJi+acum1vYmlsZeaooeW8j+S4i+eZvuW6pueahOmHjeWumuWQkeWkhOeQhu+8jOWFtuS9mee9keermeS7peWQjuWGjeivtOWQp++8jOS8sOiuoeayoeaciemcgOaxggovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMTAuMjctVjEyLjEwIDEu5L+u5aSN6YC85q275by66L+r55eH55qE6Zeu6aKY77ybMi7np7vpmaTlrozmlbTmqKHlvI8t6YG/5YWN5Ye6546w5ZCE56eN5oum5oiq77ybMy7kv67lpI13d3cuc28uY29t55qE6YeN5a6a5ZCR6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOS4xOC1WMTIuOSDmm7TmlrDljp/lm6DvvJoxLuWLv+W/mOWbveiAuzkxOO+8mzIu5pu05paw55m+5bqm5YG25bCU6YeN5a6a5ZCR5rKh5oiQ5Yqf55qE6Zeu6aKY77ybMy7kv67lpI3pobXpnaLnmoTlsI/pl67popjvvJs0LuaWsOWinuaWh+Wtl+S4i+WIkue6v+W8gOWFswovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTUtVjEyLjgg57Sn5oCl5L+u5aSN6LC35q2M5LiK6aG16Z2i5Y2h6aG/55qE6Zeu6aKY77yM5o6S5p+l5b6X55+l5Li655m+5bqm6KeE5YiZ55qE5omp5bGV5Ye65LqG6Zeu6aKY77yM6Z2e5bi45oSf6LCi5LyX5aSa5pyL5Y+L55qE5pSv5oyB77yM5rKh5pyJ5L2g5Lus55qE5Y+N6aaI5bCx5rKh5pyJ6L+Z5Liq6ISa5pys44CC5L+u5aSN5bm256e76Zmk5LqG55m+5bqm5a6Y5pa56YeH55So55qE5paw5pa55byP5bm/5ZGK5qih5byP77yM6LKM5Ly85Y+q5ZyoY2hyb21l5LiK5Ye6546wCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOS4xMy1WMTIuNyAxLuS/ruWkjU7lubTliY3mm7TmlrDlr7zoh7TnmoTpg6jliIbnvZHlnYDph43lrprlkJHml6DmlYjvvIznu6fnu63kvb/nlKhHRVTmlrnms5XvvIzlm6DkuLrlpb3kupvnvZHnq5nkuI3mlK/mjIFIRUFE5pa55rOV77yM6I635Y+W5oiQ5Yqf5LmL5ZCO5bCx5pat5byA77yM5bC96YeP5YeP5bCR5LqG572R57uc5byA5pSvOyAyLuS/ruWkjeaQnOeLl+eahOmDqOWIhuaQnOe0ouW8guW4uDsgMy7kv67lpI3nmb7luqblnKhjaHJvbWU2MeS4iueahOmTvuaOpeW8guW4uOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTMtVjEyLjYg5byA5a2m5LmL5ZCO55qE56ys5LqM5Liq54mI5pys77yM5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE55m+5bqm6aaW6aG16ZSZ5Lmx77yM5L+u5aSNZmlyZWZveOS4iueahOinpuWPke+8jOS/ruWkjVN1cGVyUHJlbG9hZGVy55qE57+76aG15bGV56S6Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOS4xMi1WMTIuNSDlvIDlrabkuYvlkI7nmoTnrKzkuIDkuKrniYjmnKzvvIzkv67lpI3lnKjnmb7luqbkuIrlgbblsJTkuI3op6blj5HnmoTpl67popjjgJDku47pppbpobXmkJzntKLnmoTml7blgJnop6blj5HjgJHvvIzlhbbmrKHlnKjlhYTlvJ9YWFgo5oiR5Lmf5b+Y5LqG5ZOq5LiqUF9QKeeahOW4ruWKqeS4i++8jOS/ruWkjeS6huWBtuWwlOS8muWFqOWxj+eJueauiuaOqOW5v+aooeW8j+eahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMDYtVjEyLjQg5L+u5aSN5LiK5Liq54mI5pys5pu05paw5a+86Ie055qE55m+5bqm55+l6YGT5YaN5qyh5byC5bi46Zeu6aKYO+abtOaWsOefpeS5juS4iueahOmHjeWumuWQkemXrumimC3oh6rlt7HnmoTohJrmnKwKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA2LVYxMi4zIOS/ruWkjeWPjOWIl+eahOaooeW8j+eahOaYvuekuumXrumimO+8jOWmguaenOaciemXrumimOW4jOacm+WPjemmiOS4gOS4i++8jOmhuuS+v+WIh+aNomNzc+adpea6kAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMDQtVjEyLjIg54m55oSP5L+u5aSN5ZyoVmlvbGVudE1vbmtleeS4iueahOiuvue9ruaXoOaViOeahOmXrumimOS7peWPiuWcqDM2MOa1j+iniOWZqOS4iueahOiuvue9ruS4jeaYvuekuumXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMDQtVjEyLjEg55m+5bqm6aG16Z2i55u05o6l5re75Yqg6K6+572u5YWl5Y+j77ybMzYw5rWP6KeI5Zmo6K6+572u5Y+v6IO95Zyo5bqV6YOo6aG16Z2i77yb5pSv5oyB5Y2V5YiX5ZKM5Y+M5YiX5qih5byP77yM55WM6Z2i5pu0576O6KeCZnJvbea1rueUn0DmnKrmrYfvvJvlj6/og73mmK/mnIDov5HkuIDmrrXml7bpl7TnmoTmnIDlkI7niYjmnKzkuobvvIzopoHlvIDlrabkuoZ+fgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMDItVjExLjEwIOa3u+WKoOS4pOS4qumAiemhue+8jOWPr+S7pemAieaLqeaAp+enu+mZpOmDqOWIhuiuvue9rgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMDEtVjExLjkg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE55m+5bqm5Y675bm/5ZGK5LiN54G155qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOC4zMC1WMTEuOCDmlrDlop7vvJoxLkdN6K6+572u5qCP55uu5Lit5Yqg5YWl6K6+572uIDIuYmFpZHUt5L2/55SoSEVBROaWueW8j+iOt+WPlu+8jOWHj+WwkeaVsOaNruS8oOi+k++8jOaQnOeLl+eJueauiu+8jOe7p+e7rUdFVOaWueW8jwovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMjktVjExLjcg5pa55L6/5pyL5Y+L5LusLeenu+mZpOefpeS5jumHjeWumuWQkQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMDctVjExLjYg6LCD5pW077ya56e76Zmk5bCP57u/54K577yM5o2i5Li654K55Ye7RmF2aWNvbuaIluiAheaYr+iuoeaVsOWZqOW8ueWHuueql+WPo++8jOabtOaNouS4uuWKoOe+pOmTvuaOpQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMDYtVjExLjUg5L+u5aSN77yM5L+d5a2Y5byC5bi477yb6aKE5pyf5LmL5ZCO5Lya5re75Yqg55m+5bqm5pCc57Si6aG16Z2i55qE5aSn6LCD5pW0Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOC4wNS1WMTEuNCDmlrDlop7vvJrlj43ppojlkozlu7rorq7lnLDlnYDlop7liqAKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjA0LVYxMS4zIOS/ruWkje+8mueUseS6juiLseivreS4jeWlveWvvOiHtOeahOaLvOWGmemUmeivr++8jOaEn+iwonNoauWFhOW8n+aMh+WHugovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMDMtVjExLjIg5paw5aKe77ya6LC35q2M6ZO+5o6l5paw5qCH562+5omT5byAOyDnp7vpmaTmkJzntKLnu5Pmnpzpk77mjqXnmoTkuIvliJLnur8KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA3LjIyLVYxMS4xIOaWsOWinuS6huW8gOWFs+aooeW8j++8jOWPr+S7peW8gOWQr+aIluiAheWFs+mXreafkOS6m+iHquW3seS4jeWWnOasoueahOWKn+iDve+8jOW8gOWFs+WcqOWPs+S4iuinku+8jOWSjFN1cGVyUHJlbG9hZOWFseeUqAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjUtVjEwLjEg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE55m+5bqm5Y675bm/5ZGK55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNi4yNS1WMTAuMCDkv67lpI3kuIrmrKHmm7TmlrDlr7zoh7TnmoTnmb7luqbnn6XpgZPlho3mrKHlh7rnjrDogIHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjI0LVY5Ljkg5pu05paw5LqG57+76aG155qE6Zeu6aKY77yM57uP6L+H5aSa5qyh55qE5bCd6K+V5bqU6K+l5rKh5pyJ5aSq5aSn6Zeu6aKY5LqGCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNi4yNC1WOS44IOabtOaWsOS6hmJpbmfkuIrnmoTlm77niYdmYXZpY29u5Zyw5Z2AO+W5tuS4lOWwvemHj+WHj+WwkeS6hk1P6Kem5Y+R5qyh5pWw77yM6YG/5YWN6aG16Z2i5Y2h6aG/O+S/ruWkjeaQnOeLl+eahOmHjeWumuWQkemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjMtVjkuNyDkuIrkvKDplJnkuoZ+6YeN5paw5p2l77yM6aG65bim5aSE55CG5LqG6LC35q2MZmF2aWNvbumXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjMtVjkuNiDkv67lpI3kuobosLfmrYzph43lrprlkJHnmoTpl67poph+fuaIkeeahOmUhQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMTEtVjkuNSDkuI3lho3kvb/nlKhET03mlrnlvI/mnaXnm5HlkKzpobXpnaLkuobvvIzkvb/nlKh0aW1lcitNT+adpeWkhOeQhu+8jOaegeWkp+WHj+WwkeS6hmNwdeWNoOeUqOaXtumXtOWSjOeerOaXtue9kemAn+WNoOeUqAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMjYtVjkuNCDmgaLlpI1mYXZpY29u5qih5byP77yM546w5Zyo6L+Z5Liq6ISa5pys5Z+65pys5LiK5YWo5LqG77yM5pyJ6ZyA6KaB5Lul5ZCO5YaN6K+0Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xNS1WOS4zIOaaguaXtuenu+mZpOeZvuW6puWPs+i+ueS+p+agj+eahOW5v+WRiuenu+mZpOaooeW8j++8jOWHhuWkh+S4i+asoeS8mOWMluWlveS6huWGjee7p+e7rQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTItVjkuMiDmmoLml7bnp7vpmaTosLfmrYznmoTlronlhajmkJzntKLmqKHlvI/vvIzlm6DkuLrlvojlpI3mnYLnmoTljp/lm6AKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY5LjEg5pqC5pe256e76ZmkRmF2aWNvbueahOaYvuekuu+8jOWboOS4uui/meagt+WwseadguS6hu+8jOaciemcgOimgeeahOS6uuiHquW3seWOu+ijhei/meS4quiEmuacrOWQp++8jOS/neeVmeeZvuW6puWOu+W5v+WRigovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTItVjkuMCDpm4blkIjkuobljrvph43lrprlkJEr5Y675bm/5ZGKK0Zhdmljb27mmL7npLoKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY4Ljcg6ZuG5ZCI5LqG5Y675bm/5ZGK55qE6ISa5pys77yM5Lul5YmN55qE6YKj5Liq5Y675bm/5ZGK55qE6ISa5pys5bCx5LiN55So5LqGCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xMi1WOC42IOS/ruWkjeiwt+atjOWuieWFqOaQnOe0oueahEJVRyBWMgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTItVjguNCDmlrDlop7vvJrpu5jorqTlsY/olL3osLfmrYznmoTlronlhajmkJzntKLlip/og70KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjA1LVY4LjMg5L+u5aSNaW5jbHVkZeiMg+WbtOWkquWwj+WvvOiHtOeahOeZvuW6puefpemBk+eahOWxj+iUvemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMDQtVjguMiDnu4jkuo7kv67lpI3kuobnmb7luqbnn6XpgZPlm77niYfmm7/mjaLkuobmloflrZfnmoTov5nkuKrlpKdCVUc7IOmhuuS+v+WkhOeQhuS6hnN1cGVyYXBpLnpoaWRhby5iYWlkdS5jb207IOaWsOWinuiwt+atjOaQnOe0oue7k+aenOmHjeWumuWQkeWOu+mZpAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMDQtVjguMSDnu4jkuo7kv67lpI3kuobnmb7luqbnn6XpgZPlm77niYfmm7/mjaLkuobmloflrZfnmoTov5nkuKrlpKdCVUfvvIzpobrkvr/lpITnkIbkuoZzdXBlcmFwaS56aGlkYW8uYmFpZHUuY29tCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4wNC1WOC4wIOe7iOS6juS/ruWkjeS6hueZvuW6puefpemBk+WbvueJh+abv+aNouS6huaWh+Wtl+eahOi/meS4quWkp0JVR++8jOW+hea1i+ivlQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDMuMjgtVjcuNiDkv67lpI3lnKhWaW9sZW50TW9ua2V55LiK55qE5LiN5pSv5oyB55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wMy4yOC1WNy41IOWwneivleS/ruWkjWNocm9tZeS4iueahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDMuMjEtVjcuNCDlsJ3or5XlpITnkIZFZGdl5LiK5LiN5pSv5oyB55qE6Zeu6aKY77yM57uT5p6c5Y+R546w5pivRWRnZeacrOi6q+eahFRhbXBlck1vbmtleeaUr+aMgeaciemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDMuMTktVjcuMyDkv67lpI3miZPlvIDnmb7luqbkuYvlkI7lho3mrKHngrnlh7vigJznmb7luqbkuIDkuIvigJ3lr7zoh7TnmoTml6Dms5Xmm7TmlrDph43lrprlkJHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjE5LVY3LjIg5pyq55+l5Y6f5ZugY2hyb21l55qETXV0YXRpb25PYnNlcnZlcuaXoOazleS9v+eUqOS6hu+8jOe7p+e7reWbnuW9kuS7peWJjeeahERPTU5vZGVJbnNlcnRlZAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDIuMTctVjcuMCDkv67lpI3mkJzni5fnmoTmkJzntKLnu5Pmnpzph43lrprlkJHpl67popgr5pS55Liq5ZCN5a2XCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wMi4xNy1WNi45IOS/ruWkjeaQnOeLl+eahOaQnOe0oue7k+aenOmHjeWumuWQkemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTYuMTIuMTAtVjYuOCAqKioKLy8gQG5vdGUgICAgICAgICAgICAyMDE2LjEwLjI3LVY2Ljcg5L+u5aSN5LqG5Lul5YmN55qE6YeN5aSN6K+35rGC77yM546w5Zyo55qE6K+35rGC5pWw5bqU6K+l5bCP5LqG5b6I5aSa77yM572R57uc5Lmf5bCx5LiN5Y2h5LqG77yM5oSf6KeJ6JCM6JCM5ZOSCi8vIEBub3RlICAgICAgICAgICAgMjAxNi4wNC4yNC1WNi42IOaBouWkjeS7peWJjeeahOeJiOacrO+8jOWboOS4uuWFvOWuueaAp+mXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTUuMTIuMDEtVjUuMCDliqDlhaXmkJzni5fnmoTmlK/mjIHvvIzkvYbmmK/mlK/mjIHkuI3mmK/lvojlpb0KLy8gQG5vdGUgICAgICAgICAgICAyMDE1LjExLjI1LVYyLjAg5LyY5YyW77yM5bey57uP5piv55yf5a6e5Zyw5Z2A55qE5LiN5YaN5bCd6K+V6I635Y+WCi8vIEBub3RlICAgICAgICAgICAgMjAxNS4xMS4yNS1WMS4wIOWujOaIkOWOu+aOieeZvuW6pumHjeWumuWQkeeahOWKn+iDvQovLyBAZ3JhbnQgICAgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEByZXF1aXJlICAgICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vanF1ZXJ5LzMuMi4xL2pxdWVyeS5taW4uanMKLy8gPT0vVXNlclNjcmlwdD09CgovLyDliJ3mrKHvvJrov5jmmK/ph4fnlKjkuoZzZXRJbnRlcnZhbOadpeWkhOeQhu+8jOaEn+iniei/meagt+eahOivnemAn+W6puW6lOivpeavlERvbeW/q++8jOS5n+avlE1P6YCC55So77yM5Zug5Li6TU/pnIDopoHlnKjmnIDlkI7miY3og73osIPnlKjvvIzlrp7nlKjmgKfov5jkuI3lpoJ0aW1lcgovLyDkuYvlkI7vvJrov5jmmK/ph4fnlKhNT+eahOaWueW8j+adpeWkhOeQhgooZnVuY3Rpb24gKCkgewogICAgdmFyIGZhdGhlck5hbWUgPSBuZXcgQXJyYXkoCiAgICAgICAgImMtY29udGFpbmVyIiwgLy9iYWlkdTEKICAgICAgICAicmMiLCAvL2dvb2dsZQogICAgICAgICJiX2FsZ28iLCAvL2JpbmcxCiAgICAgICAgImJfYW5zIiwgLy9iaW5nMgogICAgICAgICJ2cndyYXAiLCAvL3NvZ291MQogICAgICAgICJyYiIsLy9zb2dvdTIKICAgICAgICAicmVzLWxpc3QiLy9zby0zNjAKICAgICk7Ly8gRmF2aWNvbuaUvuWcqHh45L2N572uCiAgICB2YXIgaXNSZWRpcmVjdEVuYWJsZSA9IHRydWU7CiAgICB2YXIgaXNBZHNFbmFibGUgPSB0cnVlOwogICAgdmFyIEFkc1N0eWxlTW9kZSA9IDE7Ly8gMC3kuI3luKZjc3PvvJsxLeWNleWIl+mdoOW3pu+8mzIt5Y2V5YiX5bGF5Lit77ybMy3lj4zliJflsYXkuK0KICAgIHZhciBpc0Zhdmljb25FbmFibGUgPSB0cnVlOwogICAgdmFyIGlzQ291bnRlckVuYWJsZSA9IGZhbHNlOwogICAgdmFyIGlzQUxpbmVFbmFibGUgPSBmYWxzZTsKICAgIExvYWRTZXR0aW5nKCk7IC8vIOivu+WPluS4quS6uuiuvue9ruS/oeaBrwogICAgdmFyIFN0eXBlX05vcm1hbDsgLy8g5Y676YeN5a6a5ZCR55qE6YCJ5oupCiAgICB2YXIgRnR5cGU7IC8vIGZhdmljb27nmoTpgInmi6kKICAgIHZhciBDdHlwZTsgLy8gQ291bnRlcueahOmAieaLqQogICAgdmFyIFNpdGVUeXBlSUQ7IC8vIOagh+iusOW9k+WJjeaYr+WTquS4quermeeCuVvnmb7luqY9MTvmkJzni5c9MjvosLfmrYw9Mzvlv4XlupQ9NDvnn6XkuY49NTvlhbbku5Y9Nl0KICAgIHZhciBTaXRlVHlwZT17CiAgICAgICAgQkFJRFU6MSwKICAgICAgICBTT0dPVToyLAogICAgICAgIFNPOjMsCiAgICAgICAgR09PR0xFOjQsCiAgICAgICAgQklORzo1LAogICAgICAgIFpISUhVOjYsCiAgICAgICAgT1RIRVJTOjcsCiAgICB9OwoKICAgIHZhciBBQ01PID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93Lk1vek11dGF0aW9uT2JzZXJ2ZXI7CiAgICB2YXIgb3B0aW9uID0geydjaGlsZExpc3QnOiB0cnVlLCAnc3VidHJlZSc6IHRydWV9OwogICAgdmFyIG9ic2VydmVyID0gbmV3IEFDTU8oZnVuY3Rpb24gKHJlY29yZHMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBTaG93U2V0dGluZygpOwogICAgICAgICAgICBBQ0hhbmRsZSgpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB9CiAgICB9KTsKICAgIHRyeXsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmsqHmnIlTdXBlclByZWxvYWTnmoTor53pgqPkuYjlsLHkvJroh6rliqjosIPnlKjov5nkuKoKICAgICAgICAgICAgICAgIFNob3dTZXR0aW5nKCk7CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0sIGZhbHNlKTsKICAgIH1jYXRjaCAoZSl7fQogICAgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigid3d3LmJhaWR1LmNvbSIpID4gLTEpIHsKICAgICAgICBTaXRlVHlwZUlEID0gU2l0ZVR5cGUuQkFJRFU7CiAgICAgICAgU3R5cGVfTm9ybWFsID0gImgzLnQ+YSwgI3Jlc3VsdHMgLmMtY29udGFpbmVyPi5jLWJsb2NrYSI7IC8vUEMsbW9iaWxlCiAgICAgICAgRnR5cGUgPSAiLnJlc3VsdC1vcCwgLmMtc2hvd3VybCI7CiAgICAgICAgQ3R5cGUgPSAiI2NvbnRlbnRfbGVmdD5kaXZbc3JjaWRdICpbY2xhc3N+PXRdLFtjbGFzc349b3BfYmVzdF9hbnN3ZXJfcXVlc3Rpb25dIjsKICAgICAgICBzdGFydFNlbGVjdCgiI3dyYXBwZXIsI3BhZ2UtYmQiLCAiI3dyYXBwZXIsI3BhZ2UtYmQiLCBvcHRpb24pOwogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoInNvZ291IikgPiAtMSkgewogICAgICAgIFNpdGVUeXBlSUQgPSBTaXRlVHlwZS5TT0dPVTsKICAgICAgICBTdHlwZV9Ob3JtYWwgPSAiaDMucHQ+YSwgaDMudnJUaXRsZT5hIjsKICAgICAgICBGdHlwZSA9ICJjaXRlW2lkKj0nY2FjaGVyZXN1bHRfaW5mb18nXSI7CiAgICAgICAgQ3R5cGUgPSAiLnJlc3VsdHM+ZGl2IjsKICAgICAgICBzdGFydFNlbGVjdCgiYm9keSIsICJib2R5Iiwgb3B0aW9uKTsKICAgIH0gIGVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigic28uY29tIikgPiAtMSkgewogICAgICAgIFNpdGVUeXBlSUQgPSBTaXRlVHlwZS5TTzsKICAgICAgICBTdHlwZV9Ob3JtYWwgPSAiLnJlcy1saXN0IGgzPmEiOwogICAgICAgIEZ0eXBlID0gIi5yZXMtbGlua2luZm8gY2l0ZSI7CiAgICAgICAgQ3R5cGUgPSAiLnJlc3VsdHM+ZGl2IjsKICAgICAgICBzdGFydFNlbGVjdCgiYm9keSIsICJib2R5Iiwgb3B0aW9uKTsKICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJnb29nbGUiKSA+IC0xKSB7CiAgICAgICAgU2l0ZVR5cGVJRCA9IFNpdGVUeXBlLkdPT0dMRTsKICAgICAgICBGdHlwZSA9ICIuX1JtIjsKICAgICAgICBDdHlwZSA9ICIuc3JnPmRpdltjbGFzc349Z10gKltjbGFzc349cl0sLl95RT5kaXZbY2xhc3N+PV9ra10iOwogICAgICAgIHN0YXJ0U2VsZWN0KCJib2R5IiwgImJvZHkiLCBvcHRpb24pOwogICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoImJpbmciKSA+IC0xKSB7CiAgICAgICAgU2l0ZVR5cGVJRCA9IFNpdGVUeXBlLkJJTkc7CiAgICAgICAgRnR5cGUgPSAiLmJfYXR0cmlidXRpb24+Y2l0ZSI7CiAgICAgICAgQ3R5cGUgPSAiI2JfcmVzdWx0cz5saVtjbGFzc349Yl9hbnNdLCNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYWxnb10sI2JfcmVzdWx0cz5saVtjbGFzc349Yl9hbGdvXSI7CiAgICAgICAgc3RhcnRTZWxlY3QoImJvZHkiLCAiYm9keSIsIG9wdGlvbik7CiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiemhpaHUuY29tIikgPiAtMSkgewogICAgICAgIFNpdGVUeXBlSUQgPSBTaXRlVHlwZS5aSElIVTsKICAgICAgICBzdGFydFNlbGVjdCgiLkNhcmQgLkxpc3QiLCAiLkNhcmQgLkxpc3QiLCBvcHRpb24pOwogICAgfSBlbHNlIHsKICAgICAgICBTaXRlVHlwZUlEID0gU2l0ZVR5cGUuT1RIRVJTOwogICAgICAgIEFDX2FkZFN0eWxlKCIud29yZC1yZXBsYWNle2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9Iik7CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCdBQy3ph43lrprlkJHohJrmnKzorr7nva4nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNvbnRlbnQiKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIH0pOwogICAgQUNfYWRkU3R5bGUoCiAgICAgICAgIi5vcHItcmVjb21tZW5kcy1tZXJnZS1pbWd0ZXh0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7fSIgKyAvLyDnp7vpmaTnmb7luqbmtY/op4jlmajmjqjlub8KICAgICAgICAiLnJlc190b3BfYmFubmVye2Rpc3BsYXk6bm9uZX0iIC8vIOenu+mZpOWPr+iDveeahOeZvuW6pkhUVFBT5Yqr5oyB5pi+56S66Zeu6aKYCiAgICApOwogICAgaWYoIWlzQUxpbmVFbmFibGUpewogICAgICAgIEFDX2FkZFN0eWxlKCJhe3RleHQtZGVjb3JhdGlvbjpub25lfSIpOy8vIOenu+mZpOi/meS6m+S4quS4i+WIkue6vwogICAgfQogICAgZnVuY3Rpb24gQUNfYWRkU3R5bGUoY3NzLCBjbGFzc05hbWUpewogICAgICAgIHZhciB0b3V0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYoZG9jdW1lbnQuYm9keSAhPSBudWxsKXsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodG91dCk7CiAgICAgICAgICAgICAgICB0cnl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIrY2xhc3NOYW1lKS5yZW1vdmUoKTt9Y2F0Y2ggKGUpe307CiAgICAgICAgICAgICAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgICAgICAgICBpZihjbGFzc05hbWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICBjc3NOb2RlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgICAgICAgICAgIGNzc05vZGUuaW5uZXJIVE1MID0gY3NzOwogICAgICAgICAgICAgICAgdHJ5e2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7fWNhdGNoIChlKXtjb25zb2xlLmxvZyhlLm1lc3NhZ2UpO30KICAgICAgICAgICAgfQogICAgICAgIH0sIDIwMCk7CiAgICB9CiAgICBmdW5jdGlvbiBzdGFydFNlbGVjdChjaGVja05vZGUsIHNlbGVjdG9yLCBvcHRpb24pIHsKICAgICAgICB2YXIgdHQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNoZWNrTm9kZSkpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodHQpOwogICAgICAgICAgICAgICAgLyoqKuacgOWQjuW/hemhu+imgeiuvue9ruWlvU1P57un57ut55uR5ZCs6aG16Z2i5pWw5o2uLS3oh6rliqjliqDovb3kuIvkuIDpobXnmoTpl67popgqKiovCiAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSwgb3B0aW9uKTsKICAgICAgICAgICAgICAgIH1jYXRjaCAoZSl7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvcHRpb24pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgMjAwKTsKICAgIH0KICAgIGZ1bmN0aW9uIEFDSGFuZGxlKCkgewogICAgICAgIEluc2VydFNldHRpbmdNZW51KCk7CiAgICAgICAgaWYgKGlzUmVkaXJlY3RFbmFibGUpIHsKICAgICAgICAgICAgaWYoU3R5cGVfTm9ybWFsICE9IG51bGwgJiYgU3R5cGVfTm9ybWFsICE9ICIiKQogICAgICAgICAgICAgICAgcmVzZXRVUkxOb3JtYWwoJChTdHlwZV9Ob3JtYWwpKTsgLy8g55m+5bqm5pCc54uX5Y676YeN5a6a5ZCRLeaZrumAmuaooeW8j+OAkOazqOaEj+S4jeiDveS4umRvY3VtZW50LnF1ZXJ5Li7jgJEKICAgICAgICAgICAgaWYoU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5HT09HTEUpCiAgICAgICAgICAgICAgICByZW1vdmVPbk1vdXNlRG93bkZ1bmMoKTsgLy8g56e76Zmkb25Nb3VzZURvd27kuovku7bvvIzosLfmrYzljrvph43lrprlkJEKICAgICAgICAgICAgaWYoU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5aSElIVSkKICAgICAgICAgICAgICAgIHJlbW92ZUxpbmtUYXJnZXQoKTsgLy8g56e76Zmk55+l5LmO55qE6YeN5a6a5ZCR6Zeu6aKYCiAgICAgICAgICAgIHRyeXskKCIucmVzX3RvcF9iYW5uZXIiKS5yZW1vdmUoKTt9Y2F0Y2ggKGUpe30gLy8g56e76Zmk55m+5bqm5Y+v6IO95pi+56S655qE5Yqr5oyBCiAgICAgICAgICAgIHRyeXskKCJib2R5Pi5yZXN1bHQtb3AiKS5yZW1vdmUoKTt9Y2F0Y2ggKGUpe30gLy8g56e76Zmk5Y+v6IO95Ye6546w55qE6I6r5ZCN5om+5LiN5Yiw5L2N572u55qE5YWo5bGP5o6o6I2QCiAgICAgICAgICAgIHRyeXskKCIuYy1jb250YWluZXIgL2RlZXAvIC5jLWNvbnRhaW5lciIpLnJlbW92ZSgpO31jYXRjaCAoZSl7fSAvLyDnp7vpmaTnmb7luqbnmoTmgbblv4NTaGFkb3cgRE9N77yIU2hhZG93biBSb29077yJCiAgICAgICAgfQogICAgICAgIGlmIChpc0Zhdmljb25FbmFibGUpIHsKICAgICAgICAgICAgYWRkRmF2aWNvbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEZ0eXBlKSk7IC8vIOa3u+WKoEZhdmljb27mmL7npLoKICAgICAgICB9CiAgICAgICAgaWYgKGlzQ291bnRlckVuYWJsZSkgewogICAgICAgICAgICBhZGRDb3VudGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQ3R5cGUpKTsKICAgICAgICB9CiAgICAgICAgaWYgKGlzQWRzRW5hYmxlKSB7CiAgICAgICAgICAgIEZTQmFpZHUoKTsKICAgICAgICAgICAgcmVtb3ZlQURfYmFpZHVfc29nb3UoKTsgLy8g56e76Zmk55m+5bqm5bm/5ZGKCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICQoImlucHV0W25hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGUnXSIpLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7CiAgICAgICAgfQogICAgfQogICAgaWYgKGlzQWRzRW5hYmxlKXsKICAgICAgICBGU0JhaWR1KCk7IC8vIOa3u+WKoOiuvue9rumhuS3ljZXlj4zliJfmmL7npLoKICAgIH0KICAgIGZ1bmN0aW9uIEFDdG9nZ2xlU2V0dGluZ0Rpc3BsYXkoKSB7CiAgICAgICAgLy8g5pi+56S677yf6ZqQ6JeP6K6+572u55WM6Z2iCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGVudCIpLnN0eWxlLmRpc3BsYXkgPT0gJ2Jsb2NrJykKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNvbnRlbnQiKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB9LCAxMDApOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGZ1bmN0aW9uIFNob3dTZXR0aW5nKCkgewogICAgICAgIC8vIOWmguaenOS4jeWtmOWcqOeahOivne+8jOmCo+S5iOiHquW3seWIm+W7uuS4gOS4qi1jb3B5IGZyb20gc3VwZXJQcmVsb2FkCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250YWluZXIiKSA9PSBudWxsKSB7CiAgICAgICAgICAgIEFDX2FkZFN0eWxlKCcjc3AtYWMtY29udGFpbmVye3otaW5kZXg6OTk5OTk5IWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnQhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6d2hpdGU7fSNzcC1hYy1jb250YWluZXIgKntmb250LXNpemU6MTNweCFpbXBvcnRhbnQ7Y29sb3I6YmxhY2shaW1wb3J0YW50O2Zsb2F0Om5vbmUhaW1wb3J0YW50O30jc3AtYWMtbWFpbi1oZWFke3Bvc2l0aW9uOnJlbGF0aXZlIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt9I3NwLWFjLXNwYW4taW5mb3twb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7cmlnaHQ6MXB4IWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7Zm9udC1zaXplOjEwcHghaW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEwcHghaW1wb3J0YW50O2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTppdGFsaWMhaW1wb3J0YW50O2NvbG9yOiM1YTVhNWEhaW1wb3J0YW50O3RleHQtc2hhZG93OndoaXRlIDBweCAxcHggMXB4IWltcG9ydGFudDt9I3NwLWFjLWNvbnRhaW5lciBpbnB1dHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGUhaW1wb3J0YW50O2Rpc3BsYXk6aW5saW5lLWJsb2NrIWltcG9ydGFudDtvdXRsaW5lOm5vbmUhaW1wb3J0YW50O2hlaWdodDphdXRvICFpbXBvcnRhbnQ7cGFkZGluZzowcHggIWltcG9ydGFudDttYXJnaW4tYm90dG9tOjBweCAhaW1wb3J0YW50O21hcmdpbi10b3A6IDBweCAhaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIGlucHV0W3R5cGU9Im51bWJlciJde3dpZHRoOjUwcHghaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdCFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgaW5wdXRbdHlwZT0iY2hlY2tib3giXXtib3JkZXI6MXB4IHNvbGlkICNCNEI0QjQhaW1wb3J0YW50O3BhZGRpbmc6MXB4IWltcG9ydGFudDttYXJnaW46M3B4IWltcG9ydGFudDt3aWR0aDoxM3B4IWltcG9ydGFudDtoZWlnaHQ6MTNweCFpbXBvcnRhbnQ7YmFja2dyb3VuZDpub25lIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7dmlzaWJpbGl0eTp2aXNpYmxlICFpbXBvcnRhbnQ7cG9zaXRpb246c3RhdGljICFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgaW5wdXRbdHlwZT0iYnV0dG9uIl17Ym9yZGVyOjFweCBzb2xpZCAjY2NjIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlciFpbXBvcnRhbnQ7YmFja2dyb3VuZDpub25lIWltcG9ydGFudDt3aWR0aDphdXRvIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgbGl7bGlzdC1zdHlsZTpub25lIWltcG9ydGFudDttYXJnaW46M3B4IDAhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtmbG9hdDpub25lIWltcG9ydGFudDt9I3NwLWFjLWNvbnRhaW5lciBmaWVsZHNldHtib3JkZXI6MnB4IGdyb292ZSAjY2NjIWltcG9ydGFudDstbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7cGFkZGluZzo0cHggOXB4IDZweCA5cHghaW1wb3J0YW50O21hcmdpbjoycHghaW1wb3J0YW50O2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50O3dpZHRoOmF1dG8haW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDt9I3NwLWFjLWNvbnRhaW5lciBsZWdlbmR7bGluZS1oZWlnaHQ6MjBweCAhaW1wb3J0YW50O21hcmdpbi1ib3R0b206MHB4ICFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgZmllbGRzZXQ+dWx7cGFkZGluZzowIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7fSNzcC1hYy1jb250YWluZXIgdWwjc3AtYWMtYV91c2VpZnJhbWUtZXh0ZW5ke3BhZGRpbmctbGVmdDo0MHB4IWltcG9ydGFudDt9I3NwLWFjLXJlY3R7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O2Zsb2F0OnJpZ2h0IWltcG9ydGFudDtoZWlnaHQ6MTBweCFpbXBvcnRhbnQ7d2lkdGg6MTBweCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7LW1vei1ib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgd2hpdGUhaW1wb3J0YW50Oy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDVweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwIDAgM3B4IHJnYmEoMCwwLDAsMC44KSFpbXBvcnRhbnQ7LW1vei1ib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDAgMCAzcHggcmdiYSgwLDAsMCwwLjgpIWltcG9ydGFudDtib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDAgMCAzcHggcmdiYSgwLDAsMCwwLjgpIWltcG9ydGFudDtvcGFjaXR5OjAuOCFpbXBvcnRhbnQ7fSNzcC1hYy1kb3QsI3NwLWFjLWN1ci1tb2Rle3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt6LWluZGV4Ojk5OTkhaW1wb3J0YW50O3dpZHRoOjVweCFpbXBvcnRhbnQ7aGVpZ2h0OjVweCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDstbW96LWJvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyOjFweCBzb2xpZCB3aGl0ZSFpbXBvcnRhbnQ7b3BhY2l0eToxIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuOSkhaW1wb3J0YW50Oy1tb3otYm94LXNoYWRvdzppbnNldCAwIC0ycHggMXB4IHJnYmEoMCwwLDAsMC4zKSxpbnNldCAwIDJweCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDBweCAxcHggMnB4IHJnYmEoMCwwLDAsMC45KSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzppbnNldCAwIC0ycHggMXB4IHJnYmEoMCwwLDAsMC4zKSxpbnNldCAwIDJweCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDBweCAxcHggMnB4IHJnYmEoMCwwLDAsMC45KSFpbXBvcnRhbnQ7fSNzcC1hYy1kb3R7cmlnaHQ6LTNweCFpbXBvcnRhbnQ7dG9wOi0zcHghaW1wb3J0YW50O30jc3AtYWMtY3VyLW1vZGV7bGVmdDotM3B4IWltcG9ydGFudDt0b3A6LTNweCFpbXBvcnRhbnQ7d2lkdGg6NnB4IWltcG9ydGFudDtoZWlnaHQ6NnB4IWltcG9ydGFudDt9I3NwLWFjLWNvbnRlbnR7cGFkZGluZzowIWltcG9ydGFudDttYXJnaW46NXB4IDVweCAwIDAhaW1wb3J0YW50Oy1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICNBMEEwQTAhaW1wb3J0YW50Oy13ZWJraXQtYm94LXNoYWRvdzotMnB4IDJweCA1cHggcmdiYSgwLDAsMCwwLjMpIWltcG9ydGFudDstbW96LWJveC1zaGFkb3c6LTJweCAycHggNXB4IHJnYmEoMCwwLDAsMC4zKSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzotMnB4IDJweCA1cHggcmdiYSgwLDAsMCwwLjMpIWltcG9ydGFudDt9I3NwLWFjLW1haW57cGFkZGluZzo1cHghaW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgd2hpdGUhaW1wb3J0YW50Oy1tb3otYm9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6M3B4IWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNGMkYyRjchaW1wb3J0YW50O2JhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNGQ0ZDRkMsI0YyRjJGNyAxMDAlKSFpbXBvcnRhbnQ7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhciwwIDAsMCAxMDAlLGZyb20oI0ZDRkNGQyksdG8oI0YyRjJGNykpIWltcG9ydGFudDt9I3NwLWFjLWZvb3R7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7bWluLWhlaWdodDoyMHB4IWltcG9ydGFudDt9I3NwLWFjLXNhdmVidXR0b257cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3RvcDowIWltcG9ydGFudDtyaWdodDoycHghaW1wb3J0YW50O30jc3AtYWMtY29udGFpbmVyIC5zcC1hYy1zcGFuYnV0dG9ue2JvcmRlcjoxcHggc29saWQgI2NjYyFpbXBvcnRhbnQ7LW1vei1ib3JkZXItcmFkaXVzOjNweCFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czozcHghaW1wb3J0YW50O3BhZGRpbmc6MnB4IDNweCFpbXBvcnRhbnQ7Y3Vyc29yOnBvaW50ZXIhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6I0Y5RjlGOSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMTBweCA1cHggd2hpdGUhaW1wb3J0YW50Oy1tb3otYm94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlIWltcG9ydGFudDtib3gtc2hhZG93Omluc2V0IDAgMTBweCA1cHggd2hpdGUhaW1wb3J0YW50O30nKTsKICAgICAgICAgICAgdmFyIENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBDb250YWluZXIuaWQgPSAic3AtYWMtY29udGFpbmVyIjsKICAgICAgICAgICAgQ29udGFpbmVyLnN0eWxlID0gInBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50OyB0b3A6IDEwJTtyaWdodDogNyU7IjsKICAgICAgICAgICAgQ29udGFpbmVyLmlubmVySFRNTCA9CiAgICAgICAgICAgICAgICAiICAgIDxkaXYgaWQ9J3NwLWFjLWNvbnRlbnQnIHN0eWxlPSdkaXNwbGF5OiBub25lOyc+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgIDxkaXYgaWQ9J3NwLWFjLW1haW4nPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICA8ZmllbGRzZXQgaWQ9J3NwLWFjLWF1dG9wYWdlci1maWVsZCcgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7Jz5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDxsZWdlbmQgdGl0bGU9J+iHquWKqOe/u+mhteaooeW8j+eahOebuOWFs+iuvue9ricgc3R5bGU9J2NvbG9yOiByZWQgIWltcG9ydGFudDsnPkFDLemHjeWumuWQkeiuvue9rjwvbGVnZW5kPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPHVsPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3ph43lrprlkJEnIGlkPSdzcC1hYy1yZWRpcmVjdCcgbmFtZT0nc3AtYWMtYV9zZXBhcmF0b3InIHRpdGxlPSdBQy3ph43lrprlkJEnIHR5cGU9J2NoZWNrYm94JyAiICsgKGlzUmVkaXJlY3RFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuS4u+WKn+iDvS3ph43lrprlkJHlip/og708L2xhYmVsPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8bGFiZWw+PGlucHV0IHRpdGxlPSfph43lrprlkJEt5pmu6YCa5qih5byPJyBuYW1lPSdzcC1hYy1hX2ZvcmNlX3JlZGlNb2QnIHZhbHVlPScwJyB0eXBlPSdyYWRpbycgY2hlY2tlZD7ph43lrprlkJEt5pmu6YCa5qih5byPPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMt5Y675bm/5ZGKJyBpZD0nc3AtYWMtYWRzJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChpc0Fkc0VuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgMS3ljrvlub/lkYrlip/og708L2xhYmVsPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGxhYmVsPjxpbnB1dCB0aXRsZT0n5Y675bm/5ZGKLeWOn+Wni+aooeW8jycgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZScgdmFsdWU9JzAnIHR5cGU9J3JhZGlvJyAiICsgKEFkc1N0eWxlTW9kZT09MCA/ICdjaGVja2VkJyA6ICcnKSArICI+5Y675bm/5ZGKLeWOn+Wni+aooeW8jzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHRpdGxlPSfljrvlub/lkYot5Y2V5YiX5pmu6YCaJyBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlJyB2YWx1ZT0nMScgIHR5cGU9J3JhZGlvJyAiICsgKEFkc1N0eWxlTW9kZT09MSA/ICdjaGVja2VkJyA6ICcnKSArICI+5Y675bm/5ZGKLeWNleWIl+aZrumAmjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8QlIvPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxsYWJlbD48aW5wdXQgdGl0bGU9J+WOu+W5v+WRii3ljZXliJflsYXkuK0nIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGUnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQWRzU3R5bGVNb2RlPT0yID8gJ2NoZWNrZWQnIDogJycpICsgIj7ljrvlub/lkYot5Y2V5YiX5bGF5LitPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdGl0bGU9J+WOu+W5v+WRii3lj4zliJflsYXkuK0nIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGUnIHZhbHVlPSczJyAgdHlwZT0ncmFkaW8nICIgKyAoQWRzU3R5bGVNb2RlPT0zID8gJ2NoZWNrZWQnIDogJycpICsgIj7ljrvlub/lkYot5Y+M5YiX5bGF5LitPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMt5re75YqgRmF2aWNvbicgaWQ9J3NwLWFjLWZhdmljb24nIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKGlzRmF2aWNvbkVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgMi1GYXZpY29u5Yqf6IO9PC9sYWJlbD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8L2xpPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mt7vliqDnvJblj7cnIGlkPSdzcC1hYy1jb3VudGVyJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChpc0NvdW50ZXJFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumZhOWKoDMt57yW5Y+35Yqf6IO9PC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mloflrZfkuIvliJLnur8nIGlkPSdzcC1hYy1hbGluZScgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoaXNBTGluZUVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgNC3kuIvliJLnur88L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL3NoYW5nLnFxLmNvbS93cGEvcXVud3BhP2lka2V5PTViYmZlOWRlMWU4MWEwOTMwYmQwNTNmMzE1N2FhZDJkYmIzZmE3Yjk5MWFjOWYyMmVhOWYyZTJmNTNlZmRlODAnIHN0eWxlPSdjb2xvcjpyZWQgIWltcG9ydGFudDsnPuiBlOezu+S9nOiAhSzmj5Dlu7rorq4s5a+75rGC5biu5YqpLOiEmuacrOWumuWItueCueaIkTwvYT48L2xpPiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDwvdWw+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8c3BhbiBpZD0nc3AtYWMtY2FuY2VsYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbicgdGl0bGU9J+WPlua2iCcgc3R5bGU9J3Bvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O2Zsb2F0OiBsZWZ0ICFpbXBvcnRhbnQ7Jz7lj5bmtog8L3NwYW4+XG4iICsKICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8c3BhbiBpZD0nc3AtYWMtc2F2ZWJ1dHRvbicgY2xhc3M9J3NwLWFjLXNwYW5idXR0b24nIHRpdGxlPSfkv53lrZjorr7nva4nIHN0eWxlPSdwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtmbG9hdDogcmlnaHQgIWltcG9ydGFudDsnPuS/neWtmDwvc3Bhbj5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgPC9maWVsZHNldD5cbiIgKwogICAgICAgICAgICAgICAgIiAgICAgICAgPC9kaXY+XG4iICsKICAgICAgICAgICAgICAgICIgICAgPC9kaXY+IjsKICAgICAgICAgICAgdHJ5e2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoQ29udGFpbmVyKTt9Y2F0Y2ggKGUpe30KICAgICAgICB9CiAgICAgICAgdmFyIGFsbE5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmZhdmljb25ULCAuQ291bnRlclQiKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChhbGxOb2Rlc1tpXS5nZXRBdHRyaWJ1dGUoJ2FjQ2xpY2snKSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBhbGxOb2Rlc1tpXS5zZXRBdHRyaWJ1dGUoJ2FjQ2xpY2snLCAnMScpOwogICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgIGFsbE5vZGVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFDdG9nZ2xlU2V0dGluZ0Rpc3BsYXkoKTsKICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgIH1jYXRjaCAoZSl7fQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRyeXsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLXNhdmVidXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAvLyDkv53lrZjlip/og70KICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJpc1JlZGlyZWN0RW5hYmxlIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLXJlZGlyZWN0IikuY2hlY2tlZCk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiaXNBZHNFbmFibGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtYWRzIikuY2hlY2tlZCk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiQWRzU3R5bGVNb2RlIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3AtYWMtYV9mb3JjZV9zdHlsZSJdOmNoZWNrZWQnKS52YWx1ZSk7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiaXNGYXZpY29uRW5hYmxlIiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWZhdmljb24iKS5jaGVja2VkKTsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJpc0NvdW50ZXJFbmFibGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY291bnRlciIpLmNoZWNrZWQpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImlzQUxpbmVFbmFibGUiLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtYWxpbmUiKS5jaGVja2VkKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0sIDQwMCk7CiAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICB9Y2F0Y2ggKGUpe30KICAgICAgICB0cnl7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jYW5jZWxidXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGVudCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICB9Y2F0Y2ggKGUpe30KCiAgICB9CgogICAgZnVuY3Rpb24gTG9hZFNldHRpbmcoKSB7CiAgICAgICAgaXNSZWRpcmVjdEVuYWJsZSA9IEdNX2dldFZhbHVlKCJpc1JlZGlyZWN0RW5hYmxlIiwgdHJ1ZSk7CiAgICAgICAgaXNBZHNFbmFibGUgPSBHTV9nZXRWYWx1ZSgiaXNBZHNFbmFibGUiLCB0cnVlKTsKICAgICAgICBBZHNTdHlsZU1vZGUgPSBHTV9nZXRWYWx1ZSgiQWRzU3R5bGVNb2RlIiwgMCk7CiAgICAgICAgaXNGYXZpY29uRW5hYmxlID0gR01fZ2V0VmFsdWUoImlzRmF2aWNvbkVuYWJsZSIsIHRydWUpOwogICAgICAgIGlzQ291bnRlckVuYWJsZSA9IEdNX2dldFZhbHVlKCJpc0NvdW50ZXJFbmFibGUiLCBmYWxzZSk7CiAgICAgICAgaXNBTGluZUVuYWJsZSA9IEdNX2dldFZhbHVlKCJpc0FMaW5lRW5hYmxlIiwgZmFsc2UpOwogICAgfQogICAgZnVuY3Rpb24gcmVtb3ZlT25Nb3VzZURvd25GdW5jKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5nIC5yYyAuciBhIikuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgICAgICBvbmUuc2V0QXR0cmlidXRlKCJvbm1vdXNlZG93biIsICIiKTsgLy8g6LC35q2M5Y676YeN5a6a5ZCR5bmy5omwCiAgICAgICAgICAgICAgICBvbmUuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCAiX2JsYW5rIik7IC8vIOiwt+atjOmTvuaOpeaWsOagh+etvuaJk+W8gAogICAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gcmVtb3ZlTGlua1RhcmdldCgpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygi56e76Zmk55+l5LmO6YeN5a6a5ZCR6Zeu6aKYIik7CiAgICAgICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLkNhcmQgLkxpc3QgLlJpY2hDb250ZW50IGFbaHJlZio9J2h0dHBzOi8vbGluay56aGlodS5jb20vP3RhcmdldCddIik7CiAgICAgICAgZm9yKHZhciBpPTA7IGk8bm9kZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG5vZGVzW2ldLmhyZWYucmVwbGFjZSgiaHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PSIsICIiKSk7CiAgICAgICAgICAgIG5vZGVzW2ldLmhyZWYgPSB1cmw7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gcmVzZXRVUkxOb3JtYWwobGlzdCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAvLyDmraTmlrnms5XmmK/lvILmraXvvIzmlYXlnKjnu5PmnZ/nmoTml7blgJnkvb/nlKhp5Lya5Ye66Zeu6aKYLeS4pemHjSEKICAgICAgICAgICAgLy8g6YeH55So6Zet5YyF55qE5pa55rOV5p2l6L+b6KGM5pWw5o2u55qE5Lyg6YCSCiAgICAgICAgICAgIHZhciBjdXJOb2RlID0gbGlzdFtpXTsKICAgICAgICAgICAgdmFyIGN1cmhyZWYgPSBjdXJOb2RlLmhyZWY7CiAgICAgICAgICAgIGlmIChsaXN0W2ldICE9IG51bGwgJiYgbGlzdFtpXS5nZXRBdHRyaWJ1dGUoImFjX3JlZGlyZWN0U3RhdHVzIikgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGlzdFtpXS5zZXRBdHRyaWJ1dGUoImFjX3JlZGlyZWN0U3RhdHVzIiwgIjAiKTsKICAgICAgICAgICAgICAgIGlmIChjdXJocmVmLmluZGV4T2YoInd3dy5iYWlkdS5jb20vbGluayIpID4gLTEgfHwgY3VyaHJlZi5pbmRleE9mKCJtLmJhaWR1LmNvbS9mcm9tIikgPiAtMSB8fCBjdXJocmVmLmluZGV4T2YoInd3dy5zb2dvdS5jb20vbGluayIpID4gLTEgfHwgY3VyaHJlZi5pbmRleE9mKCJzby5jb20vbGluayIpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKGNfY3Vybm9kZSxjX2N1cmhyZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ21SZXF1ZXN0Tm9kZSA9IEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNfY3VyaHJlZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAidGV4dC9odG1sIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnJlYWR5c3RhdGVjaGFuZ2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZmluYWxVcmwgIT0gY19jdXJocmVmICYmIHJlc3BvbnNlLmZpbmFsVXJsIT0iIiAmJiByZXNwb25zZS5maW5hbFVybCAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0VVJMID0gcmVzcG9uc2UuZmluYWxVcmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0VVJMICE9IG51bGwgJiYgcmVzdWx0VVJMICE9ICIiICYmIChyZXN1bHRVUkwuaW5kZXhPZigid3d3LmJhaWR1LmNvbS9saW5rIikgPCAwICYmIHJlc3VsdFVSTC5pbmRleE9mKCJtLmJhaWR1LmNvbS9mcm9tIikgPCAwKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoImFbaHJlZio9JyIrY19jdXJocmVmKyInXSIpLmF0dHIoImhyZWYiLCByZXN1bHRVUkwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCJhW2hyZWYqPSciK2NfY3VyaHJlZisiJ10iKS5hdHRyKCJhY19yZWRpcmVjdFN0YXR1cyIsICIyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdtUmVxdWVzdE5vZGUuYWJvcnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWFsUmVkaXJlY3QoZ21SZXF1ZXN0Tm9kZSwgY19jdXJocmVmLCByZXNwb25zZS5yZXNwb25zZVRleHQsICJsb2NhdGlvbi5yZXBsYWNlXFwoXCIoW15cIl0rKVwiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPR09VKSB7IC8v5aaC5p6c5piv5pCc54uX55qE57uT5p6cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWFsUmVkaXJlY3QoZ21SZXF1ZXN0Tm9kZSwgY19jdXJocmVmLCByZXNwb25zZS5yZXNwb25zZVRleHQsICJVUkw9JyhbXiddKyknIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihTaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlYWxSZWRpcmVjdChnbVJlcXVlc3ROb2RlLCBjX2N1cmhyZWYsIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwgIlVSTD0nKFteJ10rKSciKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgIH0pKGN1ck5vZGUsIGN1cmhyZWYpOyAvL+S8oOmAkuaXp+eahOe9keWdgOi/h+WOu++8jOivu+S9nGNfY3VyaHJlZgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gRGVhbFJlZGlyZWN0KHJlcXVlc3QsIGN1ck5vZGVIcmVmLCByZXNwVGV4dCwgUmVnVGV4dCl7CiAgICAgICAgaWYocmVzcFRleHQgPT0gbnVsbCB8fCB0eXBlb2YocmVzcFRleHQpPT0idW5kZWZpbmVkIikgcmV0dXJuOwogICAgICAgIHZhciByZXN1bHRVUkwgPSAiIjsKICAgICAgICB2YXIgcmVzdWx0UmVzcG9uc2VVcmwgPSBSZWdfR2V0KHJlc3BUZXh0LCBSZWdUZXh0KTsKICAgICAgICBpZiAocmVzdWx0UmVzcG9uc2VVcmwgIT0gbnVsbCl7CiAgICAgICAgICAgIHJlc3VsdFVSTCA9IHJlc3VsdFJlc3BvbnNlVXJsOwogICAgICAgIH0KICAgICAgICBpZihyZXN1bHRVUkwgIT0gbnVsbCAmJiByZXN1bHRVUkwgIT0gIiIpewogICAgICAgICAgICAkKCJhW2hyZWYqPSciK2N1ck5vZGVIcmVmKyInXSIpLmF0dHIoImhyZWYiLCByZXN1bHRVUkwpOwogICAgICAgICAgICAkKCJhW2hyZWYqPSciK2N1ck5vZGVIcmVmKyInXSIpLmF0dHIoImFjX3JlZGlyZWN0U3RhdHVzIiwgIjIiKTsKICAgICAgICAgICAgcmVxdWVzdC5hYm9ydCgpOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIFJlZ19HZXQoSFRNTCwgcmVnKSB7CiAgICAgICAgdmFyIFJlZ0UgPSBuZXcgUmVnRXhwKHJlZyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIFJlZ0UuZXhlYyhIVE1MKVsxXTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlQURfYmFpZHVfc29nb3UoKSB7IC8vIOenu+mZpOeZvuW6puiHquacieW5v+WRigogICAgICAgIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0IilbMF0gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdmFyIGZhdGhlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0IilbMF0uY2hpbGROb2RlczsKICAgICAgICAgICAgICAgIHZhciBsYXN0SWQgPSAwOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYXRoZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gZmF0aGVyc1tpXTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUudGFnTmFtZSA9PSAiRElWIiAmJiBjdXJyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoImRlYWxBRCIpID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gY3VycmVudE5vZGUuaWQgfHwgIiIgPT0gY3VycmVudE5vZGUuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOexs+aciUlE55qE6LKM5Ly86YO95piv5bm/5ZGKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi56e76Zmk5bm/5ZGKMSBDTEFTUz0iICsgY3VycmVudE5vZGUuY2xhc3NOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE5vZGUuaWQgPT0gImNsb25lIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUQg5pi+56S65Li6Q0xPTkXnmoTkuZ/mmK/lub/lkYoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnp7vpmaTlub/lkYoyIElEPSIgKyBjdXJyZW50Tm9kZS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGktLTsgLy8g5Yqo5oCB56e76Zmk5a+86Ie055qEaeW/hemhu+S4i+mZjQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKCJyZXN1bHQiKSAhPSAwICYmIC9eXGQrJC8udGVzdChjdXJyZW50Tm9kZS5pZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsYXNz5LiN5pivcmVzdWx0Li4u55qE77yM5bm25LiUaWTmmK/nuq/nsrnmlbDlrZfnmoQo5b6I5aSnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuenu+mZpOW5v+WRijMgSUQ9IiArIGN1cnJlbnROb2RlLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGN1cnJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5mMTM+c3BhbiIpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmlubmVySFRNTCA9PSAi5bm/5ZGKIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnp7vpmaTlub/lkYo0IElEPSIgKyBjdXJyZW50Tm9kZS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS0tOyAvLyDliqjmgIHnp7vpmaTlr7zoh7TnmoRp5b+F6aG75LiL6ZmNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuc2V0QXR0cmlidXRlKCJkZWFsQUQiLCAxKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKFNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuU09HT1UpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwcm9tb3Rpb25fYWR2X2NvbnRhaW5lciIpLnJlbW92ZSgpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNrbWFwX2J1c2luZXNzX3RpdGxlIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2ttYXBfYnVzaW5lc3NfdWwiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucnZyLW1vZGVsW3N0eWxlPSd3aWR0aDoyNTBweDsnXSIpLnN0eWxlID0gImRpc3BsYXk6bm9uZSI7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRDb3VudGVyKGNpdGVMaXN0KSB7CiAgICAgICAgdmFyIGNzc1RleHQgPSAiZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojRkQ5OTk5O2NvbG9yOiNEN0Q3RDc7Zm9udC1mYW1pbHk6J+W+rui9r+mbhem7kSc7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MjBweDtsaW5lLWhlaWdodDoyMHB4O2JvcmRlci1yYWRpdXM6NTAlO2Zsb2F0OmxlZnQ7IjsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaXRlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoY2l0ZUxpc3RbaV0uZ2V0QXR0cmlidXRlKCdzb3J0SW5kZXgnKSkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjaXRlTGlzdFtpXS5zZXRBdHRyaWJ1dGUoJ3NvcnRJbmRleCcsIGkpOwogICAgICAgICAgICAgICAgY2l0ZUxpc3RbaV0uaW5uZXIgPSBjaXRlTGlzdFtpXS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gIjxkaXYgY2xhc3M9J0NvdW50ZXJUJyBzdHlsZT0iICsgY3NzVGV4dCArICI+IiArIChpICsgMSkgKyAiPC9kaXY+IjsKICAgICAgICAgICAgICAgIGNpdGVMaXN0W2ldLmlubmVySFRNTCA9IGRpdi5pbm5lckhUTUwgKyBjaXRlTGlzdFtpXS5pbm5lcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRGYXZpY29uKGNpdGVMaXN0KSB7CiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGNpdGVMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICB2YXIgdXJsID0gcmVwbGFjZUFsbChjaXRlTGlzdFtpbmRleF0uaW5uZXJIVE1MKTsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpbmRleCsiLiIrdXJsKTsKICAgICAgICAgICAgaWYgKG51bGwgPT0gY2l0ZUxpc3RbaW5kZXhdLmdldEF0dHJpYnV0ZSgiYWNfZmF2aWNvblN0YXR1cyIpKSB7CiAgICAgICAgICAgICAgICBpZiAodXJsID09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaXoOaViOWcsOWdgO+8miIgKyBjaXRlTGlzdFtpbmRleF0uaW5uZXJIVE1MKTsKICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIi0xIik7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgY3VyTm9kZSA9IGNpdGVMaXN0W2luZGV4XTsKICAgICAgICAgICAgICAgIHZhciBmYXZpY29uVXJsID0gdXJsOwogICAgICAgICAgICAgICAgZm9yIChJSSA9IDA7IElJIDw9IDU7IElJKyspIHsKICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0luVXJsTGlzdChjdXJOb2RlLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpbmRleCsiLiIrZmF2aWNvblVybCsiLS0iK0lJKTsKICAgICAgICAgICAgICAgIGlmIChJSSA8PSA1KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEhUTUwgPSBjdXJOb2RlLmlubmVySFRNTDsKICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gdG1wSFRNTC5pbmRleE9mKCJmYXYtdXJsIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoImZhdnVybCIpCiAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJ0aXQtaWNvIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoImltZ19mYXYgcm1zX2ltZyIpCiAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJjLXRvb2wtIikKICAgICAgICAgICAgICAgICAgICAgICAgJiB0bXBIVE1MLmluZGV4T2YoInNwYW4gY2xhc3M9XCJjLWljb24gYy1pY29uLSIpOwogICAgICAgICAgICAgICAgICAgIC8v5LuW6Ieq5bex5bey57uP5YGa5LqGZmF2aWNvbuS6hgogICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5bey5pyJ5Zu+54mH77yaIiArIGZhdmljb25VcmwpOwogICAgICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIi0yIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL2h0dHBzOi8vYXBpLmJ5aS5wdy9mYXZpY29uLz91cmw9Pz8/PyDkuI3nqLPlrpoKICAgICAgICAgICAgICAgICAgICAvL2h0dHA6Ly8iK2Zhdmljb25VcmwrIi9jZG4uaWNvP2RlZmF1bHRpY29uPWh0dHA6Ly9zb3ouaW0vZmF2aWNvbi5pY28g5LiN56iz5a6aCiAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL3d3dy54dHdpbmQuY29tL2FwaS9pbmRleC5waHA/dXJsPT8/Pz8g5oyC5LqG44CC44CC44CCCiAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL3N0YXRpY3MuZG5zcG9kLmNuL3Byb3h5X2Zhdmljb24vXy9mYXZpY29uP2RvbWFpbj1zaW5hLmNuCiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlnLDlnYDkuI3mraPnoa7vvIzpgqPkuYjkuKLlvIMKICAgICAgICAgICAgICAgICAgICB2YXIgaG9zdCA9IGZhdmljb25VcmwucmVwbGFjZSgvW14uXStcLihbXi5dKylcLihbXi5dKykvLCAiJDEuJDIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTm9kZS5xdWVyeVNlbGVjdG9yKCIuZmF2aWNvblQiKSA9PSBudWxsICYmIGhvc3QubGVuZ3RoID4gMykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5jaGlsZHJlblswXTsgLy9maXJzdENoaWxk5a655piT6YGH5YiwdGV4dOWvueixoQogICAgICAgICAgICAgICAgICAgICAgICBjaXRlTGlzdFtpbmRleF0uc2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIiwgIjEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5pbnNlcnRCZWZvcmUoaW5zTm9kZSwgY3VyTm9kZS5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zTm9kZS5jbGFzc05hbWUgPSAiZmF2aWNvblQiOwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnN0eWxlID0gInZlcnRpY2FsLWFsaWduOnN1YjtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1yaWdodDo1cHgiOwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNyYyA9ICJodHRwczovL2Zhdmljb24ueWFuZGV4Lm5ldC9mYXZpY29uLyIgKyBob3N0OwogICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNldEF0dHJpYnV0ZSgiZmF2aWNvbklEIiwgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zTm9kZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zTm9kZS5uYXR1cmFsV2lkdGggPCAxNikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIuWksei0pTLvvJoiK2Zhdmljb25VcmwrIuaaguaXtuaXoOinoyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc05vZGUuc3JjID0gImh0dHBzOi8vY29kaW5nLm5ldC91L3piMjI3L3AvemJJbWcvZ2l0L3Jhdy9tYXN0ZXIvaW1nMC9pY29uLmpwZyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZXBsYWNlQWxsKHNiZWZvcmUpIHsKICAgICAgICAgICAgdmFyIHNlbmQ7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzYmVmb3JlLnNwbGl0KCctJyk7CiAgICAgICAgICAgIGlmIChTaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPR09VICYmIGxvY2F0aW9uLmhyZWYuaW5kZXhPZigic29nb3UiKSA8IDIwKSB7CiAgICAgICAgICAgICAgICAvLyAtLeaQnOeLl+S4k+eUqO+8m+WmguaenOesrOS4gOS4quaYr+S4reaWh+eahOivne+8jOWcsOWdgOWwseaYr+esrOS6jOS4qgogICAgICAgICAgICAgICAgc2JlZm9yZSA9IHJlc3VsdFsxXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZW5kID0gc2JlZm9yZS5yZXBsYWNlKC8oXC9bXi9dKnxccyopLywgIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywgIiIpLnJlcGxhY2UoL2h0dHBzPzpcL1wvL2csICIiKS5yZXBsYWNlKC88XC8/c3Ryb25nPi9nLCAiIikucmVwbGFjZSgvPFwvP2I+L2csICIiKS5yZXBsYWNlKC88Pz4/L2csICIiKS5yZXBsYWNlKC8oIHxcLykuKi9nLCAiIik7CiAgICAgICAgICAgIHJldHVybiBzZW5kOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaXNJblVybExpc3QodXJsKSB7CiAgICAgICAgICAgIHZhciBsZW5nID0gZmF0aGVyTmFtZS5sZW5ndGg7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZzsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoZmF0aGVyTmFtZVtpXSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBJbnNlcnRTZXR0aW5nTWVudSgpewogICAgICAgIGlmICgkKCIjbXl1c2VyIikubGVuZ3RoIDwgMSkgewogICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQoIiN1Iik7CiAgICAgICAgICAgICRwYXJlbnQuc3R5bGU9IndpZHRoOiAzMTlweDsiOwogICAgICAgICAgICB2YXIgJGRpdiA9ICQoIjxhIHN0eWxlPSd0ZXh0LWRlY29yYXRpb246IG5vbmU7Jz48b2wgaWQ9J215dXNlcicgc3R5bGU9J2Rpc3BsYXk6IGlubGluZS1ibG9jazsnPiIgKwogICAgICAgICAgICAgICAgIjxsaSBjbGFzcz0nbXl1c2VyY29uZmlnJyBzdHlsZT0nZGlzcGxheTogaW5saW5lLWJsb2NrO2hlaWdodDogMThweDtsaW5lLWhlaWdodDogMS41O2JhY2tncm91bmQ6ICMyODY2YmQ7Y29sb3I6ICNmZmY7Zm9udC13ZWlnaHQ6IGJvbGQ7dGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmc6IDZweDtib3JkZXItcmFkaXVzOiA1cHg7Jz7oh6rlrprkuYk8L2xpPjwvb2w+PC9hPiIpOwogICAgICAgICAgICAkZGl2LnByZXBlbmRUbygkcGFyZW50KTsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI215dXNlciAubXl1c2VyY29uZmlnIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBBQ3RvZ2dsZVNldHRpbmdEaXNwbGF5KCk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgfWNhdGNoIChlKXt9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gRlNCYWlkdSgpIHsgLy8gdGhhbmtzIGZvciBjb2RlIGZyb20g5rWu55SfQOacquathyBAcGFnZSBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMzE2NDIKICAgICAgICB2YXIgU3R5bGVNYW5nZXIgPSB7CiAgICAgICAgICAgIGltcG9ydFN0eWxlOiBmdW5jdGlvbiAoZmlsZVVybCwgdG9DbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgIGlmKCQoIi4iK3RvQ2xhc3NOYW1lKS5sZW5ndGggPiAwKSByZXR1cm47CiAgICAgICAgICAgICAgICBpZigkKCIjY29udGVudF9sZWZ0IikubGVuZ3RoIDw9IDApIHJldHVybjsKICAgICAgICAgICAgICAgIHZhciBzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7CiAgICAgICAgICAgICAgICBzc05vZGUucmVsID0gInN0eWxlc2hlZXQiOwogICAgICAgICAgICAgICAgc3NOb2RlLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICAgICAgICAgICAgc3NOb2RlLmNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lOwogICAgICAgICAgICAgICAgc3NOb2RlLm1lZGlhID0gInNjcmVlbiI7CiAgICAgICAgICAgICAgICBzc05vZGUuaHJlZiA9IGZpbGVVcmw7CiAgICAgICAgICAgICAgICB0cnl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzc05vZGUpO31jYXRjaCAoZSl7fQogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+WKoOi9veaZrumAmuagt+W8jwogICAgICAgICAgICBsb2FkQ29tbW9uU3R5bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0U3R5bGUoImh0dHBzOi8vcmVtaXguYWMuY24vQUNGaWxlL0NTUy9BQ19CYWlkdS9iYWlkdUNvbW1vblN0eWxlLmNzcyIsICJiYWlkdUNvbW1vblN0eWxlIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5Yqg6L296Ieq5a6a5LmJ6I+c5Y2V5qC35byPCiAgICAgICAgICAgIGxvYWRNeU1lbnVTdHlsZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRTdHlsZSgiaHR0cHM6Ly9yZW1peC5hYy5jbi9BQ0ZpbGUvQ1NTL0FDX0JhaWR1L2JhaWR1TXlNZW51U3R5bGUuY3NzIiwgImJhaWR1TXlNZW51U3R5bGUiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/liqDovb3ljZXpobXmoLflvI8KICAgICAgICAgICAgbG9hZE9uZVBhZ2VTdHlsZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRTdHlsZSgiaHR0cHM6Ly9yZW1peC5hYy5jbi9BQ0ZpbGUvQ1NTL0FDX0JhaWR1L2JhaWR1T25lUGFnZVN0eWxlLmNzcyIsICJiYWlkdU9uZVBhZ2VTdHlsZSIpOwogICAgICAgICAgICAgICAgJCgiI3Jlc3VsdF9sb2dvIGltZyIpLmF0dHIoInNyYyIsICJodHRwOi8vd3cxLnNpbmFpbWcuY24vbGFyZ2UvNmExNTU3OTRseTFma3gxdWh4Zno2ajIwMzkwMTJ3ZW4uanBnIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8v5Yqg6L295Y+M6aG15qC35byPCiAgICAgICAgICAgIGxvYWRUd29QYWdlU3R5bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0U3R5bGUoImh0dHBzOi8vcmVtaXguYWMuY24vQUNGaWxlL0NTUy9BQ19CYWlkdS9iYWlkdVR3b1BhZ2VTdHlsZS5jc3MiLCAiYmFpZHVUd29QYWdlU3R5bGUiKTsKICAgICAgICAgICAgICAgICQoIiNyZXN1bHRfbG9nbyBpbWciKS5hdHRyKCJzcmMiLCAiaHR0cDovL3d3MS5zaW5haW1nLmNuL2xhcmdlLzZhMTU1Nzk0bHkxZmt4MXVoeGZ6NmoyMDM5MDEyd2VuLmpwZyIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2FkRXhwYW5kT25lU3R5bGU6ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgQUNfYWRkU3R5bGUoCiAgICAgICAgICAgICAgICAgICAgIiNjb250ZW50X2xlZnQgLnJlc3VsdC1vcDpob3ZlciwjY29udGVudF9sZWZ0IC5yZXN1bHQ6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMnB4IGdyYXk7YmFja2dyb3VuZDpyZ2JhKDIzMCwyMzAsMjMwLDAuMSkhaW1wb3J0YW50O31cbiIgKwogICAgICAgICAgICAgICAgICAgICIjY29udGVudF9sZWZ0IC5yZXN1bHQsI2NvbnRlbnRfbGVmdCAucmVzdWx0LW9we3dpZHRoOjEwMCU7IG1pbi13aWR0aDo2NzBweDttYXJnaW4tYm90dG9tOjE0cHghaW1wb3J0YW50O31cbiIgKwogICAgICAgICAgICAgICAgICAgICIuYy1zcGFuMTh7d2lkdGg6NzglIWltcG9ydGFudDttaW4td2lkdGg6NTUwcHg7fVxuIiArCiAgICAgICAgICAgICAgICAgICAgIi5jLXNwYW4yNHt3aWR0aDogYXV0byFpbXBvcnRhbnQ7fSIsICJsb2FkRXhwYW5kT25lU3R5bGUiKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2FkTXlNZW51U3R5bGUoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW1wb3J0T25jZUNTUzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBDb250cm9sTWFuYWdlciA9IHsKICAgICAgICAgICAgdHdvUGFnZURpc3BsYXk6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciAkZGl2ID0gJCgiPGRpdiBpZD0nZG91YmxlJz48L2Rpdj4iKTsKICAgICAgICAgICAgICAgIHZhciAkZG91YmxlID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gbnVsbDsKICAgICAgICAgICAgICAgIHZhciAkc2VsZWN0b3IgPSBudWxsOwogICAgICAgICAgICAgICAgLy/mlofmoaPliqDovb3lrozmiJDlho3ov5DooYwKICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJCgiI2NvbnRlbnRfbGVmdD4jZG91YmxlIikubGVuZ3RoIDwgMSkgewogICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50ID0gJCgiI2NvbnRlbnRfbGVmdCIpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0b3IgPSAkKCIjY29udGVudF9sZWZ0Pi5jLWNvbnRhaW5lcjpvZGQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGRpdi5wcmVwZW5kVG8oJHBhcmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3Rvci5wcmVwZW5kVG8oJCgiI2RvdWJsZSIpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy/lhbzlrrnoh6rliqjnv7vpobXohJrmnKwKICAgICAgICAgICAgICAgICAgICBpZiAoJCgiI2NvbnRlbnRfbGVmdD4uc3Atc2VwYXJhdG9yIikubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBBQ19hZGRTdHlsZSgiI2NvbnRlbnRfbGVmdD4uc3Atc2VwYXJhdG9ye29wYWNpdHk6IDA7fSIpOwogICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50ID0gJCgiI2NvbnRlbnRfbGVmdD4uc3Atc2VwYXJhdG9yW2lzSGFuZGxlZCE9JzEnXSIpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0b3IgPSAkKCIjY29udGVudF9sZWZ0Pi5zcC1zZXBhcmF0b3JbaXNIYW5kbGVkIT0nMSddfi5jLWNvbnRhaW5lcjpvZGQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gJGRpdi5hZnRlcigkcGFyZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHBhcmVudC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hdHRyKCJpc0hhbmRsZWQiLCAiMSIpOwogICAgICAgICAgICAgICAgICAgICAgICAkc2VsZWN0b3IuYXBwZW5kVG8oJCgiI2RvdWJsZSIpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/lsYXkuK3mmL7npLoKICAgICAgICAgICAgY2VudGVyRGlzcGxheTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyICRyZXN1bHQgPSBBZHNTdHlsZU1vZGUgfHwgbnVsbDsKICAgICAgICAgICAgICAgIGlmKCRyZXN1bHQgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZEV4cGFuZE9uZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZENvbW1vblN0eWxlKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRyZXN1bHQgPT0gMikgey8v5Y2V6aG15bGF5LitCiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZEV4cGFuZE9uZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZENvbW1vblN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgU3R5bGVNYW5nZXIubG9hZE9uZVBhZ2VTdHlsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkcmVzdWx0ID09IDMpIHsgLy/lj4zpobXlsYXkuK0KICAgICAgICAgICAgICAgICAgICBTdHlsZU1hbmdlci5sb2FkQ29tbW9uU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICBTdHlsZU1hbmdlci5sb2FkVHdvUGFnZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50d29QYWdlRGlzcGxheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNlbnRlckRpc3BsYXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gbXV0YXRpb25mdW5jKCkgewogICAgICAgICAgICBpZigkKCIjbGc6dmlzaWJsZSIpLmxlbmd0aCA+IDApeyAvLyDlpKflm77mqKHlvI8tLS0+55m+5bqm6aaW6aG1CiAgICAgICAgICAgICAgICAkKCIjd3JhcHBlciAuc19mb3JtICNmb3JtIikuYXR0cigic3R5bGUiLCAibGVmdDp1bnNldCAhaW1wb3J0YW50OyIpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICQoIiN3cmFwcGVyIC5zX2Zvcm0gI2Zvcm0iKS5hdHRyKCJzdHlsZSIsICIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihTaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVKXsKICAgICAgICAgICAgICAgIFN0eWxlTWFuZ2VyLmluaXQoKTsKICAgICAgICAgICAgICAgIENvbnRyb2xNYW5hZ2VyLmluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkKCIjZG91YmxlIikubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IC8vIOWKqOaAgeiuvue9ruW6lemDqOaOqOiNkOWFs+mUruWtl+eahG1hcmdpblRvcOWxnuaApwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb250YWluZXIgI3JzIGRpdiIpLnBhcmVudE5vZGUuc3R5bGUubWFyZ2luVG9wID0gTWF0aC5tYXgoJCgiI2RvdWJsZSIpLmhlaWdodCgpLCAkKCIjY29udGVudF9sZWZ0IikuaGVpZ2h0KCkpLSQoIiNjb250ZW50X2xlZnQiKS5oZWlnaHQoKSsicHgiOwogICAgICAgICAgICAgICAgfSwgNDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZihTaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVKXsKICAgICAgICAgICAgU3R5bGVNYW5nZXIuaW5pdCgpOwogICAgICAgICAgICBDb250cm9sTWFuYWdlci5pbml0KCk7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIG11dGF0aW9uZnVuYygpOwogICAgICAgICAgICB9Y2F0Y2ggKGUpe30KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBBQ01PKG11dGF0aW9uZnVuYyk7CiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN3cmFwcGVyIik7CiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHdyYXBwZXIsIHsKICAgICAgICAgICAgICAgICAgICAiYXR0cmlidXRlcyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICJjaGFyYWN0ZXJEYXRhIjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgInN1YnRyZWUiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICJhdHRyaWJ1dGVzRmlsdGVyIjogWyJjbGFzcyJdLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBtdXRhdGlvbmZ1bmMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9Cn0pKCk7"},{"name":"仓库用度盘投稿助手","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://pan.baidu.com/disk/home*","http://yun.baidu.com/disk/home*","https://pan.baidu.com/disk/home*","https://yun.baidu.com/disk/home*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856044},"enabled":false,"position":11,"file_url":"https://greasyfork.org/scripts/3285-%E4%BB%93%E5%BA%93%E7%94%A8%E5%BA%A6%E7%9B%98%E6%8A%95%E7%A8%BF%E5%8A%A9%E6%89%8B/code/%E4%BB%93%E5%BA%93%E7%94%A8%E5%BA%A6%E7%9B%98%E6%8A%95%E7%A8%BF%E5%8A%A9%E6%89%8B.user.js","uuid":"3e5041b5-2d70-4beb-a18b-a2d4336e8a6d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDku5PlupPnlKjluqbnm5jmipXnqL/liqnmiYsKLy8gQG5hbWVzcGFjZSAgICBtb2Uuaml4dW4uZHVwYW4uZ2FsYWNnCi8vIEB2ZXJzaW9uICAgICAgMS4xLjEzCi8vIEBkZXNjcmlwdGlvbiAg566A5piT5Yqf6IO95aKe5by6LCDmlrnkvr/ku5PlupPmipXnqL/nlKgKLy8gQGF1dGhvciAgICAgICBKaXh1bjxodHRwczovL2ppeHVuLm1vZS8+Ci8vIEBpbmNsdWRlICAgICAgaHR0cDovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly95dW4uYmFpZHUuY29tL2Rpc2svaG9tZSoKLy8gQGluY2x1ZGUgICAgICBodHRwczovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8veXVuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAoKLy8gVGhlIGZvbGxvd2luZyB0aHJpZCBwYXJ0eSBzY3JpcHRzIHdpbGwgYmUgaW5qZWN0ZWQgdG8gdGhlIHBhZ2U6Ci8vIGh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2hhbmRsZWJhcnMuanMvNC4wLjUvaGFuZGxlYmFycy5qcwoKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKICBjb25zdCBJTkZPID0gJ1vku5PlupPliqnmiYvmj5Lku7ZdJzsKCiAgdmFyIG9SZXF1aXJlOwogIGlmICh3aW5kb3cucmVxdWlyZSkgewogICAgY29uc29sZS53YXJuKCIlcyDopobnm5bmlrnlvI/lronoo4XvvIzoi6Xml6DmlYjor7flvLrliLbliLfmlrDjgIIiLCBJTkZPKTsKICAgIG9SZXF1aXJlID0gd2luZG93LnJlcXVpcmU7CiAgICB3aW5kb3cucmVxdWlyZSA9IGZha2VSZXF1aXJlOwogICAgT2JqZWN0LmFzc2lnbihmYWtlUmVxdWlyZSwgb1JlcXVpcmUpOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmluZm8oIiVzIOmSqeWtkOaWueW8j+Wuieijhe+8jOiLpeWkseaViOivt+aKpeWRiuOAgiIsIElORk8pOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3JlcXVpcmUnLCB7CiAgICAgIHNldDogZnVuY3Rpb24gKHJlcXVpcmUpIHsKICAgICAgICBvUmVxdWlyZSA9IHJlcXVpcmU7CiAgICAgIH0sCiAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBmYWtlUmVxdWlyZTsKICAgICAgfQogICAgfSk7CiAgfQoKICBjb25zdCBfX0FwcElkID0gMjUwNTI4OwogIGNvbnN0IHBsdWdpbkJsYWNrbGlzdCA9IFsn5Y+z5LiK6KeS5bm/5ZGK5L2NJywgJ+e9keebmEFQUOS4i+i9vScsICfmu6Hlh4/mtLvliqgnLCAn5Lya5ZGY5o+Q6YaSJ107CiAgdmFyIF9HID0ge307CgogIGZ1bmN0aW9uIGZha2VSZXF1aXJlKG1vZHVsZSkgewogICAgLy8gY29uc29sZS5pbmZvKCclcyBMb2FkIG1vZHVsZTogJXMnLCBJTkZPLCBtb2R1bGUpOwogICAgaWYgKG1vZHVsZSA9PSAnZGlzay1zeXN0ZW06d2lkZ2V0L3BhZ2VNb2R1bGUvbGlzdC9saXN0TWVudS5qcycpIHsKICAgICAgaWYgKCFfRy5pbmplY3RlZCkgewogICAgICAgIGluaXRTY3JpcHQoKTsKICAgICAgICBfRy5pbmplY3RlZCA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAobW9kdWxlID09ICdzeXN0ZW0tY29yZTpwbHVnaW5Db250cm9sL3JlZ2lzdGVyL3JlZ2lzdGVyLmpzJykgewogICAgICAgIGlmICghX0cuYnRuSW5qZWN0ZWQpIHsKICAgICAgICAgICAgcmVnaXN0ZXJQbHVnaW4oKTsKICAgICAgICAgICAgX0cuYnRuSW5qZWN0ZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBvUmVxdWlyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gbWVudUluc2VydEFmdGVyKGxpc3QsIG5hbWUsIGl0ZW0sIG5vUHVzaCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChsaXN0W2ldIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICBpZiAobWVudUluc2VydEFmdGVyKGxpc3RbaV0sIG5hbWUsIGl0ZW0sIHRydWUpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxpc3RbaV0udGl0bGUgPT09IG5hbWUpIHsKICAgICAgICBpKys7CiAgICAgICAgbGlzdC5zcGxpY2UoaSwgaSwgaXRlbSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIW5vUHVzaCkgbGlzdC5wdXNoKGl0ZW0pOwogIH0KCiAgZnVuY3Rpb24gaW5pdFNjcmlwdCgpIHsKICAgIC8vIExvYWQgbW9kdWxlCiAgICBfRy5GYWNlRGF0YSA9IG9SZXF1aXJlKCdzeXN0ZW0tY29yZTpkYXRhL2ZhY2VEYXRhLmpzJyk7CiAgICBfRy5MaXN0SW5pdCA9IG9SZXF1aXJlKCJkaXNrLXN5c3RlbTp3aWRnZXQvcGFnZU1vZHVsZS9saXN0L2xpc3RJbml0LmpzIik7CgogICAgdmFyIGZpbGVDdHhNZW51ID0gX0cuRmFjZURhdGEuZ2V0RGF0YSgpLmNvbnRleHRNZW51LmZpbGU7CiAgICBtZW51SW5zZXJ0QWZ0ZXIoZmlsZUN0eE1lbnUsICfliIbkuqsnLCB7CiAgICAgIGluZGV4OiA4LAogICAgICBrZXlib2FyZDogJ3UnLAogICAgICB0aXRsZTogJ+iHquWumuS5ieWIhuS6qycsCiAgICAgIGRpc3BsYXk6IGlzRmlsZUNoZWNrZWQsCiAgICAgIGFjdGlvbjogbGF6eURpYWxvZygnbG9hZEN1c3RvbVNoYXJlRGlhbG9nJykKICAgIH0pOwoKICAgIGZpbGVDdHhNZW51LmZvckVhY2gobSA9PiB7CiAgICAgIGlmIChtLmluZGV4ID49IDIpIHsKICAgICAgICBtLmluZGV4Kys7CiAgICAgIH0KICAgIH0pOwoKICAgIGZpbGVDdHhNZW51LnB1c2goewogICAgICBpbmRleDogMiwgLy8gJ+WIoOmZpCcg55qEIGluZGV444CCCiAgICAgIGtleWJvYXJkOiAncicsCiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgdGl0bGU6ICfmibnph4/ph43lkb3lkI0nLAogICAgICBkaXNwbGF5OiBpc0ZpbGVDaGVja2VkLAogICAgICBhY3Rpb246IGxhenlEaWFsb2coJ2xvYWRCYXRjaFJlbmFtZURpYWxvZycpCiAgICB9KTsKCiAgICBzZXRUaW1lb3V0KGRlbGF5TG9hZCwgMjAwKTsKICAgIGRlbGF5TG9hZER1Q29kZSgpOwoKICAgIC8vIEVTQyDlsIblhbPpl63miYDmnInmvILmta7nqpflj6MKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkgewogICAgICBpZiAoZS5rZXlDb2RlID09IDB4MWIpIHsKICAgICAgICAkKCcuZGlhbG9nLWNsb3NlJykuY2xpY2soKTsKICAgICAgfQogICAgfSwgZmFsc2UpOwogIH0KCiAgZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4oKSB7CiAgICB3aW5kb3cuZGVmaW5lKCdmdW5jdGlvbi13aWRnZXQ6aml4dW4vc3RhbmRhcmQtY29kZS5qcycsIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewogICAgICBleHBvcnRzLnN0YXJ0ID0gbGF6eURpYWxvZygnbG9hZFN0YW5kYXJkQ29kZURpYWxvZycpOwogICAgfSk7CgogICAgd2luZG93Lm1hbmlmZXN0ID0gd2luZG93Lm1hbmlmZXN0LmZpbHRlcihwbHVnaW4gPT4gcGx1Z2luQmxhY2tsaXN0LmluZGV4T2YocGx1Z2luLm5hbWUpID09PSAtMSk7CgogICAgd2luZG93Lm1hbmlmZXN0LnB1c2goewogICAgICAibmFtZSI6ICLmoIflh4bmj5Dlj5bnoIHmj5Lku7YiLAogICAgICAiZ3JvdXAiOiAibW9lLmppeHVuLmNvZGUiLAogICAgICAidmVyc2lvbiI6ICcxLjAnLAogICAgICAidHlwZSI6ICIxIiwKICAgICAgImRlc2NyaXB0aW9uIjogIuexu+S8vOS6jiAxMTUg55qE5qCH5YeG5o+Q5Y+W56CBIiwKICAgICAgImZpbGVzVHlwZSI6ICIqIiwKICAgICAgImJ1dHRvbnMiOiBbewogICAgICAgICJpbmRleCI6IDIsCiAgICAgICAgImRpc2FibGVkIjogIm5vbmUiLAogICAgICAgICJ0aXRsZSI6ICLmoIflh4bmj5Dlj5bnoIEiLAogICAgICAgICJidXR0b25TdHlsZSI6ICJub3JtYWwiLAogICAgICAgICJwbHVnaW5JZCI6ICJKSVhVTlNURENPREUiLAogICAgICAgICJwb3NpdGlvbiI6ICd0b29scycKICAgICAgfV0sCiAgICAgICJwcmVsb2FkIjogZmFsc2UsCiAgICAgICJkZXBzRmlsZXMiOiBbXSwKICAgICAgImVudHJhbmNlRmlsZSI6ICJmdW5jdGlvbi13aWRnZXQ6aml4dW4vc3RhbmRhcmQtY29kZS5qcyIsCiAgICAgICJwbHVnaW5JZCI6ICJKSVhVTlNURENPREUiCiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGlzRmlsZUNoZWNrZWQoKSB7CiAgICByZXR1cm4gX0cuTGlzdEluaXQuZ2V0Q2hlY2tlZEl0ZW1zKCkubGVuZ3RoID4gMDsKICB9CgogIGZ1bmN0aW9uIGxhenlEaWFsb2cobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICBpZiAoX0dbbmFtZV0pIHsKICAgICAgICBfR1tuYW1lXSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGxvYWREZXBlbmRlbmNpZXMoKTsKICAgICAgICBfRy5UaXAuc2hvdyh7CiAgICAgICAgICBtb2RlOiAnbG9hZGluZycsCiAgICAgICAgICBtc2c6ICfmraPlnKjliqrlipvliqDovb3kuK0gLi4uJwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbmV4dElkKCkgewogICAgaWYgKCFuZXh0SWQuaWQpIG5leHRJZC5pZCA9IDA7CiAgICByZXR1cm4gbmV4dElkLmlkKys7CiAgfQoKICBmdW5jdGlvbiBjb25maXJtRGlhbG9nKGRhdGEpIHsKICAgIGxvYWREZXBlbmRlbmNpZXMoKTsKCiAgICB2YXIgZGlhbG9nOwogICAgdmFyIGRpYWxvZ0RhdGEgPSB7CiAgICAgIGlkOiAiY29uZmlybS0iICsgbmV4dElkKCksCiAgICAgIHNob3c6IHRydWUsCiAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLAogICAgICBib2R5OiAkKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzoyMnB4OyI+JykuYXBwZW5kKGRhdGEuYm9keSksCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbmFtZTogImNvbmZpcm0iLAogICAgICAgIHRpdGxlOiBkYXRhLnN1cmVUZXh0IHx8ICLnoa7lrpoiLAogICAgICAgIHR5cGU6ICJiaWciLAogICAgICAgIGNvbG9yOiAiYmx1ZSIsCiAgICAgICAgcGFkZGluZzogWyI1MHB4IiwgIjUwcHgiXSwKICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7CiAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGRhdGEub25TdXJlKSkgewogICAgICAgICAgICBkYXRhLm9uU3VyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiY2FuY2VsIiwKICAgICAgICB0aXRsZTogZGF0YS5jYW5jZWxUZXh0IHx8ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJiaWciLAogICAgICAgIHBhZGRpbmc6IFsiNTBweCIsICI1MHB4Il0sCiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihkYXRhLm9uQ2FuY2VsKSkgewogICAgICAgICAgICBkYXRhLm9uQ2FuY2VsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV0KICAgIH07CiAgICBkaWFsb2cgPSBuZXcgX0cuRGlhbG9nKGRpYWxvZ0RhdGEpOwogICAgcmV0dXJuIGRpYWxvZzsKICB9CgogIGZ1bmN0aW9uIGRlbGF5TG9hZCgpIHsKICAgIF9HLmxvYWRDdXN0b21TaGFyZURpYWxvZyA9IChmdW5jdGlvbigpIHsKICAgICAgdmFyIF90cGxDdXN0b21TaGFyZSA9IGAKICAgICAgICA8ZGl2PgogICAgICAgICAgPHA+6K+36L6T5YWl5o+Q5Y+W56CBOiAgPGlucHV0IGlkPSJqeF9zaGFyZUtleSIgY2xhc3M9Imp4LWlucHV0IiBzdHlsZT0id2lkdGg6IDZlbSIgLz48L3A+CiAgICAgICAgICA8cCBpZD0ianhfZXJybXNnIiBjbGFzcz0ianhfY193YXJuIGp4X2hpZGUiPuaXoOaViOeahOaPkOWPlueggSwg6ISa5pys5bCG6ZqP5py655Sf5oiQ5LiA5Liq5YiG5Lqr5Luj56CBIDombHQ7PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Imp4X2hpZGUiPgogICAgICAgICAgPHA+5YiG5Lqr5Zyw5Z2AOiA8aW5wdXQgaWQ9Imp4X3Nob3J0VXJsIiBjbGFzcz0iangtaW5wdXQiIHN0eWxlPSJ3aWR0aDogMjBlbSIgcmVhZG9ubHkgLz48L3A+CiAgICAgICAgICA8cD7mj5Dlj5bnoIE6IDxpbnB1dCBpZD0ianhfc2hhcmVDb2RlIiBjbGFzcz0iangtaW5wdXQiIHN0eWxlPSJ3aWR0aDogNWVtOyB0ZXh0LWFsaWduOiBjZW50ZXIiIHJlYWRvbmx5IC8+PC9wPgoKICAgICAgICAgIDxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBsZWZ0Ij7mipXnqL/ku6PnoIE6PGJyIC8+PHRleHRhcmVhIHJlYWRvbmx5IGlkPSJqeF9kbGJveENvZGUiIGNsYXNzPSJqeCBqeC1pbnB1dCI+PC90ZXh0YXJlYT48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgIGA7CgogICAgICB2YXIgZGlhbG9nLCAkZm9vdGVyLCAka2V5LCAkdHBsQ3VzdG9tU2hhcmU7CgogICAgICBmdW5jdGlvbiBzaG93RGlhbG9nKCkgewogICAgICAgICR0cGxDdXN0b21TaGFyZSA9ICQoX3RwbEN1c3RvbVNoYXJlKTsKICAgICAgICBkaWFsb2cgPSBjb25maXJtRGlhbG9nKHsKICAgICAgICAgIHRpdGxlOiAn6Ieq5a6a5LmJ5YiG5LqrJywKICAgICAgICAgIGJvZHk6ICR0cGxDdXN0b21TaGFyZSwKICAgICAgICAgIG9uU3VyZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGhhbmRsZUNvbmZpcm0oKTsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgICAgICB9LAogICAgICAgIH0pOwoKICAgICAgICAkZm9vdGVyID0gZGlhbG9nLiRkaWFsb2cuZmluZChfRy5EaWFsb2cuUVVFUlkuZGlhbG9nRm9vdGVyKTsKCiAgICAgICAgJGtleSA9ICQoJyNqeF9zaGFyZUtleScsICR0cGxDdXN0b21TaGFyZSkKICAgICAgICAgIC5ibHVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIWlzQ29kZVZhbGlkKHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnRyaW0oKSkpIHsKICAgICAgICAgICAgICAkKCcjanhfZXJybXNnJywgJHRwbEN1c3RvbVNoYXJlKQogICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdqeF9oaWRlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuZm9jdXMoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoJyNqeF9lcnJtc2cnLCAkdHBsQ3VzdG9tU2hhcmUpCiAgICAgICAgICAgICAgLmFkZENsYXNzKCdqeF9oaWRlJyk7CiAgICAgICAgICB9KQogICAgICAgICAgLnZhbChnZW5LZXkoNCkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoYW5kbGVDb25maXJtKCkgewogICAgICAgIHZhciBrZXkgPSAka2V5LnZhbCgpOwogICAgICAgIGlmICghaXNDb2RlVmFsaWQoa2V5KSkgewogICAgICAgICAga2V5ID0gZ2VuS2V5KDQpOwogICAgICAgICAgJGtleS52YWwoa2V5KTsKICAgICAgICB9CgogICAgICAgIF9HLlRpcC5zaG93KHsKICAgICAgICAgIG1vZGU6ICdsb2FkaW5nJywKICAgICAgICAgIG1zZzogJ+ato+WcqOWIhuS6q++8jOivt+eojeWQjiAuLi4nLAogICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICB2YXIgc2hhcmVkSXRlbXMgPSBfRy5MaXN0SW5pdC5nZXRDaGVja2VkSXRlbXMoKTsKICAgICAgICAkLmFqYXgoewogICAgICAgICAgdXJsOiAnL3NoYXJlL3NldD8nICsgJC5wYXJhbSh7CiAgICAgICAgICAgIGNoYW5uZWw6ICdjaHVubGVpJywKICAgICAgICAgICAgYmRzdG9rZW46IHl1bkRhdGEuTVlCRFNUT0tFTiwKICAgICAgICAgICAgYXBwX2lkOiBfX0FwcElkCiAgICAgICAgICB9KSwKICAgICAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgZmlkX2xpc3Q6IEpTT04uc3RyaW5naWZ5KHNoYXJlZEl0ZW1zLm1hcChnZXRGaWxlSWQpKSwKICAgICAgICAgICAgc2NoYW5uZWw6IDQsCiAgICAgICAgICAgIGNoYW5uZWxfbGlzdDogJ1tdJywKICAgICAgICAgICAgcHdkOiBrZXkKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nCiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihyKSB7CiAgICAgICAgICBfRy5UaXAuaGlkZSgpOwoKICAgICAgICAgIF9HLlRpcC5zaG93KHsKICAgICAgICAgICAgbW9kZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtc2c6ICfliIbkuqvmiJDlip8hJwogICAgICAgICAgfSk7CgogICAgICAgICAgJGZvb3Rlci5jaGlsZHJlbignLmctYnV0dG9uLWJsdWUtbGFyZ2UnKS5oaWRlKCk7CiAgICAgICAgICAkZm9vdGVyLmNoaWxkcmVuKCcuZy1idXR0b24tbGFyZ2UnKS5maW5kKCcudGV4dCcpLnRleHQoJ+WFs+mXrScpOwoKICAgICAgICAgIGxldCB1cmwgPSByLnNob3J0dXJsID8gYCR7ci5zaG9ydHVybH0jJHtrZXl9YCA6ICflvojmirHmrYksIOWIhuS6q+Wksei0pSA6PCc7CiAgICAgICAgICAkKCcjanhfc2hvcnRVcmwnLCAkdHBsQ3VzdG9tU2hhcmUpLnZhbCh1cmwpOwogICAgICAgICAgJCgnI2p4X3NoYXJlQ29kZScsICR0cGxDdXN0b21TaGFyZSkudmFsKGtleSk7CgogICAgICAgICAgJHRwbEN1c3RvbVNoYXJlLnRvZ2dsZUNsYXNzKCdqeF9oaWRlJyk7CgogICAgICAgICAgdmFyIHRpdGxlID0gZml4Q29kZShzaGFyZWRJdGVtc1swXS5zZXJ2ZXJfZmlsZW5hbWUpICsgKHNoYXJlZEl0ZW1zLmxlbmd0aCA9PSAxID8gJycgOiAnIOetieaWh+S7ticpOwoKICAgICAgICAgICQoJyNqeF9kbGJveENvZGUnLCAkdHBsQ3VzdG9tU2hhcmUpLnZhbCgKICAgICAgICAgICAgYFtkbGJveCB0aXRsZT0iJHt0aXRsZX0iIGZyb209Iua1qeeAmueahOWuh+WumSIgdGltZT0iJHttYWtlRGF0ZShuZXcgRGF0ZSgpKX0iIGluZm89IuaPkOWPlu+8miR7a2V5fSIgbGluazE9IuW6puWomHwke3VybH0iXVsvZGxib3hdXWAKICAgICAgICAgICk7CgogICAgICAgICAgZGlhbG9nLnNob3coKTsKICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkgewogICAgICAgICAgX0cuVGlwLmhpZGUoKTsKCiAgICAgICAgICBfRy5UaXAuc2hvdyh7CiAgICAgICAgICAgIG1vZGU6ICdmYWlsdXJlJywKICAgICAgICAgICAgbXNnOiAn572R57uc6ZSZ6K+v77yM6K+356iN5ZCO6YeN6K+V44CCJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8qIOS+nei1luWHveaVsOihqCAqLwogICAgICBmdW5jdGlvbiBpc0NvZGVWYWxpZChjb2RlKSB7CiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChjb2RlKS5yZXBsYWNlKC8lW0EtRlxkXXsyfS9nLCAnLScpLmxlbmd0aCA9PSA0OwogICAgICB9CgogICAgICBmdW5jdGlvbiBmaXhDb2RlKGNvZGUpIHsKICAgICAgICByZXR1cm4gY29kZS5yZXBsYWNlKC8iL2csICcmI3gyMjsnKS5yZXBsYWNlKC9cXS9nLCAnJiN4NUQ7Jyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGZpeFdpZHRoRGlnaXRzKGQpIHsKICAgICAgICByZXR1cm4gKCcwJyArIGQudG9TdHJpbmcoKSkuc2xpY2UoLTIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBtYWtlRGF0ZShkKSB7CiAgICAgICAgcmV0dXJuIGAke2QuZ2V0RnVsbFllYXIoKX0uJHtmaXhXaWR0aERpZ2l0cyhkLmdldE1vbnRoKCkgKyAxKX0uJHtmaXhXaWR0aERpZ2l0cyhkLmdldERhdGUoKSl9YDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2VuS2V5KHNpemUpIHsKICAgICAgICAvLyBsZW5ndGggPT4gMjYgKyAxMCwgMzYKICAgICAgICB2YXIga2V5U2V0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7CiAgICAgICAgZm9yICh2YXIgaSA9IChzaXplIHx8IDQpIHwgMCwgciA9ICcnOyBpLS07KQogICAgICAgICAgciArPSBrZXlTZXRbMCB8IChNYXRoLnJhbmRvbSgpICogMzYpXTsKCiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldEZpbGVJZChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZnNfaWQ7CiAgICAgIH0KCiAgICAgIC8qIOaUtuWwviAqLwogICAgICByZXR1cm4gc2hvd0RpYWxvZzsKICAgIH0pKCk7CgogICAgX0cubG9hZEJhdGNoUmVuYW1lRGlhbG9nID0gKGZ1bmN0aW9uKCkgewogICAgICB2YXIgX3RwbENvbmZpcm1SZW5hbWUgPSBgCiAgICAgICAgPHA+6K+36L6T5YWl5paw55qE5ZG95ZCN6KeE5YiZICjoh6rliqjlgqjlrZgpOiAgPGlucHV0IGlkPSJqeF9uYW1lUnVsZSIgY2xhc3M9Imp4LWlucHV0IiBzdHlsZT0id2lkdGg6MjBlbSIgLz48L3A+CiAgICAgICAgPHAgc3R5bGU9ImxpbmUtaGVpZ2h0OiAxOyBwYWRkaW5nLXRvcDogMWVtOyI+CiAgICAgICAgICA8Y29kZT46bjwvY29kZT4g6KGo56S65LiN5bim5omp5bGV5ZCN55qE5paH5Lu25ZCNOyA8Y29kZT46ZTwvY29kZT4g6KGo56S65omp5bGV5ZCNOyA8Y29kZT46RTwvY29kZT4g6KGo56S6IC7mianlsZXlkI07CiAgICAgICAgPGJyPjxjb2RlPjpkPC9jb2RlPiDooajnpLrkuIDkvY3pmo/mnLrmlbDlrZc7IDxjb2RlPjpjPC9jb2RlPiDooajnpLrkuIDkvY3pmo/mnLrlrZfnrKY7IDxjb2RlPjp0PC9jb2RlPiDooajnpLrlvZPliY3ml7bpl7TmiLM8L3A+CiAgICAgIGA7CgogICAgICB2YXIgZGlhbG9nLCAkdHBsQ29uZmlybVJlbmFtZTsKCiAgICAgIGZ1bmN0aW9uIHNob3dEaWFsb2coKSB7CiAgICAgICAgJHRwbENvbmZpcm1SZW5hbWUgPSAkKF90cGxDb25maXJtUmVuYW1lKTsKICAgICAgICAkKCcjanhfbmFtZVJ1bGUnLCAkdHBsQ29uZmlybVJlbmFtZSkudmFsKGxvY2FsU3RvcmFnZS5qeFJlbmFtZVJ1bGUgfHwgJ1tHYWxBQ0ddIDpkOmQ6ZDpkOmQ6ZDpkOmQ6ZDpkOkUnKTsKCiAgICAgICAgZGlhbG9nID0gY29uZmlybURpYWxvZyh7CiAgICAgICAgICB0aXRsZTogJ+ehruiupOaJuemHj+mHjeWRveWQjScsCiAgICAgICAgICBib2R5OiAkdHBsQ29uZmlybVJlbmFtZSwKICAgICAgICAgIG9uU3VyZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGhhbmRsZUNvbmZpcm0oKTsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoYW5kbGVDb25maXJtKCkgewogICAgICAgIC8vIOWCqOWtmOaJuemHj+mHjeWRveWQjeiusOW9lQogICAgICAgIHZhciBfbmFtZVJ1bGUgPSAkKCcjanhfbmFtZVJ1bGUnLCAkdHBsQ29uZmlybVJlbmFtZSkudmFsKCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLmp4UmVuYW1lUnVsZSA9IF9uYW1lUnVsZTsKCiAgICAgICAgdmFyIF9mbGlzdCA9IF9HLkxpc3RJbml0LmdldENoZWNrZWRJdGVtcygpLm1hcCh0b1JlcGxhY2VQYXlsb2FkKTsKCiAgICAgICAgX0cuVGlwLnNob3coewogICAgICAgICAgbW9kZTogJ2xvYWRpbmcnLAogICAgICAgICAgbXNnOiAn5q2j5Zyo5om56YeP6YeN5ZG95ZCN77yM6K+356iN5ZCOIC4uLicsCiAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlCiAgICAgICAgfSk7CgogICAgICAgICQuYWpheCh7CiAgICAgICAgICB1cmw6ICcvYXBpL2ZpbGVtYW5hZ2VyPycgKyAkLnBhcmFtKHsKICAgICAgICAgICAgY2hhbm5lbDogJ2NodW5sZWknLAogICAgICAgICAgICBiZHN0b2tlbjogeXVuRGF0YS5NWUJEU1RPS0VOLAogICAgICAgICAgICBhcHBfaWQ6IF9fQXBwSWQsCiAgICAgICAgICAgIG9wZXJhOiAncmVuYW1lJwogICAgICAgICAgfSksCiAgICAgICAgICB0eXBlOiAnUE9TVCcsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGZpbGVsaXN0OiBKU09OLnN0cmluZ2lmeShfZmxpc3QpCiAgICAgICAgICB9CiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbigpIHsKICAgICAgICAgIF9HLlRpcC5oaWRlKCk7CiAgICAgICAgICBfRy5NZXNzYWdlLnRyaWdnZXIoJ3N5c3RlbS1yZWZyZXNoJyk7CiAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHsKICAgICAgICAgIF9HLlRpcC5oaWRlKCk7CgogICAgICAgICAgX0cuVGlwLnNob3coewogICAgICAgICAgICBtb2RlOiAnZmFpbHVyZScsCiAgICAgICAgICAgIG1zZzogJ+aJuemHj+mHjeWRveWQjeWksei0pSwg6K+356iN5ZCO6YeN6K+VIScKICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiB0b1JlcGxhY2VQYXlsb2FkKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBhdGg6IGl0ZW0ucGF0aCwKICAgICAgICAgICAgbmV3bmFtZTogX25hbWVSdWxlLnJlcGxhY2UoLzooW2NkZUVuXSkvZywgZml4TmFtZS5iaW5kKGl0ZW0uc2VydmVyX2ZpbGVuYW1lKSkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CgogICAgICAvKiDkvp3otZblh73mlbDooaggKi8KICAgICAgZnVuY3Rpb24gZml4TmFtZSh6LCBjb2RlKSB7CiAgICAgICAgc3dpdGNoIChjb2RlKSB7CiAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLm1hdGNoKC9eKC4rKVwuLyk7CiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZVsxXSA6IHRoaXM7CiAgICAgICAgICBjYXNlICdjJzoKICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyBNYXRoLnJhbmRvbSgpICogMjYpOwogICAgICAgICAgY2FzZSAnZCc6CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMywgNCk7CiAgICAgICAgICBjYXNlICd0JzoKICAgICAgICAgICAgcmV0dXJuICtuZXcgRGF0ZSgpOwogICAgICAgICAgY2FzZSAnZSc6CiAgICAgICAgICAgIHZhciBleHQgPSB0aGlzLm1hdGNoKC9cLihbXi5dKykkLyk7CiAgICAgICAgICAgIHJldHVybiBleHQgPyBleHRbMV0gOiAnJzsKICAgICAgICAgIGNhc2UgJ0UnOgogICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRjaCgvXC5bXi5dKyQvKSB8fCAnJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8qIOaUtuWwviAqLwogICAgICByZXR1cm4gc2hvd0RpYWxvZzsKICAgIH0pKCk7CiAgfQoKICBmdW5jdGlvbiBkZWxheUxvYWREdUNvZGUoKSB7CiAgICBpZiAoIXdpbmRvdy5IYW5kbGViYXJzKSB7CiAgICAgIHZhciBfYW1kID0gd2luZG93LmRlZmluZS5hbWQ7CiAgICAgIGRlbGV0ZSB3aW5kb3cuZGVmaW5lLmFtZDsKCiAgICAgIHZhciBsaWJIYW5kbGViYXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgIGxpYkhhbmRsZWJhcnMuc3JjID0gJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2hhbmRsZWJhcnMuanMvNC4wLjUvaGFuZGxlYmFycy5qcyc7CiAgICAgIGxpYkhhbmRsZWJhcnMub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgd2luZG93LmRlZmluZS5hbWQgPSBfYW1kOwogICAgICAgIF9HLmxvYWRTdGFuZGFyZENvZGVEaWFsb2cgPSBkZWxheUxvYWREdVN0ZENvZGUoKTsKICAgICAgfTsKICAgICAgbGliSGFuZGxlYmFycy5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy5kZWZpbmUuYW1kID0gX2FtZDsKICAgICAgICBhbGVydCgi5Yqg6L2956ys5LiJ5pa5IFVJIOe7hOS7tuWksei0pSwg6K+356iN5YCZ6YeN6K+VISIpOwogICAgICB9OwogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpYkhhbmRsZWJhcnMpOwogICAgfSBlbHNlIHsKICAgICAgX0cubG9hZFN0YW5kYXJkQ29kZURpYWxvZyA9IGRlbGF5TG9hZER1U3RkQ29kZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGRlbGF5TG9hZER1U3RkQ29kZSgpIHsKICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignc2l6ZScsIHBhcnNlU2l6ZSk7CgogICAgICB2YXIgX3RwbEVuY29kZUZpbGVzID0gSGFuZGxlYmFycy5jb21waWxlKGAKICAgICAgICB7eyNlYWNoIGZpbGVzfX0KICAgICAgICAgIDxsaT4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5hbWUiPnt7IG5hbWUgfX08L3NwYW4+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXplIj4oe3tzaXplIHNpemV9fSk8L3NwYW4+CiAgICAgICAgICA8L2xpPgogICAgICAgIHt7L2VhY2h9fQogICAgICBgKTsKCiAgICAgIHZhciBfdHBsU3RhbmRhcmRDb2RlID0gYAogICAgICAgIDxkaXY+CiAgICAgICAgICA8cD48dGV4dGFyZWEgY2xhc3M9Imp4IGp4X2NvZGUgangtaW5wdXQiIHJvd3M9IjciIGF1dG9jb3JyZWN0PSJvZmYiIGF1dG9jYXBpdGFsaXplPSJvZmYiIHNwZWxsY2hlY2s9ImZhbHNlIj48L3RleHRhcmVhPjwvcD4KICAgICAgICAgIDxwIHN0eWxlPSJsaW5lLWhlaWdodDogMTsgICBwYWRkaW5nOiAuNWVtIDA7Ij4KICAgICAgICAgICAg5omp5bGV6ZiF6K+7OiAKICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL2dhbWUuYWxpMjEzLm5ldC90aHJlYWQtNTQ2NTc5OC0xLTEuaHRtbCIgdGFyZ2V0PSJfYmxhbmsiPuiCmuWomOS7o+eggeivtOaYjiBb5ri45L6gXTwvYT4KICAgICAgICAgICAgfCA8YSBocmVmPSJodHRwczovL2ppeHVuLm1vZS8yMDE3LzA2LzEzL2R1LWNvZGUtZ2VuLyIgdGFyZ2V0PSJfYmxhbmsiPuagh+WHhuW6puWomOaPkOWPlueggSBb5qKm5aesXTwvYT4KICAgICAgICAgIDwvcD4KICAgICAgICAgIDxwIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPgogICAgICAgICAgICA8Yj7mlofku7bliJfooag8L2I+ICjniYjmnKw6IDxzcGFuIGNsYXNzPSJqeF92ZXJzaW9uIiBzdHlsZT0iY29sb3I6YmxhY2siPi0tPC9zcGFuPik6CiAgICAgICAgICA8L3A+CiAgICAgICAgICA8dWwgY2xhc3M9Imp4X2xpc3QiPjwvdWw+CiAgICAgICAgICA8cCBjbGFzcz0ianhfY193YXJuIGp4X2hpZGUganhfZXJybXNnIj7ml6DmlYjnmoTmj5Dlj5bnoIEhIOivt+ehruS/neaCqOi+k+WFpeeahOaPkOWPlueggeaXoOivr+OAgjwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgYDsKCiAgICAgIHZhciBkaWFsb2csICR0cGxTdGFuZGFyZENvZGUsIGNvZGVJbmZvLCBqeF9saXN0LCBqeF9jb2RlLCBqeF9lcnJtc2csIGp4X3ZlcnNpb247CiAgICAgIHZhciBmYWlsZWQgPSAwOwoKICAgICAgZnVuY3Rpb24gc2hvd0RpYWxvZygpIHsKICAgICAgICAkdHBsU3RhbmRhcmRDb2RlID0gJChfdHBsU3RhbmRhcmRDb2RlKTsKCiAgICAgICAgZGlhbG9nID0gY29uZmlybURpYWxvZyh7CiAgICAgICAgICB0aXRsZTogJ+mAmueUqOaPkOWPlueggScsCiAgICAgICAgICBib2R5OiAkdHBsU3RhbmRhcmRDb2RlLAogICAgICAgICAgb25TdXJlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaGFuZGxlQ29uZmlybSgpOwogICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgfSwKICAgICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgIH0sCiAgICAgICAgfSk7CgogICAgICAgIGp4X2xpc3QgPSAkKCcuanhfbGlzdCcsICR0cGxTdGFuZGFyZENvZGUpOwogICAgICAgIGp4X2NvZGUgPSAkKCcuanhfY29kZScsICR0cGxTdGFuZGFyZENvZGUpOwogICAgICAgIGp4X2Vycm1zZyA9ICQoJy5qeF9lcnJtc2cnLCAkdHBsU3RhbmRhcmRDb2RlKTsKICAgICAgICBqeF92ZXJzaW9uID0gJCgnLmp4X3ZlcnNpb24nLCAkdHBsU3RhbmRhcmRDb2RlKTsKCiAgICAgICAganhfY29kZS5ibHVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGNvZGUgPSBqeF9jb2RlLnZhbCgpOwogICAgICAgICAgY29kZUluZm8gPSBEdVBhcnNlci5wYXJzZShjb2RlKTsKICAgICAgICAgIGp4X2Vycm1zZy50b2dnbGVDbGFzcygnanhfaGlkZScsICFjb2RlIHx8ICEhY29kZUluZm8pOwogICAgICAgICAgaWYgKGNvZGVJbmZvKSB7CiAgICAgICAgICAgIGp4X3ZlcnNpb24udGV4dChjb2RlSW5mby52ZXIpOwogICAgICAgICAgICBqeF9saXN0Lmh0bWwoX3RwbEVuY29kZUZpbGVzKHsKICAgICAgICAgICAgICBmaWxlczogY29kZUluZm8KICAgICAgICAgICAgfSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAganhfdmVyc2lvbi50ZXh0KCctLScpOwogICAgICAgICAgfQogICAgICAgIH0pLmZvY3VzKGZ1bmN0aW9uKCkgewogICAgICAgICAganhfZXJybXNnLmFkZENsYXNzKCdqeF9oaWRlJyk7CiAgICAgICAgICBqeF9saXN0LnRleHQoJycpOwogICAgICAgICAganhfdmVyc2lvbi50ZXh0KCctLScpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgX2N1ckRpcjsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm0oKSB7CiAgICAgICAgX2N1ckRpciA9IF9HLkxpc3RJbml0LmN1cnJlbnRLZXk7CiAgICAgICAgaWYgKF9jdXJEaXIuc2xpY2UoLTEpICE9ICcvJykKICAgICAgICAgIF9jdXJEaXIgKz0gJy8nOwoKICAgICAgICBzYXZlRmlsZSgwKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2F2ZUZpbGUoaSkgewogICAgICAgIGlmIChpID49IGNvZGVJbmZvLmxlbmd0aCkgewogICAgICAgICAgX0cuVGlwLnNob3coewogICAgICAgICAgICBtb2RlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1zZzogYOi9rOWtmOWujOavlSAo5aSx6LSlICR7ZmFpbGVkfSDkuKopIWAKICAgICAgICAgIH0pOwogICAgICAgICAgX0cuTWVzc2FnZS50cmlnZ2VyKCdzeXN0ZW0tcmVmcmVzaCcpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX0cuVGlwLnNob3coewogICAgICAgICAgbW9kZTogJ2xvYWRpbmcnLAogICAgICAgICAgbXNnOiBg5q2j5Zyo6L2s5a2Y5paH5Lu2ICgkeyBpICsgMSB9LyR7IGNvZGVJbmZvLmxlbmd0aCB9KSwg6K+356iN5ZCOIC4uYCwKICAgICAgICAgIGF1dG9DbG9zZTogZmFsc2UKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGZpbGUgPSBjb2RlSW5mb1tpXTsKCiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogJy9hcGkvcmFwaWR1cGxvYWQnLAogICAgICAgICAgdHlwZTogJ1BPU1QnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBwYXRoOiBfY3VyRGlyICsgZmlsZS5uYW1lLAogICAgICAgICAgICAnY29udGVudC1tZDUnOiBmaWxlLm1kNSwKICAgICAgICAgICAgJ3NsaWNlLW1kNSc6IGZpbGUubWQ1cywKICAgICAgICAgICAgJ2NvbnRlbnQtbGVuZ3RoJzogZmlsZS5zaXplCiAgICAgICAgICB9CiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihyKSB7CiAgICAgICAgICBfRy5UaXAuaGlkZSgpOwogICAgICAgICAgaWYgKHIuZXJybm8pIGZhaWxlZCsrOwogICAgICAgIH0pLmZhaWwoZnVuY3Rpb24ocikgewogICAgICAgICAgZmFpbGVkKys7CiAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCkgewogICAgICAgICAgc2F2ZUZpbGUoaSArIDEpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICAvKiDkvp3otZblh73mlbDooaggKi8KICAgICAgZnVuY3Rpb24gcGFyc2VTaXplKHNpemUpIHsKICAgICAgICAvLyDotoXov4cgR0IKICAgICAgICBpZiAoc2l6ZS5sZW5ndGggPiA5KSB7CiAgICAgICAgICBzaXplID0gc2l6ZS5zbGljZSgwLCAtNyk7CiAgICAgICAgICByZXR1cm4gc2l6ZS5zbGljZSgwLCAtMikgKyAnLicgKyBzaXplLnNsaWNlKC0yKSArICcgR0InOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChwYXJzZUludChzaXplKSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpICsgJyBNQic7CiAgICAgIH0KCiAgICAgIC8qKgogICAgICAgKiDkuIDkuKrnroDljZXnmoTnsbvkvLzkuo4gTm9kZUpTIEJ1ZmZlciDnmoTlrp7njrAuCiAgICAgICAqIOeUqOS6juino+aekOa4uOS+oOW6puWomOaPkOWPlueggeOAggogICAgICAgKiBAcGFyYW0ge1NpbXBsZUJ1ZmZlcn0KICAgICAgICovCiAgICAgIGZ1bmN0aW9uIFNpbXBsZUJ1ZmZlcihzdHIpIHsKICAgICAgICB0aGlzLmZyb21TdHJpbmcoc3RyKTsKICAgICAgfQoKICAgICAgU2ltcGxlQnVmZmVyLnRvU3RkSGV4ID0gZnVuY3Rpb24gdG9TdGRIZXgobikgewogICAgICAgIHJldHVybiAoJzAnICsgbi50b1N0cmluZygxNikpLnNsaWNlKC0yKTsKICAgICAgfTsKCiAgICAgIFNpbXBsZUJ1ZmZlci5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyKSB7CiAgICAgICAgdmFyIGxlbiA9IHN0ci5sZW5ndGg7CgogICAgICAgIHRoaXMuYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICB0aGlzLmJ1ZltpXSA9IHN0ci5jaGFyQ29kZUF0KGkpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIFNpbXBsZUJ1ZmZlci5wcm90b3R5cGUucmVhZFVuaWNvZGUgPSBmdW5jdGlvbiByZWFkVW5pY29kZShpbmRleCwgc2l6ZSkgewogICAgICAgIGlmIChzaXplICYgMSkKICAgICAgICAgIHNpemUrKzsKCiAgICAgICAgdmFyIGJ1ZlRleHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmJ1ZiwgaW5kZXgsIGluZGV4ICsgc2l6ZSkubWFwKFNpbXBsZUJ1ZmZlci50b1N0ZEhleCk7CgogICAgICAgIHZhciBidWYgPSBbJyddOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAyKQogICAgICAgICAgYnVmLnB1c2goYnVmVGV4dFtpICsgMV0gKyBidWZUZXh0W2ldKTsKCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJyInICsgYnVmLmpvaW4oJ1xcdScpICsgJyInKTsKICAgICAgfTsKCiAgICAgIFNpbXBsZUJ1ZmZlci5wcm90b3R5cGUucmVhZE51bWJlciA9IGZ1bmN0aW9uIHJlYWROdW1iZXIoaW5kZXgsIHNpemUpIHsKICAgICAgICB2YXIgcmV0ID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgc2l6ZTsgaSA+IGluZGV4OykKICAgICAgICAgIHJldCA9IHRoaXMuYnVmWy0taV0gKyAocmV0ICogMjU2KTsKCiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfTsKCiAgICAgIFNpbXBsZUJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQgPSBmdW5jdGlvbiByZWFkVUludChpbmRleCkgewogICAgICAgIHJldHVybiB0aGlzLnJlYWROdW1iZXIoaW5kZXgsIDQpOwogICAgICB9OwoKICAgICAgU2ltcGxlQnVmZmVyLnByb3RvdHlwZS5yZWFkVUxvbmcgPSBmdW5jdGlvbiByZWFkVUxvbmcoaW5kZXgpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZWFkTnVtYmVyKGluZGV4LCA4KTsKICAgICAgfTsKCiAgICAgIFNpbXBsZUJ1ZmZlci5wcm90b3R5cGUucmVhZEhleCA9IGZ1bmN0aW9uIHJlYWRIZXgoaW5kZXgsIHNpemUpIHsKICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5idWYsIGluZGV4LCBpbmRleCArIHNpemUpLm1hcChTaW1wbGVCdWZmZXIudG9TdGRIZXgpLmpvaW4oJycpOwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gRHVQYXJzZXIoKSB7fQogICAgICBEdVBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uIGdlbmVyYWxEdUNvZGVQYXJzZShzelVybCkgewogICAgICAgIHZhciByOwogICAgICAgIGlmIChzelVybC5pbmRleE9mKCdCRExJTksnKSA9PT0gMCkgewogICAgICAgICAgciA9IER1UGFyc2VyLnBhcnNlRHVfdjEoc3pVcmwpOwogICAgICAgICAgci52ZXIgPSAn5ri45L6gIHYxJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgciA9IER1UGFyc2VyLnBhcnNlRHVfdjIoc3pVcmwpOwogICAgICAgICAgci52ZXIgPSAn5qKm5aes5qCH5YeGJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH07CgogICAgICBEdVBhcnNlci5wYXJzZUR1X3YxID0gZnVuY3Rpb24gcGFyc2VEdV92MShzelVybCkgewogICAgICAgIHZhciByYXcgPSBhdG9iKHN6VXJsLnNsaWNlKDYpLnJlcGxhY2UoL1xzL2csICcnKSk7CiAgICAgICAgaWYgKHJhdy5zbGljZSgwLCA1KSAhPT0gJ0JERlNceDAwJykKICAgICAgICAgIHJldHVybiBudWxsOwoKICAgICAgICB2YXIgYnVmID0gbmV3IFNpbXBsZUJ1ZmZlcihyYXcpOwoKICAgICAgICB2YXIgcHRyID0gOTsKICAgICAgICB2YXIgYXJyRmlsZXMgPSBbXTsKICAgICAgICB2YXIgZmlsZUluZm8sIG5hbWVTaXplOwogICAgICAgIHZhciB0b3RhbCA9IGJ1Zi5yZWFkVUludCg1KTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvdGFsOyBpKyspIHsKICAgICAgICAgIC8vIOWkp+WwjyAoOCBieXRlcykKICAgICAgICAgIC8vIE1ENSArIE1ENVMgKDB4MjApCiAgICAgICAgICAvLyBuYW1lU2l6ZSAoNCBieXRlcykKICAgICAgICAgIC8vIE5hbWUgKHVuaWNvZGUpCiAgICAgICAgICBmaWxlSW5mbyA9IHt9OwogICAgICAgICAgZmlsZUluZm8uc2l6ZSA9IGJ1Zi5yZWFkVUxvbmcocHRyICsgMCk7CiAgICAgICAgICBmaWxlSW5mby5tZDUgPSBidWYucmVhZEhleChwdHIgKyA4LCAweDEwKTsKICAgICAgICAgIGZpbGVJbmZvLm1kNXMgPSBidWYucmVhZEhleChwdHIgKyAweDE4LCAweDEwKTsKICAgICAgICAgIG5hbWVTaXplID0gYnVmLnJlYWRVSW50KHB0ciArIDB4MjgpIDw8IDE7CiAgICAgICAgICBmaWxlSW5mby5uYW1lU2l6ZSA9IG5hbWVTaXplOwogICAgICAgICAgcHRyICs9IDB4MkM7CgogICAgICAgICAgZmlsZUluZm8ubmFtZSA9IGJ1Zi5yZWFkVW5pY29kZShwdHIsIG5hbWVTaXplKTsKICAgICAgICAgIGFyckZpbGVzLnB1c2goZmlsZUluZm8pOwogICAgICAgICAgcHRyICs9IG5hbWVTaXplOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFyckZpbGVzOwogICAgICB9OwoKICAgICAgRHVQYXJzZXIucGFyc2VEdV92MiA9IGZ1bmN0aW9uIHBhcnNlRHVfdjIoc3pVcmwpIHsKICAgICAgICByZXR1cm4gc3pVcmwuc3BsaXQoJ1xuJykubWFwKGZ1bmN0aW9uKHopIHsKICAgICAgICAgIC8vIHVuc2lnbmVkIGxvbmcgbG9uZzogMH4xODQ0Njc0NDA3MzcwOTU1MTYxNQogICAgICAgICAgcmV0dXJuIHoudHJpbSgpLm1hdGNoKC8oW1xkQS1GXXszMn0pIyhbXGRBLUZdezMyfSkjKFtcZF17MSwyMH0pIyhbXHNcU10rKS8pOwogICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbih6KSB7CiAgICAgICAgICByZXR1cm4gejsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24oaW5mbykgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbWQ1OiBpbmZvWzFdLAogICAgICAgICAgICBtZDVzOiBpbmZvWzJdLAogICAgICAgICAgICBzaXplOiBpbmZvWzNdLAogICAgICAgICAgICBuYW1lOiBpbmZvWzRdCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyog5pS25bC+ICovCiAgICAgIHJldHVybiBzaG93RGlhbG9nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbG9hZERlcGVuZGVuY2llcygpIHsKICAgIF9HLk1lc3NhZ2UgPSBvUmVxdWlyZSgic3lzdGVtLWNvcmU6c3lzdGVtL2Jhc2VTZXJ2aWNlL21lc3NhZ2UvbWVzc2FnZS5qcyIpOwogICAgX0cuVGlwID0gb1JlcXVpcmUoInN5c3RlbS1jb3JlOnN5c3RlbS91aVNlcnZpY2UvdGlwL3RpcC5qcyIpOwogICAgX0cuRGlhbG9nID0gb1JlcXVpcmUoInN5c3RlbS1jb3JlOnN5c3RlbS91aVNlcnZpY2UvZGlhbG9nL2RpYWxvZy5qcyIpOwogICAgX0cuQ29udGV4dCA9IG9SZXF1aXJlKCJzeXN0ZW0tY29yZTpjb250ZXh0L2NvbnRleHQuanMiKS5pbnN0YW5jZUZvclN5c3RlbTsKICAgIF9HLnVpID0gX0cuQ29udGV4dC51aTsKICB9Cn0pKCk7CgovLyBJbmplY3Qgc3R5bGUKdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKc3R5bGUudGV4dENvbnRlbnQgPSBgCi5qeF9idG4gewoJYmFja2dyb3VuZDogI2ZlZmVmZTsKCWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICAjZmVmZWZlIDAlLCNmMmYyZjIgODglKTsKCglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CglsaW5lLWhlaWdodDogMjVweDsKCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgltYXJnaW46IDAgMCAwIDEwcHg7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cglib3JkZXI6IDFweCBzb2xpZCAjQUFBOwoJcGFkZGluZzogMHB4IDIwcHg7CgloZWlnaHQ6IDI2cHg7Cglib3JkZXItcmFkaXVzOiAycHg7CgoJbWluLXdpZHRoOiAzZW07Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmp4X2J0biwgLmp4X2J0bjpob3ZlciwgLmp4X2J0bjpmb2N1cyB7Cgljb2xvcjogIzY2NjsKfQouanhfYnRuOmFjdGl2ZSB7Cgljb2xvcjogIzA2QzsKCWJhY2tncm91bmQ6ICNlM2UzZTM7CgliYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZTNlM2UzIDAlLCAjZjdmN2Y3IDEyJSk7CgliYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZTNlM2UzIDAlLCNmN2Y3ZjcgMTIlKTsKCWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICAjZTNlM2UzIDAlLCNmN2Y3ZjcgMTIlKTsKfQouangtaW5wdXQgewogICAgbWFyZ2luOiA5cHggMDsKICAgIF9tYXJnaW46IDdweCAwOwogICAgcGFkZGluZzogMCAwIDAgNXB4OwogICAgd2lkdGg6IDIwMHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMzYjhjZmY7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU4LDE0MCwyNTUsLjMpOwogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDJweDsKfQoKLmp4X2hpZGUgICB7IGRpc3BsYXk6IG5vbmUgfQouanhfY193YXJuIHsgY29sb3I6IHJlZCB9CgouanhfbGlzdCB7Cgl0ZXh0LWFsaWduOiBsZWZ0OwoJbWF4LWhlaWdodDogM2VtOwoJb3ZlcmZsb3cteTogc2Nyb2xsOwoJb3ZlcmZsb3cteDogaGlkZGVuOwoJbGluZS1oZWlnaHQ6IDE7CglwYWRkaW5nOiAuMmVtOwoJbWFyZ2luLWJvdHRvbTogLjVlbTsKfQoKLmp4X2xpc3QgLm5hbWUgewoJY29sb3I6IGJsYWNrOwp9Ci5qeF9saXN0IC5zaXplIHsKCWNvbG9yOiAjNzc3Owp9Cgp0ZXh0YXJlYS5qeHsKCXdpZHRoOiAxMDAlOwogICAgbWluLWhlaWdodDogNGVtOwp9YDsKZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7"},{"name":"解决百度云大文件下载限制 （路人添加版）","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/*","*://yun.baidu.com/*","*://eyun.baidu.com/*","*://wangpan.baidu.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856048},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/30578-%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E4%BA%91%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E9%99%90%E5%88%B6-%E8%B7%AF%E4%BA%BA%E6%B7%BB%E5%8A%A0%E7%89%88/code/%E8%A7%A3%E5%86%B3%E7%99%BE%E5%BA%A6%E4%BA%91%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E9%99%90%E5%88%B6%20%EF%BC%88%E8%B7%AF%E4%BA%BA%E6%B7%BB%E5%8A%A0%E7%89%88%EF%BC%89.user.js","uuid":"27f41bef-dc7f-4fa9-83be-12c32b7729e3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDop6PlhrPnmb7luqbkupHlpKfmlofku7bkuIvovb3pmZDliLYg77yI6Lev5Lq65re75Yqg54mI77yJCi8vIEBuYW1lc3BhY2UgICAgdW5kZWZpbmVkCi8vIEB2ZXJzaW9uICAgICAgMC4wLjYrCi8vIEBkZXNjcmlwdGlvbiAg5LiA6KGM5Luj56CB77yM6Kej5Yaz55m+5bqm5LqR5aSn5paH5Lu25LiL6L296ZmQ5Yi2Ci8vIEBhdXRob3IgICAgICAg5Y6f5L2c6ICF77yaZnVuaWFud3V4aW4KLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9leXVuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3dhbmdwYW4uYmFpZHUuY29tLyoKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvciksJ3BsYXRmb3JtJyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICdzYl9iYWlkdSc7fX0pCgoKKGZ1bmN0aW9uKCl7CnZhciBocmVmPWxvY2F0aW9uLmhyZWY7Ci9odHRwOi8udGVzdChocmVmKT9sb2NhdGlvbi5ocmVmPSdodHRwcycraHJlZi5zbGljZSg0KTowOwp9KCkpOw=="},{"name":"百度网盘直接下载助手","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856052},"enabled":false,"position":13,"file_url":"https://greasyfork.org/scripts/23635-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B.user.js","uuid":"00119d4c-eb80-437c-b169-cbdb119f6256","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnmb7luqbnvZHnm5jnm7TmjqXkuIvovb3liqnmiYsKLy8gQG5hbWVzcGFjZSAgICB1bmRlZmluZWQKLy8gQHZlcnNpb24gICAgICAwLjkuMjQKLy8gQGRlc2NyaXB0aW9uICDnm7TmjqXkuIvovb3nmb7luqbnvZHnm5jlkoznmb7luqbnvZHnm5jliIbkuqvnmoTmlofku7Ys6YG/5YWN5LiL6L295paH5Lu25pe26LCD55So55m+5bqm572R55uY5a6i5oi356uvLOiOt+WPlue9keebmOaWh+S7tueahOebtOaOpeS4i+i9veWcsOWdgAovLyBAYXV0aG9yICAgICAgIGl2ZXNqYXkKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEBtYXRjaCAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vc2hhcmUvbGluayoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktbGF0ZXN0LmpzCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyICQgPSAkIHx8IHdpbmRvdy4kOwogICAgdmFyIGxvZ19jb3VudCA9IDE7CiAgICB2YXIgd29yZE1hcEh0dHAgPSB7CiAgICAgICAgJ2xpc3QtZ3JpZC1zd2l0Y2gnOid5dmdiOVhKJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2tzYlhabScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOid0Y2g2VzI1JywKICAgICAgICAnbGlzdC1zd2l0Y2gnOidscmJvOWEnLAogICAgICAgICdncmlkLXN3aXRjaCc6J3hoNnBvTCcsCiAgICAgICAgJ2NoZWNrYm94JzonRU9HZXhmJywKICAgICAgICAnY29sLWl0ZW0nOidReHlmdmcnLAogICAgICAgICdjaGVjayc6J2Z5ZEdOQycsCiAgICAgICAgJ2NoZWNrZWQnOidFenViR2cnLAogICAgICAgICdsaXN0LXZpZXcnOid2ZEFmS01iJywKICAgICAgICAnaXRlbS1hY3RpdmUnOiduZ2I5TzYnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzoneHBYMlBWJywKICAgICAgICAnYmFyJzoncXhuWDJHNScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXBIdHRwcyA9IHsKICAgICAgICAnbGlzdC1ncmlkLXN3aXRjaCc6J3FvYm1YQjFxJywKICAgICAgICAnbGlzdC1zd2l0Y2hlZC1vbic6J2V3WG0xZScsCiAgICAgICAgJ2dyaWQtc3dpdGNoZWQtb24nOidreGhrWDJFbScsCiAgICAgICAgJ2xpc3Qtc3dpdGNoJzoncnZwWG02MycsCiAgICAgICAgJ2dyaWQtc3dpdGNoJzonbXhnZEpnd3YnLAogICAgICAgICdjaGVja2JveCc6J0VPR2V4ZicsCiAgICAgICAgJ2NvbC1pdGVtJzonUXh5ZnZnJywKICAgICAgICAnY2hlY2snOidmeWRHTkMnLAogICAgICAgICdjaGVja2VkJzonRXp1YkdnJywKICAgICAgICAnbGlzdC12aWV3JzondmRBZktNYicsCiAgICAgICAgJ2l0ZW0tYWN0aXZlJzoncGNhbVhCUlgnLAogICAgICAgICdncmlkLXZpZXcnOidKS3ZISk1iJywKICAgICAgICAnYmFyLXNlYXJjaCc6J09GYVBhTycsCiAgICAgICAgJ2RlZmF1bHQtZG9tJzonbnl6dEpxV0UnLAogICAgICAgICdiYXInOidta3NlSnFLUScsCiAgICAgICAgJ2xpc3QtdG9vbHMnOidRRERPUUInCiAgICB9OwogICAgdmFyIHdvcmRNYXAgPSBsb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cDonID8gd29yZE1hcEh0dHAgOiB3b3JkTWFwSHR0cHM7CiAgICAKICAgIC8vY29uc29sZS5sb2cod29yZE1hcCk7CgogICAgZnVuY3Rpb24gc2xvZyhjMSxjMixjMyl7CiAgICAgICAgYzEgPSBjMT9jMTonJzsKICAgICAgICBjMiA9IGMyP2MyOicnOwogICAgICAgIGMzID0gYzM/YzM6Jyc7CiAgICAgICAgY29uc29sZS5sb2coJyMnKyBsb2dfY291bnQrKyArJy1CYWlEdU5ldGRpc2tIZWxwZXItbG9nOicsYzEsYzIsYzMpOwogICAgfQoKICAgICQoZnVuY3Rpb24oKXsKICAgICAgICBzd2l0Y2goZGV0ZWN0UGFnZSgpKXsKICAgICAgICAgICAgY2FzZSAnZGlzayc6CiAgICAgICAgICAgICAgICB2YXIgcGFuSGVscGVyID0gbmV3IFBhbkhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuSGVscGVyLmluaXQoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgY2FzZSAnc2hhcmUnOgogICAgICAgICAgICBjYXNlICdzJzoKICAgICAgICAgICAgICAgIHZhciBwYW5TaGFyZUhlbHBlciA9IG5ldyBQYW5TaGFyZUhlbHBlcigpOwogICAgICAgICAgICAgICAgcGFuU2hhcmVIZWxwZXIuaW5pdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0pOwoKICAgIC8v572R55uY6aG16Z2i55qE5LiL6L295Yqp5omLCiAgICBmdW5jdGlvbiBQYW5IZWxwZXIoKXsKICAgICAgICB2YXIgeXVuRGF0YSxzaWduLHRpbWVzdGFtcCxiZHN0b2tlbixsb2dpZCxmaWRfbGlzdDsKICAgICAgICB2YXIgZmlsZUxpc3Q9W10sc2VsZWN0RmlsZUxpc3Q9W10sYmF0Y2hMaW5rTGlzdD1bXSxiYXRjaExpbmtMaXN0QWxsPVtdLGxpbmtMaXN0PVtdLAogICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzPSdsaXN0JzsKICAgICAgICB2YXIgb2JzZXJ2ZXIsY3VycmVudFBhZ2UsY3VycmVudFBhdGgsY3VycmVudENhdGVnb3J5LGRpYWxvZyxzZWFyY2hLZXk7CiAgICAgICAgdmFyIHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgICAgIHZhciByZXN0QVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9wY3MuYmFpZHUuY29tL3Jlc3QvMi4wL3Bjcy8iOwogICAgICAgIHZhciBjbGllbnRBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvL2QucGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICBzbG9nKCd5dW5EYXRhOicseXVuRGF0YSk7CiAgICAgICAgICAgIGlmKHl1bkRhdGEgPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICBzbG9nKCfpobXpnaLmnKrmraPluLjliqDovb3vvIzmiJbogIXnmb7luqblt7Lnu4/mm7TmlrDvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbml0UGFyYW1zKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICAgICAgICBhZGRCdXR0b24oKTsKICAgICAgICAgICAgY3JlYXRlSWZyYW1lKCk7CiAgICAgICAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6dHJ1ZX0pOwoKICAgICAgICAgICAgc2xvZygn572R55uY55u05o6l5LiL6L295Yqp5omL5Yqg6L295oiQ5Yqf77yBJyk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpewogICAgICAgICAgICBzaWduID0gZ2V0U2lnbigpOwogICAgICAgICAgICB0aW1lc3RhbXAgPSBnZXRUaW1lc3RhbXAoKTsKICAgICAgICAgICAgYmRzdG9rZW4gPSBnZXRCRFN0b2tlbigpOwogICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgc2xvZygnQ3VycmVudCBkaXNwbGF5IG1vZGU6JyxjdXJyZW50UGFnZSk7CgogICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSAnbGlzdCcpCiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKCiAgICAgICAgICAgIGlmKGN1cnJlbnRQYWdlID09ICdjYXRlZ29yeScpCiAgICAgICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwoKICAgICAgICAgICAgaWYoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpCiAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKCiAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGaWxlTGlzdCgpewogICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2xpc3QnKSB7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ2NhdGVnb3J5Jyl7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldENhdGVnb3J5RmlsZUxpc3QoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PSAnc2VhcmNoJykgewogICAgICAgICAgICAgICAgZmlsZUxpc3QgPSBnZXRTZWFyY2hGaWxlTGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0TGlzdCgpewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaExpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nmoTop4blm77mqKHlvI8KICAgICAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3JldHVybiAkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdsaXN0LXN3aXRjaGVkLW9uJyk/J2xpc3QnOigkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpLmhhc0NsYXNzKCdncmlkLXN3aXRjaGVkLW9uJyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIC8vcmV0dXJuICQoJ2Rpdi5pdGlXelBZJykuaGFzQ2xhc3MoJ2t1ZHRXWTQ2Jyk/J2xpc3QnOigkKCdkaXYuaXRpV3pQWScpLmhhc0NsYXNzKCdueXRBTDl3Jyk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgICAgIHJldHVybiAkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2xpc3Qtc3dpdGNoZWQtb24nXSk/J2xpc3QnOigkKCdkaXYuJyt3b3JkTWFwWydsaXN0LWdyaWQtc3dpdGNoJ10pLmhhc0NsYXNzKHdvcmRNYXBbJ2dyaWQtc3dpdGNoZWQtb24nXSk/J2dyaWQnOidsaXN0Jyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckV2ZW50TGlzdGVuZXIoKXsKICAgICAgICAgICAgcmVnaXN0ZXJIYXNoQ2hhbmdlKCk7CiAgICAgICAgICAgIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4blnLDlnYDmoI8j5qCH562+55qE5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJIYXNoQ2hhbmdlKCl7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICAgICAgaWYoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFBhdGggPT0gZ2V0UGF0aCgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnZXRDdXJyZW50UGFnZSgpID09ICdjYXRlZ29yeScpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudENhdGVnb3J5ID09IGdldENhdGVnb3J5KCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGdldEN1cnJlbnRQYWdlKCkgPT0gJ3NlYXJjaCcpIHsKICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VhcmNoS2V5ID09IGdldFNlYXJjaEtleSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG6KeG5Zu+5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICAvL3ZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgIC8vdmFyICRhX2xpc3QgPSAkKCdhW25vZGUtdHlwZT1lZXBXemtrXScpOwogICAgICAgICAgICB2YXIgJGFfbGlzdCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnbGlzdC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9saXN0LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgLy92YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPXl0bnZXWTdxXScpOwogICAgICAgICAgICB2YXIgJGFfZ3JpZCA9ICQoJ2Fbbm9kZS10eXBlPScrd29yZE1hcFsnZ3JpZC1zd2l0Y2gnXSsnXScpOwogICAgICAgICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v5paH5Lu26YCJ5oup5qGGCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uRU9HZXhmJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdsaXN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBhJywkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL2lmKCRwYXJlbnQuaGFzQ2xhc3MoJ2l0ZW0tYWN0aXZlJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygncHJXelhBJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnaXRlbS1hY3RpdmUnXSkpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojpgInkuK3mlofku7bvvJonK2ZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxzZWxlY3RGaWxlTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0W2ldLmZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5zcGxpY2UoaSwxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7Y6JytmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uY2hlY2tib3gnKTsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5FT0dleGYnKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uJyt3b3JkTWFwWydjaGVja2JveCddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+WFqOmAieahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnZGl2LmNvbC1pdGVtLmNoZWNrJyk7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5ReHlmdmcuZnlkR05DJyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdkaXYuJyt3b3JkTWFwWydjb2wtaXRlbSddKycuJyt3b3JkTWFwWydjaGVjayddKTsKICAgICAgICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgLy9pZigkcGFyZW50Lmhhc0NsYXNzKCdjaGVja2VkJykpewogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygnRXp1YkdnJykpewogICAgICAgICAgICAgICAgICAgIGlmKCRwYXJlbnQuaGFzQ2xhc3Mod29yZE1hcFsnY2hlY2tlZCddKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdkaXYuUXh5ZnZnLmZ5ZEdOQycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/ljZXkuKrmlofku7bpgInkuK3vvIzngrnlh7vmlofku7bkuI3mmK/ngrnlh7vpgInkuK3moYbvvIzkvJrlj6rpgInkuK3or6Xmlofku7YKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ3NoaWZ0S2V5OicrZS5zaGlmdEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFlLnNoaWZ0S2V5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNkaXI6ZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyICRkZF9zZWxlY3QgPSAkKCdkaXYubGlzdC12aWV3IGRkLml0ZW0tYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciAkZGRfc2VsZWN0ID0gJCgnZGl2LnZkQWZLTWIgZGQucHJXelhBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRkX3NlbGVjdCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKycgZGQuJyt3b3JkTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCgkZGRfc2VsZWN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsJChlbGVtZW50KSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICAvL3ZhciAkZGQgPSAkKCdkaXYudmRBZktNYiBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXZpZXcnKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy92YXIgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZkQWZLTWInKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkpLdkhKTWInKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBsaXN0X3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydsaXN0LXZpZXcnXSk7CiAgICAgICAgICAgIHZhciBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyt3b3JkTWFwWydncmlkLXZpZXcnXSk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxpc3RfdmlldyxvcHRpb25zKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsb3B0aW9ucyk7CiAgICAgICAgfQoKICAgICAgICAvL+a3u+WKoOWKqeaJi+aMiemSrgogICAgICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpewogICAgICAgICAgICAvLyQoJ2Rpdi5iYXItc2VhcmNoJykuY3NzKCd3aWR0aCcsJzE4JScpOy8v5L+u5pS55pCc57Si5qGG55qE5a695bqm77yM6YG/5YWN6YGu5oyhCiAgICAgICAgICAgIC8vJCgnZGl2Lk9GYVBhTycpLmNzcygnd2lkdGgnLCcxOCUnKTsKICAgICAgICAgICAgJCgnZGl2Licrd29yZE1hcFsnYmFyLXNlYXJjaCddKS5jc3MoJ3dpZHRoJywnMTglJyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24iPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDo5NnB4Ij48L3NwYW4+Jyk7CgogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj7nm7TmjqXkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3OXB4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1kaXJlY3QiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImxpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAgICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQKTwvYT4nKTsKICAgICAgICAgICAgdmFyICRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cHNsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQUyk8L2E+Jyk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbWVudS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbikuYXBwZW5kKCRkaXJlY3RidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2EpLmFwcGVuZCgkZGlyZWN0YnV0dG9uX21lbnUpKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICAgICAgICRkaXJlY3RidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CgogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBzdHlsZT0iZGlzcGxheTpibG9jayI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGFwaWJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIGctZHJvcGRvd24tYnV0dG9uLXNlY29uZCIgbWVudWxldmVsPSIyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvIj5BUEnkuIvovb08L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fbWVudSA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTIwcHg7bGVmdDo3N3B4Ij48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2Rvd25sb2FkX2J1dHRvbiA9ICQoJzxhIGlkPSJkb3dubG9hZC1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7kuIvovb08L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9Imh0dHBsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUCk8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBzbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mibnph4/pk77mjqUoSFRUUFMpPC9hPicpOwogICAgICAgICAgICAkYXBpYnV0dG9uX21lbnUuYXBwZW5kKCRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRhcGlidXR0b24uYXBwZW5kKCRhcGlidXR0b25fc3Bhbi5hcHBlbmQoJGFwaWJ1dHRvbl9hKS5hcHBlbmQoJGFwaWJ1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRhcGlidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRhcGlidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkYXBpYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CiAgICAgICAgICAgICRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwoKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+5aSW6ZO+5LiL6L29PC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgICAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX21lbnUgPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjEyMHB4O2xlZnQ6NzlweCI+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9kb3dubG9hZF9idXR0b24gPSAkKCc8YSBpZD0iZG93bmxvYWQtb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5LiL6L29PC9hPicpOwogICAgICAgICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJsaW5rLW91dGVybGluayIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lPC9hPicpOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX21lbnUuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbik7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fc3Bhbi5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9hKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9tZW51KSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b24uaG92ZXIoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fZG93bmxvYWRfYnV0dG9uLmNsaWNrKGRvd25sb2FkQ2xpY2spOwogICAgICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICAgICAgICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b24pOwogICAgICAgICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8kKCdkaXYuZGVmYXVsdC1kb20gZGl2LmJhciBkaXYubGlzdC10b29scycpLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgICAgICAgICAvLyQoJ2Rpdi5pcmhXOXBaIGRpdi55cWdSNzQ3IGRpdi5RRERPUUInKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICAgICAgJCgnZGl2Licrd29yZE1hcFsnZGVmYXVsdC1kb20nXSsnIGRpdi4nK3dvcmRNYXBbJ2JhciddKycgZGl2Licrd29yZE1hcFsnbGlzdC10b29scyddKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgICB9CgogICAgICAgIC8v5pqC5pe25rKh55SoCiAgICAgICAgLy8gZnVuY3Rpb24gYWRkTG9hZGluZygpewogICAgICAgIC8vICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgIC8vICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ7CiAgICAgICAgLy8gICAgIHZhciBsZWZ0ID0gKHNjcmVlbldpZHRoLTEwKS8yOwogICAgICAgIC8vICAgICB2YXIgdG9wID0gc2NyZWVuSGVpZ2h0LzI7CiAgICAgICAgLy8gICAgIHZhciAkbG9hZGluZyA9ICQoJzxkaXYgaWQ9ImRpYWxvZy1sb2FkaW5nIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDonK2xlZnQrJ3B4O3RvcDonK3RvcCsncHg7ZGlzcGxheTpub25lO3otaW5kZXg6NTI7Y29sb3I6d2hpdGU7Zm9udC1zaXplOjE2cHgiPuWkhOeQhuS4rTwvZGl2PicpOwogICAgICAgIC8vICAgICAkKCdib2R5JykuYXBwZW5kKCRsb2FkaW5nKTsKICAgICAgICAvLyB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkQ2xpY2soZXZlbnQpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwoKICAgICAgICAgICAgaWYoaWQgPT0gJ2Rvd25sb2FkLWRpcmVjdCcpewogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkVHlwZTsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLojrflj5bpgInkuK3mlofku7blpLHotKXvvIzor7fliLfmlrDph43or5XvvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGU9ICdkbGluayc7CiAgICAgICAgICAgICAgICAgICAgLy9kb3dubG9hZFR5cGUgPSBzZWxlY3RGaWxlTGlzdFswXS5pc2Rpcj09MT8nYmF0Y2gnOihzZWxlY3RGaWxlTGlzdFswXS5pc2Rpcj09PTA/J2RsaW5rJzonYmF0Y2gnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT09IDApewogICAgICAgICAgICAgICAgICAgIGlmKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUpICsgJy56aXAnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocmVzdWx0LmVycm5vID09IC0xKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDExMil7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIumhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHlpJrmlofku7bkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihpZCA9PSAnZG93bmxvYWQtYXBpJyl7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gJ2Rvd25sb2FkLW91dGVybGluaycpewogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5lcnJubyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LnVybHNbMF0udXJsOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJubyA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aWh+S7tuS4jeWtmOWcqO+8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDIpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW6ICF5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGV4ZWNEb3dubG9hZChkb3dubG9hZExpbmspOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbGlua0NsaWNrKGV2ZW50KXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIHZhciBpZCA9IGV2ZW50LnRhcmdldC5pZDsKICAgICAgICAgICAgdmFyIGxpbmtMaXN0LHRpcDsKCiAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2RpcmVjdCcpICE9IC0xKXsKICAgICAgICAgICAgICAgIHZhciBkb3dubG9hZFR5cGU7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkVHlwZT0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT09IDApewogICAgICAgICAgICAgICAgICAgIGlmKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lKSArICcuemlwJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IC0xKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDExMil7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIumhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgaHR0cGxpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHA6Jyk7CiAgICAgICAgICAgICAgICB2YXIgaHR0cHNsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCdodHRwczonKTsKICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lICsgJywnICsgZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgIHVybHM6WwogICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBsaW5rLHJhbms6MX0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt1cmw6aHR0cHNsaW5rLHJhbms6Mn0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaooeaLn+eZvuW6pue9keebmOe9kemhteiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuWIsOS4i+i9veW3peWFt+mcgOimgeS8oOmAkmNvb2tpZe+8jOWkmuaWh+S7tuaJk+WMheS4i+i9veeahOmTvuaOpeWPr+S7peebtOaOpeWkjeWItuS9v+eUqCc7CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLor6Xmlrnms5XkuI3mlK/mjIHlpJrmlofku7bkuIvovb3vvIEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yBIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihpZC5pbmRleE9mKCdhcGknKSAhPSAtMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGh0dHBsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCdodHRwOicpOwogICAgICAgICAgICAgICAgICAgIHZhciBodHRwc2xpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sJ2h0dHBzOicpOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTpzZWxlY3RGaWxlTGlzdFswXS5maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBsaW5rLHJhbms6MX0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmh0dHBzbGluayxyYW5rOjJ9CiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGh0dHBsaW5rID0gaHR0cGxpbmsucmVwbGFjZSgnMjUwNTI4JywnMjY2NzE5Jyk7CiAgICAgICAgICAgICAgICAgICAgaHR0cHNsaW5rID0gaHR0cHNsaW5rLnJlcGxhY2UoJzI1MDUyOCcsJzI2NjcxOScpOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0LnVybHMucHVzaCh7dXJsOmh0dHBsaW5rLHJhbms6M30pOwogICAgICAgICAgICAgICAgICAgIGxpbmtMaXN0LnVybHMucHVzaCh7dXJsOmh0dHBzbGluayxyYW5rOjR9KTsKICAgICAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65qih5oufQVBQ6I635Y+W55qE6ZO+5o6lKOS9v+eUqOeZvuW6puS6kUlEKe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuWIsOS4i+i9veW3peWFt+mcgOimgeS8oOmAkmNvb2tpZSc7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhDbGllbnRBUEkoc2VsZWN0RmlsZUxpc3RbMF0ucGF0aCk7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmVycm5vID09IDApewogICAgICAgICAgICAgICAgICAgICAgICBsaW5rTGlzdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOnNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpyZXN1bHQudXJscwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHJlc3VsdC5lcnJubyA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+aWh+S7tuS4jeWtmOWcqO+8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzdWx0LmVycm5vID09IDIpewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW6ICF5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi5/nmb7luqbnvZHnm5jlrqLmiLfnq6/ojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xnm7TmjqXlpI3liLbliLDkuIvovb3lt6Xlhbfkvb/nlKjvvIzkuI3pnIDopoFjb29raWUnOwogICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5LiL6L296ZO+5o6lJyx0eXBlOidsaW5rJyxsaXN0OmxpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZSxzaG93ZWRpdDp0cnVlfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9kaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBiYXRjaENsaWNrKGV2ZW50KXsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJyxzZWxlY3RGaWxlTGlzdCk7CiAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICAgICAgICB2YXIgbGlua1R5cGUsdGlwOwogICAgICAgICAgICBsaW5rVHlwZSA9IGlkLmluZGV4T2YoJ2h0dHBzJykgPT0gLTEgPyAoaWQuaW5kZXhPZignaHR0cCcpID09IC0xID8gbG9jYXRpb24ucHJvdG9jb2wrJzonIDogJ2h0dHA6JykgOiAnaHR0cHM6JzsKICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IFtdOwogICAgICAgICAgICBiYXRjaExpbmtMaXN0QWxsID0gW107CiAgICAgICAgICAgIGlmKGlkLmluZGV4T2YoJ2RpcmVjdCcpICE9IC0xKXsKICAgICAgICAgICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXREaXJlY3RCYXRjaExpbmsobGlua1R5cGUpOwogICAgICAgICAgICAgICAgdGlwID0gJ+aYvuekuuaJgOaciemAieS4reaWh+S7tueahOebtOaOpeS4i+i9vemTvuaOpe+8jOaWh+S7tuWkueaYvuekuuS4uuaJk+WMheS4i+i9veeahOmTvuaOpSc7CiAgICAgICAgICAgICAgICBpZihiYXRjaExpbmtMaXN0Lmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+ayoeaciemTvuaOpeWPr+S7peaYvuekuu+8jEFQSemTvuaOpeS4jeimgeWFqOmDqOmAieS4reaWh+S7tuWkue+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5om56YeP6ZO+5o6lJyx0eXBlOidiYXRjaCcsbGlzdDpiYXRjaExpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZX0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQuaW5kZXhPZignYXBpJykgIT0gLTEpewogICAgICAgICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qEQVBJ5LiL6L296ZO+5o6l77yM5LiN5pi+56S65paH5Lu25aS5JzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSl7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0QWxsID0gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rQWxsKCk7CiAgICAgICAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QoYmF0Y2hMaW5rTGlzdEFsbCk7CiAgICAgICAgICAgICAgICB0aXAgPSAn5pi+56S65omA5pyJ6YCJ5Lit5paH5Lu255qE5aSW6YOo5LiL6L296ZO+5o6l77yM5LiN5pi+56S65paH5Lu25aS5JzsKICAgICAgICAgICAgICAgIGlmKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTon5om56YeP6ZO+5o6lJyx0eXBlOidiYXRjaCcsbGlzdDpiYXRjaExpbmtMaXN0LHRpcDp0aXAsc2hvd2NvcHk6dHJ1ZSxhbGxsaXN0OmJhdGNoTGlua0xpc3RBbGwsc2hvd2FsbDp0cnVlfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vZGlhbG9nLm9wZW4oe3RpdGxlOifmibnph4/pk77mjqUnLHR5cGU6J2JhdGNoJyxsaXN0OmJhdGNoTGlua0xpc3QsdGlwOnRpcCxzaG93Y29weTp0cnVlfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREaXJlY3RCYXRjaExpbmsobGlua1R5cGUpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRUeXBlLGRvd25sb2FkTGluayxyZXN1bHQ7CiAgICAgICAgICAgICAgICBpZihlbGVtZW50LmlzZGlyID09IDApCiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2RsaW5rJzsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KFtlbGVtZW50XSk7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgaWYoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKQogICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLGxpbmtUeXBlKTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9ICdlcnJvcic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRBUElCYXRjaExpbmsobGlua1R5cGUpewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBpZihlbGVtZW50LmlzZGlyID09IDEpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkTGluazsKICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUoZWxlbWVudC5wYXRoKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LyxsaW5rVHlwZSk7CiAgICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOmVsZW1lbnQuZmlsZW5hbWUsZG93bmxvYWRsaW5rOmRvd25sb2FkTGlua30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRPdXRlcmxpbmtCYXRjaExpbmtBbGwoKXsKICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaXNkaXIgPT0gMSkKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKGVsZW1lbnQucGF0aCk7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgLy9kb3dubG9hZExpbmsgPSByZXN1bHQudXJsc1swXS51cmw7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGxpbmtzOnJlc3VsdC51cmxzfSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvL2Rvd25sb2FkTGluayA9ICdlcnJvcic7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGxpbmtzOlt7cmFuazoxLHVybDonZXJyb3InfV19KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vbGlzdC5wdXNoKHtmaWxlbmFtZTplbGVtZW50LmZpbGVuYW1lLGRvd25sb2FkbGluazpkb3dubG9hZExpbmt9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBsaXN0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QobGlzdCl7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7ZmlsZW5hbWU6ZWxlbWVudC5maWxlbmFtZSxkb3dubG9hZGxpbms6ZWxlbWVudC5saW5rc1swXS51cmx9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTaWduKCl7CiAgICAgICAgICAgIHZhciBzaWduRm5jOwogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICBzaWduRm5jID0gbmV3IEZ1bmN0aW9uKCJyZXR1cm4gIiArIHl1bkRhdGEuc2lnbjIpKCk7CiAgICAgICAgICAgIH0gY2F0Y2goZSl7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHNpZ25GbmMoeXVuRGF0YS5zaWduNSx5dW5EYXRhLnNpZ24xKSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgICAgIGZ1bmN0aW9uIGdldFBhdGgoKXsKICAgICAgICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICAgICAgICB2YXIgcmVneCA9IC8oXnwmfFwvKXBhdGg9KFteJl0qKSgmfCQpL2k7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsyXSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluWIhuexu+aYvuekuueahOexu+WIq++8jOWNs+WcsOWdgOagj+S4reeahHR5cGUKICAgICAgICBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pdHlwZT0oW14mXSopKCZ8JCkvaTsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzJdKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaEtleSgpewogICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgICAgICAgIHZhciByZWd4ID0gLyhefCZ8XC8pa2V5PShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3pobXpnaIobGlzdOaIluiAhWNhdGVnb3J5KQogICAgICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhoYXNoLmluZGV4T2YoJyMnKSsxLGhhc2guaW5kZXhPZignLycpKSk7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluaWh+S7tuWIl+ihqAogICAgICAgIGZ1bmN0aW9uIGdldEZpbGVMaXN0KCl7CiAgICAgICAgICAgIHZhciBmaWxlbGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgbGlzdFVybCA9IHBhbkFQSVVybCArICJsaXN0IjsKICAgICAgICAgICAgdmFyIHBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGRpcjpwYXRoLAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIG9yZGVyOidzaXplJywKICAgICAgICAgICAgICAgIGRlc2M6MCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MCwKICAgICAgICAgICAgICAgIHNob3dlbXB0eTowLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcGlkOjI1MDUyOAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5saXN0IDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICAvL+iOt+WPluWIhuexu+mhtemdouS4i+eahOaWh+S7tuWIl+ihqAogICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIGZpbGVsaXN0ID0gW107CiAgICAgICAgICAgIHZhciBsaXN0VXJsID0gcGFuQVBJVXJsICsgImNhdGVnb3J5bGlzdCI7CiAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGdldENhdGVnb3J5KCk7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGNhdGVnb3J5OmNhdGVnb3J5LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIG9yZGVyOidzaXplJywKICAgICAgICAgICAgICAgIGRlc2M6MCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MCwKICAgICAgICAgICAgICAgIHNob3dlbXB0eTowLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBjaGFubmVsOidjaHVubGVpJywKICAgICAgICAgICAgICAgIGFwcGlkOjI1MDUyOAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5pbmZvIDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTZWFyY2hGaWxlTGlzdCgpewogICAgICAgICAgICB2YXIgZmlsZWxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGxpc3RVcmwgPSBwYW5BUElVcmwgKyAnc2VhcmNoJzsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIHJlY3Vyc2lvbjoxLAogICAgICAgICAgICAgICAgb3JkZXI6J3RpbWUnLAogICAgICAgICAgICAgICAgZGVzYzoxLAogICAgICAgICAgICAgICAgc2hvd2VtcHR5OjAsCiAgICAgICAgICAgICAgICB3ZWI6MSwKICAgICAgICAgICAgICAgIHBhZ2U6MSwKICAgICAgICAgICAgICAgIG51bToxMDAsCiAgICAgICAgICAgICAgICBrZXk6c2VhcmNoS2V5LAogICAgICAgICAgICAgICAgY2hhbm5lbDonY2h1bmxlaScsCiAgICAgICAgICAgICAgICBhcHBfaWQ6MjUwNTI4LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmxpc3RVcmwsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIG1ldGhvZDonR0VUJywKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgZmlsZWxpc3QgPSAwPT09cmVzcG9uc2UuZXJybm8gPyByZXNwb25zZS5saXN0IDogW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICAgICAgfQoKICAgICAgICAvL+eUn+aIkOS4i+i9veaXtueahGZpZF9saXN05Y+C5pWwCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlkTGlzdChsaXN0KXsKICAgICAgICAgICAgdmFyIGZpZGxpc3QgPSBudWxsOwogICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgdmFyIGZpbGVpZGxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBmaWxlaWRsaXN0LnB1c2goZWxlbWVudC5mc19pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmaWRsaXN0ID0gJ1snICsgZmlsZWlkbGlzdCArICddJzsKICAgICAgICAgICAgcmV0dXJuIGZpZGxpc3Q7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEudGltZXN0YW1wOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0QkRTdG9rZW4oKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W55u05o6l5LiL6L295Zyw5Z2ACiAgICAgICAgLy/ov5nkuKrlnLDlnYDkuI3mmK/nm7TmjqXkuIvovb3lnLDlnYDvvIzorr/pl67ov5nkuKrlnLDlnYDkvJrov5Tlm54zMDLvvIxyZXNwb25zZSBoZWFkZXLkuK3nmoRsb2NhdGlvbuaJjeaYr+ecn+WunuS4i+i9veWcsOWdgAogICAgICAgIC8v5pqC5pe25rKh5pyJ5om+5Yiw5o+Q5Y+W5pa55rOVCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSSh0eXBlKXsKICAgICAgICAgICAgdmFyIGRvd25sb2FkVXJsID0gcGFuQVBJVXJsICsgImRvd25sb2FkIjsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICB2YXIgcGFyYW1zPSB7CiAgICAgICAgICAgICAgICBzaWduOnNpZ24sCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6dGltZXN0YW1wLAogICAgICAgICAgICAgICAgZmlkbGlzdDpmaWRfbGlzdCwKICAgICAgICAgICAgICAgIHR5cGU6dHlwZSwKICAgICAgICAgICAgICAgIGNoYW5uZWw6J2NodW5sZWknLAogICAgICAgICAgICAgICAgd2ViOjEsCiAgICAgICAgICAgICAgICBhcHBfaWQ6MjUwNTI4LAogICAgICAgICAgICAgICAgYmRzdG9rZW46YmRzdG9rZW4sCiAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6MAogICAgICAgICAgICB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOmRvd25sb2FkVXJsLAogICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICBkYXRhOnBhcmFtcywKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUocGF0aCl7CiAgICAgICAgICAgIHZhciBsaW5rID0gcmVzdEFQSVVybCArICdmaWxlP21ldGhvZD1kb3dubG9hZCZhcHBfaWQ9MjUwNTI4JnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKICAgICAgICAgICAgcmV0dXJuIGxpbms7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUVTKHBhdGgpewogICAgICAgICAgICB2YXIgbGluayA9IHJlc3RBUElVcmwgKyAnZmlsZT9tZXRob2Q9ZG93bmxvYWQmYXBwX2lkPTI2NjcxOSZwYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCk7CiAgICAgICAgICAgIHJldHVybiBsaW5rOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShwYXRoKXsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgdmFyIHVybCA9IGNsaWVudEFQSVVybCArICdmaWxlP21ldGhvZD1sb2NhdGVkb3dubG9hZCZhcHBfaWQ9MjUwNTI4JnZlcj00LjAmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpOwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOnVybCwKICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IHsKICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6ewogICAgICAgICAgICAgICAgICAgIDQwNDpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKHJlc3VsdCl7CiAgICAgICAgICAgICAgICBpZihyZXN1bHQuZXJyb3JfY29kZSA9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC51cmxzID09IHVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IDI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZXN1bHQudXJscyxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC51cmxzW2luZGV4XS51cmwgPSBlbGVtZW50LnVybC5yZXBsYWNlKCdcXCcsJycpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihyZXN1bHQuZXJyb3JfY29kZSA9PSAzMTA2Nil7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMTsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHt9OwogICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4ZWNEb3dubG9hZChsaW5rKXsKICAgICAgICAgICAgc2xvZygi5LiL6L296ZO+5o6l77yaIitsaW5rKTsKICAgICAgICAgICAgJCgnI2hlbHBlcmRvd25sb2FkaWZyYW1lJykuYXR0cignc3JjJyxsaW5rKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpewogICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgY2xhc3M9ImhlbHBlci1oaWRlIiBzdHlsZT0icGFkZGluZzowO21hcmdpbjowO2Rpc3BsYXk6YmxvY2siPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGlmcmFtZSA9ICQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGlkPSJoZWxwZXJkb3dubG9hZGlmcmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9pZnJhbWU+Jyk7CiAgICAgICAgICAgICRkaXYuYXBwZW5kKCRpZnJhbWUpOwogICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCRkaXYpOwoKICAgICAgICB9CiAgICB9CgogICAgLy/liIbkuqvpobXpnaLnmoTkuIvovb3liqnmiYsKICAgIGZ1bmN0aW9uIFBhblNoYXJlSGVscGVyKCl7CiAgICAgICAgdmFyIHl1bkRhdGEsc2lnbix0aW1lc3RhbXAsYmRzdG9rZW4sY2hhbm5lbCxjbGllbnR0eXBlLHdlYixhcHBfaWQsbG9naWQsZW5jcnlwdCxwcm9kdWN0LHVrLHByaW1hcnlpZCxmaWRfbGlzdCxleHRyYSxzaGFyZWlkOwogICAgICAgIHZhciB2Y29kZTsKICAgICAgICB2YXIgc2hhcmVUeXBlLGJ1dHRvblRhcmdldCxjdXJyZW50UGF0aCxsaXN0X2dyaWRfc3RhdHVzLG9ic2VydmVyLGRpYWxvZyx2Y29kZURpYWxvZzsKICAgICAgICB2YXIgZmlsZUxpc3Q9W10sc2VsZWN0RmlsZUxpc3Q9W107CiAgICAgICAgdmFyIHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgICAgIHZhciBzaGFyZUxpc3RVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgIi9zaGFyZS9saXN0IjsKCiAgICAgICAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICAgICAgICBzbG9nKCd5dW5EYXRhOicseXVuRGF0YSk7CiAgICAgICAgICAgIGlmKHl1bkRhdGEgPT09IHVuZGVmaW5lZCB8fCB5dW5EYXRhLkZJTEVJTkZPID09IG51bGwpewogICAgICAgICAgICAgICAgc2xvZygn6aG16Z2i5pyq5q2j5bi45Yqg6L2977yM5oiW6ICF55m+5bqm5bey57uP5pu05paw77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW5pdFBhcmFtcygpOwogICAgICAgICAgICBhZGRCdXR0b24oKTsKICAgICAgICAgICAgZGlhbG9nID0gbmV3IERpYWxvZyh7YWRkQ29weTpmYWxzZX0pOwogICAgICAgICAgICB2Y29kZURpYWxvZyA9IG5ldyBWQ29kZURpYWxvZyhyZWZyZXNoVkNvZGUsY29uZmlybUNsaWNrKTsKICAgICAgICAgICAgY3JlYXRlSWZyYW1lKCk7CgogICAgICAgICAgICBpZighaXNTaW5nbGVTaGFyZSgpKXsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgICAgICAgICAgY3JlYXRlT2JzZXJ2ZXIoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2xvZygn5YiG5Lqr55u05o6l5LiL6L295Yqg6L295oiQ5YqfIScpOwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIGluaXRQYXJhbXMoKXsKICAgICAgICAgICAgc2hhcmVUeXBlID0gZ2V0U2hhcmVUeXBlKCk7CiAgICAgICAgICAgIHNpZ24gPSB5dW5EYXRhLlNJR047CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHl1bkRhdGEuVElNRVNUQU1QOwogICAgICAgICAgICBiZHN0b2tlbiA9IHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgICAgICAgY2hhbm5lbCA9ICdjaHVubGVpJzsKICAgICAgICAgICAgY2xpZW50dHlwZSA9IDA7CiAgICAgICAgICAgIHdlYiA9IDE7CiAgICAgICAgICAgIGFwcF9pZCA9IDI1MDUyODsKICAgICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgICBlbmNyeXB0ID0gMDsKICAgICAgICAgICAgcHJvZHVjdCA9ICdzaGFyZSc7CiAgICAgICAgICAgIHByaW1hcnlpZCA9IHl1bkRhdGEuU0hBUkVfSUQ7CiAgICAgICAgICAgIHVrID0geXVuRGF0YS5TSEFSRV9VSzsKCiAgICAgICAgICAgIGlmKHNoYXJlVHlwZSA9PSAnc2VjcmV0Jyl7CiAgICAgICAgICAgICAgICBleHRyYSA9IGdldEV4dHJhKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaXNTaW5nbGVTaGFyZSgpKXsKICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgICAgICAgIGlmKHl1bkRhdGEuQ0FURUdPUlkgPT0gMil7CiAgICAgICAgICAgICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFTkFNRTsKICAgICAgICAgICAgICAgICAgICBvYmoucGF0aCA9IHl1bkRhdGEuUEFUSDsKICAgICAgICAgICAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZTX0lEOwogICAgICAgICAgICAgICAgICAgIG9iai5pc2RpciA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG9iai5maWxlbmFtZSA9IHl1bkRhdGEuRklMRUlORk9bMF0uc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBvYmoucGF0aCA9IHl1bkRhdGEuRklMRUlORk9bMF0ucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmZzX2lkID0geXVuRGF0YS5GSUxFSU5GT1swXS5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmlzZGlyID15dW5EYXRhLkZJTEVJTkZPWzBdLmlzZGlyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaGFyZWlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9IGdldExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v5Yik5pat5YiG5Lqr57G75Z6L77yIcHVibGlj5oiW6ICFc2VjcmV077yJCiAgICAgICAgZnVuY3Rpb24gZ2V0U2hhcmVUeXBlKCl7CiAgICAgICAgICAgIHJldHVybiB5dW5EYXRhLlNIQVJFX1BVQkxJQz09PTEgPyAncHVibGljJyA6ICdzZWNyZXQnOwogICAgICAgIH0KCiAgICAgICAgLy/liKTmlq3mmK/ljZXkuKrmlofku7bliIbkuqvov5jmmK/mlofku7blpLnmiJbogIXlpJrmlofku7bliIbkuqsKICAgICAgICBmdW5jdGlvbiBpc1NpbmdsZVNoYXJlKCl7CiAgICAgICAgICAgIHJldHVybiB5dW5EYXRhLmdldENvbnRleHQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8v5Yik5pat5piv5ZCm5Li66Ieq5bex55qE5YiG5Lqr6ZO+5o6lCiAgICAgICAgZnVuY3Rpb24gaXNTZWxmU2hhcmUoKXsKICAgICAgICAgICAgcmV0dXJuIHl1bkRhdGEuTVlTRUxGID09IDEgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRFeHRyYSgpewogICAgICAgICAgICB2YXIgc2VLZXkgPSBkZWNvZGVVUklDb21wb25lbnQoZ2V0Q29va2llKCdCRENMTkQnKSk7CiAgICAgICAgICAgIHJldHVybiAneycgKyAnInNla2V5IjoiJyArIHNlS2V5ICsgJyInICsgIn0iOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nm67lvZUKICAgICAgICBmdW5jdGlvbiBnZXRQYXRoKCl7CiAgICAgICAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgICAgICAgdmFyIHJlZ3ggPSAvKF58JnxcLylwYXRoPShbXiZdKikoJnwkKS9pOwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMl0pOwogICAgICAgIH0KCiAgICAgICAgLy/ojrflj5blvZPliY3nmoTop4blm77mqKHlvI8KICAgICAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpewogICAgICAgICAgICB2YXIgc3RhdHVzID0gJ2xpc3QnOwogICAgICAgICAgICB2YXIgJHN0YXR1c19kaXYgPSAkKCdkaXYubGlzdC1ncmlkLXN3aXRjaCcpOwogICAgICAgICAgICBpZiAoJHN0YXR1c19kaXYuaGFzQ2xhc3MoJ2xpc3Qtc3dpdGNoZWQtb24nKSl7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHN0YXR1c19kaXYuaGFzQ2xhc3MoJ2dyaWQtc3dpdGNoZWQtb24nKSkgewogICAgICAgICAgICAgICAgc3RhdHVzID0gJ2dyaWQnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdGF0dXM7CiAgICAgICAgfQoKICAgICAgICAvL+a3u+WKoOS4i+i9veWKqeaJi+aMiemSrgogICAgICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpewogICAgICAgICAgICBpZihpc1NpbmdsZVNoYXJlKCkpewogICAgICAgICAgICAgICAgJCgnZGl2LnNsaWRlLXNob3ctcmlnaHQnKS5jc3MoJ3dpZHRoJywnNTAwcHgnKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5mcmFtZS1tYWluJykuY3NzKCd3aWR0aCcsJzk2JScpOwogICAgICAgICAgICAgICAgJCgnZGl2LnNoYXJlLWZpbGUtdmlld2VyJykuY3NzKCd3aWR0aCcsJzc0MHB4JykuY3NzKCdtYXJnaW4tbGVmdCcsJ2F1dG8nKS5jc3MoJ21hcmdpbi1yaWdodCcsJ2F1dG8nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAkKCdkaXYuc2xpZGUtc2hvdy1yaWdodCcpLmNzcygnd2lkdGgnLCc1MDBweCcpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIj48L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZHJvcGRvd25idXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgZGF0YS1idXR0b24taWQ9ImIyMDAiIGRhdGEtYnV0dG9uLWluZGV4PSIyMDAiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjwvYT4nKTsKICAgICAgICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPicpOwogICAgICAgICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOmF1dG87ei1pbmRleDo0MSI+PC9zcGFuPicpOwoKICAgICAgICAgICAgdmFyICRkb3dubG9hZEJ1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA3IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+55u05o6l5LiL6L29PC9hPicpOwogICAgICAgICAgICB2YXIgJGxpbmtCdXR0b24gPSAkKCc8YSBkYXRhLW1lbnUtaWQ9ImItbWVudTIwOCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZG93bmxvYWRCdXR0b24pLmFwcGVuZCgkbGlua0J1dHRvbik7CiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbl9hLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYV9zcGFuKTsKICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYSkuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9zcGFuKTsKCiAgICAgICAgICAgICRkcm9wZG93bmJ1dHRvbi5ob3ZlcihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgJGRyb3Bkb3duYnV0dG9uLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICRkb3dubG9hZEJ1dHRvbi5jbGljayhkb3dubG9hZEJ1dHRvbkNsaWNrKTsKICAgICAgICAgICAgJGxpbmtCdXR0b24uY2xpY2sobGlua0J1dHRvbkNsaWNrKTsKCiAgICAgICAgICAgICQoJ2Rpdi5tb2R1bGUtc2hhcmUtdG9wLWJhciBkaXYuYmFyIGRpdi5idXR0b24tYm94JykuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVJZnJhbWUoKXsKICAgICAgICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2IGNsYXNzPSJoZWxwZXItaGlkZSIgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtkaXNwbGF5OmJsb2NrIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRpZnJhbWUgPSAkKCc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiBpZD0iaGVscGVyZG93bmxvYWRpZnJhbWUiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvaWZyYW1lPicpOwogICAgICAgICAgICAkZGl2LmFwcGVuZCgkaWZyYW1lKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGl2KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpewogICAgICAgICAgICByZWdpc3Rlckhhc2hDaGFuZ2UoKTsKICAgICAgICAgICAgcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpOwogICAgICAgICAgICByZWdpc3RlckNoZWNrYm94KCk7CiAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuWcsOWdgOagjyPmoIfnrb7lj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckhhc2hDaGFuZ2UoKXsKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9IGdldExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgICAgICAgICBpZihjdXJyZW50UGF0aCA9PSBnZXRQYXRoKCkpewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaEZpbGVMaXN0KCl7CiAgICAgICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3RGaWxlTGlzdCgpewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4bop4blm77lj5jljJYKICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCl7CiAgICAgICAgICAgIHZhciAkYV9saXN0ID0gJCgnYVtub2RlLXR5cGU9bGlzdC1zd2l0Y2hdJyk7CiAgICAgICAgICAgICRhX2xpc3QuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSAnbGlzdCc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdmFyICRhX2dyaWQgPSAkKCdhW25vZGUtdHlwZT1ncmlkLXN3aXRjaF0nKTsKICAgICAgICAgICAgJGFfZ3JpZC5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdncmlkJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvL+ebkeinhuaWh+S7tumAieaLqeahhgogICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ2hlY2tib3goKXsKICAgICAgICAgICAgLy92YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi5jaGVja2JveCcpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnc3Bhbi4nK3dvcmRNYXBbJ2NoZWNrYm94J10pOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYobGlzdF9ncmlkX3N0YXR1cyA9PSAnZ3JpZCcpewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoJHBhcmVudC5oYXNDbGFzcygnaXRlbS1hY3RpdmUnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+WPlua2iOmAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPHNlbGVjdEZpbGVMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbaV0uZmlsZW5hbWUgPT0gZmlsZW5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnNwbGljZShpLDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micrZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2RpcjplbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdzcGFuLmNoZWNrYm94Jyk7CiAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicrd29yZE1hcFsnY2hlY2tib3gnXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy/nm5Hop4blhajpgInmoYYKICAgICAgICBmdW5jdGlvbiByZWdpc3RlckFsbENoZWNrYm94KCl7CiAgICAgICAgICAgIC8vdmFyICRjaGVja2JveCA9ICQoJ2Rpdi5jb2wtaXRlbS5jaGVjaycpOwogICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2Licrd29yZE1hcFsnY29sLWl0ZW0nXSsnLicrd29yZE1hcFsnY2hlY2snXSk7CiAgICAgICAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgIC8vaWYoJHBhcmVudC5oYXNDbGFzcygnY2hlY2tlZCcpKXsKICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50Lmhhc0NsYXNzKHdvcmRNYXBbJ2NoZWNrZWQnXSkpewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflj5bmtojlhajpgIknKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzbG9nKCflhajpg6jpgInkuK0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOmVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmc19pZDplbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpewogICAgICAgICAgICAvL3ZhciAkY2hlY2tib3ggPSAkKCdkaXYuY29sLWl0ZW0uY2hlY2snKTsKICAgICAgICAgICAgdmFyICRjaGVja2JveCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2NvbC1pdGVtJ10rJy4nK3dvcmRNYXBbJ2NoZWNrJ10pOwogICAgICAgICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5Y2V5Liq5paH5Lu26YCJ5LitCiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJGaWxlU2VsZWN0KCl7CiAgICAgICAgICAgIC8vdmFyICRkZCA9ICQoJ2Rpdi5saXN0LXZpZXcgZGQnKTsKICAgICAgICAgICAgdmFyICRkZCA9ICQoJ2Rpdi4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKycgZGQnKTsKICAgICAgICAgICAgJGRkLmVhY2goZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmKG5vZGVOYW1lICE9ICdzcGFuJyAmJiBub2RlTmFtZSAhPSAnYScgJiYgbm9kZU5hbWUgIT0gJ2VtJykgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTplbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDplbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzX2lkOmVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOmVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKXsKICAgICAgICAgICAgLy92YXIgJGRkID0gJCgnZGl2Lmxpc3QtdmlldyBkZCcpOwogICAgICAgICAgICB2YXIgJGRkID0gJCgnZGl2Licrd29yZE1hcFsnbGlzdC12aWV3J10rJyBkZCcpOwogICAgICAgICAgICAkZGQuZWFjaChmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKXsKICAgICAgICAgICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICAgICAgICB9OwogICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucyl7CiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgICAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOyAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LXZpZXcnKTsKICAgICAgICAgICAgLy92YXIgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtdmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nK3dvcmRNYXBbJ2xpc3QtdmlldyddKTsKICAgICAgICAgICAgdmFyIGdyaWRfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nK3dvcmRNYXBbJ2dyaWQtdmlldyddKTsKCiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUobGlzdF92aWV3LG9wdGlvbnMpOwogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGdyaWRfdmlldyxvcHRpb25zKTsKICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5paH5Lu25L+h5oGv5YiX6KGoCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKXsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgICBpZihnZXRQYXRoKCkgPT0gJy8nKXsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHl1bkRhdGEuRklMRUlORk87CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICAgIHVrOnVrLAogICAgICAgICAgICAgICAgICAgIHNoYXJlaWQ6c2hhcmVpZCwKICAgICAgICAgICAgICAgICAgICBvcmRlcjonb3RoZXInLAogICAgICAgICAgICAgICAgICAgIGRlc2M6MSwKICAgICAgICAgICAgICAgICAgICBzaG93ZW1wdHk6MCwKICAgICAgICAgICAgICAgICAgICB3ZWI6d2ViLAogICAgICAgICAgICAgICAgICAgIGRpcjpnZXRQYXRoKCksCiAgICAgICAgICAgICAgICAgICAgdDpNYXRoLnJhbmRvbSgpLAogICAgICAgICAgICAgICAgICAgIGJkc3Rva2VuOmJkc3Rva2VuLAogICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6Y2hhbm5lbCwKICAgICAgICAgICAgICAgICAgICBjbGllbnR0eXBlOmNsaWVudHR5cGUsCiAgICAgICAgICAgICAgICAgICAgYXBwX2lkOmFwcF9pZCwKICAgICAgICAgICAgICAgICAgICBsb2dpZDpsb2dpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdXJsOnNoYXJlTGlzdFVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm5vID09PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLmxpc3Q7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWRCdXR0b25DbGljaygpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bmlofku7ZJROWksei0pe+8jOivt+mHjeivlScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1dHRvblRhcmdldCA9ICdkb3dubG9hZCc7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmsoKTsKCiAgICAgICAgICAgIGlmKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICAgICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICAgICAgICAgIGlmKHZjb2RlLmVycm5vICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmNvZGVEaWFsb2cub3Blbih2Y29kZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihkb3dubG9hZExpbmsuZXJybm8gPT0gMTEyKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5saXN0WzBdLmRsaW5rOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsuZGxpbms7CiAgICAgICAgICAgICAgICBleGVjRG93bmxvYWQobGluayk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5LiL6L296ZO+5o6l5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v6I635Y+W6aqM6K+B56CBCiAgICAgICAgZnVuY3Rpb24gZ2V0VkNvZGUoKXsKICAgICAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdnZXR2Y29kZSc7CiAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIHByb2Q6J3BhbicsCiAgICAgICAgICAgICAgICB0Ok1hdGgucmFuZG9tKCksCiAgICAgICAgICAgICAgICBiZHN0b2tlbjpiZHN0b2tlbiwKICAgICAgICAgICAgICAgIGNoYW5uZWw6Y2hhbm5lbCwKICAgICAgICAgICAgICAgIGNsaWVudHR5cGU6Y2xpZW50dHlwZSwKICAgICAgICAgICAgICAgIHdlYjp3ZWIsCiAgICAgICAgICAgICAgICBhcHBfaWQ6YXBwX2lkLAogICAgICAgICAgICAgICAgbG9naWQ6bG9naWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgIHVybDp1cmwsCiAgICAgICAgICAgICAgICBtZXRob2Q6J0dFVCcsCiAgICAgICAgICAgICAgICBhc3luYzpmYWxzZSwKICAgICAgICAgICAgICAgIGRhdGE6cGFyYW1zLAogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgLy/liLfmlrDpqozor4HnoIEKICAgICAgICBmdW5jdGlvbiByZWZyZXNoVkNvZGUoKXsKICAgICAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsdmNvZGUuaW1nKTsKICAgICAgICB9CgogICAgICAgIC8v6aqM6K+B56CB56Gu6K6k5o+Q5LqkCiAgICAgICAgZnVuY3Rpb24gY29uZmlybUNsaWNrKCl7CiAgICAgICAgICAgIHZhciB2YWwgPSAkKCcjZGlhbG9nLWlucHV0JykudmFsKCk7CiAgICAgICAgICAgIGlmKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6K+36L6T5YWl6aqM6K+B56CBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSBpZih2YWwubGVuZ3RoIDwgNCkgewogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCfpqozor4HnoIHovpPlhaXplJnor6/vvIzor7fph43mlrDovpPlhaUnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2YWwpOwogICAgICAgICAgICBpZihyZXN1bHQuZXJybm8gPT0gLTIwKXsKICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+mqjOivgeeggei+k+WFpemUmeivr++8jOivt+mHjeaWsOi+k+WFpScpOwogICAgICAgICAgICAgICAgcmVmcmVzaFZDb2RlKCk7CiAgICAgICAgICAgICAgICBpZighdmNvZGUgfHwgdmNvZGUuZXJybm8gIT09IDApewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfojrflj5bpqozor4HnoIHlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5vcGVuKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09PSAwKSB7CiAgICAgICAgICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgdmFyIGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0xICYmIHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSByZXN1bHQubGlzdFswXS5kbGluazsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBsaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICAgICAgaWYoYnV0dG9uVGFyZ2V0ID09ICdkb3dubG9hZCcpewogICAgICAgICAgICAgICAgICAgIGV4ZWNEb3dubG9hZChsaW5rKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVGFyZ2V0ID09ICdsaW5rJykgewogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTpmaWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsczpbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmxpbmsscmFuazoxfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB2YXIgdGlwID0gIuaYvuekuuiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuaXoOeUqO+8jOmcgOimgeS8oOmAkmNvb2tpZSI7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOifkuIvovb3pk77mjqUnLHR5cGU6J2xpbmsnLGxpc3Q6bGlua0xpc3QsdGlwOnRpcH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL+eUn+aIkOS4i+i9veeUqOeahGZpZF9saXN05Y+C5pWwCiAgICAgICAgZnVuY3Rpb24gZ2V0RmlkTGlzdCgpewogICAgICAgICAgICB2YXIgZmlkbGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICBmaWRsaXN0LnB1c2goZWxlbWVudC5mc19pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gJ1snICsgZmlkbGlzdCArICddJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGxpbmtCdXR0b25DbGljaygpewogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKXsKICAgICAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpgInkuK3mlofku7bvvIzor7fph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBidXR0b25UYXJnZXQgPSAnbGluayc7CiAgICAgICAgICAgIHZhciBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmsoKTsKCiAgICAgICAgICAgIGlmKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICAgICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICAgICAgICAgIGlmKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZjb2RlRGlhbG9nLm9wZW4odmNvZGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5saXN0WzBdLmRsaW5rOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsuZGxpbms7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWRvd25sb2FkbGluaycpLmF0dHIoJ2hyZWYnLGxpbmspLnRleHQobGluayk7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1kb3dubG9hZGxpbmsnKS5hdHRyKCdocmVmJyxsaW5rKS50ZXh0KGxpbmspOwogICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdmFyIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgIHVybHM6WwogICAgICAgICAgICAgICAgICAgICAgICB7dXJsOmxpbmsscmFuazoxfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB2YXIgdGlwID0gIuaYvuekuuiOt+WPlueahOmTvuaOpe+8jOWPr+S7peS9v+eUqOWPs+mUrui/hembt+S4i+i9ve+8jOWkjeWItuaXoOeUqO+8jOmcgOimgeS8oOmAkmNvb2tpZSI7CiAgICAgICAgICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6J+S4i+i9vemTvuaOpScsdHlwZTonbGluaycsbGlzdDpsaW5rTGlzdCx0aXA6dGlwfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5LiL6L296ZO+5o6l5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8v6I635Y+W5LiL6L296ZO+5o6lCiAgICAgICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rKCl7CiAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgIGlmKGlzU2luZ2xlU2hhcmUpewogICAgICAgICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcGFuQVBJVXJsICsgJ3NoYXJlZG93bmxvYWQ/c2lnbj0nICsgc2lnbiArICcmdGltZXN0YW1wPScgKyB0aW1lc3RhbXAgKyAnJmJkc3Rva2VuPScgKyBiZHN0b2tlbiArICcmY2hhbm5lbD0nICsgY2hhbm5lbCArICcmY2xpZW50dHlwZT0nICsgY2xpZW50dHlwZSArICcmd2ViPScrIHdlYiArICcmYXBwX2lkPScgKyBhcHBfaWQgKyAnJmxvZ2lkPScgKyBsb2dpZDsKICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdDplbmNyeXB0LAogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6cHJvZHVjdCwKICAgICAgICAgICAgICAgICAgICB1azp1aywKICAgICAgICAgICAgICAgICAgICBwcmltYXJ5aWQ6cHJpbWFyeWlkLAogICAgICAgICAgICAgICAgICAgIGZpZF9saXN0OmZpZF9saXN0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYoc2hhcmVUeXBlID09ICdzZWNyZXQnKXsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEgfHwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICAvL+aciemqjOivgeeggei+k+WFpeaXtuiOt+WPluS4i+i9vemTvuaOpQogICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2Y29kZUlucHV0KXsKICAgICAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICAgICAgaWYoaXNTaW5nbGVTaGFyZSl7CiAgICAgICAgICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoKTsKICAgICAgICAgICAgICAgIHZhciB1cmwgPSBwYW5BUElVcmwgKyAnc2hhcmVkb3dubG9hZD9zaWduPScgKyBzaWduICsgJyZ0aW1lc3RhbXA9JyArIHRpbWVzdGFtcCArICcmYmRzdG9rZW49JyArIGJkc3Rva2VuICsgJyZjaGFubmVsPScgKyBjaGFubmVsICsgJyZjbGllbnR0eXBlPScgKyBjbGllbnR0eXBlICsgJyZ3ZWI9Jysgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICBlbmNyeXB0OmVuY3J5cHQsCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDpwcm9kdWN0LAogICAgICAgICAgICAgICAgICAgIHZjb2RlX2lucHV0OnZjb2RlSW5wdXQsCiAgICAgICAgICAgICAgICAgICAgdmNvZGVfc3RyOnZjb2RlLnZjb2RlLAogICAgICAgICAgICAgICAgICAgIHVrOnVrLAogICAgICAgICAgICAgICAgICAgIHByaW1hcnlpZDpwcmltYXJ5aWQsCiAgICAgICAgICAgICAgICAgICAgZmlkX2xpc3Q6ZmlkX2xpc3QKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZihzaGFyZVR5cGUgPT0gJ3NlY3JldCcpewogICAgICAgICAgICAgICAgICAgIHBhcmFtcy5leHRyYSA9IGV4dHJhOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSB8fCBzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxICl7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB1cmw6dXJsLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YTpwYXJhbXMsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBleGVjRG93bmxvYWQobGluayl7CiAgICAgICAgICAgIHNsb2coJ+S4i+i9vemTvuaOpe+8micrbGluayk7CiAgICAgICAgICAgICQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpLmF0dHIoJ3NyYycsbGluayk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGJhc2U2NEVuY29kZSh0KXsKICAgICAgICB2YXIgYSwgciwgZSwgbiwgaSwgcywgbyA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIjsKICAgICAgICBmb3IgKGUgPSB0Lmxlbmd0aCxyID0gMCxhID0gIiI7IGUgPiByOyApIHsKICAgICAgICAgICAgaWYgKG4gPSAyNTUgJiB0LmNoYXJDb2RlQXQocisrKSxyID09IGUpIHsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDMgJiBuKSA8PCA0KTsKICAgICAgICAgICAgICAgIGEgKz0gIj09IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpID0gdC5jaGFyQ29kZUF0KHIrKyksciA9PSBlKSB7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgICAgICAgICAgIGEgKz0gby5jaGFyQXQoKDE1ICYgaSkgPDwgMik7CiAgICAgICAgICAgICAgICBhICs9ICI9IjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHMgPSB0LmNoYXJDb2RlQXQocisrKTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdChuID4+IDIpOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgICAgICAgYSArPSBvLmNoYXJBdCgoMTUgJiBpKSA8PCAyIHwgKDE5MiAmIHMpID4+IDYpOwogICAgICAgICAgICBhICs9IG8uY2hhckF0KDYzICYgcyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhOwogICAgfQoKICAgIGZ1bmN0aW9uIGRldGVjdFBhZ2UoKXsKICAgICAgICB2YXIgcmVneCA9IC9bXC9dLitbXC9dL2c7CiAgICAgICAgdmFyIHBhZ2UgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaChyZWd4KTsKICAgICAgICByZXR1cm4gcGFnZVswXS5yZXBsYWNlKC9cLy9nLCcnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRDb29raWUoZSkgewogICAgICAgIHZhciBvLCB0OwogICAgICAgIHZhciBuID0gZG9jdW1lbnQsYz1kZWNvZGVVUkk7CiAgICAgICAgcmV0dXJuIG4uY29va2llLmxlbmd0aCA+IDAgJiYgKG8gPSBuLmNvb2tpZS5pbmRleE9mKGUgKyAiPSIpLC0xICE9IG8pID8gKG8gPSBvICsgZS5sZW5ndGggKyAxLHQgPSBuLmNvb2tpZS5pbmRleE9mKCI7IiwgbyksLTEgPT0gdCAmJiAodCA9IG4uY29va2llLmxlbmd0aCksYyhuLmNvb2tpZS5zdWJzdHJpbmcobywgdCkpKSA6ICIiOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldExvZ0lEKCl7CiAgICAgICAgdmFyIG5hbWUgPSAiQkFJRFVJRCI7CiAgICAgICAgdmFyIHUgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL37vvIFAI++/pSXigKbigKYmIjsKICAgICAgICB2YXIgZCA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRkZdfFteXHgwMC1ceDdGXS9nOwogICAgICAgIHZhciBmID0gU3RyaW5nLmZyb21DaGFyQ29kZTsKICAgICAgICBmdW5jdGlvbiBsKGUpewogICAgICAgICAgICBpZiAoZS5sZW5ndGggPCAyKSB7CiAgICAgICAgICAgICAgICB2YXIgbiA9IGUuY2hhckNvZGVBdCgwKTsKICAgICAgICAgICAgICAgIHJldHVybiAxMjggPiBuID8gZSA6IDIwNDggPiBuID8gZigxOTIgfCBuID4+PiA2KSArIGYoMTI4IHwgNjMgJiBuKSA6IGYoMjI0IHwgbiA+Pj4gMTIgJiAxNSkgKyBmKDEyOCB8IG4gPj4+IDYgJiA2MykgKyBmKDEyOCB8IDYzICYgbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG4gPSA2NTUzNiArIDEwMjQgKiAoZS5jaGFyQ29kZUF0KDApIC0gNTUyOTYpICsgKGUuY2hhckNvZGVBdCgxKSAtIDU2MzIwKTsKICAgICAgICAgICAgcmV0dXJuIGYoMjQwIHwgbiA+Pj4gMTggJiA3KSArIGYoMTI4IHwgbiA+Pj4gMTIgJiA2MykgKyBmKDEyOCB8IG4gPj4+IDYgJiA2MykgKyBmKDEyOCB8IDYzICYgbik7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIGcoZSl7CiAgICAgICAgICAgIHJldHVybiAoZSArICIiICsgTWF0aC5yYW5kb20oKSkucmVwbGFjZShkLCBsKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gbShlKXsKICAgICAgICAgICAgdmFyIG4gPSBbMCwgMiwgMV1bZS5sZW5ndGggJSAzXTsKICAgICAgICAgICAgdmFyIHQgPSBlLmNoYXJDb2RlQXQoMCkgPDwgMTYgfCAoZS5sZW5ndGggPiAxID8gZS5jaGFyQ29kZUF0KDEpIDogMCkgPDwgOCB8IChlLmxlbmd0aCA+IDIgPyBlLmNoYXJDb2RlQXQoMikgOiAwKTsKICAgICAgICAgICAgdmFyIG8gPSBbdS5jaGFyQXQodCA+Pj4gMTgpLCB1LmNoYXJBdCh0ID4+PiAxMiAmIDYzKSwgbiA+PSAyID8gIj0iIDogdS5jaGFyQXQodCA+Pj4gNiAmIDYzKSwgbiA+PSAxID8gIj0iIDogdS5jaGFyQXQoNjMgJiB0KV07CiAgICAgICAgICAgIHJldHVybiBvLmpvaW4oIiIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoKGUpewogICAgICAgICAgICByZXR1cm4gZS5yZXBsYWNlKC9bXHNcU117MSwzfS9nLCBtKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gcCgpewogICAgICAgICAgICByZXR1cm4gaChnKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdyhlLG4pewogICAgICAgICAgICByZXR1cm4gbiA/IHAoU3RyaW5nKGUpKS5yZXBsYWNlKC9bK1wvXS9nLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIisiID09IGUgPyAiLSIgOiAiXyI7CiAgICAgICAgICAgIH0pLnJlcGxhY2UoLz0vZywgIiIpIDogcChTdHJpbmcoZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdyhnZXRDb29raWUobmFtZSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIERpYWxvZygpewogICAgICAgIHZhciBsaW5rTGlzdCA9IFtdOwogICAgICAgIHZhciBzaG93UGFyYW1zOwogICAgICAgIHZhciBkaWFsb2csc2hhZG93OwogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURpYWxvZygpewogICAgICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgICAgICB2YXIgZGlhbG9nTGVmdCA9IHNjcmVlbldpZHRoPjgwMCA/IChzY3JlZW5XaWR0aC04MDApLzIgOiAwOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ciIHN0eWxlPSJ3aWR0aDogODAwcHg7IHRvcDogMHB4OyBib3R0b206IGF1dG87IGxlZnQ6ICcrZGlhbG9nTGVmdCsncHg7IHJpZ2h0OiBhdXRvOyBkaXNwbGF5OiBoaWRkZW47IHZpc2liaWxpdHk6IHZpc2libGU7IHotaW5kZXg6IDUyOyI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2hlYWRlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiPjxoMz48c3BhbiBjbGFzcz0iZGlhbG9nLXRpdGxlIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NzQwcHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93LXg6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjwvc3Bhbj48L2gzPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb250cm9sID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWNvbnRyb2wiPjxzcGFuIGNsYXNzPSJkaWFsb2ctaWNvbiBkaWFsb2ctY2xvc2UiPsOXPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiIHN0eWxlPSJtYXgtaGVpZ2h0OjQ1MHB4O292ZXJmbG93LXk6YXV0bztwYWRkaW5nOjAgMjBweDsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ190aXAgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctdGlwIiBzdHlsZT0icGFkZGluZy1sZWZ0OjIwcHg7YmFja2dyb3VuZC1jb2xvcjojZmFmMmQzO2JvcmRlci10b3A6IDFweCBzb2xpZCAjYzRkYmZlOyI+PHA+PC9wPjwvZGl2PicpOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfaGVhZGVyLmFwcGVuZCgkZGlhbG9nX2NvbnRyb2wpKS5hcHBlbmQoJGRpYWxvZ19ib2R5KTsKCiAgICAgICAgICAgIC8vdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCc8dGV4dGFyZWEgY2xhc3M9ImRpYWxvZy10ZXh0YXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTt3aWR0aCI+PC90ZXh0YXJlYT4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmFkaW9fZGl2ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXJhZGlvIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOjc2MHB4O3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JhZGlvX211bHRpID0gJCgnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzaG93bW9kZSIgY2hlY2tlZD0iY2hlY2tlZCIgdmFsdWU9Im11bHRpIj48c3Bhbj7lpJrooYw8L3NwYW4+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX3JhZGlvX3NpbmdsZSA9ICQoJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ic2hvd21vZGUiIHZhbHVlPSJzaW5nbGUiPjxzcGFuPuWNleihjDwvc3Bhbj4nKTsKICAgICAgICAgICAgJGRpYWxvZ19yYWRpb19kaXYuYXBwZW5kKCRkaWFsb2dfcmFkaW9fbXVsdGkpLmFwcGVuZCgkZGlhbG9nX3JhZGlvX3NpbmdsZSk7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX3JhZGlvX2Rpdik7CiAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9cmFkaW9dW25hbWU9c2hvd21vZGVdJywkZGlhbG9nX3JhZGlvX2RpdikuY2hhbmdlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICAgICAgICAgICAgdmFyICR0ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLGRpYWxvZyk7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICR0ZXh0YXJlYS52YWwoKTsKICAgICAgICAgICAgICAgIGlmKHZhbHVlID09ICdtdWx0aScpewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xzKy9nLCdcbicpOwogICAgICAgICAgICAgICAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsJzMwMHB4Jyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodmFsdWUgPT0gJ3NpbmdsZScpewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xuKy9nLCcgJyk7CiAgICAgICAgICAgICAgICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywnJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkdGV4dGFyZWEudmFsKGNvbnRlbnQpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciAkZGlhbG9nX2J1dHRvbiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19idXR0b25fZGl2ID0gJCgnPGRpdiBzdHlsZT0iZGlzcGxheTp0YWJsZTttYXJnaW46YXV0byI+PC9kaXY+JykKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29weV9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctY29weS1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPuWkjeWItjwvYnV0dG9uPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19lZGl0X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1lZGl0LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+57yW6L6RPC9idXR0b24+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2V4aXRfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWV4aXQtYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj7pgIDlh7o8L2J1dHRvbj4nKTsKCiAgICAgICAgICAgICRkaWFsb2dfYnV0dG9uX2Rpdi5hcHBlbmQoJGRpYWxvZ19jb3B5X2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfZWRpdF9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2V4aXRfYnV0dG9uKTsKICAgICAgICAgICAgJGRpYWxvZ19idXR0b24uYXBwZW5kKCRkaWFsb2dfYnV0dG9uX2Rpdik7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2J1dHRvbik7CgogICAgICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgaWYoc2hvd1BhcmFtcy50eXBlID09ICdiYXRjaCcpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluayArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2hvd1BhcmFtcy50eXBlID09ICdsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50LnVybCA9PSAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGgtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAgY29udGVudCArIGVsZW1lbnQudXJsICsgJ1xuJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEdNX3NldENsaXBib2FyZChjb250ZW50LCd0ZXh0Jyk7CiAgICAgICAgICAgICAgICBhbGVydCgn5bey5bCG6ZO+5o6l5aSN5Yi25Yiw5Ymq6LS05p2/77yBJyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19lZGl0X2J1dHRvbi5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCdkaXYuZGlhbG9nLWJvZHkgdGV4dGFyZWFbbmFtZT1kaWFsb2ctdGV4dGFyZWFdJyxkaWFsb2cpOwogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfaXRlbSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSBkaXYnLGRpYWxvZyk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2l0ZW0uaGlkZSgpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19jb3B5X2J1dHRvbi5oaWRlKCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfdGV4dGFyZWEuc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19yYWRpb19kaXYuc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19leGl0X2J1dHRvbi5zaG93KCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19leGl0X2J1dHRvbi5jbGljayhmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCdkaXYuZGlhbG9nLWJvZHkgdGV4dGFyZWFbbmFtZT1kaWFsb2ctdGV4dGFyZWFdJyxkaWFsb2cpOwogICAgICAgICAgICAgICAgdmFyICRkaWFsb2dfaXRlbSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSBkaXYnLGRpYWxvZyk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX3RleHRhcmVhLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfaXRlbS5zaG93KCk7CiAgICAgICAgICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAgICAgICAgICRkaWFsb2dfY29weV9idXR0b24uc2hvdygpOwogICAgICAgICAgICAgICAgJGRpYWxvZ19lZGl0X2J1dHRvbi5zaG93KCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfdGlwKTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGlhbG9nX2Rpdik7CiAgICAgICAgICAgICRkaWFsb2dfZGl2LmRpYWxvZ0RyYWcoKTsKICAgICAgICAgICAgJGRpYWxvZ19jb250cm9sLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICByZXR1cm4gJGRpYWxvZ19kaXY7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkb3coKXsKICAgICAgICAgICAgdmFyICRzaGFkb3cgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctc2hhZG93IiBzdHlsZT0icG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwcHg7IHRvcDogMHB4OyB6LWluZGV4OiA1MDsgYmFja2dyb3VuZDogcmdiKDAsIDAsIDApIG5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJTsgb3BhY2l0eTogMC41OyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiBub25lOyI+PC9kaXY+Jyk7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJHNoYWRvdyk7CiAgICAgICAgICAgIHJldHVybiAkc2hhZG93OwogICAgICAgIH0KCiAgICAgICAgdGhpcy5vcGVuID0gZnVuY3Rpb24ocGFyYW1zKXsKICAgICAgICAgICAgc2hvd1BhcmFtcyA9IHBhcmFtczsKICAgICAgICAgICAgbGlua0xpc3QgPSBbXTsKICAgICAgICAgICAgaWYocGFyYW1zLnR5cGUgPT0gJ2xpbmsnKXsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3QudXJsczsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJyxkaWFsb2cpLnRleHQocGFyYW1zLnRpdGxlICsgIu+8miIgK3BhcmFtcy5saXN0LmZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdC51cmxzLGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdj48ZGl2IHN0eWxlPSJ3aWR0aDozMHB4O2Zsb2F0OmxlZnQiPicrZWxlbWVudC5yYW5rKyc6PC9kaXY+PGRpdiBzdHlsZT0id2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSInK2VsZW1lbnQudXJsKyciPicrZWxlbWVudC51cmwrJzwvYT48L2Rpdj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihwYXJhbXMudHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3Q7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSk7CiAgICAgICAgICAgICAgICBpZihwYXJhbXMuc2hvd2FsbCl7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fZGl2ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXIiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXAiPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fbmFtZSA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjEwMHB4O2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiIHRpdGxlPSInK2VsZW1lbnQuZmlsZW5hbWUrJyI+JytlbGVtZW50LmZpbGVuYW1lKyc8L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtX3NlcCA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjEycHg7ZmxvYXQ6bGVmdCI+PHNwYW4+77yaPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1fbGlua19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWxpbmsiIHN0eWxlPSJmbG9hdDpsZWZ0O3dpZHRoOjYxOHB4OyI+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9maXJzdCA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZmlyc3QiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJytlbGVtZW50LmRvd25sb2FkbGluaysnIj4nK2VsZW1lbnQuZG93bmxvYWRsaW5rKyc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2xpbmtfZGl2LmFwcGVuZCgkaXRlbV9maXJzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChwYXJhbXMuYWxsbGlzdFtpbmRleF0ubGlua3MsZnVuY3Rpb24obixpdGVtKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuZG93bmxvYWRsaW5rID09IGl0ZW0udXJsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZXgiIHN0eWxlPSJkaXNwbGF5Om5vbmU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicraXRlbS51cmwrJyI+JytpdGVtLnVybCsnPC9hPjwvZGl2PicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fbGlua19kaXYuYXBwZW5kKCRpdGVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbV9leCA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjE1cHg7ZmxvYXQ6bGVmdDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MTZweCI+PHNwYW4+Kzwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1fZGl2LmFwcGVuZCgkaXRlbV9uYW1lKS5hcHBlbmQoJGl0ZW1fc2VwKS5hcHBlbmQoJGl0ZW1fbGlua19kaXYpLmFwcGVuZCgkaXRlbV9leCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtX2V4LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnRvZ2dsZUNsYXNzKCdzaG93YWxsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkcGFyZW50Lmhhc0NsYXNzKCdzaG93YWxsJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgnLScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2Rpdi5pdGVtLWxpbmsgZGl2Lml0ZW0tZXgnLCRwYXJlbnQpLnNob3coKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KCcrJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2Lml0ZW0tbGluayBkaXYuaXRlbS1leCcsJHBhcmVudCkuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkaXRlbV9kaXYpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LGZ1bmN0aW9uKGluZGV4LGVsZW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIgdGl0bGU9IicrZWxlbWVudC5maWxlbmFtZSsnIj4nK2VsZW1lbnQuZmlsZW5hbWUrJzwvZGl2PjxzcGFuPu+8mjwvc3Bhbj48YSBocmVmPSInK2VsZW1lbnQuZG93bmxvYWRsaW5rKyciPicrZWxlbWVudC5kb3dubG9hZGxpbmsrJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JyxkaWFsb2cpLmFwcGVuZCgkZGl2KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYocGFyYW1zLnRpcCl7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLXRpcCBwJyxkaWFsb2cpLnRleHQocGFyYW1zLnRpcCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHBhcmFtcy5zaG93Y29weSl7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWNvcHktYnV0dG9uJyxkaWFsb2cpLnNob3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihwYXJhbXMuc2hvd2VkaXQpewogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24nLGRpYWxvZykuc2hvdygpOwogICAgICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1lZGl0LWJ1dHRvbicsZGlhbG9nKS5zaG93KCk7CiAgICAgICAgICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJzx0ZXh0YXJlYSBuYW1lPSJkaWFsb2ctdGV4dGFyZWEiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cmVzaXplOm5vbmU7d2lkdGg6NzU4cHg7aGVpZ2h0OjMwMHB4O3doaXRlLXNwYWNlOnByZTt3b3JkLXdyYXA6bm9ybWFsO292ZXJmbG93LXg6c2Nyb2xsIj48L3RleHRhcmVhPicpOwogICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSAnJzsKICAgICAgICAgICAgICAgIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnYmF0Y2gnKXsKICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua0xpc3QsZnVuY3Rpb24oaW5kZXgsZWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuZG93bmxvYWRsaW5rID09ICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aC0xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluazsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9ICBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnXG4nOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNob3dQYXJhbXMudHlwZSA9PSAnbGluaycpewogICAgICAgICAgICAgICAgICAgICQuZWFjaChsaW5rTGlzdCxmdW5jdGlvbihpbmRleCxlbGVtZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudC51cmwgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gIGNvbnRlbnQgKyBlbGVtZW50LnVybCArICdcbic7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkZGlhbG9nX3RleHRhcmVhLnZhbChjb250ZW50KTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsZGlhbG9nKS5hcHBlbmQoJGRpYWxvZ190ZXh0YXJlYSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNoYWRvdy5zaG93KCk7CiAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgZGlhbG9nQ29udHJvbCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGlhbG9nQ29udHJvbCgpewogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLGRpYWxvZykuY2hpbGRyZW4oKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLGRpYWxvZykudGV4dCgnJyk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctdGlwIHAnLGRpYWxvZykudGV4dCgnJyk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1yYWRpbyBpbnB1dFt0eXBlPXJhZGlvXVtuYW1lPXNob3dtb2RlXVt2YWx1ZT1tdWx0aV0nLGRpYWxvZykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctcmFkaW8nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWNvcHktYnV0dG9uJyxkaWFsb2cpLmhpZGUoKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1lZGl0LWJ1dHRvbicsZGlhbG9nKS5oaWRlKCk7CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZXhpdC1idXR0b24nLGRpYWxvZykuaGlkZSgpOwogICAgICAgICAgICBkaWFsb2cuaGlkZSgpOwogICAgICAgICAgICBzaGFkb3cuaGlkZSgpOwogICAgICAgIH0KCiAgICAgICAgZGlhbG9nID0gY3JlYXRlRGlhbG9nKCk7CiAgICAgICAgc2hhZG93ID0gY3JlYXRlU2hhZG93KCk7CiAgICB9CgogICAgZnVuY3Rpb24gVkNvZGVEaWFsb2cocmVmcmVzaFZDb2RlLGNvbmZpcm1DbGljayl7CiAgICAgICAgdmFyIGRpYWxvZyxzaGFkb3c7CiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCl7CiAgICAgICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIHZhciBkaWFsb2dMZWZ0ID0gc2NyZWVuV2lkdGg+NTIwID8gKHNjcmVlbldpZHRoLTUyMCkvMiA6IDA7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZyIgaWQ9ImRpYWxvZy12Y29kZSIgc3R5bGU9IndpZHRoOjUyMHB4O3RvcDowcHg7Ym90dG9tOmF1dG87bGVmdDonK2RpYWxvZ0xlZnQrJ3B4O3JpZ2h0OmF1dG87ZGlzcGxheTpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTt6LWluZGV4OjUyIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaGVhZGVyID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWhlYWRlciI+PGgzPjxzcGFuIGNsYXNzPSJkaWFsb2ctaGVhZGVyLXRpdGxlIj48ZW0gY2xhc3M9InNlbGVjdC10ZXh0Ij7mj5DnpLo8L2VtPjwvc3Bhbj48L2gzPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jb250cm9sID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWNvbnRyb2wiPjxzcGFuIGNsYXNzPSJkaWFsb2ctaWNvbiBkaWFsb2ctY2xvc2UgaWNvbiBpY29uLWNsb3NlIj48c3BhbiBjbGFzcz0ic2ljb24iPng8L3NwYW4+PC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19ib2R5X2RpdiA9ICQoJzxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MjJweCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5ID0gJCgnPGRpdiBjbGFzcz0iZG93bmxvYWQtdmVyaWZ5IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O3BhZGRpbmc6MCAyOHB4O3RleHQtYWxpZ246bGVmdDtmb250LXNpemU6MTJweDsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ192ZXJpZnlfYm9keSA9ICQoJzxkaXYgY2xhc3M9InZlcmlmeS1ib2R5Ij7or7fovpPlhaXpqozor4HnoIHvvJo8L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfaW5wdXQgPSAkKCc8aW5wdXQgaWQ9ImRpYWxvZy1pbnB1dCIgdHlwZT0idGV4dCIgc3R5bGU9InBhZGRpbmc6M3B4O3dpZHRoOjg1cHg7aGVpZ2h0OjIzcHg7Ym9yZGVyOjFweCBzb2xpZCAjYzZjNmM2O2JhY2tncm91bmQtY29sb3I6d2hpdGU7dmVydGljYWwtYWxpZ246bWlkZGxlOyIgY2xhc3M9ImlucHV0LWNvZGUiIG1heGxlbmd0aD0iNCI+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2ltZyA9ICQoJzxpbWcgaWQ9ImRpYWxvZy1pbWciIGNsYXNzPSJpbWctY29kZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjEwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlOyIgYWx0PSLngrnlh7vmjaLkuIDlvKAiIHNyYz0iIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMwIj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfcmVmcmVzaCA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7IiBjbGFzcz0idW5kZXJsaW5lIj7mjaLkuIDlvKA8L2E+Jyk7CiAgICAgICAgICAgIHZhciAkZGlhbG9nX2VyciA9ICQoJzxkaXYgaWQ9ImRpYWxvZy1lcnIiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6ODRweDtoZWlnaHQ6MThweDtjb2xvcjojZDgwMDAwIiBjbGFzcz0idmVyaWZ5LWVycm9yIj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfZm9vdGVyID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWZvb3RlciBnLWNsZWFyZml4Ij48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRkaWFsb2dfY29uZmlybV9idXR0b24gPSAkKCc8YSBjbGFzcz0iZy1idXR0b24gZy1idXR0b24tYmx1ZSIgZGF0YS1idXR0b24taWQ9IiIgZGF0YS1idXR0b24taW5kZXggaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0icGFkZGluZy1sZWZ0OjM2cHgiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCIgc3R5bGU9InBhZGRpbmctcmlnaHQ6MzZweDsiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0bzsiPuehruWumjwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICAgICAgICB2YXIgJGRpYWxvZ19jYW5jZWxfYnV0dG9uID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBkYXRhLWJ1dHRvbi1pZD0iIiBkYXRhLWJ1dHRvbi1pbmRleCBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBzdHlsZT0icGFkZGluZy1sZWZ0OiAzNnB4OyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0IiBzdHlsZT0icGFkZGluZy1yaWdodDogMzZweDsiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IGF1dG87Ij7lj5bmtog8L3NwYW4+PC9zcGFuPjwvYT4nKTsKCiAgICAgICAgICAgICRkaWFsb2dfaGVhZGVyLmFwcGVuZCgkZGlhbG9nX2NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX3ZlcmlmeV9ib2R5LmFwcGVuZCgkZGlhbG9nX2lucHV0KS5hcHBlbmQoJGRpYWxvZ19pbWcpLmFwcGVuZCgkZGlhbG9nX3JlZnJlc2gpOwogICAgICAgICAgICAkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5LmFwcGVuZCgkZGlhbG9nX3ZlcmlmeV9ib2R5KS5hcHBlbmQoJGRpYWxvZ19lcnIpOwogICAgICAgICAgICAkZGlhbG9nX2JvZHlfZGl2LmFwcGVuZCgkZGlhbG9nX2JvZHlfZG93bmxvYWRfdmVyaWZ5KTsKICAgICAgICAgICAgJGRpYWxvZ19ib2R5LmFwcGVuZCgkZGlhbG9nX2JvZHlfZGl2KTsKICAgICAgICAgICAgJGRpYWxvZ19mb290ZXIuYXBwZW5kKCRkaWFsb2dfY29uZmlybV9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2NhbmNlbF9idXR0b24pOwogICAgICAgICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19oZWFkZXIpLmFwcGVuZCgkZGlhbG9nX2JvZHkpLmFwcGVuZCgkZGlhbG9nX2Zvb3Rlcik7CiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpYWxvZ19kaXYpOwoKICAgICAgICAgICAgJGRpYWxvZ19kaXYuZGlhbG9nRHJhZygpOwoKICAgICAgICAgICAgJGRpYWxvZ19jb250cm9sLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX2ltZy5jbGljayhyZWZyZXNoVkNvZGUpOwogICAgICAgICAgICAkZGlhbG9nX3JlZnJlc2guY2xpY2socmVmcmVzaFZDb2RlKTsKICAgICAgICAgICAgJGRpYWxvZ19pbnB1dC5rZXlwcmVzcyhmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICBpZihldmVudC53aGljaCA9PSAxMykKICAgICAgICAgICAgICAgICAgICBjb25maXJtQ2xpY2soKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICRkaWFsb2dfY29uZmlybV9idXR0b24uY2xpY2soY29uZmlybUNsaWNrKTsKICAgICAgICAgICAgJGRpYWxvZ19jYW5jZWxfYnV0dG9uLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICAgICAgICAkZGlhbG9nX2lucHV0LmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJycpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuICRkaWFsb2dfZGl2OwogICAgICAgIH0KICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbih2Y29kZSl7CiAgICAgICAgICAgIGlmKHZjb2RlKQogICAgICAgICAgICAgICAgJCgnI2RpYWxvZy1pbWcnKS5hdHRyKCdzcmMnLHZjb2RlLmltZyk7CiAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgICAgICAgIHNoYWRvdy5zaG93KCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbigpewogICAgICAgICAgICBkaWFsb2dDb250cm9sKCk7CiAgICAgICAgfQogICAgICAgIGRpYWxvZyA9IGNyZWF0ZURpYWxvZygpOwogICAgICAgIHNoYWRvdyA9ICQoJ2Rpdi5kaWFsb2ctc2hhZG93Jyk7CiAgICAgICAgZnVuY3Rpb24gZGlhbG9nQ29udHJvbCgpewogICAgICAgICAgICAkKCcjZGlhbG9nLWltZycsZGlhbG9nKS5hdHRyKCdzcmMnLCcnKTsKICAgICAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCcnKTsKICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgICAgc2hhZG93LmhpZGUoKTsKICAgICAgICB9CiAgICB9CgogICAgJC5mbi5kaWFsb2dEcmFnID0gZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbW91c2VJbml0WCxtb3VzZUluaXRZLGRpYWxvZ0luaXRYLGRpYWxvZ0luaXRZOwogICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgdmFyICRwYXJlbnQgPSB0aGlzOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyJyx0aGlzKS5tb3VzZWRvd24oZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBtb3VzZUluaXRYID0gcGFyc2VJbnQoZXZlbnQucGFnZVgpOwogICAgICAgICAgICBtb3VzZUluaXRZID0gcGFyc2VJbnQoZXZlbnQucGFnZVkpOwogICAgICAgICAgICBkaWFsb2dJbml0WCA9IHBhcnNlSW50KCRwYXJlbnQuY3NzKCdsZWZ0JykucmVwbGFjZSgncHgnLCcnKSk7CiAgICAgICAgICAgIGRpYWxvZ0luaXRZID0gcGFyc2VJbnQoJHBhcmVudC5jc3MoJ3RvcCcpLnJlcGxhY2UoJ3B4JywnJykpOwogICAgICAgICAgICAkKHRoaXMpLm1vdXNlbW92ZShmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICB2YXIgdGVtcFggPSBkaWFsb2dJbml0WCArIHBhcnNlSW50KGV2ZW50LnBhZ2VYKSAtIG1vdXNlSW5pdFg7CiAgICAgICAgICAgICAgICB2YXIgdGVtcFkgPSBkaWFsb2dJbml0WSArIHBhcnNlSW50KGV2ZW50LnBhZ2VZKSAtIG1vdXNlSW5pdFk7CiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUludCgkcGFyZW50LmNzcygnd2lkdGgnKS5yZXBsYWNlKCdweCcsJycpKTsKICAgICAgICAgICAgICAgIHRlbXBYID0gdGVtcFg8MCA/IDAgOiB0ZW1wWD5zY3JlZW5XaWR0aC13aWR0aCA/IHNjcmVlbldpZHRoLXdpZHRoIDogdGVtcFg7CiAgICAgICAgICAgICAgICB0ZW1wWSA9IHRlbXBZPDAgPyAwIDogdGVtcFk7CiAgICAgICAgICAgICAgICAkcGFyZW50LmNzcygnbGVmdCcsdGVtcFgrJ3B4JykuY3NzKCd0b3AnLHRlbXBZKydweCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlcicsdGhpcykubW91c2V1cChmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICQodGhpcykudW5iaW5kKCdtb3VzZW1vdmUnKTsKICAgICAgICB9KTsKICAgIH0KCn0pKCk7"},{"name":"城通网盘、皮皮盘、牛盘显示正确下载地址","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["*ctfile.com*","*pipipan.com*","*6pan.cc/file-*html","*666pan.cc/file-*html","*777pan.cc/file-*html","*888pan.cc/file-*html"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856058},"enabled":true,"position":14,"file_url":"https://greasyfork.org/scripts/25270-%E5%9F%8E%E9%80%9A%E7%BD%91%E7%9B%98%E7%9A%AE%E7%9A%AE%E7%9B%98%E6%98%BE%E7%A4%BA%E6%AD%A3%E7%A1%AE%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80/code/%E5%9F%8E%E9%80%9A%E7%BD%91%E7%9B%98%E7%9A%AE%E7%9A%AE%E7%9B%98%E6%98%BE%E7%A4%BA%E6%AD%A3%E7%A1%AE%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80.user.js","uuid":"b7a8c66f-4ca3-42b3-b2b4-0b2343c8b177","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGlkICAgICAgICAgICBjdGZpbGVANDA1NjQ3ODI1QHFxLmNvbQovLyBAbmFtZSAgICAgICAgIOWfjumAmue9keebmOOAgeearuearuebmOOAgeeJm+ebmOaYvuekuuato+ehruS4i+i9veWcsOWdgAovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly93ZWliby5jb20vcGVuZGF2ZQovLyBAdmVyc2lvbiAgICAgIDAuNgovLyBAZGVzY3JpcHRpb24gIOWfjumAmue9keebmOOAgeearuearuebmOOAgeeJm+ebmOaYvuekuuato+ehruS4i+i9veWcsOWdgCHljrvmjonpga7mjKHnmoRwb3BqdW1w6YCP5piO5bGC77yB6Ieq5Yqo6Lez5Yiw56ys5LqM6aG177yBCi8vIEBhdXRob3IgICAgICAgNDA1NjQ3ODI1QHFxLmNvbQovLyBAaW5jbHVkZSAgICAgICpjdGZpbGUuY29tKgovLyBAaW5jbHVkZSAgICAgICpwaXBpcGFuLmNvbSoKLy8gQGluY2x1ZGUgICAgICAqNnBhbi5jYy9maWxlLSpodG1sCi8vIEBpbmNsdWRlICAgICAgKjY2NnBhbi5jYy9maWxlLSpodG1sCi8vIEBpbmNsdWRlICAgICAgKjc3N3Bhbi5jYy9maWxlLSpodG1sCi8vIEBpbmNsdWRlICAgICAgKjg4OHBhbi5jYy9maWxlLSpodG1sCi8vIEByZXF1aXJlICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvY2xpcGJvYXJkLmpzLzEuNS4xMy9jbGlwYm9hcmQubWluLmpzCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KLy/niZvnm5gKaWYobG9jYXRpb24uaHJlZi5tYXRjaCgvNjY2cGFuXC5jY3w2cGFuXC5jY3w3NzdwYW5cLmNjfDg4OHBhblwuY2MvZykgKXsKCXZhciBmaWxlQ29kZSA9IGxvY2F0aW9uLmhyZWYubWF0Y2goLyhcZCspXC4vZylbMF0ucmVwbGFjZSgnLicsJycpOwoJLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYuZmlsZV9pdGVtJykuY2hpbGROb2Rlc1sxXS5pbm5lckhUTUwgKz0gJyZuYnNwOzxhIGlkPSJmcmVlX2Rvd25fbGluayIgY2xhc3M9ImNvbG9yX2J0biBidG5fZGVlcF9ibHVlIHR4dHdoaXRlIiBocmVmPSJodHRwOi8vd3d3Ljc3N3Bhbi5jYy9jZC5waHA/ZmlsZV9pZD0nICsgZmlsZUNvZGUgKyAnIiB0YXJnZXQ9Il9ibGFuayI+4oepIOebtOaOpeS4i+i9vTwvYT48c3Bhbj445YiG6ZKf5LiA5qyhPC9zcGFuPic7CgkvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcmVlX2Rvd25fbGluaycpLmNsaWNrKCk7Cglsb2NhdGlvbi5ocmVmID0gJ2h0dHA6Ly93d3cuNzc3cGFuLmNjL2Rvd24tJyArIGZpbGVDb2RlICsgJy5odG1sJzsKfQovL+WfjumAmue9keebmOOAgeearuearuebmAovL+esrOS4gOmhteiHquWKqOeCueWHu+aMiemSrgppZihsb2NhdGlvbi5ocmVmLm1hdGNoKC9jdGZpbGVcLmNvbXxwaXBpcGFuXC5jb20vZykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZyZWVfZG93bl9saW5rJykpewoJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZyZWVfZG93bl9saW5rJykuY2xpY2soKTsKfQovL+aciXBvcOW5v+WRiueahOenu+mZpAp2YXIgcG9wTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZio9InBvcGp1bXAucGhwIl0nKTsKaWYocG9wTm9kZSAhPT0gbnVsbCl7Cglwb3BOb2RlLnJlbW92ZSgpOwp9Ci8v6I635Y+W56ys5LqM6aG16YeM55qE55yf5a6e5LiL6L295Zyw5Z2AIOW7uueri2NvcHnmjInpkq4KdmFyIGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnJlZV9kb3duX2xpbmsnKS5vbmNsaWNrLnRvU3RyaW5nKCkubWF0Y2goLygoaHR0cHxmdHB8aHR0cHMpOlwvXC8pKChbYS16QS1aMC05XC5fLV0rXC5bYS16QS1aXXsyLDZ9KXwoWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfSkpKDpbMC05XXsxLDR9KSooXC9bYS16QS1aMC05XCYlX1wuXC8tfi1dKik/L2dpKVswXTsKc2V0VGltZW91dChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnJlZV9kb3duX2xpbmtbb25jbGlja149ImZyZWVfZG93bl9hY3Rpb24iXScpLm5leHRTaWJsaW5nLmlubmVySFRNTCA9ICc8YnV0dG9uIGNsYXNzPSJteWJ0biIgZGF0YS1jbGlwYm9hcmQtdGV4dD0iJysgZG93biArJyI+Q29weeecn+WunuS4i+i9veWcsOWdgDwvYnV0dG9uPicsMjAwKTsKdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5teWJ0bicpOwoKY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oZSkgewoJY29uc29sZS5sb2coZSk7Cn0pOwoKY2xpcGJvYXJkLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHsKCWNvbnNvbGUubG9nKGUpOwp9KTsK"},{"name":"AdsBypasser","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://*","https://*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"version":"n3"},"ts":1507278856066},"enabled":true,"position":15,"file_url":"https://greasyfork.org/scripts/4881-adsbypasser/code/AdsBypasser.user.js","uuid":"dc722ee7-b054-4527-8f16-7f1d54375cd9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIEFkc0J5cGFzc2VyCi8vIEBuYW1lc3BhY2UgICAgICBBZHNCeXBhc3NlcgovLyBAZGVzY3JpcHRpb24gICAgQnlwYXNzIEFkcwovLyBAY29weXJpZ2h0ICAgICAgMjAxMissIFdlaS1DaGVuZyBQYW4gKGxlZ25hbGV1cmMpCi8vIEB2ZXJzaW9uICAgICAgICA1LjczLjAKLy8gQGxpY2Vuc2UgICAgICAgIEJTRAovLyBAaG9tZXBhZ2VVUkwgICAgaHR0cHM6Ly9hZHNieXBhc3Nlci5naXRodWIuaW8vCi8vIEBzdXBwb3J0VVJMICAgICBodHRwczovL2dpdGh1Yi5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvaXNzdWVzCi8vIEBpY29uICAgICAgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWRzYnlwYXNzZXIvYWRzYnlwYXNzZXIvdjUuNzMuMC9pbWcvbG9nby5wbmcKLy8gQGdyYW50ICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGdyYW50ICAgICAgICAgIEdNX2dldFJlc291cmNlVVJMCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAcnVuLWF0ICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHJlc291cmNlICAgICAgIGFsaWduQ2VudGVyIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9hbGlnbl9jZW50ZXIuY3NzCi8vIEByZXNvdXJjZSAgICAgICBzY2FsZUltYWdlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hZHNieXBhc3Nlci9hZHNieXBhc3Nlci92NS43My4wL2Nzcy9zY2FsZV9pbWFnZS5jc3MKLy8gQHJlc291cmNlICAgICAgIGJnSW1hZ2UgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Fkc2J5cGFzc2VyL2Fkc2J5cGFzc2VyL3Y1LjczLjAvaW1nL2ltYWdlZG9jLWRhcmtub2lzZS5wbmcKLy8gQGluY2x1ZGUgICAgICAgIGh0dHA6Ly8qCi8vIEBpbmNsdWRlICAgICAgICBodHRwczovLyoKLy8gQGNvbm5lY3QgICAgICAgICoKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoY29udGV4dCwgUHJvbWlzZSk7CiAgfSBlbHNlIHsKICAgIHZhciBQID0gbnVsbDsKICAgIGlmIChjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUpIHsKICAgICAgUCA9IGZ1bmN0aW9uIChmbikgewogICAgICAgIHJldHVybiBjb250ZXh0LnVuc2FmZVdpbmRvdy5GdXR1cmUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZnIpIHsKICAgICAgICAgIGZuKGZyLnJlc29sdmUuYmluZChmciksIGZyLnJlamVjdC5iaW5kKGZyKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGNvbnRleHQuUHJvbWlzZVJlc29sdmVyKSB7CiAgICAgIFAgPSBmdW5jdGlvbiAoZm4pIHsKICAgICAgICByZXR1cm4gbmV3IGNvbnRleHQuUHJvbWlzZShmdW5jdGlvbiAocHIpIHsKICAgICAgICAgIGZuKHByLnJlc29sdmUuYmluZChwciksIHByLnJlamVjdC5iaW5kKHByKSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0LlByb21pc2UgPT09ICdmdW5jdGlvbicpIHsKICAgICAgUCA9IGNvbnRleHQuUHJvbWlzZTsKICAgIH0gZWxzZSB7CiAgICAgIFAgPSB0aGlzLlByb21pc2U7CiAgICB9CiAgICBmYWN0b3J5KGNvbnRleHQsIFApOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgUHJvbWlzZSkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgXyA9IGNvbnRleHQuXyA9IHt9OwogIGZ1bmN0aW9uIHNldHVwU3RhY2sgKCkgewogICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7CiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpOwogICAgfSBlbHNlIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eSgnc3RhY2snKSkgewogICAgICB2YXIgc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrLnNwbGl0KCdcbicpLnNsaWNlKDIpOwogICAgICB2YXIgZSA9IHN0YWNrWzBdLm1hdGNoKC9eLipAKC4qKTooXGQqKSQvKTsKICAgICAgdGhpcy5maWxlTmFtZSA9IGVbMV07CiAgICAgIHRoaXMubGluZU51bWJlciA9IHBhcnNlSW50KGVbMl0sIDEwKTsKICAgICAgdGhpcy5zdGFjayA9IHN0YWNrLmpvaW4oJ1xuJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIEFkc0J5cGFzc2VyRXJyb3IgKG1lc3NhZ2UpIHsKICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgfQogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpOwogIEFkc0J5cGFzc2VyRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWRzQnlwYXNzZXJFcnJvcjsKICBBZHNCeXBhc3NlckVycm9yLnByb3RvdHlwZS5uYW1lID0gJ0Fkc0J5cGFzc2VyRXJyb3InOwogIEFkc0J5cGFzc2VyRXJyb3IuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICB2YXIgcGFyZW50ID0gdGhpcywgY2hpbGQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHNldHVwU3RhY2suY2FsbCh0aGlzKTsKICAgICAgcHJvdG9Qcm9wcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICAgIGV4dGVuZChjaGlsZCwgcGFyZW50LCBzdGF0aWNQcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgICBjaGlsZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZDsKICAgIGNoaWxkLnN1cGVyID0gcGFyZW50LnByb3RvdHlwZTsKICAgIHJldHVybiBjaGlsZDsKICB9OwogIEFkc0J5cGFzc2VyRXJyb3Iuc3VwZXIgPSBudWxsOwogIF8uQWRzQnlwYXNzZXJFcnJvciA9IEFkc0J5cGFzc2VyRXJyb3I7CiAgZnVuY3Rpb24gYW55IChjLCBmbikgewogICAgaWYgKGMuc29tZSkgewogICAgICByZXR1cm4gYy5zb21lKGZuKTsKICAgIH0KICAgIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5zb21lKGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBhbGwgKGMsIGZuKSB7CiAgICBpZiAoYy5ldmVyeSkgewogICAgICByZXR1cm4gYy5ldmVyeShmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYywgZm4pOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmV2ZXJ5KGZ1bmN0aW9uIChrKSB7CiAgICAgIHJldHVybiBmbihjW2tdLCBrLCBjKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBlYWNoIChjLCBmbikgewogICAgaWYgKGMuZm9yRWFjaCkgewogICAgICBjLmZvckVhY2goZm4pOwogICAgfSBlbHNlIGlmICh0eXBlb2YgYy5sZW5ndGggPT09ICdudW1iZXInKSB7CiAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYywgZm4pOwogICAgfSBlbHNlIHsKICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgIGZuKGNba10sIGssIGMpOwogICAgICB9KTsKICAgIH0KICB9CiAgZnVuY3Rpb24gbWFwIChjLCBmbikgewogICAgaWYgKGMubWFwKSB7CiAgICAgIHJldHVybiBjLm1hcChmbik7CiAgICB9CiAgICBpZiAodHlwZW9mIGMubGVuZ3RoID09PSAnbnVtYmVyJykgewogICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGMsIGZuKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qua2V5cyhjKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGZuKGNba10sIGssIGMpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChjKSB7CiAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkgewogICAgICBpZiAoIXNvdXJjZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLkMoc291cmNlKS5lYWNoKGZ1bmN0aW9uICh2LCBrKSB7CiAgICAgICAgY1trXSA9IHY7CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gQ29sbGVjdGlvblByb3h5IChjb2xsZWN0aW9uKSB7CiAgICB0aGlzLl9jID0gY29sbGVjdGlvbjsKICB9CiAgQ29sbGVjdGlvblByb3h5LnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9jLmxlbmd0aCA9PT0gJ251bWJlcicpIHsKICAgICAgcmV0dXJuIHRoaXMuX2MubGVuZ3RoOwogICAgfQogICAgcmV0dXJuIE9iamVjdC5rZXlzKGMpLmxlbmd0aDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiAoaykgewogICAgcmV0dXJuIHRoaXMuX2Nba107CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHsKICAgIGVhY2godGhpcy5fYywgZm4pOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKICBDb2xsZWN0aW9uUHJveHkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoZm4pIHsKICAgIHZhciByZXN1bHQ7CiAgICBhbnkodGhpcy5fYywgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgc2VsZikgewogICAgICB2YXIgdG1wID0gZm4odmFsdWUsIGluZGV4LCBzZWxmKTsKICAgICAgaWYgKHRtcCAhPT0gXy5ub25lKSB7CiAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIHBheWxvYWQ6IHRtcCwKICAgICAgICB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gYWxsKHRoaXMuX2MsIGZuKTsKICB9OwogIENvbGxlY3Rpb25Qcm94eS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbWFwKHRoaXMuX2MsIGZuKTsKICB9OwogIF8uQyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25Qcm94eShjb2xsZWN0aW9uKTsKICB9OwogIF8uVCA9IGZ1bmN0aW9uIChzKSB7CiAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7CiAgICB9IGVsc2UgaWYgKHMgaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgcyA9IHMudG9TdHJpbmcoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBBZHNCeXBhc3NlckVycm9yKCd0ZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nJyk7CiAgICB9CiAgICB2YXIgVCA9IHsKICAgICAgJ3t7JzogJ3snLAogICAgICAnfX0nOiAnfScsCiAgICB9OwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICB2YXIga3dhcmdzID0gYXJnc1thcmdzLmxlbmd0aC0xXTsKICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXHtce3xcfVx9fFx7KFteXH1dKylcfS9nLCBmdW5jdGlvbiAobSwga2V5KSB7CiAgICAgICAgaWYgKFQuaGFzT3duUHJvcGVydHkobSkpIHsKICAgICAgICAgIHJldHVybiBUW21dOwogICAgICAgIH0KICAgICAgICBpZiAoYXJncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICByZXR1cm4gYXJnc1trZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa3dhcmdzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIHJldHVybiBrd2FyZ3Nba2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG07CiAgICAgIH0pOwogICAgfTsKICB9OwogIF8uUCA9IGZ1bmN0aW9uIChmbikgewogICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdtdXN0IGdpdmUgYSBmdW5jdGlvbicpOwogICAgfQogICAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwogICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7CiAgICB9OwogIH07CiAgXy5EID0gZnVuY3Rpb24gKGZuKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZm4pOwogIH07CiAgXy5wYXJzZUpTT04gPSBmdW5jdGlvbiAoanNvbikgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybihlLCBqc29uKTsKICAgIH0KICAgIHJldHVybiBfLm5vbmU7CiAgfTsKICBfLmlzU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyk7CiAgfTsKICBfLm5vcCA9IGZ1bmN0aW9uICgpIHsKICB9OwogIF8ubm9uZSA9IF8ubm9wOwogIF8ud2FpdCA9IGZ1bmN0aW9uIChtc0RlbGF5KSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtc0RlbGF5KTsKICAgIH0pOwogIH07CiAgXy50cnkgPSBmdW5jdGlvbiAobXNJbnRlcnZhbCwgZm4pIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgaGFuZGxlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXN1bHQgPSBmbigpOwogICAgICAgIGlmIChyZXN1bHQgIT09IF8ubm9uZSkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChoYW5kbGUpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0KICAgICAgfSwgbXNJbnRlcnZhbCk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIGxvZyAobWV0aG9kLCBhcmdzKSB7CiAgICBpZiAoXy5fcXVpZXQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpOwogICAgaWYgKF8uaXNTdHJpbmcoYXJnc1swXSkpIHsKICAgICAgYXJnc1swXSA9ICdBZHNCeXBhc3NlcjogJyArIGFyZ3NbMF07CiAgICB9IGVsc2UgewogICAgICBhcmdzLnVuc2hpZnQoJ0Fkc0J5cGFzc2VyOicpOwogICAgfQogICAgdmFyIGYgPSBjb25zb2xlW21ldGhvZF07CiAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgZi5hcHBseShjb25zb2xlLCBhcmdzKTsKICAgIH0KICB9CiAgXy5fcXVpZXQgPSBmYWxzZTsKICBfLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICBsb2coJ2luZm8nLCBhcmd1bWVudHMpOwogIH07CiAgXy53YXJuID0gZnVuY3Rpb24gKCkgewogICAgbG9nKCd3YXJuJywgYXJndW1lbnRzKTsKICB9OwogIHJldHVybiBfOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgY29udGV4dC4kID0gZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBEb21Ob3RGb3VuZEVycm9yID0gXy5BZHNCeXBhc3NlckVycm9yLmV4dGVuZCh7CiAgICBuYW1lOiAnRG9tTm90Rm91bmRFcnJvcicsCiAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIERvbU5vdEZvdW5kRXJyb3Iuc3VwZXIuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBfLlQoJ2B7MH1gIG5vdCBmb3VuZCcpKHNlbGVjdG9yKSk7CiAgICB9LAogIH0pOwogIHZhciAkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvcikgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbiA9IGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoIW4pIHsKICAgICAgdGhyb3cgbmV3IERvbU5vdEZvdW5kRXJyb3Ioc2VsZWN0b3IpOwogICAgfQogICAgcmV0dXJuIG47CiAgfTsKICAkLiQgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIGNvbnRleHQpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiAkKHNlbGVjdG9yLCBjb250ZXh0KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICAkLiQkID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWNvbnRleHQgfHwgIWNvbnRleHQucXVlcnlTZWxlY3RvckFsbCkgewogICAgICBjb250ZXh0ID0gZG9jdW1lbnQ7CiAgICB9CiAgICB2YXIgbnMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgcmV0dXJuIF8uQyhucyk7CiAgfTsKICAkLnRvRE9NID0gZnVuY3Rpb24ocmF3SFRNTCkgewogICAgdHJ5IHsKICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgdmFyIERPTUhUTUwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJhd0hUTUwsICJ0ZXh0L2h0bWwiKTsKICAgICAgcmV0dXJuIERPTUhUTUw7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ2NvdWxkIG5vdCBwYXJzZSBIVE1MIHRvIERPTScpOwogICAgfQogIH07CiAgJC5yZW1vdmVOb2RlcyA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29udGV4dCkgewogICAgJC4kJChzZWxlY3RvciwgY29udGV4dCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgICB9KTsKICB9OwogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cCAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwubWF0Y2gocGF0dGVybik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghbSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiBtLnBheWxvYWQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdHNCeVN0cmluZyAocGF0dGVybiwgY29udGV4dCkgewogICAgdmFyIG0gPSAkLiQkKCdzY3JpcHQnLCBjb250ZXh0KS5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgIHZhciBtID0gcy5pbm5lckhUTUwuaW5kZXhPZihwYXR0ZXJuKTsKICAgICAgaWYgKG0gPCAwKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgaWYgKCFtKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIG0udmFsdWUuaW5uZXJIVE1MOwogIH0KICAkLnNlYXJjaFNjcmlwdHMgPSBmdW5jdGlvbiAocGF0dGVybiwgY29udGV4dCkgewogICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgcmV0dXJuIHNlYXJjaFNjcmlwdHNCeVJlZ0V4cChwYXR0ZXJuLCBjb250ZXh0KTsKICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhwYXR0ZXJuKSkgewogICAgICByZXR1cm4gc2VhcmNoU2NyaXB0c0J5U3RyaW5nKHBhdHRlcm4sIGNvbnRleHQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIHhtbGh0dHBSZXF1ZXN0OiBHTV94bWxodHRwUmVxdWVzdCwKICAgIH0sIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIGRlZXBKb2luIChwcmVmaXgsIG9iamVjdCkgewogICAgcmV0dXJuIF8uQyhvYmplY3QpLm1hcChmdW5jdGlvbiAodiwgaykgewogICAgICB2YXIga2V5ID0gXy5UKCd7MH1bezF9XScpKHByZWZpeCwgayk7CiAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gZGVlcEpvaW4oa2V5LCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2tleSwgdl0ubWFwKGVuY29kZVVSSUNvbXBvbmVudCkpOwogICAgfSkuam9pbignJicpOwogIH0KICBmdW5jdGlvbiB0b1F1ZXJ5IChkYXRhKSB7CiAgICB2YXIgdHlwZSA9IHR5cGVvZiBkYXRhOwogICAgaWYgKGRhdGEgPT09IG51bGwgfHwgKHR5cGUgIT09ICdzdHJpbmcnICYmIHR5cGUgIT09ICdvYmplY3QnKSkgewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpOwogICAgfQogICAgcmV0dXJuIF8uQyhkYXRhKS5tYXAoZnVuY3Rpb24gKHYsIGspIHsKICAgICAgaWYgKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiBkZWVwSm9pbihrLCB2KTsKICAgICAgfQogICAgICByZXR1cm4gXy5UKCd7MH09ezF9JykuYXBwbHkodGhpcywgW2ssIHZdLm1hcChlbmNvZGVVUklDb21wb25lbnQpKTsKICAgIH0pLmpvaW4oJyYnKTsKICB9CiAgZnVuY3Rpb24gYWpheCAobWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgbC5ocmVmID0gdXJsOwogICAgdmFyIHJlcUhvc3QgPSBsLmhvc3RuYW1lOwogICAgdmFyIG92ZXJyaWRlSGVhZGVycyA9IHsKICAgICAgSG9zdDogcmVxSG9zdCB8fCB3aW5kb3cubG9jYXRpb24uaG9zdCwKICAgICAgT3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luLAogICAgICBSZWZlcmVyOiB3aW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgfTsKICAgIF8uQyhvdmVycmlkZUhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGssIGMpIHsKICAgICAgaWYgKGhlYWRlcnNba10gPT09IF8ubm9uZSkgewogICAgICAgIGRlbGV0ZSBoZWFkZXJzW2tdOwogICAgICB9IGVsc2UgewogICAgICAgIGhlYWRlcnNba10gPSB2OwogICAgICB9CiAgICB9KTsKICAgIGlmIChkYXRhKSB7CiAgICAgIGlmIChoZWFkZXJzWydDb250ZW50LVR5cGUnXS5pbmRleE9mKCdqc29uJykgPj0gMCkgewogICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhID0gdG9RdWVyeShkYXRhKTsKICAgICAgfQogICAgICBoZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gZGF0YS5sZW5ndGg7CiAgICB9CiAgICB2YXIgeGhyID0gbnVsbDsKICAgIHZhciBwcm9taXNlID0gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgeGhyID0gR00ueG1saHR0cFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogbWV0aG9kLAogICAgICAgIHVybDogdXJsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzcG9uc2UgPSAodHlwZW9mIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCAhPT0gJ3VuZGVmaW5lZCcpID8gcmVzcG9uc2UgOiB0aGlzOwogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZSA9ICh0eXBlb2YgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICE9PSAndW5kZWZpbmVkJykgPyByZXNwb25zZSA6IHRoaXM7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogICAgcHJvbWlzZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgeGhyLmFib3J0KCk7CiAgICB9OwogICAgcmV0dXJuIHByb21pc2U7CiAgfQogICQuZ2V0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgaGVhZGVycykgewogICAgZGF0YSA9IHRvUXVlcnkoZGF0YSk7CiAgICBkYXRhID0gZGF0YSA/ICc/JyArIGRhdGEgOiAnJzsKICAgIGhlYWRlcnMgPSBoZWFkZXJzIHx8IHt9OwogICAgcmV0dXJuIGFqYXgoJ0dFVCcsIHVybCArIGRhdGEsICcnLCBoZWFkZXJzKTsKICB9OwogICQucG9zdCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGhlYWRlcnMpIHsKICAgIHZhciBoID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICB9OwogICAgaWYgKGhlYWRlcnMpIHsKICAgICAgXy5DKGhlYWRlcnMpLmVhY2goZnVuY3Rpb24gKHYsIGspIHsKICAgICAgICBoW2tdID0gdjsKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gYWpheCgnUE9TVCcsIHVybCwgZGF0YSwgaCk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBjb3JlKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgY29udGV4dC5fKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIF8pIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIHdpbmRvdyA9IGNvbnRleHQud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICB2YXIgJCA9IGNvbnRleHQuJCB8fCB7fTsKICAkLnNldENvb2tpZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIG5vdy5zZXRUaW1lKG5vdy5nZXRUaW1lKCkgKyAzNjAwICogMTAwMCk7CiAgICB2YXIgdHBsID0gXy5UKCd7MH09ezF9O3BhdGg9ezJ9OycpOwogICAgZG9jdW1lbnQuY29va2llID0gdHBsKGtleSwgdmFsdWUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgbm93LnRvVVRDU3RyaW5nKCkpOwogIH07CiAgJC5nZXRDb29raWUgPSBmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgYyA9IF8uQyhkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkuZmluZChmdW5jdGlvbiAodikgewogICAgICB2YXIgayA9IHYucmVwbGFjZSgvXlxzKihbYS16QS1aMC05LV9dKyk9LiskLywgJyQxJyk7CiAgICAgIGlmIChrICE9PSBrZXkpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICB9KTsKICAgIGlmICghYykgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGMgPSBjLnZhbHVlLnJlcGxhY2UoL15ccypbYS16QS1aMC05LV9dKz0oW147XSspLj8kLywgJyQxJyk7CiAgICBpZiAoIWMpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gYzsKICB9OwogICQucmVzZXRDb29raWVzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGEgPSBkb2N1bWVudC5kb21haW47CiAgICB2YXIgYiA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9ed3d3XC4vLCAnJyk7CiAgICB2YXIgYyA9IGRvY3VtZW50LmRvbWFpbi5yZXBsYWNlKC9eKFx3K1wuKSs/KFx3K1wuXHcrKSQvLCAnJDInKTsKICAgIHZhciBkID0gKG5ldyBEYXRlKDFlMykpLnRvVVRDU3RyaW5nKCk7CiAgICBfLkMoZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykpLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgdmFyIGsgPSB2LnJlcGxhY2UoL15ccyooXHcrKT0uKyQvLCAnJDEnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gXy5UKCd7MH09O2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICBkb2N1bWVudC5jb29raWUgPSBfLlQoJ3swfT07cGF0aD0vO2V4cGlyZXM9ezF9OycpKGssIGQpOwogICAgICB2YXIgZSA9IF8uVCgnezB9PTtwYXRoPS87ZG9tYWluPXsxfTtleHBpcmVzPXsyfTsnKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBhLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBiLCBkKTsKICAgICAgZG9jdW1lbnQuY29va2llID0gZShrLCBjLCBkKTsKICAgIH0pOwogIH07CiAgcmV0dXJuICQ7Cn0pKTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgY29yZSk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIGNvbnRleHQuXyk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgdmFyICQgPSBjb250ZXh0LiQgfHwge307CiAgdmFyIHBhdHRlcm5zID0gW107CiAgJC5yZWdpc3RlciA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICBwYXR0ZXJucy5wdXNoKHBhdHRlcm4pOwogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeU9iamVjdCAocnVsZSwgdXJsXzYpIHsKICAgIHZhciBtYXRjaGVkID0ge307CiAgICB2YXIgcGFzc2VkID0gXy5DKHJ1bGUpLmFsbChmdW5jdGlvbiAocGF0dGVybiwgcGFydCkgewogICAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIG1hdGNoZWRbcGFydF0gPSB1cmxfNltwYXJ0XS5tYXRjaChwYXR0ZXJuKTsKICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICB2YXIgciA9IF8uQyhwYXR0ZXJuKS5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICB2YXIgbSA9IHVybF82W3BhcnRdLm1hdGNoKHApOwogICAgICAgICAgcmV0dXJuIG0gfHwgXy5ub25lOwogICAgICAgIH0pOwogICAgICAgIG1hdGNoZWRbcGFydF0gPSByID8gci5wYXlsb2FkIDogbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gISFtYXRjaGVkW3BhcnRdOwogICAgfSk7CiAgICByZXR1cm4gcGFzc2VkID8gbWF0Y2hlZCA6IG51bGw7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlSZWdFeHAgKHJ1bGUsIHVybF8xKSB7CiAgICByZXR1cm4gdXJsXzEubWF0Y2gocnVsZSk7CiAgfQogIGZ1bmN0aW9uIGRpc3BhdGNoQnlBcnJheSAocnVsZXMsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHZhciB0bXAgPSBfLkMocnVsZXMpLmZpbmQoZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgdmFyIG0gPSBkaXNwYXRjaChydWxlLCB1cmxfMSwgdXJsXzMsIHVybF82KTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgcmV0dXJuIF8ubm9uZTsKICAgICAgfQogICAgICByZXR1cm4gbTsKICAgIH0pOwogICAgcmV0dXJuIHRtcCA/IHRtcC5wYXlsb2FkIDogbnVsbDsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hCeVN0cmluZyAocnVsZSwgdXJsXzMpIHsKICAgIHZhciBzY2hlbWUgPSAvXCp8aHR0cHM/fGZpbGV8ZnRwfGNocm9tZS1leHRlbnNpb24vOwogICAgdmFyIGhvc3QgPSAvXCp8KFwqXC4pPyhbXlwvKl0rKS87CiAgICB2YXIgcGF0aCA9IC9cLy4qLzsKICAgIHZhciB1cCA9IG5ldyBSZWdFeHAoXy5UKCdeKHtzY2hlbWV9KTovLyh7aG9zdH0pPyh7cGF0aH0pJCcpKHsKICAgICAgc2NoZW1lOiBzY2hlbWUuc291cmNlLAogICAgICBob3N0OiBob3N0LnNvdXJjZSwKICAgICAgcGF0aDogcGF0aC5zb3VyY2UsCiAgICB9KSk7CiAgICB2YXIgbWF0Y2hlZCA9IHJ1bGUubWF0Y2godXApOwogICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgc2NoZW1lID0gbWF0Y2hlZFsxXTsKICAgIGhvc3QgPSBtYXRjaGVkWzJdOwogICAgdmFyIHdjID0gbWF0Y2hlZFszXTsKICAgIHZhciBzZCA9IG1hdGNoZWRbNF07CiAgICBwYXRoID0gbWF0Y2hlZFs1XTsKICAgIGlmIChzY2hlbWUgPT09ICcqJyAmJiAhL2h0dHBzPy8udGVzdCh1cmxfMy5zY2hlbWUpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfSBlbHNlIGlmIChzY2hlbWUgIT09IHVybF8zLnNjaGVtZSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGlmIChzY2hlbWUgIT09ICdmaWxlJyAmJiBob3N0ICE9PSAnKicpIHsKICAgICAgaWYgKHdjKSB7CiAgICAgICAgdXAgPSB1cmxfMy5ob3N0LmluZGV4T2Yoc2QpOwogICAgICAgIGlmICh1cCA8IDAgfHwgdXAgKyBzZC5sZW5ndGggIT09IHVybF8zLmhvc3QubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaG9zdCAhPT0gdXJsXzMuaG9zdCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgICBwYXRoID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykocGF0aC5yZXBsYWNlKC9bKi5cW1xdPysjXS9nLCBmdW5jdGlvbiAoYykgewogICAgICBpZiAoYyA9PT0gJyonKSB7CiAgICAgICAgcmV0dXJuICcuKic7CiAgICAgIH0KICAgICAgcmV0dXJuICdcXCcgKyBjOwogICAgfSkpKTsKICAgIGlmICghcGF0aC50ZXN0KHVybF8zLnBhdGgpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIHVybF8zOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEJ5RnVuY3Rpb24gKHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpIHsKICAgIHJldHVybiBydWxlKHVybF8xLCB1cmxfMywgdXJsXzYpOwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaCAocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNikgewogICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeUFycmF5KHJ1bGUsIHVybF8xLCB1cmxfMywgdXJsXzYpOwogICAgfQogICAgaWYgKHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEJ5RnVuY3Rpb24ocnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICB9CiAgICBpZiAocnVsZSBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVJlZ0V4cChydWxlLCB1cmxfMSk7CiAgICB9CiAgICBpZiAoXy5pc1N0cmluZyhydWxlKSkgewogICAgICByZXR1cm4gZGlzcGF0Y2hCeVN0cmluZyhydWxlLCB1cmxfMyk7CiAgICB9CiAgICByZXR1cm4gZGlzcGF0Y2hCeU9iamVjdChydWxlLCB1cmxfNik7CiAgfQogICQuX2ZpbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHVybF8xID0gd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCk7CiAgICB2YXIgdXJsXzMgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLnNsaWNlKDAsIC0xKSwKICAgICAgaG9zdDogd2luZG93LmxvY2F0aW9uLmhvc3QsCiAgICAgIHBhdGg6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgdXJsXzYgPSB7CiAgICAgIHNjaGVtZTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sLAogICAgICBob3N0OiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsCiAgICAgIHBvcnQ6IHdpbmRvdy5sb2NhdGlvbi5wb3J0LAogICAgICBwYXRoOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsCiAgICAgIHF1ZXJ5OiB3aW5kb3cubG9jYXRpb24uc2VhcmNoLAogICAgICBoYXNoOiB3aW5kb3cubG9jYXRpb24uaGFzaCwKICAgIH07CiAgICB2YXIgcGF0dGVybiA9IF8uQyhwYXR0ZXJucykuZmluZChmdW5jdGlvbiAocGF0dGVybikgewogICAgICB2YXIgbSA9IGRpc3BhdGNoKHBhdHRlcm4ucnVsZSwgdXJsXzEsIHVybF8zLCB1cmxfNik7CiAgICAgIGlmICghbSkgewogICAgICAgIHJldHVybiBfLm5vbmU7CiAgICAgIH0KICAgICAgcmV0dXJuIG07CiAgICB9KTsKICAgIGlmICghcGF0dGVybikgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBtYXRjaGVkID0gcGF0dGVybi5wYXlsb2FkOwogICAgcGF0dGVybiA9IHBhdHRlcm4udmFsdWU7CiAgICBpZiAoIXBhdHRlcm4uc3RhcnQgJiYgIXBhdHRlcm4ucmVhZHkpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICByZXR1cm4gewogICAgICBzdGFydDogcGF0dGVybi5zdGFydCA/IF8uUChwYXR0ZXJuLnN0YXJ0LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgICByZWFkeTogcGF0dGVybi5yZWFkeSA/IF8uUChwYXR0ZXJuLnJlYWR5LCBtYXRjaGVkKSA6IF8ubm9wLAogICAgfTsKICB9OwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8pOwogIH0KfSh0aGlzLCBmdW5jdGlvbiAoY29udGV4dCwgXykgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciAkID0gY29udGV4dC4kIHx8IHt9OwogIGZ1bmN0aW9uIHByZXBhcmUgKGUpIHsKICAgIGlmICghZG9jdW1lbnQuYm9keSkgewogICAgICBkb2N1bWVudC5ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpOwogICAgfQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTsKICAgIHJldHVybiBfLndhaXQoMCk7CiAgfQogIGZ1bmN0aW9uIGdldCAodXJsKSB7CiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGEuaHJlZiA9IHVybDsKICAgIHZhciBjbGlja2VkID0gZmFsc2U7CiAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBjbGlja2VkID0gdHJ1ZTsKICAgIH0pOwogICAgcHJlcGFyZShhKS50aGVuKCgpID0+IHsKICAgICAgYS5jbGljaygpOwogICAgICB2YXIgdGljayA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY2xpY2tlZCkgewogICAgICAgICAgXy5pbmZvKCdhbHJlYWR5IGNsaWNrZWQnKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGljayk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIF8uaW5mbygndHJ5IGFnYWluJyk7CiAgICAgICAgYS5jbGljaygpOwogICAgICB9LCA1MCk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcG9zdCAocGF0aCwgcGFyYW1zKSB7CiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307CiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTsKICAgIGZvcm0ubWV0aG9kID0gJ3Bvc3QnOwogICAgZm9ybS5hY3Rpb24gPSBwYXRoOwogICAgXy5DKHBhcmFtcykuZWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nOwogICAgICAgIGlucHV0Lm5hbWUgPSBrZXk7CiAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTsKICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTsKICAgIH0pOwogICAgcHJlcGFyZShmb3JtKTsKICAgIGZvcm0uc3VibWl0KCk7CiAgfQogICQub3BlbkxpbmsgPSBmdW5jdGlvbiAodG8sIG9wdGlvbnMpIHsKICAgIGlmICghXy5pc1N0cmluZyh0bykgJiYgIXRvKSB7CiAgICAgIF8ud2FybignZmFsc2UgVVJMJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgdmFyIHdpdGhSZWZlcmVyID0gdHlwZW9mIG9wdGlvbnMucmVmZXJlciA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogb3B0aW9ucy5yZWZlcmVyOwogICAgdmFyIHBvc3REYXRhID0gb3B0aW9ucy5wb3N0OwogICAgdmFyIGZyb20gPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIF8uaW5mbyhfLlQoJ3swfSAtPiB7MX0nKShmcm9tLCB0bykpOwogICAgaWYgKHBvc3REYXRhKSB7CiAgICAgIHBvc3QodG8sIHBvc3REYXRhKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHdpdGhSZWZlcmVyKSB7CiAgICAgIGdldCh0byk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHdpbmRvdy50b3AubG9jYXRpb24ucmVwbGFjZSh0byk7CiAgfTsKICByZXR1cm4gJDsKfSkpOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgYWpheCA9IHJlcXVpcmUoJy4vYWpheC5qcycpOwogICAgICB2YXIgJCA9IGFqYXgoY29udGV4dCk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgdW5zYWZlV2luZG93ID0gY29udGV4dC51bnNhZmVXaW5kb3cgfHwgKDAsIGV2YWwpKCd0aGlzJykud2luZG93OwogIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsKICAkLnJlbW92ZUFsbFRpbWVyID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGhhbmRsZSA9IHdpbmRvdy5zZXRJbnRlcnZhbChfLm5vcCwgMTApOwogICAgd2hpbGUgKGhhbmRsZSA+IDApIHsKICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaGFuZGxlLS0pOwogICAgfQogICAgaGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQoXy5ub3AsIDEwKTsKICAgIHdoaWxlIChoYW5kbGUgPiAwKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlLS0pOwogICAgfQogIH07CiAgJC5udWtlID0gZnVuY3Rpb24gKHVybCkgewogICAgdHJ5IHsKICAgICAgJC53aW5kb3cuZG9jdW1lbnQud3JpdGUoJ251a2VkIGJ5IEFkc0J5cGFzc2VyLCBsZWFkaW5nIHRvIC4uLjxici8+Jyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF8ud2FybignbnVrZSBmYWlsZWQnLCBlKTsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgYS5ocmVmID0gdXJsOwogICAgYS50ZXh0Q29udGVudCA9IHVybDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgfTsKICAkLmdlbmVyYXRlUmFuZG9tSVAgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gWzAsMCwwLDBdLm1hcChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpOwogICAgfSkuam9pbignLicpOwogIH07CiAgJC5jYXB0Y2hhID0gZnVuY3Rpb24gKGltZ1NyYywgY2IpIHsKICAgIGlmICghJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICB2YXIgYiA9IGEuZ2V0Q29udGV4dCgnMmQnKTsKICAgIHZhciBjID0gbmV3IEltYWdlKCk7CiAgICBjLnNyYyA9IGltZ1NyYzsKICAgIGMub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICBhLndpZHRoID0gYy53aWR0aDsKICAgICAgYS5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgYi5kcmF3SW1hZ2UoYywgMCwgMCk7CiAgICAgIHZhciBkID0gYS50b0RhdGFVUkwoKTsKICAgICAgdmFyIGUgPSBkLnN1YnN0cihkLmluZGV4T2YoJywnKSArIDEpOwogICAgICAkLnBvc3QoJ2h0dHA6Ly93d3cud2NwYW4uaW5mby9jZ2ktYmluL2NhcHRjaGEuY2dpJywgewogICAgICAgIGk6IGUsCiAgICAgIH0sIGNiKTsKICAgIH07CiAgfTsKICBmdW5jdGlvbiBjbG9uZSAoc2FmZSkgewogICAgaWYgKHNhZmUgPT09IG51bGwgfHwgIShzYWZlIGluc3RhbmNlb2YgT2JqZWN0KSkgewogICAgICByZXR1cm4gc2FmZTsKICAgIH0KICAgIGlmIChzYWZlID09PSB1bnNhZmVXaW5kb3cpIHsKICAgICAgcmV0dXJuIHNhZmU7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIFN0cmluZykgewogICAgICByZXR1cm4gc2FmZS50b1N0cmluZygpOwogICAgfQogICAgaWYgKHNhZmUgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICByZXR1cm4gZXhwb3J0RnVuY3Rpb24oc2FmZSwgdW5zYWZlV2luZG93LCB7CiAgICAgICAgYWxsb3dDcm9zc09yaWdpbkFyZ3VtZW50czogdHJ1ZSwKICAgICAgfSk7CiAgICB9CiAgICBpZiAoc2FmZSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgIHZhciB1bnNhZmUgPSBuZXcgdW5zYWZlV2luZG93LkFycmF5KCk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2FmZS5sZW5ndGg7ICsraSkgewogICAgICAgIHVuc2FmZS5wdXNoKGNsb25lKHNhZmVbaV0pKTsKICAgICAgfQogICAgICByZXR1cm4gdW5zYWZlOwogICAgfQogICAgdmFyIHVuc2FmZSA9IG5ldyB1bnNhZmVXaW5kb3cuT2JqZWN0KCk7CiAgICBfLkMoc2FmZSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICB1bnNhZmVba10gPSBjbG9uZSh2KTsKICAgIH0pOwogICAgcmV0dXJuIHVuc2FmZTsKICB9CiAgdmFyIE1BR0lDX0tFWSA9ICdfX2Fkc2J5cGFzc2VyX3JldmVyc2VfcHJveHlfXyc7CiAgJC53aW5kb3cgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIGlzRmlyZWZveCA9IHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7CiAgICBpZiAoIWlzRmlyZWZveCkgewogICAgICByZXR1cm4gdW5zYWZlV2luZG93OwogICAgfQogICAgdmFyIGRlY29yYXRvciA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSA9PT0gTUFHSUNfS0VZKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0YXJnZXQgPT09IHVuc2FmZVdpbmRvdyAmJiBrZXkgPT09ICdvcGVuJykgewogICAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTsKICAgICAgICAgIGQudmFsdWUgPSBjbG9uZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBydiA9IHZhbHVlKCk7CiAgICAgICAgICAgIHJldHVybiBjbG9uZUludG8ocnYsIHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRhcmdldFtrZXldID0gY2xvbmUodmFsdWUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgICAgICBpZiAoa2V5ID09PSBNQUdJQ19LRVkpIHsKICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgfQogICAgICAgIHZhciB2YWx1ZSA9IHRhcmdldFtrZXldOwogICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlOwogICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JykpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgZGVjb3JhdG9yKTsKICAgICAgfSwKICAgICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIHNlbGYsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93Lk9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgewogICAgICAgICAgYXJnc1swXSA9IGFyZ3NbMF1bTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLmFwcGx5KSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgICAgYXJnc1sxXSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3NbMV0pOwogICAgICAgIH0KICAgICAgICBpZiAodGFyZ2V0ID09PSB1bnNhZmVXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcikgewogICAgICAgICAgc2VsZiA9IHNlbGZbTUFHSUNfS0VZXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5zYWZlV2luZG93LmRvY3VtZW50LndyaXRlKSB7CiAgICAgICAgICBzZWxmID0gc2VsZltNQUdJQ19LRVldOwogICAgICAgIH0KICAgICAgICB2YXIgdXNhcmdzID0gY2xvbmUoYXJncyk7CiAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShzZWxmLCB1c2FyZ3MpOwogICAgICB9LAogICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHsKICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7CiAgICAgICAgYXJncy51bnNoaWZ0KHVuZGVmaW5lZCk7CiAgICAgICAgdmFyIHVzYXJncyA9IGNsb25lKGFyZ3MpOwogICAgICAgIHZhciBiaW5kID0gdW5zYWZlV2luZG93LkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kOwogICAgICAgIHJldHVybiBuZXcgKGJpbmQuYXBwbHkodGFyZ2V0LCB1c2FyZ3MpKTsKICAgICAgfSwKICAgIH07CiAgICByZXR1cm4gbmV3IFByb3h5KHVuc2FmZVdpbmRvdywgZGVjb3JhdG9yKTsKICB9KSgpOwogIHJldHVybiAkOwp9KSk7CihmdW5jdGlvbiAoY29udGV4dCwgZmFjdG9yeSkgewogIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb250ZXh0LCBHTSkgewogICAgICB2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwogICAgICB2YXIgY29yZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpOwogICAgICB2YXIgbWlzYyA9IHJlcXVpcmUoJy4vbWlzYy5qcycpOwogICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hlci5qcycpOwogICAgICB2YXIgbW9kdWxlcyA9IFttaXNjLCBkaXNwYXRjaGVyXS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5jYWxsKG51bGwsIGNvbnRleHQsIEdNKTsKICAgICAgfSk7CiAgICAgIHZhciAkID0gXy5hc3NpZ24uYXBwbHkobnVsbCwgbW9kdWxlcyk7CiAgICAgIHJldHVybiBmYWN0b3J5KGNvbnRleHQsIEdNLCBjb3JlLCAkKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIGZhY3RvcnkoY29udGV4dCwgewogICAgICBnZXRWYWx1ZTogR01fZ2V0VmFsdWUsCiAgICAgIHNldFZhbHVlOiBHTV9zZXRWYWx1ZSwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBNQU5JRkVTVCA9IFsKICAgIHsKICAgICAgbmFtZTogJ3ZlcnNpb24nLAogICAgICBrZXk6ICd2ZXJzaW9uJywKICAgICAgZGVmYXVsdF86IDAsCiAgICAgIHZlcmlmeTogZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIHYgPj0gMDsKICAgICAgfSwKICAgICAgbm9ybWFsaXplOiB0b051bWJlciwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdhbGlnbkNlbnRlcicsCiAgICAgIGtleTogJ2FsaWduX2NlbnRlcicsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnY2hhbmdlQmFja2dyb3VuZCcsCiAgICAgIGtleTogJ2NoYW5nZV9iYWNrZ3JvdW5kJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdleHRlcm5hbFNlcnZlclN1cHBvcnQnLAogICAgICBrZXk6ICdleHRlcm5hbF9zZXJ2ZXJfc3VwcG9ydCcsCiAgICAgIGRlZmF1bHRfOiBmYWxzZSwKICAgICAgdmVyaWZ5OiBpc0Jvb2xlYW4sCiAgICAgIG5vcm1hbGl6ZTogdG9Cb29sZWFuLAogICAgfSwKICAgIHsKICAgICAgbmFtZTogJ3JlZGlyZWN0SW1hZ2UnLAogICAgICBrZXk6ICdyZWRpcmVjdF9pbWFnZScsCiAgICAgIGRlZmF1bHRfOiB0cnVlLAogICAgICB2ZXJpZnk6IGlzQm9vbGVhbiwKICAgICAgbm9ybWFsaXplOiB0b0Jvb2xlYW4sCiAgICB9LAogICAgewogICAgICBuYW1lOiAnc2NhbGVJbWFnZScsCiAgICAgIGtleTogJ3NjYWxlX2ltYWdlJywKICAgICAgZGVmYXVsdF86IHRydWUsCiAgICAgIHZlcmlmeTogaXNCb29sZWFuLAogICAgICBub3JtYWxpemU6IHRvQm9vbGVhbiwKICAgIH0sCiAgICB7CiAgICAgIG5hbWU6ICdsb2dMZXZlbCcsCiAgICAgIGtleTogJ2xvZ19sZXZlbCcsCiAgICAgIGRlZmF1bHRfOiAxLAogICAgICB2ZXJpZnk6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiB2ID49IDAgJiYgdiA8PSAyOwogICAgICB9LAogICAgICBub3JtYWxpemU6IHRvTnVtYmVyLAogICAgfSwKICBdOwogIHZhciBQQVRDSEVTID0gWwogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgdmFyIGFjID0gdHlwZW9mIGMuYWxpZ25DZW50ZXIgPT09ICdib29sZWFuJzsKICAgICAgaWYgKHR5cGVvZiBjLmNoYW5nZUJhY2tncm91bmQgIT09ICdib29sZWFuJykgewogICAgICAgIGMuY2hhbmdlQmFja2dyb3VuZCA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBjLnNjYWxlSW1hZ2UgIT09ICdib29sZWFuJykgewogICAgICAgIGMuc2NhbGVJbWFnZSA9IGFjID8gYy5hbGlnbkNlbnRlciA6IHRydWU7CiAgICAgIH0KICAgICAgaWYgKCFhYykgewogICAgICAgIGMuYWxpZ25DZW50ZXIgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgYy5yZWRpcmVjdEltYWdlICE9PSAnYm9vbGVhbicpIHsKICAgICAgICBjLnJlZGlyZWN0SW1hZ2UgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZnVuY3Rpb24gKGMpIHsKICAgICAgaWYgKHR5cGVvZiBjLmV4dGVybmFsU2VydmVyU3VwcG9ydCAhPT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgYy5leHRlcm5hbFNlcnZlclN1cHBvcnQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGZ1bmN0aW9uIChjKSB7CiAgICAgIGlmICh0eXBlb2YgYy5sb2dMZXZlbCAhPT0gJ251bWJlcicpIHsKICAgICAgICBjLmxvZ0xldmVsID0gMTsKICAgICAgfQogICAgfSwKICBdOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICBmdW5jdGlvbiBpc0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nOwogIH0KICBmdW5jdGlvbiB0b0Jvb2xlYW4gKHYpIHsKICAgIHJldHVybiAhIXY7CiAgfQogIGZ1bmN0aW9uIHRvTnVtYmVyICh2KSB7CiAgICByZXR1cm4gcGFyc2VJbnQodiwgMTApOwogIH0KICBmdW5jdGlvbiBjcmVhdGVDb25maWcgKCkgewogICAgdmFyIGMgPSB7fTsKICAgIF8uQyhNQU5JRkVTVCkuZWFjaChmdW5jdGlvbiAobSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywgbS5uYW1lLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgICAgR00uc2V0VmFsdWUobS5rZXksIHYpOwogICAgICAgICAgdmFyIG52ID0gR00uZ2V0VmFsdWUobS5rZXksIG0uZGVmYXVsdF8pOwogICAgICAgICAgaWYgKG52ICE9PSB2KSB7CiAgICAgICAgICAgIHZhciBzID0gXy5UKCdmYWlsZWQgdG8gd3JpdGUgY29uZmlnLCBrZXk6IHswfSwgdmFsdWU6IHsxfSwgbmV3OiB7Mn0nKTsKICAgICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcihzKHMua2V5LCBudiwgdikpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gc2VuaXR5Q2hlY2sgKGMpIHsKICAgIHZhciBvayA9IF8uQyhNQU5JRkVTVCkuYWxsKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBtLnZlcmlmeShjW20ubmFtZV0pOwogICAgfSk7CiAgICBpZiAoIW9rKSB7CiAgICAgIGMudmVyc2lvbiA9IDA7CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgZnVuY3Rpb24gbWlncmF0ZSAoYykgewogICAgaWYgKHR5cGVvZiBjLnZlcnNpb24gIT09ICdudW1iZXInIHx8IGMudmVyc2lvbiA8IDApIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignd3JvbmcgY29uZmlnIHZlcnNpb246ICcgKyBjLnZlcnNpb24pOwogICAgfQogICAgd2hpbGUgKGMudmVyc2lvbiA8IFBBVENIRVMubGVuZ3RoKSB7CiAgICAgIFBBVENIRVNbYy52ZXJzaW9uXShjKTsKICAgICAgKytjLnZlcnNpb247CiAgICB9CiAgICByZXR1cm4gYzsKICB9CiAgJC5jb25maWcgPSBtaWdyYXRlKHNlbml0eUNoZWNrKGNyZWF0ZUNvbmZpZygpKSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRzYnlwYXNzZXJcLmdpdGh1YlwuaW8kLywKICAgICAgcGF0aDogL15cL2NvbmZpZ3VyZVwuaHRtbCQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQud2luZG93LmNvbW1pdCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgZGF0YS52ZXJzaW9uID0gJC5jb25maWcudmVyc2lvbjsKICAgICAgICBfLkMoZGF0YSkuZWFjaChmdW5jdGlvbiAodiwgaykgewogICAgICAgICAgJC5jb25maWdba10gPSB2OwogICAgICAgIH0pOwogICAgICB9OwogICAgICAkLndpbmRvdy5yZW5kZXIoewogICAgICAgIHZlcnNpb246ICQuY29uZmlnLnZlcnNpb24sCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgYWxpZ25DZW50ZXI6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmFsaWduQ2VudGVyLAogICAgICAgICAgICBsYWJlbDogJ0FsaWduIENlbnRlcicsCiAgICAgICAgICAgIGhlbHA6ICdBbGlnbiBpbWFnZSB0byB0aGUgY2VudGVyIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGNoYW5nZUJhY2tncm91bmQ6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQsCiAgICAgICAgICAgIGxhYmVsOiAnQ2hhbmdlIEJhY2tncm91bmQnLAogICAgICAgICAgICBoZWxwOiAnVXNlIEZpcmVmb3gtbGlrZSBpbWFnZSBiYWNrZ3JvdW5kIGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIHJlZGlyZWN0SW1hZ2U6IHsKICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94JywKICAgICAgICAgICAgdmFsdWU6ICQuY29uZmlnLnJlZGlyZWN0SW1hZ2UsCiAgICAgICAgICAgIGxhYmVsOiAnUmVkaXJlY3QgSW1hZ2UnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0RpcmVjdGx5IG9wZW4gaW1hZ2UgbGluayBpZiBwb3NzaWJsZS4gKGRlZmF1bHQ6IGVuYWJsZWQpJywKICAgICAgICAgICAgICAnSWYgZGlzYWJsZWQsIHJlZGlyZWN0aW9uIHdpbGwgb25seSB3b3JrcyBvbiBsaW5rIHNob3J0ZW5lciBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgICBzY2FsZUltYWdlOiB7CiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5zY2FsZUltYWdlLAogICAgICAgICAgICBsYWJlbDogJ1NjYWxlIEltYWdlJywKICAgICAgICAgICAgaGVscDogJ1doZW4gaW1hZ2UgbG9hZGVkLCBzY2FsZSBpdCB0byBmaXQgd2luZG93IGlmIHBvc3NpYmxlLiAoZGVmYXVsdDogZW5hYmxlZCknLAogICAgICAgICAgfSwKICAgICAgICAgIGV4dGVybmFsU2VydmVyU3VwcG9ydDogewogICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLAogICAgICAgICAgICB2YWx1ZTogJC5jb25maWcuZXh0ZXJuYWxTZXJ2ZXJTdXBwb3J0LAogICAgICAgICAgICBsYWJlbDogJ0V4dGVybmFsIFNlcnZlciBTdXBwb3J0JywKICAgICAgICAgICAgaGVscDogWwogICAgICAgICAgICAgICdTZW5kIFVSTCBpbmZvcm1hdGlvbiB0byBleHRlcm5hbCBzZXJ2ZXIgdG8gZW5oYW5jZSBmZWF0dXJlcyAoZS5nLjogY2FwdGNoYSByZXNvbHZpbmcpLiAoZGVmYXVsdDogZGlzYWJsZWQpJywKICAgICAgICAgICAgICAnQWZmZWN0ZWQgc2l0ZXM6JywKICAgICAgICAgICAgICAnc2V0bGlua3MudXMgKGNhcHRjaGEpJywKICAgICAgICAgICAgXS5qb2luKCc8YnIvPlxuJyksCiAgICAgICAgICB9LAogICAgICAgICAgbG9nTGV2ZWw6IHsKICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgIHZhbHVlOiAkLmNvbmZpZy5sb2dMZXZlbCwKICAgICAgICAgICAgbWVudTogWwogICAgICAgICAgICAgIFswLCAnMCAocXVpZXQpJ10sCiAgICAgICAgICAgICAgWzEsICcxIChkZWZhdWx0KSddLAogICAgICAgICAgICAgIFsyLCAnMiAodmVyYm9zZSknXSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgbGFiZWw6ICdMb2cgTGV2ZWwnLAogICAgICAgICAgICBoZWxwOiBbCiAgICAgICAgICAgICAgJ0xvZyBsZXZlbCBpbiBkZXZlbG9wZXIgY29uc29sZS4gKGRlZmF1bHQ6IDEpJywKICAgICAgICAgICAgICAnMCB3aWxsIG5vdCBwcmludCBhbnl0aGluZyBpbiBjb25zb2xlLicsCiAgICAgICAgICAgICAgJzEgd2lsbCBvbmx5IHByaW50IGxvZ3Mgb24gYWZmZWN0ZWQgc2l0ZXMuJywKICAgICAgICAgICAgICAnMiB3aWxsIHByaW50IG9uIGFueSBzaXRlcy4nLAogICAgICAgICAgICBdLmpvaW4oJzxici8+XG4nKSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogIH0pOwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMDFcLm5sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWUjcmVkaXJlY3RmcmFtZScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMTBjb1wuKGJpenx4eXp8Y298bWUpJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGQgPSAkKCcuZ28nKTsKICAgICQub3BlbkxpbmsoZC5kYXRhc2V0LmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/MWJlXC5iaXokLywKICAgIHBhdGg6IC9eXC9zXC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8xdGlueVwubmV0JC8sCiAgICBwYXRoOiAvXC9cdysvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0nKFteJ10rKSc7Lyk7CiAgICBpZiAoIWRpcmVjdFVybCkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY29udGVudCBjaGFuZ2VkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGRpcmVjdFVybFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eMnR5XC5jYyQvLAogICAgcGF0aDogL15cLy4rLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBhID0gJCgnI2Nsb3NlJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8zcmFcLmJlJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgZiA9ICQud2luZG93LmZjOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dpbmRvdy5mYyBpcyB1bmRlZmluZWQnKTsKICAgIH0KICAgIGYgPSBmLnRvU3RyaW5nKCk7CiAgICBmID0gZi5tYXRjaCgvaHJlZj0iKFteIl0qKS8pOwogICAgaWYgKCFmKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3VybCBwYXR0ZXJuIG91dGRhdGVkJyk7CiAgICB9CiAgICAkLm9wZW5MaW5rKGZbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/NGZ1blwudHckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNvcmlnaW5hbF91cmwnKTsKICAgICQub3BlbkxpbmsoaS52YWx1ZSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWQybGlua3NcLmNvbSQvLAogICAgcGF0aDogL15cL1x3LS4rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rQnlQb3N0KHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBpbWFnZTogJ1NraXAgQWQuJywKICAgICAgfSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkNFwuZnIkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC8ic3JjIiwgIihbXiJdKykiLyk7CiAgICBpZiAoIXMpIHsKICAgICAgXy53YXJuKCdjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQub3Blbkxpbmsoc1sxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cZCtcLyguKikkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciByZWRpcmVjdExpbmsgPSBtLnBhdGhbMV07CiAgICAgIGlmICghcmVkaXJlY3RMaW5rLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgICAgIHJlZGlyZWN0TGluayA9ICJodHRwOi8vIiArIHJlZGlyZWN0TGluazsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKHJlZGlyZWN0TGluayk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFkN1wuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cdyskLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHNjcmlwdCA9ICQuc2VhcmNoU2NyaXB0cygndmFyIHJfdXJsJyk7CiAgICAgIHZhciB1cmwgPSBzY3JpcHQubWF0Y2goLyZ1cmw9KFteJl0rKS8pOwogICAgICB1cmwgPSB1cmxbMV07CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2FkYlwudWckLywKICAgICAgICAvXih3d3dcLik/bHlua1wubXkkLywKICAgICAgICAvXmFkeW91XC5tZSQvLAogICAgICBdLAogICAgICBwYXRoOiAvXig/IVwvKD86cHJpdmFjeXx0ZXJtc3xjb250YWN0KFwvLiopP3wjLiopPyQpLiokLwogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC90b3BcLmxvY2F0aW9uXC5ocmVmPSIoW14iXSspIi8pOwogICAgICBpZiAobSkgewogICAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFyZ3VtZW50cygpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICB0cnlMaW5rKGFyZ3MpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZ2V0QXJndW1lbnRzICgpIHsKICAgIHZhciBQQVRURVJOID0gL1x7XHMqX2FyZ3NbXn1dK1x9W159XStcfS87CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoUEFUVEVSTik7CiAgICAgIGlmIChtKSB7CiAgICAgICAgcmVzb2x2ZShtKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PT0gJ3NjcmlwdCcpIHsKICAgICAgICAgICAgICB2YXIgbSA9IG5vZGUudGV4dENvbnRlbnQubWF0Y2goUEFUVEVSTik7CiAgICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJlc29sdmUobSk7CiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChtKSB7CiAgICAgIHJldHVybiBldmFsKCcoJyArIG1bMF0gKyAnKScpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHRyeUxpbmsgKGFyZ3MpIHsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnL3NraXBfdGltZXInOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgamogPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBpZiAoIWpqLmVycm9ycyAmJiBqai5tZXNzYWdlcykgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpKTsKICAgICAgICAgICQub3BlbkxpbmsoamoubWVzc2FnZXMudXJsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgMTAwMCk7CiAgfQp9KSgpOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBnZXRUb2tlbkZyb21Sb2NrZXRTY3JpcHQgKCkgewogICAgdmFyIGEgPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciBldSA9ICcoPyFmYWxzZSkoLiopJy8pOwogICAgcmV0dXJuIGEgPyBhWzFdIDogbnVsbDsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRmXC5seSQvLAogICAgICBwYXRoOiAvXlwvcmVkaXJlY3RpbmdcLyguKykkLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgcGF0aDogL1wvbG9ja2VkJC8sCiAgICAgIHF1ZXJ5OiAvdXJsPShbXiZdKykvLAogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAkLnJlc2V0Q29va2llcygpOwogICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgICBpZiAodXJsLm1hdGNoKC9eaHR0cC8pKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgICQub3BlbkxpbmsoJy8nICsgdXJsKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGggPSAkLiQoJ2h0bWxbaWQ9Im1haW5faHRtbCJdJyk7CiAgICAgIGlmIChoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC53cml0ZSA9IF8ubm9wOwogICAgICAkLndpbmRvdy5idG9hID0gXy5ub3A7CiAgICAgIHdhaXRUb2tlbigpLnRoZW4oZnVuY3Rpb24gKHRva2VuKSB7CiAgICAgICAgdmFyIHVybCA9IGRlY29kZVRva2VuKHRva2VuKTsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaCA9ICQuJCgnI21haW5faHRtbCcpLCBiID0gJC4kKCcjaG9tZScpOwogICAgICBpZiAoIWggfHwgIWIgfHwgaC5ub2RlTmFtZSAhPT0gJ0hUTUwnIHx8IGIubm9kZU5hbWUgIT09ICdCT0RZJykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC53aW5kb3cuY29va2llQ2hlY2sgPSBfLm5vcDsKICAgICAgaCA9IGdldFRva2VuRnJvbVJvY2tldFNjcmlwdCgpOwogICAgICBpZiAoIWgpIHsKICAgICAgICBoID0gJCgnI2FkZmx5X2JhcicpOwogICAgICAgICQud2luZG93LmNsb3NlX2JhcigpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBoID0gZGVjb2RlVG9rZW4oaCk7CiAgICAgICQub3BlbkxpbmsoaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHdhaXRUb2tlbiAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciBvID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgICAgXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnc2NyaXB0JykgewogICAgICAgICAgICAgIHZhciBtID0gbm9kZS50ZXh0Q29udGVudC5tYXRjaCgvdmFyIHlzbW0gPSAnKFteJ10rKScvKTsKICAgICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgICAgby5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICByZXNvbHZlKG1bMV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoZG9jdW1lbnQuaGVhZCwgewogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgfSk7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gZGVjb2RlVG9rZW4gKHRva2VuKSB7CiAgICB2YXIgYSA9IHRva2VuLmluZGV4T2YoJyFIaVRvbW15Jyk7CiAgICBpZiAoYSA+PSAwKSB7CiAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDAsIGEpOwogICAgfQogICAgYSA9ICcnOwogICAgdmFyIGIgPSAnJzsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKGkgJSAyID09PSAwKSB7CiAgICAgICAgYSA9IGEgKyB0b2tlbi5jaGFyQXQoaSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYiA9IHRva2VuLmNoYXJBdChpKSArIGI7CiAgICAgIH0KICAgIH0KICAgIHRva2VuID0gYXRvYihhICsgYik7CiAgICB0b2tlbiA9IHRva2VuLnN1YnN0cigyKTsKICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7CiAgICAgIHRva2VuICs9IGxvY2F0aW9uLmhhc2g7CiAgICB9CiAgICByZXR1cm4gdG9rZW47CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YWRmZVwuZXMkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNmcm12aWRlbycpOwogICAgaWYgKCFmLlNURVA0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vYWRmb2MudXMvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByb290ID0gZG9jdW1lbnQuYm9keTsKICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgdmFyIG8gPSAkLiQoJyNzaG93U2tpcCcpOwogICAgICBpZiAobykgewogICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICAgJC5vcGVuTGluayhvLmhyZWYpOwogICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUocm9vdCwgewogICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIHN1YnRyZWU6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2FkamV0XC5iaXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvaHJlZj0oXFMrKS8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmFkbGlua1wuZ3VydSQvLAogICAgICAgIC9eY3lwdFwuZ2EkLywKICAgICAgICAvXihmaWxlc2J1Y2tzfHRtZWFybnxjdXQtdXJscylcLmNvbSQvLAogICAgICAgIC9eZWxpbmtcLmxpbmskLywKICAgICAgICAvXihwYXl1cmx8dXJsc3QpXC5tZSQvLAogICAgICAgIC9edXJsXC5odCQvLAogICAgICAgIC9edXJsZVwuY28kLywKICAgICAgICAvXihoYXNoZXx0cmxpbmt8YWRzaG9ydClcLmluJC8sCiAgICAgICAgL153d3dcLndvcmxkaGFja1wubmV0JC8sCiAgICAgICAgL14xMjNsaW5rXC50b3AkLywKICAgICAgICAvXnBpclwuaW0kLywKICAgICAgICAvXmJvbFwudGwkLywKICAgICAgICAvXih0bHxhZGZseSlcLnRjJC8sCiAgICAgICAgL14oYWRmdXxsaW5raGl0cylcLnVzJC8sCiAgICAgICAgL15zaG9ydFwucGFzdGV3bWFcLmNvbSQvLAogICAgICAgIC9ebGlua2ZseVwuZ2Fvc21lZGlhXC5jb20kLywKICAgICAgXSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnLCAnLkJKUFBvcEFkc092ZXJsYXknKTsKICAgICAgZmlyc3RTdGFnZSgpLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICByZXR1cm4gc2Vjb25kU3RhZ2UocGFnZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICQubnVrZSh1cmwpOwogICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiBmaXJzdFN0YWdlICgpIHsKICAgIHJldHVybiBfLkQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZiA9ICQuJCgnI2xpbmstdmlldycpOwogICAgICBpZiAoIWYpIHsKICAgICAgICByZXNvbHZlKGRvY3VtZW50KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICAgIHZhciB1cmwgPSBmLmdldEF0dHJpYnV0ZSgnYWN0aW9uJyk7CiAgICAgIHZhciBwID0gJC5wb3N0KHVybCwgYXJncykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiAkLnRvRE9NKGRhdGEpOwogICAgICB9KTsKICAgICAgcmVzb2x2ZShwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBzZWNvbmRTdGFnZSAocGFnZSkgewogICAgdmFyIGYgPSAkKCcjZ28tbGluaycsIHBhZ2UpOwogICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJndW1lbnQoZik7CiAgICB2YXIgdXJsID0gZi5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpOwogICAgcmV0dXJuICQucG9zdCh1cmwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmIChkYXRhICYmIGRhdGEudXJsKSB7CiAgICAgICAgcmV0dXJuIGRhdGEudXJsOwogICAgICB9CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3dyb25nIGRhdGEnKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBleHRyYWN0QXJndW1lbnQgKGZvcm0pIHsKICAgIHZhciBhcmdzID0ge307CiAgICAkLiQkKCdpbnB1dCcsIGZvcm0pLmVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgYXJnc1t2Lm5hbWVdID0gdi52YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIGFyZ3M7CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFkbG9ja1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkLiQoJyN4cmUgYS54eHIsICNkb3dubG9hZEJ1dHRvbjEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQud2luZG93LmZpbGVMb2NhdGlvbjsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hZGxvdFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2Zvcm0nKTsKICAgIHZhciBwID0gL25hbWU9JyhbXiddKyknIHZhbHVlPScoW14nXSspJy9nOwogICAgdmFyIG9wdCA9IHsKICAgICAgaW1hZ2U6ICcgJywKICAgIH07CiAgICB2YXIgdG1wID0gbnVsbDsKICAgIHdoaWxlICh0bXAgPSBwLmV4ZWMoc2NyaXB0KSkgewogICAgICBvcHRbdG1wWzFdXSA9IHRtcFsyXTsKICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogb3B0LAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYWRteVwubGluayQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybS5lZGl0X2xpbmsnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9haC1pbmZvcm1hdGlxdWVcLmNvbSQvLAogICAgcGF0aDogL15cL1ppcFVybC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjemlwMyBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIGRlY29kZVNjcmlwdCAoZW5jb2RlZCkgewogICAgdmFyIGEgPSBlbmNvZGVkLm1hdGNoKC9eXHMqO2V2YWxcKCguKylcKTtccyokLyk7CiAgICBhID0gYVsxXTsKICAgIHZhciBiID0gYS5tYXRjaCgvXiguKylcKCcoW14nXSspJywnKFteJ10rKScsJyhbXiddKyknLCcoW14nXSspJ1wpJC8pOwogICAgdmFyIGMgPSBldmFsKCcoJyArIGJbMV0gKyAnKScpOwogICAgcmV0dXJuIGMoYlsyXSwgYlszXSwgYls0XSwgYls1XSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmFoXC5wZSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2V2YWwnKTsKICAgICAgc2NyaXB0ID0gZGVjb2RlU2NyaXB0KHNjcmlwdCk7CiAgICAgIHNjcmlwdCA9IGRlY29kZVNjcmlwdChzY3JpcHQpOwogICAgICBzY3JpcHQgPSBkZWNvZGVTY3JpcHQoc2NyaXB0KTsKICAgICAgdmFyIHBhdGggPSBzY3JpcHQubWF0Y2goLyhbXjs9IF0rKT0oW14rIDtdKylcKyJcLiJcKyhbXisgXSspXCsiXC4iXCsoW147IF0rKTsvKTsKICAgICAgaWYgKCFwYXRoKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICBpZiAodHlwZW9mICQud2luZG93W3BhdGhbMl1dID09PSAndW5kZWZpbmVkJykgewogICAgICAgIF8uaW5mbygncmVjYXB0Y2hhJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHBhdGggPSBfLlQoJ3swfS57MX0uezJ9JykoJC53aW5kb3dbcGF0aFsyXV0sICQud2luZG93W3BhdGhbM11dLCAkLndpbmRvd1twYXRoWzRdXSk7CiAgICAgICQub3BlbkxpbmsocGF0aCk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmFrYVwuZ3IkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnaWZyYW1lI3lvdXJscy1mcmFtZScpOwogICAgJC5vcGVuTGluayhsLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15hbFwubHkkLywKICAgICAgL15hbGx5XC5zaCQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnYm9keSA+IHNlY3Rpb24gPiBpZnJhbWUnKTsKICAgIGlmIChpKSB7CiAgICAgIGkuc3JjID0gJ2Fib3V0OmJsYW5rJzsKICAgICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnYS5yZWRpcmVjdCcpOwogICAgICAgIGEuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGkgPSAkLnNlYXJjaFNjcmlwdHMoLyJocmVmIiwiKFteIl0rKSJcKVwucmVtb3ZlLyk7CiAgICBpZiAoIWkpIHsKICAgICAgXy53YXJuKCdzaXRlIGNoYW5nZWQnKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9IGlbMV07CiAgICAkLm9wZW5MaW5rKGkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9hbGxrZXlzaG9wXC5jb20kLywKICAgICAgL15jc2hvcnRcLm9yZyQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb25cLmhyZWYgPSAiKFteIl0rKSIvKTsKICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgJC5udWtlKG1hdGNoZXMpOwogICAgJC5vcGVuTGluayhtYXRjaGVzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hbm9ueW1idWNrc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYm90b24tY29udGludWFyJyk7CiAgICBhLmNsaWNrKCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBhamF4UGF0dGVybiA9IC9cJC5wb3N0XCgnKFteJ10qKSdbXntdKyhce1xzKm9wdDpccyonbWFrZV9sb2cnW159XStcfVxzKlx9KSwvaTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eYmNcLnZjJC8sCiAgICAgICAgL15saW5jXC5tbCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXi4rKGh0dHBzPzpcL1wvLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsobS5wYXRoWzFdICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoICsgZG9jdW1lbnQubG9jYXRpb24uaGFzaCk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGRlY29tcHJlc3MgKHNjcmlwdCwgdW56aXApIHsKICAgIGlmICghdW56aXApIHsKICAgICAgcmV0dXJuIHNjcmlwdDsKICAgIH0KICAgIHZhciBtYXRjaGVzID0gc2NyaXB0Lm1hdGNoKC9ldmFsKC4qKS8pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ25vIHNjcmlwdCBtYXRjaGVzIC9ldmFsKC4qKS8nKTsKICAgIH0KICAgIG1hdGNoZXMgPSBtYXRjaGVzWzFdOwogICAgc2NyaXB0ID0gZXZhbChtYXRjaGVzKTsKICAgIHJldHVybiBzY3JpcHQ7CiAgfQogIGZ1bmN0aW9uIHNlYXJjaFNjcmlwdCAodW56aXApIHsKICAgIHZhciBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdtYWtlX2xvZycpOwogICAgaWYgKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXJlY3Q6IGZhbHNlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICBjb250ZW50ID0gJC5zZWFyY2hTY3JpcHRzKCdjbGlja19sb2cnKTsKICAgIGlmIChjb250ZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGlyZWN0OiB0cnVlLAogICAgICAgIHNjcmlwdDogZGVjb21wcmVzcyhjb250ZW50LCB1bnppcCksCiAgICAgIH07CiAgICB9CiAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzY3JpcHQgY2hhbmdlZCcpOwogIH0KICBmdW5jdGlvbiBrbm9ja1NlcnZlciAoc2NyaXB0LCBkaXJ0eUZpeCkgewogICAgdmFyIG1hdGNoZXMgPSBzY3JpcHQubWF0Y2goYWpheFBhdHRlcm4pOwogICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJyhpbiBrbm9jayBzZXJ2ZXIpIG5vIHNjcmlwdCBtYXRjaGVzICQucG9zdCcpOwogICAgfQogICAgdmFyIG1ha2VfdXJsID0gbWF0Y2hlc1sxXTsKICAgIHZhciBtYWtlX29wdHMgPSBldmFsKCcoJyArIG1hdGNoZXNbMl0gKyAnKScpOwogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQucG9zdChtYWtlX3VybCwgbWFrZV9vcHRzKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgaWYgKGRpcnR5Rml4KSB7CiAgICAgICAgICB0ZXh0ID0gdGV4dC5tYXRjaCgvXHsuK1x9LylbMF07CiAgICAgICAgfQogICAgICAgIHZhciBqaiA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChqai5tZXNzYWdlKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAgICAgJC5vcGVuTGluayhqai5tZXNzYWdlLnVybCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIDEwMDApOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15iY1wudmMkLywKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIHRva2VuID0gZmluZEFKQVhUb2tlbigpOwogICAgICB2YXIgdGltZSA9IGZha2VBSkFYVG9rZW4oKTsKICAgICAgdmFyIHVybCA9IF8uVCgnL2ZseS9hamF4LnBocD93ZHM9ezB9JnRpbWU9ezF9Jyk7CiAgICAgIHVybCA9IHVybCh0b2tlbi53ZHMsIHRpbWUpOwogICAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICQucG9zdCh1cmwsIHsKICAgICAgICAgIHhkZjogewogICAgICAgICAgICBhZmc6ICQud2luZG93LnRaLAogICAgICAgICAgICBiZmc6ICQud2luZG93LmNXLAogICAgICAgICAgICBjZmc6ICQud2luZG93LmNILAogICAgICAgICAgICBqa2k6IHRva2VuLmpraSwKICAgICAgICAgICAgZGZnOiAkLndpbmRvdy5zVywKICAgICAgICAgICAgZWZnOiAkLndpbmRvdy5zSCwKICAgICAgICAgIH0sCiAgICAgICAgICBvams6IHRva2VuLm9qaywKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocnYpIHsKICAgICAgICBydiA9IEpTT04ucGFyc2UocnYpOwogICAgICAgIGlmIChydi5lcnJvcikgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignYXV0aCBlcnJvcicpOwogICAgICAgIH0KICAgICAgICAkLm9wZW5MaW5rKHJ2Lm1lc3NhZ2UudXJsKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oJ2FqYXggZXJyb3InLCBlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIHJ1biAoZGlydHlGaXgpIHsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHJlc3VsdCA9IHNlYXJjaFNjcmlwdCh0cnVlKTsKICAgIGlmICghcmVzdWx0LmRpcmVjdCkgewogICAgICBrbm9ja1NlcnZlcihyZXN1bHQuc2NyaXB0LGRpcnR5Rml4KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zY3JpcHQubWF0Y2goL3RvcFwubG9jYXRpb25cLmhyZWY9JyhbXiddKyknLyk7CiAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgICAgfQogICAgICByZXN1bHQgPSByZXN1bHRbMV07CiAgICAgICQub3BlbkxpbmsocmVzdWx0KTsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eYWRjcnVuXC5jaCQvLAogICAgICBwYXRoOiAvXlwvXHcrJC8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnLnVzZXJfY29udGVudCcpOwogICAgICB2YXIgclN1cnZleUxpbmsgPSAvaHR0cFwub3BlblwoIkdFVCIsICJhcGlfYWpheFwucGhwXD9zaWQ9XGQqJmlwPVteJl0qJmxvbmd1cmw9KFteIl0rKSIgXCsgZmlyc3RfdGltZSwgKD86dHJ1ZXxmYWxzZSlcKTsvOwogICAgICB2YXIgbCA9ICQuc2VhcmNoU2NyaXB0cyhyU3VydmV5TGluayk7CiAgICAgIGlmIChsKSB7CiAgICAgICAgJC5vcGVuTGluayhsWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcnVuKHRydWUpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKDF0a3xoaXR8YWRibGF8dGw3fG15bGluaylcLnVzJC8sCiAgICAgICAgL15neFwuc2kkLywKICAgICAgICAvXmFkd2F0XC5jaCQvLAogICAgICAgIC9eKGZseTJ1cmx8dXJsd2l6fHhhZm94KVwuY29tJC8sCiAgICAgICAgL14oenBvenx1bHRyeSlcLm5ldCQvLAogICAgICAgIC9eKHd3eXxteWFtKVwubWUkLywKICAgICAgICAvXihzc2x8c3JrKVwuZ3MkLywKICAgICAgICAvXnNob3J0aXRcLmluJC8sCiAgICAgICAgL153d3dcLmFkamV0XC5ldSQvLAogICAgICAgIC9eY3VuXC5ieiQvLAogICAgICAgIC9ebWluaXVybFwudGskLywKICAgICAgICAvXnZpenp5XC5lcyQvLAogICAgICAgIC9ea2F6YW5cLnZjJC8sCiAgICAgICAgL15saW5rY2FzaFwubWwkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cLy4rLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15hZHRyXC5pbSQvLAogICAgICAgIC9eeXNlYXJcLmNoJC8sCiAgICAgICAgL154aXBcLmlyJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IC9eXC8uKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGEgPSAkLiQoJ2Rpdi5mbHlfaGVhZCBhLmNsb3NlJyk7CiAgICAgIHZhciBmID0gJC4kKCdpZnJhbWUuZmx5X2ZyYW1lJyk7CiAgICAgIGlmIChhICYmIGYpIHsKICAgICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBydW4oKTsKICAgICAgfQogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15hZDVcLmV1JC8sCiAgICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbigpIHsKICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgIHZhciBzID0gc2VhcmNoU2NyaXB0KHRydWUpOwogICAgICB2YXIgbSA9IHMuc2NyaXB0Lm1hdGNoKC8oPGZvcm0gbmFtZT0iZm9ybTEibWV0aG9kPSJwb3N0Ii4qKD8hPFxcZm9ybT4pPFwvZm9ybT4pLyk7CiAgICAgIGlmICghbSkge3JldHVybjt9CiAgICAgIG0gPSBtWzFdOwogICAgICB2YXIgdHogPSAtKG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCk7CiAgICAgIG0gPSBtLnJlcGxhY2UoIicrdGltZXpvbmUrJyIsdHopOwogICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnaWQnLCdBZHNCeXBhc3NlckZUVycpOwogICAgICBkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpOwogICAgICBkLmlubmVySFRNTCA9IG07CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCk7CiAgICAgICQoJyNBZHNCeXBhc3NlckZUVyA+IGZvcm1bbmFtZT1mb3JtMV0nKS5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9edHI1XC5pbiQvLAogICAgICBwYXRoOiAvXlwvLisvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJ1bih0cnVlKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gZmluZEFKQVhUb2tlbiAoKSB7CiAgICB2YXIgcnYgPSAkLnNlYXJjaFNjcmlwdHMoJy9mbHkvYWpheC5waHAnKTsKICAgIGlmICghcnYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHZhciB3ZHMgPSBydi5tYXRjaCgvXD93ZHM9KFteJl0rKS8pOwogICAgaWYgKCF3ZHMpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIHdkcyA9IHdkc1sxXTsKICAgIHZhciBqa2kgPSBydi5tYXRjaCgvamtpOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFqa2kpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIGpraSA9IGpraVsxXTsKICAgIHZhciBvamsgPSBydi5tYXRjaCgvb2prOlxzKicoW14nXSspJy8pOwogICAgaWYgKCFvamspIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2NyaXB0IGNoYW5nZWQnKTsKICAgIH0KICAgIG9qayA9IG9qa1sxXTsKICAgIHJldHVybiB7CiAgICAgIHdkczogd2RzLAogICAgICBqa2k6IGpraSwKICAgICAgb2prOiBvamssCiAgICB9OwogIH0KICBmdW5jdGlvbiBmYWtlQUpBWFRva2VuICgpIHsKICAgIHZhciBza2lwQWQgPSAkKCdkaXYuZmx5X2hlYWQgc3BhbiNyZWRpcmVjdGluJykucGFyZW50RWxlbWVudDsKICAgIHZhciBtYXJnaW4gPSA2OwogICAgdmFyIGZha2VQYWdlWCA9IHNraXBBZC5vZmZzZXRMZWZ0ICsgbWFyZ2luICsgNTAgKyAoTWF0aC5yYW5kb20oKSAqIDEwKTsKICAgIHZhciBmYWtlUGFnZVkgPSBza2lwQWQub2Zmc2V0VG9wICsgbWFyZ2luICsgMTUgKyAoTWF0aC5yYW5kb20oKSAqIDEpOwogICAgdmFyIHBvID0gZmFrZVBhZ2VYICsgJywnICsgZmFrZVBhZ2VZOwogICAgdmFyIHBvc1ggPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS5sZWZ0ICsgbWFyZ2luOwogICAgdmFyIHBvc1kgPSBqUXVlcnlPZmZzZXQoc2tpcEFkKS50b3AgKyBtYXJnaW47CiAgICB2YXIgcG9zID0gKGZha2VQYWdlWCAtIHBvc1gpICsgJywnICsgKGZha2VQYWdlWSAtIHBvc1kpOwogICAgdmFyIHRzdGFfID0gTWF0aC5mbG9vcigoNSArIE1hdGgucmFuZG9tKCkpICogMTAwMCk7CiAgICB2YXIgdGltZSA9IHBvICsgJzonICsgcG9zICsgJzonICsgdHN0YV87CiAgICByZXR1cm4gdGltZTsKICB9CiAgZnVuY3Rpb24galF1ZXJ5T2Zmc2V0IChlbGVtZW50KSB7CiAgICB2YXIgciA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gewogICAgICB0b3A6IHIudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsCiAgICAgIGxlZnQ6IHIubGVmdCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKICAgIH07CiAgfQp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/YmlnbGlzdG9md2Vic2l0ZXNcLmNvbSQvLAogICAgcGF0aDogL15cL2dvXC8oXHcrXC5cdyspJC8KICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluaygnaHR0cDovLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkLm1lL2JpbGQucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI0JpbGQnKTsKICAgICQub3BlbkxpbmsoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2JpbGRyLm5vL3ZpZXcvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nLmJpbGRlJyk7CiAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgcGF0aDogL1wvb1wvKFthLXpBLVowLTldKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZGlyZWN0X2xpbmsgPSB3aW5kb3cuYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayhkaXJlY3RfbGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9ib3hjYXNoXC5uZXQkLywKICAgIHBhdGg6IC9eXC9bXHd+XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvXCdcL2FqYXhfbGlua1wucGhwXCcsXHMqXHtrZXk6XHMqJyhcdyspJyxccyp1cmw6XHMqJyhcZCspJyxccyp0OlxzKicoXGQrKScsXHMqcjpccyonKFx3KiknXH0vKTsKICAgIGlmICghbSkgewogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QoJy9hamF4X2xpbmsucGhwJywgewogICAgICBrZXk6IG1bMV0sCiAgICAgIHVybDogbVsyXSwKICAgICAgdDogbVszXSwKICAgICAgcjogbVs0XSwKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBsID0gcmVzcG9uc2UubWF0Y2goL3dpbmRvdyg/Oi50b3Aud2luZG93KVwubG9jYXRpb249IihbXiJdKykiLyk7CiAgICAgICQub3BlbkxpbmsobFsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2JveGNhc2hcLm5ldCQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC5odG1sJC8sCiAgICBxdWVyeTogL3VybD0oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhidXp8dnp0KXVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oY2Z8ZXh8eHQpXGRcLihtZXxjbykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJyNza2lwX2J1dHRvbicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNhdGN1dFwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjcmJzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2ZcLmx5JC8sCiAgICBwYXRoOiAvXlwvW15cL10rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluaygnL3NraXAnICsgbS5wYXRoWzBdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2NsaVwuZ3MkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EuUmVkaXJlY3RMaW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9jbGljdHVuZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvaWQ9XGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88YSBocmVmPSJodHRwOlwvXC8oPzp3d3cuKT9jbGljdHVuZVwuY29tXC9yZWRpcmVjdFwucGhwXD91cmw9KFteJl0rKSYvKTsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY2xrXC5pbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIlwuY291bnRkb3duIlwpXC5hdHRyXCgiaHJlZiIsIihbXiJdKykiXCkvKTsKICAgICQub3BlbkxpbmsobWF0Y2hlc1sxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eY29jb2xlZWNoXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZCcpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBob3N0TWFwcGVyIChob3N0KSB7CiAgICBzd2l0Y2ggKGhvc3QpIHsKICAgIGNhc2UgJ2Rpc2luZ2thdC5pbic6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCdhLmJ0bi1ibG9jay5yZWRpcmVjdCcpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBjYXNlICdsaW5rLmFuaW1hZ3oub3JnJzoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QnKTsKICAgICAgICBhID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgICAgYSA9IGEubWF0Y2goL3dpbmRvd1wub3BlbiBcKCcoW14nXSspJ1wpLyk7CiAgICAgICAgcmV0dXJuIGFbMV07CiAgICAgIH07CiAgICBjYXNlICdjb2VnLmluJzoKICAgIGNhc2UgJ3d3dy50ZWxvbmRhc211LmNvbSc6CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGEgPSAkKCcuZG93bmxvYWQtbGluayBhJyk7CiAgICAgICAgcmV0dXJuIGEuaHJlZjsKICAgICAgfTsKICAgIGNhc2UgJ2d1bnRpbmcuaW4nOgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhID0gJCgnZGl2LmNvbC1zbS02Om50aC1jaGlsZCgxKSA+IGNlbnRlcjpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgxKScpOwogICAgICAgIHJldHVybiBhLmhyZWY7CiAgICAgIH07CiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmFuaW1hZ3pcLm9yZyQvLAogICAgICAgIC9eKGNvZWd8ZGlzaW5na2F0fGd1bnRpbmcpXC5pbiQvLAogICAgICAgIC9ed3d3XC50ZWxvbmRhc211XC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL1x3KyQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICB2YXIgbWFwcGVyID0gaG9zdE1hcHBlcihtLmhvc3RbMF0pOwogICAgICB2YXIgYjY0ID0gbWFwcGVyKCkubWF0Y2goL1w/cj0oXHcrPXswLDJ9PykvKTsKICAgICAgJC5vcGVuTGluayhhdG9iKGI2NFsxXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zaXBrdXJcLihuZXR8dXMpJC8sCiAgICAgIHBhdGg6IFsKICAgICAgICAvXlwvXHcrJC8sCiAgICAgICAgL15cL21lbnVqdWxpbmtcLy8sCiAgICAgIF0sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGQgPSAkKCcjdGVzdGFwayA+IGRpdicpOwogICAgICBkID0gZC5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICAgIGQgPSBkLm1hdGNoKC93aW5kb3dcLm9wZW5cKCcoW14nXSspJy8pOwogICAgICAkLm9wZW5MaW5rKGRbMV0pOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb2lubGlua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EjYnRuLW1haW4sIGEuYnRuLmJ0bi1ibG9jay5idG4td2FybmluZywgYS5idG4uYnRuLWJsb2NrLmJ0bi1zdWNjZXNzJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKD86KFx3KylcLik/KGNvaW51cmxcLmNvbXxjdXJcLmx2KSQvLAogICAgcGF0aDogL15cLyhbLVx3XSspJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaG9zdCA9ICdodHRwOi8vY3VyLmx2L3JlZGlyZWN0X2N1cmx2LnBocCc7CiAgICB2YXIgcGFyYW0gPSBtLmhvc3RbMV0gPT09IHVuZGVmaW5lZCA/IHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgfSA6IHsKICAgICAgem9uZTogbS5ob3N0WzFdLAogICAgICBuYW1lOiBtLnBhdGhbMV0sCiAgICB9OwogICAgJC5nZXQoaG9zdCwgcGFyYW0pLnRoZW4oZnVuY3Rpb24obWFpbkZyYW1lQ29udGVudCkgewogICAgICB0cnkgewogICAgICAgIHZhciBkb2NNYWluRnJhbWUgPSAkLnRvRE9NKG1haW5GcmFtZUNvbnRlbnQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignbWFpbiBmcmFtZSBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgdmFyIHJFeHRyYWN0TGluayA9IC9vbmNsaWNrPSJvcGVuX3VybFwoJyhbXiddKyknLFxzKidnbydcKS87CiAgICAgIHZhciBpbm5lckZyYW1lcyA9ICQuJCQoJ2lmcmFtZScsIGRvY01haW5GcmFtZSkuZWFjaChmdW5jdGlvbiAoY3VyckZyYW1lKSB7CiAgICAgICAgdmFyIGN1cnJGcmFtZUFkZHIgPSBjdXJyRnJhbWUuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAkLmdldChjdXJyRnJhbWVBZGRyKS50aGVuKGZ1bmN0aW9uKGN1cnJGcmFtZUNvbnRlbnQpIHsKICAgICAgICAgIHZhciBhUmVhbExpbmsgPSByRXh0cmFjdExpbmsuZXhlYyhjdXJyRnJhbWVDb250ZW50KTsKICAgICAgICAgIGlmIChhUmVhbExpbmsgPT09IHVuZGVmaW5lZCB8fCBhUmVhbExpbmtbMV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVhbExpbmsgPSBhUmVhbExpbmtbMV07CiAgICAgICAgICAkLm9wZW5MaW5rKHJlYWxMaW5rKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15jb215b25ldFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlucHV0ID0gJCgnaW5wdXRbbmFtZT0iZW50ZXIiXScpOwogICAgaW5wdXQuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2N2Y1wubGEkLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoZG9jdW1lbnQubG9jYXRpb24uaHJlZiwgewogICAgICBoaWRkZW46IDI0LCAKICAgICAgaW1hZ2U6ICcgJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKC93aW5kb3dcLmxvY2F0aW9uXC5yZXBsYWNlXCgnKFteJ10rKSdcKTsvKTsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGFwYXRcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCdpZnJhbWVbbmFtZT1wYWdldGV4dF0nKTsKICAgICQub3BlbkxpbmsoZi5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGRcLm1hJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjbWFpbmZyYW1lJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5MaW5rKGkuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGEgPSAkKCcjYnRuX29wZW4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/ZGVyZWZlcmVyXC53ZWJzaXRlJC8sCiAgICBxdWVyeTogL15cPyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmRpa2l0XC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGEgPSAkKCcuZGlzY2xhaW1lciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZHVybFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FbY2xhc3M9InByb2NlZWRCdG4iXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eZWFzeXVybFwubmV0JC8sCiAgICAgIC9eKGF0dXxjbGlja3RocnV8cmVkaXJlY3RzfHJlYWR0aGlzKVwuY2EkLywKICAgICAgL15nb3Nocmlua1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZnJhbWVbbmFtZT1tYWluXScpOwogICAgJC5vcGVuTGluayhmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZWxkZVwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWU6bm90KFtuYW1lPXVuZGVmaW5lZF0pJyk7CiAgICB2YXIgYSA9ICQoJyNtb2RhbC1hbGVydCcpOwogICAgYS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGEuc3R5bGUudG9wID0gMDsKICAgIGEuc3R5bGUubGVmdCA9IDA7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgIAkvXmV0aGlcLmluJC8sCiAgICAJL15zdFwud2FyZGhhbmltZVwubmV0JC8sCiAgICBdLAogICAgcGF0aDogL15cL2lcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgPiBbY2xhc3NePSJ0b21ibyJdID4gYVt0YXJnZXQ9Il9ibGFuayJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maWxvb3BzXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjdGV4dCA+IGNlbnRlciBhLCAjdGV4dCA+IGRpdlthbGlnbj1jZW50ZXJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15maXRcLnNoJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmNvbnRhaW5lci1ib2R5Jyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdG9rZW49IihbXiJdKykiLyk7CiAgICBpZiAoIW0pIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBtID0gbVsxXTsKICAgIHZhciBpbnRlckxpbmsgPSAnL2dvLycgKyBtICsgJz9mYT0xNTQ2NiZhPScgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgJC5vcGVuTGluayhpbnRlckxpbmspOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9maXV4eVwuY28kLywKICAgIHBhdGg6IC9eXC9saW5rcz9cLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICQub3BlbkxpbmsoJCgnYS5idG4uYScpLmhyZWYpOwogIH0KfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZnVuZHVybFwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvaT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuTGluayhtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9mdW5kdXJsXC5jb20kLywKICAgICAgcGF0aDogL15cLyhnby1cdyt8bG9hZFwucGhwKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBmID0gJCgnaWZyYW1lW25hbWU9ZnBhZ2UzXScpOwogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgdmFyIGhvc3RzID0gL15nY2FcLnNofHJlcGxhXC5jciQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0cywKICAgICAgcGF0aDogL15cL2FkdlwvXHcrXC8oLiopJC8sCiAgICAgIHF1ZXJ5OiAvXiguKikkLywKICAgICAgaGFzaDogL14oLiopJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICd1c2Ugc3RyaWN0JzsKICAgICAgdmFyIGwgPSBtLnBhdGhbMV0gKyBtLnF1ZXJ5WzFdICsgbS5oYXNoWzFdOwogICAgICAkLm9wZW5MaW5rKGwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdHMsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgJ3VzZSBzdHJpY3QnOwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGpRdWVyeSgiI2NhcHRjaGEtZGlhbG9nIikuZGlhbG9nKCJvcGVuIik7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15na3VybFwudXMkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnI2drdXJsLWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVcLmdvMlwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmdvdG9cLmxvbmNhdFwuaW4kLywKICAgIHF1ZXJ5OiAvb3Blbj0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IoYXRvYihtLnF1ZXJ5WzFdKSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15nc3VybFwuKG1lfGluKSQvLAogICAgICAvXmc1dVwucHckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NvbnRhaW5lcicpOwogICAgdmFyIGEgPSAkKCcjbGluaycpOwogICAgXy53YWl0KDUwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ob3RzaG9ydHVybFwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWVbc2Nyb2xsaW5nPXllc10nKTsKICAgICQub3BlbkxpbmsoZnJhbWUuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pPyhpbGl4XC5pbnxwcml2YVwudXMpJC8sCiAgICBwYXRoOiAvXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciByZWFsSG9zdCA9ICdpbGl4LmluJzsKICAgIGlmIChtLmhvc3RbMl0gIT09IHJlYWxIb3N0KSB7CiAgICAgIHZhciByZWFsVVJMID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKG0uaG9zdFsyXSwgcmVhbEhvc3QpOwogICAgICAkLm9wZW5MaW5rKHJlYWxVUkwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgZiA9ICQuJCgnaWZyYW1lW25hbWU9aWZyYW1dJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCEkLiQoJ2ltZyNjYXB0Y2hhJykpIHsKICAgICAgJCgnZm9ybVtuYW1lPWZybV0nKS5zdWJtaXQoKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbG92ZWJhbnRlblwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHAgPSAkKCcubm90YmxvY2tlZCcpOwogICAgJC5vcGVuTGluayhwLnRleHRDb250ZW50KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbmRleG1vdmllXC5tZSQvLAogICAgcGF0aDogL15cLyhbXlwvXSspJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nZXQvJyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaXR3XC5tZSQvLAogICAgcGF0aDogL15cL3JcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcuZ28tZm9ybScpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pdHlcLmltJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJyNtYWluJyk7CiAgICBpZiAoZikgewogICAgICAkLm9wZW5MaW5rKGYuc3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuJCQoJ2ZyYW1lJykuZmluZChmdW5jdGlvbiAoZnJhbWUpIHsKICAgICAgaWYgKGZyYW1lLnNyYy5pbmRleE9mKCdpbnRlcmhlYWRlci5waHAnKSA8IDApIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiBmcmFtZS5zcmM7CiAgICB9KTsKICAgIGlmIChmKSB7CiAgICAgICQub3BlbkxpbmsoZi5wYXlsb2FkKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQuc2VhcmNoU2NyaXB0cygva3J5cHRlZD0oW14mXSspLyk7CiAgICBpZiAoIWYpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcignc2l0ZSBjaGFuZ2VkJyk7CiAgICB9CiAgICBmID0gZlsxXTsKICAgIHZhciBkYXRhID0gJC53aW5kb3cuZGVzKCdrc25zbG10bWswdjRQZHZpdXNhanF1JywgJC53aW5kb3cuaGV4VG9TdHJpbmcoZiksIDAsIDApOwogICAgaWYgKGRhdGEpIHsKICAgICAgJC5vcGVuTGluaygnaHR0cDovL2l0eS5pbS8xMTA0XzIxXzUwODQ2XycgKyBkYXRhKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2tpbmdvZnNocmlua1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkKCcjdGV4dHJlc3VsdCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zdFwua3Vyb2dhemVcLm5ldCQvLAogICAgcXVlcnk6IC9yPSguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgciA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHIpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0XC5rdXJvZ2F6ZVwubmV0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdhLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sZWVjaGJkXC50ayQvLAogICAgcGF0aDogL15cL1Nob3J0ZW5lclwvKFx3KykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5nZXQoJy9TaG9ydGVuZXIvQVBJL3JlYWQvZ2V0Jywge2lkOiBtLnBhdGhbMV0sIHR5cGU6ICdqc29uJ30pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIHIgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgaWYgKHIuc3VjY2VzcyA9PSB0cnVlICYmIHIuZGF0YS5mdWxsKSB7CiAgICAgICAgJC5vcGVuTGluayhyLmRhdGEuZnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgXy53YXJuKCdBUEkgRXJyb3IgJyArIHIuZXJyb3IuY29kZSArICcgOiAnICsgci5lcnJvci5tc2cpOwogICAgICB9CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cubGllbnNjYXNoLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNyZWRpcl9idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP1x3K1wubGluay1wcm90ZWN0b3JcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2Zvcm1bc3R5bGU9ImZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MTI7Zm9udC1mYW1pbHk6VmVyZGFuYTsiXScpOwogICAgJC5vcGVuTGluayhmLmFjdGlvbik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9saW5rXC5pbSQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucG9zdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCB7CiAgICAgIGltYWdlOiAnQ29udGludWUnLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICB2YXIgbSA9IHRleHQubWF0Y2goL3dpbmRvd1wubG9jYXRpb25cLnJlcGxhY2VcKCcoW14nXSspJ1wpLyk7CiAgICAgICQub3BlbkxpbmsobVsxXSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rXC50bCQvLAogICAgcGF0aDogL15cL2ZseVwvc2l0ZVwucGhwJC8sCiAgICBxdWVyeTogL15cP3RvPSguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5za2lwID4gLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtcLnRsJC8sCiAgICBwYXRoOiAvW15eXShodHRwcz86XC9cLy4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua1wudGwkLywKICAgIHBhdGg6IC9eXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9mbHkvc2l0ZS5waHA/dG89JyArIG0ucGF0aFsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9cLmxpbmsyZG9sbGFyXC5jb20kLywKICAgIHBhdGg6IC9eXC9cZCskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvdmFyIHJsaW5rID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgbSA9IG1bMV07CiAgICAkLm9wZW5MaW5rKG0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmsyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdOwogICAgaWYgKCF1cmwubWF0Y2goL15odHRwcz86XC9cLy8pKSB7CiAgICAgIHVybCA9ICcvLycgKyB1cmw7CiAgICB9CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGluayg0YWR8YWpjKVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZCA9ICQoJ2RpdltpZF49bW9kdWxlX10nKTsKICAgIGQgPSBkLmlkLm1hdGNoKC9tb2R1bGVfKFxkKykvKTsKICAgIGQgPSBkWzFdOwogICAgJC5wb3N0KCdmb3JtLnBocD9ibG9ja19pZD0nICsgZCwgewogICAgICBjbWQ6ICdnZXRfc291cmNlJywKICAgICAgYWN0OiAnd2FpdGluZycsCiAgICAgIGlkOiBtLnBhdGhbMV0sCiAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgXy53YXJuKGUpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0IChvcHRzKSB7CiAgICByZXR1cm4gJC5wb3N0KCcvYWpheC9yLnBocCcsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEubGVuZ3RoIDw9IDEpIHsKICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3Qob3B0cyk7CiAgICAgIH0KICAgICAgdmFyIGEgPSAkLnRvRE9NKGRhdGEpOwogICAgICBhID0gJCgnYScsIGEpOwogICAgICByZXR1cm4gYS5ocmVmOwogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmxpbms1c1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8oW15cL10rKSQvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgICAkLndpbmRvdy4kID0gbnVsbDsKICAgICAgdmFyIGkgPSAkKCcjaWZyYW1lSUQnKTsKICAgICAgdmFyIG9wdHMgPSB7CiAgICAgICAgcGFnZTogbS5wYXRoWzFdLAogICAgICAgIGFkdklEOiBpLmRhdGFzZXQuY21wLAogICAgICAgIHU6IGkuZGF0YXNldC51LAogICAgICB9OwogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgc2VuZFJlcXVlc3Qob3B0cykudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CihmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBDb252ZXJ0RnJvbUhleCAoc3RyKSB7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICB3aGlsZSAoc3RyLmxlbmd0aCA+PSAyKSB7CiAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoc3RyLnN1YnN0cmluZygwLCAyKSwgMTYpKSk7CiAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgc3RyLmxlbmd0aCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0LmpvaW4oIiIpOwogIH0KICB2YXIgRW5jb2RlID0gZnVuY3Rpb24gKHN0cikgewogICAgdmFyIHMgPSBbXSwgaiA9IDAsIHgsIHJlcyA9ICcnLCBrID0gYXJndW1lbnRzLmNhbGxlZS50b1N0cmluZygpLnJlcGxhY2UoL1xzKy9nLCAiIik7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIHNbaV0gPSBpOwogICAgfQogICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAgIGogPSAoaiArIHNbaV0gKyBrLmNoYXJDb2RlQXQoaSAlIGsubGVuZ3RoKSkgJSAyNTY7CiAgICAgIHggPSBzW2ldOwogICAgICBzW2ldID0gc1tqXTsKICAgICAgc1tqXSA9IHg7CiAgICB9CiAgICBpID0gMDsKICAgIGogPSAwOwogICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdHIubGVuZ3RoOyB5KyspIHsKICAgICAgaSA9IChpICsgMSkgJSAyNTY7CiAgICAgIGogPSAoaiArIHNbaV0pICUgMjU2OwogICAgICB4ID0gc1tpXTsKICAgICAgc1tpXSA9IHNbal07CiAgICAgIHNbal0gPSB4OwogICAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzdHIuY2hhckNvZGVBdCh5KSBeIHNbKHNbaV0gKyBzW2pdKSAlIDI1Nl0pOwogICAgfQogICAgcmV0dXJuIHJlczsKICB9OwogIHZhciBob3N0UnVsZXMgPSBbCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhhbGxhbmFscGFzc3xjYXNoNGZpbGVzfGRyc3RpY2t5ZmluZ2Vyc3xmYXBvZmZ8ZnJlZWdheXNpdGVwYXNzfChnb25lfHR1YmUpdmlyYWx8KHBpY3x0bmEpYnVja3N8d2hhY2t5dmlkenxmdWVzdGZrYSlcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT8oYVttbl15fGRlYnxkeW98c2V4cGFsYWNlKVwuZ3MkLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KGZpbGVzb250aGV8cG9vbnRvd258c2VyaW91c2RlYWxzfHVsdHJhZmlsZXN8dXJsYmVhdHx6YXRuYXdxeXx6eXRwaXJ3YWl8anpycHV0dGJ1dClcLm5ldCQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9mcmVlYW5cLnVzJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pP2dhbGxlcmllc1wuYnokLywKICAgIC9eKChbXHddezh9fHd3dylcLik/aG9ybnl3b29kXC50diQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT9saW5rKGJhYmVzfGJ1Y2tzKVwuY29tJC8sCiAgICAvXigoW1x3XXs4fXx3d3cpXC4pPyhtZWdhbGluZXxtaW5pdXJsc3xxcWN8cnFxfHRpbnlsaW5rc3x5eXZ8emZmKVwuY28kLywKICAgIC9eKChbXHddezh9fHd3dylcLik/KHRoZXNlKGJsb2d8Zm9ydW0pcylcLmNvbSQvLAogICAgL14oKFtcd117OH18d3d3KVwuKT95b3VmYXBcLm1lJC8sCiAgICAvXndhcm5pbmctdGhpcy1saW5rY29kZS13aWxsLWNlYXNlLXdvcmtpbmctc29vblwud3d3XC5saW5rYnVja3NkbnNcLmNvbSQvLAogIF07CiAgKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIGZ1bmN0aW9uIGZpbmRUb2tlbiAoY29udGV4dCkgewogICAgICB2YXIgc2NyaXB0ID0gJC5zZWFyY2hTY3JpcHRzKCcgICAgdmFyIGYgPSB3aW5kb3dbXCdpbml0XCcgKyBcJ0xiXCcgKyBcJ2pzXCcgKyBcJ1wnXScsIGNvbnRleHQpOwogICAgICBpZiAoIXNjcmlwdCkgewogICAgICAgIF8ud2FybigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIGFkdXJsID0gc2NyaXB0Lm1hdGNoKC9BZFVybFxzKjpccyonKFteJ10rKScvKTsKICAgICAgaWYgKCFhZHVybCkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIGFkdXJsID0gYWR1cmxbMV07CiAgICAgIHZhciBtMSA9IHNjcmlwdC5tYXRjaCgvQWRQb3BVcmxccyo6XHMqJy4rXD9bXj1dKz0oW1x3XGRdKyknLyk7CiAgICAgIHZhciBtMiA9IHNjcmlwdC5tYXRjaCgvVG9rZW5ccyo6XHMqJyhbXHdcZF0rKScvKTsKICAgICAgdmFyIHRva2VuID0gbTFbMV0gfHwgbTJbMV07CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC89XHMqKFxkKyk7Lyk7CiAgICAgIHZhciBhayA9IHBhcnNlSW50KG1bMV0sIDEwKTsKICAgICAgdmFyIHJlID0gL1wrXHMqKFxkKyk7L2c7CiAgICAgIHZhciB0bXAgPSBudWxsOwogICAgICB3aGlsZSgobSA9IHJlLmV4ZWMoc2NyaXB0KSkgIT09IG51bGwpIHsKICAgICAgICB0bXAgPSBtWzFdOwogICAgICB9CiAgICAgIGFrICs9IHBhcnNlSW50KHRtcCwgMTApOwogICAgICByZXR1cm4gewogICAgICAgIHQ6IHRva2VuLAogICAgICAgIGFLOiBhaywKICAgICAgICBhZHVybDogYWR1cmwsCiAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAodG9rZW4pIHsKICAgICAgJC5nZXQodG9rZW4uYWR1cmwpOwogICAgICBkZWxldGUgdG9rZW4uYWR1cmw7CiAgICAgIHRva2VuLmFfYiA9IGZhbHNlOwogICAgICBfLmluZm8oJ3dhaXRpbmcgdGhlIGludGVydmFsJyk7CiAgICAgIHJldHVybiBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdzZW5kaW5nIHRva2VuOiAlbycsIHRva2VuKTsKICAgICAgICByZXR1cm4gJC5nZXQoJy9pbnRlcm1pc3Npb24vbG9hZFRhcmdldFVybCcsIHRva2VuLCB7CiAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIH0pOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfLnBhcnNlSlNPTih0ZXh0KTsKICAgICAgICBfLmluZm8oJ3Jlc3BvbnNlOiAlbycsIGRhdGEpOwogICAgICAgIGlmICghZGF0YS5TdWNjZXNzICYmIGRhdGEuRXJyb3JzWzBdID09PSAnSW52YWxpZCB0b2tlbicpIHsKICAgICAgICAgIF8ud2FybignZ290IGludmFsaWQgdG9rZW4nKTsKICAgICAgICAgIHJldHVybiByZXRyeSgpOwogICAgICAgIH0KICAgICAgICBpZiAoZGF0YS5BZEJsb2NrU3BvdHRlZCkgewogICAgICAgICAgXy53YXJuKCdhZGJsb2NrIHNwb3R0ZWQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGEuU3VjY2VzcyAmJiAhZGF0YS5BZEJsb2NrU3BvdHRlZCAmJiBkYXRhLlVybCkgewogICAgICAgICAgcmV0dXJuIGRhdGEuVXJsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiByZXRyeSAoKSB7CiAgICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSwge30sIHsKICAgICAgICAnWC1Gb3J3YXJkZWQtRm9yJzogJC5nZW5lcmF0ZVJhbmRvbUlQKCksCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgZCA9ICQudG9ET00odGV4dCk7CiAgICAgICAgdmFyIHQgPSBmaW5kVG9rZW4oZCk7CiAgICAgICAgaWYgKCF0KSB7CiAgICAgICAgICByZXR1cm4gXy53YWl0KDEwMDApLnRoZW4ocmV0cnkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VuZFJlcXVlc3QodCk7CiAgICAgIH0pOwogICAgfQogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgICAgcGF0aDogL15cL1x3K1wvdXJsXC8oLispJC8sCiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbihtKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgdmFyIHVybCA9IG0ucGF0aFsxXSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgdmFyIG1hdGNoID0gJC5zZWFyY2hTY3JpcHRzKC9VcmxFbmNvZGVkOiAoW14sXSspLyk7CiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdID09PSAndHJ1ZScpIHsKICAgICAgICAgIHVybCA9IEVuY29kZShDb252ZXJ0RnJvbUhleCh1cmwpKTsKICAgICAgICB9CiAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICB9CiAgICB9KTsKICAgICQucmVnaXN0ZXIoewogICAgICBydWxlOiB7CiAgICAgICAgaG9zdDogaG9zdFJ1bGVzLAogICAgICB9LAogICAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAgICQud2luZG93LlhNTEh0dHBSZXF1ZXN0ID0gXy5ub3A7CiAgICAgIH0sCiAgICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICAgICQucmVzZXRDb29raWVzKCk7CiAgICAgICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCd2ZXJpZnknKSA+PSAwKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvdmVyaWZ5JywgJycpOwogICAgICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHRva2VuID0gZmluZFRva2VuKGRvY3VtZW50KTsKICAgICAgICBzZW5kUmVxdWVzdCh0b2tlbikudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAkLm51a2UodXJsKTsKICAgICAgICAgICQub3BlbkxpbmsodXJsKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgIH0pOwogICAgJC5yZWdpc3Rlcih7CiAgICAgIHJ1bGU6IHsKICAgICAgICBxdWVyeTogL14oLiopWz8mXV9sYkdhdGU9XGQrJC8sCiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgICAgICQuc2V0Q29va2llKCdfbGJHYXRlUGFzc2VkJywgJ3RydWUnKTsKICAgICAgICAkLm9wZW5MaW5rKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIG0ucXVlcnlbMV0pOwogICAgICB9LAogICAgfSk7CiAgfSkoKTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnd3d1wubGlua2RlY29kZVwuY29tJC8sCiAgICAgIC9ed3d3XC5mYXN0ZGVjb2RlXC5jb20kLywKICAgIF0sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cPyguKykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbG5rID0gbS5xdWVyeVsxXTsKICAgIGlmIChtLnF1ZXJ5WzFdLm1hdGNoKC9eaHR0cHM/OlwvXC8vKSkgewogICAgCSQub3BlbkxpbmsobG5rKTsKICAgIAlyZXR1cm47CiAgICB9CiAgICB2YXIgYiA9ICQuJCgnI3BvcHVwJyk7CiAgICBpZiAoYiAmJiBiLmhyZWYpIHsKICAgICAgJC5vcGVuTGluayhiLmhyZWYpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI20gPiAuVmlzaXRfTGluaycpOwogICAgYiA9IGIub25jbGljay50b1N0cmluZygpLm1hdGNoKC93aW5kb3dcLm9wZW5cKFwnKFteJ10rKVwnLyk7CiAgICBpZiAoIWIpIHsKICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXIoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgbG5rID0gYlsxXS5tYXRjaCgvXD8oaHR0cHM/OlwvXC8uKikkLyk7CiAgICBpZiAobG5rKSB7CiAgICAgICAgJC5vcGVuTGluayhsbmtbMV0pOwogICAgICAgIHJldHVybjsKICAgIH0KICAgICQub3BlbkxpbmsoYlsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua2RvbGFyXC54eXokLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9eXHMqZXZhbFwoKC4rKVwpXHMqJC8pOwogICAgaWYgKCFzKSB7CiAgICAgIF8ud2Fybignc2l0ZSBjaGFuZ2VkJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBldmFsKCcoJyArIHNbMV0gKyAnKScpOwogICAgcyA9IHMubWF0Y2goL1wkXC5wb3N0XCgnKFteJ10rKScsKFx7LitcfSksZnVuY3Rpb24vKTsKICAgIGlmICghcykgewogICAgICBfLndhcm4oJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgdmFyIHVybCA9IHNbMV07CiAgICB2YXIgYXJncyA9IGV2YWwoJygnICsgc1syXSArICcpJyk7CiAgICAkLnBvc3QodXJsLCBhcmdzKS50aGVuKGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgJC5vcGVuTGluayh0YXJnZXQpOwogICAgfSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2xpbmtkcm9wXC5uZXQkLywKICAgICAgICAvXmRtdXNcLmluJC8sCiAgICAgICAgL151bHNoYXJlXC5uZXQkLywKICAgICAgICAvXmFkdXJsXC5pZCQvLAogICAgICAgIC9eZ29vbGlua1wubWUkLywKICAgICAgICAvXmVhcm5pbmd1cmxcLmNvbSQvLAogICAgICBdLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgICB2YXIgZiA9IGdldEZvcm0oKTsKICAgICAgaWYgKCFmKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHNlbmRSZXF1ZXN0KGYpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15zZmxua1wubWUkLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIGYgPSBnZXRGb3JtKCk7CiAgICAgIGlmICghZikgewogICAgICAgIGYgPSAkKCcjbGluay12aWV3Jyk7CiAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2VuZFJlcXVlc3QoZik7CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGdldEZvcm0gKCkgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICB2YXIgZiA9IGpRdWVyeSgnZm9ybVthY3Rpb249Ii9saW5rcy9nbyJdLCBmb3JtW2FjdGlvbj0iL2xpbmtzL2xpbmtkcm9wZ28iXScpOwogICAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgICByZXR1cm4gZjsKICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KICBmdW5jdGlvbiBzZW5kUmVxdWVzdCAoZikgewogICAgdmFyIGpRdWVyeSA9ICQud2luZG93LiQ7CiAgICBqUXVlcnkuYWpheCh7CiAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgIHR5cGU6ICdQT1NUJywKICAgICAgdXJsOiBmLmF0dHIoJ2FjdGlvbicpLAogICAgICBkYXRhOiBmLnNlcmlhbGl6ZSgpLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0LCBzdGF0dXMsIHhocikgewogICAgICAgIGlmIChyZXN1bHQudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHJlc3VsdC51cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfLndhcm4ocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIHN0YXR1cywgZXJyb3IpIHsKICAgICAgICBfLndhcm4oeGhyLCBzdGF0dXMsIGVycm9yKTsKICAgICAgfSwKICAgIH0pOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rcGFpZFwubmV0JC8sCiAgICBwYXRoOiAvXlwvZ29cLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjYnRuLW1haW4nKTsKICAgIGYuY2xpY2soKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2xpbmtwbHVnYXBwXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCcKICAgIHZhciBhID0gJCgnI21jX2VtYmVkX3NpZ251cF9zY3JvbGwgYScpCiAgICAkLm9wZW5MaW5rKGEuaHJlZikKICB9LAp9KQokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxpbmtzYXNcLnVzJC8sCiAgICBwYXRoOiAvXihcL1x3KykkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgXy50cnkoMTAwMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVjYXB0Y2hhID0gJCgnI2ctcmVjYXB0Y2hhLXJlc3BvbnNlJyk7CiAgICAgIGlmICghcmVjYXB0Y2hhKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgaWYgKCFyZWNhcHRjaGEudmFsdWUpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiByZWNhcHRjaGEudmFsdWU7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZWNhcHRjaGEpIHsKICAgICAgdmFyIHVybCA9IF8uVCgnaHR0cDovL2lwaW5mby5pby97MH0vanNvbicpKCQuZ2VuZXJhdGVSYW5kb21JUCgpKTsKICAgICAgcmV0dXJuICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAoaXBpbmZvKSB7CiAgICAgICAgaXBpbmZvID0gXy5wYXJzZUpTT04oaXBpbmZvKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29kZUFkczogMSwKICAgICAgICAgIGNvdW50cnk6IGlwaW5mby5jb3VudHJ5LAogICAgICAgICAgaXBBZGRyZXNzOiBpcGluZm8uaXAsCiAgICAgICAgICByZWNhcHRjaGE6IHJlY2FwdGNoYSwKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgdmFyIHRva2VuID0gJC5nZXRDb29raWUoJ1hTUkYtVE9LRU4nKTsKICAgICAgcmV0dXJuICQucG9zdCgnL2dvJyArIG0ucGF0aFsxXSwgcGF5bG9hZCwgewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ1gtWFNSRi1UT0tFTic6IHRva2VuLAogICAgICB9KTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IF8ucGFyc2VKU09OKGRhdGEpOwogICAgICAkLm9wZW5MaW5rKGRhdGEubWVzc2FnZSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBfLndhcm4oZSk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15saW5rc2FzXC51cyQvLAogICAgcGF0aDogL15cL2dvXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuU3VibWl0Jyk7CiAgICBpZiAoIWEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIHVybCA9IGEuaHJlZjsKICAgIHZhciBwYXR0ZXJuID0gL2h0dHBzPzpcL1wvL2c7CiAgICB2YXIgbGFzdFVSTCA9ICcnOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgdmFyIG1hdGNoZWQgPSBwYXR0ZXJuLmV4ZWModXJsKTsKICAgICAgaWYgKCFtYXRjaGVkKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgbGFzdFVSTCA9IG1hdGNoZWQgKyB1cmwuc3Vic3RyaW5nKHBhdHRlcm4ubGFzdEluZGV4KTsKICAgIH0KICAgICQub3BlbkxpbmsobGFzdFVSTCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvXlwvW2EtekEtWjAtOV0rJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC53aW5kb3cuX2ltcHNwY2FiZSA9IDA7CiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAkLnNlYXJjaFNjcmlwdHMoL3JldkNcKCIoW14iXSspIlwpLyk7CiAgICBsID0gYXRvYihsWzFdKTsKICAgICQub3BlbkxpbmsoJy8nICsgbCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebGlua3Nocmlua1wubmV0JC8sCiAgICBwYXRoOiAvPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2xpeC5pbi8tKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJC4kKCcjaWJkYycpOwogICAgaWYgKGkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQuJCgnZm9ybScpOwogICAgaWYgKGkpIHsKICAgICAgaS5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaSA9ICQoJ2lmcmFtZScpOwogICAgJC5vcGVuTGluayhpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebG5rXC5pbiQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2RpdlJlZGlyZWN0VGV4dCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaW5uZXJIVE1MKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14ocmQ/KWxua1wuY298cmVkdWNlbG5rXC5jb20kLywKICAgIHBhdGg6IC9eXC9bXi5dKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kKCdpZnJhbWUjZGVzdCcpOwogICAgaWYgKGYpIHsKICAgICAgJC5vcGVuTGluayhmLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIG8gPSAkLiQoJyN1cmxob2xkZXInKTsKICAgIGlmIChvKSB7CiAgICAgICQub3Blbkxpbmsoby52YWx1ZSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG8gPSAkLiQoJyNza2lwQnRuJyk7CiAgICBpZiAobykgewogICAgICBvID0gby5xdWVyeVNlbGVjdG9yKCdhJyk7CiAgICAgICQub3Blbkxpbmsoby5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbyA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoLyhMTksuY298TGlua2JlZSlccyo6XHMqLywgJycpOwogICAgJC5vcGVuTGluayhvKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmxueFwubHUkLywKICAgICAgL151cmxcLmZtJC8sCiAgICAgIC9eelwuZ3MkLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY2xpY2tidG4gYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wubG9saW5lelwuY29tJC8sCiAgICBxdWVyeTogL1w/KC4rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsobS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sb29va1wuZ2EkLywKICAgIHBhdGg6IC9eXC9cZCskLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNkb3dubG9hZF9saW5rID4gYS5idG4nKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb295XC5pbiQvLAogICAgcGF0aDogL15cL1Byb1wvKC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnBvc3QoJ2h0dHA6Ly9sb295LmluL0dvL0luZGV4L1Byb1NraXBBZCcsIHsKICAgICAgY29kZTogbS5wYXRoWzFdLAogICAgICBzZXJ2ZXI6ICcnLAogICAgfSkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICQub3BlbkxpbmsodXJsKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIF8ud2FybihlKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmxvb3lcLmluJC8sCiAgICBwYXRoOiAvXlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKCcvUHJvLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL21hZGxpbmsuc2svJywKICAgICdodHRwOi8vbWFkbGluay5zay8qLmh0bWwnLAogIF0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL21hZGxpbmsuc2svKicsCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICQucG9zdCgnL2FqYXgvY2hlY2tfcmVkaXJlY3QucGhwJywgewogICAgICBsaW5rOiBtWzFdLAogICAgfSkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15tYW50W2FlXVtwYl1cLmluJC8sCiAgICAgIC9ec3RcLm9wbG92ZXJ6XC5uZXQkLywKICAgICAgL15taW5pZHJvaWRcLm5ldCQvLAogICAgICAvXnd3M1wuYXdhcmVtbXh2XC5jb20kLywKICAgICAgL15saW5rcG9pXC5pbiQvLAogICAgXSwKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2EucmVkaXJlY3QsIGFbdGFyZ2V0PV9ibGFua11bcmVsPW5vZm9sbG93XScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN1c3V0aW5cLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC89IihbXiJdKykiLC8pOwogICAgJC5vcGVuTGluayhzWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm1pamVcLm5ldCQvLAogICAgcGF0aDogL15cL1x3K1wvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm1pcnJvcmZpbGVob3N0XC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoMyAqIDEwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgZnJhbWUgPSBmcmFtZXNbMF07CiAgICAgIHZhciBmb3JtID0gZnJhbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLnRhcmdldCA9ICdfcGFyZW50JzsKICAgICAgZm9ybS5hY3Rpb24gPSBsb2NhdGlvbi50b1N0cmluZygpOwogICAgICB2YXIgaW5wdXQgPSBmcmFtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC52YWx1ZSA9ICdEb3dubG9hZCc7CiAgICAgIGlucHV0LnR5cGUgPSAnc3VibWl0JzsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGZyYW1lLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7CiAgICAgIGlucHV0LmNsaWNrKCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm1vZVwuZ29kXC5qcCQvLAogICAgICAvXm1vZXN1YnNcLmFrdXJhcG9wb1wucHJvJC8sCiAgICAgIC9eZGxcLm5zZmtcLmluJC8sCiAgICBdCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgZGl2IGNlbnRlciBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebW9lc3Vic1wuY29tJC8sCiAgICBwYXRoOiAvXlwvdXJsXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYm9keSA+IGRpdjpudGgtY2hpbGQoNCkgPiBpOm50aC1jaGlsZCgxKScpOwogICAgYSA9IGEudGV4dENvbnRlbnQ7CiAgICB2YXIgaSA9IGEubGFzdEluZGV4T2YoJ2h0dHAnKTsKICAgIGEgPSBhLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXQwXC5vcmckLywKICAgIHBhdGg6IC9eXC9bXlwvXStcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2ZyYW1lW25hbWU9Ym90dG9tXScpOwogICAgdmFyIGYgPSAkKCdmcmFtZVtuYW1lPXRvcF0nKTsKICAgIHZhciBpID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgYSA9ICQuJCgnZGl2IGEnLCBmLmNvbnRlbnREb2N1bWVudCk7CiAgICAgIGlmICghYSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjbGVhckludGVydmFsKGkpOwogICAgICAkLm9wZW5MaW5rKGEuaHJlZikKICAgIH0sIDEwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL215LWxpbmsucHJvLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2lmcmFtZVtzY3JvbGxpbmc9YXV0b10nKTsKICAgIGlmIChpKSB7CiAgICAgICQub3BlbkxpbmsoaS5zcmMpOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5tYWNcLnRvJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLyguKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gYXRvYihtLnBhdGhbMV0pOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm5zZndcLmluJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjbG9uZ191cmwgYScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm51dHNoZWxsdXJsXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaWZyYW1lID0gJCgnaWZyYW1lJyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/b2hsZWVjaFwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxcLyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQud2luZG93LnN0YXJ0ZGwoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLm9uaVwudm4kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBkYXRhID0gJC5zZWFyY2hTY3JpcHRzKC9kYXRhOiIoW14iXSspIi8pOwogICAgaWYgKCFkYXRhKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3BhdHRlcm4gY2hhbmdlZCcpOwogICAgfQogICAgZGF0YSA9IGRhdGFbMV07CiAgICAkLmdldCgnL2NsaWNrLmh0bWwnLCBkYXRhKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9vdW9cLihpb3xwcmVzcykkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJ2Zvcm0nKS5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15veHlsXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJC4kJCgnLmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybSA+IGEucmVzdWx0LWEnKTsKICAgIGlmIChsLnNpemUoKSA+IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBcLnB3JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbiA9ICIoLiopIjsvKTsKICAgIG0gPSBtWzFdOwogICAgJC5vcGVuTGluayhtKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wZGkyXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcyA9ICQuc2VhcmNoU2NyaXB0cygvdG9wXC5sb2NhdGlvbiA9ICcoW14nXSspJy8pOwogICAgcyA9IHNbMV07CiAgICAkLm9wZW5MaW5rKHMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/XHcrXC5yYXBlaXRcLm5ldCQvLAogICAgcGF0aDogL15cLyhnb3xwcmVwYWlyfHJlcXVlc3R8Y29sbGVjdHxhbmFseXplKVwvW2EtZjAtOV0rJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYSNkb3dubG9hZF9saW5rJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvdmlldy8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2tpcF90aGlzX2FkXyhcZCspXyhcZCspLyk7CiAgICB2YXIgaWQgPSBtWzFdOwogICAgdmFyIHNoYXJlID0gbVsyXTsKICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpOwogICAgJC5wb3N0KCdodHRwOi8vcmVmZmJ1eC5jb20vcmVmZmxpbngvcmVnaXN0ZXInLCB7CiAgICAgIGlkOiBpZCwKICAgICAgc2hhcmU6IHNoYXJlLAogICAgICBmcDogMCwKICAgICAgbG9jYXRpb246IGxvY2F0aW9uLAogICAgICByZWZlcmVyOiAnJywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC8nKFteJ10rKScvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigncGF0dGVybiBjaGFuZ2VkJyk7CiAgICAgIH0KICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3JpY2hsaW5rLmNvbS9hcHAvd2Vic2NyP2NtZD1fY2xpY2sma2V5PSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJ2ZyYW1lc2V0Jyk7CiAgICBmID0gZi5vbmxvYWQudG9TdHJpbmcoKTsKICAgIGYgPSBmLm1hdGNoKC91cmw9KFteJl0rKS8pOwogICAgaWYgKGYpIHsKICAgICAgZiA9IGRlY29kZVVSSUNvbXBvbmVudChmWzFdKTsKICAgIH0gZWxzZSB7CiAgICAgIGYgPSAkKCdmcmFtZVtuYW1lPXNpdGVdJyk7CiAgICAgIGYgPSBmLnNyYzsKICAgIH0KICAgICQub3BlbkxpbmsoZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vcmlqYWxpdGkuaW5mby8qLnBocCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI21haW4gdGRbYWxpZ249ImNlbnRlciJdIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yaXVybFwuY29tJC8sCiAgICBwYXRoOiAvXlwvLisvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC4kKCdib2R5IHNjcmlwdCcpOwogICAgaWYgKHMpIHsKICAgICAgcyA9IHMuaW5uZXJIVE1MLmluZGV4T2YoJ3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlJyk7CiAgICAgIGlmIChzID49IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgcGF0aDogewogICAgICAgIGhpZGRlbjogJzEnLAogICAgICAgIGltYWdlOiAnICcsCiAgICAgIH0sCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcmV2aWV3XC5ybHVcLnJ1JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjY29udGVudCA+IC5sb25nX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yb2JvXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIHVybCA9IGF0b2IoJC53aW5kb3cuZmwpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucm9uXC52biQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzY3JpcHQgPSAkLnNlYXJjaFNjcmlwdHMoJ2xpbmtuZXh0dG9wJyk7CiAgICB2YXIgZGF0YSA9IHNjcmlwdC5tYXRjaCgvZGF0YToiKFteIl0rKSIvKTsKICAgIHZhciB1cmwgPSAkLndpbmRvdy5kb21haW4gKyAnY2xpY2suaHRtbD8nICsgZGF0YVsxXTsKICAgICQuZ2V0KHVybCwge30sIHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3NhXC5hZSQvLAogICAgcGF0aDogL15cL1x3K1wvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL3ZhciByZWFsX2xpbmsgPSAnKFteJ10rKSc7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2FmZXVybFwuZXUkLywKICAgIHBhdGg6IC9cL1x3Ky8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGRpcmVjdFVybCA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5vcGVuXCgiKFteIl0rKSJcKTsvKTsKICAgIGlmICghZGlyZWN0VXJsKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NjcmlwdCBjb250ZW50IGNoYW5nZWQnKTsKICAgIH0KICAgIGRpcmVjdFVybCA9IGRpcmVjdFVybFsxXTsKICAgICQub3BlbkxpbmsoZGlyZWN0VXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXnNlZ21lbnRuZXh0XC5jb20kLywKICAgICAgL14od3d3XC4pP3ZpZGVvZ2FtZXNibG9nZ2VyLmNvbSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvcmV0dXJuX3VybD0oW14mXSspLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuTGluayhkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KGFwcGxvYWR6XC5ydXxzZW9tYWZpYVwubmV0KSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgYSA9ICQoJ3RhYmxlIGEnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogL2h0dHA6XC9cL3NldGxpbmtzXC51c1wvKHB8dHxkKS4qLywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGsgPSAkLnNlYXJjaFNjcmlwdHMoL3dpbmRvd1wubG9jYXRpb249JyhbXiddKyknLyk7CiAgICBpZiAoaykgewogICAgICAkLm9wZW5MaW5rKGtbMV0pOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgYUxpbmtzID0gJC4kJCgnZGl2LmxpbmtzLWNvbnRhaW5lci5yZXN1bHQtZm9ybTpub3QoLnAtbGlua3MtY29udGFpbmVyKSA+IHNwYW4uZGxpbmtzID4gYScpOwogICAgaWYgKGFMaW5rcy5zaXplKCkgPT09IDEpIHsKICAgICAgJC5vcGVuTGluayhhTGlua3MuYXQoMCkuaHJlZik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGsgPSAkKCdpbWdbYWx0PWNhcHRjaGFdJyk7CiAgICAkLmNhcHRjaGEoay5zcmMsIGZ1bmN0aW9uIChhKSB7CiAgICAgIHZhciBiID0gJCgnI2NhcHRjaGEnKTsKICAgICAgdmFyIGMgPSAkKCdpbnB1dFtuYW1lPVN1Ym1pdF0nKTsKICAgICAgYi52YWx1ZSA9IGE7CiAgICAgIGMuY2xpY2soKTsKICAgIH0pOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhZnRlckdvdFNlc3Npb25JZCAoc2Vzc2lvbklkKSB7CiAgICB2YXIgWF9OZXdSZWxpY19JRCA9ICQuc2VhcmNoU2NyaXB0cygveHBpZDoiKFteIl0rKSIvKTsKICAgIHZhciBkYXRhID0gewogICAgICBhZFNlc3Npb25JZDogc2Vzc2lvbklkLAogICAgfTsKICAgIHZhciBoZWFkZXIgPSB7CiAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCcsCiAgICB9OwogICAgaWYgKFhfTmV3UmVsaWNfSUQpIHsKICAgICAgaGVhZGVyWydYLU5ld1JlbGljLUlEJ10gPSBYX05ld1JlbGljX0lEOwogICAgfQogICAgdmFyIGkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICQuZ2V0KCcvc2hvcnRlc3QtdXJsL2VuZC1hZHNlc3Npb24nLCBkYXRhLCBoZWFkZXIpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgciA9IF8ucGFyc2VKU09OKHRleHQpOwogICAgICAgIGlmIChyLnN0YXR1cyA9PSAib2siICYmIHIuZGVzdGluYXRpb25VcmwpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7CiAgICAgICAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICAgICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHIuZGVzdGluYXRpb25VcmwpOwogICAgICAgICAgJC5vcGVuTGluayh1cmwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCAxMDAwKTsKICB9CiAgdmFyIGhvc3RSdWxlcyA9IFsKICAgIC9ec2hcLnN0JC8sCiAgICAvXihkaDEwdGhidnV8dTJrc3xqbncwfHFhYWZhfHhpdzM0fGNsbGttZXxjbGttZWlufGNvcm5lZXl8Y2Vlc3R5KVwuY29tJC8sCiAgICAvXltkZmddZXN0eXlcLmNvbSQvLAogICAgL15kaWdnXC50byQvLAogICAgL14oW3Z3XWlpZHxjbGttZSlcLm1lJC8sCiAgICAvXnNob3J0XC5lc3QkLywKICBdOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9mcmVlemVcLy4rLywKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLm1hdGNoKC9hY3RpdmUvKSkgewogICAgICAgICAgICBvLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgJC5vcGVuTGluayhtdXRhdGlvbi50YXJnZXQuaHJlZik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvLm9ic2VydmUoJCgnI3NraXBfYnV0dG9uJyksIHsKICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlcywKICAgICAgcGF0aDogL2h0dHBzPzpcL1wvLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwogICAgICB1cmwgPSB1cmwubWF0Y2goLyhodHRwcz86XC9cLy4qKSQvKTsKICAgICAgdXJsID0gdXJsWzFdOwogICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZXMsCiAgICAgIHBhdGg6IC9eXC9bXGRcd10rLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5faW1wc3BjYWJlID0gMDsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgaWYgKG0pIHsKICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvc2Vzc2lvbklkOiAiKFtcZFx3XSspIiwvKTsKICAgICAgICAgIGlmIChtKSB7CiAgICAgICAgICAgIG8uZGlzY29ubmVjdCgpOwogICAgICAgICAgICBhZnRlckdvdFNlc3Npb25JZChtWzFdKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14od3d3XC4pP3NoaW5rXC5pbiQvLAogICAgICAvXmZhc1wubGkkLywKICAgICAgL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgL15jcG1saW5rXC5uZXQkLywKICAgIF0sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgaWYgKCEkLiQoJyNjYXB0Y2hhJykpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnZGl2JykgewogICAgICAgICAgICBpZiAobm9kZS5zdHlsZS56SW5kZXggPT09ICcyMTQ3NDgzNjQ3JykgewogICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgc3VidHJlZTogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmZhc1wubGkkLywKICAgICAgICAvXmNwbWxpbmtcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvZ29cL1x3KyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP2Nyb2NvXC4obWV8c2l0ZSkkLywKICAgICAgcGF0aDogL15cL29rXC9cdyskLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjYnRuLW1haW4nKTsKICAgIHZhciBpID0gYS5ocmVmLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICBhID0gYS5ocmVmLnN1YnN0cihpKTsKICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaGlua1wuaW4kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkKCcjc2tpcCcpOwogICAgZi5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaG9ydFwuYW0kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBfLndhaXQoNTAwMCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBpbWFnZTogJ0NvbnRpbnVlJywKICAgICAgICB9LAogICAgICB9KTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKHd3d1wuKT9zaG9ydGVudXJsXC50ayQvLAogICAgICAvXih3d3dcLik/cGVuZ2FtYW5cLmxpbmskLywKICAgICAgL151cmxnb1wuZ3MkLywKICAgICAgL15ndW50aW5nXC53ZWJcLmlkJC8sCiAgICBdLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJ2EuYnRuLWJsb2NrLnJlZGlyZWN0Jyk7CiAgICAkLm9wZW5MaW5rKGwuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zaG9ydGlcLmdhJC8sCiAgICBwYXRoOiBbCiAgICAgIC9eXC9cdyskLywKICAgICAgL15cL3VybF9yZWRpcmVjdG9yXC5odG1sJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJC4kJCgnZnJhbWUnKTsKICAgIHZhciBmbCA9IGYuZmluZChmdW5jdGlvbih2YWx1ZSwga2V5LCBzZWxmKSB7CiAgICAgIGlmICh2YWx1ZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpIHsKICAgICAgICByZXR1cm4gXy5ub25lOwogICAgICB9CiAgICAgIHJldHVybiAnVGFyZ2V0IGZyYW1lIGZvdW5kJzsKICAgIH0pOwogICAgJC5vcGVuTGluayhmbC52YWx1ZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hvcnRza2lwXC5jb20kLywKICAgIHBhdGg6IC9eXC9zaG9ydFwucGhwJC8sCiAgICBxdWVyeTogL2k9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eZ2V0XC5zaHJpbmstc2VydmljZVwuaXQkLywKICAgIHBhdGg6IC9eXC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IF8uVCgnLy93d3cuc2hyaW5rLXNlcnZpY2UuaXQvc2hyaW5rZWQvezB9Jyk7CiAgICAkLm9wZW5MaW5rKHVybChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL153d3dcLnNocmluay1zZXJ2aWNlXC5pdCQvLAogICAgcGF0aDogL15cL3Nocmlua2VkXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbaWRdW25hbWVdJyk7CiAgICAkLm9wZW5MaW5rKGkudmFsdWUpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc2hyaW5rLXNlcnZpY2VcLml0JC8sCiAgICBwYXRoOiAvXlwvW3NlXVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnYm9keSA+IGlucHV0W2lkXVtuYW1lXScpOwogICAgJC5vcGVuTGluayhpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15zaHRcLmlvJC8sCiAgICBwYXRoOiAvXlwvXGQrXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSBhdG9iKG0ucGF0aFsxXSk7CiAgICB1cmwgPSB1cmwubWF0Y2goL1x7c2h0LWlvXH0oLispXHtzaHQtaW9cfS4qXHtzaHQtaW9cfS8pOwogICAgJC5vcGVuTGluayh1cmxbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/c2ltaWxhcnNpdGVzXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb3RvXC8oW14/XSspLwogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9IG0ucGF0aFsxXTsKICAgIGlmICghL15odHRwcz86XC9cLy8udGVzdChsKSkgewogICAgICBsID0gJ2h0dHA6Ly8nICsgbDsKICAgIH0KICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec21sbFwuaW8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbSA9ICQuc2VhcmNoU2NyaXB0cygvd2luZG93XC5sb2NhdGlvbj0iKFteIl0qKSI7Lyk7CiAgICAkLm9wZW5MaW5rKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuc3Bhc3RlXC5jb20kLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlkID0gJC5zZWFyY2hTY3JpcHRzKC9ce2lkOicoXGQrKSdcfS8pOwogICAgXy53YWl0KDMwMDApLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJC5wb3N0KCcvc2l0ZS9nZXRSZWRpcmVjdExpbmsnLCB7CiAgICAgICAgaWQ6IGlkLAogICAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAkLm9wZW5MaW5rKHVybCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Jua1wuY28kLywKICAgIHBhdGg6IC9eXC9pXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjYnRuLXdpdGgtbGluaycpOwogICAgaWYgKCFhKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBocmVmID0gYS5ocmVmOwogICAgdmFyIG1ldGhvZCA9IGEuZGF0YXNldC5tZXRob2Q7CiAgICBpZiAobWV0aG9kKSB7CiAgICAgIHZhciBjc3JmUGFyYW0gPSAkKCdtZXRhW25hbWU9ImNzcmYtcGFyYW0iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBjc3JmVG9rZW4gPSAkKCdtZXRhW25hbWU9ImNzcmYtdG9rZW4iXScpLmNvbnRlbnQ7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpOwogICAgICBmb3JtLm1ldGhvZCA9ICdwb3N0JzsKICAgICAgZm9ybS5hY3Rpb24gPSBocmVmOwogICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBpbnB1dC5uYW1lID0gJ19tZXRob2QnOwogICAgICBpbnB1dC52YWx1ZSA9IG1ldGhvZDsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgaW5wdXQubmFtZSA9IGNzcmZQYXJhbTsKICAgICAgaW5wdXQudmFsdWUgPSBjc3JmVG9rZW47CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pOwogICAgICBmb3JtLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLnBvc3QobG9jYXRpb24ucGF0aG5hbWUgKyAnLmpzJykudGhlbihmdW5jdGlvbiAoc2NyaXB0KSB7CiAgICAgIHZhciBtID0gc2NyaXB0Lm1hdGNoKC92YXIgbGluayA9ICIoW14iXSspIjsvKTsKICAgICAgaWYgKCFtKSB7CiAgICAgICAgXy53YXJuKCdzY3JpcHQgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKG1bMV0pOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec3Rhc2gtY29pbnNcLmNvbSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKTsKICAgIHZhciBpID0gdXJsLmxhc3RJbmRleE9mKCdodHRwJyk7CiAgICB1cmwgPSB1cmwuc3Vic3RyKGkpOwogICAgJC5vcGVuTGluayh1cmwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnN0cmVhbWluZ2ZyZW5jaFwubmV0JC8sCiAgICBwYXRoOiAvXlwvJC8sCiAgICBxdWVyeTogL15cP3hiPSguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGRlY29kZVVSSUNvbXBvbmVudChtLnF1ZXJ5WzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3N1cGVyY2hlYXRzXC5jb20kLywKICAgIHBhdGg6IC9eXC9pbnRlcnN0aXRpYWxcLmh0bWwkLywKICAgIHF1ZXJ5OiAvKD86XD98JilvbGR1cmw9KFteJl0rKSg/OiR8JikvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXih3d3dcLik/c3lsbmtcLm5ldCQvLAogICAgICAgIC9eZGxuZWtvXC4oY29tfG5ldHxvcmcpJC8sCiAgICAgICAgL15ydW1haHNpbXBlbFwuY29tJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvbGluaz0oW14mXSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9jb21wdWxcLmluJC8sCiAgICAgIHBhdGg6IC9eXC9bbnBdXC5waHAkLywKICAgICAgcXVlcnk6IC92PShbXiZdKykvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14od3d3XC4pP3NhZmVsaW5rYWlyXC5jb20kLywKICAgICAgcGF0aDogL15cL2NvZGUkLywKICAgICAgcXVlcnk6IC8oPzpcP3wmKWxpbms9KFthLXpBLVowLTlcLz1dKykoPzokfCYpLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLmhlYWx0aHlncmVzczI0XC5nYSQvLAogICAgICAgIC9ea29tYmF0Y2hcLmFtYW5rYW5cLmxpbmskLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3BcLyhnb3xoZWFsdHktbGllKVwuaHRtbCQvLAogICAgICBxdWVyeTogL15cP3VybD0oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKGdhZGdldHxhdXRvfHNwb3J0cykxNFwucHckLywKICAgICAgICAvXm1vdG9zcG9ydFwucHckLywKICAgICAgICAvXm5hci0wNFwudGskLywKICAgICAgICAvXmxpbmR1bmdcLmluJC8sCiAgICAgICAgL15tb3RvbmV3c1wuY2x1YiQvLAogICAgICAgIC9ed3dbMjNdXC5waWNuaWN0cmFuc1wuY29tJC8sCiAgICAgICAgL15nYWRnZXQxM1wuY29tJC8sCiAgICAgICAgL15hemhpZVwubmV0JC8sCiAgICAgICAgL153dzJcLmF3c3Vic1wuY28kLywKICAgICAgICAvXmF1dG9ycFwudXMkLwogICAgICBdLAogICAgICBxdWVyeTogL15cP2Q9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ed3d3XC5hbmlzdWJzaWFcLnRrJC8sCiAgICAgIHBhdGg6IC9eXC9wXC9saW5rXC5odG1sJC8sCiAgICAgIHF1ZXJ5OiAvXlw/dXJsPShbYS16QS1aMC05XC89XSspJC8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL153d3dcLmluc3VyYW5jZTFcLnRlY2gkLywKICAgICAgICAvXnd3d1wuZnJlZWFuaW1lb25saW5lXC54eXokLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9eXD9zaXRlPShbYS16QS1aMC05XC89XSspLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eaVwuZ3RhaW5kXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD8oW2EtekEtWjAtOVwvPV0rKSQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL1wuYmxvZ3Nwb3RcLmNvbT8vLAogICAgICBxdWVyeTogWwogICAgICAgIC9eXD91cmw9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgICAvXlw/aWQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgICAgXSwKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2VoYXRsZWdhXC5jb20kLywKICAgICAgcXVlcnk6IC9eXD9sYW5qdXQ9KFthLXpBLVowLTlcLz1dKykkLywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9ec2hvcnRlblwuaWQkLywKICAgICAgcXVlcnk6IC9eXD91cmw9KFthLXpBLVowLTlcLz1dKyk9JC8sCiAgICB9LAogIF0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgcmF3TGluayA9IGF0b2IobS5xdWVyeVsxXSk7CiAgICAkLm9wZW5MaW5rKHJhd0xpbmspOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvKF58XC4pc2FmZWxpbmtjb252ZXJ0ZXIyP1wuY29tJC8sCiAgICAgICAgL15zYWZlbGluayhzP3Jldmlldyhlcik/KVwuY29tPyQvLAogICAgICAgIC9ec3VzdXRpblwuY29tJC8sCiAgICAgICAgL14oZ2V0Y29taWNzfG1pdWl0dXRvcmlhbClcLmdxJC8sCiAgICAgICAgL15hd3N1YnNcLmNmJC8sCiAgICAgICAgL15hd3N1YnNjb1wuZ2EkLywKICAgICAgXSwKICAgICAgcXVlcnk6IC9pZD0oW1x3XFxdKz0qKS8sCiAgICB9LAogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14od3d3XC4pP2RsbmVrb1wuY29tJC8sCiAgICAgICAgL14oc2F0dWFzaWF8dGF3YWt1KVwuY29tJC8sCiAgICAgICAgL153dzNcLm1hbnRlYlwuaW4kLywKICAgICAgICAvXmxpbmtcLmZpbG1rdVwubmV0JC8sCiAgICAgICAgL153d3dcLm11dWNpaFwuY29tJC8sCiAgICAgICAgL14obmFpc2hvfGZpbG1rdSlcLmxvbXBhdFwuaW4kLywKICAgICAgICAvXmVkb2dhd2FcLmxvblwucHckLywKICAgICAgICAvXnRlbG9sZXRcLmluJC8sCiAgICAgIF0sCiAgICAgIHF1ZXJ5OiAvZ289KFtcd1xcXSs9KikvLAogICAgfSwKICBdLAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgdmFyIHRhYmxlID0gewogICAgICAnISc6ICdhJywKICAgICAgJyknOiAnZScsCiAgICAgICdfJzogJ2knLAogICAgICAnKCc6ICdvJywKICAgICAgJyonOiAndScsCiAgICB9OwogICAgbCA9IGwucmVwbGFjZSgvWyEpXygqXS9nLCBmdW5jdGlvbiAobSkgewogICAgICByZXR1cm4gdGFibGVbbV07CiAgICB9KTsKICAgICQub3BlbkxpbmsobCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9zYWZlbGlua3Jldmlld1wuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrXC9jb3N0XC8oW1x3XC5dKylcLz8kLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSAnaHR0cDovLycgKyBtLnBhdGhbMV07CiAgICAkLm9wZW5MaW5rKGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9eKGRlc2lnbmluZ2hvbWV5fGFuaS1zaGFyZXxzaW5vcHNpc2ZpbG1rdSlcLmNvbSQvLAogICAgICAvXm1vdG9uZXdzXC5jbHViJC8sCiAgICAgIC9eKGF1dG9mYW5zfGxhbmRzY2FwZW5hdHVyZSlcLnB3JC8sCiAgICAgIC9eKHNpZGVzcGFjZXxlcm9nZWRvd25sb2FkKVwubmV0JC8sCiAgICBdLAogICAgcXVlcnk6IC9nZXQ9KFteJl0rKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgYT0nKFteJ10rKScvKTsKICAgIGlmIChzKSB7CiAgICAgICQub3Blbkxpbmsoc1sxXSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHMgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhzKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rb21iYXRjaFwubG9uY2F0XC5wdyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzID0gJC5zZWFyY2hTY3JpcHRzKC9cLm9wZW5cKCIoW14iXSspIiwvKTsKICAgIHMgPSBzWzFdLm1hdGNoKC9nbz0oW14mXSspLyk7CiAgICBzID0gYXRvYihzWzFdKTsKICAgICQub3Blbkxpbmsocyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL153d1syM11cLnBpY25pY3RyYW5zXC5jb20kLywKICAgICAgL15zaG9ydFwuYXdzdWJzXC4oY298bWUpJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmtpcmkgPiBjZW50ZXIgPiBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGVjaGZ1bmRhXC5uZXQkLywKICAgIHBhdGg6IFsKICAgICAgICAvXlwvbGlua1wvLywKICAgICAgICAvXlwvc2FmZVwvLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuaGlkZSBhLmJ0bicpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnRoaW5maVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCdkaXYgcCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edGlueWFycm93c1wuY29tJC8sCiAgICBwYXRoOiAvXlwvcHJldmlld1wucGhwJC8sCiAgICBxdWVyeTogL15cP3BhZ2U9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoZGVjb2RlVVJJQ29tcG9uZW50KG0ucXVlcnlbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL150b3Bsb2FkXC5wcm8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5oaWRlIGEuYnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT90b3RhbGRlYnJpZFwub3JnJC8sCiAgICBwYXRoOi9cL2xcLyhsXC5waHApPyQvLAogICAgcXVlcnk6IC9cP2Fkcz0oW2EtekEtWjAtOT1dKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGwgPSBhdG9iKG0ucXVlcnlbMV0pOwogICAgJC5vcGVuTGluayhsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3R5cFwubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcjc2tpcEFkQnRuJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91bHRzaGFyZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvKD86KD86XGQtKT8oXGQrKXxpbmRleFwucGhwKSQvLAogICAgcXVlcnk6IC9eKD86XD9hPVxkJmM9KFxkKykpPyQvCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsaW5rSWQgPSBtLnBhdGhbMV0/bS5wYXRoWzFdOm0ucXVlcnlbMV07CiAgICB2YXIgZGlyZWN0TGluayA9ICcvMy0nICsgbGlua0lkOwogICAgJC5vcGVuTGluayhkaXJlY3RMaW5rKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151bmZha2VcLml0JC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGZyYW1lID0gJCgnZnJhbWUnKTsKICAgIHZhciBpID0gZnJhbWUuc3JjLmxhc3RJbmRleE9mKCdodHRwOi8vJyk7CiAgICAkLm9wZW5MaW5rKGZyYW1lLnNyYy5zdWJzdHIoaSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/KHVwYW58Z3hwKVwuc28kLywKICAgIHBhdGg6IC9eXC9cdyskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ3RhYmxlLnRkX2xpbmUgYVtvbmNsaWNrPSJkb3duX3Byb2Nlc3NfcygpOyJdJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edXJsXC5pZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnYVt0aXRsZT0iTGluayB0byBvcmlnaW5hbCBVUkwiXScpOwogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9edXJsY2FzaFwuKGNvbXxuZXR8b3JnKSQvLAogICAgICAvXihiYXQ1fGRldG9uYXRpbmd8Y2VsZWJjbGt8ZWlnaHR0ZWVufHNtaWxpbmdsaW5rc3xwZWVrYXRteWdpcmxmcmllbmR8cG9ybnlob3N0fGNsYjF8dXJsZ2FsbGVyaWVzKVwuY29tJC8sCiAgICAgIC9ebG9vYmxlXC5uZXQkLywKICAgICAgL154eHhzXC5vcmckLywKICAgIF0sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgaWYgKCQud2luZG93ICYmICQud2luZG93LmxpbmtEZXN0VXJsKSB7CiAgICAgICQub3BlbkxpbmsoJC53aW5kb3cubGlua0Rlc3RVcmwpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgbWF0Y2hlcyA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLm1hdGNoKC9saW5rRGVzdFVybCA9ICcoLispJy8pOwogICAgaWYgKG1hdGNoZXMpIHsKICAgICAgJC5vcGVuTGluayhtYXRjaGVzWzFdKTsKICAgICAgcmV0dXJuOwogICAgfQogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnVybGlublwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdNRVRBW0hUVFAtRVFVSVY9cmVmcmVzaF0nKS5nZXRBdHRyaWJ1dGUoJ0NPTlRFTlQnKS5tYXRjaCgvdXJsPScoW14nXSspJy8pOwogICAgaWYgKG0pIHsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL151cmxtc1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGlmcmFtZSA9ICQoJyNjb250ZW50Jyk7CiAgICAkLm9wZW5MaW5rKGlmcmFtZS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dXJsdjJcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ2xvY2tlZCcpID49IDApIHsKICAgICAgdmFyIHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnL2xvY2tlZCcsICcnKTsKICAgICAgJC5vcGVuTGluayhwYXRoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoL2pldG9uPShbXHddKykvKTsKICAgIHZhciBsID0gJ2h0dHA6Ly91cmx2Mi5jb20vYWxnby5waHA/YWN0aW9uPXBhc3NlciZweD0wJnNvPTEmamV0b249JyArIG1bMV07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHskLm9wZW5MaW5rKGwpfSwgNTAwMCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91c2tpcFwubWUkLywKICAgIHBhdGg6IC9eXC9nb1wvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2J0bi1tYWluJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9edmF2aVwuY28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbCA9ICQoJyNnb0xpbmsnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3ZpY3RseVwuY29tJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5wb3N0KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIHsKICAgICAgaGlkZGVuOiAnJywKICAgICAgaW1hZ2U6ICdTa2lwK0FkcycsCiAgICB9KS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgIHZhciBtID0gdGV4dC5tYXRjaCgvd2luZG93XC5sb2NhdGlvblwucmVwbGFjZVwoJyhbXiddKyknXCkvKTsKICAgICAgJC5vcGVuTGluayhtWzFdKTsKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudmlpZGlpXC5pbmZvJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjZGlyZWN0bGluaycpOwogICAgJC5vcGVuTGluayhvLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/dmlyXC5hbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgdGFyZ2V0X3VybCA9ICcoW14nXSspJzsvKTsKICAgIGlmICghbSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdzaXRlIGNoYW5nZWQnKTsKICAgIH0KICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT93enpxXC5tZSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHRyeSB7CiAgICAgIHZhciBsID0gJCgnI2ltZ19sb2FkaW5nX3RhYmxlMiAgZGl2Lnd6X2ltZ19oaXQgYVt0YXJnZXQ9X2JsYW5rXScpLmhyZWY7CiAgICAgICQub3BlbkxpbmsobCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeGxpbmtcLm1lJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluX2Zvcm0gPiBjZW50ZXIgPiBhJyk7CiAgICBpZiAoIWEpIHtyZXR1cm47fQogICAgJC5vcGVuTGluayhhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3llcC5pdC9wcmV2aWV3LnBocD9wPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbGluayA9ICQoJ2ZvbnRbY29sb3I9ImdyZXkiXScpLmlubmVySFRNTDsKICAgICQub3BlbkxpbmsobGluayk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lnlvb2NsaWNrLmNvbS9sLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciB1bmlxID0gJC53aW5kb3cudW5pcSB8fCAkLndpbmRvdy51bmlxaTsKICAgIGlmICghdW5pcSkge3JldHVybjt9CiAgICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgIHZhciB1cmwgPSBfLlQoJ3swfT9hamF4PXRydWUmYWRibG9jaz1mYWxzZSZvbGQ9ZmFsc2UmZnJhbWVkPWZhbHNlJnVuaXE9ezF9JykocGF0aCwgdW5pcSk7CiAgICB2YXIgZ2V0VVJMID0gZnVuY3Rpb24oKSB7CiAgICAgICQuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBnb29kVVJMID0gL14oaHR0cHM/fGZ0cCk6XC9cLygoKChbYS16XXxcZHwtfFwufF98fnxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KCVbXGRhLWZdezJ9KXxbIVwkJidcKFwpXCpcKyw7PV18OikqQCk/KCgoXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKVwuKFxkfFsxLTldXGR8MVxkXGR8MlswLTRdXGR8MjVbMC01XSlcLihcZHxbMS05XVxkfDFcZFxkfDJbMC00XVxkfDI1WzAtNV0pXC4oXGR8WzEtOV1cZHwxXGRcZHwyWzAtNF1cZHwyNVswLTVdKSl8KCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCgoW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKSooW2Etel18XGR8W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKSlcLikrKChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSl8KChbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKihbYS16XXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkpKVwuPykoOlxkKik/KShcLygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApKyhcLygoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCkqKSopPyk/KFw/KCgoW2Etel18XGR8LXxcLnxffH58W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pfCglW1xkYS1mXXsyfSl8WyFcJCYnXChcKVwqXCssOz1dfDp8QCl8W1x1RTAwMC1cdUY4RkZdfFwvfFw/KSopPyhcIygoKFthLXpdfFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoJVtcZGEtZl17Mn0pfFshXCQmJ1woXClcKlwrLDs9XXw6fEApfFwvfFw/KSopPyQvaS50ZXN0KHRleHQpOwogICAgICAgIGlmIChnb29kVVJMKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHRleHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGdldFVSTCwgNTAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZ2V0VVJMKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeXNmXC5wbCQvLAogICAgcGF0aDogL15cLzNcLyguKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVybCA9IGF0b2IobS5wYXRoWzFdKTsKICAgICQub3BlbkxpbmsodXJsKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL155c2ZcLnBsJC8sCiAgICBwYXRoOiAvXlwvMlwvKC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5wYXRoWzFdLm1hdGNoKC8uezJ9L2cpLm1hcChmdW5jdGlvbiAoaCkgewogICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoLCAxNikpOwogICAgfSkuam9pbignJyk7CiAgICAkLm9wZW5MaW5rKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC56aW50YXRhXC5jb20kLywKICAgIHBhdGg6IC9eXC9saW5rXC8kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNvbmUgPiBjZW50ZXI6bnRoLWNoaWxkKDMpID4gYTpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly96by5tdS9yZWRpcmVjdG9yL3Byb2Nlc3M/bGluaz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eenp6XC5nbCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtID0gJC5zZWFyY2hTY3JpcHRzKC92YXIgZG9tYWludXJsID0gJyhbXiddKyknOy8pOwogICAgaWYgKCFtKSB7CiAgICAgIHRocm93IG5ldyBfLkFkc0J5cGFzc2VyRXJyb3IoJ3NpdGUgY2hhbmdlZCcpOwogICAgfQogICAgJC5vcGVuTGluayhtWzFdKTsKICB9LAp9KTsKKGZ1bmN0aW9uIChjb250ZXh0LCBmYWN0b3J5KSB7CiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnRleHQsIEdNKSB7CiAgICAgIHZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7CiAgICAgIHZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7CiAgICAgIHZhciBkb20gPSByZXF1aXJlKCcuL2RvbS5qcycpOwogICAgICB2YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcuanMnKTsKICAgICAgdmFyIGxpbmsgPSByZXF1aXJlKCcuL2xpbmsuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbZG9tLCBjb25maWcsIGxpbmssIG1pc2NdLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LmNhbGwobnVsbCwgY29udGV4dCwgR00pOwogICAgICB9KTsKICAgICAgdmFyICQgPSBfLmFzc2lnbi5hcHBseShfLCBtb2R1bGVzKTsKICAgICAgcmV0dXJuIGZhY3RvcnkoY29udGV4dCwgR00sIGNvcmUsICQpOwogICAgfTsKICB9IGVsc2UgewogICAgZmFjdG9yeShjb250ZXh0LCB7CiAgICAgIGdldFJlc291cmNlVGV4dDogR01fZ2V0UmVzb3VyY2VUZXh0LAogICAgICBhZGRTdHlsZTogR01fYWRkU3R5bGUsCiAgICAgIGdldFJlc291cmNlVVJMOiBHTV9nZXRSZXNvdXJjZVVSTCwKICAgIH0sIGNvbnRleHQuXywgY29udGV4dC4kKTsKICB9Cn0odGhpcywgZnVuY3Rpb24gKGNvbnRleHQsIEdNLCBfLCAkKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciB3aW5kb3cgPSBjb250ZXh0LndpbmRvdzsKICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7CiAgJC5vcGVuSW1hZ2UgPSBmdW5jdGlvbiAoaW1nU3JjLCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIHZhciByZXBsYWNlID0gISFvcHRpb25zLnJlcGxhY2U7CiAgICB2YXIgcmVmZXJlciA9ICEhb3B0aW9ucy5yZWZlcmVyOwogICAgaWYgKHJlcGxhY2UpIHsKICAgICAgcmVwbGFjZUJvZHkoaW1nU3JjKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCQuY29uZmlnLnJlZGlyZWN0SW1hZ2UpIHsKICAgICAgJC5vcGVuTGluayhpbWdTcmMsIHsKICAgICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgICB9KTsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbGluZyAoKSB7CiAgICB2YXIgbyA9IGRvY3VtZW50LmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7CiAgICBvLnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgfTsKICBmdW5jdGlvbiB0b2dnbGVTaHJpbmtpbmcgKCkgewogICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogIH0KICBmdW5jdGlvbiBjaGVja1NjYWxpbmcgKCkgewogICAgdmFyIG53ID0gdGhpcy5uYXR1cmFsV2lkdGg7CiAgICB2YXIgbmggPSB0aGlzLm5hdHVyYWxIZWlnaHQ7CiAgICB2YXIgY3cgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgY2ggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgaWYgKChudyA+IGN3IHx8IG5oID4gY2gpICYmICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWRzYnlwYXNzZXItcmVzaXphYmxlJykpIHsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1yZXNpemFibGUnKTsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhZHNieXBhc3Nlci1zaHJpbmtlZCcpOwogICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlU2hyaW5raW5nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaHJpbmtpbmcpOwogICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2Fkc2J5cGFzc2VyLXNocmlua2VkJyk7CiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWRzYnlwYXNzZXItcmVzaXphYmxlJyk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHNjYWxlSW1hZ2UgKGkpIHsKICAgIHZhciBzdHlsZSA9IEdNLmdldFJlc291cmNlVGV4dCgnc2NhbGVJbWFnZScpOwogICAgR00uYWRkU3R5bGUoc3R5bGUpOwogICAgaWYgKGkubmF0dXJhbFdpZHRoICYmIGkubmF0dXJhbEhlaWdodCkgewogICAgICBjaGVja1NjYWxpbmcuY2FsbChpKTsKICAgIH0gZWxzZSB7CiAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNoZWNrU2NhbGluZyk7CiAgICB9CiAgICB2YXIgaDsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaCk7CiAgICAgIGggPSB3aW5kb3cuc2V0VGltZW91dChjaGVja1NjYWxpbmcuYmluZChpKSwgMTAwKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kICgpIHsKICAgIHZhciBiZ0ltYWdlID0gR00uZ2V0UmVzb3VyY2VVUkwoJ2JnSW1hZ2UnKTsKICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMyMjIyMjInOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBfLlQoJ3VybChcJ3swfVwnKScpKGJnSW1hZ2UpOwogIH0KICBmdW5jdGlvbiBhbGlnbkNlbnRlciAoKSB7CiAgICB2YXIgc3R5bGUgPSBHTS5nZXRSZXNvdXJjZVRleHQoJ2FsaWduQ2VudGVyJyk7CiAgICBHTS5hZGRTdHlsZShzdHlsZSk7CiAgfQogIGZ1bmN0aW9uIGluamVjdFN0eWxlIChkLCBpKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdzdHlsZSwgbGlua1tyZWw9c3R5bGVzaGVldF0nKTsKICAgIGQuaWQgPSAnYWRzYnlwYXNzZXItd3JhcHBlcic7CiAgICBpLmlkID0gJ2Fkc2J5cGFzc2VyLWltYWdlJzsKICB9CiAgZnVuY3Rpb24gcmVwbGFjZUJvZHkgKGltZ1NyYykgewogICAgaWYgKCEkLmNvbmZpZy5yZWRpcmVjdEltYWdlKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICghaW1nU3JjKSB7CiAgICAgIF8ud2FybignZmFsc2UgdXJsJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbyhfLlQoJ3JlcGxhY2luZyBib2R5IHdpdGggYHswfWAgLi4uJykoaW1nU3JjKSk7CiAgICAkLnJlbW92ZUFsbFRpbWVyKCk7CiAgICBlbmFibGVTY3JvbGxpbmcoKTsKICAgIGRvY3VtZW50LmJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7CiAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKTsKICAgIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBpLnNyYyA9IGltZ1NyYzsKICAgIGQuYXBwZW5kQ2hpbGQoaSk7CiAgICBpZiAoJC5jb25maWcuYWxpZ25DZW50ZXIgfHwgJC5jb25maWcuc2NhbGVJbWFnZSkgewogICAgICBpbmplY3RTdHlsZShkLCBpKTsKICAgIH0KICAgIGlmICgkLmNvbmZpZy5hbGlnbkNlbnRlcikgewogICAgICBhbGlnbkNlbnRlcigpOwogICAgfQogICAgaWYgKCQuY29uZmlnLmNoYW5nZUJhY2tncm91bmQpIHsKICAgICAgY2hhbmdlQmFja2dyb3VuZCgpOwogICAgfQogICAgaWYgKCQuY29uZmlnLnNjYWxlSW1hZ2UpIHsKICAgICAgc2NhbGVJbWFnZShpKTsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgIHsKICAgICAgaG9zdDogL14xKGRsfGJlKVwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcL1xkKyQvLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL15pbWdcLjFkbFwuYml6JC8sCiAgICAgIHBhdGg6IC9eXC9cd1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvXlw/XHdcLyhbXGRcL10rKSQvLAogICAgfSwKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5tYWluIGEsIC5tYWluLWwgYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14xcGljc1wucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nW2FsdCQ9IjFQaWNzLlJ1Il0nKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKDJpXC4oc2t8Y3opfDJpbWdzXC5jb20pJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyN3cmFwMyBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBydW4gKCkgewogICAgdmFyIGkgPSAkKCcjaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT9pbWFnZShwZWFybHxjcmVzdClcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvdmVyaWZ5XC8oLispJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkxpbmsoJy92aWV3LycgKyBtLnBhdGhbMV0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgJ2h0dHA6Ly8qLmFibG9hZC5kZS9pbWFnZS5waHA/aW1nPSonLAogICAgICAnaHR0cDovL3d3dy5pbWFnZXVwLnJ1LyovKi8qLmh0bWwnLAogICAgICAnaHR0cDovL2l0bWFnZXMucnUvaW1hZ2Uvdmlldy8qLyonLAogICAgICB7CiAgICAgICAgaG9zdDogL14od3d3XC4pP2ltYWdlKHBlYXJsfGNyZXN0KVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15hdmVudWV4eHhcLmNvbSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL14oYjRoZXxmdWxsaW1nKVwuY29tLywKICAgICAgL15mYXN0cGljc1wubmV0LywKICAgICAgL15pZmFwXC5jby8sCiAgICBdLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2VwMnBcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PShbXiZdKykvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnL2ltYWdlcy8nICsgbS5xdWVyeVsxXSArICcuanBlZycpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmJheWltZ1wuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjbWFpbkltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYmVlaW1nXC5jb20kLywKICAgIHBhdGg6IC9cL3ZpZXdcLy4qLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnaW1nLmltZy1yZXNwb25zaXZlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuYmlsZGVyLXNwYWNlLmRlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnaWZyYW1lJyk7CiAgICB2YXIgaW1nID0gJCgnaW1nLnBpY3R1cmUnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5iaWxkZXItdXBsb2FkLmV1L3Nob3cucGhwP2ZpbGU9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW5wdXRbdHlwZT1pbWFnZV0nKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9ibGFja2NhdHBpeC5jb20vdi5waHA/KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCd0ZCBjZW50ZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuY2FzaW1hZ2VzLmNvbS9pbWcucGhwPyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgndGQgYSBpbWcnKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiBbCiAgICAgIC9ed3d3XC54NDV4XC5pbmZvJC8sCiAgICAgIC9eKGltYWR1bHxteXBpeHh4XC5sb25lc3Rhcm5hdWdodHlnaXJscylcLmNvbSQvLAogICAgICAvXmdoYW5haW1hZ2VzXC5jbyQvLAogICAgICAvXmltZ3VyYmFuXC5pbmZvJC8sCiAgICAgIC9eZDY5XC5pbiQvLAogICAgXSwKICAgIHF1ZXJ5OiAvXD9wW210XT0oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy8/ZGk9JyArIG0ucXVlcnlbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2phdmVsaXRlLnRrL3ZpZXdlci5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgndGFibGUgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdjaGlsaVwuKGNvbXxuZXQpJC8sCiAgICAgIC9eKHd3d1wuKT9waXhob3N0XC5vcmckLywKICAgIF0sCiAgICBwYXRoOiAvXlwvc2hvd1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZCcpOwogICAgdHJ5IHsKICAgICAgJCgnI2FsbCcpLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIH0gY2F0Y2ggKGUpIHsKICAgIH0KICAgIHZhciBvID0gJCgnI3Nob3dfaW1hZ2UsICNpbWFnZScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmNyZFwuaHQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJy5jb250aW51ZSA+IGZvcm0gPiBpbnB1dFtuYW1lPWxpbmtdJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9jdWJldXBsb2FkLmNvbS9pbS8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2ltZy5nYWxsZXJ5QmlnSW1nJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXmRhaWx5c3NcLm5ldCQvLAogICAgICAvZGFpbHktaW1nXC5jb20kLywKICAgICAgL2ltZy0zNjVcLmNvbSQvLAogICAgICAvXjM2NS1pbWdcLmNvbSQvLAogICAgICAvXmlcLmhlbnRhaS1kZGxcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pbWFnZVwvLiskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZS12aWV3ZXItY29udGFpbmVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnh4eFwucG9ybjBkYXlcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnbGlua1tyZWxePWltYWdlX3NyY10nKTsKICAgICQub3BlbkltYWdlKGkuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15kZXBpY1wubWUkLywKICAgICAgL14od3d3XC4pP3BpY2FtYXRpY1wuY29tJC8sCiAgICBdLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpYycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZyhkaW5vfHRpZ2VyfHphcClcLmNvbSQvLAogICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICBxdWVyeTogL15cP2ZpbGU9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbyA9ICQoJyNjdXJzb3JfbHVwYScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovLyouZGlyZWN0dXBsb2FkLm5ldC9maWxlLyouaHRtJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjSW1nRnJhbWUnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15laGR3YWxscGFwZXJzXC5vcmckLywKICAgIHBhdGg6IC9eXC9pbWFnZXNcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcuZW50cnktY29udGVudC5jbGVhcmZpeCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiBbCiAgICAgICAgL14oZW1wdHlwaXh8aW1nZG9taW5vKVwuY29tJC8sCiAgICAgICAgL15vdmVyZHJlYW1cLmN6JC8sCiAgICAgICAgL153d3dcLnNleHNlZWltYWdlXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL2ltYWdlXC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogL14xMFwuaW1hZ2VsZW9uXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZy0oLispXC5odG1sJC8sCiAgICB9LAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjZnVsbF9pbWFnZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ec2V4eXhwaXhlbHNcLmNvbSQvLAogICAgcXVlcnk6IC9eXD92PS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmdWxsX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15mYXN0cGljXC5ydSQvLAogICAgcGF0aDogL15cL3ZpZXdcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNwaWNDb250YWluZXIgI2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly93d3cuZm90b2xpbmsuc3Uvdi5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3LmZvdG9zaWsucGwvcG9rYXpfb2JyYXplay9wZWxueS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2Eubm9ib3JkZXIgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15mcmVha2ltYWdlXC5jb20kLywKICAgICAgL153d3dcLmhvc3RwaWNcLm9yZyQvLAogICAgXSwKICAgIHBhdGg6IC9eXC92aWV3XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZmlsZW5hbWU9KFteJl0rKS8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2ZyZWVpbWd1cFwuY29tJC8sCiAgICBwYXRoOiAvXlwveHh4XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjbWFpbmltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgJ2h0dHA6Ly9mdW5reWltZy5jb20vdmlld2VyLnBocD9pbWc9KicsCiAgICAnaHR0cDovL2Z1bmt5aW1nLmNvbS92aWV3LyonLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3ZpZXdlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2dhbGxlcnkobm92YXxzZW5zZSlcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNteVVuaXF1ZUltZycpLnBhcmVudE5vZGU7CiAgICAkLm9wZW5JbWFnZShpLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Z2FsbGVyeW5vdmFcLnNlJC8sCiAgICBwYXRoOiAvXlwvc2l0ZVwvdmlld0ltYWdlXC8oXHcrKS8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjb25maXJtID0gJC5zZWFyY2hTY3JpcHRzKC9cJFwoIiNjb25maXJtSW1hZ2UiXCkudmFsXCgiKFteIl0rKSJcKS8pWzFdOwogICAgJC5wb3N0KCcvc2l0ZS92aWV3Q29uZmlybUNvZGUvJyArIG0ucGF0aFsxXSwgewogICAgICBjb25maXJtOiBjb25maXJtCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyYXdKc29uKSB7CiAgICAgIHZhciBqc29uID0gXy5wYXJzZUpTT04ocmF3SnNvbik7CiAgICAgIHZhciBkZWNvZGVkSFRNTCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGpzb24uY29udGVudCkuZGF0YTsKICAgICAgdmFyIGltZ1VSTCA9IGRlY29kZWRIVE1MLm1hdGNoKC88YSBocmVmPSIoW14iXSspIiB0YXJnZXQ9Il9ibGFuayI+LylbMV07CiAgICAgICQub3BlbkltYWdlKGltZ1VSTCk7CiAgICB9KTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgdmFyIGhvc3RSdWxlID0gL15nb2ltYWdlaG9zdFwuY29tJC87CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBwYXRoOiAvXlwveHh4XC9pbWFnZXNcLy8sCiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0UnVsZSwKICAgICAgcGF0aDogL15cL3h4eFwvKC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5wYXRoWzFdKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IGhvc3RSdWxlLAogICAgICBxdWVyeTogL15cP3Y9KC4rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKCcveHh4L2ltYWdlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuKGgtYW5pbWVzfGFkdWx0bW92ZSlcLmluZm8vLAogICAgcGF0aDogL15cLy4rXC8uK1wvLitcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJy5kbGJ1dHRvbjIgPiBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9sbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJ2luZGV4LTEucGhwJyArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2hlbnRhaW1nLmNvbS9tZy9pbmRleC0xLnBocD9pbWc9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2NvbnRlbnQgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vd3d3Lmhvc3RpbmdwaWNzLm5ldC92aWV3ZXIucGhwP2lkPSonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWdfdmlld2VyJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaWZvdG9zLnBsL3pvYmFjei8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkKCdtZXRhW3Byb3BlcnR5PSJvZzppbWFnZSJdJyk7CiAgICAkLm9wZW5JbWFnZShtLmNvbnRlbnQpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYVwuc28kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNpbWFnZV9ibG9jayBhJyk7CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2ltYWdlMTgub3JnL3Nob3cvKicsCiAgICAnaHR0cDovL3NjcmVlbmxpc3QucnUvZGV0YWlscy5waHA/aW1hZ2VfaWQ9KicsCiAgICAnaHR0cDovL3d3dy5pbWFnZW5ldHouZGUvKi8qLmh0bWwnLAogIF0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpbWcgPSAkKCcjcGljdHVyZScpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1hZ2UyeW91XC5ydSQvLAogICAgcGF0aDogL15cL1xkK1wvXGQrLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnZGl2LnRfdGlwczIgZGl2ID4gaW1nJyk7CiAgICBpZiAoIWkpIHsKICAgICAgJC5vcGVuTGluaygnJywgewogICAgICAgIHBvc3Q6IHsKICAgICAgICAgIF9jb25maXJtOiAnJywKICAgICAgICB9LAogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltYWdlYXJuLmNvbS9pbWFnZS5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWJhbS5jb20vaW1hZ2UvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBvID0gJCgnLmltYWdlLWNvbnRhaW5lciBpbWdbaWRdJyk7CiAgICAkLm9wZW5JbWFnZShvLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWFnZWhlbGlcLmNvbSQvLAogICAgICAvXmltZ3R1YmVcLm5ldCQvLAogICAgICAvXnBpeGxpdlwuY29tJC8sCiAgICBdLAogICAgcGF0aDogL15cL2ltZy0oW2EtekEtWjAtOVwtXSspXC4uKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCdhW3JlbD0ibGlnaHRib3giXScpOwogICAgaWYgKCFhKSB7CiAgICAgICQub3BlbkxpbmsoJycsIHsKICAgICAgICBwb3N0OiB7CiAgICAgICAgICBicm93c2VyX2ZpbmdlcnByaW50OiAnJywKICAgICAgICAgIGFkczogJzAnLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICByZXR1cm47CiAgICB9CiAgICAkLm9wZW5JbWFnZShhLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5pbWFnZWhvdXNpbmcuY29tL2ltYWdlLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ3RkLnRleHRfaXRlbSBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZW5vLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZV9kaXYgaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1hZ2VwaXgub3JnL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nW2JvcmRlcj0iMCJdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAoKSB7CiAgICB2YXIgbyA9ICQoJyNkb3dubG9hZF9ib3ggaW1nW2lkXScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltYWdlcG9ydGVyXC5jb20kLywKICAgICAgcGF0aDogL15cL1x3ezEyfVwvLipcLmh0bWwkLywKICAgIH0sCiAgICByZWFkeTogcnVuLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/KGltYWdlKGNhcnJ5fGR1bmt8cG9ydGVyfHN3aXRjaCl8cGljKGxlZXR8dHVyZWRpcHx0dXJldHVybil8aW1nc3BpY2UpXC5jb218KHBpY2xhbWJvfHlhbmtvaW1hZ2VzKVwubmV0JC8sCiAgICB9LAogICAgcmVhZHk6IHJ1biwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogWwogICAgewogICAgICBob3N0OiAvXmltYWdlc2NyZWFtXC5jb20kLywKICAgICAgcGF0aDogL15cL2ltZ1wvKHNvZnRcLyk/LywKICAgIH0sCiAgICB7CiAgICAgIGhvc3Q6IC9eKHd3d1wuKT8ocGljdHVyZXNjcmVhbXxwaWN0dXJldmlwKVwuY29tJC8sCiAgICAgIHBhdGg6IC9eXC94XC8vLAogICAgfSwKICAgIHsKICAgICAgaG9zdDogWwogICAgICAgIC9ecGljdHVyZXNjcmVhbVwuYXNpYSQvLAogICAgICAgIC9edXBsb2FkaW1hZ2VcLmV1JC8sCiAgICAgIF0sCiAgICB9LAogICAgewogICAgICBob3N0OiAvXnBvc3RzY3JlZW5zXC5pbmZvLywKICAgICAgcGF0aDogL15cLy4qLywKICAgIH0sCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjc2hvcnRVUkwtY29udGVudCBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXihpbWFnZXNjcmVhbXxhbm9ucGljKVwuY29tJC8sCiAgICAgIC9eYWxsLXBvc3RlclwucnUkLywKICAgIF0sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNpbWFnZW4gaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eYnVubnlmb3J1bVwub3JnJC8sCiAgICBxdWVyeTogL15cP3Y9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2ltZ1t0aXRsZV49Q2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBob3N0ID0gL15pbWFnZXNoYWNrXC51cyQvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBob3N0LAogICAgICBwYXRoOiAvXlwvcGhvdG9cLy4rXC8oLispXC8oW15cL10rKS8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgICQub3BlbkltYWdlKF8uVCgnL2YvezB9L3sxfS8nKShtLnBhdGhbMV0sIG0ucGF0aFsyXSkpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogaG9zdCwKICAgICAgcGF0aDogL15cL2ZcLy4rXC9bXlwvXSsvLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJCgnI2Z1bGxpbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXNob3N0LnJ1L3Bob3RvLyovaWQqLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNicGhvdG8gYScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKKGZ1bmN0aW9uICgpIHsKICAndXNlIHN0cmljdCc7CiAgZnVuY3Rpb24gcnVuICgpIHsKICAgIHZhciBpID0gJCgnI2ltZ19vYmonKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlZmVyZXI6IHRydWUsCiAgICB9KTsKICB9CiAgZnVuY3Rpb24gcnVuMiAoKSB7CiAgICB2YXIgaSA9ICQoJyNpbWdfb2JqJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL153d3dcLihmcmVlYnVua2VyfGltZ2NhcnJ5fGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvc2hvd1wucGhwJC8sCiAgICAgICAgcXVlcnk6IC9eXD8vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmcmVlYnVua2VyfGltZ3Nob3RzKVwuY29tJC8sCiAgICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiBbCiAgICAgICAgICAvXnd3d1wuaW1hZ2VzbmFrZVwuKGNvbXxvcmcpJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2VmcnVpdFwuY29tJC8sCiAgICAgICAgXSwKICAgICAgICBwYXRoOiAvXlwvKGltZ3xzaG93KVwvLisvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWFnZWJhblwuKHJ1fG5ldCkkLywKICAgICAgICBwYXRoOiAvXlwvc2hvd1wvXGR7NH1cL1xkezJ9XC9cZHsyfVwvLisvLAogICAgICB9LAogICAgICAnaHR0cDovL2ZvdG9vLnBsL3Nob3cucGhwP2ltZz0qLmh0bWwnLAogICAgICB7CiAgICAgICAgaG9zdDogL153d3dcLihmb3Rvc3pva1wucGx8aW1hZ2VzdGltZSlcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9zaG93XC5waHBcLy4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IHJ1biwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL153d3dcLmltZ2NhcnJ5XC5jb20kLywKICAgICAgcGF0aDogL15cL3Nob3dcLy8sCiAgICB9LAogICAgcmVhZHk6IHJ1bjIsCiAgfSk7Cn0pKCk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIGZ1bmN0aW9uIHJ1biAocnApIHsKICAgIGlmICgkLndpbmRvdy5qUXVlcnkpIHsKICAgICAgJC53aW5kb3cualF1ZXJ5LnByb3RvdHlwZS5hcHBlbmQgPSB1bmRlZmluZWQ7CiAgICB9CiAgICB2YXIgaSA9ICQoJ2ltZy5waWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjLCB7CiAgICAgIHJlcGxhY2U6IHJwLAogICAgfSk7CiAgfQogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlbnBpY1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC8uKlwvLitcLmh0bWw/JC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIHRydWUpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltYWdlY2hlcnJ5XC5jb20kLywKICAgIH0sCiAgICByZWFkeTogXy5QKHJ1biwgdHJ1ZSksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1hZ2V0d2lzdFwuY29tJC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChydW4sIGZhbHNlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pbWFnZXVwcGVyLmNvbS9pLz8qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vKi5pbWFnZXZlbnVlLmNvbS9pbWcucGhwPyonLAogICAgJ2h0dHA6Ly9ob3RjaHl4LmNvbS9kL2FkdWx0LWltYWdlLWhvc3Rpbmctdmlldy0wOC5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5ob3N0aW5nZmFpbG92LmNvbS9waG90by8qJywKICBdLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyN0aGVwaWMnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWFnZXppbGxhXC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNwaG90bycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltYWdpa1wuZnIkLywKICAgIHBhdGg6IC9eXC92aWV3KC1ybCk/XC8oLispLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UoJy91cGxvYWRzLycgKyBtLnBhdGhbMl0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZy4zZXp5Lm5ldC8qLmh0bScsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnbGlua1tyZWw9ImltYWdlX3NyYyJdJyk7CiAgICAkLm9wZW5JbWFnZShsLmhyZWYpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL2ltZzEuaW1hZ2lsaXZlLmNvbS8qLyonLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQuJCgnI3BhZ2UgYS5idXR0b24nKTsKICAgIGlmIChhKSB7CiAgICAgICQucmVkaXJlY3QoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjcGFnZSA+IGltZzpub3QoW2lkXSknKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWcyNFwub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGYgPSAkLiQoJ2ltZy5pbWctcG9sYXJvaWQgKyBmb3JtJyk7CiAgICBpZiAoZikgewogICAgICBmLnN1Ym1pdCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICBmID0gJCgnaW1nLmltZy1wb2xhcm9pZCcpOwogICAgJC5vcGVuSW1hZ2UoZi5zcmMsIHsKICAgICAgcmVmZXJlcjogdHJ1ZSwKICAgIH0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXmltZzN4XC5uZXQkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQuJCgnZm9ybScpOwogICAgaWYgKGYpIHsKICAgICAgZi5zdWJtaXQoKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZiA9ICQoJyNzaG93X2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShmLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5pbWcoYmFiZXN8ZmxhcmUpXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnaW5wdXRbb25jbGlja10nKTsKICAgIGlmIChpKSB7CiAgICAgICQud2luZG93LkRlY29kZSgpOwogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgaSA9ICQoJyN0aGlzX2ltYWdlJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1nYmFyXC5uZXQkLywKICAgIHBhdGg6IC9eXC9pbWdfc2hvd1wucGhwJC8sCiAgICBxdWVyeTogL15cP3ZpZXdfaWQ9LywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJ2NlbnRlciBpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiYXJcLm5ldCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnZGl2LnBhbmVsLnRvcCBmb3JtIGlucHV0W25hbWU9c2lkXScpOwogICAgJC5vcGVuTGluaygnL2ltZ19zaG93LnBocD92aWV3X2lkPScgKyBpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdiaW5cLm1lJC8sCiAgICBwYXRoOiAvXlwvdmlld1wvKFtBLVpdKykkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHRwbCA9IF8uVCgnL2ltYWdlL3swfS5qcGcnKTsKICAgICQub3BlbkltYWdlKHRwbChtLnBhdGhbMV0pKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdib3hcLmNvbSQvLAogICAgcGF0aDogL15cL1tcZFx3XSskLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2ltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKGRvUmVwbGFjZSkgewogICAgaWYgKCQud2luZG93LmNvbmZpcm1BZ2UpIHsKICAgICAgJC53aW5kb3cuY29uZmlybUFnZSgxKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGkgPSAkKCcjY29udGFpbmVyLWhvbWUgaW1nW29uY2xpY2tdJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiBkb1JlcGxhY2UsCiAgICB9KTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZyhmYW50YXN5fGxlZWNofFwucG9ybmxlZWNofHNtaWxlfG5lbW98c2Vuc2V8Y3VybClcLmNvbSQvLAogICAgICAgIC9eKGltYWdlZG9taW5vfGxvdmVjaGl4fGltYWdlYmljKVwuY29tJC8sCiAgICAgICAgL14waW1nXC5uZXQkLywKICAgICAgICAvXmRhaWx5LWltZ1wuY29tJC8sCiAgICAgICAgL15waWNhbmdlbFwuaW4kLywKICAgICAgICAvXmJ1bm55Zm9ydW1cLm9yZyQvLAogICAgICBdLAogICAgICBxdWVyeTogL15cP1twdl09LywKICAgIH0sCiAgICByZWFkeTogXy5QKGhlbHBlciwgZmFsc2UpLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ3NheVwuY29tJC8sCiAgICAgIHF1ZXJ5OiAvXlw/W3B2XT0vLAogICAgfSwKICAgIHJlYWR5OiBfLlAoaGVscGVyLCB0cnVlKSwKICB9KTsKfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pbWdsb2NrZXJcLmNvbSQvLAogICAgcGF0aDogWwogICAgICAvXihcL1x3KylcLyguKylcLmh0bWwkLywKICAgICAgL14oXC9cdyspXC8oLispJC8sCiAgICBdLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gXy5UKCcvL2ltZy5pbWdsb2NrZXIuY29tezB9X3sxfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKG0ucGF0aFsxXSwgbS5wYXRoWzJdKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IFsKICAgICAgL15pbWdub3ZhXC54eXokLywKICAgICAgL153d3dcLmhlbnRhaS1ob3RcLnh5eiQvLAogICAgICAvXnd3d1wuaGVudGFpLWtpbmdcLm9ubGluZSQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9pXC8uK1wucGhwJC8sCiAgICBxdWVyeTogL2Y9KC4rKSQvLAogIH0sCiAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5JbWFnZSgnZi8nICsgbS5xdWVyeVsxXSk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBQQVRIX1JVTEUgPSAvXlwvKFswLTlhLXpBLVpdKykoXC58XC98JCkvOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcodW5pdmVyc2FsfHBheWluZ3xtZWdhfHpldXN8bW9ua2V5fHRyZXh8dmV8ZGV3fGRpYW1vbmQpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nc2VlXC5tZSQvLAogICAgICAgIC9eaW1nKGNsaWNrfG1haWQpXC5uZXQkLywKICAgICAgICAvXih1cGxvYWRycnxpbWFnZWVlcnxpbXpkcm9wfHd3d1wudWltZ3NoYXJlfHBpYy1tYW5pYWN8aHVsa2ltZ2UpXC5jb20kLywKICAgICAgICAvXmltZ2RyaXZlXC5jbyQvLAogICAgICAgIC9eY3V0ZWltZ1wuY2MkLywKICAgICAgICAvXmltZyh0aWdlcnxnb2xkKVwub3JnJC8sCiAgICAgICAgL15teWltZ1wuY2x1YiQvLAogICAgICAgIC9eZm94eWltZ1wubGluayQvLAogICAgICAgIC9eKGNvcmV8aXJvbilpbWdcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQxKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltZ3ZpZXdcLm5ldCQvLAogICAgICAgIC9eaW1nKG1hemV8b3V0bGV0KVwuY29tJC8sCiAgICAgIF0sCiAgICAgIHBhdGg6IFBBVEhfUlVMRSwKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGQgPSAkKCdkaXZbaWRePSJpbWFnZXZpZXdpIl0nKTsKICAgICAgd2FpdERPTShkLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnRk9STScgJiYgJC4kKCdpbnB1dFtuYW1lPSJpZCJdJywgbm9kZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICBub2RlLnN1Ym1pdCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF8ud2FybihlKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZyhyb2NrfHRvd24pXC5uZXQkLywKICAgICAgcGF0aDogUEFUSF9SVUxFLAogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBnZXRBbWJpZ3VvdXNGb3JtKCd0ZDpudGgtY2hpbGQoMikgPiBjZW50ZXIgPiBkaXZbaWRdJykudGhlbihmdW5jdGlvbiAobm9kZSkgewogICAgICAgIG5vZGUuc3VibWl0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgXy53YXJuKGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nb3V0bGV0XC5jbyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkLiQoJ2ltZy5waWMnKTsKICAgICAgaWYgKGkpIHsKICAgICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldEFtYmlndW91c0Zvcm0oJy5pbm5lciA+IGNlbnRlciA+IGRpdltpZF0nKS50aGVuKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgbm9kZS5zdWJtaXQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfLndhcm4oZSk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15jaHJvbm9zXC50byQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIGhlbHBlcihtLnBhdGhbMV0sIGdldE5leHQyKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1nZmlsZXNcLm9yZyQvLAogICAgICBwYXRoOiBQQVRIX1JVTEUsCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQoJ2Zvcm0nKTsKICAgICAgZi5zdWJtaXQoKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiAnaHR0cDovL2ltZ3ZpZXcubmV0L3RwaW5kLnBocCcsCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgaSA9ICQuJCgnaW1nLnBpYycpOwogICAgICBpZiAoaSkgewogICAgICAgICQub3BlbkltYWdlKGkuc3JjLCB7cmVwbGFjZTogdHJ1ZX0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZCA9ICQoJ2RpdltpZF49ImltYWdldmlld2kiXSBpbnB1dFt0eXBlPSJzdWJtaXQiXVtzdHlsZT0iIl0nKTsKICAgICAgICBkID0gZC5wYXJlbnROb2RlOwogICAgICAgIGQuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IC9eaHR0cDpcL1wvaW1nZHJhZ29uXC5jb21cLyhnZXRmaWxcLnBocHxkbCkkLywKICAgIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gJC4kKCdpbWcucGljJyk7CiAgICAgIGlmIChpKSB7CiAgICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZiA9ICQoJyNDb250aW51ZUZSTScpOwogICAgICAgIGYuc3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICB9KTsKICBmdW5jdGlvbiB3YWl0RE9NIChlbGVtZW50LCBmbikgewogICAgcmV0dXJuIF8uRChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlICE9PSAnY2hpbGRMaXN0JykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5DKG11dGF0aW9uLmFkZGVkTm9kZXMpLmZpbmQoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgIHJldHVybiBmbihjaGlsZCkgPyBjaGlsZCA6IF8ubm9uZTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQucGF5bG9hZCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsKICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgIH0pOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldEFtYmlndW91c0Zvcm0gKHNlbGVjdG9yKSB7CiAgICB2YXIgZCA9ICQoc2VsZWN0b3IpOwogICAgdmFyIHZpc2libGVDbGFzc2VzID0gbnVsbDsKICAgIHJldHVybiB3YWl0RE9NKGQsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnU1RZTEUnKSB7CiAgICAgICAgdmlzaWJsZUNsYXNzZXMgPSBwYXJzZVN0eWxlKG5vZGUpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0ZPUk0nICYmIG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHZpc2libGVDbGFzc2VzLnNvbWUoZnVuY3Rpb24gKGNsYXNzXykgewogICAgICAgICAgdmFyIGlzVmlzaWJsZSA9IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzXyk7CiAgICAgICAgICBpZiAoIWlzVmlzaWJsZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYnV0dG9uID0gJC4kKCdpbnB1dFt0eXBlPSJzdWJtaXQiXScsIG5vZGUpOwogICAgICAgICAgaWYgKCFidXR0b24pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHBhcnNlU3R5bGUgKHN0eWxlKSB7CiAgICBzdHlsZSA9IHN0eWxlLnRleHRDb250ZW50OwogICAgdmFyIHBhdHRlcm4gPSAvXC4oXHcrKVx7dmlzaWJpbGl0eTppbml0aWFsO1x9L2c7CiAgICB2YXIgcnYgPSBudWxsOwogICAgdmFyIGNsYXNzZXMgPSBbXTsKICAgIHdoaWxlICgocnYgPSBwYXR0ZXJuLmV4ZWMoc3R5bGUpKSAhPT0gbnVsbCkgewogICAgICBjbGFzc2VzLnB1c2gocnZbMV0pOwogICAgfQogICAgcmV0dXJuIGNsYXNzZXM7CiAgfQogIGZ1bmN0aW9uIGdvIChpZCwgcHJlLCBuZXh0KSB7CiAgICAkLm9wZW5MaW5rKCcnLCB7CiAgICAgIHBvc3Q6IHsKICAgICAgICBvcDogJ3ZpZXcnLAogICAgICAgIGlkOiBpZCwKICAgICAgICBwcmU6IHByZSwKICAgICAgICBuZXh0OiBuZXh0LAogICAgICAgIGFkYjogJzAnLAogICAgICB9LAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGdldE5leHQxIChpKSB7CiAgICByZXR1cm4gaS52YWx1ZTsKICB9CiAgZnVuY3Rpb24gZ2V0TmV4dDIgKGkpIHsKICAgIHZhciBuZXh0ID0gaS5vbmNsaWNrICYmIGkub25jbGljay50b1N0cmluZygpLm1hdGNoKC92YWx1ZT0nKFteJ10rKScvKTsKICAgIGlmIChuZXh0KSB7CiAgICAgIG5leHQgPSBuZXh0WzFdOwogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBpLnZhbHVlOwogICAgfQogIH0KICBmdW5jdGlvbiBoZWxwZXIgKGlkLCBnZXROZXh0KSB7CiAgICB2YXIgcmVjYXB0Y2hhID0gJC4kKCcjcmVjYXB0Y2hhX3dpZGdldCwgI2NhcHRjaGEnKTsKICAgIGlmIChyZWNhcHRjaGEpIHsKICAgICAgXy5pbmZvKCdzdG9wIGJlY2F1c2UgcmVjYXB0Y2hhJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJC4kKCdpbnB1dFtuYW1lPSJuZXh0Il0nKTsKICAgIGlmIChpKSB7CiAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dChpKTsKICAgICAgZ28oaWQsICQoJ2lucHV0W25hbWU9InByZSJdJykudmFsdWUsIG5leHQpOwogICAgICByZXR1cm47CiAgICB9CiAgICBpID0gJC4kKCdpbWcucGljJyk7CiAgICBpZiAoaSkgewogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8uaW5mbygnZG8gbm90aGluZycpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14oaW1nc3VyZXxwaWNleHBvc2VkKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcucGljJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6ICdodHRwOi8vaW1ndGhlaWYuY29tL2ltYWdlLyouaHRtbCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnZGl2LmNvbnRlbnQtY29udGFpbmVyIGEnKTsKICAgICQub3BlbkltYWdlKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndG9ycm50XC5pbiQvLAogICAgcGF0aDogL15cL3ZpZXdcLnBocCQvLAogICAgcXVlcnk6IC9eXD9pZD0uKi8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJ2NlbnRlciBkaXYgdGFibGUudGcgdGJvZHkgdHIgdGQgY2VudGVyIGltZycpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eaW1ndmF1bHRcLnB3JC8sCiAgICBwYXRoOiAvXlwvdmlldy1pbWFnZVwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJ2FydGljbGUgZGl2LnNwYW43IGFbdGFyZ2V0PSJfYmxhbmsiXScpOwogICAgJC5vcGVuSW1hZ2UoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9pcGljLnN1Lz9wYWdlPWltZyZwaWM9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI2Z6Jyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eamF2Y2l0eVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGEgPSAkKCcuZW50cnktY29udGVudCA+IGgxOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpJyk7CiAgICB2YXIgdXJsID0gYS5vbmNsaWNrLnRvU3RyaW5nKCk7CiAgICB1cmwgPSB1cmwubWF0Y2goL3dpbmRvd1wub3BlblwoJyhbXiddKyknXCkvKTsKICAgIGlmICghdXJsKSB7CiAgICAgIF8uaW5mbygncGF0dGVybiBjaGFuZ2VkJykKICAgICAgcmV0dXJuOwogICAgfQogICAgJC5vcGVuSW1hZ2UodXJsWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15rZXB0YXJvbG9cLmh1JC8sCiAgICBwYXRoOiAvXihcL1teXC9dK1wvW15cL10rXC5qcGcpJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkltYWdlKCdodHRwOi8vd3d3LmtlcHRhcm9sby5odS9rZXAnICsgbS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15sb3N0cGljXC5uZXQkLywKICAgIHF1ZXJ5OiAvXlw/cGhvdG89XGQrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcubm90aW5saW5lLmNpcmNsZScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBoZWxwZXIgKG0pIHsKICAgICQub3BlbkltYWdlKCcvaW1hZ2VzLycgKyBtLnF1ZXJ5WzFdKTsKICB9CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXihoZW50YWktaG9zdGluZ3xtaXJhZ2VwaWNzfGZ1bmV4dHJhXC5ob3N0eml8aW1ncmV4fGNkblwuamF2dG90YWx8aW1nM3gpXC5jb20kLywKICAgICAgICAvXmJpbGRlclwubml4aGVscFwuZGUkLywKICAgICAgICAvXmltYWdlY3VybFwuKGNvbXxvcmcpJC8sCiAgICAgICAgL15pbWFnZXZhdVwuZXUkLywKICAgICAgICAvXmltZ1wuZGVsaVwuc2gkLywKICAgICAgICAvXmltZyhkcmVhbXxzb298bm18c2lsbylcLm5ldCQvLAogICAgICAgIC9eaW1nc2ljaWx5XC5pdCQvLAogICAgICAgIC9ed3d3XC5pbWdoZXJlXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL14oZHdpbWd8aW1nc2luKVwuY29tJC8sCiAgICAgICAgL153d3dcLnBpY3R1cmVzaG9zdGVyXC5jb20kLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9maWxlcy8nICsgbS5xdWVyeVsxXSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiBbCiAgICAgICAgL15pbWcobmlwfGNlbnRyYWx8Y3JlYW0pXC5jb20kLywKICAgICAgICAvXmltYWdldmlld1wubWUkLywKICAgICAgICAvXjI0NHBpeFwuY29tJC8sCiAgICAgICAgL15wb3N0aW1nXC5uZXQkLywKICAgICAgXSwKICAgICAgcGF0aDogL15cL3ZpZXdlcnIuKlwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogaGVscGVyLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogWwogICAgICAnaHR0cDovL3d3dy5vdmVycGljLm5ldC92aWV3ZXIucGhwP2ZpbGU9KicsCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCcjbWFpbl9pbWcnKTsKICAgICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15kdW1wcGl4XC5jb20kLywKICAgICAgcGF0aDogL15cL3ZpZXdlclwucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJy9pbWFnZXMvJyArIG0ucXVlcnlbMV0sIHsKICAgICAgICByZWZlcmVyOiB0cnVlLAogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eeHh4aG9zdFwubWUkLywKICAgICAgcGF0aDogL15cL3ZpZXdlclxkK1wucGhwJC8sCiAgICAgIHF1ZXJ5OiAvZmlsZT0oW14mXSspLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICAgJC5vcGVuSW1hZ2UoJ2ZpbGVzLycgKyBtLnF1ZXJ5WzFdKTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tcmpoXC5vcmckLywKICAgIHBhdGg6IC9eXC9nYWxsZXJ5XC5waHAkLywKICAgIHF1ZXJ5OiAvXlw/ZW50cnk9KC4rKSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsID0gbS5xdWVyeVsxXTsKICAgICQub3BlbkltYWdlKCcvJyArIHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5ub2Vsc2hhY2tcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgdmFyIGkgPSAkKCcjZWx0X3RvX2FmZicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpYy1tb25leS5ydS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9IGRvY3VtZW50LmZvcm1zWzBdOwogICAgdmFyIHNpZyA9ICQoJ2lucHV0W25hbWU9InNpZyJdJywgZikudmFsdWU7CiAgICB2YXIgcGljX2lkID0gJCgnaW5wdXRbbmFtZT0icGljX2lkIl0nLCBmKS52YWx1ZTsKICAgIHZhciByZWZlcmVyID0gJCgnaW5wdXRbbmFtZT0icmVmZXJlciJdJywgZikudmFsdWU7CiAgICB2YXIgdXJsID0gXy5UKCcvcGljLmpwZWc/cGljX2lkPXtwaWNfaWR9JnNpZz17c2lnfSZyZWZlcmVyPXtyZWZlcmVyfScpOwogICAgJC5vcGVuSW1hZ2UodXJsKHsKICAgICAgc2lnOiBzaWcsCiAgICAgIHBpY19pZDogcGljX2lkLAogICAgICByZWZlcmVyOiByZWZlcmVyLAogICAgfSkpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5waWMtdXBsb2FkLmRlL3ZpZXctKi5odG1sJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnLmFkdmVydCcpOwogICAgdmFyIGkgPSAkKCdpbWcucHJldmlld19waWN0dXJlXzJiLCBpbWcub3JpZ2luYWxfcGljdHVyZV8yYicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpYygycHJvZml0fHAyKVwuY29tJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdmb3JtID4gI2QxIH4gaW5wdXRbbmFtZT1iaWdpbWddJyk7CiAgICAkLm9wZW5JbWFnZShpLnZhbHVlKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWMoNHw1KXlvdVwucnUkLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICBpZiAoJC4kKCcjZDEgPiBpbWcnKSAhPSBudWxsKSB7CiAgICB2YXIgVVJMcGFyYW1zID0gbG9jYXRpb24uaHJlZi5zcGxpdCgiLyIsIDUpOwogICAgdmFyIG5leHQgPSBVUkxwYXJhbXNbMF0gKyAnLycgKyBVUkxwYXJhbXNbMV0gKyAnLycgKyBVUkxwYXJhbXNbMl0gKyAnLycgKyBVUkxwYXJhbXNbM10gKyAnLycgKyBVUkxwYXJhbXNbNF0gKyAnLzEvJzsKICAgICQuc2V0Q29va2llKCdwNHljbGljaycsJzEnKTsKICAgICQub3BlbkxpbmsobmV4dCk7CiAgfSBlbHNlIHsKICAgIHZhciBpID0gJCgnI2QxIGltZycpLnNyYzsKICAgICQub3BlbkltYWdlKGkpOwogIH0KICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP3BpY2Nhc2hcLm5ldCQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogIHZhciBpID0gJCgnLmNvbnRhaW5lciA+IGltZycpOwogIHZhciBtID1pLm9uY2xpY2sudG9TdHJpbmcoKS5tYXRjaCgvbXNob3dcKCcoW14nXSspJ1wpOy8pOwogICQub3BlbkltYWdlKG1bMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiBbCiAgICAnaHR0cDovL2FtYXRldXJmcmVhay5vcmcvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vYW1hdGV1cmZyZWFrLm9yZy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL2ltYWdlcy5tYXhpZ2FtZS5ieS9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly9waWNmb3gub3JnLyonLAogICAgJ2h0dHA6Ly93d3cuZXVyby1waWMuZXUvc2hhcmUucGhwP2lkPSonLAogICAgJ2h0dHA6Ly93d3cuZ3JhdGlzaW1hZ2UuZGsvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8veHh4LmZyZWVpbWFnZS51cy9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL25waWN0dXJlLm5ldC9zaGFyZS0qLmh0bWwnLAogICAgJ2h0dHA6Ly93d3cub25saW5lcGljLm5ldC9zaGFyZS5waHA/aWQ9KicsCiAgICAnaHR0cDovL3d3dy5waXhzb3IuY29tL3NoYXJlLnBocD9pZD0qJywKICAgICdodHRwOi8vd3d3LnBpeHNvci5jb20vc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vcGl4c29yLmNvbS9YWFgvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaG9sZHRoZW1vYW4ubmV0L3gvc2hhcmUtKi5odG1sJywKICAgICdodHRwOi8vaW1ndXJ4Lm5ldC94L3NoYXJlLSouaHRtbCcsCiAgICAnaHR0cDovL3d3dy5pbWd6LnB3L3NoYXJlLSouaHRtbCcsCiAgXSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcjaWltZycpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3BpY21vZS5uZXQvZC5waHA/aWQ9KicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IFsKICAgICdodHRwOi8vcGljcy1tb25leS5ydS9hbGxwaWNmcmVlLyonLAogICAgJ2h0dHA6Ly93d3cucGljcy1tb25leS5ydS9hbGxpbWFnZS8qJywKICBdLAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waWNzLW1vbmV5XC5ydSQvLAogICAgcGF0aDogL15cL3ZcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZScpOwogICAgdmFyIGkgPSAkKCdjZW50ZXIgaW1nOm5vdChbaWRdKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGljcy1tb25leVwucnUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgIHZhciBpID0gJCgnI2QxIGltZycpOwogICAgaSA9IGkub25jbGljay50b1N0cmluZygpOwogICAgaSA9IGkubWF0Y2goL21zaG93XCgnKC4rKSdcKS8pOwogICAgaSA9IGlbMV07CiAgICAkLm9wZW5JbWFnZShpKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogJ2h0dHA6Ly9waWNzaGFyZS5nZWVuemEuY29tL3BpY3MvKicsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3BpY1NoYXJlX2ltYWdlX2NvbnRhaW5lcicpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnBpY3N0cmVhbVwudHYkLywKICAgIHBhdGg6IC9eXC8uKlwvLipcLmh0bWwkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaW1nID0gJCgnI3ZpZXcxID4gZGl2Om50aC1jaGlsZCgxKSA+IGltZzpudGgtY2hpbGQoMSknKTsKICAgICQub3BlbkltYWdlKGltZy5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGltcGFuZGhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL2ltYWdlXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI2ltYWdlX29yaWdpbmFsJyk7CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGVsLmlubmVySFRNTCA9IGEudmFsdWU7CiAgICB2YXIgaW1nID0gJCgnaW1nJywgZWwpOwogICAgJC5vcGVuSW1hZ2UoaW1nLnNyYyk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ecGl4aHViXC5ldSQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQucmVtb3ZlTm9kZXMoJ2lmcmFtZSwgLmFkdWx0cGFnZSwgI0ZGTl9CYW5uZXJfSG9sZGVyJyk7CiAgICB2YXIgaSA9ICQoJy5pbWFnZS1zaG93IGltZycpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/cGl4cm91dGVcLmNvbSQvCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG8gPSAkKCcuZnI0bWUgPiBkaXY6bnRoLWNoaWxkKDIwKSA+IGE6bnRoLWNoaWxkKDEpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2Uoby5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucGl4c2Vuc2VcLm5ldCQvLAogICAgcGF0aDogL15cL3NpdGVcL3ZcL1xkKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI215VW5pcXVlSW1nJykucGFyZW50Tm9kZTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15waXh4eGVsc1wub3JnJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQuJCgnI21haW4taW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGltZy5kYXRhc2V0LmZ1bGwpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wucG9ybmltYWdleFwuY29tJC8sCiAgICBwYXRoOiAvXlwvaW1hZ2VcLy4qJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGltZyA9ICQoJyNmaXhlZCBpbWcuYm9yZGVyMnB4Jyk7CiAgICAkLm9wZW5JbWFnZShpbWcuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm50c2NyXC5jb20kLwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnI3NjcmVlbnNob3QtaW1hZ2UnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15wcm9ucGljXC5vcmckLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgdXJsQmFzZUltZyA9ICQoJ3RhYmxlLm5ld190YWJsZTI6bnRoLWNoaWxkKDEpIGltZy5saW5rJyk7CiAgICB2YXIgYmFzZVVybCA9IHVybEJhc2VJbWcuc3JjLnNwbGl0KCd0aF8nKVswXTsKICAgIHZhciBpbWcgPSAkKCd0YWJsZS5uZXdfdGFibGUyOm50aC1jaGlsZCgyKSBpbWcubGluaycpOwogICAgdmFyIHVybCA9IGJhc2VVcmwgKyBpbWcuc3JjLnNwbGl0KCd0aF8nKVsxXTsKICAgICQub3BlbkltYWdlKHVybCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHFycnJvfGdyZWVucGljY3MpXC5jb20kLywKICAgIHBhdGg6IC9eKFwvaW1hZ2VzXC8uKylcLmh0bWwkLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAobSkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5vcGVuSW1hZ2UobS5wYXRoWzFdKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15yYWRpa2FsXC5ydSQvLAogICAgcGF0aDogL15cL2JpZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQuJCgnLmJhc2UtcGFnZV9jZW50ZXIgPiBkaXY6bnRoLWNoaWxkKDIpID4gaW1nOm50aC1jaGlsZCgxKScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKICBmdW5jdGlvbiBhY3Rpb24gKGZpcnN0U2VsZWN0b3IsIHNlY29uZFNlbGVjdG9yKSB7CiAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUsICNhZGJsb2NrX2RldGVjdCwgLnBvcHVwT3ZlcmxheScpOwogICAgdmFyIG5vZGUgPSAkLiQoZmlyc3RTZWxlY3Rvcik7CiAgICBpZiAobm9kZSkgewogICAgICBfLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsKICAgICAgICByZXR1cm4gXy53YWl0KDUwMCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIG5vZGUuZm9jdXMoKTsKICAgICAgICBub2RlLmNsaWNrKCk7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciBpID0gJChzZWNvbmRTZWxlY3Rvcik7CiAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgfQogIHZhciBkZWZhdWx0QWN0aW9uID0gXy5QKGFjdGlvbiwgJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0JywgJ2ltZ1tjbGFzc149Y2VudHJlZF0nKTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IFsKICAgICAgewogICAgICAgIGhvc3Q6IFsKICAgICAgICAgIC9eaW1hZ2Uob250aW1lfGNvcm58cGljc2F8aG9yc2V8ZGVjb2RlKVwuY29tJC8sCiAgICAgICAgICAvXih6b25lemVlZHx6ZWxqZXxjcm9mdHxteWhvdHxib2t8aG9zdHVyfGdyZWFzeXxkYW0paW1hZ2VcLmNvbSQvLAogICAgICAgICAgL15pbWcoaWN5fG5leHR8c2F2dnl8XC5zcGljeXppbGxhfHR3eXRpfHh5enxkZXZpbHx0emFyfGJhbnxwdXxiZWVyfHdldHx0b3JuYWRvfGtpY2tzfG5pbXp8YmluYm91fDJzaGFyZXwyMnxjb3ZlcnxoaXR8bWFpbnx0cmlhbHxibGFua3xyZXB1dGF8ZmFwcGVyfHJlYWxpdHkpXC5jb20kLywKICAgICAgICAgIC9eKGlcLik/aW1nc2VlZHM/XC5jb20kLywKICAgICAgICAgIC9eaW1nLSh6b25lfHBsYW5ldHxwYXl8dXBsb2FkcylcLmNvbSQvLAogICAgICAgICAgL153d3dcLmltZyhibG93fGxlbW9ufDRzaGFyaW5nKVwuY29tJC8sCiAgICAgICAgICAvXnd3d1wuaW1hZ2Vmb2xrc1wuY29tJC8sCiAgICAgICAgICAvXnd3d1wuZnJlZXBob3RvaG9zdGluXC5jb20kLywKICAgICAgICAgIC9eKHd3d1wuKT9pbWd1bHRcLmNvbSQvLAogICAgICAgICAgL154eHgoaW1hZ2Vub3d8c2NyZWVucylcLmNvbSQvLAogICAgICAgICAgL154eHhzcGFycm93P1wuY29tJC8sCiAgICAgICAgICAvXihwbGF5aW1nfHBpY3N0d2lzdHxlcmljc29ueXx3cGM4fHVwbGltZ3xsZXhpaXR8dGh1bWJuYWlsdXN8bmV3aW1hZ2Vwb3N0fGZhcGluZ3BpY3N8ZGltdHVzfHRpbml6bylcLmNvbSQvLAogICAgICAgICAgL14oKGl8aGVudGFpKVwuKT9pbWdzbGlwXC5jb20kLywKICAgICAgICAgIC9eKGl8eHh4KVwuaGVudGFpeW91dHViZVwuY29tJC8sCiAgICAgICAgICAvXihnb3xlcilpbWdlXC5jb20kLywKICAgICAgICAgIC9eKGxpa2VcLik/MDhsa2tcLmNvbSQvLAogICAgICAgICAgL15uaW0ocGx1c3x6c2hhcmUpXC5jb20kLywKICAgICAgICAgIC9ebnVkZXhpbWdcLmNvbSQvLAogICAgICAgICAgL15pbWcoc2VydmV8Y29pbnxmYXB8Y2FuZHl8bWFzdGVyfC12aWV3fHJ1bnxib29tfHByb2plY3R8cHl0aG9ufHBpY3N8cGl4KVwubmV0JC8sCiAgICAgICAgICAvXihpbWFnZXNvdWxzfG5hdWdodHlnYXRlfGdhbGxlcnljbG91ZHxpbWFnZWxhc2VyfHBpY3R1cmUtYmFuZ3xwcm9qZWN0LXBob3RvfHBpeC1saW5rfGZ1bmltZ3xnb2xmcGl0fHh4aW1nKVwubmV0JC8sCiAgICAgICAgICAvXihzaG90fGFkdWx0KWltZ1wub3JnJC8sCiAgICAgICAgICAvXmltYWdlKFwuYWRsb2NrfG9ufHRlYW0pXC5vcmckLywKICAgICAgICAgIC9eKHZveWV1cnxkcmFnfHRlZW58bWVnYSlpbWFnZVwub3JnJC8sCiAgICAgICAgICAvXnRlZW5zaG90XC5vcmckLywKICAgICAgICAgIC9eaW1nKHN0dWRpb3xzcG90KVwub3JnJC8sCiAgICAgICAgICAvXnd3d1wuaG90aW1hZ2VcLnVrJC8sCiAgICAgICAgICAvXihob3RpbWFnZXN8NTU4ODgpXC5ldSQvLAogICAgICAgICAgL15pbWcoY2xvdWR8bWFnKVwuY28kLywKICAgICAgICAgIC9ecGl4dXBcLnVzJC8sCiAgICAgICAgICAvXihidWxraW1nfHBob3RvLXVwfG15aW1nfHBvcC1pbWd8aW1nLXBvcHxhZHMtaW1nKVwuaW5mbyQvLAogICAgICAgICAgL152YXZhXC5pbiQvLAogICAgICAgICAgL14ocGl4eHh8cGljc3Bvcm5mcmVlfGltZ2xvYWR8ZmFwYXQpXC5tZSQvLAogICAgICAgICAgL14oZG9tYWlua3xwaWMycGljfHBvcm5vLXBpcmF0fDI0YXZhcmlpfGxvZnRsbXwxOHByb258aW1ncGx1cylcLnJ1JC8sCiAgICAgICAgICAvXmltZ2Vhc2VcLnJlJC8sCiAgICAgICAgICAvXmdvaW1nXC54eXokLywKICAgICAgICAgIC9eKHBpYzJwaWN8cGljeilcLnNpdGUkLywKICAgICAgICAgIC9eZGFycGl4XC5nYSQvLAogICAgICAgICAgL15zeHBpY3NcLm5sJC8sCiAgICAgICAgICAvXmRhcnBpeFwuZGVzaSQvLAogICAgICAgICAgL15waWM0eW91XC50b3AkLywKICAgICAgICAgIC9eaW1nc2VuXC5zZSQvLAogICAgICAgICAgL15pcGljdHVyZVwuc3UkLywKICAgICAgICAgIC9eYWNpZGltZ1wuY2MkLywKICAgICAgICBdLAogICAgICAgIHBhdGg6IC9eXC9pbWctLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcocnVufHR3eXRpKVwubmV0JC8sCiAgICAgICAgICAvXmltZ3R3eXRpXC5jb20kLywKICAgICAgICAgIC9eaGVudGFpLShwb3B8YmFrYSlcLmNvbSQvLAogICAgICAgICAgL15zdGFyLWhlbnRhaVwuY29tJC8sCiAgICAgICAgICAvXihqYXZ8aW1nKS1oZW50YWlcLmhvc3QkLywKICAgICAgICAgIC9eaGVudGFpLWtpbmdcLmhvc3QkLywKICAgICAgICAgIC9eaW1nLWtpbmdcLnh5eiQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL1t0aV1cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZzQ/LS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1nYmJcLm5ldCQvLAogICAgICAgIHBhdGg6IC9eXC8uLS4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmNkblwuamF2dG90YWxcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4rJC8sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ3RvclwucHckLywKICAgICAgICBwYXRoOiAvXlwvaW1nMlwvLiskLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1hXC5neSQvLAogICAgICAgIHBhdGg6IC9eXC9pXC8uKyQvLAogICAgICB9LAogICAgXSwKICAgIHJlYWR5OiBkZWZhdWx0QWN0aW9uLAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICAgIGhvc3Q6IC9eaW1ndG9yXC5wdyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdcLy4qJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBpbWFnZVVybCA9ICdodHRwOi8vJyArIG0uaG9zdFswXSArIG0ucGF0aFswXS5yZXBsYWNlKCJpbWciLCJpbWcyIik7CiAgICAgICQub3BlbkxpbmsoaW1hZ2VVcmwpOwogICAgfSwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL15pbWdyYXRcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICByZWFkeTogXy5QKGFjdGlvbiwgJyNjbG9zZScsICcjbWFpbl9pbWFnZSBpbWcuY2VudGVyLWJsb2NrLmltZy1yZXNwb25zaXZlJyksCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IFsKICAgICAgICAvXmltYWdlcG9yblwuZXUkLywKICAgICAgICAvXmltZ3ppemlcLnh5eiQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sLywKICAgIH0sCiAgICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgICAkLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gbnVsbDsKICAgIH0sCiAgICByZWFkeTogZGVmYXVsdEFjdGlvbiwKICB9KTsKICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogWwogICAgICAgIC9eKHd3d1wuKT9pbWcoYWR1bHR8d2FsbGV0fHRheGkpXC5jb20kLywKICAgICAgICAvXih3d3dcLik/aW1nZHJpdmVcLm5ldCQvLAogICAgICBdLAogICAgICBwYXRoOiAvXlwvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGMgPSAkLmdldENvb2tpZSgnaWJwdWMnKTsKICAgICAgaWYgKGMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5wb3N0KHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCksIHsKICAgICAgICBjdGk6IDEsCiAgICAgICAgcmVmOiAnJywKICAgICAgICByYzogMSwKICAgICAgICBycDogMSwKICAgICAgICBidDogMCwKICAgICAgICBidzogJ2VkZ2UnLAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgICAkLnJlbW92ZU5vZGVzKCdpZnJhbWUnKTsKICAgICAgdmFyIG5vZGUgPSAkLiQoJyNjb250aW51ZXRvaW1hZ2UgPiBmb3JtIGlucHV0Jyk7CiAgICAgIGlmIChub2RlKSB7CiAgICAgICAgbm9kZS5jbGljaygpOwogICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgJC5yZXNldENvb2tpZXMoKTsKICAgICAgdmFyIGkgPSAkKCdpbWdbY2xhc3NePWNlbnRyZWRdJyk7CiAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgIH0sCiAgfSk7CiAgZnVuY3Rpb24gaGVscGVyICgpIHsKICAgICQud2luZG93LnNldFRpbWVvdXQgPSBfLm5vcDsKICAgIHJldHVybiAkLmdldCh3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gJC50b0RPTShkYXRhKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14wOGxra1wuY29tJC8sCiAgICAgIHBhdGg6IC9eXC9QaG90b1wvaW1nLS4rXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBpID0gJCgnaW1nW2NsYXNzXj1jZW50cmVkXScsIHBhZ2UpOwogICAgICAgICQub3BlbkltYWdlKGkuc3JjKTsKICAgICAgfSk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXjA4bGtrXC5jb20kLywKICAgICAgcGF0aDogL15cL1xkK1wvaW1nLS4qXC5odG1sJC8sCiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaGVscGVyKCkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciBiYmNvZGUgPSAkLiQoJyNpbWFnZWNvZGVzIGlucHV0JywgcGFnZSk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlLnZhbHVlLm1hdGNoKC8uK1xbSU1HXF0oW15cW10rKVxbXC9JTUdcXS4rLyk7CiAgICAgICAgYmJjb2RlID0gYmJjb2RlWzFdOwogICAgICAgIGJiY29kZSA9IGJiY29kZS5yZXBsYWNlKCdzbWFsbCcsICdiaWcnKTsKICAgICAgICAkLm9wZW5JbWFnZShiYmNvZGUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltZ2tpbmdcLmNvJC8sCiAgICAgICAgcGF0aDogL15cL2ltZ3MtLipcLmh0bWwvLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogWwogICAgICAgICAgL15pbWcoa2luZ3N8cHJpbWUpXC5jb20kLywKICAgICAgICAgIC9eaW1hZ2VyYXJcLmNvbSQvLAogICAgICAgIF0sCiAgICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVybCA9ICQud2luZG93LmxpbmtpZDsKICAgICAgJC5vcGVuSW1hZ2UodXJsKTsKICAgIH0sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiB7CiAgICAgIGhvc3Q6IC9eaW1na2luZ3NcLmNvbSQvLAogICAgICBwYXRoOiAvXlwvaW1nMi0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IGRlZmF1bHRBY3Rpb24sCiAgfSk7CiAgJC5yZWdpc3Rlcih7CiAgICBydWxlOiBbCiAgICAgIHsKICAgICAgICBob3N0OiAvXmltYWdlcmFyXC5jb20kLywKICAgICAgICBwYXRoOiAvXlwvaW1nMi0vLAogICAgICB9LAogICAgICB7CiAgICAgICAgaG9zdDogL15pbWdraW5nXC5jbyQvLAogICAgICAgIHBhdGg6IC9eXC9pbWdbdjNdLS4qXC5odG1sLywKICAgICAgfSwKICAgICAgewogICAgICAgIGhvc3Q6IC9eaW1ncHJpbWVcLmNvbSQvLAogICAgICAgIHBhdGg6IC9eXC9pbWczLS4qXC5odG1sJC8sCiAgICAgIH0sCiAgICBdLAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSAkKCdpbWdbYWx0XScpOwogICAgICAkLm9wZW5JbWFnZShpLnNyYyk7CiAgICB9LAogIH0pOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXmltZ1wueXQkLywKICAgICAgcGF0aDogL15cL2ltZy0uKlwuaHRtbC8sCiAgICB9LAogICAgcmVhZHk6IF8uUChhY3Rpb24sICcjY29udGludWVidXR0b24sICNjb250aW51ZXRvaW1hZ2UgaW5wdXRbdHlwZT0ic3VibWl0Il0nLCAnaW1nW2NsYXNzXj1jZW50cmVkXScpLAogIH0pOwp9KSgpOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3d3dy5zdWJpcmltYWdlbmVzLmNvbS8qLmh0bWwnLAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgaSA9ICQoJyNJbWFnZW5WaXN1YWxpemFkYScpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3RpbnlwaWMuY29tL3ZpZXcucGhwP3BpYz0qJywKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1nRWxlbWVudCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wudHVyYm9pbWFnZWhvc3RcLmNvbSQvLAogICAgcGF0aDogL15cL3BcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCcjaW1hZ2VpZCcpOwogICAgJC5vcGVuSW1hZ2UoaS5zcmMpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiAnaHR0cDovL3Z2Y2FwLm5ldC9kYi8qLmh0cCcsCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBpID0gJCgnaW1nJyk7CiAgICAkLm9wZW5JbWFnZShpLnNyYywgewogICAgICByZXBsYWNlOiB0cnVlLAogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eeFwucGl4ZmFybVwubmV0JC8sCiAgICBwYXRoOiAvXlwvc2V4eVwvXGQrXC9cZCtcLy4rXC5odG1sJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGkgPSAkKCdpbWcnKTsKICAgICQub3BlbkltYWdlKGkuc3JjKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15ha29hbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZG93bmxvYWRcLy8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxvY2F0aW9uX2xpbmsgPSBsb2NhdGlvbi5oYXNoOwogICAgJC5wb3N0KGxvY2F0aW9uX2xpbmspLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgIGlmICghZGF0YS5oYXNoX2RhdGEpIHsKICAgICAgICBfLndhcm4oJ3J1bGUgY2hhbmdlZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLm9wZW5MaW5rKGRhdGEuZGlyZWN0X2xpbmspOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5hbmFmaWxlXC5jb20kLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYiA9ICQuJCgnI2J0bl9kb3dubG9hZCcpOwogICAgaWYgKGIpIHsKICAgICAgYi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAkLnJlbW92ZU5vZGVzKCdkaXZbYWxpZ249Y2VudGVyXScpOwogICAgICByZXR1cm47CiAgICB9CiAgICBiID0gJCgnI3BsYW5zX2ZyZWUgZm9ybSBbdHlwZT1zdWJtaXRdJyk7CiAgICBiLmNsaWNrKCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9hcmFiXC5zaCQvLAogICAgcGF0aDogL15cL1x3KyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBmID0gJCgnZm9ybVtuYW1lPUYxXScpOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgMjAwMDApOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/Y29vbHJvbVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZGxwb3BcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtYXRjaGVzID0gJC5zZWFyY2hTY3JpcHRzKC88Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iKFteIl0rKSI+Lyk7CiAgICAkLm9wZW5MaW5rKG1hdGNoZXNbMV0pOwogIH0sCn0pOwooZnVuY3Rpb24oKSB7CiAgJ3VzZSBzdHJpY3QnOwogICQucmVnaXN0ZXIoewogICAgcnVsZTogewogICAgICBob3N0OiAvXih3d3dcLik/ZGwtcHJvdGVjdFwuY29tJC8sCiAgICAgIHBhdGg6IC9cL1tBLVowLTldKy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQuJCgnI2NhcHRjaGEnKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZiA9ICQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJyk7CiAgICAgIGlmIChmKSB7CiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgdmFyIGlJbiA9ICQoJ2lucHV0W2lkPWluXScpOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKG11dGF0aW9uc1tpXS50YXJnZXQudmFsdWUgJiYgbXV0YXRpb25zW2ldLmF0dHJpYnV0ZU5hbWUgPT09ICd2YWx1ZScpIHsKICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgaUluLnZhbHVlID0gIlRyYWNraW5nIHRvbyBtdWNoIGh1cnRzIHVzZXJzJyBwcml2YWN5IjsKICAgICAgICAgICAgICBpZiAoIWNhbkZhc3RSZWRpcmVjdCgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBmLnN1Ym1pdCgpOwogICAgICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgaUluID0gJCgnaW5wdXRbaWQ9aW5dJyk7CiAgICAgICAgaWYgKGlJbi52YWx1ZSkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZi5zdWJtaXQoKTsKICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoaUluLCB7CiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBsID0gJC4kJCgnI3NsaW5rcyA+IGEnKTsKICAgICAgaWYgKGwuc2l6ZSgpID09PSAxKSB7CiAgICAgICAgJC5vcGVuTGluayhsLmF0KDApLmhyZWYpOwogICAgICB9CiAgICB9LAogIH0pOwogIGZ1bmN0aW9uIGNhbkZhc3RSZWRpcmVjdCAoKSB7CiAgICByZXR1cm4gISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdJykub25zdWJtaXQgJiYgISQuJCgnZm9ybVtuYW1lPWNjZXJ1cmVdIGlucHV0W25hbWU9cHdkXScpOwogIH0KfSkoKTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP2VtYmVkdXBsb2FkXC5jb20kLywKICAgIHBhdGg6IC9eXC8kLywKICAgIHF1ZXJ5OiAvXlw/XHd7Mn09XHcrJC8KICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZG93bmxvYWRQYWdlID0gJCgnLmNhdGVnb3JpZXMgYVt0YXJnZXQ9X2JsYW5rXScpOwogICAgJC5vcGVuTGluayhkb3dubG9hZFBhZ2UpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXnd3d1wuZmlsZXByb2plY3RcLmNvbVwuYnIkLywKICAgIHBhdGg6IC9eXC9maWxlc1wvKy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIG0gPSAkLnNlYXJjaFNjcmlwdHMoLzxhIGlkPSJkb3duIiBocmVmPSIoW14iXSspIj4vKTsKICAgICQub3BlbkxpbmsobVsxXSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT8oZmlyZWRyaXZlfHB1dGxvY2tlcilcLmNvbSQvLAogICAgcGF0aDogL15cL2ZpbGVcL1swLTlBLUZdKyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBjID0gJCgnI2NvbmZpcm1fZm9ybScpOwogICAgYy5zdWJtaXQoKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL15pb3JpXC51cyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJCgnI3dyYXBwZXIgLnRvbWJvbCBhJyk7CiAgICAkLm9wZW5MaW5rKGEuaHJlZik7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9qaGViZXJnXC5uZXQkLywKICAgIHBhdGg6IC9eXC9jYXB0Y2hhXC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoJy5kbC1idXR0b24nKS5jbGljaygpOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXih3d3dcLik/amhlYmVyZ1wubmV0JC8sCiAgICBwYXRoOiAvXlwvcmVkaXJlY3RcLy8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVBbGxUaW1lcigpOwogICAgdmFyIG1hdGNoZXMgPSAkLnNlYXJjaFNjcmlwdHMoLydzbHVnJzpccyonKFteJ10rKScsXHMqJ2hvc3Rlcic6XHMqJyhbXiddKyknLyk7CiAgICB2YXIgc2x1ZyA9IG1hdGNoZXNbMV07CiAgICB2YXIgaG9zdGVyID0gbWF0Y2hlc1syXTsKICAgICQucG9zdCgnL2dldC9saW5rLycsIHsKICAgICAgJ3NsdWcnOiBzbHVnLAogICAgICAnaG9zdGVyJzogaG9zdGVyCiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIHZhciByZXNwSlNPTiA9IF8ucGFyc2VKU09OKHJlc3BvbnNlKTsKICAgICAgJC5vcGVuTGluayhyZXNwSlNPTi51cmwpOwogICAgfSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9sYXJhc2hhcmVcLmNvbSQvLAogICAgcGF0aDogL15cL2RvXC5waHAkLywKICAgIHF1ZXJ5OiAvaWQ9XGQrLywKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICAkLm9wZW5MaW5rKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgnaWQ9JywnZG93bj0nKSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9tYXhtaXJyb3JcLmNvbSQvLAogICAgcGF0aDogL15cL3JlZGlyZWN0XC8vLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBsID0gJCgnI2Rvd25sb2FkX3VybCA+IGEnKTsKICAgICQub3BlbkxpbmsobC5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogL14od3d3XC4pP21pcnJvcmNyZWF0b3JcLmNvbSQvLAogICAgcGF0aDogL15cL3Nob3d1cmxcLnBocCQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBhID0gJC4kKCcjcmVkaXJlY3RsaW5rIGEnKTsKICAgIGlmIChhKSB7CiAgICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgYSA9ICQoJyNyZWRpcmVjdGxpbmsgPiBkaXYucmVkaXJlY3R1cmwnKTsKICAgIGEgPSBhLmlubmVySFRNTDsKICAgIGlmICghYS5tYXRjaCgvXmh0dHAvKSkgewogICAgICB0aHJvdyBuZXcgXy5BZHNCeXBhc3NlckVycm9yKCdub3QgYSB2YWxpZCBVUkwnKTsKICAgIH0KICAgICQub3BlbkxpbmsoYSk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ed3d3XC5tdWx0aXVwZmlsZVwuY29tJC8sCiAgICBwYXRoOiAvXlwvZlwvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyN5dzAnKTsKICAgIGYuc3VibWl0KCk7CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9ebXlsaW5rZ2VuXC5jb20kLywKICAgIHBhdGg6IC9eXC9wXC8oLispJC8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQub3BlbkxpbmsoJy9nLycgKyBtLnBhdGhbMV0pOwogIH0sCn0pOwokLnJlZ2lzdGVyKHsKICBydWxlOiB7CiAgICBob3N0OiAvXm15bGlua2dlblwuY29tJC8sCiAgICBwYXRoOiAvXlwvZ1wvLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgYSA9ICQoJyNtYWluLWNvbnRlbnQgYS5idG4uYnRuLWRlZmF1bHQnKTsKICAgICQub3BlbkxpbmsoYS5ocmVmKTsKICB9LAp9KTsKJC5yZWdpc3Rlcih7CiAgcnVsZTogewogICAgaG9zdDogWwogICAgICAvXm9wZW5sb2FkXC5jbyQvLAogICAgICAvXm9sb2FkXC50diQvLAogICAgXSwKICAgIHBhdGg6IC9eXC9mXC8uKi8sCiAgfSwKICBzdGFydDogZnVuY3Rpb24gKG0pIHsKICAgICQud2luZG93LmFkYmxvY2sgPSBmYWxzZTsKICAgICQud2luZG93LmFkYmxvY2syID0gZmFsc2U7CiAgICAkLndpbmRvdy5wb3BBZHNMb2FkZWQgPSB0cnVlOwogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgdGltZXIgPSAkKCcjZG93bmxvYWRUaW1lcicpOwogICAgICB0aW1lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB2YXIgZGxDdG4gPSAkKCcjcmVhbGRsJyk7CiAgICAgIGRsQ3RuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgdmFyIGRsQnRuID0gJCgnYScsIGRsQ3RuKTsKICAgICAgdmFyIGVQYXRoID0gJCgnI3N0cmVhbXVybCcpOwogICAgICBkbEJ0bi5ocmVmID0gIi9zdHJlYW0vIiArIGVQYXRoLnRleHRDb250ZW50OwogICAgICB2YXIgdmlkZW9DdG4gPSAkLiQoJy52aWRlb2NvbnRhaW5lcicpOwogICAgICBpZiAodmlkZW9DdG4pIHsKICAgICAgICB2YXIgb3ZlcmxheSA9ICQoJyN2aWRlb292ZXJsYXknLCB2aWRlb0N0bik7CiAgICAgICAgb3ZlcmxheS5jbGljaygpOwogICAgICAgIGRsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7CiAgICAgICAgICBpZnJhbWUuc3JjID0gZGxCdG4uaHJlZjsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgICAgICB9KTsKICAgICAgICBfLmluZm8oXy5UKCd7MH0gLT4gezF9Jykod2luZG93LmxvY2F0aW9uLCBkbEJ0bi5ocmVmKSk7CiAgICAgICAgZGxCdG4uY2xpY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkLm9wZW5MaW5rKGRsQnRuLmhyZWYpOwogICAgICB9CiAgICB9LCA1MDApOwogIH0KfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT91cG1pcnJvclwuaW5mbyQvLAogIH0sCiAgcmVhZHk6IGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQuc2V0Q29va2llKCd1c2VyJywgJ3BwcCcpOwogICAgaWYgKCQuJCgnI2NvdW50RG93blRleHQnKSkgewogICAgICAgICQub3BlbkxpbmsoZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKSk7CiAgICB9CiAgfSwKfSk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT92aWR0b1wubWUkLywKICB9LAogIHJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZiA9ICQoJyNidG5fZG93bmxvYWQnKS5mb3JtOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBmLnN1Ym1pdCgpOwogICAgfSwgNjAwMCk7CiAgfSwKfSk7CihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwogIHZhciBzVXJsID0gJyhcXGIoaHR0cHM/fGZ0cHxmaWxlKTpcL1wvWy1BLVowLTkrJkAjXC8lPz1+X3whOiwuO10qWy1BLVowLTkrJkAjXC8lPX5ffF0pJzsKICBmdW5jdGlvbiBpc0xpbmsgKHRleHQpIHsKICAgIHZhciByVXJsID0gbmV3IFJlZ0V4cChfLlQoJ157MH0kJykoc1VybCksICdpJyk7CiAgICByZXR1cm4gclVybC50ZXN0KHRleHQpOwogIH0KICBmdW5jdGlvbiBsaW5raWZ5ICh0ZXh0KSB7CiAgICB2YXIgclVybCA9IG5ldyBSZWdFeHAoc1VybCwgJ2lnJyk7CiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKHJVcmwsIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIHJldHVybiBfLlQoIjxhIGhyZWY9J3swfSc+ezB9PC9hPiIpKG1hdGNoKTsKICAgIH0pOwogIH0KICAkLnJlZ2lzdGVyKHsKICAgIHJ1bGU6IHsKICAgICAgaG9zdDogL14od3d3XC4pPyhbYS16QS1aMC05XStcLik/YmluYm94XC5pbyQvLAogICAgICBwYXRoOiAvXC8oW2EtekEtWjAtOV0rKS8sCiAgICAgIGhhc2g6IC8oPzojKFthLXpBLVowLTldKykpPy8sCiAgICB9LAogICAgcmVhZHk6IGZ1bmN0aW9uIChtKSB7CiAgICAgIHZhciBzamNsID0gJC53aW5kb3cuc2pjbDsKICAgICAgdmFyIHBhc3RlX2lkID0gbS5wYXRoWzFdOwogICAgICB2YXIgcGFzdGVfc2FsdCA9IG0uaGFzaFsxXTsKICAgICAgdmFyIEFQSV9VUkwgPSBfLlQoJ2h0dHBzOi8vYmluYm94LmlvL3swfS5qc29uJykocGFzdGVfaWQpOwogICAgICAkLmdldChBUElfVVJMLCBmYWxzZSwgewogICAgICAgIE9yaWdpbjogXy5ub25lLAogICAgICAgIFJlZmVyZXI6IF8ubm9uZSwKICAgICAgICBDb29raWU6ICdyZWZlcnJlcj0xJywKICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6IF8ubm9uZSwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocGFzdGVJbmZvKSB7CiAgICAgICAgcGFzdGVJbmZvID0gXy5wYXJzZUpTT04ocGFzdGVJbmZvKTsKICAgICAgICBpZiAoIXBhc3RlSW5mby5vaykgewogICAgICAgICAgdGhyb3cgbmV3IF8uQWRzQnlwYXNzZXJFcnJvcigiZXJyb3Igd2hlbiBnZXR0aW5nIHBhc3RlIGluZm9ybWF0aW9uIik7CiAgICAgICAgfQogICAgICAgIGlmIChwYXN0ZUluZm8ucGFzdGUudXJsKSB7CiAgICAgICAgICAkLm9wZW5MaW5rKHBhc3RlSW5mby5wYXN0ZS51cmwpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgcmF3X3Bhc3RlID0gc2pjbC5kZWNyeXB0KHBhc3RlX3NhbHQsIHBhc3RlSW5mby5wYXN0ZS50ZXh0KTsKICAgICAgICBpZiAoaXNMaW5rKHJhd19wYXN0ZSkpIHsKICAgICAgICAgICQub3BlbkxpbmsocmF3X3Bhc3RlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpOwogICAgICAgIGVsbS5pZCA9ICdwYXN0ZS10ZXh0JzsKICAgICAgICBlbG0uaW5uZXJIVE1MID0gbGlua2lmeShyYXdfcGFzdGUpOwogICAgICAgIHZhciBmcmFtZSA9ICQoJyNwYXN0ZS1mcmFtZSwgI2NhcHRjaGEtcGFnZScpOwogICAgICAgIGZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsbSwgZnJhbWUpOwogICAgICB9KTsKICAgIH0sCiAgfSk7Cn0pKCk7CiQucmVnaXN0ZXIoewogIHJ1bGU6IHsKICAgIGhvc3Q6IC9eKHd3d1wuKT9wYXN0ZWRcLmNvJC8sCiAgICBwYXRoOiAvXlwvXHcrJC8sCiAgfSwKICByZWFkeTogZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgJC5yZW1vdmVOb2RlcygnI2NhcHRjaGFfb3ZlcmxheScpOwogIH0sCn0pOwooZnVuY3Rpb24gKGNvbnRleHQsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGV4dCwgR00pIHsKICAgICAgdmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKICAgICAgdmFyIGNvcmUgPSByZXF1aXJlKCcuL2NvcmUuanMnKTsKICAgICAgdmFyIG1pc2MgPSByZXF1aXJlKCcuL21pc2MuanMnKTsKICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2Rpc3BhdGNoZXIuanMnKTsKICAgICAgdmFyIG1vZHVsZXMgPSBbbWlzYywgZGlzcGF0Y2hlcl0ubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYuY2FsbChudWxsLCBjb250ZXh0LCBHTSk7CiAgICAgIH0pOwogICAgICB2YXIgJCA9IF8uYXNzaWduLmFwcGx5KF8sIG1vZHVsZXMpOwogICAgICByZXR1cm4gZmFjdG9yeShjb250ZXh0LCBHTSwgY29yZSwgJCk7CiAgICB9OwogIH0gZWxzZSB7CiAgICBmYWN0b3J5KGNvbnRleHQsIHsKICAgICAgb3BlbkluVGFiOiBHTV9vcGVuSW5UYWIsCiAgICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQ6IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQsCiAgICB9LCBjb250ZXh0Ll8sIGNvbnRleHQuJCk7CiAgfQp9KHRoaXMsIGZ1bmN0aW9uIChjb250ZXh0LCBHTSwgXywgJCkgewogICd1c2Ugc3RyaWN0JzsKICB2YXIgd2luZG93ID0gY29udGV4dC53aW5kb3c7CiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50OwogIHZhciBpc1NhZmFyaSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwOwogIGZ1bmN0aW9uIGRpc2FibGVXaW5kb3dPcGVuICgpIHsKICAgICQud2luZG93Lm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY2xvc2VkOiBmYWxzZSwKICAgICAgfTsKICAgIH07CiAgICAkLndpbmRvdy5hbGVydCA9IF8ubm9wOwogICAgJC53aW5kb3cuY29uZmlybSA9IF8ubm9wOwogIH0KICBmdW5jdGlvbiBkaXNhYmxlTGVhdmVQcm9tcHQgKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgc2VhbCA9IHsKICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIG9uYmVmb3JldW5sb2FkJyk7CiAgICAgIH0sCiAgICB9OwogICAgZWxlbWVudC5vbmJlZm9yZXVubG9hZCA9IHVuZGVmaW5lZDsKICAgIGlmIChpc1NhZmFyaSkgewogICAgICBlbGVtZW50Ll9fZGVmaW5lU2V0dGVyX18oJ29uYmVmb3JldW5sb2FkJywgc2VhbC5zZXQpOwogICAgfSBlbHNlIHsKICAgICAgJC53aW5kb3cuT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdvbmJlZm9yZXVubG9hZCcsIHsKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgZ2V0OiB1bmRlZmluZWQsCiAgICAgICAgc2V0OiBzZWFsLnNldCwKICAgICAgfSk7CiAgICB9CiAgICB2YXIgb2FlbCA9IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjsKICAgIHZhciBuYWVsID0gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdiZWZvcmV1bmxvYWQnKSB7CiAgICAgICAgXy5pbmZvKCdibG9ja2VkIGFkZEV2ZW50TGlzdGVuZXIgb25iZWZvcmV1bmxvYWQnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmV0dXJuIG9hZWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgPSBuYWVsOwogIH0KICBmdW5jdGlvbiBjaGFuZ2VUaXRsZSAoKSB7CiAgICBkb2N1bWVudC50aXRsZSArPSAnIC0gQWRzQnlwYXNzZXInOwogIH0KICBmdW5jdGlvbiBiZWZvcmVET01SZWFkeSAoaGFuZGxlcikgewogICAgXy5pbmZvKCd3b3JraW5nIG9uXG4lcyBcbndpdGhcbiVzJywgd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCksIEpTT04uc3RyaW5naWZ5KCQuY29uZmlnKSk7CiAgICBkaXNhYmxlTGVhdmVQcm9tcHQoJC53aW5kb3cpOwogICAgZGlzYWJsZVdpbmRvd09wZW4oKTsKICAgIGhhbmRsZXIuc3RhcnQoKTsKICB9CiAgZnVuY3Rpb24gYWZ0ZXJET01SZWFkeSAoaGFuZGxlcikgewogICAgZGlzYWJsZUxlYXZlUHJvbXB0KCQud2luZG93LmRvY3VtZW50LmJvZHkpOwogICAgY2hhbmdlVGl0bGUoKTsKICAgIGhhbmRsZXIucmVhZHkoKTsKICB9CiAgZnVuY3Rpb24gd2FpdERPTSAoKSB7CiAgICByZXR1cm4gXy5EKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykgewogICAgICAgIHJlc29sdmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSk7CiAgfQogICQuX21haW4gPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZmluZEhhbmRsZXIgPSAkLl9maW5kSGFuZGxlcjsKICAgIGRlbGV0ZSAkLl9tYWluOwogICAgZGVsZXRlICQuX2ZpbmRIYW5kbGVyOwogICAgaWYgKHVuc2FmZVdpbmRvdy50b3AgIT09IHVuc2FmZVdpbmRvdy5zZWxmKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIEdNLnJlZ2lzdGVyTWVudUNvbW1hbmQoJ0Fkc0J5cGFzc2VyIC0gQ29uZmlndXJlJywgZnVuY3Rpb24gKCkgewogICAgICBHTS5vcGVuSW5UYWIoJ2h0dHBzOi8vYWRzYnlwYXNzZXIuZ2l0aHViLmlvL2NvbmZpZ3VyZS5odG1sJyk7CiAgICB9KTsKICAgIHZhciBoYW5kbGVyID0gZmluZEhhbmRsZXIoKTsKICAgIGlmIChoYW5kbGVyKSB7CiAgICAgIGlmICgkLmNvbmZpZy5sb2dMZXZlbCA8PSAwKSB7CiAgICAgICAgXy5fcXVpZXQgPSB0cnVlOwogICAgICB9CiAgICAgIGJlZm9yZURPTVJlYWR5KGhhbmRsZXIpOwogICAgICB3YWl0RE9NKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYWZ0ZXJET01SZWFkeShoYW5kbGVyKTsKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICB9OwogIHJldHVybiAkOwp9KSk7CiQuX21haW4oKTsK"},{"name":"魔趣直接下载跳过广告","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["http://download.mokeedev.com/ad-dl.php","http://download.mokeedev.com/download.php","https://download.mokeedev.com/ad-dl.php","https://download.mokeedev.com/download.php"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856070},"enabled":true,"position":16,"file_url":"https://greasyfork.org/scripts/26673-mokee-download-ad-bypass/code/Mokee%20Download%20Ad%20Bypass.user.js","uuid":"d7ad32c3-4fd5-40ec-90bc-b7ba65677fdc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDprZTotqPnm7TmjqXkuIvovb3ot7Pov4flub/lkYoKLy8gQG5hbWVzcGFjZSAgICBkb3dubG9hZC5tb2tlZWRldi5jb20KLy8gQHZlcnNpb24gICAgICAwLjIKLy8gQGRlc2NyaXB0aW9uICBza2lwIGFkcyBhbmQgYnlwYXNzIGFkcyBjaGVjayBmb3IgZG93bmxvYWQubW9rZWVkZXYuY29tCi8vIEBsaWNlbnNlICAgICAgTUlUCi8vIEBpbmNsdWRlICAgICAgaHR0cDovL2Rvd25sb2FkLm1va2VlZGV2LmNvbS9hZC1kbC5waHAKLy8gQGluY2x1ZGUgICAgICBodHRwOi8vZG93bmxvYWQubW9rZWVkZXYuY29tL2Rvd25sb2FkLnBocAovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vZG93bmxvYWQubW9rZWVkZXYuY29tL2FkLWRsLnBocAovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vZG93bmxvYWQubW9rZWVkZXYuY29tL2Rvd25sb2FkLnBocAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gKCkgewogICd1c2XCoHN0cmljdCc7CiAgdmFyIGtleSA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MLm1hdGNoKC9bMC05YS1mQS1GXXszMiwzMn0vKS50b1N0cmluZygpOwogIGlmIChrZXkpICQucG9zdCgibGluay5waHAiLCB7CiAgICBrZXk6IGtleQogIH0sIGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMpIHsKICAgIGxvY2F0aW9uLmhyZWYgPSBkYXRhOwogICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBkYXRhOwogIH0pOwp9KSgpOw=="},{"name":"download.mokeedev.com","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://download.mokeedev.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856073},"enabled":false,"position":17,"file_url":"https://greasyfork.org/scripts/28480-download-mokeedev-com/code/downloadmokeedevcom.user.js","uuid":"7fc12bb4-790d-4bb3-8314-c7af1df94ce7","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBkb3dubG9hZC5tb2tlZWRldi5jb20KLy8gQG5hbWU6cnUgICAgICAgICBkb3dubG9hZC5tb2tlZWRldi5jb20KLy8gQG5hbWVzcGFjZSAgICAgICBGSVgKLy8gQHZlcnNpb24gICAgICAgICAwLjIKLy8gQGRlc2NyaXB0aW9uICAgICBkb3dubG9hZC5tb2tlZWRldi5jb20gd2l0aG91dCB3YWl0aW5nCi8vIEBkZXNjcmlwdGlvbjpydSAgZG93bmxvYWQubW9rZWVkZXYuY29tINCx0LXQtyDQvtC20LjQtNCw0L3QuNGPCi8vIEBhdXRob3IgICAgICAgICAgcmFsZXRhZwovLyBAbWF0Y2ggICAgICAgICAgICo6Ly9kb3dubG9hZC5tb2tlZWRldi5jb20vKgovLyBAZ3JhbnQgICAgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zb2xlLmxvZygnZG93bmxvYWQubW9rZWVkZXYuY29tIHdpdGhvdXQgd2FpdGluZycpOwogICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09ICcvbGluay5waHAnICYmIGRvY3VtZW50LmJvZHkuaW5uZXJUZXh0ICYmIGRvY3VtZW50LmJvZHkuaW5uZXJUZXh0Lm1hdGNoKC9eaHR0cCh8cyk6XC9cLy9pKSkgbG9jYXRpb24uaHJlZiA9IGRvY3VtZW50LmJvZHkuaW5uZXJUZXh0OwogICAgZWxzZSBmb3IgKHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZio9ImRvd25sb2FkUG9zdCJdJyksIGkgPSBsaW5rcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICBsaW5rc1tpXS5ocmVmID0gbGlua3NbaV0uaHJlZi5yZXBsYWNlKCdkb3dubG9hZC5waHAnLCAnbGluay5waHAnKS5yZXBsYWNlKCdnZXQnLCdrZXknKTsKICAgIH0KfSkoKTs="},{"name":"解除B站区域限制","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["*://www.bilibili.com/video/av*","*://bangumi.bilibili.com/anime/*","*://bangumi.bilibili.com/movie/*","*://www.bilibili.com/blackboard/html5player.html*","*://www.bilibili.com/blackboard/html5playerbeta.html*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856078},"enabled":true,"position":18,"file_url":"https://greasyfork.org/scripts/25718-%E8%A7%A3%E9%99%A4b%E7%AB%99%E5%8C%BA%E5%9F%9F%E9%99%90%E5%88%B6/code/%E8%A7%A3%E9%99%A4B%E7%AB%99%E5%8C%BA%E5%9F%9F%E9%99%90%E5%88%B6.user.js","uuid":"d0888079-7ecc-43a3-8ff1-e03af6b04e4d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDop6PpmaRC56uZ5Yy65Z+f6ZmQ5Yi2Ci8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgNS43LjMKLy8gQGRlc2NyaXB0aW9uICDpgJrov4fmm7/mjaLojrflj5bop4bpopHlnLDlnYDmjqXlj6PnmoTmlrnlvI8sIOWunueOsOino+mZpELnq5nljLrln5/pmZDliLY7IOWPquWvuUhUTUw15pKt5pS+5Zmo55Sf5pWIOyDlj6rmlK/mjIHnlarliafop4bpopE7Ci8vIEBhdXRob3IgICAgICAgaXBjanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3N0YXRpYy5oZHNsYi5jb20vanMvbWQ1LmpzCi8vIEBpbmNsdWRlICAgICAgKjovL3d3dy5iaWxpYmlsaS5jb20vdmlkZW8vYXYqCi8vIEBpbmNsdWRlICAgICAgKjovL2Jhbmd1bWkuYmlsaWJpbGkuY29tL2FuaW1lLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vbW92aWUvKgovLyBAaW5jbHVkZSAgICAgICo6Ly93d3cuYmlsaWJpbGkuY29tL2JsYWNrYm9hcmQvaHRtbDVwbGF5ZXIuaHRtbCoKLy8gQGluY2x1ZGUgICAgICAqOi8vd3d3LmJpbGliaWxpLmNvbS9ibGFja2JvYXJkL2h0bWw1cGxheWVyYmV0YS5odG1sKgovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCid1c2Ugc3RyaWN0JzsKdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlLmxvZy5iaW5kKHdpbmRvdy5jb25zb2xlKTsgLy8gY29uc29sZS5sb2fnroDlhpnkuLpsb2cKCmxvZygnWycgKyBHTV9pbmZvLnNjcmlwdC5uYW1lICsgJ10gcnVuIG9uOiAnICsgd2luZG93LmxvY2F0aW9uLmhyZWYpOwoKdmFyIE1PREVfREVGQVVMVCA9ICdkZWZhdWx0JzsgLy8g6buY6K6k5qih5byPLCDoh6rliqjliKTmlq3kvb/nlKjkvZXnp43mqKHlvI8sIOaOqOiNkDsKdmFyIE1PREVfUkVQTEFDRSA9ICdyZXBsYWNlJzsgLy8g5pu/5o2i5qih5byPLCDmm7/mjaLmnInljLrln5/pmZDliLbnmoTop4bpopHnmoTmjqXlj6PnmoTov5Tlm57lgLw7IOWboOS4uuabv+aNoueahOaTjeS9nOaYr+WQjOatpeeahOS8muWNoeS4gOS4i+eVjOmdoiwg5L2G5rKh5pyJ5Yy65Z+f6ZmQ5Yi255qE6KeG6aKR5LiN5Lya5Y+X5Yiw5b2x5ZONOwp2YXIgTU9ERV9SRURJUkVDVCA9ICdyZWRpcmVjdCc7IC8vIOmHjeWumuWQkeaooeW8jywg55u05o6l6YeN5a6a5ZCR5omA5pyJ55Wq5Ymn6KeG6aKR55qE5o6l5Y+j5Yiw5Luj55CG5pyN5Yqh5ZmoOyDmiYDmnInnlarliafop4bpopHpg73pgJrov4fku6PnkIbmnI3liqHlmajojrflj5bop4bpopHlnLDlnYAsIOWmguaenOS7o+eQhuacjeWKoeWZqOS4jeeos+Wumiwg5Y+v6IO95Yqg6L295LiN5Ye66KeG6aKROwoKdmFyIHNldHRpbmdzID0gZ2V0Q29va2llcygpOwp2YXIgcHJveHlTZXJ2ZXIgPSBzZXR0aW5ncy5iYWxoX3NlcnZlciB8fCAnaHR0cHM6Ly9iaWxpcGx1cy5pcGNqc2Rldi50ayc7IC8vIOS8mOWFiOS7jmNvb2tpZeS4reivu+WPluacjeWKoeWZqOWcsOWdgAp2YXIgaXNCbG9ja2VkVmlwID0gc2V0dGluZ3MuYmFsaF9ibG9ja2VkX3ZpcDsgLy8gIuaIkeaYr+S4gOS9jeiiq+awuOS5heWwgeWPt+eahOWkp+S8muWRmCIoYnkgR29vZ2xl57+76K+RKQp2YXIgbW9kZSA9IHNldHRpbmdzLmJhbGhfbW9kZSB8fCAoaXNCbG9ja2VkVmlwID8gTU9ERV9SRURJUkVDVCA6IE1PREVfREVGQVVMVCk7IC8vIOiLpei0puWPt+aYr+iiq+awuOWwgeeahOWkp+S8muWRmCwg6buY6K6k5L2/55So6YeN5a6a5ZCR5qih5byPCi8vIG1vdmll6aG16Z2i5L2/55Sod2luZG93LmFpZCwg5L+d5a2Y5b2T5YmN6aG16Z2iYXblj7cKLy8gYW5pbWXpobXpnaLkvb/nlKh3aW5kb3cuc2Vhc29uX2lkLCDkv53lrZjlvZPliY3pobXpnaJzZWFzb27lj7cKdmFyIGlzTW92aWVQYWdlID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignYmFuZ3VtaS5iaWxpYmlsaS5jb20vbW92aWUvJykgIT09IC0xOwoKbG9nKCdNb2RlOicsIG1vZGUsICdpc0Jsb2NrZWRWaXA6JywgaXNCbG9ja2VkVmlwLCAnc2VydmVyOicsIHByb3h5U2VydmVyLCAncmVhZHlTdGF0ZTonLCBkb2N1bWVudC5yZWFkeVN0YXRlKTsKCnZhciBiaWxpYmlsaUFwaXMgPSAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gQmlsaWJpbGlBcGkocHJvcHMpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTsKICAgIH0KCiAgICBCaWxpYmlsaUFwaS5wcm90b3R5cGUuYXN5bmNBamF4QnlQcm94eSA9IGZ1bmN0aW9uIChvcmlnaW5VcmwsIHN1Y2Nlc3MsIGVycm9yKSB7CiAgICAgICAgdmFyIG9uZV9hcGkgPSB0aGlzOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHVybDogb25lX2FwaS50cmFuc1RvUHJveHlVcmwob3JpZ2luVXJsKSwKICAgICAgICAgICAgYXN5bmM6IHRydWUsCiAgICAgICAgICAgIHhockZpZWxkczogeyB3aXRoQ3JlZGVudGlhbHM6IHRydWUgfSwKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgbG9nKCc9PT4nLCByZXN1bHQpOwogICAgICAgICAgICAgICAgc3VjY2VzcyhvbmVfYXBpLnByb2Nlc3NQcm94eVN1Y2Nlc3MocmVzdWx0KSk7CiAgICAgICAgICAgICAgICAvLyBsb2coJ3N1Y2Nlc3MnLCBhcmd1bWVudHMsIHRoaXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGxvZygnZXJyb3InLCBhcmd1bWVudHMsIHRoaXMpOwogICAgICAgICAgICAgICAgZXJyb3IoZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH07CiAgICB2YXIgZ2V0X3NvdXJjZV9ieV9haWQgPSBuZXcgQmlsaWJpbGlBcGkoewogICAgICAgIHRyYW5zVG9Qcm94eVVybDogZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICByZXR1cm4gcHJveHlTZXJ2ZXIgKyAnL2FwaS92aWV3P2lkPScgKyB3aW5kb3cuYWlkICsgJyZ1cGRhdGU9dHJ1ZSc7CiAgICAgICAgfSwKICAgICAgICBwcm9jZXNzUHJveHlTdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxpc3QgJiYgZGF0YS5saXN0WzBdICYmIGRhdGEubW92aWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgY29kZTogMCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNpZDogZGF0YS5saXN0WzBdLmNpZCwKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWFsX2FpZDogZGF0YS5haWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmllX3N0YXR1czogaXNCbG9ja2VkVmlwID8gMiA6IGRhdGEubW92aWUubW92aWVfc3RhdHVzLCAvLyAyLCDlpKfmpoLmmK/lhY3otLnnmoTmhI/mgJ0/CiAgICAgICAgICAgICAgICAgICAgICAgIHBheV9iZWdpbl90aW1lOiAxNTA3NzA4ODAwLAogICAgICAgICAgICAgICAgICAgICAgICBwYXlfdGltZXN0YW1wOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBwYXlfdXNlcl9zdGF0dXM6IGRhdGEubW92aWUucGF5X3VzZXIuc3RhdHVzLCAvLyDkuIDoiKzpg73mmK8wCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogZGF0YS5saXN0WzBdLnR5cGUsIC8vIOS4gOiIrOS4um1vdmllCiAgICAgICAgICAgICAgICAgICAgICAgIHZpZDogZGF0YS5saXN0WzBdLnZpZCwKICAgICAgICAgICAgICAgICAgICAgICAgdmlwOiB7IC8vIDIrMSwg6KGo56S65bm05bqm5aSn5Lya5ZGYOyAwKzAsIOihqOekuuaZrumAmuS8muWRmAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlwVHlwZTogaXNCbG9ja2VkVmlwID8gMiA6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXBTdGF0dXM6IGlzQmxvY2tlZFZpcCA/IDEgOiAwLAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgY29kZTogLTQwNCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiN5a2Y5Zyo6K+l5Ymn6ZuGJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgdmFyIGdldF9zb3VyY2VfYnlfc2Vhc29uX2lkID0gbmV3IEJpbGliaWxpQXBpKHsKICAgICAgICB0cmFuc1RvUHJveHlVcmw6IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgcmV0dXJuIHByb3h5U2VydmVyICsgJy9hcGkvYmFuZ3VtaT9zZWFzb249JyArIHdpbmRvdy5zZWFzb25faWQ7CiAgICAgICAgfSwKICAgICAgICBwcm9jZXNzUHJveHlTdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICB2YXIgZm91bmQgPSBudWxsOwogICAgICAgICAgICBpZiAoIWRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJlc3VsdC5lcGlzb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdC5lcGlzb2Rlc1tpXS5lcGlzb2RlX2lkID09IHdpbmRvdy5lcGlzb2RlX2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZGF0YS5yZXN1bHQuZXBpc29kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbm90aWZ5LnNob3dOb3RpZmljYXRpb24oRGF0ZS5ub3coKSwgR01faW5mby5zY3JpcHQubmFtZSwgJ+S7o+eQhuacjeWKoeWZqOmUmeivrzonICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkgKyAnXG7ngrnlh7vliLfmlrDnlYzpnaIuJywgJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vZmF2aWNvbi5pY28nLCAzZTMsIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQuYmluZCh3aW5kb3cubG9jYXRpb24pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gZm91bmQgIT09IG51bGwgPyB7CiAgICAgICAgICAgICAgICAiY29kZSI6IDAsCiAgICAgICAgICAgICAgICAibWVzc2FnZSI6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICJyZXN1bHQiOiB7CiAgICAgICAgICAgICAgICAgICAgImFpZCI6IGZvdW5kLmF2X2lkLAogICAgICAgICAgICAgICAgICAgICJjaWQiOiBmb3VuZC5kYW5tYWt1LAogICAgICAgICAgICAgICAgICAgICJlcGlzb2RlX3N0YXR1cyI6IGlzQmxvY2tlZFZpcCA/IDIgOiBmb3VuZC5lcGlzb2RlX3N0YXR1cywKICAgICAgICAgICAgICAgICAgICAicGF5bWVudCI6IHsgInByaWNlIjogIjk4NzY1NDcyMTAuMzMiIH0sCiAgICAgICAgICAgICAgICAgICAgInBheV91c2VyIjogewogICAgICAgICAgICAgICAgICAgICAgICAic3RhdHVzIjogaXNCbG9ja2VkVmlwID8gMSA6IDAgLy8g5piv5ZCm5bey57uP5pSv5LuY6L+HCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAicGxheWVyIjogInZ1cGxvYWQiLAogICAgICAgICAgICAgICAgICAgICJwcmVfYWQiOiAwLAogICAgICAgICAgICAgICAgICAgICJzZWFzb25fc3RhdHVzIjogaXNCbG9ja2VkVmlwID8gMiA6IGRhdGEucmVzdWx0LnNlYXNvbl9zdGF0dXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSA6IHsKICAgICAgICAgICAgICAgICAgICBjb2RlOiAtNDA0LAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkuI3lrZjlnKjor6Xliafpm4YnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsOwogICAgICAgIH0KICAgIH0pOwoKICAgIHJldHVybiB7CiAgICAgICAgX2dldF9zb3VyY2U6IGlzTW92aWVQYWdlID8gZ2V0X3NvdXJjZV9ieV9haWQgOiBnZXRfc291cmNlX2J5X3NlYXNvbl9pZCwKICAgICAgICBfcGxheXVybDogbmV3IEJpbGliaWxpQXBpKHsKICAgICAgICAgICAgdHJhbnNUb1Byb3h5VXJsOiBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gdXJsLnNwbGl0KCc/JylbMV07CiAgICAgICAgICAgICAgICAvLyDlj6rmnInlnKhhdumhtemdouS4reeahGlmcmFtZeagh+etvuW9ouW8j+eahHBsYXllciwg5LiN6ZyA6KaB5o+S5YWlJ2Jhbmd1bWkn5Y+C5pWwLCDlhbbku5bpobXpnaLpg73opoHmj5LlhaXov5nkuKrlj4LmlbAKICAgICAgICAgICAgICAgIGlmICghaXNQbGF5ZXJGcmFtZUluQXZQYWdlKCkpIHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMucmVwbGFjZSgvKGNpZD1cZCspLywgJyQxfCcgKyAodXJsLm1hdGNoKC9tb2R1bGU9KFx3KykvKSB8fCBbJycsICdiYW5ndW1pJ10pWzFdKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5U2VydmVyICsgJy9CUHBsYXl1cmwucGhwPycgKyBwYXJhbXM7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb2Nlc3NQcm94eVN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAvLyBkYXRh5pyJ5Y+v6IO95Li6bnVsbAogICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAtNDAzKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFsZXJ0KCflvZPliY3kvb/nlKjnmoTmnI3liqHlmagoJyArIHByb3h5U2VydmVyICsgJynkvp3nhLbmnInljLrln5/pmZDliLYnKTsKICAgICAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKERhdGUubm93KCksIEdNX2luZm8uc2NyaXB0Lm5hbWUsICfnqoHnoLTpu5HmtJ7lpLHotKXvvIzmiJHku6zmnKrog73nqb/pgI/mlYzkurrnmoTnm5TnlLJcbuW9k+WJjeS7o+eQhuacjeWKoeWZqO+8iCcgKyBwcm94eVNlcnZlciArICfvvInkvp3nhLbmnInljLrln5/pmZDliLbOoygg77+j4pah77+jfHwpJywgJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vZmF2aWNvbi5pY28nLCAzZTMpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSBudWxsIHx8IGRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbihEYXRlLm5vdygpLCBHTV9pbmZvLnNjcmlwdC5uYW1lLCAn56qB56C06buR5rSe5aSx6LSlXG4nICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkgKyAnXG7ngrnlh7vliLfmlrDnlYzpnaInLCAnLy9iYW5ndW1pLmJpbGliaWxpLmNvbS9mYXZpY29uLmljbycsIDNlMywgd2luZG93LmxvY2F0aW9uLnJlbG9hZC5iaW5kKHdpbmRvdy5sb2NhdGlvbikpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FyZWFMaW1pdEZvclBsYXlVcmwoZGF0YSkpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCc+PmFyZWEgbGltaXQnKTsKICAgICAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uKERhdGUubm93KCksIEdNX2luZm8uc2NyaXB0Lm5hbWUsICfnqoHnoLTpu5HmtJ7lpLHotKXvvIzpnIDopoHnmbvlvZVcbueCueatpOi/m+ihjOeZu+W9lScsICcvL2Jhbmd1bWkuYmlsaWJpbGkuY29tL2Zhdmljb24uaWNvJywgM2UzLCBzaG93TG9naW4pOwogICAgICAgICAgICAgICAgICAgIC8vIGlmICh3aW5kb3cuY29uZmlybSgn6K+V5Zu+6I635Y+W6KeG6aKR5Zyw5Z2A5aSx6LSlLCDor7fnmbvlvZXku6PnkIbmnI3liqHlmagnICsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICdcbuazqOaEjzog5Y+q5pSv5oyBIuS9v+eUqGJpbGliaWxp6LSm5oi35a+G56CB6L+b6KGM55m75b2VIicKICAgICAgICAgICAgICAgICAgICAvLyAgICAgKSkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICB3aW5kb3cudG9wLmxvY2F0aW9uID0gcHJveHlTZXJ2ZXIgKyAnL2xvZ2luJzsKICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHNob3dOb3RpZmljYXRpb24oRGF0ZS5ub3coKSwgR01faW5mby5zY3JpcHQubmFtZSwgJ+W3sueqgeegtOm7kea0nu+8jOW8gOWni+WKoOi9veinhumikScsICcvL2Jhbmd1bWkuYmlsaWJpbGkuY29tL2Zhdmljb24uaWNvJywgMmUzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH07Cn0pKCk7CgppZiAoIXdpbmRvdy5qUXVlcnkpIHsgLy8g6Iul6L+Y5pyq5Yqg6L29alF1ZXJ5LCDliJnnm5HlkKwKICAgIHZhciBqUXVlcnk7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnalF1ZXJ5JywgewogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgICAgICBqUXVlcnkgPSB2OwogICAgICAgICAgICBpbmplY3REYXRhRmlsdGVyKCk7Ly8g6K6+572ualF1ZXJ55ZCOLCDnq4vljbPms6jlhaUKICAgICAgICB9LCBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGpRdWVyeTsKICAgICAgICB9CiAgICB9KTsKfSBlbHNlIHsKICAgIGluamVjdERhdGFGaWx0ZXIoKTsKfQoKZG9jdW1lbnRSZWFkeShmdW5jdGlvbiAoKSB7CiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnYmFuZ3VtaS5iaWxpYmlsaS5jb20nKSB7CiAgICAgICAgY2hlY2tIdG1sNSgpOwogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cL2FuaW1lXC9cZCtcLz8kLykpIHsKICAgICAgICAgICAgdHJ5RmlsbFNlYXNvbkxpc3QoKTsKICAgICAgICB9CiAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3d3dy5iaWxpYmlsaS5jb20vdmlkZW8vYXYnKSAhPT0gLTEpIHsKICAgICAgICB0cnlSZWRpcmVjdFRvQmFuZ3VtaU9ySW5zZXJ0UGxheWVyKCk7CiAgICB9Cn0pOwoKd2luZG93UmVhZHkoZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2Jhbmd1bWkuYmlsaWJpbGkuY29tJykgewogICAgICAgIGFkZFNldHRpbmdzQnV0dG9uKCk7CiAgICAgICAgY2hlY2tMb2dpblN0YXRlKCk7CiAgICB9Cn0pOwoKLy8g55uR5ZCs55m75b2VbWVzc2FnZQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CiAgICBzd2l0Y2ggKGUuZGF0YSkgewogICAgICAgIGNhc2UgJ0JpbGlQbHVzLUxvZ2luLVN1Y2Nlc3MnOgogICAgICAgICAgICAvL+eZu+WFpQogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKF8oJ3NjcmlwdCcsIHsKICAgICAgICAgICAgICAgIHNyYzogcHJveHlTZXJ2ZXIgKyAnL2xvZ2luP2FjdD1nZXRsZXZlbCcsCiAgICAgICAgICAgICAgICBldmVudDogewogICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHsgbG9jYXRpb24ucmVsb2FkKCk7IH0sCiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHsgbG9jYXRpb24ucmVsb2FkKCk7IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdCaWxpUGx1cy1Mb2dvdXQtU3VjY2Vzcyc6CiAgICAgICAgICAgIC8v55m75Ye6CiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICBicmVhazsKICAgIH0KfSk7CgovLyDmt7vliqDorr7nva7lhaXlj6PoioLngrkKLyoKIE1lc3NhZ2VCb3ggLT4gZnJvbSBiYXNlLmNvcmUuanMKIE1lc3NhZ2VCb3guc2hvdyhyZWZlcmVuY2VFbGVtZW50LCBtZXNzYWdlLCBjbG9zZVRpbWUsIGJveFR5cGUsIGJ1dHRvblR5cGVDb25maXJtQ2FsbGJhY2spCiBNZXNzYWdlQm94LmNsb3NlKCkKICovCnZhciBwb3BNZXNzYWdlID0gbnVsbDsKZnVuY3Rpb24gYWRkU2V0dGluZ3NCdXR0b24oKSB7CiAgICBwb3BNZXNzYWdlID09IG51bGwgJiYgKHBvcE1lc3NhZ2UgPSBuZXcgTWVzc2FnZUJveCk7CiAgICB2YXIgaW5kZXhOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5kZXhfbmF2JyksIGJvdHRvbSA9ICcxMTBweCc7CiAgICBpZiAoaW5kZXhOYXYgPT0gbnVsbCkgewogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoXygnc3R5bGUnLCB7fSwgW18oJ3RleHQnLCAnLmluZGV4LW5hdntvcGFjaXR5OjE7ZGlzcGxheTpibG9jaztib3R0b206NTBweDtsZWZ0OmNhbGMoNTAlICsgNTAwcHgpO3otaW5kZXg6MTAwfSBAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjExNjBweCl7LmluZGV4LW5hdntsZWZ0OmNhbGMoNTAlICsgNTkwcHgpfX0nKV0pKTsKICAgICAgICBpbmRleE5hdiA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoXygnZGl2JywgewogICAgICAgICAgICBpZDogJ2luZGV4X25hdicsCiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2luZGV4LW5hdicKICAgICAgICB9KSk7CiAgICAgICAgYm90dG9tID0gMDsKICAgIH0gZWxzZSB7CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7CiAgICAgICAgaW5kZXhOYXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9CiAgICBpbmRleE5hdi5hcHBlbmRDaGlsZChfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ24taSBnb3RvcCBiYWxoX3NldHRpbmdzJywgc3R5bGU6IHsgYm90dG9tOiBib3R0b20gfSwgdGl0bGU6IEdNX2luZm8uc2NyaXB0Lm5hbWUgKyAnIOiuvue9ricsIGV2ZW50OiB7IGNsaWNrOiBzaG93U2V0dGluZ3MgfSB9LCBbXygnZGl2JywgeyBjbGFzc05hbWU6ICdidG5fZ290b3AnLCBzdHlsZTogeyBiYWNrZ3JvdW5kOiAnI2Y2ZjlmYScgfSB9KV0pKTsKICAgIGluZGV4TmF2Lmxhc3RDaGlsZC5maXJzdENoaWxkLmlubmVySFRNTCA9ICc8IS0tIGh0dHBzOi8vd3d3LmZsYXRpY29uLmNvbS9mcmVlLWljb24vc2F0dXJuXzUzNTE1IC0tPjxzdmcgc3R5bGU9IndpZHRoOjMwcHg7aGVpZ2h0OjUwcHg7ZmlsbDpyZ2IoMTUzLDE2MiwxNzApIiB2aWV3Qm94PSIwIDAgNjEyLjAxNyA2MTIuMDE3Ij48cGF0aCBkPSJNNTk2LjI3NSwxNS43MDhDNTYxLjk3OC0xOC41OSw0NzguMjY4LDUuMTQ5LDM4MC4zNjQsNjguNjk2Yy0yMy41MS03LjM4NC00OC40NzMtMTEuMzgyLTc0LjM3NS0xMS4zODJjLTEzNy4xMTgsMC0yNDguNjc5LDExMS41NjItMjQ4LjY3OSwyNDguNjc5YzAsMjUuOTAyLDMuOTk4LDUwLjg2NSwxMS4zODIsNzQuMzc1QzUuMTQ1LDQ3OC4yNTMtMTguNTc1LDU2MS45ODEsMTUuNzI0LDU5Ni4yNzljMzQuMzE4LDM0LjMxOCwxMTguMDg0LDEwLjY1NSwyMTYuMDQ1LTUyLjk0OWMyMy40NTMsNy4zNjUsNDguMzc4LDExLjM0NCw3NC4yNDEsMTEuMzQ0YzEzNy4xMzcsMCwyNDguNjc5LTExMS41NjIsMjQ4LjY3OS0yNDguNjhjMC0yNS44NjItMy45NzktNTAuNzY5LTExLjMyNC03NC4yNEM2MDYuOTMxLDEzMy43OTMsNjMwLjU3NCw1MC4wMjYsNTk2LjI3NSwxNS43MDh6TTY2LjQzNSw1NDUuNTNjLTE4LjM0NS0xOC4zNDUtNy45MTktNjEuODQ1LDIzLjMzOC0xMTcuMTQ3YzIyLjI2NiwzOS4xNzcsNTQuODI0LDcxLjcxNiw5NC4wMiw5My45NDNDMTI4LjMzNyw1NTMuNzE3LDg0LjgzNyw1NjMuOTMzLDY2LjQzNSw1NDUuNTN6IE0xMTQuNjk4LDMwNS45OTRjMC0xMDUuNDc4LDg1LjgxMy0xOTEuMjkyLDE5MS4yOTItMTkxLjI5MmM4Mi41MjQsMCwxNTIuNzY2LDUyLjYwNSwxNzkuNTY2LDEyNS45NjVjLTI5LjkxOCw0MS44MTYtNjguMjE0LDg3LjA1Ny0xMTMuMDE1LDEzMS44MzljLTQ0LjgwMSw0NC44MTktOTAuMDYxLDgzLjExNi0xMzEuODc3LDExMy4wMzRDMTY3LjMwMyw0NTguNzYsMTE0LjY5OCwzODguNDc5LDExNC42OTgsMzA1Ljk5NHogTTMwNS45OSw0OTcuMjg2Yy0zLjE1NiwwLTYuMjM2LTAuMzI1LTkuMzU0LTAuNDU5YzM1LjA2NC0yNy40MzIsNzAuODk0LTU4LjgyMiwxMDYuMTEtOTQuMDU5YzM1LjIzNS0zNS4yMzUsNjYuNjQ2LTcxLjA0Niw5NC4wNTgtMTA2LjEyOWMwLjE1MywzLjExOCwwLjQ3OSw2LjE5OCwwLjQ3OSw5LjM1NEM0OTcuMjgyLDQxMS40NzMsNDExLjQ2OSw0OTcuMjg2LDMwNS45OSw0OTcuMjg2eiBNNDI4LjM3OSw4OS43NzdjNTUuMzAzLTMxLjIzOCw5OC44MDMtNDEuNjgzLDExNy4xNDctMjMuMzM4YzE4LjQwMiwxOC4zODMsOC4xODcsNjEuOTAyLTIzLjIwNCwxMTcuMzc3QzUwMC4wOTUsMTQ0LjYyLDQ2Ny41NzQsMTEyLjA0Myw0MjguMzc5LDg5Ljc3N3oiLz48L3N2Zz4nOwp9CgpmdW5jdGlvbiBvblNldHRpbmdzRm9ybUNoYW5nZShlKSB7CiAgICB2YXIgbmFtZSA9IGUudGFyZ2V0Lm5hbWU7CiAgICBjb25zb2xlLmxvZyhuYW1lLCAnID0+ICcsIGUudGFyZ2V0LnR5cGUgPT0gJ2NoZWNrYm94JyA/IGUudGFyZ2V0LmNoZWNrZWQgOiBlLnRhcmdldC52YWx1ZSk7CiAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICBjYXNlICdiYWxoX3Byb3h5X3NlcnZlcic6CiAgICAgICAgICAgIHByb3h5U2VydmVyID0gZS50YXJnZXQudmFsdWU7CiAgICAgICAgICAgIHNldENvb2tpZSgnYmFsaF9zZXJ2ZXInLCBwcm94eVNlcnZlcik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2JhbGhfbW9kZSc6CiAgICAgICAgICAgIG1vZGUgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgc2V0Q29va2llKCdiYWxoX21vZGUnLCBtb2RlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYmFsaF9ibG9ja2VkX3ZpcCc6CiAgICAgICAgICAgIGlzQmxvY2tlZFZpcCA9IGUudGFyZ2V0LmNoZWNrZWQgPyAnWScgOiAnJzsKICAgICAgICAgICAgc2V0Q29va2llKCdiYWxoX2Jsb2NrZWRfdmlwJywgaXNCbG9ja2VkVmlwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn0KCnZhciBzZXR0aW5nc0RPTSA9IF8oJ2RpdicsIHsgaWQ6ICdiYWxoLXNldHRpbmdzJywgc3R5bGU6IHsgcG9zaXRpb246ICdmaXhlZCcsIHRvcDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsLjcpJywgYW5pbWF0aW9uTmFtZTogJ2JhbGgtc2V0dGluZ3MtYmcnLCBhbmltYXRpb25EdXJhdGlvbjogJy41cycsIHpJbmRleDogMTAwMCwgY3Vyc29yOiAncG9pbnRlcicgfSwgZXZlbnQ6IHsgY2xpY2s6IGZ1bmN0aW9uIChlKSB7IGlmIChlLnRhcmdldCA9PT0gdGhpcykgcG9wTWVzc2FnZS5tc2dib3ggIT0gbnVsbCAmJiBwb3BNZXNzYWdlLmNsb3NlKCksIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJywgdGhpcy5yZW1vdmUoKTsgfSB9IH0sIFsKICAgIF8oJ3N0eWxlJywge30sIFtfKCd0ZXh0JywgJ0BrZXlmcmFtZXMgYmFsaC1zZXR0aW5ncy1iZ3tmcm9te2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwKX10b3tiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjcpfX0jYmFsaC1zZXR0aW5ncyBsYWJlbHt3aWR0aDoxMDAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2N1cnNvcjpwb2ludGVyfSNiYWxoLXNldHRpbmdzIGxhYmVsOmFmdGVye2NvbnRlbnQ6IiI7d2lkdGg6MDtoZWlnaHQ6MXB4O2JhY2tncm91bmQ6IzQyODVmNDt0cmFuc2l0aW9uOndpZHRoIC4zcztkaXNwbGF5OmJsb2NrfSNiYWxoLXNldHRpbmdzIGxhYmVsOmhvdmVyOmFmdGVye3dpZHRoOjEwMCV9Zm9ybXttYXJnaW46MH0nKV0pLAogICAgXygnZGl2JywgeyBzdHlsZTogeyBwb3NpdGlvbjogJ2Fic29sdXRlJywgYmFja2dyb3VuZDogJyNGRkYnLCBib3JkZXJSYWRpdXM6ICcxMHB4JywgcGFkZGluZzogJzIwcHgnLCB0b3A6ICc1MCUnLCBsZWZ0OiAnNTAlJywgd2lkdGg6ICc2MDBweCcsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJywgY3Vyc29yOiAnZGVmYXVsdCcgfSB9LCBbCiAgICAgICAgXygnaDEnLCB7fSwgW18oJ3RleHQnLCBHTV9pbmZvLnNjcmlwdC5uYW1lICsgJyDlj4LmlbDorr7nva4nKV0pLAogICAgICAgIF8oJ2JyJyksCiAgICAgICAgXygnZm9ybScsIHsgaWQ6ICdiYWxoLXNldHRpbmdzLWZvcm0nLCBldmVudDogeyBjaGFuZ2U6IG9uU2V0dGluZ3NGb3JtQ2hhbmdlIH0gfSwgWwogICAgICAgICAgICBfKCd0ZXh0JywgJ+S9v+eUqOeahOacjeWKoeWZqO+8micpLCBfKCdicicpLAogICAgICAgICAgICBfKCdkaXYnLCB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4JyB9IH0sIFsKICAgICAgICAgICAgICAgIF8oJ2xhYmVsJywgeyBzdHlsZTogeyBmbGV4OiAxIH0gfSwgW18oJ2lucHV0JywgeyB0eXBlOiAncmFkaW8nLCBuYW1lOiAnYmFsaF9wcm94eV9zZXJ2ZXInLCB2YWx1ZTogJ2h0dHBzOi8vYmlsaXBsdXMuaXBjanNkZXYudGsnIH0pLCBfKCd0ZXh0JywgJ2h0dHBzOi8vYmlsaXBsdXMuaXBjanNkZXYudGsnKV0pLAogICAgICAgICAgICAgICAgXygnbGFiZWwnLCB7IHN0eWxlOiB7IGZsZXg6IDEgfSB9LCBbXygnaW5wdXQnLCB7IHR5cGU6ICdyYWRpbycsIG5hbWU6ICdiYWxoX3Byb3h5X3NlcnZlcicsIHZhbHVlOiAnaHR0cHM6Ly93d3cuYmlsaXBsdXMuY29tJyB9KSwgXygndGV4dCcsICdodHRwczovL3d3dy5iaWxpcGx1cy5jb20nKV0pCiAgICAgICAgICAgIF0pLCBfKCdicicpLAogICAgICAgICAgICBfKCdkaXYnLCB7IGlkOiAnYmFsaF9zZXJ2ZXJfcGluZycsIHN0eWxlOiB7IHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsIG92ZXJmbG93OiAnYXV0bycgfSB9LCBbXygnYScsIHsgaHJlZjogJ2phdmFzY3JpcHQ6JywgZXZlbnQ6IHsgY2xpY2s6IHJ1blBpbmcgfSB9LCBbXygndGV4dCcsICfmnI3liqHlmajmtYvpgJ8nKV0pXSksIF8oJ2JyJyksCiAgICAgICAgICAgIF8oJ3RleHQnLCAn6ISa5pys5bel5L2c5qih5byP77yaJyksIF8oJ2JyJyksCiAgICAgICAgICAgIF8oJ2RpdicsIHsgc3R5bGU6IHsgZGlzcGxheTogJ2ZsZXgnIH0gfSwgWwogICAgICAgICAgICAgICAgXygnbGFiZWwnLCB7IHN0eWxlOiB7IGZsZXg6IDEgfSB9LCBbXygnaW5wdXQnLCB7IHR5cGU6ICdyYWRpbycsIG5hbWU6ICdiYWxoX21vZGUnLCB2YWx1ZTogTU9ERV9ERUZBVUxUIH0pLCBfKCd0ZXh0JywgJ+m7mOiupO+8muiHquWKqOWIpOaWrScpXSksCiAgICAgICAgICAgICAgICBfKCdsYWJlbCcsIHsgc3R5bGU6IHsgZmxleDogMSB9IH0sIFtfKCdpbnB1dCcsIHsgdHlwZTogJ3JhZGlvJywgbmFtZTogJ2JhbGhfbW9kZScsIHZhbHVlOiBNT0RFX1JFUExBQ0UgfSksIF8oJ3RleHQnLCAn5pu/5o2i77ya5Zyo6ZyA6KaB5pe25aSE55CG55Wq5YmnJyldKSwKICAgICAgICAgICAgICAgIF8oJ2xhYmVsJywgeyBzdHlsZTogeyBmbGV4OiAxIH0gfSwgW18oJ2lucHV0JywgeyB0eXBlOiAncmFkaW8nLCBuYW1lOiAnYmFsaF9tb2RlJywgdmFsdWU6IE1PREVfUkVESVJFQ1QgfSksIF8oJ3RleHQnLCAn6YeN5a6a5ZCR77ya5a6M5YWo5Luj55CG5omA5pyJ55Wq5YmnJyldKQogICAgICAgICAgICBdKSwgXygnYnInKSwKICAgICAgICAgICAgXygndGV4dCcsICflhbbku5bvvJonKSwgXygnYnInKSwKICAgICAgICAgICAgXygnZGl2JywgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcgfSB9LCBbCiAgICAgICAgICAgICAgICBfKCdsYWJlbCcsIHsgc3R5bGU6IHsgZmxleDogMSB9IH0sIFtfKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JywgbmFtZTogJ2JhbGhfYmxvY2tlZF92aXAnIH0pLCBfKCd0ZXh0JywgJ+iiq+awuOWwgeeahOWkp+S8muWRmO+8nycpLCBfKCdhJywgeyBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL2lwY2pzL2JpbGliaWxpLWhlbHBlci9ibG9iL3VzZXIuanMvYmlsaWJpbGlfYmFuZ3VtaV9hcmVhX2xpbWl0X2hhY2subWQj5aSn5Lya5ZGY6LSm5Y+36KKrYuermeawuOWwgeS6hicsIHRhcmdldDogJ19ibGFuaycgfSwgW18oJ3RleHQnLCAn77yI6K+m57uG6K+05piO77yJJyldKV0pLAogICAgICAgICAgICBdKSwgXygnYnInKSwKICAgICAgICAgICAgXygnYScsIHsgaHJlZjogJ2phdmFzY3JpcHQ6JywgZXZlbnQ6IHsgY2xpY2s6IGZ1bmN0aW9uICgpIHsgc2V0dGluZ3NET00uY2xpY2soKTsgc2hvd0xvZ2luKCk7IH0gfSB9LCBbXygndGV4dCcsICfluJDlj7fmjojmnYMnKV0pLAogICAgICAgICAgICBfKCd0ZXh0JywgJ+OAgCcpLAogICAgICAgICAgICBfKCdhJywgeyBocmVmOiAnamF2YXNjcmlwdDonLCBldmVudDogeyBjbGljazogZnVuY3Rpb24gKCkgeyBzZXR0aW5nc0RPTS5jbGljaygpOyBzaG93TG9nb3V0KCk7IH0gfSB9LCBbXygndGV4dCcsICflj5bmtojmjojmnYMnKV0pLAogICAgICAgICAgICBfKCd0ZXh0JywgJ+OAgOOAgCcpLAogICAgICAgICAgICBfKCdhJywgeyBocmVmOiAnamF2YXNjcmlwdDonLCBldmVudDogeyBjbGljazogZnVuY3Rpb24gKCkgeyBwb3BNZXNzYWdlLnNob3coJCh0aGlzKSwgJ+WmguaenOS9oOeahOW4kOWPt+i/m+ihjOS6huS7mOi0ue+8jOS4jeiuuuaYr+Wkp+S8muWRmOi/mOaYr+aJv+WMhe+8jDxicj7ov5vooYzmjojmnYPkuYvlkI7lsIblj6/ku6XlnKjop6PpmaTpmZDliLbml7bmraPluLjkuqvmnInov5nkupvmnYPnm4o8YnI+PGJyPuS9oOWPr+S7pemaj+aXtuWcqOi/memHjOaOiOadg+aIluWPlua2iOaOiOadgzxicj48YnI+5LiN6L+b6KGM5o6I5p2D5LiN5Lya5b2x5ZON6ISa5pys55qE5q2j5bi45L2/55So77yM5L2G5Y+v6IO95Lya57y65aSxMTA4MFAnLCAxZTQpWzBdOyB9IH0gfSwgW18oJ3RleHQnLCAn77yI6L+Z5piv5LuA5LmI77yf77yJJyldKSwKICAgICAgICAgICAgXygnYnInKSwgXygnYnInKSwKICAgICAgICAgICAgXygnZGl2JywgeyBzdHlsZTogeyB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnIH0gfSwgWwogICAgICAgICAgICAgICAgXygnYScsIHsgaHJlZjogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy8yNTcxOC0lRTglQTclQTMlRTklOTklQTRiJUU3JUFCJTk5JUU1JThDJUJBJUU1JTlGJTlGJUU5JTk5JTkwJUU1JTg4JUI2JywgdGFyZ2V0OiAnX2JsYW5rJyB9LCBbXygndGV4dCcsICfohJrmnKzkuLvpobUnKV0pLAogICAgICAgICAgICAgICAgXygndGV4dCcsICdcbuS9nOiAhTogaXBjanNcbuS7o+eggei0oeeMrjogZXN0ZXJUaW9uIEZsYW5kcmVEYWlzdWtpXG7mjqXlj6Pmj5DkvpvvvJpCaWxpUGx1cycpCiAgICAgICAgICAgIF0pCiAgICAgICAgXSkKICAgIF0pCl0pOwoKdmFyIHBpbmdPdXRwdXQ7CmZ1bmN0aW9uIHNob3dTZXR0aW5ncygpIHsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2V0dGluZ3NET00pOwogICAgdmFyIGZvcm0gPSBzZXR0aW5nc0RPTS5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7CiAgICBmb3JtLmVsZW1lbnRzWydiYWxoX3Byb3h5X3NlcnZlciddLnZhbHVlID0gcHJveHlTZXJ2ZXI7CiAgICBmb3JtLmVsZW1lbnRzWydiYWxoX21vZGUnXS52YWx1ZSA9IG1vZGU7CiAgICBmb3JtLmVsZW1lbnRzWydiYWxoX2Jsb2NrZWRfdmlwJ10uY2hlY2tlZCA9IGlzQmxvY2tlZFZpcDsKICAgIHBpbmdPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsaF9zZXJ2ZXJfcGluZycpOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwp9CgovLyDmtYvpgJ8KZnVuY3Rpb24gcnVuUGluZygpIHsKICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSwgdGVzdFVybCA9IFsnaHR0cHM6Ly9iaWxpcGx1cy5pcGNqc2Rldi50aycsICdodHRwczovL3d3dy5iaWxpcGx1cy5jb20nXSwgdGVzdFVybEluZGV4ID0gMCwgaXNSZXVzZWQgPSBmYWxzZSwgcHJldk5vdywgb3V0cHV0QXJyID0gW107CiAgICBwaW5nT3V0cHV0LnRleHRDb250ZW50ID0gJ+ato+WcqOi/m+ihjOacjeWKoeWZqOa1i+mAn+KApic7CiAgICBwaW5nT3V0cHV0LnN0eWxlLmhlaWdodCA9ICcxMDBweCc7CiAgICB4aHIub3BlbignR0VUJywgJycsIHRydWUpOwogICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiBwaW5nUmVzdWx0KCk7CiAgICB9OwogICAgdmFyIHBpbmdMb29wID0gZnVuY3Rpb24gKCkgewogICAgICAgIHByZXZOb3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICB4aHIub3BlbignR0VUJywgdGVzdFVybFt0ZXN0VXJsSW5kZXhdICsgJy9hcGkvYmFuZ3VtaScsIHRydWUpOwogICAgICAgIHhoci5zZW5kKCk7CiAgICB9OwogICAgdmFyIHBpbmdSZXN1bHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGR1cmF0aW9uID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gcHJldk5vdykgfCAwOwogICAgICAgIGlmIChpc1JldXNlZCkKICAgICAgICAgICAgb3V0cHV0QXJyLnB1c2goJ1x05aSN55So6L+e5o6l77yaJyArIGR1cmF0aW9uICsgJ21zJyksIGlzUmV1c2VkID0gZmFsc2UsIHRlc3RVcmxJbmRleCsrOwogICAgICAgIGVsc2UKICAgICAgICAgICAgb3V0cHV0QXJyLnB1c2godGVzdFVybFt0ZXN0VXJsSW5kZXhdICsgJzonKSwgb3V0cHV0QXJyLnB1c2goJ1x05Yid5qyh6L+e5o6l77yaJyArIGR1cmF0aW9uICsgJ21zJyksIGlzUmV1c2VkID0gdHJ1ZTsKICAgICAgICBwaW5nT3V0cHV0LnRleHRDb250ZW50ID0gb3V0cHV0QXJyLmpvaW4oJ1xuJyk7CiAgICAgICAgdGVzdFVybEluZGV4IDwgdGVzdFVybC5sZW5ndGggPyBwaW5nTG9vcCgpIDogcGluZ091dHB1dC5hcHBlbmRDaGlsZChfKCdhJywgeyBocmVmOiAnamF2YXNjcmlwdDonLCBldmVudDogeyBjbGljazogcnVuUGluZyB9IH0sIFtfKCd0ZXh0JywgJ1xu5YaN5rWL5LiA5qyh77yfJyldKSk7CiAgICB9OwogICAgcGluZ0xvb3AoKTsKfQoKLy8g5pq06Zyy5o6l5Y+jCndpbmRvdy5iYW5ndW1pX2FyZWFfbGltaXRfaGFjayA9IHsKICAgIHNldENvb2tpZTogc2V0Q29va2llLAogICAgZ2V0Q29va2llOiBnZXRDb29raWUsCiAgICBsb2dpbjogc2hvd0xvZ2luLAogICAgbG9nb3V0OiBzaG93TG9nb3V0LAogICAgX2NsZWFyX2xvY2FsX3ZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5iYWxoX25vdEZpcnN0OwogICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuYmFsaF9sb2dpbjsKICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmJhbGhfbWFpbkxvZ2luOwogICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Uub2F1dGhUaW1lOwogICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuYmFsaF9oNV9ub3RfZmlyc3Q7CiAgICB9Cn07CndpbmRvdy5iYW5ndW1pX2FlcmFfbGltaXRfaGFjayA9IHdpbmRvdy5iYW5ndW1pX2FyZWFfbGltaXRfaGFjazsgLy8g5YW85a65Li4uCgovLy8vLy8vLy8vLy8vLy8v5o6l5LiL5p2l5YWo5piv5Ye95pWwLy8vLy8vLy8vLy8vLy8vLy8KCmZ1bmN0aW9uIGluamVjdERhdGFGaWx0ZXIoKSB7CiAgICB3aW5kb3cualF1ZXJ5LmFqYXhTZXR1cCh7CiAgICAgICAgZGF0YUZpbHRlcjoganF1ZXJ5RGF0YUZpbHRlcgogICAgfSk7CiAgICByZXBsYWNlQWpheCgpOwp9CgpmdW5jdGlvbiBqcXVlcnlEYXRhRmlsdGVyKGRhdGEsIHR5cGUpIHsKICAgIHZhciBqc29uLCBncm91cDsKICAgIC8vIGxvZyhhcmd1bWVudHMsIHRoaXMpOwogICAgaWYgKHRoaXMudXJsLnN0YXJ0c1dpdGgod2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vd2ViX2FwaS9zZWFzb25fYXJlYScpKSB7CiAgICAgICAgLy8g55Wq5Ymn6aG16Z2i5piv5ZCm6KaB6ZqQ6JeP55Wq5Ymn5YiX6KGoIEFQSQogICAgICAgIGxvZyhkYXRhKTsKICAgICAgICBqc29uID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgICAvLyDpmZDliLbljLrln5/ml7bnmoRkYXRh5Li6OgogICAgICAgIC8vIHsiY29kZSI6MCwibWVzc2FnZSI6InN1Y2Nlc3MiLCJyZXN1bHQiOnsicGxheSI6MH19CiAgICAgICAgaWYgKGpzb24uY29kZSA9PT0gMCAmJiBqc29uLnJlc3VsdCAmJiBqc29uLnJlc3VsdC5wbGF5ID09PSAwKSB7CiAgICAgICAgICAgIG1vZGUgPT09IE1PREVfREVGQVVMVCAmJiBzZXRBcmVhTGltaXRTZWFzb24odHJ1ZSk7CiAgICAgICAgICAgIGpzb24ucmVzdWx0LnBsYXkgPSAxOyAvLyDmlLnmiJAx5bCx6IO95aSf5pi+56S6CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShqc29uKTsKICAgICAgICAgICAgbG9nKCc9PT4nLCBkYXRhKTsKICAgICAgICAgICAgLy8gc2hvd05vdGlmaWNhdGlvbihEYXRlLm5vdygpLCBHTV9pbmZvLnNjcmlwdC5uYW1lLCAn5qOA5rWL5Yiw5Yy65Z+f6ZmQ5Yi255Wq5Ymn77yM5YeG5aSH5ZCv5Yqo6buR5rSe56qB56C056iL5bqPXG5cbuWIt+S4i+WtmOWcqOaEnyjCsOKIgMKwKe++iScsICcvL2Jhbmd1bWkuYmlsaWJpbGkuY29tL2Zhdmljb24uaWNvJywgMmUzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtb2RlID09PSBNT0RFX0RFRkFVTFQgJiYgc2V0QXJlYUxpbWl0U2Vhc29uKGZhbHNlKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gZGF0YTsKfQoKLyoKIHsiY29kZSI6MCwibWVzc2FnZSI6InN1Y2Nlc3MiLCJyZXN1bHQiOnsiYWlkIjo5ODU0OTUyLCJjaWQiOjE2MjkyNjI4LCJlcGlzb2RlX3N0YXR1cyI6MiwicGF5bWVudCI6eyJwcmljZSI6IjAifSwicGxheWVyIjoidnVwbG9hZCIsInByZV9hZCI6MCwic2Vhc29uX3N0YXR1cyI6Mn19CiAqLwpmdW5jdGlvbiB3YXJuU2VydmVyQ29ubmVjdGlvbihlKSB7CiAgICBpZiAoZS5yZWFkeVN0YXRlID09IDApIHsKICAgICAgICBwb3BNZXNzYWdlLnNob3coJCgnLmJhbGhfc2V0dGluZ3MnKSwgJ+WTjuWRgO+8jOacjeWKoeWZqOi/nuS4jeS4iuS6hu+8jOehruiupOS4gOS4i+i/nuaOpe+8nycsIDAsICdidXR0b24nLCBzaG93U2V0dGluZ3MpOwogICAgfQp9CmZ1bmN0aW9uIHJlcGxhY2VBamF4KCkgewogICAgdmFyIG9yaWdpbmFsQWpheCA9ICQuYWpheDsKICAgICQuYWpheCA9IGZ1bmN0aW9uIChhcmcwLCBhcmcxKSB7CiAgICAgICAgLy8gbG9nKGFyZ3VtZW50cyk7CiAgICAgICAgdmFyIHBhcmFtOwogICAgICAgIGlmIChhcmcxID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcGFyYW0gPSBhcmcwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFyZzAgJiYgKGFyZzEudXJsID0gYXJnMCk7CiAgICAgICAgICAgIHBhcmFtID0gYXJnMTsKICAgICAgICB9CiAgICAgICAgdmFyIG9yaVN1Y2Nlc3MgPSBwYXJhbS5zdWNjZXNzOwogICAgICAgIHZhciBteVN1Y2Nlc3M7CiAgICAgICAgdmFyIG9uZV9hcGk7CiAgICAgICAgaWYgKHBhcmFtLnVybC5tYXRjaCgnL3dlYl9hcGkvZ2V0X3NvdXJjZScpKSB7CiAgICAgICAgICAgIG9uZV9hcGkgPSBiaWxpYmlsaUFwaXMuX2dldF9zb3VyY2U7CiAgICAgICAgICAgIGlmIChtb2RlID09PSBNT0RFX1JFRElSRUNUIHx8IChtb2RlID09PSBNT0RFX0RFRkFVTFQgJiYgaXNBcmVhTGltaXRTZWFzb24oKSkpIHsgLy8g5a+55bqUcmVkaXJlY3TmqKHlvI8KICAgICAgICAgICAgICAgIHBhcmFtLnVybCA9IG9uZV9hcGkudHJhbnNUb1Byb3h5VXJsKHBhcmFtLnVybCk7CiAgICAgICAgICAgICAgICBwYXJhbS50eXBlID0gJ0dFVCc7CiAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW0uZGF0YTsKICAgICAgICAgICAgICAgIHBhcmFtLnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBvbmVfYXBpLnByb2Nlc3NQcm94eVN1Y2Nlc3MoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgbG9nKCdSZWRpcmVjdGVkIHJlcXVlc3Q6IGdldF9zb3VyY2UnLCByZXR1cm5WYWwpOwogICAgICAgICAgICAgICAgICAgIG9yaVN1Y2Nlc3MocmV0dXJuVmFsKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB2YXIgb3JpRXJyb3IgPSBwYXJhbS5lcnJvcjsKICAgICAgICAgICAgICAgIHBhcmFtLmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICB3YXJuU2VydmVyQ29ubmVjdGlvbihlKTsKICAgICAgICAgICAgICAgICAgICBvcmlFcnJvcihlKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSB7IC8vIOWvueW6lHJlcGxhY2XmqKHlvI8KICAgICAgICAgICAgICAgIHBhcmFtLnN1Y2Nlc3MgPSBmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgICAgICAgICAgIGxvZyhqc29uKTsKICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5jb2RlID09PSAtNDAzMDEgLy8g5Yy65Z+f6ZmQ5Yi2CiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGpzb24ucmVzdWx0LnBheW1lbnQgJiYganNvbi5yZXN1bHQucGF5bWVudC5wcmljZSAhPSAwICYmIGlzQmxvY2tlZFZpcCkgeyAvLyDpnIDopoHku5jotLnnmoTop4bpopEsIOatpOaXtkLnq5nov5Tlm57nmoRjaWTmmK/plJnkuoYsIOaVhemcgOimgeS9v+eUqOS7o+eQhuacjeWKoeWZqOeahOaOpeWPowogICAgICAgICAgICAgICAgICAgICAgICBvbmVfYXBpLmFzeW5jQWpheEJ5UHJveHkocGFyYW0udXJsLCBvcmlTdWNjZXNzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FyblNlcnZlckNvbm5lY3Rpb24oZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlTdWNjZXNzKGpzb24pOyAvLyDmlrDnmoTor7fmsYLmiqXplJksIOS5n+W6lOivpei/lOWbnuWOn+adpeeahOaVsOaNrgogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9PT0gTU9ERV9ERUZBVUxUICYmIHNldEFyZWFMaW1pdFNlYXNvbih0cnVlKTsgLy8g5Y+q6KaB6buY6K6k5qih5byP5omN6KaB6Lef6Liq5piv5ZCm5pyJ5Yy65Z+f6ZmQ5Yi2CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9PT0gTU9ERV9ERUZBVUxUICYmIHNldEFyZWFMaW1pdFNlYXNvbihmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Jsb2NrZWRWaXAgJiYganNvbi5jb2RlID09PSAwICYmIGpzb24ucmVzdWx0LnByZV9hZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5yZXN1bHQucHJlX2FkID0gMDsgLy8g5Y676Zmk5YmN572u5bm/5ZGKCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgb3JpU3VjY2Vzcyhqc29uKTsgLy8g5L+d6K+B5LiA5a6a6LCD55So5LqG5Y6f5p2l55qEc3VjY2VzcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHBhcmFtLnVybC5tYXRjaCgnL3BsYXllci93ZWJfYXBpL3BsYXl1cmwnKSkgewogICAgICAgICAgICBvbmVfYXBpID0gYmlsaWJpbGlBcGlzLl9wbGF5dXJsOwogICAgICAgICAgICBpZiAobW9kZSA9PT0gTU9ERV9SRURJUkVDVCB8fCAobW9kZSA9PT0gTU9ERV9ERUZBVUxUICYmIGlzQXJlYUxpbWl0U2Vhc29uKCkpKSB7CiAgICAgICAgICAgICAgICBwYXJhbS51cmwgPSBvbmVfYXBpLnRyYW5zVG9Qcm94eVVybChwYXJhbS51cmwpOwogICAgICAgICAgICAgICAgcGFyYW0uc3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgb3JpU3VjY2VzcyhvbmVfYXBpLnByb2Nlc3NQcm94eVN1Y2Nlc3MoZGF0YSkpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciBvcmlFcnJvciA9IHBhcmFtLmVycm9yOwogICAgICAgICAgICAgICAgcGFyYW0uZXJyb3IgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHdhcm5TZXJ2ZXJDb25uZWN0aW9uKGUpOwogICAgICAgICAgICAgICAgICAgIG9yaUVycm9yKGUpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxvZygnUmVkaXJlY3RlZCByZXF1ZXN0OiBiYW5ndW1pIHBsYXl1cmwgLT4gJywgcGFyYW0udXJsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhcmFtLnN1Y2Nlc3MgPSBmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgICAgICAgICAgIC8vIOiOt+WPluinhumikeWcsOWdgCBBUEkKICAgICAgICAgICAgICAgICAgICBsb2coanNvbik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQmxvY2tlZFZpcCB8fCBqc29uLmNvZGUgfHwgaXNBcmVhTGltaXRGb3JQbGF5VXJsKGpzb24pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9uZV9hcGkuYXN5bmNBamF4QnlQcm94eShwYXJhbS51cmwsIG9yaVN1Y2Nlc3MsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuU2VydmVyQ29ubmVjdGlvbihlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaVN1Y2Nlc3MoanNvbik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09PSBNT0RFX0RFRkFVTFQgJiYgc2V0QXJlYUxpbWl0U2Vhc29uKHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPT09IE1PREVfREVGQVVMVCAmJiBzZXRBcmVhTGltaXRTZWFzb24oZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBvcmlTdWNjZXNzKGpzb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHBhcmFtLnVybC5tYXRjaCgnLy9pbnRlcmZhY2UuYmlsaWJpbGkuY29tL3BsYXllcj8nKSkgewogICAgICAgICAgICBpZiAoaXNCbG9ja2VkVmlwKSB7CiAgICAgICAgICAgICAgICBteVN1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4bWwgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZygnPHVzZXJzdGF0dXM+JyArIGRhdGEucmVwbGFjZSgvXCYvZywgJyZhbXA7JykgKyAnPC91c2Vyc3RhdHVzPicsICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlwVGFnID0geG1sLnF1ZXJ5U2VsZWN0b3IoJ3ZpcCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlwVGFnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlwID0gSlNPTi5wYXJzZSh2aXBUYWcuaW5uZXJIVE1MKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcC52aXBUeXBlID0gMjsgLy8g57G75Z6LLCDlubTluqblpKfkvJrlkZgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcC52aXBTdGF0dXMgPSAxOyAvLyDnirbmgIEsIOWQr+eUqAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlwVGFnLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHZpcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geG1sLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvZygncGFyc2UgeG1sIGVycm9yOiAnLCBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb3JpU3VjY2VzcyhkYXRhKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIOiLpeWklumDqOS9v+eUqHBhcmFtLnN1Y2Nlc3PlpITnkIbnu5PmnpwsIOWImeabv+aNonBhcmFtLnN1Y2Nlc3MKICAgICAgICBpZiAob3JpU3VjY2VzcyAmJiBteVN1Y2Nlc3MpIHsKICAgICAgICAgICAgcGFyYW0uc3VjY2VzcyA9IG15U3VjY2VzczsKICAgICAgICB9CiAgICAgICAgLy8gZGVmYXVsdAogICAgICAgIHZhciB4aHIgPSBvcmlnaW5hbEFqYXguYXBwbHkodGhpcywgW3BhcmFtXSk7CgogICAgICAgIC8vIOiLpeWklumDqOS9v+eUqHhoci5kb25lKCnlpITnkIbnu5PmnpwsIOWImeabv+aNonhoci5kb25lKCkKICAgICAgICBpZiAoIW9yaVN1Y2Nlc3MgJiYgbXlTdWNjZXNzKSB7CiAgICAgICAgICAgIHhoci5kb25lKG15U3VjY2Vzcyk7CiAgICAgICAgICAgIHhoci5kb25lID0gZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIG9yaVN1Y2Nlc3MgPSBzdWNjZXNzOyAvLyDkv53lrZjlpJbpg6jorr7nva7nmoRzdWNjZXNz5Ye95pWwCiAgICAgICAgICAgICAgICByZXR1cm4geGhyOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geGhyOwogICAgfTsKfQoKZnVuY3Rpb24gaXNBcmVhTGltaXRTZWFzb24oKSB7CiAgICByZXR1cm4gZ2V0Q29va2llKCdiYWxoX3NlYXNvbl8nICsgZ2V0U2Vhc29uSWQoKSk7Cn0KCmZ1bmN0aW9uIHNldEFyZWFMaW1pdFNlYXNvbihsaW1pdCkgewogICAgdmFyIHNlYXNvbl9pZCA9IGdldFNlYXNvbklkKCk7CiAgICBzZXRDb29raWUoJ2JhbGhfc2Vhc29uXycgKyBzZWFzb25faWQsIGxpbWl0ID8gJzEnIDogdW5kZWZpbmVkLCAnJyk7IC8vIOesrOS4ieS4quWPguaVsOS4uicnLCDooajnpLrml7ZTZXNzaW9u57G75Z6L55qEY29va2llCiAgICBsb2coJ3NldEFyZWFMaW1pdFNlYXNvbicsIHNlYXNvbl9pZCwgbGltaXQpOwp9CgpmdW5jdGlvbiBnZXRTZWFzb25JZCgpIHsKICAgIHZhciBzZWFzb25JZDsKICAgIC8vIOWPlmFuaW1l6aG16Z2i55qEc2Vhc29uSWQKICAgIHRyeSB7CiAgICAgICAgLy8g6Iuldywg5piv5YW2ZnJhbWXnmoR3aW5kb3csIOWImeacieWPr+iDveayoeacieadg+mZkCwg6ICM5oqb5byC5bi4CiAgICAgICAgc2Vhc29uSWQgPSB3aW5kb3cuc2Vhc29uX2lkIHx8IHdpbmRvdy50b3Auc2Vhc29uX2lkOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGxvZyhlKTsKICAgIH0KICAgIGlmICghc2Vhc29uSWQpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBzZWFzb25JZCA9ICh3aW5kb3cudG9wLmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9cL2FuaW1lXC8oXGQrKS8pIHx8IFsnJywgJyddKVsxXTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGxvZyhlKTsKICAgICAgICB9CiAgICB9CgogICAgLy8g6Iul5rKh5Y+W5YiwLCDliJnlj5Ztb3ZpZemhtemdoueahHNlYXNvbklkLCDku6Vt5byA5aS0CiAgICBpZiAoIXNlYXNvbklkKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc2Vhc29uSWQgPSAod2luZG93LnRvcC5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXC9tb3ZpZVwvKFxkKykvKSB8fCBbJycsICcnXSlbMV07CiAgICAgICAgICAgIGlmIChzZWFzb25JZCkgewogICAgICAgICAgICAgICAgc2Vhc29uSWQgPSAnbScgKyBzZWFzb25JZDsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgbG9nKGUpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyDmnIDlkI4sIOiLpeayoeWPluWIsCwg5YiZ6K+V5Zu+5Y+W5Ye65b2T5YmN6aG16Z2idXJs5Lit55qEYWlkCiAgICBpZiAoIXNlYXNvbklkKSB7CiAgICAgICAgc2Vhc29uSWQgPSBnZXRQYXJhbSh3aW5kb3cubG9jYXRpb24uaHJlZiwgJ2FpZCcpOwogICAgICAgIGlmIChzZWFzb25JZCkgewogICAgICAgICAgICBzZWFzb25JZCA9ICdhdicgKyBzZWFzb25JZDsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gc2Vhc29uSWQgfHwgJzAwMCc7Cn0KCi8vIOWcqGF26aG16Z2i5Lit55qEaWZyYW1l5qCH562+5b2i5byP55qEcGxheWVyCmZ1bmN0aW9uIGlzUGxheWVyRnJhbWVJbkF2UGFnZSgpIHsKICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3d3dy5iaWxpYmlsaS5jb20vYmxhY2tib2FyZC9odG1sNXBsYXllci5odG1sJykgIT09IC0xICYmIHdpbmRvdy50b3AubG9jYXRpb24uaHJlZi5pbmRleE9mKCd3d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2JykgIT09IC0xOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGxvZyhlKTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gaXNBcmVhTGltaXRGb3JQbGF5VXJsKGpzb24pIHsKICAgIHJldHVybiBqc29uLmR1cmwgJiYganNvbi5kdXJsLmxlbmd0aCA9PT0gMSAmJiBqc29uLmR1cmxbMF0ubGVuZ3RoID09PSAxNTEyNiAmJiBqc29uLmR1cmxbMF0uc2l6ZSA9PT0gMTI0NjI3Owp9CgpmdW5jdGlvbiBnZXRQYXJhbSh1cmwsIGtleSkgewogICAgcmV0dXJuICh1cmwubWF0Y2gobmV3IFJlZ0V4cCgnWz98Jl0nICsga2V5ICsgJz0oXFx3KyknKSkgfHwgWycnLCAnJ10pWzFdOwp9CgpmdW5jdGlvbiBnZXRDb29raWVzKCkgewogICAgdmFyIG1hcCA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkgewogICAgICAgIHZhciBlbnRyeSA9IGl0ZW0uc3BsaXQoJz0nKTsKICAgICAgICBvYmpbZW50cnlbMF1dID0gZW50cnlbMV07CiAgICAgICAgcmV0dXJuIG9iajsKICAgIH0sIHt9KTsKICAgIHJldHVybiBtYXA7Cn0KCmZ1bmN0aW9uIGdldENvb2tpZShrZXkpIHsKICAgIHJldHVybiBnZXRDb29raWVzKClba2V5XTsKfQoKLy8gZG9jdW1lbnQuY29va2llPWBiYW5ndW1pX2FyZWFfbGltaXRfaGFja19zZXJ2ZXI9aHR0cHM6Ly93d3cuYmlsaXBsdXMuY29tOyBkb21haW49LmJpbGliaWxpLmNvbTsgcGF0aD0vOyBleHBpcmVzPSR7bmV3IERhdGUoIjIwMjAtMDEtMDEiKS50b1VUQ1N0cmluZygpfWA7CgovKioKICogQHBhcmFtIGtleSAgICAga2V5CiAqIEBwYXJhbSB2YWx1ZSAgIOS4unVuZGVmaW5lZOaXtiwg6KGo56S65Yig6ZmkY29va2llCiAqIEBwYXJhbSBvcHRpb25zIOS4unVuZGVmaW5lZOaXtiwg6KGo56S66L+H5pyf5pe26Ze05Li6M+W5tAogKiAgICAgICAgICDkuLonJ+aXtiwg6KGo56S6U2Vzc2lvbiBjb29raWUKICogICAgICAgICAg5Li65pWw5a2X5pe2LCDooajnpLrmjIflrprov4fmnJ/ml7bpl7QKICogICAgICAgICAg5Li6e33ml7YsIOihqOekuuaMh+WumuaJgOacieeahOWxnuaApwogKiAqLwpmdW5jdGlvbiBzZXRDb29raWUoa2V5LCB2YWx1ZSwgb3B0aW9ucykgewogICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JykgewogICAgICAgIG9wdGlvbnMgPSB7CiAgICAgICAgICAgIGRvbWFpbjogJy5iaWxpYmlsaS5jb20nLAogICAgICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgICAgICdtYXgtYWdlJzogdmFsdWUgPT09IHVuZGVmaW5lZCA/IDAgOiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkID8gOTQ2MDgwMDAgOiBvcHRpb25zKQogICAgICAgIH07CiAgICB9CiAgICB2YXIgYyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoc3RyLCBrZXkpIHsKICAgICAgICByZXR1cm4gc3RyICsgJzsgJyArIGtleSArICc9JyArIG9wdGlvbnNba2V5XTsKICAgIH0sIGtleSArICc9JyArIHZhbHVlKTsKICAgIGRvY3VtZW50LmNvb2tpZSA9IGM7CiAgICByZXR1cm4gYzsKfQoKZnVuY3Rpb24gc2hvd0xvZ2luKCkgewogICAgdmFyIGxvZ2luVXJsID0gcHJveHlTZXJ2ZXIgKyAnL2xvZ2luJywKICAgICAgICBpZnJhbWVTcmMgPSAnaHR0cHM6Ly9wYXNzcG9ydC5iaWxpYmlsaS5jb20vbG9naW4/YXBwa2V5PTI3ZWI1M2ZjOTA1OGY4YzMmYXBpPScgKyBlbmNvZGVVUklDb21wb25lbnQobG9naW5VcmwpICsgJyZzaWduPScgKyBoZXhfbWQ1KCdhcGk9JyArIGxvZ2luVXJsICsgJ2MyZWQ1M2E3NGVlZWZlM2NmOTlmYmQwMWQ4YzljMzc1Jyk7CiAgICBzaG93UG9wV2luZG93KGlmcmFtZVNyYyk7CiAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmJhbGhfbG9naW47Cn0KCmZ1bmN0aW9uIHNob3dMb2dvdXQoKSB7CiAgICBzaG93UG9wV2luZG93KHByb3h5U2VydmVyICsgJy9sb2dpbj9hY3Q9bG9nb3V0Jyk7Cn0KCmZ1bmN0aW9uIHNob3dQb3BXaW5kb3coaWZyYW1lU3JjKSB7CiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxoLXN0eWxlLWxvZ2luJykpIHsKICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgIHN0eWxlLmlkID0gJ2JhbGgtc3R5bGUtbG9naW4nOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpLmlubmVySFRNTCA9ICdAa2V5ZnJhbWVzIHBvcC1pZnJhbWUtaW57MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguNyk7fTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBwb3AtaWZyYW1lLW91dHswJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpO30xMDAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjcpfX0uR01CaWxpUGx1c0Nsb3NlQm94e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1JTtyaWdodDo4JTtmb250LXNpemU6NDBweDtjb2xvcjojRkZGfSc7CiAgICB9CgogICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZGl2LmlkID0gJ0dNQmlsaVBsdXNMb2dpbkNvbnRhaW5lcic7CiAgICBkaXYuaW5uZXJIVE1MID0gJzxkaXYgc3R5bGU9InBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDt6LWluZGV4OjEwMDAwO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC41KTthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2FuaW1hdGlvbi1uYW1lOnBvcC1pZnJhbWUtaW47YW5pbWF0aW9uLWR1cmF0aW9uOi41cztjdXJzb3I6cG9pbnRlciI+PGlmcmFtZSBzcmM9IicgKyBpZnJhbWVTcmMgKyAnIiBzdHlsZT0iYmFja2dyb3VuZDojZTRlN2VlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMCU7bGVmdDoxMCU7d2lkdGg6ODAlO2hlaWdodDo4MCUiPjwvaWZyYW1lPjxkaXYgY2xhc3M9IkdNQmlsaVBsdXNDbG9zZUJveCI+w5c8L2Rpdj48L2Rpdj4nOwogICAgZGl2LmZpcnN0Q2hpbGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcyB8fCBlLnRhcmdldC5jbGFzc05hbWUgPT09ICdHTUJpbGlQbHVzQ2xvc2VCb3gnKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn56Gu6K6k5YWz6Zet77yfJykpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkaXYuZmlyc3RDaGlsZC5zdHlsZS5hbmltYXRpb25OYW1lID0gJ3BvcC1pZnJhbWUtb3V0JzsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBkaXYucmVtb3ZlKCk7CiAgICAgICAgICAgIH0sIDVlMik7CiAgICAgICAgfQogICAgfSk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7Cn0KCi8vIOmAu+i+keacieeCueS5sSwg5b2T5YmN5Zyo5aaC5LiL5oOF5Ya15omN5Lya5by55LiA5qyh55m75b2V5o+Q56S65qGGOgovLyAxLiDnrKzkuIDmrKHkvb/nlKgKLy8gMi4g5Li756uZK+acjeWKoeWZqOmDvemAgOWHuueZu+W9leWQjiwg5YaN6YeN5paw55m75b2V5Li756uZCmZ1bmN0aW9uIGNoZWNrTG9naW5TdGF0ZSgpIHsKICAgIGlmIChnZXRDb29raWUoIkRlZGVVc2VySUQiKSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy/mnKrnmbvlvZXkuLvnq5nvvIzlvLrliLbmjIflrprlgLwKICAgICAgICBsb2NhbFN0b3JhZ2UuYmFsaF9ub3RGaXJzdCA9IDE7CiAgICAgICAgbG9jYWxTdG9yYWdlLmJhbGhfbG9naW4gPSAwOwogICAgICAgIGxvY2FsU3RvcmFnZS5iYWxoX21haW5Mb2dpbiA9IDA7CiAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5iYWxoX21haW5Mb2dpbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy/kuLvnq5nmnKrnmbvlvZXlj5jkuLrnmbvlvZXvvIzph43nva7mmL7npLrlvLnnqpcKICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmJhbGhfbm90Rmlyc3Q7CiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5iYWxoX2xvZ2luOwogICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuYmFsaF9tYWluTG9naW47CiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5vYXV0aFRpbWU7CiAgICB9CiAgICBpZiAoIWxvY2FsU3RvcmFnZS5iYWxoX25vdEZpcnN0KSB7CiAgICAgICAgLy/nrKzkuIDmrKHmiZPlvIDvvIznoa7orqTmmK/lkKblt7LnmbvpmYbvvJvmnKrnmbvlvZXmmL7npLrnoa7orqTlvLnnqpcKICAgICAgICBsb2NhbFN0b3JhZ2UuYmFsaF9ub3RGaXJzdCA9IDE7CiAgICAgICAgY2hlY2tFeHBpcmV0aW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5vYXV0aFRpbWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmJhbGhfbG9naW4gPSAwOwogICAgICAgICAgICAgICAgcG9wTWVzc2FnZS5zaG93KCQoJy5iYWxoX3NldHRpbmdzJyksICfnnIvotbfmnaXkvaDmmK/nrKzkuIDmrKHkvb/nlKgnICsgR01faW5mby5zY3JpcHQubmFtZSArICc8YnI+6KaB5LiN6KaB6ICD6JmR6L+b6KGM5LiA5LiL5o6I5p2D77yfPGJyPjxicj7mjojmnYPlkI7lj6/ku6Xop4LnnIvljLrln5/pmZDlrprnlarliafnmoQxMDgwUDxicj7vvIjlpoLmnpzkvaDmmK/lpKfkvJrlkZjmiJbmib/ljIXov4fov5npg6jnlarnmoTor53vvIk8YnI+PGJyPuS9oOWPr+S7pemaj+aXtuWcqOiuvue9ruS4reaJk+W8gOaOiOadg+mhtemdoicsIDAsICdidXR0b24nLCBzaG93TG9naW4pOwogICAgICAgICAgICAgICAgcG9wTWVzc2FnZS5tc2dib3hbMF0uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOwogICAgICAgICAgICAgICAgLyppZiAoY29uZmlybSgpKSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd0xvZ2luKCk7CiAgICAgICAgICAgICAgICB9Ki8KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5iYWxoX2xvZ2luID0gMTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuYmFsaF9sb2dpbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy/pnZ7nrKzkuIDmrKHmiZPlvIDvvIznmbvlvZXnirbmgIHooqvph43nva7vvIzph43mlrDmo4DmtYsKICAgICAgICBjaGVja0V4cGlyZXRpbWUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuYmFsaF9sb2dpbiA9IChsb2NhbFN0b3JhZ2Uub2F1dGhUaW1lID09PSB1bmRlZmluZWQpID8gMCA6IDE7CiAgICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5iYWxoX2xvZ2luID09IDEgJiYgRGF0ZS5ub3coKSAtIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5vYXV0aFRpbWUpID4gMjQgKiA2MCAqIDYwICogMTAwMCkgewogICAgICAgIC8v5bey55m75b2V77yM5q+P5aSp5Li65ZGo5pyf5qOA5rWLa2V55pyJ5pWI5pyf77yM6L+H5pyf5YmN5LqU5aSp5Lya6Ieq5Yqo57ut5pyfCiAgICAgICAgY2hlY2tFeHBpcmV0aW1lKCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tFeHBpcmV0aW1lKGxvYWRDYWxsYmFjaykgewogICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICBzY3JpcHQuc3JjID0gcHJveHlTZXJ2ZXIgKyAnL2xvZ2luP2FjdD1leHBpcmV0aW1lJzsKICAgICAgICBsb2FkQ2FsbGJhY2sgJiYgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkQ2FsbGJhY2spOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIH0KfQoKZnVuY3Rpb24gY2hlY2tIdG1sNSgpIHsKICAgIHZhciBwbGF5ZXJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250ZW50Jyk7CiAgICBpZiAoIWxvY2FsU3RvcmFnZS5iYWxoX2g1X25vdF9maXJzdCAmJiBsb2NhbFN0b3JhZ2UuZGVmYXVsdGg1ICE9PSAnMScgJiYgd2luZG93LkdyYXlNYW5hZ2VyICYmIHBsYXllckNvbnRlbnQpIHsKICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zLCBvYnNlcnZlcikgewogICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5iYWxoX2g1X25vdF9maXJzdCA9ICd5ZXMnOwogICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oR01faW5mby5zY3JpcHQubmFtZSArICflj6rlnKhIVE1MNeaSreaUvuWZqOS4i+acieaViO+8jOaYr+WQpuWIh+aNouWIsEhUTUw177yfJykpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5HcmF5TWFuYWdlci5jbGlja01lbnUoJ2NoYW5nZV9oNScpOy8vIGNoYW5nZV9mbGFzaCwgY2hhbmdlX2g1CiAgICAgICAgICAgIH0KICAgICAgICB9KS5vYnNlcnZlKHBsYXllckNvbnRlbnQsIHsKICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLCAvLyDnm5HlkKxjaGlsZOeahOWinuWHjwogICAgICAgICAgICBhdHRyaWJ1dGVzOiBmYWxzZSwgLy8g55uR5ZCs5bGe5oCn55qE5Y+Y5YyWCiAgICAgICAgfSk7CiAgICB9Cn0KCi8vIGRvY3VtZW506L295YWl5a6M5oiQ5ZCO5Zue6LCDLCDnm7jlvZPkuo4kKGNiKTsKZnVuY3Rpb24gZG9jdW1lbnRSZWFkeShjYikgewogICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykgewogICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNiLCAxKTsKICAgIH0KICAgIHZhciBjYldyYXBwZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiV3JhcHBlcik7CiAgICAgICAgY2IoKTsKICAgIH07CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgY2JXcmFwcGVyKTsKfQoKLy8g5ZCM5qC35piv5ZyoZG9jdW1lbnTovb3lhaXlrozmiJDlkI7lm57osIMsIOS9huaYr+S8muWcqGRvY3VtZW50UmVhZHkoKeeahOWbnuiwg+S5i+WQjuinpuWPkS4uLgpmdW5jdGlvbiB3aW5kb3dSZWFkeShjYikgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7Cn0KCi8qKgogKiDpgJrnn6XmqKHlnZcKICog5Ym956qD6IeqIFlBV0Yg55So5oi36ISa5pysCiAqIOehrOW5v++8mmh0dHBzOi8vdGlhbnNoLmdpdGh1Yi5pby95YXdmLwogKi8KdmFyIG5vdGlmeSA9IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgYXZhbGlhYmxlID0ge307CiAgICB2YXIgc2hvd24gPSBbXTsKICAgIHZhciB1c2UgPSB7CiAgICAgICAgJ2hhc1Blcm1pc3Npb24nOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0sCiAgICAgICAgJ3JlcXVlc3RQZXJtaXNzaW9uJzogZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0sCiAgICAgICAgJ2hpZGVOb3RpZmljYXRpb24nOiBmdW5jdGlvbiAobm90aWZ5KSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0sCiAgICAgICAgJ3Nob3dOb3RpZmljYXRpb24nOiBmdW5jdGlvbiAoaWQsIHRpdGxlLCBib2R5LCBpY29uLCBkZWxheSwgb25jbGljaykgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9OwoKICAgIC8vIOajgOafpeS4gOS4quW+ruWNmuaYr+S4jeaYr+W3sue7j+iiq+aYvuekuui/h+S6hu+8jOWmguaenOaYvuekuui/h+S6huS4jemHjeWkjeaYvuekugogICAgdmFyIHNob3duRmVlZCA9IGZ1bmN0aW9uIChpZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CgogICAgLy8gd2Via2l0Tm90aWZpY2F0aW9ucwogICAgLy8gVGFiIE5vdGlmaWVyIOaJqeWxleWunueOsOatpOaOpeWPo++8jOS9huaYvuekuueahOahjOmdouaPkOekuuacgOWkmuWPquiDveaYvuekuuWJjeS4pOihjAogICAgaWYgKHR5cGVvZiB3ZWJraXROb3RpZmljYXRpb25zICE9PSAndW5kZWZpbmVkJykgYXZhbGlhYmxlLndlYmtpdCA9IHsKICAgICAgICAnaGFzUGVybWlzc2lvbic6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsLCBmYWxzZV1bd2Via2l0Tm90aWZpY2F0aW9ucy5jaGVja1Blcm1pc3Npb24oKV07CiAgICAgICAgfSwKICAgICAgICAncmVxdWVzdFBlcm1pc3Npb24nOiBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgcmV0dXJuIHdlYmtpdE5vdGlmaWNhdGlvbnMucmVxdWVzdFBlcm1pc3Npb24oY2FsbGJhY2spOwogICAgICAgIH0sCiAgICAgICAgJ2hpZGVOb3RpZmljYXRpb24nOiBmdW5jdGlvbiAobm90aWZ5KSB7CiAgICAgICAgICAgIG5vdGlmeS5jYW5jZWwoKTsKICAgICAgICAgICAgYWZ0ZXJIaWRlTm90aWZpY2F0aW9uKG5vdGlmeSk7CiAgICAgICAgfSwKICAgICAgICAnc2hvd05vdGlmaWNhdGlvbic6IGZ1bmN0aW9uIChpZCwgdGl0bGUsIGJvZHksIGljb24sIGRlbGF5LCBvbmNsaWNrKSB7CiAgICAgICAgICAgIGlmIChzaG93bkZlZWQoaWQpKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgdmFyIG5vdGlmeSA9IHdlYmtpdE5vdGlmaWNhdGlvbnMuY3JlYXRlTm90aWZpY2F0aW9uKGljb24sIHRpdGxlLCBib2R5KTsKICAgICAgICAgICAgaWYgKGRlbGF5ICYmIGRlbGF5ID4gMCkgbm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBoaWRlTm90aWZpY2F0aW9uKG5vdGlmeSk7CiAgICAgICAgICAgICAgICB9LCBkZWxheSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAob25jbGljaykgbm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgb25jbGljay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgaGlkZU5vdGlmaWNhdGlvbihub3RpZnkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbm90aWZ5LnNob3coKTsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmeTsKICAgICAgICB9LAogICAgfTsKCiAgICAvLyBOb3RpZmljYXRpb24KICAgIC8vIEZpcmVmb3ggMjIrCiAgICAvLyDmmL7npLo056eS5Lya6Ieq5Yqo5YWz6ZetIGh0dHBzOi8vYnVnemlsLmxhLzg3NTExNAogICAgaWYgKHR5cGVvZiBOb3RpZmljYXRpb24gIT09ICd1bmRlZmluZWQnKSBhdmFsaWFibGUuc3RhbmRhcmQgPSB7CiAgICAgICAgJ2hhc1Blcm1pc3Npb24nOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAnZ3JhbnRlZCc6IHRydWUsCiAgICAgICAgICAgICAgICAnZGVuaWVkJzogZmFsc2UsCiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IG51bGwsCiAgICAgICAgICAgIH1bTm90aWZpY2F0aW9uLnBlcm1pc3Npb25dOwogICAgICAgIH0sCiAgICAgICAgJ3JlcXVlc3RQZXJtaXNzaW9uJzogZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oY2FsbGJhY2spOwogICAgICAgIH0sCiAgICAgICAgJ2hpZGVOb3RpZmljYXRpb24nOiBmdW5jdGlvbiAobm90aWZ5KSB7CiAgICAgICAgICAgIG5vdGlmeS5jbG9zZSgpOwogICAgICAgICAgICBhZnRlckhpZGVOb3RpZmljYXRpb24obm90aWZ5KTsKICAgICAgICB9LAogICAgICAgICdzaG93Tm90aWZpY2F0aW9uJzogZnVuY3Rpb24gKGlkLCB0aXRsZSwgYm9keSwgaWNvbiwgZGVsYXksIG9uY2xpY2spIHsKICAgICAgICAgICAgaWYgKHNob3duRmVlZChpZCkpIHJldHVybiBudWxsOwogICAgICAgICAgICB2YXIgbm90aWZ5ID0gbmV3IE5vdGlmaWNhdGlvbih0aXRsZSwgeyAnYm9keSc6IGJvZHksICdpY29uJzogaWNvbiwgJ3JlcXVpcmVJbnRlcmFjdGlvbic6ICFkZWxheSB9KTsKICAgICAgICAgICAgaWYgKGRlbGF5ICYmIGRlbGF5ID4gMCkgbm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3cnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBoaWRlTm90aWZpY2F0aW9uKG5vdGlmeSk7CiAgICAgICAgICAgICAgICB9LCBkZWxheSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAob25jbGljaykgbm90aWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgb25jbGljay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgaGlkZU5vdGlmaWNhdGlvbihub3RpZnkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmeTsKICAgICAgICB9LAogICAgfTsKCiAgICAvLyDmnInlk6rkupvmjqXlj6Plj6/nlKgKICAgIHZhciBhdmFsaWFibGVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGF2YWxpYWJsZSk7CiAgICB9OwogICAgLy8g6YCJ5oup55So5ZOq5Liq5o6l5Y+jCiAgICB2YXIgY2hvc2VOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAocHJlZmVyKSB7CiAgICAgICAgcmV0dXJuICh1c2UgPSBwcmVmZXIgJiYgYXZhbGlhYmxlW3ByZWZlcl0gfHwgYXZhbGlhYmxlLnN0YW5kYXJkKTsKICAgIH07CiAgICBjaG9zZU5vdGlmaWNhdGlvbigpOwogICAgLy8g5qOA5p+l5p2D6ZmQCiAgICB2YXIgaGFzUGVybWlzc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdXNlLmhhc1Blcm1pc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgICAvLyDor7fmsYLmnYPpmZAKICAgIHZhciByZXF1ZXN0UGVybWlzc2lvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdXNlLnJlcXVlc3RQZXJtaXNzaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogICAgLy8g5pi+56S65raI5oGvCiAgICB2YXIgc2hvd05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChpZCwgdGl0bGUsIGJvZHksIGljb24sIGRlbGF5LCBvbmNsaWNrKSB7CiAgICAgICAgdmFyIG5vdGlmeSA9IHVzZS5zaG93Tm90aWZpY2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgc2hvd24ucHVzaChub3RpZnkpOwogICAgICAgIHJldHVybiBub3RpZnk7CiAgICB9OwogICAgLy8g6ZqQ6JeP5bey57uP5pi+56S655qE5raI5oGvCiAgICB2YXIgaGlkZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZnkpIHsKICAgICAgICB1c2UuaGlkZU5vdGlmaWNhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIHJldHVybiBub3RpZnk7CiAgICB9OwogICAgdmFyIGFmdGVySGlkZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZnkpIHsKICAgICAgICBzaG93biA9IHNob3duLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgICByZXR1cm4geCAhPT0gbm90aWZ5OwogICAgICAgIH0pOwogICAgfTsKCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2hvd24uZm9yRWFjaChoaWRlTm90aWZpY2F0aW9uKTsKICAgICAgICBzaG93biA9IFtdOwogICAgfSk7CgogICAgcmV0dXJuIHsKICAgICAgICAnYXZhbGlhYmxlTm90aWZpY2F0aW9uJzogYXZhbGlhYmxlTm90aWZpY2F0aW9uLAogICAgICAgICdjaG9zZU5vdGlmaWNhdGlvbic6IGNob3NlTm90aWZpY2F0aW9uLAogICAgICAgICdoYXNQZXJtaXNzaW9uJzogaGFzUGVybWlzc2lvbiwKICAgICAgICAncmVxdWVzdFBlcm1pc3Npb24nOiByZXF1ZXN0UGVybWlzc2lvbiwKICAgICAgICAnc2hvd05vdGlmaWNhdGlvbic6IHNob3dOb3RpZmljYXRpb24sCiAgICAgICAgJ2hpZGVOb3RpZmljYXRpb24nOiBoaWRlTm90aWZpY2F0aW9uCiAgICB9OwoKfSgpKTsKCmZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb24oKSB7CiAgICBzd2l0Y2ggKG5vdGlmeS5oYXNQZXJtaXNzaW9uKCkpIHsKICAgICAgICBjYXNlIG51bGw6IC8vIGRlZmF1bHQKICAgICAgICAgICAgdmFyIHRoYXRBcmd1bWVudHMgPSBhcmd1bWVudHM7CiAgICAgICAgICAgIG5vdGlmeS5yZXF1ZXN0UGVybWlzc2lvbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uLmFwcGx5KG51bGwsIHRoYXRBcmd1bWVudHMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSB0cnVlOiAvLyBncmFudGVkCiAgICAgICAgICAgIG5vdGlmeS5zaG93Tm90aWZpY2F0aW9uLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgZmFsc2U6IC8vIGRlbmllZAogICAgICAgICAgICBsb2coJ05vdGlmaWNhdGlvbiBwZXJtaXNzaW9uOiBkZW5pZWQnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn0KCi8qKgogKiDliJvlu7rlhYPntKDnmoTlv6vmjbfmlrnms5UKICogQHBhcmFtIHR5cGUgc3RyaW5nLCDmoIfnrb7lkI07IOeJueauiueahCwg6Iul5Li6dGV4dCwg5YiZ6KGo56S65Yib5bu65paH5a2XLCDlr7nlupTnmoR05Li65paH5a2X55qE5YaF5a65CiAqIEBwYXJhbSBwcm9wcyBvYmplY3QsIOWxnuaApzsg54m55q6K55qE5bGe5oCn5ZCN5pyJOiBjbGFzc05hbWUsIOexu+WQjTsgc3R5bGUsIOagt+W8jywg5YC85Li6KOagt+W8j+WQjSwg5YC8KeW9ouW8j+eahG9iamVjdDsgZXZlbnQsIOWAvOS4uijkuovku7blkI0sIOebkeWQrOWHveaVsCnlvaLlvI/nmoRvYmplY3Q7CiAqIEBwYXJhbSBjaGlsZHJlbiBhcnJheSwg5a2Q5YWD57SgOwogKi8KZnVuY3Rpb24gXyh0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHsKICAgIHZhciBlbGVtID0gbnVsbDsKICAgIGlmICh0eXBlID09PSAidGV4dCIpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocHJvcHMpOwogICAgfSBlbHNlIHsKICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTsKICAgIH0KICAgIGZvciAodmFyIG4gaW4gcHJvcHMpIHsKICAgICAgICBpZiAobiA9PT0gInN0eWxlIikgewogICAgICAgICAgICBmb3IgKHZhciB4IGluIHByb3BzLnN0eWxlKSB7CiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlW3hdID0gcHJvcHMuc3R5bGVbeF07CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKG4gPT09ICJjbGFzc05hbWUiKSB7CiAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gcHJvcHNbbl07CiAgICAgICAgfSBlbHNlIGlmIChuID09PSAiZXZlbnQiKSB7CiAgICAgICAgICAgIGZvciAodmFyIHggaW4gcHJvcHMuZXZlbnQpIHsKICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcih4LCBwcm9wcy5ldmVudFt4XSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShuLCBwcm9wc1tuXSk7CiAgICAgICAgfQogICAgfQogICAgaWYgKGNoaWxkcmVuKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0gIT0gbnVsbCkKICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hpbGRyZW5baV0pOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVtOwp9CgovLyDph43lrprlkJHliLBCYW5ndW1p6aG16Z2i77yMIOaIluiAheWcqOW9k+WJjemhtemdouebtOaOpeaPkuWFpeaSreaUvumhtemdogpmdW5jdGlvbiB0cnlSZWRpcmVjdFRvQmFuZ3VtaU9ySW5zZXJ0UGxheWVyKCkgewogICAgdmFyIG1zZ0JveDsKICAgIGlmICghKG1zZ0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iLXBhZ2UtYm9keSA+IC5lcnJvci1jb250YWluZXIgPiAuZXJyb3ItcGFuZWwnKSkpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgbXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgbXNnQm94Lmluc2VydEJlZm9yZShtc2csIG1zZ0JveC5maXJzdENoaWxkKTsKICAgIG1zZy5pbm5lclRleHQgPSAn6I635Y+W55Wq5Ymn6aG1VXJs5LitLi4uJzsKCiAgICB2YXIgYWlkID0gbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvLiphdihcZCspLiovLCAnJDEnKSwKICAgICAgICBwYWdlID0gKGxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9cL2luZGV4XyhcZCspLmh0bWwvKSB8fCBbJycsICcxJ10pWzFdLAogICAgICAgIGNpZCwKICAgICAgICBzZWFzb25faWQsCiAgICAgICAgZXBpc29kZV9pZDsKICAgIGFqYXhQcm9taXNlKHByb3h5U2VydmVyICsgJy9hcGkvdmlldz9pZD0nICsgYWlkICsgJyZ1cGRhdGU9dHJ1ZScpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgaWYgKGRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDorqHnrpflvZPliY3pobXpnaLnmoRjaWQKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpc3RbaV0ucGFnZSA9PSBwYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgY2lkID0gZGF0YS5saXN0W2ldLmNpZDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWRhdGEuYmFuZ3VtaSkgewogICAgICAgICAgICAgICAgLy8g5b2T5YmNYXbkuI3lsZ7kuo7nlarliafpobXpnaIsIOebtOaOpeWcqOW9k+WJjemhtemdouaPkuWFpeS4gOS4quaSreaUvuWZqOeahGlmcmFtZQogICAgICAgICAgICAgICAgdmFyIHBhZ2VCb2R5RWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmItcGFnZS1ib2R5Jyk7CiAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gXygnaWZyYW1lJywgeyBjbGFzc05hbWU6ICdwbGF5ZXIgYmlsaWJpbGlIdG1sNVBsYXllcicsIHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0sIHNyYzogZ2VuZXJhdGVTcmMoYWlkLCBjaWQpIH0pOwogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVQYWdlTGlzdChwYWdlcykgewogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uUGFnZUJ0bkNsaWNrKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZS50YXJnZXQuYXR0cmlidXRlc1snZGF0YS1pbmRleCddOwogICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3JjID0gZ2VuZXJhdGVTcmMoYWlkLCBwYWdlc1tpbmRleF0uY2lkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VzLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8oJ2EnLCB7ICdkYXRhLWluZGV4JzogaW5kZXgsIGV2ZW50OiB7IGNsaWNrOiBvblBhZ2VCdG5DbGljayB9IH0sIFtfKCd0ZXh0JywgaXRlbS5wYWdlICsgJzogJyArIGl0ZW0ucGFydCldKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlU3JjKGFpZCwgY2lkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcvL3d3dy5iaWxpYmlsaS5jb20vYmxhY2tib2FyZC9odG1sNXBsYXllci5odG1sP2NpZD0nICsgY2lkICsgJyZhaWQ9JyArIGFpZCArICcmcGxheWVyX3R5cGU9MSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmt7vliqDmkq3mlL7lmagKICAgICAgICAgICAgICAgIHBhZ2VCb2R5RWxlLmluc2VydEJlZm9yZShfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ3BsYXllci13cmFwcGVyJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdtYWluLWlubmVyJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAndi1wbGlzdCcgfSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBpZDogJ3BsaXN0JywgY2xhc3NOYW1lOiAncGxpc3QtY29udGVudCcgfSwgZ2VuZXJhdGVQYWdlTGlzdChkYXRhLmxpc3QpKQogICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgaWQ6ICdib2ZxaScsIGNsYXNzTmFtZTogJ3Njb250ZW50JyB9LCBbaWZyYW1lXSkKICAgICAgICAgICAgICAgIF0pLCBwYWdlQm9keUVsZS5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgIC8vIOa3u+WKoOivhOiuuuWMugogICAgICAgICAgICAgICAgcGFnZUJvZHlFbGUuYXBwZW5kQ2hpbGQoXygnZGl2JywgeyBjbGFzc05hbWU6ICdtYWluLWlubmVyJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdjb21tb24gcmVwb3J0LXNjcm9sbC1tb2R1bGUgcmVwb3J0LXdyYXAtbW9kdWxlJywgaWQ6ICdjb21tb25fcmVwb3J0JyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnYi1oZWFkJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdzcGFuJywgeyBjbGFzc05hbWU6ICdiLWhlYWQtdCByZXN1bHRzJyB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2ItaGVhZC10JyB9LCBbXygndGV4dCcsICfor4TorronKV0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnYScsIHsgY2xhc3NOYW1lOiAnZGVsLWxvZycsIGhyZWY6ICcvL3d3dy5iaWxpYmlsaS5jb20vcmVwbHlkZWxldGVsb2c/YWlkPScgKyBhaWQgKyAnJnRpdGxlPScgKyBkYXRhLnRpdGxlLCB0YXJnZXQ6ICdfYmxhbmsnIH0sIFtfKCd0ZXh0JywgJ+afpeeci+WIoOmZpOaXpeW/lycpXSkKICAgICAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnY29tbScsIGlkOiAnYmJDb21tZW50JyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGlkOiAnbG9hZF9jb21tZW50JywgY2xhc3NOYW1lOiAnY29tbV9vcGVuX2J0bicsIG9uY2xpY2s6ICJ2YXIgZmIgPSBuZXcgYmJGZWVkYmFjaygnLmNvbW0nLCAnYXJjJyk7ZmIuc2hvdygiICsgYWlkICsgIiwgMSk7Iiwgc3R5bGU6IHsgY3Vyc29yOiAncG9pbnRlcicgfSB9KQogICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICBdKSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGRhdGEudGl0bGU7CiAgICAgICAgICAgICAgICBtc2dCb3gucGFyZW50Tm9kZS5yZW1vdmUoKTsgLy8g56e76ZmkIC5lcnJvci1jb250YWluZXIKICAgICAgICAgICAgICAgIC8vIHJldHVybiBQcm9taXNlLnJlamVjdCgn6K+lQVblj7fkuI3lsZ7kuo7ku7vkvZXnlarliafpobUnKTsvL05vIGJhbmd1bWkgaW4gYXBpIHJlc3BvbnNlICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g5b2T5YmNYXblsZ7kuo7nlarliafpobXpnaIsIOe7p+e7reWkhOeQhgogICAgICAgICAgICAgICAgc2Vhc29uX2lkID0gZGF0YS5iYW5ndW1pLnNlYXNvbl9pZDsKICAgICAgICAgICAgICAgIHJldHVybiBhamF4UHJvbWlzZShwcm94eVNlcnZlciArICcvYXBpL2Jhbmd1bWk/c2Vhc29uPScgKyBzZWFzb25faWQpOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlcF9pZF9ieV9jaWQsIGVwX2lkX2J5X2FpZF9wYWdlLCBlcF9pZF9ieV9haWQsCiAgICAgICAgICAgICAgICBlcGlzb2RlcyA9IHJlc3VsdC5yZXN1bHQuZXBpc29kZXMsCiAgICAgICAgICAgICAgICBlcDsKICAgICAgICAgICAgLy8g5Li65L2V6KaB55So5LiJ56eN5LiN5ZCM5pa55byP5Yy56YWNLCDor6bop4E6IGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vZm9ydW0vZGlzY3Vzc2lvbi8yMjM3OS94I0NvbW1lbnRfMzQxMjcKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcGlzb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgZXAgPSBlcGlzb2Rlc1tpXTsKICAgICAgICAgICAgICAgIGlmIChlcC5kYW5tYWt1ID09IGNpZCkgewogICAgICAgICAgICAgICAgICAgIGVwX2lkX2J5X2NpZCA9IGVwLmVwaXNvZGVfaWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXAuYXZfaWQgPT0gYWlkICYmIGVwLnBhZ2UgPT0gcGFnZSkgewogICAgICAgICAgICAgICAgICAgIGVwX2lkX2J5X2FpZF9wYWdlID0gZXAuZXBpc29kZV9pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChlcC5hdl9pZCA9PSBhaWQpIHsKICAgICAgICAgICAgICAgICAgICBlcF9pZF9ieV9haWQgPSBlcC5lcGlzb2RlX2lkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVwaXNvZGVfaWQgPSBlcF9pZF9ieV9jaWQgfHwgZXBfaWRfYnlfYWlkX3BhZ2UgfHwgZXBfaWRfYnlfYWlkOwogICAgICAgICAgICBpZiAoZXBpc29kZV9pZCkgewogICAgICAgICAgICAgICAgdmFyIGJhbmd1bWlfdXJsID0gJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vYW5pbWUvJyArIHNlYXNvbl9pZCArICcvcGxheSMnICsgZXBpc29kZV9pZDsKICAgICAgICAgICAgICAgIGxvZygnUmVkaXJlY3QnLCAnYWlkOicsIGFpZCwgJ3BhZ2U6JywgcGFnZSwgJ2NpZDonLCBjaWQsICc9PT4nLCBiYW5ndW1pX3VybCwgJyhlcF9pZDonLCBlcF9pZF9ieV9jaWQsIGVwX2lkX2J5X2FpZF9wYWdlLCBlcF9pZF9ieV9haWQsICcpJyk7CiAgICAgICAgICAgICAgICBtc2cuaW5uZXJUZXh0ID0gJ+WNs+Wwhui3s+i9rOWIsO+8micgKyBiYW5ndW1pX3VybDsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBiYW5ndW1pX3VybDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgn5p+l6K+iZXBpc29kZV9pZOWksei0pScpOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbG9nKCdlcnJvcjonLCBhcmd1bWVudHMpOwogICAgICAgICAgICBtc2cuaW5uZXJUZXh0ID0gJ2Vycm9yOicgKyBlOwogICAgICAgIH0pOwp9CgpmdW5jdGlvbiB0cnlGaWxsU2Vhc29uTGlzdCgpIHsKICAgIHZhciBlcnJvcl9jb250YWluZXIsIHNlYXNvbl9pZDsKICAgIGlmICghKGVycm9yX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5lcnJvci1jb250YWluZXInKSkpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoIShzZWFzb25faWQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL15cL2FuaW1lXC8oXGQrKVwvPyQvKVsxXSkpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy/lsJ3or5Xop6PlhrPmgKrlvILmqKHlvI/muLLmn5MKICAgIC8qCiAgICDkvJrpgKDmiJDlj5jph4/kuKLlpLHvvIznrYnlvoXlrpjmlrnph43lhplkb2N0eXBlCiAgICB0cnl7CiAgICB3aW5kb3cuc3RvcCgpOwogICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgIHhoci5vcGVuKCdHRVQnLGxvY2F0aW9uLmhyZWYsZmFsc2UpOwogICAgeGhyLnNlbmQoKTsKICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoXygnc2NyaXB0Jyx7fSxbXygndGV4dCcsCiAgICAgICAgJ2RvY3VtZW50LndyaXRlKHVuZXNjYXBlKCInK2VzY2FwZSh4aHIucmVzcG9uc2UucmVwbGFjZSgvPCFET0NUWVBFLis/Pi8sJzwhRE9DVFlQRSBIVE1MPicpKSsnIikpO3dpbmRvdy5zdG9wKCknCiAgICApXSkpOwogICAgfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSk7fQogICAgKi8KCiAgICB2YXIgbXNnID0gXygnYScsIHsgaHJlZjogJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vYW5pbWUvJyArIHNlYXNvbl9pZCArICcvcGxheScsIHN0eWxlOiB7IGZvbnRTaXplOiAnMjBweCcgfSB9LCBbXygndGV4dCcsICfjgJAnICsgR01faW5mby5zY3JpcHQubmFtZSArICfjgJHlsJ3or5Xojrflj5bop4bpopHliJfooajkuK0uLi4nKV0pLAogICAgICAgIGNvbnRlbnQgPSBfKCdkaXYnKTsKCiAgICBlcnJvcl9jb250YWluZXIuaW5zZXJ0QmVmb3JlKGNvbnRlbnQsIGVycm9yX2NvbnRhaW5lci5maXJzdENoaWxkKTsKICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobXNnKTsKICAgIGxvZygnc2Vhc29uPjonLCBzZWFzb25faWQpOwogICAgYWpheFByb21pc2UocHJveHlTZXJ2ZXIgKyAnL2FwaS9iYW5ndW1pP3NlYXNvbj0nICsgc2Vhc29uX2lkKQogICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGxvZygnc2Vhc29uPnRoZW46JywgZGF0YSk7CiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChkYXRhKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVFcGlzb2RlTGlzdChlcGlzb2RlcykgewogICAgICAgICAgICAgICAgdmFyIGNoaWxkcyA9IFtdOwogICAgICAgICAgICAgICAgZXBpc29kZXMucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZHMucHVzaChfKCdsaScsIHsgY2xhc3NOYW1lOiAndjEtYmFuZ3VtaS1saXN0LXBhcnQtY2hpbGQnLCAnZGF0YS1lcGlzb2RlLWlkJzogaS5lcGlzb2RlX2lkIH0sIFtfKCdhJywgeyBjbGFzc05hbWU6ICd2MS1jb21wbGV0ZS10ZXh0JywgaHJlZjogJy8vYmFuZ3VtaS5iaWxpYmlsaS5jb20vYW5pbWUvJyArIHNlYXNvbl9pZCArICcvcGxheSMnICsgaS5lcGlzb2RlX2lkLCB0aXRsZTogaS5pbmRleCArICcgJyArIGkuaW5kZXhfdGl0bGUsIHRhcmdldDogJ19ibGFuaycsIHN0eWxlOiB7IGhlaWdodDogJzYwcHgnIH0gfSwgWwogICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ2ltZy13cnAnIH0sIFtfKCdpbWcnLCB7IHNyYzogaS5jb3Zlciwgc3R5bGU6IHsgb3BhY2l0eTogMSB9LCBsb2FkZWQ6ICdsb2FkZWQnLCBhbHQ6IGkuaW5kZXggKyAnICcgKyBpLmluZGV4X3RpdGxlIH0pXSksCiAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAndGV4dC13cnAnIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAndGV4dC13cnAtbnVtJyB9LCBbXygnZGl2JywgeyBjbGFzc05hbWU6ICd0ZXh0LXdycC1udW0tY29udGVudCcgfSwgW18oJ3RleHQnLCAn56ysJyArIGkuaW5kZXggKyAn6K+dJyldKV0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICd0ZXh0LXdycC10aXRsZSB0cnVuYycgfSwgW18oJ3RleHQnLCBpLmluZGV4X3RpdGxlKV0pCiAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSldKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlU2Vhc29uTGlzdChzZWFzb25zKSB7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvblNlYXNvbkNsaWNrKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLy9iYW5ndW1pLmJpbGliaWxpLmNvbS9hbmltZS8nICsgZXZlbnQudGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtc2Vhc29uLWlkJ10udmFsdWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHNlYXNvbnMubWFwKGZ1bmN0aW9uIChzZWFzb24pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gXygnbGknLCB7IGNsYXNzTmFtZTogc2Vhc29uLnNlYXNvbl9pZCA9PSBzZWFzb25faWQgPyAnY3VyJyA6ICcnLCAnZGF0YS1zZWFzb24taWQnOiBzZWFzb24uc2Vhc29uX2lkLCBldmVudDogeyBjbGljazogb25TZWFzb25DbGljayB9IH0sIFtfKCd0ZXh0Jywgc2Vhc29uLnRpdGxlKV0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBkYXRhLnJlc3VsdC50aXRsZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoXygnbGluaycsIHsgaHJlZjogJ2h0dHBzOi8vczMuaGRzbGIuY29tL2Jmcy9zdGF0aWMvYW5pbWUvY3NzL3RhZy1pbmRleC5jc3M/dj0xMTAnLCByZWw6ICdzdHlsZXNoZWV0JyB9KSk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKF8oJ2xpbmsnLCB7IGhyZWY6ICdodHRwczovL3MxLmhkc2xiLmNvbS9iZnMvc3RhdGljL2FuaW1lL2Nzcy9iYW5ndW1pLWluZGV4LmNzcz92PTExMCcsIHJlbDogJ3N0eWxlc2hlZXQnIH0pKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnbWFpbi1jb250YWluZXItd3JhcHBlcicgfSwgW18oJ2RpdicsIHsgY2xhc3NOYW1lOiAnbWFpbi1jb250YWluZXInIH0sIFsKICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ3BhZ2UtaW5mby13cnAnIH0sIFtfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ2Jhbmd1bWktaW5mby13cmFwcGVyJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnYmFuZ3VtaS1pbmZvLWJsdXJiZy13cmFwcGVyJyB9LCBbXygnZGl2JywgeyBjbGFzc05hbWU6ICdiYW5ndW1pLWluZm8tYmx1cmJnIGJsdXInLCBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIGRhdGEucmVzdWx0LmNvdmVyICsgJyknIH0gfSldKSwKICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdtYWluLWlubmVyJyB9LCBbXygnZGl2JywgeyBjbGFzc05hbWU6ICdpbmZvLWNvbnRlbnQnIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnYmFuZ3VtaS1wcmV2aWV3JyB9LCBbXygnaW1nJywgeyBhbHQ6IGRhdGEucmVzdWx0LnRpdGxlLCBzcmM6IGRhdGEucmVzdWx0LmNvdmVyIH0pXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ2Jhbmd1bWktaW5mby1yJyB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdiLWhlYWQnIH0sIFtfKCdoMScsIHsgY2xhc3NOYW1lOiAnaW5mby10aXRsZScsICdkYXRhLXNlYXNvbmlkJzogc2Vhc29uX2lkLCB0aXRsZTogZGF0YS5yZXN1bHQudGl0bGUgfSwgW18oJ3RleHQnLCBkYXRhLnJlc3VsdC50aXRsZSldKV0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnaW5mby1jb3VudCcgfSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdzcGFuJywgeyBjbGFzc05hbWU6ICdpbmZvLWNvdW50LWl0ZW0gaW5mby1jb3VudC1pdGVtLXBsYXknIH0sIFtfKCdzcGFuJywgeyBjbGFzc05hbWU6ICdpbmZvLWxhYmVsJyB9LCBbXygndGV4dCcsICfmgLvmkq3mlL4nKV0pLCBfKCdlbScsIHt9LCBbXygndGV4dCcsIGRhdGEucmVzdWx0LnBsYXlfY291bnQpXSldKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnc3BhbicsIHsgY2xhc3NOYW1lOiAnaW5mby1jb3VudC1pdGVtIGluZm8tY291bnQtaXRlbS1mYW5zJyB9LCBbXygnc3BhbicsIHsgY2xhc3NOYW1lOiAnaW5mby1sYWJlbCcgfSwgW18oJ3RleHQnLCAn6L+955Wq5Lq65pWwJyldKSwgXygnZW0nLCB7fSwgW18oJ3RleHQnLCBkYXRhLnJlc3VsdC5mYXZvcml0ZXMpXSldKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnc3BhbicsIHsgY2xhc3NOYW1lOiAnaW5mby1jb3VudC1pdGVtIGluZm8tY291bnQtaXRlbS1yZXZpZXcnIH0sIFtfKCdzcGFuJywgeyBjbGFzc05hbWU6ICdpbmZvLWxhYmVsJyB9LCBbXygndGV4dCcsICflvLnluZXmgLvmlbAnKV0pLCBfKCdlbScsIHt9LCBbXygndGV4dCcsIGRhdGEucmVzdWx0LmRhbm1ha3VfY291bnQpXSldKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXygnZGl2Jyx7Y2xhc3NOYW1lOidpbmZvLXJvdyBpbmZvLXVwZGF0ZSd9LFtdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL18oJ2Rpdicse2NsYXNzTmFtZTonaW5mby1yb3cgaW5mby1jdid9LFtdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ2luZm8tcm93IGluZm8tZGVzYy13cnAnIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdpbmZvLXJvdy1sYWJlbCcgfSwgW18oJ3RleHQnLCAn566A5LuL77yaJyldKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICdpbmZvLWRlc2MnIH0sIFtfKCd0ZXh0JywgZGF0YS5yZXN1bHQuZXZhbHVhdGUpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICAgIF0pXSkKICAgICAgICAgICAgICAgICAgICBdKV0pLAogICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAnbWFpbi1pbm5lcicgfSwgW18oJ2RpdicsIHsgY2xhc3NOYW1lOiAndjEtYmFuZ3VtaS1saXN0LXdyYXBwZXIgY2xlYXJmaXgnIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICd2MS1iYW5ndW1pLWxpc3Qtc2Vhc29uLXdyYXBwZXInIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oJ2RpdicsIHsgY2xhc3NOYW1lOiAndjEtYmFuZ3VtaS1saXN0LXNlYXNvbi1jb250ZW50IHNsaWRlci1saXN0LWNvbnRlbnQnIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7fSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCd1bCcsIHsgY2xhc3NOYW1lOiAndjEtYmFuZ3VtaS1saXN0LXNlYXNvbiBjbGVhcmZpeCBzbGlkZXItbGlzdCcsICdkYXRhLWN1cnJlbnQtc2Vhc29uLWlkJzogc2Vhc29uX2lkLCBzdHlsZTogeyBvcGFjaXR5OiAxIH0gfSwgZ2VuZXJhdGVTZWFzb25MaXN0KGRhdGEucmVzdWx0LnNlYXNvbnMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgXygnZGl2JywgeyBjbGFzc05hbWU6ICd2MS1iYW5ndW1pLWxpc3QtcGFydC13cmFwcGVyIHNsaWRlci1wYXJ0LXdyYXBwZXInIH0sIFtfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ3YxLWJhbmd1bWktbGlzdC1wYXJ0IGNsZWFyZml4JywgJ2RhdGEtY3VycmVudC1zZWFzb24taWQnOiBzZWFzb25faWQsIHN0eWxlOiB7IGRpc3BsYXk6ICdibG9jaycgfSB9LCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCdkaXYnLCB7IGNsYXNzTmFtZTogJ2NvbXBsZXRlLWxpc3QnLCBzdHlsZTogeyBkaXNwbGF5OiAnYmxvY2snIH0gfSwgW18oJ2RpdicsIHsgY2xhc3NOYW1lOiAndmlkZW8tc2xpZGVyLWxpc3Qtd3JhcHBlcicgfSwgW18oJ2RpdicsIHsgY2xhc3NOYW1lOiAnc2xpZGVyLXBhcnQtd3JhcHBlcicgfSwgW18oJ3VsJywgeyBjbGFzc05hbWU6ICdzbGlkZXItcGFydCBjbGVhcmZpeCBoaWRlJywgc3R5bGU6IHsgZGlzcGxheTogJ2Jsb2NrJyB9IH0sIGdlbmVyYXRlRXBpc29kZUxpc3QoZGF0YS5yZXN1bHQuZXBpc29kZXMpKV0pXSldKQogICAgICAgICAgICAgICAgICAgICAgICBdKV0pCiAgICAgICAgICAgICAgICAgICAgXSldKQogICAgICAgICAgICAgICAgXSldKSwgbXNnLnBhcmVudE5vZGUucGFyZW50Tm9kZSk7CiAgICAgICAgICAgICAgICBtc2cucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGxvZygnc2Vhc29uPmNhdGNoJywgZXJyb3IpOwogICAgICAgICAgICBtc2cuaW5uZXJUZXh0ID0gJ2Vycm9yOicgKyBKU09OLnN0cmluZ2lmeShlcnJvcikgKyAnXG7ngrnlh7vot7PovazliLDmkq3mlL7nlYzpnaIgKOS4jeS4gOWumuiDveWkn+ato+W4uOaSreaUvi4uLiknOwogICAgICAgIH0pOwp9CgpmdW5jdGlvbiBhamF4UHJvbWlzZShvcHRpb25zKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyAmJiAob3B0aW9ucyA9IHsgdXJsOiBvcHRpb25zIH0pOwoKICAgICAgICBvcHRpb25zLmFzeW5jID09PSB1bmRlZmluZWQgJiYgKG9wdGlvbnMuYXN5bmMgPSB0cnVlKTsKICAgICAgICBvcHRpb25zLnhockZpZWxkcyA9PT0gdW5kZWZpbmVkICYmIChvcHRpb25zLnhockZpZWxkcyA9IHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pOwogICAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgfTsKICAgICAgICBvcHRpb25zLmVycm9yID0gZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9OwogICAgICAgICQuYWpheChvcHRpb25zKTsKICAgIH0pOwp9Cg=="},{"name":"Bypass Wait, Code & Login on Websites","options":{"awareOfChrome":true,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["down.lepan.cc","music.baidu.com","yinyueyun.baidu.com","media.store.kugou.com","trackercdn.kugou.com","yinyuetai.com","itwusun.com","self"],"orig_excludes":[],"orig_includes":["http://localhost.cuwcl4c/*","http://jixunmoe.github.io/*","http://123564.com/*","http://m.123564.com/*","http://5xfile.com/*","http://www.5xfile.com/*","http://yun.baidu.com/*","http://pan.baidu.com/*","http://howfile.com/*","http://*.howfile.com/*","http://jkpan.cc/*","http://*.jkpan.cc/*","http://namipan.cc/*","http://*.namipan.cc/*","http://10pan.cc/*","http://*.10pan.cc/*","http://66yp.cc/*","http://*.66yp.cc/*","http://123wzwp.com/*","http://*.123wzwp.com/*","http://hiyp.cc/*","http://*.hiyp.cc/*","http://jkpan.cc/*","http://*.jkpan.cc/*","http://webhd.xuite.net/*","http://sync.hamicloud.net/*","http://www.yimuhe.com/*","http://douban.fm/*","https://douban.fm/*","http://moe.fm/*","http://music.163.com/*","https://music.163.com/*","http://www.1ting.com/*","http://www.23356.com/*","http://www.app-echo.com/*","http://web.kugou.com/*","https://jixunmoe.github.io/cuwcl4c/config/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{"CUWCL4C":"s{\"version\":1,\"bDiaplayLog\":true,\"bUseCustomRules\":false,\"dAria_auth\":0,\"dAria_port\":6800,\"dUriType\":0,\"sAria_dir\":\"D:\\\\Download\\\\\",\"sAria_host\":\"127.0.0.1\",\"sAria_pass\":\"\",\"sAria_user\":\"\",\"sCustomRule\":\"\"}"},"ts":1507278856085},"enabled":true,"position":19,"file_url":"https://greasyfork.org/scripts/2600-%E8%B7%B3%E8%BF%87%E7%BD%91%E7%AB%99%E7%AD%89%E5%BE%85-%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8F%8A%E7%99%BB%E5%BD%95/code/%E8%B7%B3%E8%BF%87%E7%BD%91%E7%AB%99%E7%AD%89%E5%BE%85%E3%80%81%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8F%8A%E7%99%BB%E5%BD%95.user.js","uuid":"81ad6b0d-215a-42bb-8f1f-a74eb03d0780","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQGdyYW50ICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGdyYW50ICAgICAgICAgIEdNX2luZm8KCi8vIEBydW4tYXQgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAbmFtZTplbiAgICAgICAgQnlwYXNzIFdhaXQsIENvZGUgJiBMb2dpbiBvbiBXZWJzaXRlcwovLyBAbmFtZSAgICAgICAgICAg6Lez6L+H572R56uZ562J5b6F44CB6aqM6K+B56CB5Y+K55m75b2VCi8vIEBuYW1lOnpoLUNOICAgICDot7Pov4fnvZHnq5nnrYnlvoXjgIHpqozor4HnoIHlj4rnmbvlvZUKLy8gQG5hbWU6emgtVFcgICAgIOe5numBjuermem7nuetieW+heOAgeitmOWIpeeivOWPiueZu+mMhAoKLy8gQGRlc2NyaXB0aW9uICAgICAgIOenu+mZpOWQhOexu+e9keermemqjOivgeeggeOAgeeZu+W9leOAgeWAkuiuoeaXtuWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOenu+mZpOWQhOexu+e9keermemqjOivgeeggeOAgeeZu+W9leOAgeWAkuiuoeaXtuWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOnpoLVRXIOenu+mZpOWQhOmhnuermem7nuitmOWIpeeivOOAgeeZu+mMhOOAgeWAkuioiOaZguWPiuabtOWkmiEKLy8gQGRlc2NyaXB0aW9uOmVuICAgIFJlbW92ZSB2ZXJpZnkgY29kZSwgbG9naW4gcmVxdWlyZW1lbnQsIGNvdW50aW5nIGRvd24uLi4gYW5kIG1vcmUhCgoKLy8gQGNvcHlyaWdodCAgICAgIDIwMTQrLCBZdWxlaSwgTW9kIGJ5IEppeHVuLgovLy8vICAgICAgICAgICAgICAgQmFzZWQgb24gW0NyYWNrIFVybCBXYWl0IENvZGUgTG9naW5dIEJ5IFl1bGVpCgovLyDpgb/lhY0gU291cmNlIE1hcCDmlofku7bmib7kuI3liLDnmoTplJnor68KLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8yLjEuNC9qcXVlcnkuanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL3VuZGVyc2NvcmUuanMvMS44LjMvdW5kZXJzY29yZS5qcwoKLy8vIENyeXB0b0pTIOebuOWFs+W6kwovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vY3J5cHRvLWpzLzMuMS4yL2NvbXBvbmVudHMvY29yZS1taW4uanMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2NyeXB0by1qcy8zLjEuMi9jb21wb25lbnRzL2VuYy1iYXNlNjQtbWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9jcnlwdG8tanMvMy4xLjIvY29tcG9uZW50cy9tZDUtbWluLmpzCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNjY5Ni9jb2RlL0NyeXB0b0pTLUJ5dGVBcnJheS5qcwoKLy8vIOmdnuWQjOatpeaemuS4vgovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM1ODgtaW50ZXJ2YWwtbG9vcGVyL2NvZGUvSW50ZXJ2YWwtTG9vcGVyLmpzCgovLy8g5YW85a65IEdNIDEueCwgMi54Ci8vIEByZXF1aXJlICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMjU5OS9jb2RlL2dtMi1wb3J0LXYxMDQuanMKCi8vLyBBcmlhMiBSUEMKLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy81NjcyL2NvZGUvQXJpYTItUlBDLWJ1aWxkLTEwLmpzCgovLyBWdWVKcywgbm90IGFsd2F5cyB1c2VkLgovLyBAcmVzb3VyY2UgICAgICAgVnVlSnMgaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvdnVlLzEuMC4yNi92dWUubWluLmpzCgovLyBAYXV0aG9yICAgICAgICAgSml4dW4uTW9lPFllbGxvdyBZb3NoaT4KLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly9qaXh1bi5vcmcvCi8vIEB2ZXJzaW9uICAgICAgICA0LjAuNzIwCgovLyDlsJ3or5Xkvb/nlKjohJrmnKznlJ/miJDljLnphY3op4TliJkKLy8gLy8vLyAgICAgICAgICAgICAgIFtJbmNsdWRlIFJ1bGVzXQoKLy8gQGluY2x1ZGUgaHR0cDovL2xvY2FsaG9zdC5jdXdjbDRjLyoKLy8gQGluY2x1ZGUgaHR0cDovL2ppeHVubW9lLmdpdGh1Yi5pby8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8xMjM1NjQuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL20uMTIzNTY0LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly81eGZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3d3dy41eGZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3l1bi5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSBodHRwOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9ob3dmaWxlLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLmhvd2ZpbGUuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL2prcGFuLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouamtwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vbmFtaXBhbi5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLm5hbWlwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vMTBwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vKi4xMHBhbi5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly82NnlwLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouNjZ5cC5jYy8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8xMjN3endwLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly8qLjEyM3d6d3AuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL2hpeXAuY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vKi5oaXlwLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovL2prcGFuLmNjLyoKLy8gQGluY2x1ZGUgaHR0cDovLyouamtwYW4uY2MvKgovLyBAaW5jbHVkZSBodHRwOi8vd2ViaGQueHVpdGUubmV0LyoKLy8gQGluY2x1ZGUgaHR0cDovL3N5bmMuaGFtaWNsb3VkLm5ldC8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93d3cueWltdWhlLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9kb3ViYW4uZm0vKgovLyBAaW5jbHVkZSBodHRwczovL2RvdWJhbi5mbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly9tb2UuZm0vKgovLyBAaW5jbHVkZSBodHRwOi8vbXVzaWMuMTYzLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHBzOi8vbXVzaWMuMTYzLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93d3cuMXRpbmcuY29tLyoKLy8gQGluY2x1ZGUgaHR0cDovL3d3dy4yMzM1Ni5jb20vKgovLyBAaW5jbHVkZSBodHRwOi8vd3d3LmFwcC1lY2hvLmNvbS8qCi8vIEBpbmNsdWRlIGh0dHA6Ly93ZWIua3Vnb3UuY29tLyoKLy8gQGluY2x1ZGUgaHR0cHM6Ly9qaXh1bm1vZS5naXRodWIuaW8vY3V3Y2w0Yy9jb25maWcvCgovLyBHTV94bWxIdHRwUmVxdWVzdCDov5znq6/mnI3liqHlmajliJfooagKLy8gQGNvbm5lY3QgZG93bi5sZXBhbi5jYwovLyBAY29ubmVjdCBtdXNpYy5iYWlkdS5jb20KLy8gQGNvbm5lY3QgeWlueXVleXVuLmJhaWR1LmNvbQovLyBAY29ubmVjdCBtZWRpYS5zdG9yZS5rdWdvdS5jb20KLy8gQGNvbm5lY3QgdHJhY2tlcmNkbi5rdWdvdS5jb20KLy8gQGNvbm5lY3QgeWlueXVldGFpLmNvbQovLyBAY29ubmVjdCBpdHd1c3VuLmNvbQovLyBAY29ubmVjdCBzZWxmCgovLyDlkYror4kgVGFtcGVyTW9ua2V5IOi/meS4quiEmuacrOS4jemcgOimgei9rOaNogovLyBAbm9jb21wYXQgQ2hyb21lCgovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIGRlZmluZSA9IChmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vZHVsZXMgPSB7fTsKICAgIHJldHVybiBkZWZpbmU7CiAgICBmdW5jdGlvbiBkZWZpbmUobW9kdWxlLCByZXF1aXJlcywgY2FsbGJhY2spIHsKICAgICAgICB2YXIgX3RoaXNfbW9kdWxlID0gewogICAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgIH07CiAgICAgICAgdmFyIHBhcmFtcyA9IHJlcXVpcmVzLm1hcCgobW9kdWxlKSA9PiB7CiAgICAgICAgICAgIGlmIChtb2R1bGUgPT0gJ2V4cG9ydHMnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXNfbW9kdWxlLmV4cG9ydHM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAobW9kdWxlID09ICdyZXF1aXJlJykgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUobW9kdWxlKTsKICAgICAgICB9KTsKICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBwYXJhbXMpOwogICAgICAgIF9tb2R1bGVzW21vZHVsZV0gPSBfdGhpc19tb2R1bGUuZXhwb3J0czsKICAgIH0KICAgIGZ1bmN0aW9uIHJlcXVpcmUobW9kdWxlKSB7CiAgICAgICAgcmV0dXJuIF9tb2R1bGVzW21vZHVsZV07CiAgICB9Cn0pKCk7CmRlZmluZSgiaGVscGVyL1NjcmlwdCIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIFNjcmlwdDsKICAgIChmdW5jdGlvbiAoU2NyaXB0KSB7CiAgICAgICAgU2NyaXB0Lk5hbWUgPSAiQ1VXQ0w0QyI7CiAgICAgICAgU2NyaXB0LkhvbWUgPSAiaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzI2MDAiOwogICAgICAgIFNjcmlwdC5Db25maWcgPSAiaHR0cHM6Ly9qaXh1bm1vZS5naXRodWIuaW8vY3V3Y2w0Yy9jb25maWcvIjsKICAgICAgICBTY3JpcHQuRmVlZGJhY2sgPSAiaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9mb3J1bS9wb3N0L2Rpc2N1c3Npb24/RGlzY3Vzc2lvbi9TY3JpcHRJRD0yNjAwIjsKICAgICAgICBmdW5jdGlvbiBMaXN0ZW5FdmVudChsaXN0ZW5lcikgewogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFNjcmlwdC5OYW1lLCAoZSkgPT4gewogICAgICAgICAgICAgICAgdmFyIGluZm87CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUuZGV0YWlsID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IEpTT04ucGFyc2UoZS5kZXRhaWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IGUuZGV0YWlsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGlzdGVuZXIoaW5mbyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBTY3JpcHQuTGlzdGVuRXZlbnQgPSBMaXN0ZW5FdmVudDsKICAgICAgICBmdW5jdGlvbiBGaXJlRXZlbnQobmFtZSwgZGF0YSkgewogICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChuYW1lLCB7CiAgICAgICAgICAgICAgICBkZXRhaWw6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgICAgU2NyaXB0LkZpcmVFdmVudCA9IEZpcmVFdmVudDsKICAgICAgICBmdW5jdGlvbiBSZWdpc3RlclN0b3JhZ2VFdmVudChrZXksIGxpc3RlbmVyKSB7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PSBrZXkpIHsKICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcihrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgU2NyaXB0LlJlZ2lzdGVyU3RvcmFnZUV2ZW50ID0gUmVnaXN0ZXJTdG9yYWdlRXZlbnQ7CiAgICB9KShTY3JpcHQgPSBleHBvcnRzLlNjcmlwdCB8fCAoZXhwb3J0cy5TY3JpcHQgPSB7fSkpOwp9KTsKZGVmaW5lKCJoZWxwZXIvQ29uc3RhbnRzIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLyDluLjmlbAKICAgIGV4cG9ydHMuaXNGcmFtZSA9IF9pc0ZyYW1lKCk7CiAgICBleHBvcnRzLnZlcnNpb24gPSBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uOwogICAgZXhwb3J0cy5jdXJyZW50VXJsID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdOwogICAgZXhwb3J0cy5sb3dlckhvc3QgPSBsb2NhdGlvbi5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpOwogICAgZXhwb3J0cy50b3BIb3N0ID0gZXhwb3J0cy5sb3dlckhvc3QubWF0Y2goL1x3K1wuP1x3Kz8kLylbMF07CiAgICBleHBvcnRzLnRvcEhvc3RNYXNrID0gYC4ke2V4cG9ydHMudG9wSG9zdH1gOwogICAgZXhwb3J0cy5kb3dubG9hZEljb25DbGFzcyA9ICdqeF9kbCc7CiAgICBleHBvcnRzLmRvd25sb2FkSWNvblNlbGVjdG9yID0gJy5qeF9kbCc7CiAgICBmdW5jdGlvbiBfaXNGcmFtZSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdW5zYWZlV2luZG93LnRvcCAhPT0gdW5zYWZlV2luZG93LnNlbGY7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KfSk7CmRlZmluZSgiaGVscGVyL0xvZ2dlciIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFNjcmlwdF8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgZnVuY3Rpb24gRG9Mb2cocHJlZml4LCBtZXRob2QsIGFyZ3MpIHsKICAgICAgICBpZiAoYXJncy5sZW5ndGggPCAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGFyZ3NbMF0gPSBgWyR7U2NyaXB0XzEuU2NyaXB0Lk5hbWV9XVske3ByZWZpeH1dICR7YXJnc1swXX1gOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXJncy5zcGxpY2UoMCwgMCwgYFske1NjcmlwdF8xLlNjcmlwdC5OYW1lfV1bJHtwcmVmaXh9XSAke2FyZ3NbMF19YCk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTsKICAgIH0KICAgIGZ1bmN0aW9uIFdyYXBMb2cocHJlZml4LCBtZXRob2QpIHsKICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHsKICAgICAgICAgICAgcmV0dXJuIERvTG9nKHByZWZpeCwgbWV0aG9kLCBhcmdzKTsKICAgICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gRG9Ob3RoaW5nKCkgeyB9CiAgICBleHBvcnRzLmxvZyA9IERvTm90aGluZzsKICAgIGV4cG9ydHMuaW5mbyA9IERvTm90aGluZzsKICAgIGV4cG9ydHMuZXJyb3IgPSBEb05vdGhpbmc7CiAgICBleHBvcnRzLndhcm4gPSBEb05vdGhpbmc7CiAgICBmdW5jdGlvbiBFbmFibGVMb2dzKCkgewogICAgICAgIGV4cG9ydHMubG9nID0gV3JhcExvZygn5pel5b+XJywgJ2xvZycpOwogICAgICAgIGV4cG9ydHMuaW5mbyA9IFdyYXBMb2coJ+S/oeaBrycsICdpbmZvJyk7CiAgICAgICAgZXhwb3J0cy5lcnJvciA9IFdyYXBMb2coJ+mUmeivrycsICdlcnJvcicpOwogICAgICAgIGV4cG9ydHMud2FybiA9IFdyYXBMb2coJ+itpuWRiicsICd3YXJuJyk7CiAgICB9CiAgICBleHBvcnRzLkVuYWJsZUxvZ3MgPSBFbmFibGVMb2dzOwp9KTsKZGVmaW5lKCJoZWxwZXIvU2NyaXB0Q29uZmlnIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1NjcmlwdCIsICJoZWxwZXIvTG9nZ2VyIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfMiwgTG9nZ2VyXzEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICB2YXIgVXJpVHlwZTsKICAgIChmdW5jdGlvbiAoVXJpVHlwZSkgewogICAgICAgIFVyaVR5cGVbVXJpVHlwZVsiTm9ybWFsVXJsIl0gPSAwXSA9ICJOb3JtYWxVcmwiOwogICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2Ugb3RoZXJzIGluc3RlYWQuICovCiAgICAgICAgVXJpVHlwZVtVcmlUeXBlWyJDdXN0b20iXSA9IDFdID0gIkN1c3RvbSI7CiAgICAgICAgVXJpVHlwZVtVcmlUeXBlWyJBcmlhIl0gPSAyXSA9ICJBcmlhIjsKICAgIH0pKFVyaVR5cGUgPSBleHBvcnRzLlVyaVR5cGUgfHwgKGV4cG9ydHMuVXJpVHlwZSA9IHt9KSk7CiAgICBmdW5jdGlvbiBSZWFkQ29uZmlnKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEdNX2dldFZhbHVlKFNjcmlwdF8yLlNjcmlwdC5OYW1lLCAiIikpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgcmV0dXJuIHsgdmVyc2lvbjogMCB9OwogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuQ29uZmlnID0gJC5leHRlbmQoewogICAgICAgIHZlcnNpb246IDEsCiAgICAgICAgYkRpYXBsYXlMb2c6IHRydWUsCiAgICAgICAgYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsOiBmYWxzZSwKICAgICAgICBiWWVsbG93RWFzZVVzZU9sZEFwaTogZmFsc2UsCiAgICAgICAgYlllbGxvd0Vhc2VVc2VUaHJpZE9uRmFpbDogZmFsc2UsCiAgICAgICAgYlVzZUN1c3RvbVJ1bGVzOiBmYWxzZSwKICAgICAgICBkQXJpYV9hdXRoOiBBcmlhMi5BVVRILm5vQXV0aCwKICAgICAgICBkQXJpYV9wb3J0OiA2ODAwLAogICAgICAgIGRVcmlUeXBlOiBVcmlUeXBlLk5vcm1hbFVybCwKICAgICAgICBzQXJpYV9kaXI6ICJEOlxcRG93bmxvYWRcXCIsCiAgICAgICAgc0FyaWFfaG9zdDogIjEyNy4wLjAuMSIsCiAgICAgICAgc0FyaWFfcGFzczogIiIsCiAgICAgICAgc0FyaWFfdXNlcjogIiIsCiAgICAgICAgc0N1c3RvbVJ1bGU6ICIiCiAgICB9LCBSZWFkQ29uZmlnKCkpOwogICAgLy8g5Y2H57qnCiAgICBjb25zdCBfX2xhdGVzdF92ZXJzaW9uID0gMTsKICAgIGlmIChleHBvcnRzLkNvbmZpZy52ZXJzaW9uICE9IF9fbGF0ZXN0X3ZlcnNpb24pIHsKICAgICAgICBzd2l0Y2ggKGV4cG9ydHMuQ29uZmlnLnZlcnNpb24pIHsKICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIExvZ2dlcl8xLmluZm8oJ+WNh+e6pyB2MCDphY3nva7mlofku7YuLi4nKTsKICAgICAgICAgICAgICAgIGV4cG9ydHMuQ29uZmlnLnZlcnNpb24gPSAxOwogICAgICAgICAgICAgICAgZXhwb3J0cy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsID0gZXhwb3J0cy5Db25maWcuYkludGVybmF0aW9uYWw7CiAgICAgICAgICAgICAgICBleHBvcnRzLkNvbmZpZy5iWWVsbG93RWFzZVVzZU9sZEFwaSA9IGV4cG9ydHMuQ29uZmlnLmJQcm94eUluc3RhbGxlZDsKICAgICAgICAgICAgICAgIGV4cG9ydHMuQ29uZmlnLmJZZWxsb3dFYXNlVXNlVGhyaWRPbkZhaWwgPSBleHBvcnRzLkNvbmZpZy5iVXNlVGhyaWRPbkZhaWw7CiAgICAgICAgICAgICAgICBkZWxldGUgZXhwb3J0cy5Db25maWcuYkludGVybmF0aW9uYWw7CiAgICAgICAgICAgICAgICBkZWxldGUgZXhwb3J0cy5Db25maWcuYlVzZVRocmlkT25GYWlsOwogICAgICAgICAgICAgICAgZGVsZXRlIGV4cG9ydHMuQ29uZmlnLmJQcm94eUluc3RhbGxlZDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgR01fc2V0VmFsdWUoU2NyaXB0XzIuU2NyaXB0Lk5hbWUsIEpTT04uc3RyaW5naWZ5KGV4cG9ydHMuQ29uZmlnKSk7CiAgICB9CiAgICBpZiAoZXhwb3J0cy5Db25maWcuYkRpYXBsYXlMb2cpCiAgICAgICAgTG9nZ2VyXzEuRW5hYmxlTG9ncygpOwp9KTsKZGVmaW5lKCJoZWxwZXIvRXh0ZW5zaW9uIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBmdW5jdGlvbiBCZWdpbldpdGgoc3RyLCB3aGF0KSB7CiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHdoYXQpID09PSAwOwogICAgfQogICAgZXhwb3J0cy5CZWdpbldpdGggPSBCZWdpbldpdGg7CiAgICBmdW5jdGlvbiBFbmRXaXRoKHN0ciwgd2hhdCkgewogICAgICAgIHJldHVybiBzdHIuc2xpY2UoLXdoYXQubGVuZ3RoKSA9PSB3aGF0OwogICAgfQogICAgZXhwb3J0cy5FbmRXaXRoID0gRW5kV2l0aDsKICAgIGZ1bmN0aW9uIENvbnRhaW5zKHN0ciwgd2hhdCkgewogICAgICAgIHJldHVybiBzdHIuaW5kZXhPZih3aGF0KSAhPSAtMTsKICAgIH0KICAgIGV4cG9ydHMuQ29udGFpbnMgPSBDb250YWluczsKICAgIGZ1bmN0aW9uIEdldEZpcnN0S2V5KG9iaikgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopWzBdOwogICAgfQogICAgZXhwb3J0cy5HZXRGaXJzdEtleSA9IEdldEZpcnN0S2V5OwogICAgZnVuY3Rpb24gR2V0Rmlyc3RWYWx1ZShvYmopIHsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gb2JqW0dldEZpcnN0S2V5KG9iaildOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQogICAgZXhwb3J0cy5HZXRGaXJzdFZhbHVlID0gR2V0Rmlyc3RWYWx1ZTsKICAgIC8qKgogICAgICog5LuO6ZO+5o6l6I635Y+W5paH5Lu25ZCO57yA5ZCN44CCCiAgICAgKiDljIXmi6wgYC5gIOWtl+espu+8jOWmgiBgLnRzYAogICAgICovCiAgICBmdW5jdGlvbiBHZXRFeHRlbnNpb25Gcm9tVXJsKHVybCkgewogICAgICAgIHZhciBtID0gdXJsLm1hdGNoKC8uK1wvKD86W14uXSsoXC4uKz8pKSg/Olw/fCQpLyk7CiAgICAgICAgcmV0dXJuIG0gPyBtWzFdIDogbnVsbDsKICAgIH0KICAgIGV4cG9ydHMuR2V0RXh0ZW5zaW9uRnJvbVVybCA9IEdldEV4dGVuc2lvbkZyb21Vcmw7CiAgICAvLyBGaXNoZXItWWF0ZXMgU2h1ZmZsZSBieSBjb21tdW5pdHkgd2lraSg/KQogICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjI3NDM5OAogICAgZnVuY3Rpb24gU2h1ZmZsZShhcnJheSkgewogICAgICAgIHZhciBjb3VudGVyID0gYXJyYXkubGVuZ3RoOwogICAgICAgIHZhciB0ZW1wLCBpbmRleDsKICAgICAgICAvLyBXaGlsZSB0aGVyZSBhcmUgZWxlbWVudHMgaW4gdGhlIGFycmF5CiAgICAgICAgd2hpbGUgKGNvdW50ZXIgPiAwKSB7CiAgICAgICAgICAgIC8vIFBpY2sgYSByYW5kb20gaW5kZXgKICAgICAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb3VudGVyKTsKICAgICAgICAgICAgLy8gRGVjcmVhc2UgY291bnRlciBieSAxCiAgICAgICAgICAgIGNvdW50ZXItLTsKICAgICAgICAgICAgLy8gQW5kIHN3YXAgdGhlIGxhc3QgZWxlbWVudCB3aXRoIGl0CiAgICAgICAgICAgIHRlbXAgPSBhcnJheVtjb3VudGVyXTsKICAgICAgICAgICAgYXJyYXlbY291bnRlcl0gPSBhcnJheVtpbmRleF07CiAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IHRlbXA7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhcnJheTsKICAgIH0KICAgIGV4cG9ydHMuU2h1ZmZsZSA9IFNodWZmbGU7Cn0pOwovLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CmRlZmluZSgiaGVscGVyL1F1ZXJ5U3RyaW5nIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0V4dGVuc2lvbiJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgRXh0ZW5zaW9uXzEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBmdW5jdGlvbiBHZXRGbGFzaFZhcnMoZWwpIHsKICAgICAgICBpZiAoIWVsKQogICAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgdmFyIGVsZSA9ICgnanF1ZXJ5JyBpbiBlbCA/IGVsWzBdIDogZWwpOwogICAgICAgIGlmIChlbGUuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT0gJ2ZsYXNoJykKICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgIHZhciBmbGFzaFZhcnMgPSB7fTsKICAgICAgICB2YXIgc2l6ZSA9IGVsZS5jaGlsZE5vZGVzLmxlbmd0aDsKICAgICAgICB2YXIgZmxhc2hPYmplY3Q7CiAgICAgICAgZm9yIChsZXQgaSA9IHNpemU7IGktLTspIHsKICAgICAgICAgICAgaWYgKGVsZS5jaGlsZE5vZGVzW2ldLm5hbWUgPT0gJ2ZsYXNodmFycycpIHsKICAgICAgICAgICAgICAgIGZsYXNoT2JqZWN0ID0gZWxlLmNoaWxkTm9kZXNbaV07CiAgICAgICAgICAgICAgICBmbGFzaE9iamVjdC52YWx1ZS5yZXBsYWNlKC8mYW1wOy9nLCAnJicpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbXHNcU10rPyk9KFtcc1xTXSs/KSgmfCQpL2csIChuLCBrZXksIHZhbHVlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8g5Yip55So5q2j5YiZ55qE5om56YeP5pu/5o2i5Yqf6IO95oqT5Y+W5pWw5o2uCiAgICAgICAgICAgICAgICAgICAgZmxhc2hWYXJzW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGZsYXNoVmFyczsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4ge307CiAgICB9CiAgICBleHBvcnRzLkdldEZsYXNoVmFycyA9IEdldEZsYXNoVmFyczsKICAgIGZ1bmN0aW9uIFBhcnNlKHF1ZXJ5KSB7CiAgICAgICAgdmFyIHVybFBhcmFtczsKICAgICAgICBpZiAoRXh0ZW5zaW9uXzEuQ29udGFpbnMocXVlcnksICc/JykpIHsKICAgICAgICAgICAgdXJsUGFyYW1zID0gcXVlcnkuc2xpY2UocXVlcnkuaW5kZXhPZignPycpICsgMSkuc3BsaXQoJyYnKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHVybFBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7CiAgICAgICAgfQogICAgICAgIHZhciByZXQgPSB7fTsKICAgICAgICB2YXIgcXVlcnlTdHI7CiAgICAgICAgdmFyIHBvc0VxdWFsOwogICAgICAgIGZvciAodmFyIGkgPSB1cmxQYXJhbXMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgIHF1ZXJ5U3RyID0gdXJsUGFyYW1zW2ldLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHBvc0VxdWFsID0gcXVlcnlTdHIuaW5kZXhPZignPScpOwogICAgICAgICAgICBpZiAocG9zRXF1YWwgPT0gLTEpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgcmV0W2RlY29kZVVSSUNvbXBvbmVudChxdWVyeVN0ci5zbGljZSgwLCBwb3NFcXVhbCkpXSA9CiAgICAgICAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQocXVlcnlTdHIuc2xpY2UocG9zRXF1YWwgKyAxKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXQ7CiAgICB9CiAgICBleHBvcnRzLlBhcnNlID0gUGFyc2U7Cn0pOwpkZWZpbmUoImhlbHBlci9TdHlsZVNoZWV0IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBjbGFzcyBTdHlsZVNoZWV0IHsKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5zdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgIHRoaXMuQXBwbHkoKTsKICAgICAgICB9CiAgICAgICAgQWRkKC4uLnN0eWxlVGV4dCkgewogICAgICAgICAgICB0aGlzLnN0eWxlLnRleHRDb250ZW50ICs9ICdcbicgKyBzdHlsZVRleHQuam9pbignXG4nKTsKICAgICAgICB9CiAgICAgICAgSGlkZShzZWxlY3RvciwgLi4uc2VsZWN0b3JzKSB7CiAgICAgICAgICAgIGlmICgnc3RyaW5nJyA9PSB0eXBlb2Ygc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9ycy5zcGxpY2UoMCwgMCwgc2VsZWN0b3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHN0eWxlVGV4dCA9IGAke3NlbGVjdG9ycy5qb2luKCcsICcpfSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudCB9YDsKICAgICAgICAgICAgdGhpcy5BZGQoc3R5bGVUZXh0KTsKICAgICAgICB9CiAgICAgICAgU2hvdyhzZWxlY3RvciwgLi4uc2VsZWN0b3JzKSB7CiAgICAgICAgICAgIGlmICgnc3RyaW5nJyA9PSB0eXBlb2Ygc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgIHNlbGVjdG9ycy5zcGxpY2UoMCwgMCwgc2VsZWN0b3IpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgc2VsZWN0b3JzID0gc2VsZWN0b3I7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHN0eWxlVGV4dCA9IGAke3NlbGVjdG9ycy5qb2luKCcsICcpfSB7IGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQgfWA7CiAgICAgICAgICAgIHRoaXMuQWRkKHN0eWxlVGV4dCk7CiAgICAgICAgfQogICAgICAgIEhpZGVGcmFtZXMoKSB7CiAgICAgICAgICAgIHRoaXMuSGlkZSgnZnJhbWUsIGlmcmFtZSwgZnJhbWVzZXQnKTsKICAgICAgICB9CiAgICAgICAgQXBwbHkoYm9keSA9IHRydWUpIHsKICAgICAgICAgICAgaWYgKGJvZHkgJiYgZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBleHBvcnRzLlN0eWxlU2hlZXQgPSBTdHlsZVNoZWV0Owp9KTsKZGVmaW5lKCJoZWxwZXIvRG93bmxvYWRlciIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvRXh0ZW5zaW9uIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfMywgU2NyaXB0Q29uZmlnXzEsIEV4dGVuc2lvbl8yKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9Vc2Vyc2NyaXB0LmQudHMiIC8+CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL0dNX0FyaWEyUlBDLmQudHMiIC8+CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgY29uZmlnID0gU2NyaXB0Q29uZmlnXzEuQ29uZmlnOwogICAgY2xhc3MgRG93bmxvYWRlciB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuX2NhcHR1cmVkID0gZmFsc2U7CiAgICAgICAgICAgIC8vIFRPRE86ID8/CiAgICAgICAgfQogICAgICAgIEdlbmVyYXRlVXJsUGFydCh1cmwsIGZpbGVuYW1lLCByZWYpIHsKICAgICAgICAgICAgcmV0dXJuIGAke3VybH18JHt0aGlzLkdldFJlZmVycmVyVXJsKGZpbGVuYW1lKX18JHt0aGlzLkdldFJlZmVycmVyVXJsKHJlZil9YDsKICAgICAgICB9CiAgICAgICAgR2V0UmVmZXJyZXJVcmwodXJsKSB7CiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodXJsIHx8IGxvY2F0aW9uLmhyZWYpLnJlcGxhY2UoLyMuKi8sICcnKTsKICAgICAgICB9CiAgICAgICAgTm9ybWFsaXNlRmlsZW5hbWUoZmlsZW5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhmaWxlbmFtZSkucmVwbGFjZSgvWyciXC9cXDp8XS9nLCAnXycpOwogICAgICAgIH0KICAgICAgICBHZW5lcmF0ZVVyaSh1cmwsIGZpbGVuYW1lLCByZWYpIHsKICAgICAgICAgICAgc3dpdGNoIChjb25maWcuZFVyaVR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgU2NyaXB0Q29uZmlnXzEuVXJpVHlwZS5DdXN0b206CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBjdXdjbDRjOi8vfDF8JHt0aGlzLkdlbmVyYXRlVXJsUGFydCh1cmwsIGZpbGVuYW1lLCByZWYpfWA7CiAgICAgICAgICAgICAgICBjYXNlIFNjcmlwdENvbmZpZ18xLlVyaVR5cGUuQXJpYToKICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhcHR1cmVkKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNhcHR1cmVBcmlhKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBhcmlhMjovL3wke3RoaXMuR2VuZXJhdGVVcmxQYXJ0KHVybCwgZmlsZW5hbWUsIHJlZil9YDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgIH0KICAgICAgICBDYXB0dXJlQXJpYShlbCkgewogICAgICAgICAgICB0aGlzLl9jYXB0dXJlZCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuU2V0dXBBcmlhKGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFlbCkKICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuYm9keTsKICAgICAgICAgICAgJChlbCkuY2xpY2soKGUpID0+IHsKICAgICAgICAgICAgICAgIHZhciBlbCA9IGUudGFyZ2V0OwogICAgICAgICAgICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICAgICAgICAgICAgdmFyIGxpbmtFbCA9ICgkZWwuaXMoJ2EnKSA/IGVsIDogJGVsLnBhcmVudHMoJ2EnKVswXSk7CiAgICAgICAgICAgICAgICBpZiAobGlua0VsICYmIGxpbmtFbC50YWdOYW1lID09ICdBJyAmJiBFeHRlbnNpb25fMi5CZWdpbldpdGgobGlua0VsLmhyZWYsICdhcmlhMjovL3wnKSkgewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gbGlua0VsLmhyZWYuc3BsaXQoJ3wnKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLkFkZFRvQXJpYShsaW5rWzFdLCBkZWNvZGVVUklDb21wb25lbnQobGlua1syXSksIGxpbmtbM10sIGxpbmtFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FyaWEtY29va2llJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgQWRkVG9BcmlhKHVybCwgZmlsZW5hbWUsIHJlZmVyZXIsIGNvb2tpZSwgaGVhZGVycykgewogICAgICAgICAgICB2YXIgYXJpYVBhcmFtID0gewogICAgICAgICAgICAgICAgb3V0OiBmaWxlbmFtZSwKICAgICAgICAgICAgICAgIHJlZmVyZXI6IHJlZmVyZXIgfHwgbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgIGRpcjogY29uZmlnLnNBcmlhX2RpciwKICAgICAgICAgICAgICAgICd1c2VyLWFnZW50JzogbmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgICAgICAgICAgIGhlYWRlcjogaGVhZGVycyB8fCBbXQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoY29va2llID09PSB0cnVlKQogICAgICAgICAgICAgICAgY29va2llID0gZG9jdW1lbnQuY29va2llOwogICAgICAgICAgICBpZiAoY29va2llKQogICAgICAgICAgICAgICAgYXJpYVBhcmFtLmhlYWRlci5wdXNoKCdDb29raWU6ICcgKyBjb29raWUpOwogICAgICAgICAgICB0aGlzLmFyaWEuYWRkVXJpKFt1cmxdLCBhcmlhUGFyYW0sIChyKSA9PiB7IH0sIChiLCByKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgc0Vycm9yTXNnOwogICAgICAgICAgICAgICAgaWYgKHIuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBzRXJyb3JNc2cgPSBg6ZSZ6K+v5Luj56CBICR7ci5lcnJvci5jb2RlfTogJHtyLmVycm9yLm1lc3NhZ2V9YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNFcnJvck1zZyA9ICLkuI4gQXJpYTIg5ZCO5Y+w6YCa5L+h5aSx6LSlLCDmnI3liqHmnKrlvIDlkK8/IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFsZXJ0KGBbJHtTY3JpcHRfMy5TY3JpcHQuTmFtZX1dIOaPkOS6pOS7u+WKoeWPkeeUn+mUmeivryEKCiR7c0Vycm9yTXNnfWApOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgU2V0dXBBcmlhKGZvcmNlU2V0dXApIHsKICAgICAgICAgICAgaWYgKGZvcmNlU2V0dXAgfHwgIXRoaXMuYXJpYSkgewogICAgICAgICAgICAgICAgdGhpcy5hcmlhID0gbmV3IEFyaWEyKHsKICAgICAgICAgICAgICAgICAgICBhdXRoOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbmZpZy5kQXJpYV9hdXRoLAogICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBjb25maWcuc0FyaWFfdXNlciwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzczogY29uZmlnLnNBcmlhX3Bhc3MKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGhvc3Q6IGNvbmZpZy5zQXJpYV9ob3N0LAogICAgICAgICAgICAgICAgICAgIHBvcnQ6IGNvbmZpZy5kQXJpYV9wb3J0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBBZGREb3dubG9hZCh1cmwsIGZpbGUpIHsKICAgICAgICAgICAgaWYgKGNvbmZpZy5kVXJpVHlwZSA9PSBTY3JpcHRDb25maWdfMS5VcmlUeXBlLkFyaWEpIHsKICAgICAgICAgICAgICAgIHRoaXMuQWRkVG9BcmlhKHVybCwgZmlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIodGhpcy5HZW5lcmF0ZVVyaSh1cmwsIGZpbGUpLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuRG93bmxvYWRlciA9IERvd25sb2FkZXI7Cn0pOwpkZWZpbmUoIlNpdGVSdWxlIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0NvbnN0YW50cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9TdHlsZVNoZWV0IiwgImhlbHBlci9Mb2dnZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIENvbnN0YW50c18xLCBFeHRlbnNpb25fMywgU3R5bGVTaGVldF8xLCBMb2dnZXJfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIGV4cG9ydHMuU2l0ZXMgPSBbXTsKICAgIGZ1bmN0aW9uIEFkZChzaXRlUnVsZSkgewogICAgICAgIHNpdGVSdWxlLl9zdHlsZUFwcGxpZWQgPSBmYWxzZTsKICAgICAgICBleHBvcnRzLlNpdGVzLnB1c2goc2l0ZVJ1bGUpOwogICAgfQogICAgZXhwb3J0cy5BZGQgPSBBZGQ7CiAgICBmdW5jdGlvbiBDaGVja1BhdGgocGF0aCwgcnVsZSkgewogICAgICAgIGlmICgkLmlzQXJyYXkocnVsZSkpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJ1bGUubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICBpZiAoQ2hlY2tQYXRoKHBhdGgsIHJ1bGVbaV0pKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKHJ1bGUpKSB7CiAgICAgICAgICAgIHJldHVybiBydWxlKHBhdGgpOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHJ1bGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHJldHVybiBFeHRlbnNpb25fMy5CZWdpbldpdGgocGF0aCwgcnVsZSk7CiAgICAgICAgfQogICAgICAgIGlmIChydWxlIGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgICAgIHJldHVybiBydWxlLnRlc3QocGF0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGV4cG9ydHMuQ2hlY2tQYXRoID0gQ2hlY2tQYXRoOwogICAgZnVuY3Rpb24gQ2hlY2soc2l0ZSwgZXZlbnQpIHsKICAgICAgICBpZiAoc2l0ZS5zdWJNb2R1bGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIHNpdGUuaG9zdCA9PSAnc3RyaW5nJykgewogICAgICAgICAgICBzaXRlLmhvc3QgPSBbc2l0ZS5ob3N0XTsKICAgICAgICB9CiAgICAgICAgdmFyIGhvc3RzID0gc2l0ZS5ob3N0Lm1hcCgoaG9zdCkgPT4gewogICAgICAgICAgICByZXR1cm4gaG9zdC50b0xvd2VyQ2FzZSgpOwogICAgICAgIH0pOwogICAgICAgIGlmICghRXh0ZW5zaW9uXzMuQ29udGFpbnMoaG9zdHMsIENvbnN0YW50c18xLmxvd2VySG9zdCkpIHsKICAgICAgICAgICAgaWYgKHNpdGUubm9TdWJIb3N0KQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlOwogICAgICAgICAgICBmb3IgKHZhciBpID0gaG9zdHMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzMuRW5kV2l0aChgLiR7aG9zdHNbaV19YCwgQ29uc3RhbnRzXzEudG9wSG9zdE1hc2spKSB7CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFtYXRjaGVkKQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoc2l0ZS5wYXRoKSB7CiAgICAgICAgICAgIHJldHVybiBDaGVja1BhdGgobG9jYXRpb24ucGF0aG5hbWUsIHNpdGUucGF0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgZXhwb3J0cy5DaGVjayA9IENoZWNrOwogICAgZnVuY3Rpb24gR2V0KGlkKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGV4cG9ydHMuU2l0ZXMubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgIGlmIChleHBvcnRzLlNpdGVzW2ldLmlkID09IGlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5TaXRlc1tpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIGV4cG9ydHMuR2V0ID0gR2V0OwogICAgZnVuY3Rpb24gRXhlY3V0ZShpZCwgZXZlbnQpIHsKICAgICAgICBzd2l0Y2ggKGV2ZW50LnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICAgICAgY2FzZSAnc3RhcnQnOgogICAgICAgICAgICAgICAgR2V0KGlkKS5vblN0YXJ0KCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnYm9keSc6CiAgICAgICAgICAgICAgICBHZXQoaWQpLm9uQm9keSgpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogICAgZXhwb3J0cy5FeGVjdXRlID0gRXhlY3V0ZTsKICAgIGZ1bmN0aW9uIEZpcmVFdmVudChldmVudCkgewogICAgICAgIGZvciAodmFyIGkgPSBleHBvcnRzLlNpdGVzLmxlbmd0aDsgaS0tOykgewogICAgICAgICAgICB2YXIgcnVsZSA9IGV4cG9ydHMuU2l0ZXNbaV07CiAgICAgICAgICAgIGlmIChDb25zdGFudHNfMS5pc0ZyYW1lICYmICFydWxlLnJ1bkluRnJhbWUpCiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgaWYgKENoZWNrKHJ1bGUsIGV2ZW50KSkgewogICAgICAgICAgICAgICAgUnVuKHJ1bGUsIGV2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuRmlyZUV2ZW50ID0gRmlyZUV2ZW50OwogICAgZnVuY3Rpb24gUnVuKHNpdGUsIGV2ZW50TmFtZSkgewogICAgICAgIHZhciBldmVudDsKICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzoKICAgICAgICAgICAgICAgIGV2ZW50ID0gc2l0ZS5vblN0YXJ0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2JvZHknOgogICAgICAgICAgICAgICAgZXZlbnQgPSBzaXRlLm9uQm9keTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgTG9nZ2VyXzIuZXJyb3IoYOaXoOaViOeahOS6i+S7tiAke2V2ZW50TmFtZX1gKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFzaXRlLl9zdHlsZUFwcGxpZWQpIHsKICAgICAgICAgICAgc2l0ZS5fc3R5bGVBcHBsaWVkID0gdHJ1ZTsKICAgICAgICAgICAgc2l0ZS5zdHlsZSA9IG5ldyBTdHlsZVNoZWV0XzEuU3R5bGVTaGVldCgpOwogICAgICAgICAgICBpZiAoc2l0ZS5oaWRlKSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLkhpZGUoc2l0ZS5oaWRlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5zaG93KSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLlNob3coc2l0ZS5zaG93KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5jc3MpIHsKICAgICAgICAgICAgICAgIHNpdGUuc3R5bGUuQWRkKHNpdGUuY3NzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2l0ZS5kbF9pY29uKSB7CiAgICAgICAgICAgICAgICBzaXRlLnN0eWxlLkFkZChgCiAgICAgICAgICAgIApAZm9udC1mYWNlIHsKCWZvbnQtZmFtaWx5OiBjY2M7CglzcmM6IHVybChodHRwczovL2Nkbi5ib290Y3NzLmNvbS9mb250LWF3ZXNvbWUvNC4yLjAvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmKSBmb3JtYXQoJ3dvZmYnKTsKCWZvbnQtd2VpZ2h0OiBub3JtYWw7Cglmb250LXN0eWxlOiBub3JtYWw7Cn0KCiR7Q29uc3RhbnRzXzEuZG93bmxvYWRJY29uU2VsZWN0b3J9OjpiZWZvcmUgewoJZm9udC1mYW1pbHk6IGNjYzsKCWNvbnRlbnQ6ICJcXGYwMTkiOwoJcGFkZGluZy1yaWdodDogLjVlbTsKfQoKLmp4X2hpZGUgewoJZGlzcGxheTogbm9uZTsKfQoKICAgICAgICAgICAgYCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2l0ZS5zdHlsZS5BcHBseSh0cnVlKTsKICAgICAgICBpZiAoIWV2ZW50KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgTG9nZ2VyXzIuaW5mbyhg5omn6KGM6KeE5YiZOiAke3NpdGUuaWR9IOS6jiAke3NpdGUubmFtZX0gW+S6i+S7tjogJHtldmVudE5hbWV9XWApOwogICAgICAgIGV2ZW50LmNhbGwodGhpcyk7CiAgICB9CiAgICBleHBvcnRzLlJ1biA9IFJ1bjsKfSk7CmRlZmluZSgic2l0ZS9BQS5Db25maWciLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvQ29uc3RhbnRzIiwgImhlbHBlci9TY3JpcHRDb25maWciLCAiaGVscGVyL1NjcmlwdCIsICJoZWxwZXIvRG93bmxvYWRlciJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgQ29uc3RhbnRzXzIsIFNjcmlwdENvbmZpZ18yLCBTY3JpcHRfNCwgRG93bmxvYWRlcl8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgaWQ6ICdpbnRlcm5hbC5jb25maWcnLAogICAgICAgIG5hbWU6ICfohJrmnKzphY3nva7pobXpnaInLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIGhvc3Q6IFsnbG9jYWxob3N0LmN1d2NsNGMnLCAnaml4dW5tb2UuZ2l0aHViLmlvJ10sCiAgICAgICAgcGF0aDogWycvY29uZmlnLycsICcvY3V3Y2w0Yy9jb25maWcnXSwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5yU2NyaXB0VmVyc2lvbiA9IENvbnN0YW50c18yLnZlcnNpb247CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5yU2NyaXB0Q29uZmlnID0gSlNPTi5zdHJpbmdpZnkoU2NyaXB0Q29uZmlnXzIuQ29uZmlnKTsKICAgICAgICAgICAgdmFyIF9jID0gY29uZmlybTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignU2F2ZUNvbmZpZycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGUuZGV0YWlsKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfop6PmnpDorr7lrprlgLzlh7rplJkhJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKF9jKGDnoa7lrprlgqjlrZjorr7lrproh7MgJHtTY3JpcHRfNC5TY3JpcHQuTmFtZX0/YCkpCiAgICAgICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoU2NyaXB0XzQuU2NyaXB0Lk5hbWUsIGNvbmZpZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHJ1bGUuYmQgPSBuZXcgRG93bmxvYWRlcl8xLkRvd25sb2FkZXIoKTsKICAgICAgICAgICAgcnVsZS5iZC5DYXB0dXJlQXJpYSgpOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJoZWxwZXIvV2FpdCIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgZnVuY3Rpb24gV2FpdFVudGlsKGNoZWNrLCBjYiwgblRpbWVvdXQgPSAxMDAwMCwgbkludGVydmFsID0gMTUwKSB7CiAgICAgICAgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBjaGVjaykgewogICAgICAgICAgICBjaGVjayA9IGNoZWNrLnNwbGl0KCcuJyk7CiAgICAgICAgfQogICAgICAgIHZhciBpc1JlYWR5OwogICAgICAgIGlmICgkLmlzQXJyYXkoY2hlY2spKSB7CiAgICAgICAgICAgIGlzUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgciA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2subGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICByID0gcltjaGVja1tpXV07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlzUmVhZHkgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGVjaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmICghaXNSZWFkeSgpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgIGNiLmNhbGwodGhpcyk7CiAgICAgICAgfSwgbkludGVydmFsKTsKICAgICAgICBpZiAoblRpbWVvdXQgIT09IHRydWUpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgfSwgblRpbWVvdXQpOwogICAgICAgIH0KICAgIH0KICAgIGV4cG9ydHMuV2FpdFVudGlsID0gV2FpdFVudGlsOwp9KTsKZGVmaW5lKCJoZWxwZXIvUmVkaXJlY3QiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvV2FpdCIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9Mb2dnZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfMSwgRXh0ZW5zaW9uXzQsIExvZ2dlcl8zKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgLyoqCiAgICAgKiDot7PovazlkI7kv53nlZnlvZPliY3pobXpnaLkvZzkuLogcmVmZXJyZXIuCiAgICAgKi8KICAgIGZ1bmN0aW9uIFJlZGlyZWN0VG8odXJsKSB7CiAgICAgICAgTG9nZ2VyXzMuaW5mbyhg5YeG5aSH6Lez6L2sICR7dXJsfS4uLmApOwogICAgICAgIHZhciBsaW5rID0gJCgnPGE+JykKICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCB1cmwpCiAgICAgICAgICAgIC50ZXh0KGDmraPlnKjot7PovawgWyR7dXJsfV0sIOivt+eojeWQji4uIGApCiAgICAgICAgICAgIC5wcmVwZW5kVG8oZG9jdW1lbnQuYm9keSkKICAgICAgICAgICAgLmNzcyh7IGZvbnRTaXplOiAxMiwgY29sb3I6ICdpbmhlcml0JyB9KTsKICAgICAgICBsaW5rWzBdLmNsaWNrKCk7CiAgICB9CiAgICBleHBvcnRzLlJlZGlyZWN0VG8gPSBSZWRpcmVjdFRvOwogICAgLyoqCiAgICAgKiBwaHBEaXNrIOmAmueUqOi3s+i9rOaWh+S7tuS4i+i9vemhtemdouWHveaVsAogICAgICoKICAgICAqIOi/lOWbniB0cnVlIOS7o+ihqOaIkOWKnwogICAgICog5ZCm5YiZ5Luj6KGo5om+5LiN5Yiw6KeE5YiZ44CCCiAgICAgKi8KICAgIGZ1bmN0aW9uIHBocGRpc2tBdXRvUmVkaXJlY3QoY2FsbGJhY2spIHsKICAgICAgICBpZiAoIWNhbGxiYWNrKSB7CiAgICAgICAgICAgIGNhbGxiYWNrID0gZG9jdW1lbnQuYm9keSA/IFJlZGlyZWN0VG8gOiAodXJsKSA9PiB7CiAgICAgICAgICAgICAgICBXYWl0XzEuV2FpdFVudGlsKCdkb2N1bWVudC5ib2R5JywgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIFJlZGlyZWN0VG8odXJsKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgckNoZWNrUGF0aCA9IC9cLyhmaWxlKT8oZmlsZXx2aWV3KShbXC8uXC1fXS4qKS87CiAgICAgICAgaWYgKHJDaGVja1BhdGgudGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgY2FsbGJhY2sobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZShyQ2hlY2tQYXRoLCAnLyQxZG93biQzJykpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChFeHRlbnNpb25fNC5CZWdpbldpdGgobG9jYXRpb24ucGF0aG5hbWUsICcvdmlld2ZpbGUnKSkgewogICAgICAgICAgICBjYWxsYmFjayhsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvdmlld2ZpbGUnLCAnL2Rvd25sb2FkJykpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGV4cG9ydHMucGhwZGlza0F1dG9SZWRpcmVjdCA9IHBocGRpc2tBdXRvUmVkaXJlY3Q7Cn0pOwpkZWZpbmUoInNpdGUvZGwuMTIzNTY0IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0V4dGVuc2lvbiIsICJoZWxwZXIvUmVkaXJlY3QiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIEV4dGVuc2lvbl81LCBSZWRpcmVjdF8xKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC4xMjM1NjQnLAogICAgICAgIG5hbWU6ICcxMjM1NjQg572R55uYJywKICAgICAgICBob3N0OiBbJzEyMzU2NC5jb20nLCAnbS4xMjM1NjQuY29tJ10sCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaGlkZTogJyN5em0nLAogICAgICAgIHNob3c6ICcjZG93bmxvYWQnLAogICAgICAgIGNzczogYAouYWQxLCAuYWQ0ewogICAgaGVpZ2h0OiA5OTlweCAhaW1wb3J0YW50OwogICAgd2lkdGg6ICAwcHggICAhaW1wb3J0YW50Owp9CiAgICBgLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdW5zYWZlV2luZG93LmtpbGxwYW5hZHMgPSAxOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIOaWh+S7tuesrOS4gOmhtQogICAgICAgICAgICB2YXIgdXJsID0gJCgnLmNhb2N1byAuanViYW8nKS5uZXh0KCkuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICAgICAgUmVkaXJlY3RfMS5SZWRpcmVjdFRvKHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoRXh0ZW5zaW9uXzUuQ29udGFpbnMobG9jYXRpb24ucGF0aG5hbWUsICcvZG93bnBhbmVsLmFzcCcpKSB7CiAgICAgICAgICAgICAgICAvLyDnrKzkuInpobUgLSDmnIDnu4jkuIvovb3lnLDlnYDlsZXnpLoKICAgICAgICAgICAgICAgIHVybCA9ICQoImRpdiA+IGFbaHJlZio9Jy9kb3duLmFzcCddIikuYXR0cignaHJlZicpOwogICAgICAgICAgICAgICAgUmVkaXJlY3RfMS5SZWRpcmVjdFRvKHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDnrKzkuozpobU6IOWhq+WGmemqjOivgeeggQogICAgICAgICAgICAgICAgJCgnI2Rvd25sb2FkID4gYScpLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC41eGZpbGUiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cykgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnZGwuNXhmaWxlJywKICAgICAgICBuYW1lOiAn5LqU5pif572R55uYJywKICAgICAgICBob3N0OiBbJzV4ZmlsZS5jb20nLCAnd3d3LjV4ZmlsZS5jb20nXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIFRPRE86IOWQr+WKqOS6i+S7tgogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIC8vIFRPRE86IOmhtemdouS6i+S7tgogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2RsLmJhaWR1IiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1dhaXQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnZGwuYmFpZHUnLAogICAgICAgIG5hbWU6ICfnmb7luqbnm5jlhY3kuIvovb3nrqHlrrYnLAogICAgICAgIGhvc3Q6IFsneXVuLmJhaWR1LmNvbScsICdwYW4uYmFpZHUuY29tJ10sCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIFdhaXRfMi5XYWl0VW50aWwoJ3JlcXVpcmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB1bnNhZmVFeGVjKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZSA9IHdpbmRvdy5yZXF1aXJlOwogICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gcmVxdWlyZSgnZGlzay1zeXN0ZW06d2lkZ2V0L3BsdWdpbi9kb3dubG9hZC91dGlsL2Rvd25sb2FkQ29tbW9uVXRpbC5qcycpOwogICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuaXNQbGF0Zm9ybVdpbmRvd3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC5ob3dmaWxlIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2RsLmhvd2ZpbGUnLAogICAgICAgIG5hbWU6ICflpb3nm5ggW2hvd2ZpbGUuY29tXScsCiAgICAgICAgaG9zdDogJ2hvd2ZpbGUuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIGNzczogYAojZmxvYXRkaXYgewogICAgdG9wOiAxNTBweDsKICAgIHotaW5kZXg6IDk5OTk5OwogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQogICAgYCwKICAgICAgICBvblN0YXJ0OiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC5qa3BhbiIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9FeHRlbnNpb24iLCAiaGVscGVyL1JlZGlyZWN0Il0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBFeHRlbnNpb25fNiwgUmVkaXJlY3RfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIC8vIOmtlOaUuSBwaHBkaXNrCiAgICB2YXIgamtwYW5SdWxlID0gewogICAgICAgIGlkOiAnZGwucGhwZGlzay5qa3BhbicsCiAgICAgICAgbmFtZTogJ0pLUEFOIOinhOWImSBbcGhwRGlza10nLAogICAgICAgIGhvc3Q6IFsnamtwYW4uY2MnXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdmFyIGN0eCA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgY3R4LmtpbGxhZHMgPSAxOwogICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgICBzLmlkID0gJ2FkYmxvY2tUZXN0ZXInOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHMuaWQgPSAnYjEnOwogICAgICAgICAgICBzLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjUwMHB4O3Bvc2l0aW9uOmZpeGVkO2xlZnQ6LTUwMHB4JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl82LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9kb3duMi0nKSkgewogICAgICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBjdHguaGFuZGxlclBvcHVwOwogICAgICAgICAgICAgICAgY3R4LmhhbmRsZXJQb3B1cCA9IHVuc2FmZURlZmluZUZ1bmN0aW9uKCdoYW5kbGVyUG9wdXAnLCBmdW5jdGlvbiAoY2FwdGNoYU9iaikgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGNoYU9iai5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNzUwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEV4dGVuc2lvbl82LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9maWxlLScpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF8yLlJlZGlyZWN0VG8obG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnZmlsZScsICdkb3duMicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW2prcGFuUnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvZGwubmFtaXBhbi5jYyIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC5uYW1pcGFuJywKICAgICAgICBuYW1lOiAn57qz57Gz55uYLmNjIFvljp8gODfnm5gg5bqU6K+lXScsCiAgICAgICAgaG9zdDogJ25hbWlwYW4uY2MnLAogICAgICAgIHBhdGg6IFsnL2ZpbGUvJywgJy9kb3duLnBocCddLAogICAgICAgIGluY2x1ZGVTdWJIb3N0OiB0cnVlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgaGlkZTogJyNib3gnLAogICAgICAgIGNzczogYApib2R5LCBib2R5ID4gLmdnYW8gewogICAgaGVpZ2h0OiBpbml0aWFsOwp9CiAgICBgLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICAvLyDkuIvovb3mjInpkq46ICNkb3duZ28KICAgICAgICAgICAgdmFyIG0gPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIHZhciBkbEJ0biA9ICQoJyNkb3duZ28nKTsKICAgICAgICAgICAgaWYgKGRsQnRuLmxlbmd0aCA+IDAgJiYgbSkgewogICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gJCgnPGlmcmFtZT4nKTsKICAgICAgICAgICAgICAgIHZhciBub3RlID0gJCgnPHA+Jyk7CiAgICAgICAgICAgICAgICBub3RlLnRleHQoJ+azqOaEjzog6ZyA6KaB55m75b2V5omN6IO95LiL6L2944CCJykuY3NzKCdjb2xvcicsICdyZWQnKTsKICAgICAgICAgICAgICAgIGZyYW1lLmF0dHIoewogICAgICAgICAgICAgICAgICAgIHNyYzogYC9kb3duLnBocD9maWxlX2lkPSR7bVswXX1gLAogICAgICAgICAgICAgICAgfSkuY3NzKHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAndGFibGUnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMCwKICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgI2NjYycsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDcwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRsQnRuLmJlZm9yZShmcmFtZSk7CiAgICAgICAgICAgICAgICBmcmFtZS5hZnRlcihub3RlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2RsLnBocGRpc2siLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9SZWRpcmVjdCIsICJoZWxwZXIvU2NyaXB0Il0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBFeHRlbnNpb25fNywgV2FpdF8zLCBSZWRpcmVjdF8zLCBTY3JpcHRfNSkgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIHZhciBwaHBkaXNrQSA9IHsKICAgICAgICBpZDogJ3BocGRpc2suYScsCiAgICAgICAgbmFtZTogJ1BIUERpc2sgQSDnsbvnvZHotZrnvZHnm5gnLAogICAgICAgIGhvc3Q6IFtdLAogICAgICAgIGhpZGU6ICcjY29kZV9ib3gsICNkb3duX2JveDIsICNjb2RlZnJtLCAuYWQsIFtjbGFzc149ImJhbm5lciJdJywKICAgICAgICBzaG93OiAnI2Rvd25fYm94JywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGYgPSAoKSA9PiB7IH07CiAgICAgICAgICAgIHVuc2FmZURlZmluZUZ1bmN0aW9uKCdvcGVuJywgZik7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBXYWl0XzMuV2FpdFVudGlsKCdkb3duX2ZpbGVfbGluaycsICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgICAgICAvLyDpgb/lhY3lnLDlnYDooqvopobnm5YKICAgICAgICAgICAgICAgIGN0eC51cGRhdGVfc2VjID0gbnVsbDsKICAgICAgICAgICAgICAgIC8vIOW8uuWItuaYvuekuuWcsOWdgAogICAgICAgICAgICAgICAgY3R4LmRvd25fZmlsZV9saW5rKCk7CiAgICAgICAgICAgICAgICAvLyDlvLrliLbmmL7npLrkuIvovb3lnLDlnYAKICAgICAgICAgICAgICAgIGlmIChjdHguc2hvd19kb3duX3VybCkKICAgICAgICAgICAgICAgICAgICBjdHguc2hvd19kb3duX3VybCgnZG93bl9hMScpOwogICAgICAgICAgICAgICAgdmFyIGp1bXBVcmwgPSAkKCcjZG93bl9saW5rJykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgICAgIC8vIOeEtuWQjui3s+i/h+WOuwogICAgICAgICAgICAgICAgaWYgKGp1bXBVcmwpIHsKICAgICAgICAgICAgICAgICAgICBSZWRpcmVjdF8zLlJlZGlyZWN0VG8oanVtcFVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChgWyR7U2NyaXB0XzUuU2NyaXB0Lk5hbWV9XTog5bqU55SoICR7c2VsZi5uYW1lfSDlpLHotKU6XG7mib7kuI3liLDot7PovazlnLDlnYAuYCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB2YXIgcGhwZGlza1ogPSB7CiAgICAgICAgaWQ6ICdwaHBkaXNrLnonLAogICAgICAgIG5hbWU6ICfpgJrnlKggcGhwRGlzay56IOe9keebmOinhOWImScsCiAgICAgICAgLy8g6KeE5YiZOiDnm7TmjqXot7PovawgL2ZpbGUteHh4IC0+IC9kb3duLXh4eAogICAgICAgIC8vICAgICAgIOW5tumakOiXjyBkb3duX2JveDIsIOaYvuekuiBkb3duX2JveAogICAgICAgIGhvc3Q6IFsKICAgICAgICAgICAgJzEwcGFuLmNjJywgJzY2eXAuY2MnLCAnMTIzd3p3cC5jb20nLCAnaGl5cC5jYycKICAgICAgICBdLAogICAgICAgIGhpZGU6IGAuRG93bnBhZ2Vib3gsIC50YWxrX3Nob3csIC5iYW5uZXJfMiwgLndfMzA1LCAuYWQsCgkJICAgI3Zjb2RlLCAjdHVpLCAuZGNvZGUsICNkb3duX2JveDIsICNkbF90aXBzLCAubmFsLAoJCSAgIC5zY2Jhcl9ob3RfdGQsICNpbmNvZGVgLAogICAgICAgIHNob3c6ICcjZG93bl9ib3gsICNkbF9hZGRyJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgbGV0IGYgPSAoKSA9PiB7IH07CiAgICAgICAgICAgIHVuc2FmZURlZmluZUZ1bmN0aW9uKCdhbGVydCcsIGYpOwogICAgICAgICAgICB1bnNhZmVEZWZpbmVGdW5jdGlvbignZG93bl9wcm9jZXNzJywgZik7CiAgICAgICAgICAgIFJlZGlyZWN0XzMucGhwZGlza0F1dG9SZWRpcmVjdChudWxsKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICAvKiBmaXggZm9yIDEyM3d6d3AuY29tICovCiAgICAgICAgICAgIGxldCBmID0gKCkgPT4geyB9OwogICAgICAgICAgICB1bnNhZmVEZWZpbmVGdW5jdGlvbignZG93bl9wcm9jZXNzMicsIGYpOwogICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdjbGljaycsICdhJywgZSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgJGRsID0gJChlLmN1cnJlbnRUYXJnZXQpOwogICAgICAgICAgICAgICAgbGV0IHVybCA9ICRkbC5kYXRhKCd1cmwnKTsKICAgICAgICAgICAgICAgIGlmICh1cmwubGVuZ3RoID4gJGRsLmF0dHIoJ2hyZWYnKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAkZGwuYXR0cignaHJlZicsIHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB2YXIgamtwYW5SdWxlID0gewogICAgICAgIGlkOiAnamtwYW4ucGhwZGlzaycsCiAgICAgICAgbmFtZTogJ0pLUEFOIOinhOWImSBbcGhwRGlza10nLAogICAgICAgIGhvc3Q6IFsnamtwYW4uY2MnXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogdHJ1ZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgdmFyIGN0eCA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgICAgY3R4LmtpbGxhZHMgPSAxOwogICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgICAgICAgICBzLmlkID0gJ2FkYmxvY2tUZXN0ZXInOwogICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHMpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgIHZhciBjdHggPSB1bnNhZmVXaW5kb3c7CiAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIHMuaWQgPSAnYjEnOwogICAgICAgICAgICBzLnN0eWxlLmNzc1RleHQgPSAnaGVpZ2h0OjUwMHB4O3Bvc2l0aW9uOmZpeGVkO2xlZnQ6LTUwMHB4JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl83LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9kb3duMi0nKSkgewogICAgICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBjdHguaGFuZGxlclBvcHVwOwogICAgICAgICAgICAgICAgY3R4LmhhbmRsZXJQb3B1cCA9IHVuc2FmZURlZmluZUZ1bmN0aW9uKCdoYW5kbGVyUG9wdXAnLCBmdW5jdGlvbiAoY2FwdGNoYU9iaikgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGNoYU9iai5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKEV4dGVuc2lvbl83LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9maWxlLScpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF8zLlJlZGlyZWN0VG8obG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnZmlsZScsICdkb3duMicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3BocGRpc2tBLCBwaHBkaXNrWiwgamtwYW5SdWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC54dWl0ZSIsIFsicmVxdWlyZSIsICJleHBvcnRzIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgLy8vIDxyZWZlcmVuY2UgcGF0aD0iLi4vdHlwaW5ncy9nbG9iYWxzL2pxdWVyeS9pbmRleC5kLnRzIiAvPgogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdkbC5oYW1pLWNsb3VkJywKICAgICAgICBuYW1lOiAnSGFtaSsg5YCL5Lq66ZuyJywKICAgICAgICBob3N0OiBbJ3dlYmhkLnh1aXRlLm5ldCcsICdzeW5jLmhhbWljbG91ZC5uZXQnXSwKICAgICAgICBwYXRoOiAnL19vb3BzLycsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgIH0sCiAgICAgICAgb25Cb2R5OiAoKSA9PiB7CiAgICAgICAgICAgICQoJyNzaGFyZS1kb3dubG9hZC1mdW5jLXN1Ym1pdCcpLmNsaWNrKCk7CiAgICAgICAgICAgIHVuc2FmZUV4ZWMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2dsb2JhbCcpLmRhdGEoJ3RpbWUnLCA5KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9kbC55aW11aGUiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRXh0ZW5zaW9uIiwgImhlbHBlci9SZWRpcmVjdCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgRXh0ZW5zaW9uXzgsIFJlZGlyZWN0XzQpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICAvLy8gPHJlZmVyZW5jZSBwYXRoPSIuLi90eXBpbmdzL2dsb2JhbHMvanF1ZXJ5L2luZGV4LmQudHMiIC8+CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2RsLnlpbXVoZScsCiAgICAgICAgbmFtZTogJ+S4gOacqOemvicsCiAgICAgICAgaG9zdDogJ3d3dy55aW11aGUuY29tJywKICAgICAgICBoaWRlOiAnI2xvYWRpbmcsIC5nZ2FvLCAua3VhbicsCiAgICAgICAgc2hvdzogJyN5em0nLAogICAgICAgIGluY2x1ZGVTdWJIb3N0OiBmYWxzZSwKICAgICAgICBzdWJNb2R1bGU6IGZhbHNlLAogICAgICAgIHJ1bkluRnJhbWU6IHRydWUsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBSZWRpcmVjdF80LnBocGRpc2tBdXRvUmVkaXJlY3QobnVsbCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgaWYgKEV4dGVuc2lvbl84LkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9uX2RkLnBocCcpKSB7CiAgICAgICAgICAgICAgICBSZWRpcmVjdF80LlJlZGlyZWN0VG8oJCgnI2Rvd25zJykuYXR0cignaHJlZicpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgZGxDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWQnKTsKICAgICAgICAgICAgaWYgKCFkbENvbnRhaW5lcikKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgLy8g5b2T5LiL6L295qGG55qEIHN0eWxlIOWxnuaAp+iiq+abtOaUueWQjiwg5qih5ouf5LiL6L295oyJ6ZKu5Y2V5Ye7LgogICAgICAgICAgICB2YXIgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKCdhJywgZGxDb250YWluZXIpWzFdLmNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtby5vYnNlcnZlKGRsQ29udGFpbmVyLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvZm0uZG91YmFuIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvV2FpdCIsICJoZWxwZXIvRG93bmxvYWRlciJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzQsIFdhaXRfNCwgRG93bmxvYWRlcl8yKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdmbS5kb3ViYW4nLAogICAgICAgIHNzbDogdHJ1ZSwKICAgICAgICBuYW1lOiAn6LGG55Oj55S15Y+w5LiL6L296Kej5p6QJywKICAgICAgICBob3N0OiAnZG91YmFuLmZtJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBjc3M6IGAKYSNqeF9kb3ViYW5fZGwgewoJYmFja2dyb3VuZDogIzlERDZDNTsKCXBhZGRpbmc6IDNweCA1cHg7Cgljb2xvcjogI2ZmZgp9CgphI2p4X2RvdWJhbl9kbDpob3ZlciB7CgltYXJnaW4tbGVmdDogNXB4OwoJcGFkZGluZy1sZWZ0OiAxMHB4OwoJYmFja2dyb3VuZDogI0JBRTJENjsKfQoKZGl2I2p4X2RvdWJhbl9kbF93cmFwIHsKCWZsb2F0OiByaWdodDsKCW1hcmdpbi10b3A6IC0yMzBweDsKCW1hcmdpbi1yaWdodDogLTMycHg7Cglmb250LXdlaWdodDogYm9sZDsKCWZvbnQtZmFtaWx5OiAnTWljcm9zb2Z0IEpIZW5nSGVpIFVJJywgJ+W+rui9r+mbhem7kScsIHNlcmlmLXNhbnM7Cn0KICAgIGAsCiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfMi5Eb3dubG9hZGVyKCk7CiAgICAgICAgICAgIHJ1bGUuYmQuQ2FwdHVyZUFyaWEoKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICB2YXIgbGlua0Rvd25sb2FkID0gJCgnPGE+Jyk7CiAgICAgICAgICAgIGxpbmtEb3dubG9hZC5jc3MoJ3RyYW5zaXRpb24nLCAnYWxsIC4ycycpCiAgICAgICAgICAgICAgICAuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpCiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnanhfZG91YmFuX2RsJykKICAgICAgICAgICAgICAgIC50ZXh0KCfkuIvovb0nKTsKICAgICAgICAgICAgJCgnPGRpdj4nKQogICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2p4X2RvdWJhbl9kbF93cmFwJykKICAgICAgICAgICAgICAgIC5hcHBlbmQobGlua0Rvd25sb2FkKQogICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKCcucGxheWVyLXdyYXAnKTsKICAgICAgICAgICAgTG9nZ2VyXzQuaW5mbygn562J5b6F6LGG55Oj55S15Y+w5Yqg6L29IC4uJyk7CiAgICAgICAgICAgIFdhaXRfNC5XYWl0VW50aWwoJ2V4dFN0YXR1c0hhbmRsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBMb2dnZXJfNC5pbmZvKCfnu5HlrprosYbnk6PnlLXlj7Dlh73mlbAgLi4nKTsKICAgICAgICAgICAgICAgIHVuc2FmZU92ZXJ3cml0ZUZ1bmN0aW9uU2FmZVByb3h5KHsKICAgICAgICAgICAgICAgICAgICBleHRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbiAoanNvblNvbmdPYmopIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShqc29uU29uZ09iaik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnc3RhcnQnID09IGV2ZW50LnR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb25nID0gZXZlbnQuc29uZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gc29uZy50aXRsZSArIHNvbmcudXJsLnNsaWNlKC00KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtEb3dubG9hZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShzb25nLnVybCwgZmlsZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RpdGxlJywgYOS4i+i9vTogJHtzb25nLnRpdGxlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzQuaW5mbyhgJHtzb25nLnRpdGxlfSA9PiAke3NvbmcudXJsfWApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclVuc2FmZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIExvZ2dlcl80LmluZm8oJ+WHveaVsOe7keWumuWujOavlSwgRW5qb3l+Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL2ZtLm1vZSIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9TY3JpcHQiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIERvd25sb2FkZXJfMywgU2NyaXB0XzYpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ2ZtLm1vZScsCiAgICAgICAgc3NsOiBmYWxzZSwKICAgICAgICBuYW1lOiAn6JCM5ZCm55S15Y+wJywKICAgICAgICBob3N0OiAnbW9lLmZtJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBjc3M6IGAKCmEuaml4dW4tZGwgewogICAgd2lkdGg6IDI2cHggIWltcG9ydGFudDsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xOXB4IC05NnB4ICFpbXBvcnRhbnQ7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7Cn0KCiAgICBgLAogICAgICAgIGJkOiBudWxsLAogICAgICAgIG9uU3RhcnQ6ICgpID0+IHsKICAgICAgICAgICAgcnVsZS5iZCA9IG5ldyBEb3dubG9hZGVyXzMuRG93bmxvYWRlcigpOwogICAgICAgICAgICBydWxlLmJkLkNhcHR1cmVBcmlhKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgdW5zYWZlV2luZG93LmlzX2xvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIGRsTGluayA9ICQoJzxhPicpOwogICAgICAgICAgICBkbExpbmsKICAgICAgICAgICAgICAgIC5hZGRDbGFzcygncGxheWVyLWJ1dHRvbiBsZWZ0IGppeHVuLWRsJykKICAgICAgICAgICAgICAgIC5pbnNlcnRBZnRlcignZGl2LnBsYXllci1idXR0b24uYnV0dG9uLXZvbHVtZScpOwogICAgICAgICAgICBTY3JpcHRfNi5TY3JpcHQuTGlzdGVuRXZlbnQoKGNsaXApID0+IHsKICAgICAgICAgICAgICAgIGRsTGluawogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShjbGlwLnVybCwgYCR7Y2xpcC5zdWJfdGl0bGV9Lm1wM2ApKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIGDkuIvovb06ICR7Y2xpcC5zdWJfdGl0bGV9YCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB1bnNhZmVFeGVjKChzY3JpcHROYW1lKSA9PiB7CiAgICAgICAgICAgICAgICBmdW5jdGlvbiBub3RpZnlVcGRhdGUoY2xpcCkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHNjcmlwdE5hbWUsIHsgZGV0YWlsOiBKU09OLnN0cmluZ2lmeShjbGlwKSB9KSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkZWZpbmUoJ3BsdWdpbi9qaXh1bicsIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdbQ1VXQ0w0Q10g5byA5aeL5rOo5YWlIC4uLicpOwogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ZW4gPSByZXF1aXJlKCcvcHVibGljL2pzL2ZtL3BhZ2UvbGlzdGVuLmpzJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllciA9IHJlcXVpcmUoJ3BsYXllci9wbGF5ZXInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgX2luaXRQbGF5ZXIgPSBwbGF5ZXIuaW5pdFBsYXllcjsKICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuaW5pdFBsYXllciA9IGZ1bmN0aW9uIChjbGlwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeVVwZGF0ZShjbGlwKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRQbGF5ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnW0NVV0NMNENdIOazqOWFpee7k+adnyAuLi4nKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8g6KaB5rGC6L295YWl5aSW5oyC5qih57uECiAgICAgICAgICAgICAgICBzZWFqcy51c2UoJ3BsdWdpbi9qaXh1bicpOwogICAgICAgICAgICB9LCBTY3JpcHRfNi5TY3JpcHQuTmFtZSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoInNpdGUvbXVzaWMuMTYzIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvQ29uc3RhbnRzIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvUXVlcnlTdHJpbmciLCAiaGVscGVyL0V4dGVuc2lvbiJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzUsIENvbnN0YW50c18zLCBXYWl0XzUsIERvd25sb2FkZXJfNCwgU2NyaXB0XzcsIFNjcmlwdENvbmZpZ18zLCBxcywgRXh0ZW5zaW9uXzkpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBjb25zdCBfX01QM19CTEFOSyA9ICdodHRwczovL2ppeHVubW9lLmdpdGh1Yi5pby9jdXdjbDRjL2JsYW5rLm1wMyc7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ211c2ljLjE2MycsCiAgICAgICAgc3NsOiB0cnVlLAogICAgICAgIG5hbWU6ICfpu4TmmJPkupHpn7PkuZAnLAogICAgICAgIGhvc3Q6ICdtdXNpYy4xNjMuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBydW5JbkZyYW1lOiB0cnVlLAogICAgICAgIGRsX2ljb246IHRydWUsCiAgICAgICAgY3NzOiBgCgoubS1wYmFyLCAubS1wYmFyIC5iYXJiZyB7CiAgICB3aWR0aDogY2FsYyggNDU1cHggLSAyLjVlbSApOwp9CgoubS1wbGF5YmFyIC5wbGF5IHsKICAgIHdpZHRoOiBjYWxjKCA1NzBweCAtIDIuNWVtICk7Cn0KCi5tLXBsYXliYXIgLm9wZXIgewogICAgd2lkdGg6IGluaXRpYWw7Cn0KCi5qeF9kbDpob3ZlciB7CiAgICBjb2xvcjogd2hpdGU7Cn0KCi8qIOW6lemDqOWNleabsuS4i+i9vSAqLwoubS1wbGF5YmFyIC5vcGVyIC5qeF9idG4gewogICAgdGV4dC1pbmRlbnQ6IDA7CiAgICBmb250LXNpemU6IDEuNWVtOwogICAgbWFyZ2luOiAxM3B4IDJweCAwIDA7CiAgICBmbG9hdDogbGVmdDsKICAgIGNvbG9yOiAjY2NjOwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4IGJsYWNrLCAwIDAgMWVtIGJsYWNrLCAwIDAgMC4yZW0gI2FhYTsKICAgIGxpbmUtaGVpZ2h0OiAxLjZlbTsKICAgIGZvbnQtc2l6ZTogMS4yZW07Cn0KCi5tLXBsYXliYXIgLm9wZXIgLmp4X2RsOjpiZWZvcmUgewogICAgcGFkZGluZy1yaWdodDogLjI1ZW07Cn0KCi5qeF9idG46aG92ZXIgewogICAgY29sb3I6IHdoaXRlOwp9CgovKiDmkq3mlL7liJfooajkuIvovb0gKi8KLm0tcGxheWJhciAubGlzdGhkYyAuanhfZGwuYWRkYWxsIHsKICAgIGxlZnQ6IDMwNnB4OwogICAgbGluZS1oZWlnaHQ6IDFlbTsKICAgIC8qIOWkmuS4gOS4qiBweCwg5a+56b2Q5paH5a2XICovCiAgICB0b3A6IDEzcHg7Cn0KCi5tLXBsYXliYXIgLmxpc3RoZGMgLmxpbmUuanhfZGxfbGluZSB7CiAgICBsZWZ0OiAzODVweDsKfQoKICAgIGAsCiAgICAgICAgaW5zdGFuY2U6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmluc3RhbmNlID0gbmV3IFllbGxvd0Vhc2UoKTsKICAgICAgICB9LAogICAgICAgIG9uQm9keTogKCkgPT4gewogICAgICAgICAgICBydWxlLmluc3RhbmNlLkJvZHlFdmVudCgpOwogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwogICAgY2xhc3MgWWVsbG93RWFzZSB7CiAgICAgICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgICAgIHRoaXMuX3JlbG9hZENhY2hlID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5fX0hJREVfQkFOTkVSKSB7CiAgICAgICAgICAgICAgICBydWxlLnN0eWxlLkhpZGUoJyNpbmRleC1iYW5uZXInKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoU2NyaXB0Q29uZmlnXzMuQ29uZmlnLmJZZWxsb3dFYXNlSW50ZXJuYXRpb25hbCkKICAgICAgICAgICAgICAgIEdlbmVyYXRlQ2RuTGlzdCh0aGlzKTsKICAgICAgICAgICAgdGhpcy5fZG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyXzQuRG93bmxvYWRlcigpOwogICAgICAgICAgICB1bnNhZmVFeGVjKCgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBmYWtlUGxhdEZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm0gKyAiLS1GYWtlLW1hYyI7CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAicGxhdGZvcm0iLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHJldHVybiBmYWtlUGxhdEZvcm07IH0sCiAgICAgICAgICAgICAgICAgICAgc2V0OiAoKSA9PiB7IH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgQm9keUV2ZW50KCkgewogICAgICAgICAgICBXYWl0XzUuV2FpdFVudGlsKCdubS54JywgKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5Lik5Liq54mI5p2D5o+Q56S6LCDkuIDkuKrmnYPpmZDmj5DnpLouCiAgICAgICAgICAgICAgICB2YXIgZm5CeXBhc3NDcjEgPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubmVqLmUsICduZWouZScsICcuZGF0YXNldDtpZicpOwogICAgICAgICAgICAgICAgdmFyIGZuQnlwYXNzQ3IyID0gdGhpcy5TZWFyY2godW5zYWZlV2luZG93Lm5tLngsICdubS54JywgJy5jb3B5cmlnaHRJZD09Jyk7CiAgICAgICAgICAgICAgICB2YXIgZm5CeXBhc3NDcjMgPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubm0ueCwgJ25tLngnLCAnLnByaXZpbGVnZTtpZicpOwogICAgICAgICAgICAgICAgdW5zYWZlRXhlYygoZm5CeXBhc3NDcjEsIGZuQnlwYXNzQ3IyLCBmbkJ5cGFzc0NyMykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBfZm5CeXBhc3NDcjEgPSB3aW5kb3cubmVqLmVbZm5CeXBhc3NDcjFdOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5uZWouZVtmbkJ5cGFzc0NyMV0gPSBmdW5jdGlvbiAoeiwgbmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSAnY29weXJpZ2h0JyB8fCBuYW1lID09ICdyZXNDb3B5cmlnaHQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZuQnlwYXNzQ3IxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ueFtmbkJ5cGFzc0NyMl0gPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5ubS54W2ZuQnlwYXNzQ3IzXSA9IChzb25nKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNvbmcuc3RhdHVzID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvbmcucHJpdmlsZWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb25nLnByaXZpbGVnZS5wbCA9IDMyMDAwMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSwgZm5CeXBhc3NDcjEsIGZuQnlwYXNzQ3IyLCBmbkJ5cGFzc0NyMyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoQ29uc3RhbnRzXzMuaXNGcmFtZSkgewogICAgICAgICAgICAgICAgdGhpcy5GcmFtZVBhZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuUGxheWVyUGFnZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIFNlYXJjaChiYXNlLCBkaXNwbGF5QmFzZSwga2V5d29yZCwgc3VwcHJlc3NMb2cgPSBmYWxzZSkgewogICAgICAgICAgICBmb3IgKGxldCBpdGVtTmFtZSBpbiBiYXNlKSB7CiAgICAgICAgICAgICAgICBpZiAoYmFzZS5oYXNPd25Qcm9wZXJ0eShpdGVtTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZm4gPSBiYXNlW2l0ZW1OYW1lXTsKICAgICAgICAgICAgICAgICAgICBpZiAoZm4gJiYgdHlwZW9mIGZuID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZuU3RyID0gU3RyaW5nKGZuKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFRlc3RTdHJpbmcoZm5TdHIsIGtleXdvcmQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1cHByZXNzTG9nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOWumuS9jeafpeaJviAlYyR7a2V5d29yZH0lYyDmiJDlip86ICVjJHtkaXNwbGF5QmFzZX0uJHtpdGVtTmFtZX1gLCAnY29sb3I6IGRhcmt2aW9sZXQnLCAncmVzZXQnLCAnY29sb3I6IGdyZWVuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZykKICAgICAgICAgICAgICAgIExvZ2dlcl81LmVycm9yKGDlrprkvY3mn6Xmib7lrZDlh73mlbAgJHtrZXl3b3JkfSDkuo4gJHtkaXNwbGF5QmFzZX0g5aSx6LSlLCDor7fogZTns7vkvZzogIXkv67lpI0hYCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBTZWFyY2hTdWJQcm90b3R5cGUoYmFzZSwgZGlzcGxheUJhc2UsIGtleXdvcmQsIHN1cHByZXNzTG9nID0gZmFsc2UpIHsKICAgICAgICAgICAgZm9yIChsZXQgaXRlbU5hbWUgaW4gYmFzZSkgewogICAgICAgICAgICAgICAgaWYgKGJhc2UuaGFzT3duUHJvcGVydHkoaXRlbU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Jhc2UgPSBiYXNlW2l0ZW1OYW1lXTsKICAgICAgICAgICAgICAgICAgICAvLyDmo4Dmn6XnjrDlnKjnmoTov5nkuKrmmK/kuI3mmK/lrZDnsbsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3QmFzZSAmJiBuZXdCYXNlLnByb3RvdHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmZvKGDmn6Xmib4gJWMke2Rpc3BsYXlCYXNlfS4ke2l0ZW1OYW1lfS5wcm90b3R5cGUlYyAuLi5gLCAnY29sb3I6bGlnaHRncmF5JywgJ3Jlc2V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gdGhpcy5TZWFyY2gobmV3QmFzZS5wcm90b3R5cGUsIGRpc3BsYXlCYXNlLCBrZXl3b3JkLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXJfNS5pbmZvKGDlrprkvY3mn6Xmib4gJWMke2tleXdvcmR9JWMg5oiQ5YqfOiAlYyR7ZGlzcGxheUJhc2V9LiR7aXRlbU5hbWV9Ojoke3J9YCwgJ2NvbG9yOiBkYXJrdmlvbGV0JywgJ3Jlc2V0JywgJ2NvbG9yOiBncmVlbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpdGVtTmFtZSwgJ3Byb3RvdHlwZScsIHJdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc3VwcHJlc3NMb2cpCiAgICAgICAgICAgICAgICBMb2dnZXJfNS5lcnJvcihg5a6a5L2N5p+l5om+5a2Q57G75Ye95pWwICR7a2V5d29yZH0g5LqOICR7ZGlzcGxheUJhc2V9IOWksei0pSwg6K+36IGU57O75L2c6ICF5L+u5aSNIWApOwogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgUGxheWVyUGFnZSgpIHsKICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWQgPSAkKCc8YT4nKTsKICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWQKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsICfmkq3mlL7pn7PkuZDvvIzljbPliLvop6PmnpDjgIInKQogICAgICAgICAgICAgICAgLmNsaWNrKChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKENvbnN0YW50c18zLmRvd25sb2FkSWNvbkNsYXNzKQogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdqeF9idG4nKQogICAgICAgICAgICAgICAgLmFwcGVuZFRvKCcubS1wbGF5YmFyIC5vcGVyJyk7CiAgICAgICAgICAgIC8vIFRPRE86IOWKoOWFpeatjOWNleS4i+i9veaMiemSrgogICAgICAgICAgICB0aGlzLl9idG5Eb3dubG9hZEFsbCA9ICQoJzxhPicpOwogICAgICAgICAgICB0aGlzLl9idG5Eb3dubG9hZEFsbAogICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhZGRhbGwnKQogICAgICAgICAgICAgICAgLnRleHQoJ+WFqOmDqOS4i+i9vScpCiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoQ29uc3RhbnRzXzMuZG93bmxvYWRJY29uQ2xhc3MpCiAgICAgICAgICAgICAgICAuY2xpY2soKCkgPT4gdGhpcy5Eb3dubG9hZEFsbCgpKTsKICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5kVXJpVHlwZSA9PSBTY3JpcHRDb25maWdfMy5VcmlUeXBlLkFyaWEpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2Rvd25sb2FkZXIuQ2FwdHVyZUFyaWEodGhpcy5fYnRuRG93bmxvYWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gVE9ETzog6ZqQ6JeP5q2M5Y2V5LiL6L295oyJ6ZKuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09ICcvZGVtby9mbScpIHsKICAgICAgICAgICAgICAgIHRoaXMuSG9va1JhZGlvUGxheWVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLkhvb2tOb3JtYWxQbGF5ZXIoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBEb3dubG9hZEFsbCgpIHsKICAgICAgICAgICAgLy8gVE9ETzog5LiL6L295omA5pyJ5puy55uuCiAgICAgICAgfQogICAgICAgIEhvb2tOb3JtYWxQbGF5ZXIoKSB7CiAgICAgICAgICAgIFdhaXRfNS5XYWl0VW50aWwoKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0aGRjID4gLmFkZGFsbCcpICE9IG51bGw7CiAgICAgICAgICAgIH0sICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBkbExpbmUgPSAkKCc8YT4nKTsKICAgICAgICAgICAgICAgIGRsTGluZQogICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnbGluZSBqeF9kbF9saW5lJykKICAgICAgICAgICAgICAgICAgICAuaGlkZSgpOwogICAgICAgICAgICAgICAgdGhpcy5fYnRuRG93bmxvYWRBbGwKICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKCcubS1wbGF5YmFyIC5saXN0aGRjIC5hZGRhbGwnKQogICAgICAgICAgICAgICAgICAgIC5hZnRlcihkbExpbmUpCiAgICAgICAgICAgICAgICAgICAgLmhpZGUoKTsKICAgICAgICAgICAgfSwgdHJ1ZSwgNTAwKTsKICAgICAgICAgICAgZnVuY3Rpb24gbmV4dFNvbmcoKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubnh0JykuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBXYWl0XzUuV2FpdFVudGlsKCduZWouaicsICgpID0+IHsKICAgICAgICAgICAgICAgIHZhciBmbkFqYXggPSB0aGlzLlNlYXJjaCh1bnNhZmVXaW5kb3cubmVqLmosICJuZWouaiIsICcucmVwbGFjZSgiYXBpIiwid2VhcGknKTsKICAgICAgICAgICAgICAgIHZhciBmbkdldFNvbmdSYXcgPSB0aGlzLlNlYXJjaFN1YlByb3RvdHlwZSh1bnNhZmVXaW5kb3cubm0udywgJ25tLncnLCAvcmV0dXJuIHRoaXNcLlx3K1xbdGhpc1wuXHcrXF0vKTsKICAgICAgICAgICAgICAgIHZhciBjbHNQbGF5ZXIgPSBmbkdldFNvbmdSYXdbMF07CiAgICAgICAgICAgICAgICB2YXIgZm5HZXRTb25nID0gZm5HZXRTb25nUmF3WzJdOwogICAgICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5iWWVsbG93RWFzZUludGVybmF0aW9uYWwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9idG5DaGFuZ2VDZG4gPSAkKCc8YT4nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9idG5DaGFuZ2VDZG4KICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdqeF9idG4ganhfY2RuJykKICAgICAgICAgICAgICAgICAgICAgICAgLmNsaWNrKCgpID0+IHRoaXMuTmV4dENkbigpKQogICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIodGhpcy5fYnRuRG93bmxvYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCfmjaInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY2RuID0gR01fZ2V0VmFsdWUoJ193c19jZG5fbWVkaWEnLCBudWxsKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWNkbikgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk5leHRDZG4oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NkbiA9IGNkbjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLy8vLy8g5a6J6KOF5L+u5pS55ZCO55qEIOWPluW+l+absuebruS/oeaBryDlh73mlbDlvIDlp4sKICAgICAgICAgICAgICAgIHZhciBjYWxsRXZlbnRGbiA9IEdlbmVyYXRlVmFsaWROYW1lKCk7CiAgICAgICAgICAgICAgICBleHBvcnRGdW5jdGlvbigoc29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzb25nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nID0gewogICAgICAgICAgICAgICAgICAgICAgICBhcnRpc3RzOiBkYXRhLmFydGlzdHMubWFwKChhcnRpc3QpID0+IGFydGlzdC5uYW1lKS5qb2luKCfjgIEnKSwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG51bGwKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOaNleaNieWIsOmfs+S5kOWIh+aNojogJHt0aGlzLl9zb25nLm5hbWV9YCk7CiAgICAgICAgICAgICAgICB9LCB1bnNhZmVXaW5kb3csIHsKICAgICAgICAgICAgICAgICAgICBkZWZpbmVBczogY2FsbEV2ZW50Rm4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdW5zYWZlRXhlYygoY2FsbEV2ZW50Rm4sIGNsc1BsYXllciwgZm5HZXRTb25nKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9nZXRTb25nQmFja3VwID0gd2luZG93Lm5tLndbY2xzUGxheWVyXS5wcm90b3R5cGVbZm5HZXRTb25nXTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ud1tjbHNQbGF5ZXJdLnByb3RvdHlwZVtmbkdldFNvbmddID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IF9nZXRTb25nQmFja3VwLmNhbGwodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tjYWxsRXZlbnRGbl0oSlNPTi5zdHJpbmdpZnkocikpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9LCBjYWxsRXZlbnRGbiwgY2xzUGxheWVyLCBmbkdldFNvbmcpOwogICAgICAgICAgICAgICAgLy8vLy8vIOWuieijheS/ruaUueWQjueahCDlj5blvpfmm7Lnm67kv6Hmga8g5Ye95pWw57uT5p2fCiAgICAgICAgICAgICAgICAvLy8vLy8g5a6J6KOF5L+u5pS55ZCO55qEIEFqYXgg5Ye95pWw5byA5aeLCiAgICAgICAgICAgICAgICB2YXIgYWpheFBhdGNoRm4gPSBHZW5lcmF0ZVZhbGlkTmFtZSgpOwogICAgICAgICAgICAgICAgdGhpcy5fYWpheEJhY2t1cCA9IHVuc2FmZVdpbmRvdy5uZWoualtmbkFqYXhdOwogICAgICAgICAgICAgICAgaWYgKFNjcmlwdENvbmZpZ18zLkNvbmZpZy5iWWVsbG93RWFzZVVzZU9sZEFwaSB8fCBTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGhvb2tlZEFqYXggPSAoU2NyaXB0Q29uZmlnXzMuQ29uZmlnLmJZZWxsb3dFYXNlVXNlT2xkQXBpID8gdGhpcy5BamF4UGF0Y2hlZE9sZEFwaSA6IHRoaXMuQWpheFBhdGNoZWRJbnRlcm5hdGlvbmFsKTsKICAgICAgICAgICAgICAgICAgICBleHBvcnRGdW5jdGlvbihob29rZWRBamF4LmJpbmQodGhpcyksIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVBczogYWpheFBhdGNoRm4KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB1bnNhZmVFeGVjKChhamF4UGF0Y2hGbiwgZm5BamF4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhamF4UGF0Y2hlZCA9IHdpbmRvd1thamF4UGF0Y2hGbl07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhamF4T3JpZ2luYWwgPSB3aW5kb3cubmVqLmpbZm5BamF4XTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm5lai5qW2ZuQWpheF0gPSBDdXN0b21BamF4OwogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBDdXN0b21BamF4KHVybCwgcGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmluZm8oYHVybDogJHt1cmx9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2xvZy8nKSAhPSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMub25sb2FkKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1zLmhlYWRlcnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmhlYWRlcnMgPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfb25sb2FkID0gcGFyYW1zLm9ubG9hZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmFtcy5fb25sb2FkID0gcGFyYW1zLm9ubG9hZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQgPSAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQgPSBfb25sb2FkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuX29ubG9hZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMuX29ubG9hZChkYXRhLCBfb25sb2FkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhQYXRjaGVkKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIGFqYXhQYXRjaEZuLCBmbkFqYXgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8vLy8vIOWuieijheS/ruaUueWQjueahCBBamF4IOWHveaVsOe7k+adnwogICAgICAgICAgICAgICAgLy8vIOaMgumSqeS4i+S4gOmmluWIh+aNouS6i+S7tiwg5by65Yi26YeN5paw6K+75Y+W5b2T5YmN5puy55uu5Zyw5Z2A44CCCiAgICAgICAgICAgICAgICB2YXIgZm5OZXh0U29uZyA9IHRoaXMuU2VhcmNoKHVuc2FmZVdpbmRvdy5ubS53W2Nsc1BsYXllcl0ucHJvdG90eXBlLCBgbm0udy4ke2Nsc1BsYXllcn0ucHJvdG90eXBlYCwgJygrMSksInVpIiknKTsKICAgICAgICAgICAgICAgIHVuc2FmZUV4ZWMoKGNsc1BsYXllciwgZm5OZXh0U29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciBvbGROZXh0U29uZyA9IHdpbmRvdy5ubS53W2Nsc1BsYXllcl0ucHJvdG90eXBlW2ZuTmV4dFNvbmddOwogICAgICAgICAgICAgICAgICAgIHZhciByZWxvYWRTb25nID0gZXZhbCgnKCcgKyBvbGROZXh0U29uZy50b1N0cmluZygpLnJlcGxhY2UoJzEnLCAnMCcpICsgJyknKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubm0ud1tjbHNQbGF5ZXJdLnByb3RvdHlwZVtmbk5leHRTb25nXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm5tLndbY2xzUGxheWVyXS5wcm90b3R5cGVbZm5OZXh0U29uZ10gPSBvbGROZXh0U29uZzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbG9hZFNvbmcuY2FsbCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ueHQnKS5jbGljaygpOwogICAgICAgICAgICAgICAgfSwgY2xzUGxheWVyLCBmbk5leHRTb25nKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIEFqYXhQYXRjaGVkT2xkQXBpKHVybCwgcGFyYW1zKSB7CiAgICAgICAgICAgIGlmICh1cmwgIT0gJy9hcGkvc29uZy9lbmhhbmNlL3BsYXllci91cmwnKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9hamF4QmFja3VwKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB1cmwgPSAnL2FwaS92My9zb25nL2RldGFpbCc7CiAgICAgICAgICAgIGxldCBxdWVyeSA9IHBhcmFtcy5xdWVyeTsKICAgICAgICAgICAgaWYgKHF1ZXJ5LmJyKQogICAgICAgICAgICAgICAgZGVsZXRlIHF1ZXJ5LmJyOwogICAgICAgICAgICB2YXIgX2lkcyA9IEpTT04ucGFyc2UocXVlcnkuaWRzKTsKICAgICAgICAgICAgdmFyIHJlcXVlc3RJZHMgPSBbXTsKICAgICAgICAgICAgdGhpcy5Mb2FkQ2FjaGUoKTsKICAgICAgICAgICAgdmFyIHNvbmdzID0gX2lkcy5tYXAoKGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fc29uZ0NhY2hlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvbmdDYWNoZVtpZF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXF1ZXN0SWRzLnB1c2goaWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0pLmZpbHRlcigoc29uZykgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHNvbmc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAocmVxdWVzdElkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOS7jue8k+WtmOivu+WPluabsuebruS/oeaBr+OAgmApOwogICAgICAgICAgICAgICAgbGV0IHJlcGx5ID0gU29uZ3NUb1VybFJlcGx5KHNvbmdzKTsKICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5VXJsQ2hhbmdlKHJlcGx5LmRhdGFbMF0udXJsKTsKICAgICAgICAgICAgICAgIHBhcmFtcy5vbmxvYWQocmVwbHkpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oJ+ivt+axguacjeWKoeWZqOiOt+WPluS/oeaBrzogJW8nLCByZXF1ZXN0SWRzKTsKICAgICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gewogICAgICAgICAgICAgICAgaWRzOiByZXF1ZXN0SWRzCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHBhcmFtcy5fb25sb2FkID0gZXhwb3J0RnVuY3Rpb24oKGRhdGEsIF9vbmxvYWQpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuTG9hZENhY2hlKGZhbHNlKTsKICAgICAgICAgICAgICAgIGRhdGEuc29uZ3MuZm9yRWFjaCgoc29uZykgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvbmdDYWNoZVtzb25nLmlkXSA9IHNvbmc7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICBsZXQgcmVwbHkgPSBTb25nc1RvVXJsUmVwbHkoX2lkcy5tYXAoKGlkKSA9PiB0aGlzLl9zb25nQ2FjaGVbaWRdKSk7CiAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeVVybENoYW5nZShyZXBseS5kYXRhWzBdLnVybCk7CiAgICAgICAgICAgICAgICBfb25sb2FkKHJlcGx5KTsKICAgICAgICAgICAgfSwgdW5zYWZlV2luZG93KTsKICAgICAgICAgICAgdGhpcy5fYWpheEJhY2t1cCh1cmwsIHBhcmFtcyk7CiAgICAgICAgfQogICAgICAgIExvYWRDYWNoZShmb3JjZSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmIChmb3JjZSB8fCB0aGlzLl9yZWxvYWRDYWNoZSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nQ2FjaGUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5fX3RyYWNrX3F1ZXVlX2NhY2hlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb25nQ2FjaGUgPSB7fTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX190cmFja19xdWV1ZV9jYWNoZSA9ICd7fSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5fcmVsb2FkQ2FjaGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgU2F2ZUNhY2hlKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX190cmFja19xdWV1ZV9jYWNoZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuX3NvbmdDYWNoZSk7CiAgICAgICAgfQogICAgICAgIEFqYXhQYXRjaGVkSW50ZXJuYXRpb25hbCh1cmwsIHBhcmFtcywgdHJ5X2JyKSB7CiAgICAgICAgICAgIGlmICh1cmwgIT0gJy9hcGkvc29uZy9lbmhhbmNlL3BsYXllci91cmwnKSB7CiAgICAgICAgICAgICAgICB0aGlzLl9hamF4QmFja3VwKHVybCwgcGFyYW1zKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSAnb3M9dXdwJzsKICAgICAgICAgICAgbGV0IGlwID0gdGhpcy5faXBzLnNoaWZ0KCk7CiAgICAgICAgICAgIHRoaXMuX2lwcy5wdXNoKGlwKTsKICAgICAgICAgICAgcGFyYW1zLmhlYWRlcnNbJ1gtUmVhbC1JUCddID0gaXA7CiAgICAgICAgICAgIHZhciBpZCA9IEpTT04ucGFyc2UocGFyYW1zLnF1ZXJ5LmlkcylbMF07CiAgICAgICAgICAgIHBhcmFtcy5fb25sb2FkID0gZXhwb3J0RnVuY3Rpb24oKGRhdGEsIF9vbmxvYWQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFbMF0udXJsKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuSW5qZWN0Q2RuKGRhdGEuZGF0YVswXS51cmwpOwogICAgICAgICAgICAgICAgICAgIF9vbmxvYWQoVXJsVG9Tb25nVXJsUmVwbHkoaWQsIHVybCkpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5VXJsQ2hhbmdlKHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VVc2VUaHJpZE9uRmFpbCAmJiAhdHJ5X2JyKSB7CiAgICAgICAgICAgICAgICAgICAgTXVzaWNTcHkuR2V0KGlkLCAoZXJyLCB1cmwpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2RuX3VybCA9IHRoaXMuSW5qZWN0Q2RuKHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9vbmxvYWQoVXJsVG9Tb25nVXJsUmVwbHkoaWQsIGNkbl91cmwpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnlVcmxDaGFuZ2UoY2RuX3VybCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0sIHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICAgIHRoaXMuX2FqYXhCYWNrdXAodXJsLCBwYXJhbXMpOwogICAgICAgIH0KICAgICAgICBOb3RpZnlVcmxDaGFuZ2UodXJsKSB7CiAgICAgICAgICAgIHRoaXMuX3NvbmcudXJsID0gdXJsOwogICAgICAgICAgICB0aGlzLk9uU29uZ0NoYW5nZSgpOwogICAgICAgIH0KICAgICAgICBPblNvbmdDaGFuZ2UoKSB7CiAgICAgICAgICAgIHRoaXMuX2J0bkRvd25sb2FkLmF0dHIoewogICAgICAgICAgICAgICAgaHJlZjogdGhpcy5fZG93bmxvYWRlci5HZW5lcmF0ZVVyaSh0aGlzLl9zb25nLnVybCwgYCR7dGhpcy5fc29uZy5uYW1lfSBbJHt0aGlzLl9zb25nLmFydGlzdHN9XS5tcDNgKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBg5LiL6L29OiAke3RoaXMuX3NvbmcubmFtZX1gCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBJbmplY3RDZG4odXJsKSB7CiAgICAgICAgICAgIHZhciByID0gdXJsLnJlcGxhY2UoLyhtMTBcLm11c2ljXC4xMjZcLm5ldCkvLCBgJHt0aGlzLl9jZG59LyQxYCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOaSreaUvumfs+S5kCAoJHtyfSlgKTsKICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgfQogICAgICAgIE5leHRDZG4oKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5fY2RucykKICAgICAgICAgICAgICAgIEdlbmVyYXRlQ2RuTGlzdCh0aGlzKTsKICAgICAgICAgICAgdmFyIGlwID0gdGhpcy5fY2Rucy5zaGlmdCgpOwogICAgICAgICAgICB0aGlzLl9jZG5zLnB1c2goaXApOwogICAgICAgICAgICB0aGlzLk5vdGlmeUNkbihpcCk7CiAgICAgICAgfQogICAgICAgIE5vdGlmeUNkbihpcCkgewogICAgICAgICAgICBpZiAodGhpcy5fYnRuQ2hhbmdlQ2RuKQogICAgICAgICAgICAgICAgdGhpcy5fYnRuQ2hhbmdlQ2RuLmF0dHIoJ3RpdGxlJywgYOabtOaNoiBDRE4gW+W9k+WJjTogJHtpcH1dYCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOS9v+eUqCBDRE46ICR7aXB9YCk7CiAgICAgICAgICAgIHRoaXMuX2NkbiA9IGlwOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uud3NfY2RuX21lZGlhID0gaXA7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKCJfd3NfY2RuX21lZGlhIiwgaXApOwogICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChTY3JpcHRfNy5TY3JpcHQuTmFtZSArICctY2RuJywgewogICAgICAgICAgICAgICAgZGV0YWlsOiBpcAogICAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICAgIEhvb2tSYWRpb1BsYXllcigpIHsKICAgICAgICB9CiAgICAgICAgRnJhbWVQYWdlKCkgewogICAgICAgICAgICBzd2l0Y2ggKGxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pIHsKICAgICAgICAgICAgICAgIGNhc2UgJ212JzoKICAgICAgICAgICAgICAgICAgICB0aGlzLk1vdmllUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnb3V0Y2hhaW4nOgogICAgICAgICAgICAgICAgICAgIHRoaXMuT3V0Y2hhaW5QYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdzb25nJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLlNpbmdsZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2FsYnVtJzogLy8g5LiT6L6RCiAgICAgICAgICAgICAgICBjYXNlICdhcnRpc3QnOiAvLyDoibrmnK/lrrYKICAgICAgICAgICAgICAgIGNhc2UgJ3BsYXlsaXN0JzogLy8g5pKt5pS+5YiX6KGoCiAgICAgICAgICAgICAgICBjYXNlICdkaXNjb3Zlcic6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5FbmFibGVJdGVtcygpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIE1vdmllUGFnZSgpIHsKICAgICAgICAgICAgdmFyICRmbGFzaEJveCA9ICQoJyNmbGFzaF9ib3gnKTsKICAgICAgICAgICAgaWYgKCRmbGFzaEJveC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICRmbGFzaEJveC5odG1sKCk7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gcXMuUGFyc2UoaHRtbC5tYXRjaCgvZmxhc2h2YXJzPSIoW1xzXFNdKz8pIi8pWzFdLnJlcGxhY2UoLyZhbXA7L2csICcmJykpOwogICAgICAgICAgICAgICAgdmFyIHF1YWxpdGllcyA9IHsKICAgICAgICAgICAgICAgICAgICBodXJsOiAn6auY5riFJywKICAgICAgICAgICAgICAgICAgICBtdXJsOiAn5qCH5riFJywKICAgICAgICAgICAgICAgICAgICBsdXJsOiAn5rij55S76LSoJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciAkZGxIb2xkZXIgPSAkKCc8cD4nKS5jc3MoewogICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JwogICAgICAgICAgICAgICAgfSkudGV4dCgnTVYg5LiL6L29OiAnKS5pbnNlcnRBZnRlcigkZmxhc2hCb3gpOwogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocXVhbGl0aWVzKS5mb3JFYWNoKChxdWFsaXR5SWQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zW3F1YWxpdHlJZF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkbCA9ICQoJzxhPicpLmF0dHIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogdGhpcy5fZG93bmxvYWRlci5HZW5lcmF0ZVVyaShwYXJhbXNbcXVhbGl0eUlkXSwgYCR7cGFyYW1zLnRyYWNrTmFtZX1bJHtxdWFsaXRpZXNbcXVhbGl0eUlkXX1dLm1wNGApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGDkuIvovb0gJHtwYXJhbXMudHJhY2tOYW1lfSDnmoQgJHtxdWFsaXRpZXNbcXVhbGl0eUlkXX0gTXZgCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnByb3AoJ2Rvd25sb2FkJywgdHJ1ZSkudGV4dChxdWFsaXRpZXNbcXVhbGl0eUlkXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS/ruatoyAxNjMg6Ieq5bex55qE6Lez6L2sLgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3dubG9hZGVyLkNhcHR1cmVBcmlhKCRkbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICRkbEhvbGRlci5hcHBlbmQoJGRsKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGRsSG9sZGVyLmFwcGVuZCgnIHwgJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkZGxIb2xkZXIuYXBwZW5kKGDmj5Dkvps6ICR7U2NyaXB0XzcuU2NyaXB0Lk5hbWV9ICR7Q29uc3RhbnRzXzMudmVyc2lvbn1gKTsKICAgICAgICAgICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgJGZsYXNoQm94Lmh0bWwoaHRtbC5yZXBsYWNlKC9yZXN0cmljdD10cnVlL2csICdyZXN0cmljdD0nKSk7CiAgICAgICAgICAgICAgICAgICAgLy8g6Ieq5Yqo5YWz6Zet5by55Ye655qE5o+Q56S65qGGCiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd6Y2xzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbFswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbW91c2Vkb3duJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIE91dGNoYWluUGFnZSgpIHsKICAgICAgICAgICAgLy8gVE9ETzog5aSW6ZO+6aG16Z2iCiAgICAgICAgfQogICAgICAgIFNpbmdsZVBhZ2UoKSB7CiAgICAgICAgICAgIHZhciB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3UtYnRuaS1hZGRwbHknKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5QnV0dG9uLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpdCBzaG91bGQgYmUgYSBkaXNhYmxlZCBidXR0b24uCiAgICAgICAgICAgICAgICB2YXIgcGxheUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd1LWJ0bmktcGxheS1kaXMnKTsKICAgICAgICAgICAgICAgIGlmIChwbGF5QnV0dG9ucy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc29uZ0lkID0gJCgnI2NvbnRlbnQtb3BlcmF0aW9uJykuZGF0YSgncmlkJyk7CiAgICAgICAgICAgICAgICAgICAgcGxheUJ1dHRvbnNbMF0ub3V0ZXJIVE1MID0gYAo8YSBkYXRhLXJlcy1hY3Rpb249InBsYXkiIGRhdGEtcmVzLWlkPSIke3NvbmdJZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBocmVmPSJqYXZhc2NyaXB0OjsiCiAgY2xhc3M9InUtYnRuMiB1LWJ0bjItMiB1LWJ0bmktYWRkcGx5IGYtZmwiIGhpZGVmb2N1cz0idHJ1ZSIgdGl0bGU9IuaSreaUviI+CiAgICA8aT48ZW0gY2xhc3M9InBseSI+PC9lbT7mkq3mlL48L2k+CjwvYT4KCjxhIGRhdGEtcmVzLWFjdGlvbj0iYWRkdG8iIGRhdGEtcmVzLWlkPSIke3NvbmdJZH0iIGRhdGEtcmVzLXR5cGU9IjE4IiBocmVmPSJqYXZhc2NyaXB0OjsiCiAgY2xhc3M9InUtYnRuaSB1LWJ0bmktYWRkIiBoaWRlZm9jdXM9InRydWUiIHRpdGxlPSLmt7vliqDliLDmkq3mlL7liJfooagiPgo8L2E+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgICAgRW5hYmxlSXRlbXMoKSB7CiAgICAgICAgICAgIHZhciB0aW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgZGlzYmxlZEl0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtZGlzJyk7CiAgICAgICAgICAgICAgICBpZiAoZGlzYmxlZEl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzYmxlZEl0ZW1zLmxlbmd0aDspIHsKICAgICAgICAgICAgICAgICAgICBkaXNibGVkSXRlbXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnanMtZGlzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIFRlc3RTdHJpbmcoc3JjLCBuZWVkbGUpIHsKICAgICAgICBpZiAodHlwZW9mIG5lZWRsZSA9PSAnc3RyaW5nJykgewogICAgICAgICAgICByZXR1cm4gRXh0ZW5zaW9uXzkuQ29udGFpbnMoc3JjLCBuZWVkbGUpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5lZWRsZS50ZXN0KHNyYyk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gR2VuZXJhdGVDZG5MaXN0KGN0eCkgewogICAgICAgIHZhciBjZG5zID0gWwogICAgICAgICAgICAvLyDnlLXkv6EKICAgICAgICAgICAgIjEyNS45MC4yMDYuMzIiLAogICAgICAgICAgICAiMjIyLjE4Ni4xMzIuMTAzIiwKICAgICAgICAgICAgIjExNy4yMy42Ljg5IiwKICAgICAgICAgICAgIjExOS4xNDUuMjA3LjE3IiwKICAgICAgICAgICAgIjE4MC45Ny4xODAuNzEiLAogICAgICAgICAgICAiMTE2LjU1LjIzNi45MyIsCiAgICAgICAgICAgICIyMTguNzYuMTA1LjQyIiwKICAgICAgICAgICAgIjEyNS42NC4yMzIuMTUiLAogICAgICAgICAgICAiMTE1LjIzMS44Ny4zNyIsCiAgICAgICAgICAgICI1OC4yMjEuNzguNjgiLAogICAgICAgICAgICAiMjIwLjExMi4xOTUuMTQ4IiwKICAgICAgICAgICAgIjIxOC42NC45NC42NyIsCiAgICAgICAgICAgICIzNi40Mi4zMi43NiIsCiAgICAgICAgICAgICI2MS4xMzYuMjExLjE2IiwKICAgICAgICAgICAgIjIxOC42NC45NC42OCIsCiAgICAgICAgICAgICIyMTkuMTM4LjIxLjcxIiwKICAgICAgICAgICAgIjQ5Ljc5LjIzMi41OCIsCiAgICAgICAgICAgICIxMjIuMjI4LjI0LjMwIiwKICAgICAgICAgICAgIjE4Mi4xMDYuMTk0Ljg1IiwKICAgICAgICAgICAgIjIxOC41OS4xODYuOTgiLAogICAgICAgICAgICAiNjEuMTU4LjEzMy4yMSIsCiAgICAgICAgICAgICIxMTcuMjcuMjQxLjIwIiwKICAgICAgICAgICAgIjU4LjUxLjE1MC4xMzMiLAogICAgICAgICAgICAiMjE4LjI5LjQ5LjEzMiIsCiAgICAgICAgICAgICI2MC4yMTUuMTI1Ljc2IiwKICAgICAgICAgICAgIjE4My42MS4yMi4xNyIsCiAgICAgICAgICAgICIxODMuMTM0LjE0LjI2IiwKICAgICAgICAgICAgIjU4LjIyMC42LjE0MiIsCiAgICAgICAgICAgICIxMTUuMjMxLjE1OC40NCIsCiAgICAgICAgICAgICI2MS4xNjQuMjQxLjEwNSIsCiAgICAgICAgICAgICIxMjUuNDYuMjIuMTI0IiwKICAgICAgICAgICAgIjIyMi4yOC4xNTIuMTM5IiwKICAgICAgICAgICAgIjEyNC4xNjUuMjE2LjI0NCIsCiAgICAgICAgICAgICIyMTguNjAuMTA2LjExNSIsCiAgICAgICAgICAgICIyMDIuMTA3Ljg1LjgxIiwKICAgICAgICAgICAgIjYxLjE3OS4xMDcuMTE2IiwKICAgICAgICAgICAgIjE3NS40My4yMC42OSIsCiAgICAgICAgICAgICIyMjAuMTk0LjIwMy44NiIsCiAgICAgICAgICAgICI2MS4xNjAuMjA5LjI3IiwKICAgICAgICAgICAgIjEyMC4yMDkuMTQxLjc5IiwKICAgICAgICAgICAgIjEyMC4yMDkuMTQyLjEzOCIsCiAgICAgICAgICAgICIyMTkuMTM4LjIxLjcyIiwKICAgICAgICAgICAgIjU4LjIxNi4yMS4xMzIiLAogICAgICAgICAgICAnMTQuMjE1LjIyOC4xMCcsCiAgICAgICAgICAgICcyMTguODcuMTExLjgzJywKICAgICAgICAgICAgLy8g5YyX5Lqs55S15L+hCiAgICAgICAgICAgICcyMDMuMTMwLjU5LjgnLAogICAgICAgICAgICAnMjAzLjEzMC41OS4xMCcsCiAgICAgICAgICAgICcyMDMuMTMwLjU5LjExJywKICAgICAgICAgICAgJzIwMy4xMzAuNTkuMTInCiAgICAgICAgXTsKICAgICAgICBjdHguX2NkbnMgPSBFeHRlbnNpb25fOS5TaHVmZmxlKGNkbnMpOwogICAgICAgIHZhciBpcHMgPSBbCiAgICAgICAgICAgICcxMDYuMTIwLjE2Ny42NycsICcxMTEuMjA2LjYxLjEzMScsICcxMTEuMjA2LjYxLjEzMScsICcxMTEuMTMuNjYuMjI2JywKICAgICAgICAgICAgJzEwNi4xMjAuMTY3LjY3JywgJzEyNS44OC4xOTAuNTYnLCAnMjIyLjczLjE0NC4xOTUnLCAnMjIwLjE4MS41Ny4yMzInLAogICAgICAgICAgICAnMTgwLjE0OS4xMzEuMjQ3JywgJzE4MC4xNDkuMTMzLjE2NycsICcxMTIuMzQuMTExLjEyMScsICc2MS4xMzUuMTg1LjI0JwogICAgICAgIF07CiAgICAgICAgY3R4Ll9pcHMgPSBFeHRlbnNpb25fOS5TaHVmZmxlKGlwcyk7CiAgICB9CiAgICBmdW5jdGlvbiBHZW5lcmF0ZVZhbGlkTmFtZSgpIHsKICAgICAgICByZXR1cm4gYCR7U2NyaXB0XzcuU2NyaXB0Lk5hbWV9X18ke0RhdGUubm93KCl9JHtNYXRoLnJhbmRvbSgpfWA7CiAgICB9CiAgICBmdW5jdGlvbiBHZXRFbmhhbmNlZERhdGEoaWQsIHVybCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIGJyOiAxOTIwMDAsCiAgICAgICAgICAgIHNpemU6IDEyMDAwMCwKICAgICAgICAgICAgbWQ1OiAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLAogICAgICAgICAgICBjb2RlOiAyMDAsCiAgICAgICAgICAgIGV4cGk6IDEyMDAsCiAgICAgICAgICAgIHR5cGU6ICdtcDMnLAogICAgICAgICAgICBnYWluOiAwLAogICAgICAgICAgICBmZWU6IDAsCiAgICAgICAgICAgIHVmOiBudWxsLAogICAgICAgICAgICBwYXllZDogMCwKICAgICAgICAgICAgY2FuRXh0ZW5kOiBmYWxzZQogICAgICAgIH07CiAgICB9CiAgICBmdW5jdGlvbiBTb25nc1RvVXJsUmVwbHkoc29uZ3MpIHsKICAgICAgICB2YXIgcmVwbHkgPSB7CiAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgZGF0YTogc29uZ3MubWFwKChzb25nKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gR2V0RW5oYW5jZWREYXRhKHNvbmcuaWQsIEdlbmVyYXRlVXJsRnJvbVNvbmcoc29uZykpOwogICAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGNsb25lSW50byhyZXBseSwgdW5zYWZlV2luZG93LCB7CiAgICAgICAgICAgIGNsb25lRnVuY3Rpb25zOiBmYWxzZSwKICAgICAgICAgICAgd3JhcFJlZmxlY3RvcnM6IHRydWUKICAgICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIFVybFRvU29uZ1VybFJlcGx5KGlkLCB1cmwpIHsKICAgICAgICB2YXIgcmVwbHkgPSB7CiAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgZGF0YTogW0dldEVuaGFuY2VkRGF0YShpZCwgdXJsKV0KICAgICAgICB9OwogICAgICAgIHJldHVybiBjbG9uZUludG8ocmVwbHksIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICBjbG9uZUZ1bmN0aW9uczogZmFsc2UsCiAgICAgICAgICAgIHdyYXBSZWZsZWN0b3JzOiB0cnVlCiAgICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBHZW5lcmF0ZVVybEZyb21Tb25nKHNvbmcpIHsKICAgICAgICB2YXIgZGZzSWQ7CiAgICAgICAgdmFyIHEgPSAoc29uZy5oIHx8IHNvbmcubSB8fCBzb25nLmwgfHwgc29uZy5hKTsKICAgICAgICBpZiAoIXEpIHsKICAgICAgICAgICAgTG9nZ2VyXzUuZXJyb3IoYOatjOabsiAke3NvbmcubmFtZX0g5bey57uP5LiL5p6277yM6I635Y+W5Zyw5Z2A5aSx6LSlIWApOwogICAgICAgICAgICByZXR1cm4gX19NUDNfQkxBTks7CiAgICAgICAgfQogICAgICAgIGRmc0lkID0gcS5maWQ7CiAgICAgICAgdmFyIHJhbmRTZXJ2ZXIgPSB+fihNYXRoLnJhbmRvbSgpICogMikgKyAxOwogICAgICAgIHZhciBpcFByZWZpeCA9ICcnOwogICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VJbnRlcm5hdGlvbmFsKSB7CiAgICAgICAgICAgIGlmIChTY3JpcHRDb25maWdfMy5Db25maWcuYlllbGxvd0Vhc2VVc2VPbGRBcGkpIHsKICAgICAgICAgICAgICAgIGlwUHJlZml4ID0gJzEyNy4wLjAuMTo0MDAzLyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBUT0RPOiDov5nkupsgSXAg5pyJ55So5ZibPwogICAgICAgICAgICAgICAgaXBQcmVmaXggPSBydWxlLmluc3RhbmNlLl9jZG47CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdmFyIGRmc0hhc2ggPSBEb0Rmc0hhc2goZGZzSWQpOwogICAgICAgIHJldHVybiBgaHR0cDovLyR7aXBQcmVmaXh9bSR7cmFuZFNlcnZlcn0ubXVzaWMuMTI2Lm5ldC8ke2Rmc0hhc2h9LyR7ZGZzSWR9Lm1wM2A7CiAgICB9CiAgICBmdW5jdGlvbiBzdHJUb0tleUNvZGVzKHN0cikgewogICAgICAgIHJldHVybiBTdHJpbmcoc3RyKS5zcGxpdCgnJykubWFwKChjaCkgPT4gY2guY2hhckNvZGVBdCgwKSk7CiAgICB9CiAgICBjb25zdCBrZXlzID0gWwogICAgICAgIDUxLCAxMDMsIDExMSwgNTYsIDM4LCAzNiwKICAgICAgICA1NiwgNDIsIDUxLCA0MiwgNTEsIDEwNCwKICAgICAgICA0OCwgMTA3LCA0MCwgNTAsIDQxLCA1MAogICAgXTsKICAgIGZ1bmN0aW9uIERvRGZzSGFzaChkZnNpZCkgewogICAgICAgIHZhciBmaWRzID0gc3RyVG9LZXlDb2RlcyhkZnNpZCkubWFwKGZ1bmN0aW9uIChmaWQsIGkpIHsKICAgICAgICAgICAgcmV0dXJuIChmaWQgXiBrZXlzW2kgJSBrZXlzLmxlbmd0aF0pICYgMHhGRjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gQ3J5cHRvSlMuTUQ1KENyeXB0b0pTLmxpYi5CeXRlQXJyYXkoZmlkcykpCiAgICAgICAgICAgIC50b1N0cmluZyhDcnlwdG9KUy5lbmMuQmFzZTY0KQogICAgICAgICAgICAucmVwbGFjZSgvXC8vZywgIl8iKQogICAgICAgICAgICAucmVwbGFjZSgvXCsvZywgIi0iKTsKICAgIH0KICAgIHZhciBNdXNpY1NweTsKICAgIChmdW5jdGlvbiAoTXVzaWNTcHkpIHsKICAgICAgICB2YXIgX3JlYWR5ID0gZmFsc2U7CiAgICAgICAgdmFyIF9yZWxvYWRDYWNoZSA9IHRydWU7CiAgICAgICAgdmFyIF9jYWNoZSA9IHt9OwogICAgICAgIGZ1bmN0aW9uIEluaXQoKSB7CiAgICAgICAgICAgIF9yZWFkeSA9IHRydWU7CiAgICAgICAgICAgIFNjcmlwdF83LlNjcmlwdC5SZWdpc3RlclN0b3JhZ2VFdmVudCgnX01VU0lDX1NQWScsICgpID0+IHsKICAgICAgICAgICAgICAgIF9yZWxvYWRDYWNoZSA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBSZWxvYWRDYWNoZSgpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBSZWxvYWRDYWNoZShmb3JjZSA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmIChmb3JjZSB8fCBfcmVsb2FkQ2FjaGUpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgX2NhY2hlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuX01VU0lDX1NQWSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICAgICAgICBfY2FjaGUgPSB7fTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfcmVsb2FkQ2FjaGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gUmVhZENhY2hlKGlkKSB7CiAgICAgICAgICAgIGlmIChfcmVsb2FkQ2FjaGUpCiAgICAgICAgICAgICAgICBSZWxvYWRDYWNoZSgpOwogICAgICAgICAgICByZXR1cm4gX2NhY2hlW2lkXTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gU2F2ZUNhY2hlKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuX01VU0lDX1NQWSA9IEpTT04uc3RyaW5naWZ5KF9jYWNoZSk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIEdldChpZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKCFfcmVhZHkpCiAgICAgICAgICAgICAgICBJbml0KCk7CiAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOesrOS4gOatpTog5pCc57Si5puy55uuICgke2lkfSlgKTsKICAgICAgICAgICAgdmFyIGNhY2hlU29uZyA9IFJlYWRDYWNoZShpZCk7CiAgICAgICAgICAgIGlmIChjYWNoZVNvbmcpIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOivu+iHque8k+WtmCwg6K+35rGC6Kej5p6Q55yf5a6e5Zyw5Z2A44CCYCk7CiAgICAgICAgICAgICAgICBQYXJzZVJlYWxBZGRyZXNzKGNhY2hlU29uZywgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sobnVsbCwgY2FjaGVTb25nLnVybCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIHVybDogYGh0dHA6Ly9hcGkuaXR3dXN1bi5jb20vbXVzaWMvc2VhcmNoL3d5LzE/Zm9ybWF0PWpzb24mc2lnbj1hNWNjMGE4Nzk3NTM5ZDNhMWE0ZjdhZWNhNWI2OTViOSZrZXl3b3JkPSR7aWR9YCwKICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+aXoOaViOeahOabsuebruaQnOe0oue7k+aenOOAgicpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgc29uZyA9IGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoc29uZykgPT4gc29uZy5UeXBlID09ICd3eScgJiYgc29uZy5Tb25nSWQgPT0gaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC5wb3AoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXNvbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfmib7kuI3liLDmm7Lnm67kv6Hmga/jgIInKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHNvbmcuU3FVcmwgfHwgc29uZy5IcVVybCB8fCBzb25nLkxxVXJsOwogICAgICAgICAgICAgICAgICAgIHZhciBzb25nT2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgcmVhbF90aW1lOiAwLAogICAgICAgICAgICAgICAgICAgICAgICByZWFsX3VybDogbnVsbAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX2NhY2hlW2lkXSA9IHNvbmdPYmo7CiAgICAgICAgICAgICAgICAgICAgU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuaW5mbyhg5oiQ5Yqf5Y+W5b6X5Zyw5Z2ALCDor7fmsYLop6PmnpDnnJ/lrp7lnLDlnYDjgIJgKTsKICAgICAgICAgICAgICAgICAgICBQYXJzZVJlYWxBZGRyZXNzKHNvbmdPYmosIGNhbGxiYWNrKTsKICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayhudWxsLCB1cmwpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+e9kee7nOmUmeivryAo5pCc57Si5puy55uuKScpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIE11c2ljU3B5LkdldCA9IEdldDsKICAgICAgICAvLyDlm5vlsI/ml7blkI7ov4fmnJ8KICAgICAgICAvLyAxMDAwICogNjAgKiA2MCAqNCA9PSAxNDQwMDAwMAogICAgICAgIGZ1bmN0aW9uIFBhcnNlUmVhbEFkZHJlc3MoY2FjaGVTb25nLCBjYWxsYmFjaykgewogICAgICAgICAgICBMb2dnZXJfNS5pbmZvKGDnrKzkuozmraU6IOino+aekOecn+WunuWcsOWdgCAoJHtjYWNoZVNvbmcudXJsfSlgKTsKICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBjYWNoZVNvbmcucmVhbF90aW1lIDwgMTQ0MDAwMDApIHsKICAgICAgICAgICAgICAgIExvZ2dlcl81LmluZm8oYOivu+iHque8k+WtmO+8jOe7k+adn+ivu+WPluOAgmApOwogICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgY2FjaGVTb25nLnJlYWxfdXJsKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgdXJsOiBjYWNoZVNvbmcudXJsLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIFJhbmdlOiAnYnl0ZXM9MC0yJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9ubG9hZDogKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2FjaGVTb25nLnJlYWxfdXJsID0gcmVzcG9uc2UuZmluYWxVcmw7CiAgICAgICAgICAgICAgICAgICAgY2FjaGVTb25nLnJlYWxfdGltZSA9IERhdGUubm93KCk7CiAgICAgICAgICAgICAgICAgICAgU2F2ZUNhY2hlKCk7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzUuaW5mbyhg6Kej5p6Q57uT5p2fOiAke2NhY2hlU29uZy5yZWFsX3VybH1gKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZS5maW5hbFVybCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign572R57uc6ZSZ6K+vICjop6PmnpDnnJ/lrp7lnLDlnYDml7YpJyksIG51bGwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KShNdXNpY1NweSB8fCAoTXVzaWNTcHkgPSB7fSkpOwp9KTsKZGVmaW5lKCJzaXRlL211c2ljLjF0aW5nIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL1dhaXQiLCAiaGVscGVyL0Rvd25sb2FkZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFdhaXRfNiwgRG93bmxvYWRlcl81KSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdtdXNpYy4xdGluZycsCiAgICAgICAgc3NsOiBmYWxzZSwKICAgICAgICBuYW1lOiAn5LiA5ZCs6Z+z5LmQJywKICAgICAgICBob3N0OiAnd3d3LjF0aW5nLmNvbScsCiAgICAgICAgaW5jbHVkZVN1Ykhvc3Q6IGZhbHNlLAogICAgICAgIHN1Yk1vZHVsZTogZmFsc2UsCiAgICAgICAgY3NzOiBgYCwKICAgICAgICBiZDogbnVsbCwKICAgICAgICBfZGw6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfNS5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgcnVsZS5fZGwgPSAkKCcuc29uZ2FjdCA+IC5kb3duJyk7CiAgICAgICAgICAgIHJ1bGUuX2RsCiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignb25jbGljaycpCiAgICAgICAgICAgICAgICAuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpOwogICAgICAgICAgICBydWxlLmJkLkNhcHR1cmVBcmlhKHJ1bGUuX2RsKTsKICAgICAgICAgICAgV2FpdF82LldhaXRVbnRpbCgneWl0aW5nLnBsYXllci5ob29rJywgKCkgPT4gewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LnlpdGluZy5wbGF5ZXIuaG9vaygncGxheScsIGV4cG9ydEZ1bmN0aW9uKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBydWxlLlVwZGF0ZVNvbmcoKTsKICAgICAgICAgICAgICAgIH0sIHVuc2FmZVdpbmRvdykpOwogICAgICAgICAgICAgICAgcnVsZS5VcGRhdGVTb25nKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgVXBkYXRlU29uZzogKCkgPT4gewogICAgICAgICAgICB2YXIgbmFtZSA9IHVuc2FmZVdpbmRvdy55aXRpbmcucGxheWVyLmdldCgnc29uZy1uYW1lJyk7CiAgICAgICAgICAgIHZhciBzaW5nZXIgPSB1bnNhZmVXaW5kb3cueWl0aW5nLnBsYXllci5nZXQoJ3Npbmdlci1uYW1lJyk7CiAgICAgICAgICAgIHZhciBsaW5rID0gdW5zYWZlV2luZG93LnlpdGluZy5wbGF5ZXIuaG9zdCArIHVuc2FmZVdpbmRvdy55aXRpbmcucGxheWVyLmdldCgnc29uZy1tZWRpYScpOwogICAgICAgICAgICBydWxlLl9kbC5hdHRyKHsKICAgICAgICAgICAgICAgIGhyZWY6IHJ1bGUuYmQuR2VuZXJhdGVVcmkobGluaywgYCR7bmFtZX0gWyR7c2luZ2VyfV0ubXAzYCksCiAgICAgICAgICAgICAgICB0aXRsZTogYOeCueaIkeS4i+i9vTogJHtuYW1lfWAKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIGV4cG9ydHMuUnVsZXMgPSBbcnVsZV07Cn0pOwpkZWZpbmUoImhvb2tlci9qUGxheWVyIiwgWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAiaGVscGVyL0xvZ2dlciIsICJoZWxwZXIvV2FpdCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgTG9nZ2VyXzYsIFdhaXRfNykgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vLyA8cmVmZXJlbmNlIHBhdGg9Ii4uL3R5cGluZ3MvZ2xvYmFscy9qcXVlcnkvaW5kZXguZC50cyIgLz4KICAgIGZ1bmN0aW9uIFBhdGNoKGNhbGxiYWNrLCBuYW1lc3BhY2UgPSAialBsYXllciIpIHsKICAgICAgICBMb2dnZXJfNi5pbmZvKCfnrYnlvoUgalBsYXllciDlsLHnu6ogLi4nKTsKICAgICAgICBXYWl0XzcuV2FpdFVudGlsKGAkLiR7bmFtZXNwYWNlfS5wcm90b3R5cGUuc2V0TWVkaWFgLCAoKSA9PiB7CiAgICAgICAgICAgIExvZ2dlcl82LmluZm8oJ+W8gOWni+e7keWumuWHveaVsCAuLicpOwogICAgICAgICAgICB1bnNhZmVPdmVyd3JpdGVGdW5jdGlvblNhZmVQcm94eSh7CiAgICAgICAgICAgICAgICBzZXRNZWRpYTogKG5ld01lZGlhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzYuaW5mbygn5q2M5puy5pWw5o2uOiAnLCBuZXdNZWRpYSk7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3TWVkaWEpOwogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvclVuc2FmZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdW5zYWZlV2luZG93LiRbbmFtZXNwYWNlXS5wcm90b3R5cGUsIGAuJC4ke25hbWVzcGFjZX0ucHJvdG90eXBlYCk7CiAgICAgICAgfSk7CiAgICB9CiAgICBleHBvcnRzLlBhdGNoID0gUGF0Y2g7Cn0pOwpkZWZpbmUoInNpdGUvbXVzaWMuNTYiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvRG93bmxvYWRlciIsICJoZWxwZXIvU2NyaXB0IiwgImhlbHBlci9FeHRlbnNpb24iLCAiaG9va2VyL2pQbGF5ZXIiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIERvd25sb2FkZXJfNiwgU2NyaXB0XzgsIEV4dGVuc2lvbl8xMCwgalBsYXllcikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciBydWxlID0gewogICAgICAgIGlkOiAnbXVzaWMuNTYnLAogICAgICAgIHNzbDogZmFsc2UsCiAgICAgICAgbmFtZTogJzU2IOmfs+S5kOe9kScsCiAgICAgICAgaG9zdDogJ3d3dy4yMzM1Ni5jb20nLAogICAgICAgIHBhdGg6IFsnL3BsdXMvcGxheWVyLmFzaHgnLCAnL3RpbmcvJywgJy9tdXNpYy8nXSwKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnLnBsYXllci1ib3R0b20tZ2csIC5ub2NvcHlyaWdodCcsCiAgICAgICAgYmQ6IG51bGwsCiAgICAgICAgb25TdGFydDogKCkgPT4gewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfNi5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHk6ICgpID0+IHsKICAgICAgICAgICAgalBsYXllci5QYXRjaCgobWVkaWEpID0+IHsKICAgICAgICAgICAgICAgIHZhciBhZGRyID0gbWVkaWEubXAzIHx8IG1lZGlhLm00YTsKICAgICAgICAgICAgICAgICQoJy5wbGF5LWluZm8tb3RoZXJvcHQgPiBhOmxhc3QnKQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaShhZGRyLCBtZWRpYS5zb25nbmFtZSArIGFkZHIuc2xpY2UoLTQpKSkKICAgICAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCBg5LiL6L29OiAke21lZGlhLnNvbmduYW1lfSAo5q2M5omLOiAke21lZGlhLnNpbmdlcm5hbWV9KWApCiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKS50ZXh0KGDkuIvovb0gKCR7U2NyaXB0XzguU2NyaXB0Lk5hbWV9KWApOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIG5lZWRfcGxheSA9IGZhbHNlOwogICAgICAgICAgICB1bnNhZmVXaW5kb3cuc3BsYXllci5zb25nX2RhdGFbMF0uZm9yRWFjaCgoc29uZykgPT4gewogICAgICAgICAgICAgICAgaWYgKHNvbmcuZGVsZmxhZyB8fCBzb25nLmRlbGZsYWcgIT0gMCkgewogICAgICAgICAgICAgICAgICAgIG5lZWRfcGxheSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgc29uZy5kZWxmbGFnID0gMDsKICAgICAgICAgICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzEwLkJlZ2luV2l0aChzb25nLnVybCwgJy9kZWwnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzb25nLnVybCA9IHNvbmcudXJsLnJlcGxhY2UoJy9kZWwnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG5lZWRfcGxheSkgewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LiQoJyNwbGF5JykuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CiAgICBleHBvcnRzLlJ1bGVzID0gW3J1bGVdOwp9KTsKZGVmaW5lKCJzaXRlL211c2ljLmVjaG8iLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJoZWxwZXIvTG9nZ2VyIiwgImhlbHBlci9XYWl0IiwgImhlbHBlci9Eb3dubG9hZGVyIiwgImhlbHBlci9FeHRlbnNpb24iXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIExvZ2dlcl83LCBXYWl0XzgsIERvd25sb2FkZXJfNywgRXh0ZW5zaW9uXzExKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgdmFyIHJ1bGUgPSB7CiAgICAgICAgaWQ6ICdtdXNpYy5lY2hvJywKICAgICAgICBzc2w6IGZhbHNlLAogICAgICAgIG5hbWU6ICdFY2hvIOWbnuWjsOmfs+S5kCcsCiAgICAgICAgaG9zdDogJ3d3dy5hcHAtZWNoby5jb20nLAogICAgICAgIHBhdGg6ICcvc291bmQvJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnJywKICAgICAgICBiZDogbnVsbCwKICAgICAgICBkbExpbms6IG51bGwsCiAgICAgICAgb25TdGFydCgpIHsKICAgICAgICAgICAgcnVsZS5iZCA9IG5ldyBEb3dubG9hZGVyXzcuRG93bmxvYWRlcigpOwogICAgICAgIH0sCiAgICAgICAgb25Cb2R5KCkgewogICAgICAgICAgICBpZiAoRXh0ZW5zaW9uXzExLkJlZ2luV2l0aChsb2NhdGlvbi5wYXRobmFtZSwgJy9zb3VuZC8nKSkgewogICAgICAgICAgICAgICAgcnVsZS5TaW5nbGVQYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFNpbmdsZVBhZ2UoKSB7CiAgICAgICAgICAgIC8vIOWNleabsumhtemdogogICAgICAgICAgICAvLyBodHRwOi8vd3d3LmFwcC1lY2hvLmNvbS9zb3VuZC9pbmZvLW1vYmlsZT9zb3VuZF9pZD0ke2lkfQogICAgICAgICAgICB2YXIgaWQgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIGlmICghaWQpIHsKICAgICAgICAgICAgICAgIExvZ2dlcl83LmVycm9yKCfojrflj5bmm7Lnm64gSUQg5aSx6LSlIScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOaPkuWFpeS4i+i9vei/nuaOpXgKICAgICAgICAgICAgdmFyIHNtYWxsVGV4dCA9ICQoJzxzbWFsbD4nKTsKICAgICAgICAgICAgdmFyIHVybERsID0gJCgnPGE+Jyk7CiAgICAgICAgICAgICQoJy5zaW5nbGUtdGl0bGUgPiBoMScpLmFwcGVuZChzbWFsbFRleHQpOwogICAgICAgICAgICBzbWFsbFRleHQuYXBwZW5kKHVybERsKTsKICAgICAgICAgICAgcnVsZS5kbExpbmsgPSB1cmxEbDsKICAgICAgICAgICAgdXJsRGwudGV4dCgn5LiL6L29JykKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsICfmraPlnKjop6PmnpAuLi4nKQogICAgICAgICAgICAgICAgLmNzcygnbWFyZ2luLWxlZnQnLCAnMWVtJyk7CiAgICAgICAgICAgIHZhciBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgICAgICBmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYW1lKTsKICAgICAgICAgICAgdW5zYWZlV2luZG93Lm9uZXJyb3IgPSBudWxsOwogICAgICAgICAgICB2YXIgcmVxID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIHVybDogYC9zb3VuZC9pbmZvLW1vYmlsZT9zb3VuZF9pZD0ke2lkfWAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcignc2NyaXB0JykKICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoaSwgZWwpID0+IEV4dGVuc2lvbl8xMS5Db250YWlucyhlbC50ZXh0Q29udGVudCwgJ3BsYXlfc291cmNlKCcpKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXJfNy5lcnJvcign5pCc57Si5LiN5Yiw5pyJ5pWI55qE5puy55uu5Luj56CB44CCJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g5a+85Ye65oiR5Lus55qE5Ye95pWwCiAgICAgICAgICAgICAgICAgICAgdmFyIHduZCA9IGZyYW1lLmNvbnRlbnRXaW5kb3c7CiAgICAgICAgICAgICAgICAgICAgZXhwb3J0RnVuY3Rpb24oKGlkLCB0eXBlLCB1cmwsIHVuaykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBXYWl0XzguV2FpdFVudGlsKCdwYWdlX3NvdW5kX29iaicsICgpID0+IHJ1bGUuVXBkYXRlVXJsKHVybCwgdW5zYWZlV2luZG93LnBhZ2Vfc291bmRfb2JqLm5hbWUpKTsKICAgICAgICAgICAgICAgICAgICB9LCB3bmQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lQXM6ICdwbGF5X3NvdXJjZScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyDmiafooYzmjZXmjYnliLDnmoTlhYPntKAKICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHduZC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICAgICAgICAgICAgICBzLnRleHRDb250ZW50ID0gdGFyZ2V0LnRleHQoKTsKICAgICAgICAgICAgICAgICAgICB3bmQuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMS4xOyBOZXh1cyA2IEJ1aWxkL0xZWjI4RSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC4yMyBNb2JpbGUgU2FmYXJpLzUzNy4zNicKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QocmVxKTsKICAgICAgICB9LAogICAgICAgIFVwZGF0ZVVybCh1cmwsIG5hbWUpIHsKICAgICAgICAgICAgbGV0IHMgPSBFeHRlbnNpb25fMTEuQ29udGFpbnModXJsLCAnPycpID8gJyYnIDogJz8nOwogICAgICAgICAgICBsZXQgX3VybCA9IGAke3VybH0ke3N9YXR0bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX0ke0V4dGVuc2lvbl8xMS5HZXRFeHRlbnNpb25Gcm9tVXJsKHVybCl9YDsKICAgICAgICAgICAgcnVsZS5kbExpbmsKICAgICAgICAgICAgICAgIC5hdHRyKCdocmVmJywgcnVsZS5iZC5HZW5lcmF0ZVVyaSh1cmwsIG5hbWUgKyBFeHRlbnNpb25fMTEuR2V0RXh0ZW5zaW9uRnJvbVVybCh1cmwpKSkKICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIGDkuIvovb06ICR7bmFtZX1gKTsKICAgICAgICAgICAgLy8gaW5mbyhg5o2V5o2J5Yiw5LiL6L295Zyw5Z2AOiAke3VybH1gKTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgic2l0ZS9tdXNpYy5rdWdvdSIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9Mb2dnZXIiLCAiaGVscGVyL0Rvd25sb2FkZXIiLCAiaGVscGVyL1NjcmlwdENvbmZpZyIsICJoZWxwZXIvRXh0ZW5zaW9uIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBMb2dnZXJfOCwgRG93bmxvYWRlcl84LCBTY3JpcHRDb25maWdfNCwgRXh0ZW5zaW9uXzEyKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwogICAgY29uc3QgS3Vnb3VEb3dubG9hZEZyb250ID0gJ2h0dHBzOi8vaml4dW5tb2UuZ2l0aHViLmlvL2N1d2NsNGMva3Vnb3UtZGwnOwogICAgdmFyIGFwcCA9IG51bGw7CiAgICB2YXIgcnVsZSA9IHsKICAgICAgICBpZDogJ211c2ljLmt1Z291JywKICAgICAgICBzc2w6IGZhbHNlLAogICAgICAgIG5hbWU6ICfphbfni5fpn7PkuZAnLAogICAgICAgIGhvc3Q6ICd3ZWIua3Vnb3UuY29tJywKICAgICAgICBpbmNsdWRlU3ViSG9zdDogZmFsc2UsCiAgICAgICAgc3ViTW9kdWxlOiBmYWxzZSwKICAgICAgICBoaWRlOiAnI2FkdiwgLmp4LWhpZGUnLAogICAgICAgIGNzczogYAouZGlhbG9nLXNoYWRvdyB7CglkaXNwbGF5OiBmbGV4OwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CglhbGlnbi1pdGVtczogY2VudGVyOwoJcG9zaXRpb246IGZpeGVkOwoJbGVmdDogMDsKCXRvcDogMDsKCWhlaWdodDogMTAwJTsKCXdpZHRoOiAxMDAlOwoJYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMyk7Cgl6LWluZGV4OiAxMDA7Cn0KCi5kaWFsb2ctY29udGFpbmVyIHsKCW1pbi13aWR0aDogY2FsYyg3NjhweCArIDJlbSk7CgltaW4taGVpZ2h0OiAyMGVtOwoJcGFkZGluZzogMWVtOwoJYmFja2dyb3VuZDogI2ZmZjsKCWJveC1zaGFkb3c6IDJweCAycHggMnB4ICM2NjY7Cglib3JkZXI6IDFweCBzb2xpZCByZ2JhKDYsNiw2LC4zKTsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKCXBhZGRpbmctdG9wOiAyLjVlbTsKfQoKLmRpYWxvZy10aXRsZS1iYXIgewoJcG9zaXRpb246IGFic29sdXRlOwoJbGVmdDogMDsKCXRvcDogMDsKCXBhZGRpbmc6IC40ZW07Cgl3aWR0aDogY2FsYygxMDAlIC0gLjhlbSk7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgd2hpdGU7CgliYWNrZ3JvdW5kOiAjMDBBN0YyOwoJY29sb3I6IHdoaXRlOwp9CgouZGlhbG9nLXRpdGxlLWJ0bnMgewoJZmxvYXQ6IHJpZ2h0Owp9CgouZGlhbG9nLXRpdGxlLWJ0bnMgPiAuZGlhbG9nLWJhci1idG4gewoJd2lkdGg6IDFlbTsKCWhlaWdodDogMWVtOwoJYm9yZGVyOiAxcHggc29saWQgd2hpdGU7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7CglsaW5lLWhlaWdodDogMS4yOwoJcGFkZGluZzogMCAuNWVtOwoJbWFyZ2luLWxlZnQ6IC41ZW07CgljdXJzb3I6IHBvaW50ZXI7Cn0KCi5kaWFsb2ctY29udGVudCBpZnJhbWUgewoJaGVpZ2h0OiAzMGVtOwoJd2lkdGg6IDEwMCU7Cn0KYCwKICAgICAgICBiZDogbnVsbCwKICAgICAgICBvblN0YXJ0KCkgewogICAgICAgICAgICBydWxlLmJkID0gbmV3IERvd25sb2FkZXJfOC5Eb3dubG9hZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBvbkJvZHkoKSB7CiAgICAgICAgICAgIC8vIOeBq+eLkOeLuOacieWFvOWuuemXrumimCwg5b6F5L+uCiAgICAgICAgICAgIGlmICghRXh0ZW5zaW9uXzEyLkNvbnRhaW5zKG5hdmlnYXRvci51c2VyQWdlbnQsICdGaXJlZm94JykpCiAgICAgICAgICAgICAgICBydWxlLkJ1aWxkRGlhbG9nKCk7CiAgICAgICAgfSwKICAgICAgICBCdWlsZERpYWxvZygpIHsKICAgICAgICAgICAgbGV0IGRvd25sb2FkZXIgPSAkKGA8ZGl2IGlkPSJqaXh1bi1kbCI+Cgk8ZGl2IGNsYXNzPSJkaWFsb2ctc2hhZG93IiB2LWJpbmQ6Y2xhc3M9InsgJ2p4LWhpZGUnOiBoaWRlV2luZG93IH0iPgoJCTxkaXYgY2xhc3M9ImRpYWxvZy1jb250YWluZXIiPgoJCQk8ZGl2IGNsYXNzPSJkaWFsb2ctdGl0bGUtYmFyIj4KCQkJCeS4i+i9veeql+WPowoKCQkJCTxkaXYgY2xhc3M9ImRpYWxvZy10aXRsZS1idG5zIj4KCQkJCQk8c3BhbiBjbGFzcz0iZGlhbG9nLWJhci1idG4iIHYtb246Y2xpY2s9InRvZ2dsZUZyYW1lIj7nrqE8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImRpYWxvZy1iYXItYnRuIiB2LW9uOmNsaWNrPSJoaWRlIj7lhbM8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgoJCQk8ZGl2IGNsYXNzPSJkaWFsb2ctY29udGVudCI+CgkJCQk8ZGl2IHYtYmluZDpjbGFzcz0ieyAnangtaGlkZSc6IGhpZGVNc2cgfSI+e3sgbXNnIH19PC9kaXY+CgkJCQk8aWZyYW1lIHYtZWw6ZnJhbWUtZGwtZGlhbG9nIHYtYmluZDpjbGFzcz0ieyAnangtaGlkZSc6IG1vZGUgIT0gMSB9IiBzcmM9IiR7S3Vnb3VEb3dubG9hZEZyb250fSI+PC9pZnJhbWU+CgkJCQk8aWZyYW1lIHYtZWw6ZnJhbWUtZGwtbWFuYWdlciB2LWJpbmQ6Y2xhc3M9InsgJ2p4LWhpZGUnOiBtb2RlICE9IDIgfSIgIHNyYz0iJHtLdWdvdURvd25sb2FkRnJvbnR9L2RsLmh0bWwiPjwvaWZyYW1lPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvZGl2Pgo8L2Rpdj5gKTsKICAgICAgICAgICAgZG93bmxvYWRlci5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKICAgICAgICAgICAgLy8gUmVxdWlyZSBWdWVKUyBmcm9tIHJlc291cmNlLgogICAgICAgICAgICBsZXQgdnVlTG9hZGVyID0gbmV3IEZ1bmN0aW9uKCd3aW5kb3cnLCBHTV9nZXRSZXNvdXJjZVRleHQoJ1Z1ZUpzJykgKyAnXG47IHJldHVybiB3aW5kb3cuVnVlOycpOwogICAgICAgICAgICBsZXQgVnVlID0gdnVlTG9hZGVyKHVuc2FmZVdpbmRvdyk7CiAgICAgICAgICAgIGFwcCA9IG5ldyBWdWUoewogICAgICAgICAgICAgICAgZWw6IGRvd25sb2FkZXJbMF0sCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgbXNnOiAn5q2j5Zyo6I635Y+W55u45YWz5pWw5o2uLi4uJywKICAgICAgICAgICAgICAgICAgICBoaWRlTXNnOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICAgICAgICAgIGhpZGVXaW5kb3c6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAgICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5oaWRlV2luZG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZyYW1lKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwLm1vZGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBoaWRlKCkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHAuaGlkZVdpbmRvdyA9ICFhcHAuaGlkZVdpbmRvdzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhcHAuaW5pdCgpOwogICAgICAgICAgICB2YXIgYWN0aW9uRGxEaWFsb2cgPSBbJ3NldCcsICdjbGVhciddOwogICAgICAgICAgICB2YXIgYWN0aW9uRGxNYW5hZ2VyID0gWydhZGQnXTsKICAgICAgICAgICAgZnVuY3Rpb24gcG9zdChhY3Rpb24sIGRhdGEpIHsKICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IGFjdGlvbkRsRGlhbG9nLmluZGV4T2YoYWN0aW9uKSAhPSAtMSA/IGFwcC4kZWxzLmZyYW1lRGxEaWFsb2cgOiBhcHAuJGVscy5mcmFtZURsTWFuYWdlcjsKICAgICAgICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobXNnKSwgJyonKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDojrflj5bpn7PotKjkv6Hmga8KICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQoc29uZ3MpIHsKICAgICAgICAgICAgICAgIHBvc3QoJ2NsZWFyJyk7CiAgICAgICAgICAgICAgICBhcHAuaGlkZU1zZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgYXBwLm1vZGUgPSAwOyAvLyBoaWRlVGhlbQogICAgICAgICAgICAgICAgYXBwLmhpZGVXaW5kb3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IEpTT04ucGFyc2Uoc29uZ3MpLm1hcCgoc29uZykgPT4gKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8nLAogICAgICAgICAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICAgICAgICAgIGhhc2g6IHNvbmcuSGFzaAogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgInVzZXJpZCI6IDAsCiAgICAgICAgICAgICAgICAgICAgInRva2VuIjogIiIsCiAgICAgICAgICAgICAgICAgICAgInZpcCI6IDEsCiAgICAgICAgICAgICAgICAgICAgImJlaGF2aW9yIjogImRvd25sb2FkIiwKICAgICAgICAgICAgICAgICAgICAicmVsYXRlIjogMSwKICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2UiOiByZXNvdXJjZSwKICAgICAgICAgICAgICAgICAgICAiYXBwaWQiOiAxMDAxLAogICAgICAgICAgICAgICAgICAgICJjbGllbnR2ZXIiOiAiODAzMSIsCiAgICAgICAgICAgICAgICAgICAgInNvdXJjZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIm1vZHVsZSI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJpZCI6IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly9tZWRpYS5zdG9yZS5rdWdvdS5jb20vdjEvZ2V0X3Jlc19wcml2aWxlZ2UiLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBwb3N0KCdzZXQnLCBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgICAgICAgICAgICAgICBhcHAuaGlkZU1zZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5tb2RlID0gMTsgLy8g5bGV546w5LiL6L29566h55CG55WM6Z2iCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmjqXlj6Pojrflj5blpLHotKUsIOivt+eojeWQjumHjeivlSEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmhpZGVXaW5kb3cgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBsb29wZXIgPSBuZXcgSW50ZXJ2YWxMb29wKFtdLCBwcm9jX2hhc2gsIDUwMCk7CiAgICAgICAgICAgIGxvb3Blci5sb29wKCk7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgb25NZXNzYWdlLCBmYWxzZSk7CiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTWVzc2FnZShlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLmFjdGlvbiA9PSAnY2FuY2VsJykgewogICAgICAgICAgICAgICAgICAgIGFwcC5oaWRlV2luZG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuYWN0aW9uID09ICdkb3dubG9hZCcpIHsKICAgICAgICAgICAgICAgICAgICBhcHAubW9kZSA9IDI7CiAgICAgICAgICAgICAgICAgICAgbG9vcGVyLmFkZC5hcHBseShsb29wZXIsIGRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBMb2dnZXJfOC5lcnJvcignVW5kZWZpbmVkIGFjdGlvbjogJyArIGRhdGEuYWN0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVfZGwoc29uZykgewogICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBzb25nLmZpbGVOYW1lICsgJy4nICsgc29uZy5leHROYW1lOwogICAgICAgICAgICAgICAgdmFyIHVybCA9IHNvbmcudXJsOwogICAgICAgICAgICAgICAgcG9zdCgnYWRkJywgc29uZyk7CiAgICAgICAgICAgICAgICBpZiAoU2NyaXB0Q29uZmlnXzQuQ29uZmlnLmRVcmlUeXBlID09IFNjcmlwdENvbmZpZ180LlVyaVR5cGUuQXJpYSkgewogICAgICAgICAgICAgICAgICAgIHJ1bGUuYmQuQWRkRG93bmxvYWQodXJsLCBmaWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBwcm9jX2hhc2gobmV4dCwgaGFzaCkgewogICAgICAgICAgICAgICAgaGFzaCA9IGhhc2gudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSBDcnlwdG9KUy5NRDUoaGFzaCArICdrZ2Nsb3VkJykudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly90cmFja2VyY2RuLmt1Z291LmNvbS9pLz9jbWQ9NCZoYXNoPScgKyBoYXNoICsgJyZrZXk9JyArIGtleSArICcmcGlkPTEmZm9yY2VEb3duPTAmdmlwPTEnLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb25nID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVfZGwoc29uZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyXzguZXJyb3IoJ0Vycm9yIHdoaWxlIGZldGNoaW5nIGRhdGEgZm9yICVzJywgaGFzaCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKiDlr7zlh7rlh73mlbAgKi8KICAgICAgICAgICAgZXhwb3J0RnVuY3Rpb24oaGFuZGxlRG93bmxvYWQsIHVuc2FmZVdpbmRvdywgewogICAgICAgICAgICAgICAgZGVmaW5lQXM6ICJkbF9qaXh1biIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHVuc2FmZUV4ZWMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2luZG93LmRvd25Mb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kbF9qaXh1bi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgZXhwb3J0cy5SdWxlcyA9IFtydWxlXTsKfSk7CmRlZmluZSgiUnVsZXMiLCBbInJlcXVpcmUiLCAiZXhwb3J0cyIsICJTaXRlUnVsZSIsICJzaXRlL0FBLkNvbmZpZyIsICJzaXRlL2RsLjEyMzU2NCIsICJzaXRlL2RsLjV4ZmlsZSIsICJzaXRlL2RsLmJhaWR1IiwgInNpdGUvZGwuaG93ZmlsZSIsICJzaXRlL2RsLmprcGFuIiwgInNpdGUvZGwubmFtaXBhbi5jYyIsICJzaXRlL2RsLnBocGRpc2siLCAic2l0ZS9kbC54dWl0ZSIsICJzaXRlL2RsLnlpbXVoZSIsICJzaXRlL2ZtLmRvdWJhbiIsICJzaXRlL2ZtLm1vZSIsICJzaXRlL211c2ljLjE2MyIsICJzaXRlL211c2ljLjF0aW5nIiwgInNpdGUvbXVzaWMuNTYiLCAic2l0ZS9tdXNpYy5lY2hvIiwgInNpdGUvbXVzaWMua3Vnb3UiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIFNpdGVSdWxlXzEsIGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGksIGosIGssIGwsIG0sIG4sIG8sIHAsIHEpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CiAgICBhLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgYi5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGMuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBkLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgZS5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGYuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBnLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgaC5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGkuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBqLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgay5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIGwuUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBtLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgbi5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKICAgIG8uUnVsZXMuZm9yRWFjaChTaXRlUnVsZV8xLkFkZCk7CiAgICBwLlJ1bGVzLmZvckVhY2goU2l0ZVJ1bGVfMS5BZGQpOwogICAgcS5SdWxlcy5mb3JFYWNoKFNpdGVSdWxlXzEuQWRkKTsKfSk7CmRlZmluZSgiRW50cnlQb2ludCIsIFsicmVxdWlyZSIsICJleHBvcnRzIiwgImhlbHBlci9TY3JpcHQiLCAiaGVscGVyL0NvbnN0YW50cyIsICJoZWxwZXIvU2NyaXB0Q29uZmlnIiwgImhlbHBlci9RdWVyeVN0cmluZyIsICJoZWxwZXIvTG9nZ2VyIiwgIlNpdGVSdWxlIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBTY3JpcHRfOSwgQ29uc3RhbnRzXzQsIFNjcmlwdENvbmZpZ181LCBRdWVyeVN0cmluZ18xLCBMb2dnZXJfOSwgU2l0ZVJ1bGVfMikgewogICAgInVzZSBzdHJpY3QiOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKICAgIHZhciAkX0dFVCA9IFF1ZXJ5U3RyaW5nXzEuUGFyc2UoQ29uc3RhbnRzXzQuY3VycmVudFVybCk7CiAgICBpZiAoU2NyaXB0Q29uZmlnXzUuQ29uZmlnLmJVc2VDdXN0b21SdWxlcykgewogICAgICAgIHZhciBjdXN0b21SdWxlcyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGN1c3RvbVJ1bGVzID0gZXZhbChgWyR7U2NyaXB0Q29uZmlnXzUuQ29uZmlnLnNDdXN0b21SdWxlfV1gKTsKICAgICAgICAgICAgY3VzdG9tUnVsZXMuZm9yRWFjaCgocnVsZSkgPT4gewogICAgICAgICAgICAgICAgU2l0ZVJ1bGVfMi5TaXRlcy5wdXNoKHJ1bGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGV4KSB7CiAgICAgICAgICAgIExvZ2dlcl85LmVycm9yKGDop6PmnpDoh6rlrprkuYnop4TliJnlj5HnlJ/plJnor686ICR7ZXgubWVzc2FnZX1gKTsKICAgICAgICB9CiAgICB9CiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGDphY3nva4gJHtTY3JpcHRfOS5TY3JpcHQuTmFtZX1gLCAoKSA9PiB7CiAgICAgICAgR01fb3BlbkluVGFiKFNjcmlwdF85LlNjcmlwdC5Db25maWcsIGZhbHNlKTsKICAgIH0pOwogICAgU2l0ZVJ1bGVfMi5GaXJlRXZlbnQoJ3N0YXJ0Jyk7CiAgICAkKCgpID0+IHsKICAgICAgICBTaXRlUnVsZV8yLkZpcmVFdmVudCgnYm9keScpOwogICAgfSk7Cn0pOwo="},{"name":"Resize Image On \"Open image in new tab\"","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["http://*.googleusercontent.com/*","https://*.googleusercontent.com/*","http://*.media.tumblr.com/*","https://*.media.tumblr.com/*","http://secure.static.tumblr.com/*","https://secure.static.tumblr.com/*","http://*.bp.blogspot.com/*","https://*.bp.blogspot.com/*","http://*.sinaimg.cn/*","https://*.sinaimg.cn/*","http://*.sinaimg.com/*","https://*.sinaimg.com/*","http://*.twimg.com/*","https://*.twimg.com/*","http://*.zhimg.com/*","https://*.zhimg.com/*","http://*.douban.com/view/*","https://*.douban.com/view/*","http://*.doubanio.com/view/*","https://*.doubanio.com/view/*","http://imgsrc.baidu.com/*","https://imgsrc.baidu.com/*","http://imgsrc.bdimg.com/*","https://imgsrc.bdimg.com/*","http://*.hiphotos.baidu.com/*","https://*.hiphotos.baidu.com/*","http://*.hiphotos.bdimg.com/*","https://*.hiphotos.bdimg.com/*","http://imgsa.baidu.com/*","https://imgsa.baidu.com/*","http://imgsa.bdimg.com/*","https://imgsa.bdimg.com/*","http://images.akamai.steamusercontent.com/*","https://images.akamai.steamusercontent.com/*","http://steamuserimages-a.akamaihd.net/*","https://steamuserimages-a.akamaihd.net/*","http://*.artstation.com/*","https://*.artstation.com/*","http://i.ytimg.com/*","https://i.ytimg.com/*","http://*.ggpht.com/*","https://*.ggpht.com/*","http://*.pinimg.com/*","https://*.pinimg.com/*","http://*.hdslb.com/*","https://*.hdslb.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856088},"enabled":true,"position":20,"file_url":"https://greasyfork.org/scripts/2312-resize-image-on-open-image-in-new-tab/code/Resize%20Image%20On%20%22Open%20image%20in%20new%20tab%22.user.js","uuid":"ff696ed5-9678-48cb-8c10-cbc4f894fac1","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgUmVzaXplIEltYWdlIE9uICJPcGVuIGltYWdlIGluIG5ldyB0YWIiCi8vIEBuYW1lOnpoLWNuIOWPs+mUruWcqOaWsOagh+etvuS4reaJk+W8gOWbvueJh+aXtuaYvuekuuacgOS8mOWMluWbvuWDj+i0qOmHjwovLyBAdmVyc2lvbiAgICAwLjUuMzAKLy8gQGRlc2NyaXB0aW9uICBTdXBwb3J0OiBHb29nbGUoRysgYmxvZ3Nwb3QgWW91VHViZSlcVHVtYmxyXFR3aXR0ZXJcU3RlYW0oT25seSB1c2VyIGNvbnRlbnQpXHdlaWJvLmNvbSAoQW5kIG1vcmUuLi4KLy8gQGRlc2NyaXB0aW9uOnpoLWNuIOaUr+aMge+8muiwt+atjChHKyBibG9nc3BvdCBZb3VUdWJlKeOAgVR1bWJscuOAgeaOqOeJueOAgVN0ZWFt44CB5paw5rWq5b6u5Y2a44CB55+l5LmO44CB6LGG55Oj44CB55m+5bqm6LS05ZCnCi8vIEBydW4tYXQgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBncmFudCAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgIEdNX2Rvd25sb2FkCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly8qLmdvb2dsZXVzZXJjb250ZW50LmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vKi5nb29nbGV1c2VyY29udGVudC5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vKi5tZWRpYS50dW1ibHIuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly8qLm1lZGlhLnR1bWJsci5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vc2VjdXJlLnN0YXRpYy50dW1ibHIuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly9zZWN1cmUuc3RhdGljLnR1bWJsci5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vKi5icC5ibG9nc3BvdC5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyouYnAuYmxvZ3Nwb3QuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouc2luYWltZy5jbi8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vKi5zaW5haW1nLmNuLyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouc2luYWltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyouc2luYWltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vKi50d2ltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyoudHdpbWcuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouemhpbWcuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly8qLnpoaW1nLmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly8qLmRvdWJhbi5jb20vdmlldy8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vKi5kb3ViYW4uY29tL3ZpZXcvKgovLyBAbWF0Y2ggICAgICBodHRwOi8vKi5kb3ViYW5pby5jb20vdmlldy8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vKi5kb3ViYW5pby5jb20vdmlldy8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly9pbWdzcmMuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly9pbWdzcmMuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovL2ltZ3NyYy5iZGltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovL2ltZ3NyYy5iZGltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vKi5oaXBob3Rvcy5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyouaGlwaG90b3MuYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouaGlwaG90b3MuYmRpbWcuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly8qLmhpcGhvdG9zLmJkaW1nLmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly9pbWdzYS5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovL2ltZ3NhLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly9pbWdzYS5iZGltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovL2ltZ3NhLmJkaW1nLmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly9pbWFnZXMuYWthbWFpLnN0ZWFtdXNlcmNvbnRlbnQuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly9pbWFnZXMuYWthbWFpLnN0ZWFtdXNlcmNvbnRlbnQuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovL3N0ZWFtdXNlcmltYWdlcy1hLmFrYW1haWhkLm5ldC8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vc3RlYW11c2VyaW1hZ2VzLWEuYWthbWFpaGQubmV0LyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouYXJ0c3RhdGlvbi5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyouYXJ0c3RhdGlvbi5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwOi8vaS55dGltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovL2kueXRpbWcuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cDovLyouZ2dwaHQuY29tLyoKLy8gQG1hdGNoICAgICAgaHR0cHM6Ly8qLmdncGh0LmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly8qLnBpbmltZy5jb20vKgovLyBAbWF0Y2ggICAgICBodHRwczovLyoucGluaW1nLmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHA6Ly8qLmhkc2xiLmNvbS8qCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vKi5oZHNsYi5jb20vKgovLyBAbmFtZXNwYWNlIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvMjY0NgovLyBAY29udHJpYnV0aW9uVVJMIGh0dHA6Ly9jbHNvLnRrL2RvbmF0ZS8KLy8gQGNvbnRyaWJ1dGlvbkFtb3VudCA2LjY2Ci8vIEBjb3B5cmlnaHQgIDIwMTQtMjAxNywgQ0xFCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIHVybCA9IGRvY3VtZW50LmxvY2F0aW9uLnRvU3RyaW5nKCk7CnZhciBtID0gbnVsbDsKCmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7CiAgICAvL2J5IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwOTk2NzAKICAgIHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7CiAgICB2YXIgcGFyYW1zID0ge30sCiAgICAgICAgdG9rZW5zLAogICAgICAgIHJlID0gL1s/Jl0/KFtePV0rKT0oW14mXSopL2c7CiAgICB3aGlsZSAoKHRva2VucyA9IHJlLmV4ZWMocXMpKSkgewogICAgICAgIHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzFdKV0gPSBkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzJdKTsKICAgIH0KICAgIHJldHVybiBwYXJhbXM7Cn0KCi8vZ29vZ2xlCmlmKCAobSA9IHVybC5tYXRjaCgvXihodHRwcz86XC9cL2xoXGQrXC5nb29nbGV1c2VyY29udGVudFwuY29tXC8uK1wvKShbXlwvXSspKFwvW15cL10rKFwuKGpwZ3xqcGVnfGdpZnxwbmd8Ym1wfHdlYnApKT8pKD86XD8uKyk/JC9pKSkgKSB7CglpZihtWzJdICE9ICJzMCIpIHsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAiczAiICsgbVszXTsKCX0KfQplbHNlIGlmKCAobSA9IHVybC5tYXRjaCgvXihodHRwcz86XC9cL2xoXGQrXC5nb29nbGV1c2VyY29udGVudFwuY29tXC8uKz0pKC4rKSg/Olw/LispPyQvaSkpICkgewoJaWYobVsyXSAhPSAiczAiKSB7CgkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgInMwIjsKCX0KfQplbHNlIGlmKCAobSA9IHVybC5tYXRjaCgvXihodHRwcz86XC9cL1x3K1wuZ2dwaHRcLmNvbVwvLitcLykoW15cL10rKShcL1teXC9dKyhcLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKSk/KSg/Olw/LispPyQvaSkpICkgewoJaWYobVsyXSAhPSAiczAiKSB7CgkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgInMwIiArIG1bM107Cgl9Cn0KCi8vYmxvZ3Nwb3QKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC9cdytcLmJwXC5ibG9nc3BvdFwuY29tXC8uK1wvKShbXlwvXSspKFwvW15cL10rKFwuKGpwZ3xqcGVnfGdpZnxwbmd8Ym1wfHdlYnApKT8pKD86XD8uKyk/JC9pKSkgKSB7CglpZihtWzJdICE9ICJzMCIpIHsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAiczAiICsgbVszXTsKCX0KfQoKLy95b3V0dWJlCmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eaHR0cHM/OlwvXC9pXC55dGltZy5jb21cL2FuX3dlYnBcLyhbXlwvXSspXC9cdytcLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKShcPy4rKT8kL2kpKSApIHsKCXZhciBhamF4ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CglhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpIHsKCQlpZihhamF4LnN0YXR1cz09MjAwKSB7CgkJCWRvY3VtZW50LmxvY2F0aW9uID0gImh0dHBzOi8vaS55dGltZy5jb20vdmkvIiArIG1bMV0gKyAiL21heHJlc2RlZmF1bHQuanBnIjsKCQl9ZWxzZSBpZihhamF4LnN0YXR1cz09NDA0KSB7CgkJCWRvY3VtZW50LmxvY2F0aW9uID0gImh0dHBzOi8vaS55dGltZy5jb20vdmkvIiArIG1bMV0gKyAiL2hxZGVmYXVsdC5qcGciOwoJCX0KCX07CglhamF4Lm9wZW4oIkhFQUQiLCAiaHR0cHM6Ly9pLnl0aW1nLmNvbS92aS8iICsgbVsxXSArICIvbWF4cmVzZGVmYXVsdC5qcGciLCB0cnVlKTsKCWFqYXguc2VuZCgpOwp9CmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvaVwueXRpbWcuY29tXC92aVwvW15cL10rXC8pKFx3KykoXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8d2VicCkpKFw/LispPyQvaSkpICkgewoJaWYobVsyXSAhPSAibWF4cmVzZGVmYXVsdCIpIHsKCQl2YXIgYWpheCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJCWFqYXgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCkgewoJCQlpZihhamF4LnN0YXR1cz09MjAwKSB7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAibWF4cmVzZGVmYXVsdCIgKyBtWzNdOwoJCQl9ZWxzZSBpZihhamF4LnN0YXR1cz09NDA0KSB7CgkJCQlpZihtWzVdIHx8IG1bMl0gPT09ICJtcWRlZmF1bHQiKQoJCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gbVsxXSArICJocWRlZmF1bHQiICsgbVszXTsKCQkJfQoJCX07CgkJYWpheC5vcGVuKCJIRUFEIiwgbVsxXSArICJtYXhyZXNkZWZhdWx0IiArIG1bM10sIHRydWUpOwoJCWFqYXguc2VuZCgpOwoJfQp9CmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvXHcrXC5nZ3BodFwuY29tXC8uKyk9KD86W3N8d3xoXSkoXGQrKSguKyk/JC9pKSkgKSB7CglpZiggbVsyXSE9IjAiICl7CgkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIj1zMCI7Cgl9Cn0KCi8vdHVtYmxyCmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvLitcLnR1bWJsclwuY29tXC9bXlwvXStfKShcZCspKCg/Ol92XGQrKT9cLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKSkoPzpcPy4rKT8vaSkpICkgewoJaWYobVsyXTwxMjgwKSB7CgkJdmFyIGFqYXggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCQlhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpIHsKCQkJaWYoYWpheC5zdGF0dXM9PTIwMCkgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIjEyODAiICsgbVszXTsKCQkJfQoJCX07CgkJYWpheC5vcGVuKCJIRUFEIiwgbVsxXSsiMTI4MCIrbVszXSwgdHJ1ZSk7CgkJYWpheC5zZW5kKCk7Cgl9Cn0KZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/KTpcL1wvLitcLnR1bWJsclwuY29tXC8oLitfKShcdyspKCg/Ol92XGQrKT9cLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKSkoPzpcPy4rKT8vaSkpICkgewoJaWYobVszXSE9InJhdyIgKXsKCQkvKgoJCS8vdmFyIHVybHJhdyA9ICJodHRwOi8vZGF0YS50dW1ibHIuY29tLyIgKyBtWzJdICsgInJhdyIgKyBtWzRdOwoJCXZhciB1cmxyYXcgPSBtWzFdICsgIjovL2RhdGEudHVtYmxyLmNvbS8iICsgbVsyXSArICJyYXciICsgbVs0XTsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IHVybHJhdzsKCQkKCQl2YXIgYWpheCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJCWFqYXgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCkgewoJCQlpZihhamF4LnN0YXR1cz09MjAwKQoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSB1cmxyYXc7CgkJfTsKCQlhamF4Lm9wZW4oIkhFQUQiLCB1cmxyYXcsIHRydWUpOwoJCWFqYXguc2VuZCgpOwoJCSovCgkJCgkJLy8gTkVFRCBURVNUIChjcm9zcy1kb21haW4gcmVxdWVzdCkKCQl2YXIgdXJscmF3ID0gImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS9kYXRhLnR1bWJsci5jb20vIiArIG1bMl0gKyAicmF3IiArIG1bNF07CgkJLy9kb2N1bWVudC5sb2NhdGlvbiA9IHVybHJhdzsKCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCW1ldGhvZDogIkhFQUQiLAoJCQl1cmw6IHVybHJhdywKCQkJb25sb2FkOiBmdW5jdGlvbihyZXMpIHsKCQkJCWlmIChyZXMuc3RhdHVzID09IDIwMCkgewoJCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gdXJscmF3OwoJCQkJfQoJCQl9CgkJfSk7CgkJCgl9Cn0KCi8vdHdpdHRlcgovL2Vsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvXHcrXC50d2ltZ1wuY29tXC9tZWRpYVwvKD86W15cLzpdK1wuKD86anBnfGpwZWd8Z2lmfHBuZ3xibXB8d2VicCkpKSg6XHcrKT8oPzpcPy4rKT8kL2kpKSApIHsKLy8JaWYgKCBtWzJdPT09bnVsbCB8fCBtWzJdICE9ICI6b3JpZyIgKQovLwkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIjpvcmlnIjsKLy99CmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvXHcrXC50d2ltZ1wuY29tXC9tZWRpYVwvW15cLzpdKylcLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKSg6XHcrKT8kL2kpKSApIHsKCXZhciBmb3JtYXQgPSBtWzJdOyBpZihtWzJdPT0ianBlZyIpIGZvcm1hdCA9ICJqcGciOwoJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIj9mb3JtYXQ9IiArIGZvcm1hdCArICImbmFtZT1vcmlnIjsKfQplbHNlIGlmKCAobSA9IHVybC5tYXRjaCgvXihodHRwcz86XC9cL1x3K1wudHdpbWdcLmNvbVwvLispKFw/LispJC9pKSkgKSB7Cgl2YXIgcGFycyA9IGdldFF1ZXJ5UGFyYW1zKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCk7CglpZighcGFycy5mb3JtYXQgfHwgIXBhcnMubmFtZSkgcmV0dXJuOwoJaWYocGFycy5uYW1lID09ICJvcmlnIikgcmV0dXJuOwoJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIj9mb3JtYXQ9IiArIHBhcnMuZm9ybWF0ICsgIiZuYW1lPW9yaWciOwp9CgovL1N0ZWFtIChPbmx5IHVzZXIgY29udGVudCkKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC8oaW1hZ2VzXC5ha2FtYWlcLnN0ZWFtdXNlcmNvbnRlbnRcLmNvbXxzdGVhbXVzZXJpbWFnZXMtYVwuYWthbWFpaGRcLm5ldClcL1teXD9dKylcPy4rJC9pKSkgKXsKCWRvY3VtZW50LmxvY2F0aW9uID0gbVsxXTsKfQoKLy/mgKfmtarlvq7ljZoKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC8oPzooPzp3d3x3eHx3c3x0dmF4fHR2YSlcZCt8d3h0KVwuc2luYWltZ1wuKD86Y258Y29tKVwvKShbXHdcLl0rKShcLy4rKSg/Olw/LispPyQvaSkpICkgewoJaWYobVsyXSAhPSAibGFyZ2UiKSB7CgkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgImxhcmdlIiArIG1bM107Cgl9Cn0KCi8vemhpaHUKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC8uK1wuemhpbWdcLmNvbVwvW1x3XC1dK18pKFx3KykoXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8d2VicCkpKD86XD8uKyk/JC9pKSkgKXsKCWlmKG1bMl0hPSJyIikgewoJCWRvY3VtZW50LmxvY2F0aW9uID0gbVsxXSArICJyIiArIG1bM107Cgl9Cn0KCi8vZG91YmFuCmVsc2UgaWYoIChtID0gdXJsLm1hdGNoKC9eKGh0dHBzPzpcL1wvXHcrXC5kb3ViYW4oPzppbyk/XC5jb21cL3ZpZXdcLyg/OnBob3RvfGNvbW1vZGl0eV9zdG9yeSlcLykoXHcrKShcL3B1YmxpY1wvLitcLihqcGd8anBlZ3xnaWZ8cG5nfGJtcHx3ZWJwKSkoPzpcPy4rKT8kL2kpKSApewoJaWYobVsyXSAhPSAicmF3Iil7CgkJdmFyIGFqYXggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCQlhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpIHsKCQkJaWYoYWpheC5zdGF0dXM9PTIwMCkgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgInJhdyIgKyBtWzNdOwoJCQl9ZWxzZSBpZihhamF4LnN0YXR1cz09NDA0KSB7CgkJCQlpZihtWzJdICE9ICJwaG90byIpewoJCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gbVsxXSArICJwaG90byIgKyBtWzNdOwoJCQkJfQoJCQl9CgkJfTsKCQlhamF4Lm9wZW4oIkhFQUQiLCBtWzFdKyJyYXciK21bM10sIHRydWUpOwoJCWFqYXguc2VuZCgpOwoJfQp9CgovL2FydHN0YXRpb24KZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC9jZG5cdytcLmFydHN0YXRpb25cLmNvbVwvLitcLykoXGR7NCx9XC8pKFx3KykoXC9bXlwvXSspJC9pKSkgKXsKCWlmKG1bM10gIT0gIm9yaWdpbmFsIil7CgkJdmFyIGFqYXggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCQlhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpIHsKCQkJaWYoYWpheC5zdGF0dXM9PTIwMCkgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIm9yaWdpbmFsIiArIG1bNF07CgkJCX1lbHNlIGlmKGFqYXguc3RhdHVzPT00MDQpIHsKCQkJCWlmKG1bM10gIT0gImxhcmdlIil7CgkJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgImxhcmdlIiArIG1bNF07CgkJCQl9CgkJCX0KCQl9OwoJCWFqYXgub3BlbigiSEVBRCIsIG1bMV0rIm9yaWdpbmFsIittWzNdLCB0cnVlKTsKCQlhamF4LnNlbmQoKTsKCX0KfQplbHNlIGlmKCAobSA9IHVybC5tYXRjaCgvXihodHRwcz86XC9cL2Nkblx3K1wuYXJ0c3RhdGlvblwuY29tXC8uK1wvKShcdyspKFwvW15cL10rKSQvaSkpICl7CgkvL2lmKG1bMl0gIT0gIm9yaWdpbmFsIikgewoJLy8JZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIm9yaWdpbmFsIiArIG1bM107CgkvL30KCWlmKG1bMl0gIT0gIm9yaWdpbmFsIil7CgkJdmFyIGFqYXggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCQlhamF4Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpIHsKCQkJaWYoYWpheC5zdGF0dXM9PTIwMCkgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgIm9yaWdpbmFsIiArIG1bM107CgkJCX1lbHNlIGlmKGFqYXguc3RhdHVzPT00MDQpIHsKCQkJCWlmKG1bMl0gIT0gImxhcmdlIil7CgkJCQkJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdICsgImxhcmdlIiArIG1bM107CgkJCQl9CgkJCX0KCQl9OwoJCWFqYXgub3BlbigiSEVBRCIsIG1bMV0rIm9yaWdpbmFsIittWzNdLCB0cnVlKTsKCQlhamF4LnNlbmQoKTsKCX0KfQoKLy9waW5pbWcKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC9pXC5waW5pbWdcLmNvbVwvKShcdyspKFwvLispJC9pKSkgKXsKCWlmKG1bMl0gIT0gIm9yaWdpbmFscyIpIHsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAib3JpZ2luYWxzIiArIG1bM107Cgl9Cn0KZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC9zLW1lZGlhW1x3LV0rXC5waW5pbWdcLmNvbVwvKShcdyspKFwvLispJC9pKSkgKXsgLy9uZWVkIGRlbGV0ZT8KCWlmKG1bMl0gIT0gIm9yaWdpbmFscyIpIHsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAib3JpZ2luYWxzIiArIG1bM107Cgl9Cn0KCi8vYmlsaWJpbGkKZWxzZSBpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/OlwvXC9cdytcLmhkc2xiXC5jb21cLy4rXC4oanBnfGpwZWd8Z2lmfHBuZ3xibXB8d2VicCkpKEB8XykuKyQvaSkpICkgewoJZG9jdW1lbnQubG9jYXRpb24gPSBtWzFdOwp9CgovL+eZvuW6pui0tOWQp++8iOeEtuiAjOWvueS6jueUu+i0qOaPkOWNh+S7gOS5iOeahOW5tuayoeacieS7gOS5iOWNteeUqC4uLu+8iQplbHNlIGlmKCAhKG0gPSB1cmwubWF0Y2goL15odHRwcz86XC9cL2ltZ3NyY1wuYmFpZHVcLmNvbVwvZm9ydW1cL3BpY1wvaXRlbVwvLisvaSkpICl7CglpZiggKG0gPSB1cmwubWF0Y2goL14oaHR0cHM/KTpcL1wvKD86aW1nc3JjfGltZ3NhfFx3K1wuaGlwaG90b3MpXC4oPzpiZGltZ3xiYWlkdSlcLmNvbVwvKD86Zm9ydW18YWxidW0pXC8uK1wvKFx3K1wuKD86anBnfGpwZWd8Z2lmfHBuZ3xibXB8d2VicCkpKD86XD8uKyk/JC9pKSkgKXsKCQlkb2N1bWVudC5sb2NhdGlvbiA9IG1bMV0gKyAiOi8vaW1nc3JjLmJhaWR1LmNvbS9mb3J1bS9waWMvaXRlbS8iICsgbVsyXTsKCX0KfQo="},{"name":"VIP视频在线解析","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://v.youku.com/v_show/*","*://*.iqiyi.com/v_*","*://*.iqiyi.com/dianying/*","*://*.le.com/ptv/vplay/*","*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://*.tudou.com/listplay/*","*://*.tudou.com/albumplay/*","*://*.tudou.com/programs/view/*","*://*.mgtv.com/b/*","*://film.sohu.com/album/*","*://*.acfun.cn/v/*","*://*.bilibili.com/video/*","*://*.bilibili.com/anime/*","*://vip.pptv.com/show/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.wasu.cn/Play/show/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856092},"enabled":true,"position":21,"file_url":"https://greasyfork.org/scripts/27349-vip%E8%A7%86%E9%A2%91%E5%9C%A8%E7%BA%BF%E8%A7%A3%E6%9E%90/code/VIP%E8%A7%86%E9%A2%91%E5%9C%A8%E7%BA%BF%E8%A7%A3%E6%9E%90.user.js","uuid":"7dc84377-cb97-464e-8404-34dc1e1e5be6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBWSVDop4bpopHlnKjnur/op6PmnpAKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vZ291ZGlkaWFvLmNvbS8KLy8gQHZlcnNpb24gICAgICAxLjMuNgovLyBAZGVzY3JpcHRpb24gIOWcqOinhumikeagh+mimOaXgeS4iuaYvuekuuKAnHZpcOino+aekOKAneaMiemSruWSjOKAnOaQnOe0oueUteW9seKAneaMiemSru+8jOWcqOe6v+aSreaUvnZpcOinhumike+8m+aUr+aMgeS8mOmFt3ZpcO+8jOiFvuiur3ZpcO+8jOeIseWlh+iJunZpcO+8jOiKkuaenHZpcO+8jOS5kOinhnZpcOetieW4uOeUqOinhumikS4uLgovLyBAYXV0aG9yICAgICAgIGdvdWRpZGlhbwovLyBAbWF0Y2ggICAgICAgICo6Ly92LnlvdWt1LmNvbS92X3Nob3cvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmlxaXlpLmNvbS92XyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5pcWl5aS5jb20vZGlhbnlpbmcvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLmxlLmNvbS9wdHYvdnBsYXkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly92LnFxLmNvbS94L2NvdmVyLyoKLy8gQG1hdGNoICAgICAgICAqOi8vdi5xcS5jb20veC9wYWdlLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi50dWRvdS5jb20vbGlzdHBsYXkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnR1ZG91LmNvbS9hbGJ1bXBsYXkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnR1ZG91LmNvbS9wcm9ncmFtcy92aWV3LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5tZ3R2LmNvbS9iLyoKLy8gQG1hdGNoICAgICAgICAqOi8vZmlsbS5zb2h1LmNvbS9hbGJ1bS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouYWNmdW4uY24vdi8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouYmlsaWJpbGkuY29tL3ZpZGVvLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5iaWxpYmlsaS5jb20vYW5pbWUvKgovLyBAbWF0Y2ggICAgICAgICo6Ly92aXAucHB0di5jb20vc2hvdy8qCi8vIEBtYXRjaCAgICAgICAgKjovL3YueWlueXVldGFpLmNvbS92aWRlby8qCi8vIEBtYXRjaCAgICAgICAgKjovL3YueWlueXVldGFpLmNvbS9wbGF5bGlzdC8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoud2FzdS5jbi9QbGF5L3Nob3cvKgovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jZG4uYm9vdGNzcy5jb20vanF1ZXJ5LzEuOC4zL2pxdWVyeS5taW4uanMKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgY3VyUGxheVNpdGUgPSAnJzsKICAgIHZhciBjdXJXb3JkcyA9ICcnOwogICAgdmFyIHZpZGVvU2l0ZSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgdmFyIHJlWWsgPSAveW91a3UvaTsKICAgIHZhciByZUFxeSA9IC9pcWl5aS9pOwogICAgdmFyIHJlTFMgPSAvbGUvaTsKICAgIHZhciByZVRYID0gL3FxL2k7CiAgICB2YXIgcmVURCA9IC90dWRvdS9pOwogICAgdmFyIHJlTUcgPSAvbWd0di9pOwogICAgdmFyIHJlU0ggPSAvc29odS9pOwogICAgdmFyIHJlQUYgPSAvYWNmdW4vaTsKICAgIHZhciByZUJMID0gL2JpbGliaWxpL2k7CiAgICB2YXIgcmVZSiA9IC8xOTA1L2k7CiAgICB2YXIgcmVQUCA9IC9wcHR2L2k7CiAgICB2YXIgcmVZWVQgPSAveWlueXVldGFpL2k7CiAgICB2YXIgdmlwQnRuID0gJzxhIGlkPSJnb3VkaWRpYW9WaXBCdG4iIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjpyZWQ7cGFkZGluZzowIDVweDtib3JkZXI6MXB4IHNvbGlkIHJlZDsiPnZpcOino+aekDwvYT4nOwogICAgdmFyIG1TZWFyY2hCdG4gPSAnPGEgaWQ9ImdvdWRpZGlhb1NlYXJjaEJ0biIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjpyZWQ7cGFkZGluZzowIDVweDtib3JkZXI6MXB4IHNvbGlkIHJlZDsiPuaQnOe0oueUteW9sTwvYT4nOwogICAgLy8g5LyY6YW3CiAgICBpZihyZVlrLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIHlvdWt1VGl0bGUgPSAkKCcjc3VidGl0bGUnKTsKICAgICAgICBpZih5b3VrdVRpdGxlLmxlbmd0aCAhPT0gMCl7CiAgICAgICAgCXlvdWt1VGl0bGUucGFyZW50KCcudGl0bGUnKS5hZnRlcihtU2VhcmNoQnRuKS5hZnRlcih2aXBCdG4pOwoJICAgICAgICAkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTdweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMnB4JywnbGluZS1oZWlnaHQnOicyMnB4JywnbWFyZ2luJzonMCA1cHgnLCd2ZXJ0aWNhbC1hbGlnbic6J2JvdHRvbSd9KTsKCSAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmNzcyh7J2ZvbnQtc2l6ZSc6JzE3cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMjJweCcsJ2xpbmUtaGVpZ2h0JzonMjJweCcsJ21hcmdpbic6JzAgNXB4JywndmVydGljYWwtYWxpZ24nOidib3R0b20nfSk7CgkgICAgICAgIGlmKCQoJy50dmluZm8nKS5sZW5ndGggIT09IDApewoJICAgICAgICAJY3VyV29yZHMgPSAkKCcudHZpbmZvJykuZmluZCgnaDMnKS5lcSgwKS50ZXh0KCk7CgkgICAgICAgIH1lbHNlewoJICAgICAgICAJY3VyV29yZHMgPSAkKCcudGl0bGUnKS5hdHRyKCd0aXRsZScpOwoJICAgICAgICB9CgkgICAgICAgICQoJyNnb3VkaWRpYW9TZWFyY2hCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL2lma2R5LmNvbS8/cT0nICsgY3VyV29yZHMgKyAnJnA9MScpOwogICAgICAgIH1lbHNlewogICAgICAgIAkkKCcudGl0bGUnKS5hZnRlcihtU2VhcmNoQnRuKS5hZnRlcih2aXBCdG4pOwogICAgICAgIAkkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTdweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMnB4JywnbGluZS1oZWlnaHQnOicyMnB4JywnbWFyZ2luJzonMCA1cHgnLCd2ZXJ0aWNhbC1hbGlnbic6J2JvdHRvbSd9KTsKCSAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmNzcyh7J2ZvbnQtc2l6ZSc6JzE3cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMjJweCcsJ2xpbmUtaGVpZ2h0JzonMjJweCcsJ21hcmdpbic6JzAgNXB4JywndmVydGljYWwtYWxpZ24nOidib3R0b20nfSk7CgkgICAgICAgCWlmKCQoJy50dmluZm8nKS5sZW5ndGggIT09IDApewoJICAgICAgICAJY3VyV29yZHMgPSAkKCcudHZpbmZvJykuZmluZCgnaDMnKS5lcSgwKS50ZXh0KCk7CgkgICAgICAgIH1lbHNlewoJICAgICAgICAJY3VyV29yZHMgPSAkKCcudGl0bGUnKS5hdHRyKCd0aXRsZScpOwoJICAgICAgICB9CgkgICAgICAgICQoJyNnb3VkaWRpYW9TZWFyY2hCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL2lma2R5LmNvbS8/cT0nICsgY3VyV29yZHMgKyAnJnA9MScpOwogICAgICAgIH0KICAgIH0KICAgIC8vIOeIseWlh+iJugogICAgaWYocmVBcXkudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgaXFpeWlUaXRsZSA9ICQoJyN3aWRnZXQtdmlkZW90aXRsZScpOwogICAgICAgIGlxaXlpVGl0bGUucGFyZW50KCcubW9kLXBsYXktdGl0JykuYXBwZW5kKHZpcEJ0bikuYXBwZW5kKG1TZWFyY2hCdG4pOwogICAgICAgICQoJyNnb3VkaWRpYW9WaXBCdG4nKS5jc3Moeydmb250LXNpemUnOicxN3B4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzI0cHgnLCdsaW5lLWhlaWdodCc6JzI0cHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTdweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyNHB4JywnbGluZS1oZWlnaHQnOicyNHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgaWYoJCgnI2RyYW1hLXNlcmllcy10aXRsZScpLmxlbmd0aCAhPT0gMCl7CiAgICAgICAgCWN1cldvcmRzID0gJCgnI2RyYW1hLXNlcmllcy10aXRsZScpLmZpbmQoJ2EnKS50ZXh0KCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgCWN1cldvcmRzID0gaXFpeWlUaXRsZS50ZXh0KCk7CiAgICAgICAgfQogICAgICAgICQoJyNnb3VkaWRpYW9TZWFyY2hCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL2lma2R5LmNvbS8/cT0nICsgY3VyV29yZHMgKyAnJnA9MScpOwogICAgfQogICAgLy8g5LmQ6KeGCiAgICBpZihyZUxTLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIGxzVGl0bGUgPSAkKCcuai12aWRlby1uYW1lJyk7CiAgICAgICAgbHNUaXRsZS5hZnRlcihtU2VhcmNoQnRuKS5hZnRlcih2aXBCdG4pOwogICAgICAgIGxzVGl0bGUuY3NzKCdmbG9hdCcsJ2xlZnQnKTsKICAgICAgICAkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMHB4JywnbGluZS1oZWlnaHQnOicyMHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmNzcyh7J2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMjBweCcsJ2xpbmUtaGVpZ2h0JzonMjBweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgCWlmKCQoJy5JbmZvJykuZmluZCgnLnRpdGxlJykuZmluZCgnaDMnKS5sZW5ndGggIT09IDApewogICAgICAgIAljdXJXb3JkcyA9ICQoJy5JbmZvJykuZmluZCgnLnRpdGxlJykuZmluZCgnaDMnKS50ZXh0KCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgCWN1cldvcmRzID0gbHNUaXRsZS50ZXh0KCk7CiAgICAgICAgfQogICAgICAgICQoJyNnb3VkaWRpYW9TZWFyY2hCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL2lma2R5LmNvbS8/cT0nICsgY3VyV29yZHMgKyAnJnA9MScpOwogICAgfQogICAgLy8g6IW+6K6vCiAgICBpZihyZVRYLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIHFxVGl0bGUgPSAkKCcubW9kX2ludHJvJykuZmluZCgnLnZpZGVvX3RpdGxlJyk7CiAgICAgICAgcXFUaXRsZS5lcSgwKS5hZnRlcihtU2VhcmNoQnRuKS5hZnRlcih2aXBCdG4pOwogICAgICAgICQoJyNnb3VkaWRpYW9WaXBCdG4nKS5jc3Moeydmb250LXNpemUnOicyNHB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzM2cHgnLCdsaW5lLWhlaWdodCc6JzM2cHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMjRweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgaWYoJCgnLnBsYXllcl90aXRsZScpLmxlbmd0aCAhPT0gMCAmJiAkKCcucGxheWVyX3RpdGxlJykuZmluZCgnYScpLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgCWN1cldvcmRzID0gJCgnLnBsYXllcl90aXRsZScpLnRleHQoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAJY3VyV29yZHMgPSAkKCcuX2Jhc2VfdGl0bGUnKS50ZXh0KCk7CiAgICAgICAgfQogICAgICAgIGlmKGN1cldvcmRzID09PSAnJyl7CiAgICAgICAgCWN1cldvcmRzID0gJCgnLnBsYXllcl90aXRsZScpLnRleHQoKTsKICAgICAgICB9CiAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmF0dHIoJ2hyZWYnLCdodHRwOi8vaWZrZHkuY29tLz9xPScgKyBjdXJXb3JkcyArICcmcD0xJyk7CiAgICB9CiAgICAvLyDlnJ/osYYKICAgIGlmKHJlVEQudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgdGRUaXRsZSA9ICQoJyN2aWRlb0t3Jyk7CiAgICAgICAgdGRUaXRsZS5wYXJlbnQoJy5maXgnKS5hcHBlbmQodmlwQnRuKTsKICAgICAgICAkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC1zaXplJzonMThweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOicyMnB4JywnbGluZS1oZWlnaHQnOicyMnB4JywnbWFyZ2luJzonMTRweCA1cHggMCd9KTsKICAgIH0KICAgIC8vIOiKkuaenAogICAgaWYocmVNRy50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciBtZ1RpdGxlID0gJCgnLnYtcGFuZWwtdGl0bGUnKTsKICAgICAgICBtZ1RpdGxlLmFmdGVyKG1TZWFyY2hCdG4pLmFmdGVyKHZpcEJ0bik7CiAgICAgICAgbWdUaXRsZS5jc3MoeydmbG9hdCc6J2xlZnQnLCdtYXJnaW4tcmlnaHQnOicwJ30pOwogICAgICAgICQoJyNnb3VkaWRpYW9WaXBCdG4nKS5jc3Moeydmb250LXNpemUnOicyMnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzQwcHgnLCdsaW5lLWhlaWdodCc6JzQwcHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuY3NzKHsnZm9udC1zaXplJzonMjJweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOic0MHB4JywnbGluZS1oZWlnaHQnOic0MHB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAJY3VyV29yZHMgPSBtZ1RpdGxlLnRleHQoKTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly9pZmtkeS5jb20vP3E9JyArIGN1cldvcmRzICsgJyZwPTEnKTsKICAgIH0KICAgIC8vIOaQnOeLkAogICAgaWYocmVTSC50ZXN0KHZpZGVvU2l0ZSkpewogICAgICAgIHZhciBzaFRpdGxlID0gJCgnLnBsYXllci10b3AtaW5mby1uYW1lJyk7CiAgICAgICAgc2hUaXRsZS5hcHBlbmQodmlwQnRuKS5hcHBlbmQobVNlYXJjaEJ0bik7CiAgICAgICAgc2hUaXRsZS5maW5kKCdoMicpLmNzcyh7J2Zsb2F0JzonbGVmdCd9KTsKICAgICAgICAkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC13ZWlnaHQnOidib2xkJywnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzZweCcsJ2xpbmUtaGVpZ2h0JzonMzZweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgIGN1cldvcmRzID0gc2hUaXRsZS5maW5kKCdoMicpLnRleHQoKTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly9pZmtkeS5jb20vP3E9JyArIGN1cldvcmRzICsgJyZwPTEnKTsKICAgIH0KICAgIC8vIGFjZnVuCiAgICBpZihyZUFGLnRlc3QodmlkZW9TaXRlKSl7CiAgICAgICAgdmFyIGFjVGl0bGUgPSAkKCcuaGVhZCcpLmZpbmQoJy50aXRsZScpOwogICAgICAgIGFjVGl0bGUuYXBwZW5kKHZpcEJ0bik7CiAgICAgICAgJCgnI2dvdWRpZGlhb1ZpcEJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMjBweCcsJ2xpbmUtaGVpZ2h0JzonMjBweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgfQogICAgLy8gYmlsaWJpbGkKICAgIGlmKHJlQkwudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgYmlsaVRpdGxlID0gJCgnLnYtdGl0bGUnKS5maW5kKCdoMScpOwogICAgICAgIGJpbGlUaXRsZS5hZnRlcih2aXBCdG4pOwogICAgICAgIGJpbGlUaXRsZS5jc3MoeydmbG9hdCc6J2xlZnQnLCdtYXJnaW4tcmlnaHQnOicwJ30pOwogICAgICAgICQoJyNnb3VkaWRpYW9WaXBCdG4nKS5jc3Moeydmb250LXdlaWdodCc6J2JvbGQnLCdmb250LXNpemUnOicxNnB4JywnZGlzcGxheSc6J2lubGluZS1ibG9jaycsJ2hlaWdodCc6JzM2cHgnLCdsaW5lLWhlaWdodCc6JzM2cHgnLCdtYXJnaW4nOicwIDVweCd9KTsKICAgIH0KICAgIC8vIHBwdHYKICAgIGlmKHJlUFAudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgcHB0dlRpdGxlID0gJCgnLnRpdGxlX3ZpZGVvJykuZmluZCgnaDMnKTsKICAgICAgICBwcHR2VGl0bGUuYWZ0ZXIobVNlYXJjaEJ0bikuYWZ0ZXIodmlwQnRuKTsKICAgICAgICAkKCcjZ291ZGlkaWFvVmlwQnRuJykuY3NzKHsnZm9udC13ZWlnaHQnOidib2xkJywnZm9udC1zaXplJzonMTZweCcsJ2Rpc3BsYXknOidpbmxpbmUtYmxvY2snLCdoZWlnaHQnOiczNnB4JywnbGluZS1oZWlnaHQnOiczNnB4JywnbWFyZ2luJzonMCA1cHgnfSk7CiAgICAgICAgJCgnI2dvdWRpZGlhb1NlYXJjaEJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE2cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzZweCcsJ2xpbmUtaGVpZ2h0JzonMzZweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgICAgIGN1cldvcmRzID0gcHB0dlRpdGxlLnRleHQoKTsKICAgICAgICAkKCcjZ291ZGlkaWFvU2VhcmNoQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly9pZmtkeS5jb20vP3E9JyArIGN1cldvcmRzICsgJyZwPTEnKTsKICAgIH0KICAgIC8vIOmfs+aCpuWPsAogICAgaWYocmVZWVQudGVzdCh2aWRlb1NpdGUpKXsKICAgICAgICB2YXIgeXl0VGl0bGUgPSAkKCcudmlkZW9OYW1lJyk7CiAgICAgICAgeXl0VGl0bGUuYXBwZW5kKHZpcEJ0bik7CiAgICAgICAgJCgnI2dvdWRpZGlhb1ZpcEJ0bicpLmNzcyh7J2ZvbnQtd2VpZ2h0JzonYm9sZCcsJ2ZvbnQtc2l6ZSc6JzE0cHgnLCdkaXNwbGF5JzonaW5saW5lLWJsb2NrJywnaGVpZ2h0JzonMzJweCcsJ2xpbmUtaGVpZ2h0JzonMzJweCcsJ21hcmdpbic6JzAgNXB4J30pOwogICAgfQogICAgJCgnI2dvdWRpZGlhb1ZpcEJ0bicpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsKICAgICAgICBjdXJQbGF5U2l0ZSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHA6Ly9nb3VkaWRpYW8uY29tLz91cmw9JyArIGN1clBsYXlTaXRlOwogICAgfSk7Cn0pKCk7"},{"name":"度盘给我播！","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["http*://pan.baidu.com/disk/home*search*"],"orig_includes":[],"orig_matches":["http*://pan.baidu.com/disk/home*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856097},"enabled":true,"position":22,"file_url":"https://greasyfork.org/scripts/33039-%E5%BA%A6%E7%9B%98%E7%BB%99%E6%88%91%E6%92%AD/code/%E5%BA%A6%E7%9B%98%E7%BB%99%E6%88%91%E6%92%AD%EF%BC%81.user.js","uuid":"c3909534-11a2-450f-8049-77e66a7a4833","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDluqbnm5jnu5nmiJHmkq3vvIEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEuMgovLyBAZGVzY3JpcHRpb24gIOW8uui/q+W6puebmOaJk+W8gCB0cyBtdHMgZjR2IG0ydHPnrYnop4bpopHmlofku7bnmoTmkq3mlL7pobXpnaLjgIIKLy8gQGF1dGhvciAgICAgICBjb29sd2luZDIwMTIKLy8gQG1hdGNoICAgICAgICBodHRwKjovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAZXhjbHVkZSAgICAgIGh0dHAqOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUqc2VhcmNoKgovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9ib3gtc3RhdGljL2Rpc2stc3lzdGVtL2ltYWdlcy9mYXZpY29uLmljbwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8zLjIuMS9qcXVlcnkubWluLmpzCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIGNvdW50ID0gMDsKY2hhbmdlID0gZnVuY3Rpb24oKXsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBtZWRpYVR5cGUgPSBuZXcgQXJyYXkoJ3RzJywnM2dwMicsJzNnMicsJzNncHAnLCdhbXYnLCdkaXZ4JywnZHBnJywnZjR2JywnbTJ0JywnbTJ0cycsJ20ydicsJ21wZScsJ21wZWcnLCdtdHMnLCd2b2InLCd3ZWJtJywnd3hwJywnd3h2Jyk7CiAgICAvL3ZhciBjb21wcmVzc1R5cGU9IG5ldyBBcnJheSgnemlwJywnN3ppcCcsJ3JhcicsJ2d6JywnZ3ppcCcpOwogICAgdmFyIG15TW9kZSAgICA9ICgkKCcuekpNdEFFYicpLmF0dHIoJ3N0eWxlJykhPT0iZGlzcGxheTogbm9uZTsiKT8wOjE7CiAgICBpZigkKCcuekpNdEFFYicpLmF0dHIoJ3N0eWxlJyk9PT0iZGlzcGxheTogbm9uZTsiKQogICAgey8v5aSn5Zu+5qCHCiAgICAgICAgdmFyIGZhdGhlclN0ciA9ICcuSkt2SEpNYiBkZCcsCiAgICAgICAgICAgIGNoaWxkU3RyICA9ICcuY0VlZnl6Om5vdCgub3Blbi1lbmFibGUpJywKICAgICAgICAgICAgdGFyZ2V0U3RyID0gJy5maWxlLW5hbWUgYSc7CiAgICB9ZWxzZXsvL+Wwj+WbvuaghwogICAgICAgIHZhciBmYXRoZXJTdHIgPSAiLnZkQWZLTWIiLAogICAgICAgICAgICBjaGlsZFN0ciAgPSAiZGQ6bm90KC5vcGVuLWVuYWJsZSkiLAogICAgICAgICAgICB0YXJnZXRTdHIgPSAnLnRleHQgYSc7CiAgICB9CiAgICB2YXIgbXlQYXRoID0gJyc7CiAgICAvL2FsZXJ0KG15TW9kZSk7CiAgICAvLyBAbWF0Y2ggICAgICAgIGh0dHAqOi8vcGFuLmJhaWR1LmNvbS9zLyovcGF0aD0qCiAgICBpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy5jb21cL3NcLzEnKT4xKQogICAgewogICAgICAgIC8vIOmcgOimgXNoYXJlaWQKICAgICAgICB2YXIgdWsgICAgICA9IHl1bkRhdGEuU0hBUkVfOwogICAgICAgIHZhciBzaGFyZUlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICAvLyAgdCA9IGIuZ2V0RWxlbWVudERhdGFCeVBvc2l0aW9uKGUpOyAvL2U9X3Bvc2l0aW9uCiAgICAgICAgLy8gIHZhciBmaWQgPSB0LmZzX2lkOwogICAgICAgIC8vbXlQYXRoID0gCiAgICB9CiAgICAvLyBodHRwczovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lI2xpc3QvcGF0aD0lMkYmdm1vZGU9bGlzdAogICAgaWYobG9jYXRpb24uaHJlZi5pbmRleE9mKCcvZGlzay9ob21lJykhPT0tMSkKICAgIHsKICAgICAgICBteVBhdGggPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdwYXRoPScpWzFdLnNwbGl0KCcmJylbMF07CiAgICB9CiAgICBteVBhdGggKz0gKGRlY29kZVVSSUNvbXBvbmVudChteVBhdGgpLnNsaWNlKC0xKT09PScvJyk/ICcnOiclMkYnOwogICAgLy92YXIgbXlQYXRoID0gbG9jYXRpb24uaHJlZi5zcGxpdCgncGF0aD0nKVsxXTsKICAgIC8vIOS7juaQnOe0oumhtemdouW+l+WIsOeahAogICAgLy8gaHR0cHM6Ly9wYW4uYmFpZHUuY29tL2Rpc2svaG9tZSNzZWFyY2gva2V5PS50cyZ2bW9kZT1saXN0CiAgICAvLyDmmoLml7bov5jmmK/ml6Dog73kuLrlipvllYogVF9UCiAgICAvLyAkKCcuSkt2SEpNYiBkZCAuY0VlZnl6JykKICAgICQoZmF0aGVyU3RyKS5jaGlsZHJlbihjaGlsZFN0cikuZWFjaChmdW5jdGlvbigpewogICAgICAgIHZhciBob3V6aHVpID0gJCh0aGlzKS5maW5kKHRhcmdldFN0cikuYXR0cigndGl0bGUnKS5zcGxpdCgnLicpLnBvcCgpOwogICAgICAgIGlmKGlzTWVkaWEoaG91emh1aSkpCiAgICAgICAgewogICAgICAgICAgICB2YXIgdG1wID0gJCh0aGlzKS5maW5kKHRhcmdldFN0cikuYXR0cignaHJlZicpOwogICAgICAgICAgICBpZih0bXAgPT09ICdqYXZhc2NyaXB0OnZvaWQoMCk7Jyl7CiAgICAgICAgICAgICAgICB2YXIgdG1wVGl0bGUgPSAkKHRoaXMpLmZpbmQodGFyZ2V0U3RyKS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKHRhcmdldFN0cikuYXR0cignaHJlZicgICwgICdodHRwczovL3Bhbi5iYWlkdS5jb20vcGxheS92aWRlbyN2aWRlby9wYXRoPScgKyAgbXlQYXRoICArIGVuY29kZVVSSUNvbXBvbmVudCh0bXBUaXRsZSkgKyAgJ1wmdD0tMScpLmF0dHIoJ3RhcmdldCcsJ19ibGFua18nKTsKICAgICAgICAgICAgICAgIGlmKCFteU1vZGUpIHskKHRoaXMpLmZpbmQoJy5hdmpaMmdBJykucmVtb3ZlQ2xhc3MoJ2RlZmF1bHQtc21hbGwnKTskKHRoaXMpLmZpbmQoJy5hdmpaMmdBJykuYWRkQ2xhc3MoJ2ZpbGVpY29uLXNtYWxsLXZpZGVvJyk7CiQodGhpcykuZmluZCgnLnpqdW1BNEJ5JykucmVtb3ZlQ2xhc3MoJ2RlZmF1bHQtc21hbGwnKTskKHRoaXMpLmZpbmQoJy56anVtQTRCeScpLmFkZENsYXNzKCdmaWxlaWNvbi1zbWFsbC12aWRlbycpO30KICAgICAgICAgICAgICAgIGVsc2UgJCh0aGlzKS5maW5kKHRhcmdldFN0cikuYXR0cignc3R5bGUnLCdjdXJzb3I6cG9pbnRlcjsnKTsKICAgICAgICAgICAgICAgIC8vICBub2RlLXR5cGU9ImluYmVBVm5RIiBjbGFzcz0icXduQW9SRSIKICAgICAgICAgICAgICAgIC8vIG5vZGUtdHlwZT0iaW5iZUFWblEiIGNsYXNzPSJxd25Bb1JFIgogICAgICAgICAgICB9Ly8gZy1jbGVhcmZpeCBBdVBLeXogb3Blbi1lbmFibGUKICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygib3Blbi1lbmFibGUiKTsKICAgICAgICB9CiAgICB9KTsKLyogICAgJCgiLnZkQWZLTWIgLm9wZW4tZW5hYmxlIikuZWFjaChmdW5jdGlvbigpewogICAgICAgIHZhciBob3V6aHVpID0gJCh0aGlzKS5maW5kKCcudGV4dCBhJykuYXR0cigndGl0bGUnKS5zcGxpdCgnLicpLnBvcCgpOwogICAgICAgIGNvbnNvbGUubG9nKGhvdXpodWkpOwogICAgICAgIC8vYWxlcnQoaG91emh1aSk7CiAgICAgICAgaWYoaXNDb21wcmVzcyhob3V6aHVpKSkKICAgICAgICB7CiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoIm9wZW4tZW5hYmxlIik7CiAgICAgICAgfQogICAgfSk7CiAgICAqLwogICAgZnVuY3Rpb24gaXNNZWRpYShzdHIpewogICAgICAgIHZhciB0bXAgPSBzdHIudG9Mb3dlckNhc2UoKTsKICAgICAgICBmb3IodmFyIGk9MDtpPG1lZGlhVHlwZS5sZW5ndGg7aSsrKQogICAgICAgIHsKICAgICAgICAgICAgaWYodG1wPT09bWVkaWFUeXBlW2ldKQogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHJldHVybiAwOwogICAgfQogLyogICBmdW5jdGlvbiBpc0NvbXByZXNzKHN0cil7CiAgICAgICAgdmFyIHRtcCA9IHN0ci50b0xvd2VyQ2FzZSgpOwogICAgICAgIGZvcih2YXIgaT0wO2k8Y29tcHJlc3NUeXBlLmxlbmd0aDtpKyspCiAgICAgICAgewogICAgICAgICAgICBpZih0bXA9PT1tZWRpYVR5cGVbaV0pCiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDA7CiAgICB9Ki8KICAgIGlmKCsrY291bnQ+NTApCiAgICB7CiAgICAgICAgdGltZWlkID0gd2luZG93LmNsZWFySW50ZXJ2YWwodGltZWlkKTsKICAgICAgICBjb3VudD0wOwogICAgfQp9OwoKJCgnLnZkQWZLTWInKS5yZWFkeSggICAgZnVuY3Rpb24oKSB7CiAgICBjaGFuZ2UoKTsKfSk7CiQoJ2RvY3VtZW50JykucmVhZHkoICAgIGZ1bmN0aW9uKCkgewogICAgY2hhbmdlKCk7Cn0pOwp2YXIgbXloYXNoID0gbG9jYXRpb24uaHJlZjsKdmFyIHRpbWVpZCA9IG51bGw7CndpbmRvdy5zZXRJbnRlcnZhbCggIGZ1bmN0aW9uKCl7IGlmKGxvY2F0aW9uLmhyZWYhPT1teWhhc2gpe2NvdW50PTA7bXloYXNoPWxvY2F0aW9uLmhyZWY7dGltZWlkID0gd2luZG93LnNldEludGVydmFsKGNoYW5nZSw2MCk7fSAgfSAgICwxMjAgICk7Cgo="},{"name":"疯狂影视搜索","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://movie.douban.com/subject/*","*://www.yugaopian.cn/movie/*","*://movie.mtime.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"data":{},"ts":1507278856100},"enabled":true,"position":23,"file_url":"https://greasyfork.org/scripts/30363-%E7%96%AF%E7%8B%82%E5%BD%B1%E8%A7%86%E6%90%9C%E7%B4%A2/code/%E7%96%AF%E7%8B%82%E5%BD%B1%E8%A7%86%E6%90%9C%E7%B4%A2.user.js","uuid":"2d3ae4cb-653b-45d8-b24b-0ef002ad54f0","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnlq/ni4LlvbHop4bmkJzntKIKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vaWZrZHkuY29tLwovLyBAdmVyc2lvbiAgICAgIDAuMgovLyBAZGVzY3JpcHRpb24gIOWcqOixhueTo+eUteW9se+8jOmihOWRiueJh+S4lueVjO+8jOaXtuWFieeUteW9seeahOe9kemhtemHjO+8jOa3u+WKoOeUteW9seaQnOe0ouaMiemSru+8gQovLyBAYXV0aG9yICAgICAgIGlma2R5Ci8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQG1hdGNoICAgICAgICAqOi8vbW92aWUuZG91YmFuLmNvbS9zdWJqZWN0LyoKLy8gQG1hdGNoICAgICAgICAqOi8vd3d3Lnl1Z2FvcGlhbi5jbi9tb3ZpZS8qCi8vIEBtYXRjaCAgICAgICAgKjovL21vdmllLm10aW1lLmNvbS8qCi8vIEByZXF1aXJlICAgICAgaHR0cDovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMS44LjMvanF1ZXJ5Lm1pbi5qcwovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIEdNX2FkZFN0eWxlKCJAY2hhcnNldCB1dGYtODsjbXRpbWVTZWFyY2hCdG57bWFyZ2luLWxlZnQ6IDVweDtwYWRkaW5nOjVweCAxMHB4O2ZvbnQtc2l6ZToyNXB4O2NvbG9yOiNmZmY7YmFja2dyb3VuZDogIzEyN2JhYjt9I210aW1lU2VhcmNoQnRuOmhvdmVye3RleHQtZGVjb3JhdGlvbjogbm9uZTt9I3l1Z2FvcGlhblNlYXJjaEJ0bnttYXJnaW4tbGVmdDo1cHg7bGV0dGVyLXNwYWNpbmc6MXB4O3BhZGRpbmc6NXB4IDEwcHg7bGluZS1oZWlnaHQ6MjdweDtmb250LWZhbWlseTogJ+W+rui9r+mbhem7kScsJ+m7keS9kyc7YmFja2dyb3VuZDogIzdjZDM3Yztjb2xvcjojZmZmO2ZvbnQtc2l6ZToxNHB4O30jeXVnYW9waWFuU2VhcmNoQnRuOmhvdmVye2JhY2tncm91bmQ6ICM1N2M4NTc7fSNkb3ViYW5TZWFyY2hCdG57Ym9yZGVyLXJhZGl1czoycHg7bGV0dGVyLXNwYWNpbmc6MXB4O2NvbG9yOiNjYTY0NDU7Zm9udC13ZWlnaHQ6bm9ybWFsO2JhY2tncm91bmQ6ICNmYWU5ZGE7Zm9udC1zaXplOjE2cHg7cGFkZGluZzo1cHggMTBweDtsaW5lLWhlaWdodDoyOHB4O30jZG91YmFuU2VhcmNoQnRuOmhvdmVye2NvbG9yOiAjZDk4OTZhO2JhY2tncm91bmQ6ICNmY2VmZTM7fSIpOwogICAgdmFyIHJlRG91YmFuID0gL2RvdWJhbi9pOwogICAgdmFyIHJlWXVnYW9waWFuID0gL3l1Z2FvcGlhbi9pOwogICAgdmFyIHJlTXRpbWUgPSAvbXRpbWUvaTsKICAgIHZhciBjdXJVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgIHZhciBjdXJXb3JkcyA9ICcnOwogICAgZnVuY3Rpb24gdHJpbShzdHIpewoJICAgIHJldHVybiBzdHIucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAiIik7Cgl9Cgl2YXIgZmtkeVVybCA9ICdodHRwOi8vaWZrZHkuY29tLz9xPSc7CiAgICB2YXIgZGJTZWFyY2hCdG4gPSAnPGEgaWQ9ImRvdWJhblNlYXJjaEJ0biIgdGFyZ2V0PSJfYmxhbmsiPuaQnOe0ouacrOeJhzwvYT4nOwogICAgdmFyIHlncFNlYXJjaEJ0biA9ICc8YSBpZD0ieXVnYW9waWFuU2VhcmNoQnRuIiB0YXJnZXQ9Il9ibGFuayI+5pCc57Si5pys54mHPC9hPic7CiAgICB2YXIgbXRTZWFyY2hCdG4gPSAnPGEgaWQ9Im10aW1lU2VhcmNoQnRuIiB0YXJnZXQ9Il9ibGFuayI+5pCc57Si5pys54mHPC9hPic7CiAgICBpZihyZURvdWJhbi50ZXN0KGN1clVybCkpewogICAgICAgIHZhciBkb3ViYW5UaXRsZSA9ICQoJyNjb250ZW50JykuZmluZCgnaDEnKTsKICAgICAgICBkb3ViYW5UaXRsZS5hcHBlbmQoZGJTZWFyY2hCdG4pOwogICAgICAgCWN1cldvcmRzID0gdHJpbSgkKCd0aXRsZScpLnRleHQoKS5zcGxpdCgnKCcpWzBdKTsKICAgICAgICAkKCcjZG91YmFuU2VhcmNoQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly9pZmtkeS5jb20vP3E9JyArIGN1cldvcmRzICsgJyZwPTEnKTsKICAgIH0KICAgIGlmKHJlWXVnYW9waWFuLnRlc3QoY3VyVXJsKSl7CiAgICAgICAgJCgnLm1vdmllLW5hbWUnKS5jc3MoJ2Zsb2F0JywnbGVmdCcpLmFmdGVyKHlncFNlYXJjaEJ0bik7CiAgICAgICAJY3VyV29yZHMgPSB0cmltKCQoJy5tb3ZpZS1uYW1lJykuYXR0cigndGl0bGUnKSk7CiAgICAgICAgJCgnI3l1Z2FvcGlhblNlYXJjaEJ0bicpLmF0dHIoJ2hyZWYnLCdodHRwOi8vaWZrZHkuY29tLz9xPScgKyBjdXJXb3JkcyArICcmcD0xJyk7CiAgICB9CiAgICBpZihyZU10aW1lLnRlc3QoY3VyVXJsKSl7CiAgICAJaWYoJCgnLmRiX2hlYWQnKS5sZW5ndGg+MCl7CiAgICAJCXZhciBjdXJNdGl0bGUgPSAkKCcuZGJfaGVhZCcpLmZpbmQoJ2gxJyk7CiAgICAJCWN1ck10aXRsZS5uZXh0KCdwJykuYWZ0ZXIobXRTZWFyY2hCdG4pOwoJICAgICAgIAljdXJXb3JkcyA9IHRyaW0oY3VyTXRpdGxlLnRleHQoKSk7CgkgICAgICAgICQoJyNtdGltZVNlYXJjaEJ0bicpLmF0dHIoJ2hyZWYnLCdodHRwOi8vaWZrZHkuY29tLz9xPScgKyBjdXJXb3JkcyArICcmcD0xJyk7CiAgICAJfQogICAgfQp9KSgpOw=="},{"name":"Kill Baidu AD","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http*://www.baidu.com/*","http*://m.baidu.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1508686265006,"data":{}},"enabled":true,"position":24,"file_url":"https://greasyfork.org/scripts/24192-kill-baidu-ad/code/Kill%20Baidu%20AD.user.js","uuid":"eb27f23e-602f-4a76-a5e4-cafc7b6f6e1b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBLaWxsIEJhaWR1IEFECi8vIEBuYW1lOnpoLUNOICAgICAgICAg55m+5bqm5bm/5ZGKKOmmluWwvuaOqOW5v+WPiuWPs+S+p+W5v+WRiinmuIXnkIYKLy8gQG5hbWVzcGFjZSAgICAgICAgICBob290aGluCi8vIEB2ZXJzaW9uICAgICAgICAgICAgMC44NgovLyBAZGVzY3JpcHRpb24gICAgICAgIEp1c3QgS2lsbCBCYWlkdSBBRAovLyBAZGVzY3JpcHRpb246emgtQ04gIOW9u+W6lea4heeQhueZvuW6puaQnOe0oih3d3cuYmFpZHUuY29tKee7k+aenOmmluWwvueahOaOqOW5v+W5v+WRiuOAgeS6jOasoemhveWbuuW5v+WRiuS4juWPs+S+p+W5v+WRiu+8jOW5tumYsuatouWPjeWkjQovLyBAYXV0aG9yICAgICAgICAgICAgIGhvb3RoaW4KLy8gQGluY2x1ZGUgICAgICAgICAgICBodHRwKjovL3d3dy5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgIGh0dHAqOi8vbS5iYWlkdS5jb20vKgovLyBAZ3JhbnQgICAgICAgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAbGljZW5zZSAgICAgICAgICAgIE1JVCBMaWNlbnNlCi8vIEBjb21wYXRpYmxlICAgICAgICAgY2hyb21lIOa1i+ivlemAmui/hwovLyBAY29tcGF0aWJsZSAgICAgICAgIGZpcmVmb3gg5rWL6K+V6YCa6L+HCi8vIEBjb21wYXRpYmxlICAgICAgICAgb3BlcmEg5pyq5rWL6K+VCi8vIEBjb21wYXRpYmxlICAgICAgICAgc2FmYXJpIOacqua1i+ivlQovLyBAY29udHJpYnV0aW9uVVJMICAgIGh0dHBzOi8vd3d3LnBheXBhbC5jb20vY2dpLWJpbi93ZWJzY3I/Y21kPV9kb25hdGlvbnMmYnVzaW5lc3M9cml4aXhpQHNpbmEuY29tJml0ZW1fbmFtZT1HcmVhc3krRm9yaytkb25hdGlvbgovLyBAY29udHJpYnV0aW9uQW1vdW50IDEKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyOwogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24ocmVjb3Jkcyl7CiAgICAgICAgY2xlYXJBRCgpOwogICAgfSk7CiAgICB2YXIgb3B0aW9uID0gewogICAgICAgICdjaGlsZExpc3QnOiB0cnVlLAogICAgICAgICdzdWJ0cmVlJzogdHJ1ZQogICAgfTsKICAgIGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgaWYoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAiaW50ZXJhY3RpdmUiKXsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvcHRpb24pOwogICAgICAgIH0KICAgIH07CgogICAgZnVuY3Rpb24gY2xlYXJBRCgpewogICAgICAgIHZhciBtQWRzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5lY193aXNlX2FkLC5lY195b3V4dWFuX2NhcmQiKSxpOwogICAgICAgIGZvcihpPTA7aTxtQWRzLmxlbmd0aDtpKyspewogICAgICAgICAgICB2YXIgbUFkPW1BZHNbaV07CiAgICAgICAgICAgIG1BZC5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgICAgdmFyIGxpc3Q9ZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudF9sZWZ0PmRpdiwjY29udGVudF9sZWZ0PnRhYmxlIik7CiAgICAgICAgZm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTsKICAgICAgICAgICAgbGV0IHMgPSBpdGVtLmdldEF0dHJpYnV0ZSgic3R5bGUiKTsKICAgICAgICAgICAgaWYgKHMgJiYgL2Rpc3BsYXk6KHRhYmxlfGJsb2NrKVxzIWltcG9ydGFudC8udGVzdChzKSkgewogICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgc3Bhbj1pdGVtLnF1ZXJ5U2VsZWN0b3IoImRpdj5zcGFuIik7CiAgICAgICAgICAgICAgICBpZihzcGFuICYmIHNwYW4uaW5uZXJIVE1MPT0i5bm/5ZGKIil7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChpdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoImE+c3BhbiIpLGZ1bmN0aW9uKHNwYW4pewogICAgICAgICAgICAgICAgICAgIGlmKHNwYW4gJiYgKHNwYW4uaW5uZXJIVE1MPT0i5bm/5ZGKIiB8fCBzcGFuLmdldEF0dHJpYnV0ZSgiZGF0YS10dWlndWFuZyIpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBlYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNjb250ZW50X3JpZ2h0PnRhYmxlPnRib2R5PnRyPnRkPmRpdiIpOwogICAgICAgIGZvcihpPTA7aTxlYi5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgbGV0IGQgPSBlYltpXTsKICAgICAgICAgICAgaWYgKGQuaWQhPSJjb24tYXIiKSB7CiAgICAgICAgICAgICAgICBkLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgc2V0VGltZW91dCgoKT0+e2NsZWFyQUQoKTt9LDIwMDApOwp9KSgpOw=="},{"name":"gwdang","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://*.jd.com/*","https://*.jd.com/*","http://*.jd.hk/*","https://*.jd.hk/*","http://*.taobao.com/*","https://*.taobao.com/*","http://*.tmall.com/*","https://*.tmall.com/*","https://*.tmall.hk/*","http://*.yixun.com/*","http://*.51buy.com/*","http://*.yhd.com/*","http://*.suning.com/*","https://*.suning.com/*","http://*.dangdang.com/*","http://*.gome.com.cn/*","http://*.newegg.cn/*","http://*.paipai.com/*","https://*.amazon.com/*","https://*.amazon.cn/*","https://*.amazon.*/*","http://www.kjt.com/*","http://www.kaola.com/*","http://www.tcl.com/*","http://shop.hisense.com/*","http://*.oppo.com/*","http://shop.vivo.com.cn/*","http://www.ebay.com/*","http://t.dianping.com/*","http://*.nuomi.com/*","http://*.meituan.com/*","https://yao.95095.com/*","http://*.feiniu.com/*","http://*.meilishuo.com/*","http://*.mogujie.com/*","http://shop.coolpad.cn/*","http://*.sephora.cn/*","http://*.yesmywine.com/*","http://*.yiguo.com/*","http://*.wanggou.com/*","http://mall.jia.com/*","http://weigou.baidu.com/*","http://*.mi.com/*","http://shop.letv.com/*","http://*.handu.com/*","http://*.taoshu.com/*","http://*.1688.com/*","http://*.muyingzhijia.com/*","http://*.vmall.com/*","http://*.xiji.com/*","http://*.xijie.com/*","http://www.yougou.com/*","http://www.okbuy.com/*","http://*.001town.com/*","http://*.01goo.com/*","http://*.03l.cn/*","http://*.133china.com/*","http://*.139shop.com/*","http://yxp.163.com/*","http://*.168dg.com/*","http://*.186mall.com/*","http://*.18to82.com/*","http://*.1j.cn/*","http://*.22shop.com/*","http://*.24dq.com/*","http://*.24quan.com/*","http://*.258sd.com/*","http://*.2688.com/*","http://*.360buy.com/*","http://*.360hqb.com/*","http://*.360kxr.com/*","http://*.360mart.com/*","http://*.365goba.com/*","http://*.38hzt.com/*","http://*.39ty.com/*","http://*.4inlook.com/*","http://*.5188bag.com/*","http://*.51buy.com/*","http://51buy.com/","http://*.51dg.com/*","http://*.51eng.com/*","http://*.51sheyuan.com/*","http://*.51youpin.com/*","http://*.520eye.com/*","http://*.52shehua.com/*","http://*.5366.com/*","http://t.58.com/*","http://*.58hua.com/*","http://*.5lux.com/*","http://*.5yth.com/*","http://*.6919.com/*","http://*.6sbuy.com/*","http://*.77toy.com/*","http://*.7caihua.com/*","http://*.7cv.com/*","http://*.7sev.com/*","http://*.80ebus.com/*","http://*.8801.net/*","http://*.919it.com/*","http://*.929.cn/*","http://*.942radio.com/*","http://b2c.958shop.com/*","http://*.96128.com/*","http://*.99pto.com/*","http://*.99read.com/*","http://*.9dadao.com/*","http://*.9you.com/*","http://*.afffff.com/*","http://*.ai356.com/*","http://*.aibang.com/*","http://*.aidai.com/*","http://*.aiju.com/*","http://*.aim36.com/*","http://*.aimer.com.cn/*","http://*.aiyingshi.com/*","http://*.aizhigu.com.cn/*","http://*.amazon.cn/*","http://*.anni.com/*","http://*.apabi.com/*","http://*.augshow.com/*","http://*.autosup.com/*","http://*.baiyjk.com/*","http://*.bbesports.com/*","http://*.bookuu.com/*","http://*.bearbuy.com.cn/*","http://*.beautyplus.cn/*","http://*.beifabook.com/*","http://*.benq.com.cn/*","http://*.best1.com/*","http://*.biaoshang.hk/*","http://*.binggo.com/*","http://*.bloves.com/*","http://*.bobomobi.com/*","http://*.bookschina.com/*","http://*.boqii.com/*","http://*.buding.com/*","http://*.buy007.com/*","http://*.buy361.cn/*","http://*.buyfine.net/*","http://*.buynow.com.cn/*","http://*.caistv.com/*","http://*.caomeipai.com/*","http://*.car339.com.cn/*","http://*.car6688.com/*","http://*.carrefour.com.cn/*","http://*.cdream.com/*","http://*.ceetop.com/*","http://*.chashu.cn/*","http://*.chedangjia.com/*","http://*.chengdecs.com/*","http://*.china-gift.com/*","http://*.china-pub.com/*","http://emall.chinapay.com/*","http://*.chinayrs.com/*","http://*.chris-tina.com/*","http://*.clady.com/*","http://*.clinique.com.cn/*","http://*.cncard.com/*","http://*.cnfse.com/*","http://*.colebuy.com/*","http://*.conslive.com/*","http://*.coo8.com/*","http://*.cosize.com/*","http://*.cosme-de.com/*","http://*.ctrip.com/*","http://*.cw100.com/*","http://*.d1.com.cn/*","http://*.daisonghua.com/*","http://*.dangdang.com/*","http://*.daoyao.com/*","http://*.woyo.com/*","http://*.dazhe.cn/*","http://*.dazhongdianqi.com.cn/*","http://*.dianpu.com/*","http://*.didatuan.com/*","http://*.disiqu.cn/*","http://*.dixintong.com/*","http://*.doulaimai.com/*","http://*.dsgoo.com/*","http://*.dtoto.com/*","http://*.duhub.com/*","http://*.duoding.com/*","http://*.e-giordano.com/*","http://*.e-lining.com/*","http://*.e-my.com.cn/*","http://*.easy361.com/*","http://*.ebaimi.com/*","http://*.eboxbuy.com/*","http://*.ebtea.com/*","http://*.ecosme.cn/*","http://*.efeihu.com/*","http://*.ehaier.com/*","http://*.ejia.com/*","http://*.enet.com.cn/*","http://*.enjoyeye.com/*","http://*.epetbar.com/*","http://*.et5155.com/*","http://*.f508.com/*","http://*.fclub.cn/*","http://*.flowerby.com/*","http://*.flowercn.com/*","http://*.gap.cn/*","http://*.godida.com/*","http://*.gome.com.cn/*","http://*.goocctv.cn/*","http://*.goodjd.com/*","http://*.goodnourish.cn/*","http://*.gou3618.com/*","http://*.gouduo.com/*","http://*.gouwulian.com/*","http://*.gouxie.com/*","http://*.goyahome.com/*","http://*.guobuy.com/*","http://*.guopi.com/*","http://*.guuoo.com/*","http://*.hany.cn/*","http://*.happigo.com/*","http://*.hit168.com.cn/*","http://*.hitao.com/*","http://*.homeold.cn/*","http://*.homevv.com/*","http://*.hongkouzi.com/*","http://*.hopebook.net/*","http://*.huachu.com.cn/*","http://*.huimeifang.cn/*","http://*.hw2008.cn/*","http://*.icaifeng.com/*","http://*.icson.com/*","http://*.ideemall.com/*","http://*.ihush.com/*","http://*.iloveyou.com.cn/*","http://*.ilovezuan.com/*","http://*.imeelee.com/*","http://*.inoble.com.cn/*","http://*.inshion.com/*","http://*.ishop.cn/*","http://*.it88.com.cn/*","http://*.itzm.com/*","http://*.iyuyou.com/*","http://*.jiajiajk.com/*","http://*.jiaju.com/*","http://*.jiatx.com/*","http://*.jiayougo.com/*","http://*.jinbaidu.com/*","http://*.jmeishop.com/*","http://*.joyran.com/*","http://*.jsbcmall.com/*","http://*.jtlhome.com/*","http://*.jumei.com/*","http://*.junph.com/*","http://*.justonline.cn/*","http://*.jxdyf.com/*","http://*.k121.com/*","http://*.kadang.com/*","http://*.keede.com.cn/*","http://*.kela.cn/*","http://*.kuaishubao.com/*","http://*.kxtkx.com/*","http://*.ladypk.com/*","http://*.laeibelle.com/*","http://*.lafaso.com/*","http://*.lamiu.com/*","http://*.lancome.com.cn/*","http://*.lashou.com/*","http://*.ledaojia.com/*","http://*.leftlady.com/*","http://*.lenovo.com.cn/*","http://*.lens2005.com/*","http://*.letao.com/*","http://*.leyou.com/*","http://*.leyou.com.cn/*","http://*.lijiababy.com.cn/*","http://*.lijigou.com/*","http://*.likebuy.com/*","http://*.likeface.com/*","http://*.lingshi.com/*","http://*.liqunshop.com/*","http://*.liyi99.com/*","http://*.locknlock.com.cn/*","http://*.lovo.cn/*","http://*.luckigo.com/*","http://*.lusen.com/*","http://*.lyceem.com/*","http://*.m18.com/*","http://*.maichawang.com/*","http://*.maimaike.cn/*","http://*.mamabb.com/*","http://*.mamahao.cn/*","http://*.mangocity.com/*","http://*.manzuo.com/*","http://*.masamaso.com/*","http://*.maxfunbuy.com/*","http://*.maywon.com/*","http://*.mbaobao.com/*","http://*.meici.com/*","http://*.meilele.com/*","http://*.meilieasy.com/*","http://*.meituan.com/*","http://*.menglu.com/*","http://*.mengmai.com/*","http://*.minibuy.com/*","http://*.mmgw.cn/*","http://*.mmuses.com/*","http://*.mobi001.com/*","http://*.mokamall.com/*","http://*.momoyoyo.com/*","http://*.montrosechina.com/*","http://*.mooiee.com/*","http://*.moonbasa.com/*","http://*.motostore.com.cn/*","http://*.mpshow.com.cn/*","http://*.naccoo.com/*","http://*.naguu.com/*","http://*.nayao.com/*","http://*.newegg.com.cn/*","http://*.newgo5.com/*","http://*.nmlch.com/*","http://*.no5.com.cn/*","http://*.nokia.com.cn/*","http://*.nonmin88.com/*","http://*.obuy.cn/*","http://*.ofcard.com/*","http://*.ogage.cn/*","http://*.okbig.com/*","http://*.okbuy.com/*","http://*.okddy.com/*","http://*.okgolf.cn/*","http://*.olomo.com/*","http://*.olympus.com.cn/*","http://*.olymsports.com/*","http://*.ono.com.cn/*","http://*.orange3c.com/*","http://*.ouku.com/*","http://*.ourtasty.com/*","http://*.outice.com/*","http://*.oyego.com/*","http://*.paixie.net/*","http://*.palcent.com/*","http://*.ocj.com.cn/*","http://*.pb89.com/*","http://*.pcarm.com/*","http://*.petyoo.com/*","http://*.pgbao.com/*","http://*.piaoliang100.com/*","http://*.pirateship.com.cn/*","http://*.popyj.com/*","http://*.pupai.cn/*","http://*.purcotton.com/*","http://*.qianxun.com/*","http://*.qingci.com/*","http://*.qinqinbaby.com/*","http://*.qmango.com/*","http://*.qumei.com/*","http://*.quwan.com/*","http://*.qxian.com/*","http://*.rayi.cn/*","http://*.redbaby.com.cn/*","http://*.robam.com/*","http://*.salala.com.cn/*","http://*.samsclub.cn/*","http://*.sanfo.com/*","http://*.sapo.com.hk/*","http://*.sasa.com/*","http://*.sasacity.com/*","http://*.sawbuy.com/*","http://*.shanghai-sports.com/*","http://*.shentop.com/*","http://*.shishangqiyi.com/*","http://*.shjdq.com/*","http://*.shnn.com/*","http://*.shopin.net/*","http://*.shoubiao.com.cn/*","http://*.sigo.cn/*","http://mall.sina.com.cn/*","http://*.sinobuy.cn/*","http://*.skcoo.com/*","http://*.skomart.com/*","http://*.snyun.com/*","http://*.sonmai.cn/*","http://*.sport2008.com.cn/*","http://*.strawberrynet.com/*","http://*.suning.com/*","http://*.sz-esun.com/*","http://*.tao3c.com/*","http://item.taobao.com/*","http://*.taoxie.cn/*","http://*.the365.com/*","http://*.thinkshop.cn/*","http://*.tian10.com/*","http://*.tiantian.com/*","http://*.junph.com/*","http://*.tieyou.com/*","http://detail.tmall.com/*","http://*.togj.com/*","http://*.tooogooo.com/*","http://*.toy90.com/*","http://*.toys365.com/*","http://*.tpy100.com/*","http://*.tuniu.com/*","http://*.tztart.com/*","http://*.ugou.cn/*","http://*.uipmall.com/*","http://*.uiyi.cn/*","http://*.ushan.cn/*","http://*.uushouji.com/*","http://*.uya100.com/*","http://*.vaakav.com/*","http://*.vafox.com/*","http://*.vancl.com/*","http://*.vcotton.com/*","http://*.veedl.com/*","http://*.vegoos.com/*","http://*.venusveil.com/*","http://*.veryok.cn/*","http://*.viccol.com/*","http://*.vipshop.com/*","http://*.vipstore.com/*","http://*.vivian.cn/*","http://*.vjia.com/*","http://*.vnasi.com/*","http://*.voipyeah.com/*","http://*.w1.cn/*","http://*.waipowang.com/*","http://*.wangshanghai.com/*","http://*.wg365.com/*","http://*.winenice.com/*","http://*.wl.cn/*","http://*.womai.com/*","http://*.woye.com/*","http://*.wtaotao.com/*","http://*.wumeiwang.com/*","http://*.x-playboy.com/*","http://*.xiaokang.com/*","http://*.xiaozhuren.com/*","http://*.xinbaigo.com/*","http://*.xindou.com/*","http://*.xing800.com/*","http://*.xinhuabookstore.com/*","http://*.xiu.com/*","http://*.xtpo.cn/*","http://*.xzuan.com/*","http://*.yaja.com.cn/*","http://*.yaofang.cn/*","http://*.yasai.cn/*","http://*.yeecare.com/*","http://buy.yesky.com/*","http://*.yesmytea.com/*","http://*.yesmywine.com/*","http://*.yide.com/*","http://*.yifu.com/*","http://*.yihaodian.com/*","http://*.yintai.com/*","http://*.yinyuehe.net/*","http://*.yjcs.cn/*","http://*.yobrand.com/*","http://*.yoger.com.cn/*","http://*.yoho.cn/*","http://*.yongle.com.cn/*","http://*.yougou.com/*","http://*.youjk.com/*","http://*.yoyo18.com/*","http://*.yumaoclub.com/*","http://*.yyosso.com/*","http://*.zbird.com/*","http://*.zgcbb.com/*","http://*.zm7.cn/*","http://*.zopo.com/*","http://*.ibuying.com/*","http://*.33go.com.cn/*","http://*.xijie.com/*","http://*.nop.cn/*","http://*.asyp.com/*","http://*.sparty.cn/*","http://*.yizhedian.com/*","http://*.lvhezi.com/*","http://*.aishangbaobao.com/*","http://*.sportica.cn/*","http://*.jstsilk.cn/*","http://*.camel.com.cn/*","http://*.cottonpop.net/*","http://*.hyj.com/*","http://*.myxiequ.com/*","http://*.mfplaza.com/*","http://*.do93.com/*","http://*.3guo.cn/*","http://*.yaqifushi.com/*","http://*.trura.com/*","http://*.lbaobao.cn/*","http://*.xiutuan.com/*","http://*.usashopcn.com/*","http://*.ihaveu.com/*","http://*.vipku.com/*","http://*.vipchina.com/*","http://*.fanrry.cn/*","http://*.lesunvip.com/*","http://*.nala.com.cn/*","http://*.miqi.cn/*","http://*.meiribuy.com/*","http://*.pufung.com/*","http://*.xiaoye.com/*","http://*.hmeili.com/*","http://*.oulybuy.com/*","http://*.meifenzi.com/*","http://*.caomeishop.com/*","http://*.meifu360.com/*","http://*.bapashop.com/*","http://*.bulangxiongdi.com/*","http://*.gusubuy.com/*","http://*.opearl.net/*","http://*.ruci.cn/*","http://*.rax.cn/*","http://*.jiuxian.com/*","http://*.maimaicha.com/*","http://*.pinwine.cn/*","http://*.meiweidao.com/*","http://*.okliang.com/*","http://*.365wine.com/*","http://*.jjlg.com.cn/*","http://*.bianlishe.com/*","http://*.epkmall.com/*","http://*.gdcct.com/*","http://*.500ccc.com/*","http://*.me361.com/*","http://*.malatamobile.com/*","http://*.trioo.com/*","http://*.oohdear.com/*","http://*.yaahe.cn/*","http://*.easeeyes.com/*","http://*.dbox.cn/*","http://*.haotehui.com/*","http://*.m6go.com/*","http://*.bianyigo.com/*","http://*.okjee.com/*","http://*.mygeek.cn/*","http://*.tbb.cn/*","http://*.ushare360.com/*","http://*.gqt168.com/*","http://*.konjoy.com/*","http://*.aoliz.com/*","http://*.jianianle.com/*","http://*.akajia.com/*","http://*.miqi.com.cn/*","http://*.lehuimai.com/*","http://*.lifevc.com/*","http://*www.ouku.com/","http://nuomi.com/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1508687183101,"data":{}},"enabled":true,"position":25,"file_url":"https://greasyfork.org/scripts/14466-%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7/code/%E8%B4%AD%E7%89%A9%E5%85%9A%E6%AF%94%E4%BB%B7%E5%B7%A5%E5%85%B7.user.js","uuid":"f99463e2-8098-4c22-be4b-5d8dc409fcce","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIGd3ZGFuZwovLyBAbmFtZTp6aC1DTiAgIOi0reeJqeWFmuavlOS7t+W3peWFtwovLyBAbmFtZXNwYWNlICAgbm8KLy8gQGRlc2NyaXB0aW9uIOa1j+iniOWVhuWTgemhtemdouaXtu+8jOiHquWKqOavlOi+g+WQjOasvuWVhuWTgeWcqOa3mOWunS/kuqzkuJwv5Lqa6ams6YCKL+W9k+W9ky/oi4/lroEv562J55m+5a625ZWG5Z+O55qE5pyA5L2O5Lu377yM5o+Q5L6b5Lu35qC85Y6G5Y+y44CB5Y+j56KR6K+E5YiG562J5p+l6K+i44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiDmtY/op4jllYblk4HpobXpnaLml7bvvIzoh6rliqjmr5TovoPlkIzmrL7llYblk4HlnKjmt5jlrp0v5Lqs5LicL+S6mumprOmAii/lvZPlvZMv6IuP5a6BL+etieeZvuWutuWVhuWfjueahOacgOS9juS7t++8jOaPkOS+m+S7t+agvOWOhuWPsuOAgeWPo+eikeivhOWIhuetieafpeivouOAggovLyBAcnVuLWF0ICAgICBkb2N1bWVudC1pZGxlCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmpkLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qZC5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyouamQuaGsvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoudGFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50bWFsbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLnRtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwczovLyoudG1hbGwuaGsvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWl4dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aGQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGFuZ2RhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvbWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5ld2VnZy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wYWlwYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi5hbWF6b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8vKi5hbWF6b24uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cHM6Ly8qLmFtYXpvbi4qLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly93d3cua2p0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3Lmthb2xhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LnRjbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3AuaGlzZW5zZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3Bwby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3Audml2by5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5lYmF5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vdC5kaWFucGluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubnVvbWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHBzOi8veWFvLjk1MDk1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5mZWluaXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWxpc2h1by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9ndWppZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3Nob3AuY29vbHBhZC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zZXBob3JhLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllc215d2luZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWlndW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndhbmdnb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9tYWxsLmppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3dlaWdvdS5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9zaG9wLmxldHYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhhbmR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50YW9zaHUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjE2ODguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm11eWluZ3poaWppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudm1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vd3d3LnlvdWdvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3d3dy5va2J1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMDAxdG93bi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMDFnb28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjAzbC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xMzNjaGluYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMTM5c2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL3l4cC4xNjMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjE2OGRnLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xODZtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4xOHRvODIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjFqLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjIyc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjRkcS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjRxdWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4yNThzZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMjY4OC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzYwYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4zNjBocWIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjM2MGt4ci5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzYwbWFydC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzY1Z29iYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouMzhoenQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjM5dHkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjRpbmxvb2suY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxODhiYWcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vNTFidXkuY29tLwovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTFkZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTFlbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUxc2hleXVhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTF5b3VwaW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUyMGV5ZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNTJzaGVodWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjUzNjYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly90LjU4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi41OGh1YS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNWx1eC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNXl0aC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNjkxOS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouNnNidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjc3dG95LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi43Y2FpaHVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi43Y3YuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjdzZXYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjgwZWJ1cy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouODgwMS5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOTE5aXQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjkyOS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45NDJyYWRpby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL2IyYy45NThzaG9wLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45NjEyOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOTlwdG8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjk5cmVhZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouOWRhZGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi45eW91LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hZmZmZmYuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpMzU2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haWJhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpZGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haWp1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haW0zNi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYWltZXIuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFpeWluZ3NoaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYWl6aGlndS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYW1hem9uLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFubmkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFwYWJpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hdWdzaG93LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5hdXRvc3VwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iYWl5amsuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJiZXNwb3J0cy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYm9va3V1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iZWFyYnV5LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iZWF1dHlwbHVzLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJlaWZhYm9vay5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmVucS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmVzdDEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJpYW9zaGFuZy5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iaW5nZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJsb3Zlcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYm9ib21vYmkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJvb2tzY2hpbmEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJvcWlpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5idWRpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eTAwNy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYnV5MzYxLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eWZpbmUubmV0LyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmJ1eW5vdy5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2Fpc3R2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jYW9tZWlwYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhcjMzOS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2FyNjY4OC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2FycmVmb3VyLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jZHJlYW0uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNlZXRvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hhc2h1LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoZWRhbmdqaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoZW5nZGVjcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hpbmEtZ2lmdC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2hpbmEtcHViLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vZW1hbGwuY2hpbmFwYXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNoaW5heXJzLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jaHJpcy10aW5hLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jbGFkeS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY2xpbmlxdWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNuY2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY25mc2UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvbGVidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvbnNsaXZlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb284LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb3NpemUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNvc21lLWRlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jdHJpcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouY3cxMDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmQxLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYWlzb25naHVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYW5nZGFuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGFveWFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53b3lvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYXpoZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kYXpob25nZGlhbnFpLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kaWFucHUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmRpZGF0dWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kaXNpcXUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGl4aW50b25nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kb3VsYWltYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmRzZ29vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5kdG90by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZHVodWIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmR1b2RpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmUtZ2lvcmRhbm8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmUtbGluaW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lLW15LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYXN5MzYxLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYmFpbWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVib3hidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVidGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lY29zbWUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZWZlaWh1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5laGFpZXIuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVqaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVuZXQuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVuam95ZXllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lcGV0YmFyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ldDUxNTUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmY1MDguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZjbHViLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZsb3dlcmJ5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5mbG93ZXJjbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ2FwLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvZGlkYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ29tZS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ29vY2N0di5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5nb29kamQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvb2Rub3VyaXNoLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvdTM2MTguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdvdWR1by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ291d3VsaWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5nb3V4aWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdveWFob21lLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ndW9idXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmd1b3BpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ndXVvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaGFueS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oYXBwaWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oaXQxNjguY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhpdGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ob21lb2xkLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhvbWV2di5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaG9uZ2tvdXppLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ob3BlYm9vay5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaHVhY2h1LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5odWltZWlmYW5nLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmh3MjAwOC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pY2FpZmVuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWNzb24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlkZWVtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5paHVzaC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWxvdmV5b3UuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlsb3ZlenVhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaW1lZWxlZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaW5vYmxlLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pbnNoaW9uLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pc2hvcC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pdDg4LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5pdHptLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5peXV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmppYWppYWprLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaWFqdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouamlhdHguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmppYXlvdWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaW5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouam1laXNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmpveXJhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouanNiY21hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp0bGhvbWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp1bWVpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qdW5waC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouanVzdG9ubGluZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qeGR5Zi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouazEyMS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoua2FkYW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rZWVkZS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoua2VsYS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rdWFpc2h1YmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5reHRreC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGFkeXBrLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sYWVpYmVsbGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhZmFzby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGFtaXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhbmNvbWUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxhc2hvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGVkYW9qaWEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxlZnRsYWR5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZW5vdm8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxlbnMyMDA1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZXRhby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxleW91LmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saWppYWJhYnkuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpamlnb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpa2VidXkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpa2VmYWNlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saW5nc2hpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5saXF1bnNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpeWk5OS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubG9ja25sb2NrLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sb3ZvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmx1Y2tpZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmx1c2VuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5seWNlZW0uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm0xOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFpY2hhd2FuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFpbWFpa2UuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFtYWJiLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYW1haGFvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1hbmdvY2l0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWFuenVvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYXNhbWFzby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWF4ZnVuYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYXl3b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1iYW9iYW8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWNpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlsZWxlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlsaWVhc3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1lbmdsdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVuZ21haS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWluaWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW1ndy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tbXVzZXMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1vYmkwMDEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1va2FtYWxsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tb21veW95by5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9udHJvc2VjaGluYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW9vaWVlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tb29uYmFzYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubW90b3N0b3JlLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tcHNob3cuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5hY2Nvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubmFndXUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5heWFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5uZXdlZ2cuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5ld2dvNS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubm1sY2guY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5vNS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubm9raWEuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm5vbm1pbjg4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vYnV5LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9mY2FyZC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2dhZ2UuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2tiaWcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9rYnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5va2RkeS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub2tnb2xmLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9sb21vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbHltcHVzLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbHltc3BvcnRzLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vbm8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9yYW5nZTNjLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vdWt1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vdXJ0YXN0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3V0aWNlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5veWVnby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucGFpeGllLm5ldC8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wYWxjZW50LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vY2ouY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBiODkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBjYXJtLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wZXR5b28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBnYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5waWFvbGlhbmcxMDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBpcmF0ZXNoaXAuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBvcHlqLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wdXBhaS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5wdXJjb3R0b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnFpYW54dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnFpbmdjaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucWlucWluYmFieS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucW1hbmdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5xdW1laS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucXV3YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnF4aWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5yYXlpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJlZGJhYnkuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJvYmFtLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYWxhbGEuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNhbXNjbHViLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNhbmZvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXBvLmNvbS5oay8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXNhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zYXNhY2l0eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2F3YnV5LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zaGFuZ2hhaS1zcG9ydHMuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNoZW50b3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNoaXNoYW5ncWl5aS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2hqZHEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNobm4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNob3Bpbi5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2hvdWJpYW8uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNpZ28uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovL21hbGwuc2luYS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2lub2J1eS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5za2Nvby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc2tvbWFydC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc255dW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnNvbm1haS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zcG9ydDIwMDguY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN0cmF3YmVycnluZXQuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnN1bmluZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc3otZXN1bi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFvM2MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9pdGVtLnRhb2Jhby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGFveGllLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRoZTM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGhpbmtzaG9wLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRpYW4xMC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGlhbnRpYW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmp1bnBoLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50aWV5b3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9kZXRhaWwudG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRvZ2ouY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRvb29nb29vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50b3k5MC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudG95czM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudHB5MTAwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi50dW5pdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudHp0YXJ0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi51Z291LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVpcG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVpeWkuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudXNoYW4uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudXVzaG91amkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnV5YTEwMC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmFha2F2LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52YWZveC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmFuY2wuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZjb3R0b24uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZlZWRsLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52ZWdvb3MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZlbnVzdmVpbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmVyeW9rLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZpY2NvbC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwc3RvcmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnZpdmlhbi5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52amlhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52bmFzaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudm9pcHllYWguY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLncxLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndhaXBvd2FuZy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoud2FuZ3NoYW5naGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53ZzM2NS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoud2luZW5pY2UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndsLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLndvbWFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53b3llLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53dGFvdGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi53dW1laXdhbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLngtcGxheWJveS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGlhb2thbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpYW96aHVyZW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmJhaWdvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54aW5kb3UuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmc4MDAuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpbmh1YWJvb2tzdG9yZS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueGl1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54dHBvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnh6dWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YWphLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YW9mYW5nLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlhc2FpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllZWNhcmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly9idXkueWVza3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnllc215dGVhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55ZXNteXdpbmUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpZGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpZnUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpaGFvZGlhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWludGFpLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55aW55dWVoZS5uZXQvKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueWpjcy5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b2JyYW5kLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b2dlci5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueW9oby5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55b25nbGUuY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlvdWdvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueW91amsuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlveW8xOC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoueXVtYW9jbHViLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55eW9zc28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnpiaXJkLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi56Z2NiYi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouem03LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnpvcG8uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmlidXlpbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLjMzZ28uY29tLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpamllLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ub3AuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYXN5cC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouc3BhcnR5LmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnlpemhlZGlhbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubHZoZXppLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5haXNoYW5nYmFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5zcG9ydGljYS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qc3RzaWxrLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhbWVsLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5jb3R0b25wb3AubmV0LyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmh5ai5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubXl4aWVxdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWZwbGF6YS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZG85My5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouM2d1by5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YXFpZnVzaGkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRydXJhLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sYmFvYmFvLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnhpdXR1YW4uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVzYXNob3Bjbi5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouaWhhdmV1LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi52aXBrdS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudmlwY2hpbmEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmZhbnJyeS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5sZXN1bnZpcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubmFsYS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWlxaS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tZWlyaWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoucHVmdW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi54aWFveWUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmhtZWlsaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3VseWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpZmVuemkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmNhb21laXNob3AuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1laWZ1MzYwLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iYXBhc2hvcC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYnVsYW5neGlvbmdkaS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ3VzdWJ1eS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoub3BlYXJsLm5ldC8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5ydWNpLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnJheC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaXV4aWFuLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYWltYWljaGEuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnBpbndpbmUuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWVpd2VpZGFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5va2xpYW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi4zNjV3aW5lLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qamxnLmNvbS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5iaWFubGlzaGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmVwa21hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmdkY2N0LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi41MDBjY2MuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm1lMzYxLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5tYWxhdGFtb2JpbGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnRyaW9vLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5vb2hkZWFyLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi55YWFoZS5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5lYXNlZXllcy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZGJveC5jbi8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5oYW90ZWh1aS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubTZnby5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouYmlhbnlpZ28uY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLm9ramVlLmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5teWdlZWsuY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoudGJiLmNuLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLnVzaGFyZTM2MC5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyouZ3F0MTY4LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5rb25qb3kuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFvbGl6LmNvbS8qCi8vIEBpbmNsdWRlICAgICBodHRwOi8vKi5qaWFuaWFubGUuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmFrYWppYS5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubWlxaS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyoubGVodWltYWkuY29tLyoKLy8gQGluY2x1ZGUgICAgIGh0dHA6Ly8qLmxpZmV2Yy5jb20vKgovLyBAaW5jbHVkZSAgICAgaHR0cDovLyp3d3cub3VrdS5jb20vCi8vIEBpbmNsdWRlICAgICBodHRwOi8vbnVvbWkuY29tLyoKLy8gQHZlcnNpb24gICAgIDIuLjAuMQovLyBAZ3JhbnQgCQlub25lCi8vID09L1VzZXJTY3JpcHQ9PQovKiBARGF0ZTogV2VkIE9jdCAxMSAyMDE3IDE2OjQwOjEzIEdNVCswODAwICjkuK3lm73moIflh4bml7bpl7QpKi8KISBmdW5jdGlvbihlKSB7CglmdW5jdGlvbiB0KGkpIHsKCQlpZiAobltpXSkgcmV0dXJuIG5baV0uZXhwb3J0czsKCQl2YXIgYSA9IG5baV0gPSB7CgkJCWV4cG9ydHM6IHt9LAoJCQlpZDogaSwKCQkJbG9hZGVkOiAhMQoJCX07CgkJcmV0dXJuIGVbaV0uY2FsbChhLmV4cG9ydHMsIGEsIGEuZXhwb3J0cywgdCksIGEubG9hZGVkID0gITAsIGEuZXhwb3J0cwoJfQoJdmFyIG4gPSB7fTsKCXJldHVybiB0Lm0gPSBlLCB0LmMgPSBuLCB0LnAgPSAiIiwgdCgwKQp9KFsKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24oZSkgewoJCQkidXNlIHN0cmljdCI7CgkJCSEgZnVuY3Rpb24oKSB7CgkJCQl2YXIgdCA9IG4oMikoKTsKCQkJCWlmICghdCB8fCAhbG9jYXRpb24uaG9zdC5tYXRjaCgvKD86dGFvYmFvfHRtYWxsfHlhb1wuOTUwOTV8MTY4OFwuY29tfGFsaWV4cHJlc3NcLmNvbXxpZWZyYW1lXC5kbGwpLykpIHsKCQkJCQluKDMpLCBuKDUpLmluaXQoKSwgbigyNykuaW5pdCgpOwoJCQkJCXZhciBpID0gbigxMyk7CgkJCQkJaSAmJiBpLmluaXQoZS5nd2RfY256eiksICJtLmZpbmUzcS5jb20iID09PSBsb2NhdGlvbi5ob3N0ICYmIG4oMzEpLmluaXQoKSwgMCAhPT0gZS5wYWdlSW5mby50eXBlICYmIChuKDMyKS5pbml0KCksIG4oMzMpKCkgfHwgbigzNCkgfHwgKG4oMzYpLCBuKDM3KSwgZS5sb2dvTmFtZSA9IG4oMzgpKDgpLCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1heHRob24iKSA+IC0xLCBlLnBsdWdpbnMgPSBbbigzOSksIG4oNDgpXSwgbig1MCksIG4oNTEpKCksIG4oNTMpLmNvbW1vbihmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBpID0gWyJpcWl5aSIsICIyMjgiLCAibHZtYW1hIiwgImthb2xhIiwgImVsb25nIiwgIm1laWxpc2h1byIsICJtb2d1amllIl07CgkJCQkJCWlmICghdCB8fCAhdC5yZXN1bHQgfHwgdC5yZXN1bHQgaW5zdGFuY2VvZiBBcnJheSB8fCAtMSAhPSB0LnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIuWMl+S6rCIpIHx8IC0xICE9IHQucmVzdWx0LmFkZHJlc3MuaW5kZXhPZigi5LiK5rW3IikgfHwgLTEgIT0gdC5yZXN1bHQuYWRkcmVzcy5pbmRleE9mKCLlub/lt54iKSB8fCAtMSAhPSB0LnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIua3seWcsyIpIHx8IC0xICE9IHQucmVzdWx0LmFkZHJlc3MuaW5kZXhPZigi5p2t5beeIikpIHQgJiYgLTEgPT0gdC5yZXN1bHQuYWRkcmVzcy5pbmRleE9mKCLljZfkuqwiKSAmJiAoZS5mb3JiaWRBZCA9ICEwKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpZiAoaS5pbmRleE9mICYmIGkuaW5kZXhPZihlLnNpdGUpID4gLTEpIHsKCQkJCQkJCQllLnNldF9mb3JjZSA9ICEwOwoJCQkJCQkJCSJodHRwczoiID09PSBsb2NhdGlvbi5wcm90b2NvbCA/ICJodHRwczoiIDogImh0dHA6IjsKCQkJCQkJCQllLnVfc2VydmVyID0gImh0dHA6Ly8xMTguMTQ0Ljg4LjExOTo4MDg1IgoJCQkJCQkJfQoJCQkJCQkJZS5mb3JiaWRBZCA9ICEwCgkJCQkJCX0KCQkJCQkJbig0MCkuZ2V0UmF0ZShmdW5jdGlvbigpIHsKCQkJCQkJCW4oNTQpLmdldChmdW5jdGlvbigpIHsKCQkJCQkJCQluKDU2KS5pbml0KCkKCQkJCQkJCX0pCgkJCQkJCX0pCgkJCQkJfSkpKQoJCQkJfQoJCQl9KCkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCSJ1c2Ugc3RyaWN0IjsKCQllLmV4cG9ydHMgPSB7CgkJCW1vZHVsZXM6IHt9LAoJCQl2ZXJzaW9uOiAxNTA3NzExMTY5MzEyLAoJCQlicm93c2VyOiB7fSwKCQkJZGVidWc6IC9nd2RlYnVnLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSwKCQkJZXh0ZW5kOiBmdW5jdGlvbihlKSB7CgkJCQlmb3IgKHZhciB0IGluIGUpIHRoaXNbdF0gPSBlW3RdCgkJCX0KCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyg/Ok1TSUUgfFRyaWRlbnRcLy4qOyBydjopKFxkKykvKTsKCQkJCXJldHVybiBlICYmICh0WyJJRSIgKyBwYXJzZUludChlWzFdKV0gPSAhMCksIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJtc2llIikgPiAtMSA/ICEwIDogbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImVkZ2UiKSA+IC0xID8gITAgOiBlID8gcGFyc2VJbnQoZVsxXSkgOiB2b2lkIDAKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQluKDQpLCBlLmV4dGVuZCh7CgkJCQljcmM2NDogITAsCgkJCQl1bmlvbjogInVuaW9uX2d3ZGFuZyIsCgkJCQlzaG93X3RpcDogMSwKCQkJCXNob3dfd2lzaGxpc3Q6IDEsCgkJCQlzaG93X2d1ZXNzOiAxLAoJCQkJc2hvd19tYWluYmFyOiAxLAoJCQkJc2hvd19wcm9tbzogMSwKCQkJCXNldF9mb3JjZTogITEsCgkJCQlkZWZhdWx0X3N0eWxlOiAidG9wIiwKCQkJCXV0OiAiJnRyYW5zPTEiLAoJCQkJZnJvbV9kZXZpY2U6ICJkZWZhdWx0IiwKCQkJCWV4dEJyYW5kOiAiZ3dkIiwKCQkJCWV4dE5hbWU6ICJnd2RhbmciLAoJCQkJZ29fdW5pb246ICJodHRwOi8vdS5nd2RhbmcuY29tL3VuaW9uL2dvIiwKCQkJCXBfaWQ6ICIiLAoJCQkJaXNfb3BlbjogMCwKCQkJCXBvc2l0aW9uOiAwLAoJCQkJc3R5bGU6ICIiLAoJCQkJbm90aWNlOiAwLAoJCQkJZmlyc3Q6IDAsCgkJCQlmb2xkOiAwLAoJCQkJcF9mb2xkOiAwLAoJCQkJcG9wX3NoYXJlOiAxLAoJCQkJZW1haWw6ICIiLAoJCQkJc3Vic2l0ZV9pZDogIiIsCgkJCQlmb3JjZTogW10sCgkJCQlvbl9idWlsZGluZzogITAsCgkJCQlidWlsdF9jb3VudGVyOiAwLAoJCQkJY29sbGVjdGlvbkNoYW5nZWQ6ICEwLAoJCQkJZ3dkX2Jyb3dzZXJfdHlwZTogMSwKCQkJCWlzX3NpdGVfcGFnZTogbnVsbCwKCQkJCWhyZWY6IHdpbmRvdy5sb2NhdGlvbiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogIiIsCgkJCQljb2xsZWN0SW5mbzogewoJCQkJCWRwX2lkOiAiIiwKCQkJCQl0aXRsZTogIiIsCgkJCQkJc2l0ZV9pZDogMCwKCQkJCQl1cmw6ICIiLAoJCQkJCWltZzogIiIsCgkJCQkJcHJpY2U6ICIiLAoJCQkJCWNvbW1lbnQ6ICIiCgkJCQl9LAoJCQkJbm93X2RwX2lkOiAiIiwKCQkJCXdoZXJlX2J1eV9kcHM6ICIiLAoJCQkJd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLAoJCQkJdGltZXI6IG51bGwsCgkJCQl0aW1lcjI6IG51bGwsCgkJCQl0aW1lcjM6IG51bGwsCgkJCQl0aW1lcjQ6IG51bGwsCgkJCQl0aW1lcjU6IG51bGwsCgkJCQl0aW1lcjVfbXV0ZXg6ICEwLAoJCQkJaGVpZ2h0OiAwLAoJCQkJc2Nyb2xsVG9wOiAwLAoJCQkJcGFnZV9zaXplOiA2LAoJCQkJcGFnZV9zaXplX21pbmk6IDQsCgkJCQlwYWdlX25vdzogewoJCQkJCWIyYzogMSwKCQkJCQl0YW9iYW86IDEsCgkJCQkJdG1hbGw6IDEsCgkJCQkJYWxzb19idXk6IDEsCgkJCQkJcHJvbW90aW9uOiAxLAoJCQkJCWIyY19mdXp6eTogMQoJCQkJfSwKCQkJCXBhZ2VfdG90YWw6IHsKCQkJCQliMmM6IDEsCgkJCQkJdGFvYmFvOiAxLAoJCQkJCXRtYWxsOiAxLAoJCQkJCWFsc29fYnV5OiAxLAoJCQkJCXByb21vdGlvbjogMSwKCQkJCQliMmNfZnV6enk6IDEKCQkJCX0sCgkJCQl0b3RhbF9udW06IHsKCQkJCQliMmM6IDYsCgkJCQkJdGFvYmFvOiA2LAoJCQkJCXRtYWxsOiA2LAoJCQkJCWFsc29fYnV5OiA2LAoJCQkJCXByb21vdGlvbjogNiwKCQkJCQliMmNfZnV6enk6IDYKCQkJCX0sCgkJCQltb2R1bGVfbmFtZTogWyJiMmMiLCAidGFvYmFvIiwgInRtYWxsIiwgImFsc29fYnV5IiwgInByb21vdGlvbiIsICJiMmNfZnV6enkiXSwKCQkJCWRwSXNCb29rOiAhMSwKCQkJCWhpZGRlbkZhdm9yQnV0dG9uOiAhMSwKCQkJCXNhdmVfdGJyZXNfZGF0YTogbnVsbCwKCQkJCXNhdmVfcHJvbW9fbGVuOiAwLAoJCQkJc2F2ZV9wcmljZV90cmVuZF9kYXRhOiBudWxsLAoJCQkJc2F2ZV9wcm9tb19kYXRhOiBudWxsLAoJCQkJdG9wUmVzaXplVGltZXI6IG51bGwsCgkJCQlib3R0b21SZXNpemVUaW1lcjogbnVsbAoJCQl9KQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgdCA9ICJodHRwczoiID09PSBsb2NhdGlvbi5wcm90b2NvbCA/ICJodHRwczoiIDogImh0dHA6IjsKCQkJaWYgKGUuZXh0ZW5kKHsKCQkJCXNlcnZlcjogImh0dHBzOi8vYnJvd3Nlci5nd2RhbmcuY29tIiwKCQkJCWNfc2VydmVyOiAiaHR0cHM6Ly93d3cuZ3dkYW5nLmNvbSIsCgkJCQlzX3NlcnZlcjogdCArICIvL2Nkbi5nd2RhbmcuY29tIiwKCQkJCXZfc2VydmVyOiAiaHR0cDovL3YuZ3dkYW5nLmNvbSIsCgkJCQl1X3NlcnZlcjogImh0dHA6Ly91Lmd3ZGFuZy5jb20iLAoJCQkJdV9ob3VzZTogdCArICIvL3d3dy5sdWZhbmdqaWEuY29tIiwKCQkJCXRqX3NlcnZlcjogdCArICIvL3YuZ3dkYW5nLmNvbSIsCgkJCQlpbWdfc2VydmVyOiAiaHR0cDovL2Y2N2RmZTdlZTdlNjMuY2RuLnNvaHVjcy5jb20iLAoJCQkJaW1nNjRfc2VydmVyOiAiaHR0cDovLzY0NTU2OGI3MWQ2YjYuY2RuLnNvaHVjcy5jb20iLAoJCQkJcHJvZHVjdF9rZXl3b3JkOiB0ICsgIi8va2V5d29yZC5nd2RhbmcuY29tIiwKCQkJCXRvTW9iaWxlVXJsOiB0ICsgIi8vbS5nd2RhbmcuY29tIiwKCQkJCXVfa2V5OiAiZ3dkYW5nIiwKCQkJCWR2YWw6ICIjdGJzYi1ub3RpZmllcnMiLAoJCQkJbWJhcjogImd3ZGFuZy1tYWluIiwKCQkJCXdpc2hkb206ICJiamRfcGx0X2JnIiwKCQkJCXdpc2hkb20yOiAiZ3dkX3dpc2hsaXN0X2RpdiIsCgkJCQlwX2s6ICJwaW5nbHVudHVhbjEyMzQ1IiwKCQkJCWRvbWFpbjogImJyb3dzZXIiCgkJCX0pLCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJ0bWFsbCIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCIxNjg4IikgPiAtMSkgewoJCQkJZm9yICh2YXIgbiA9ICJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsIGkgPSAiIyIsIGEgPSAwOyA4ID4gYTsgYSsrKSBpICs9IG5bcGFyc2VJbnQoMjYgKiBNYXRoLnJhbmRvbSgpKV07CgkJCQllLmR2YWwgPSBpLCBlLndpc2hkb20gPSBpLnJlcGxhY2UoIiMiLCAiIikgKyAiX2JnIjsKCQkJCXZhciBvID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLAoJCQkJCXIgPSAvd2Via2l0L2kudGVzdChvKSAmJiAhKC9jaHJvbWUvaS50ZXN0KG8pICYmIC93ZWJraXQvaS50ZXN0KG8pICYmIC9tb3ppbGxhL2kudGVzdChvKSk7CgkJCQkoby5pbmRleE9mKCJtYXh0aG9uIikgPiAtMSB8fCBvLmluZGV4T2YoIjIzNDVleHBsb3JlciIpID4gLTEgfHwgcikgJiYgKGUud2lzaGRvbTIgPSAibWF4X2d3ZF93aXNobGlzdF9kaXYiLCBlLm1iYXIgPSAibWF4X2d3ZGFuZy1tYWluIikKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSwgbyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLAoJCQkJciA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQllLmV4cG9ydHMuaXNBdmFpbGFibGVQYWdlID0gZnVuY3Rpb24oKSB7CgkJCQlmb3IgKHZhciBlIGluIGMpCgkJCQkJaWYgKHIubWF0Y2gobmV3IFJlZ0V4cChlLCAiaSIpKSkgcmV0dXJuIGNbZV07CgkJCQlyZXR1cm4gITEKCQkJfSwgZS5leHBvcnRzLmlzUHJvZHVjdFBhZ2UgPSBmdW5jdGlvbihlKSB7CgkJCQllID0gZSB8fCBvOwoJCQkJZm9yICh2YXIgdCBpbiBkKQoJCQkJCWlmIChlLm1hdGNoKG5ldyBSZWdFeHAodCwgImkiKSkpIHJldHVybiBkW3RdOwoJCQkJcmV0dXJuICExCgkJCX07CgkJCXZhciBzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIG47CgkJCQlzd2l0Y2ggKGUpIHsKCQkJCQlkZWZhdWx0OiB0KCIjY29udGVudCBoMiIpLnRleHQoKS5pbmRleE9mKCLmgqjmn6XnnIvnmoTllYblk4Hmib7kuI3liLDkuoYiKSA+IC0xICYmIChuID0gITApCgkJCQl9CgkJCQlyZXR1cm4gbgoJCQl9OwoJCQllLmV4cG9ydHMuaXNJbkJhbkxpc3QgPSBmdW5jdGlvbigpIHsKCQkJCWlmICghaS5pZnJhbWUpIHsKCQkJCQl2YXIgZSA9IG8ubWF0Y2goL1smXD9dbm9fdXJsLyk7CgkJCQkJaWYgKCFlICYmIChzZWxmLmxvY2F0aW9uICE9IHRvcC5sb2NhdGlvbiB8fCBzZWxmLmZyYW1lRWxlbWVudCAmJiAiSUZSQU1FIiA9PSBzZWxmLmZyYW1lRWxlbWVudC50YWdOYW1lIHx8IHdpbmRvdy50b3AgIT0gd2luZG93LnNlbGYpKSByZXR1cm4gITAKCQkJCX0KCQkJCXZhciB0ID0gbzsKCQkJCXJldHVybiBsb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSA+IDAgJiYgKHQgPSBvLnN1YnN0cigwLCBvLmluZGV4T2YoIj8iKSkpLCB0Lm1hdGNoKC9cLmthbHVsaS5jb20vKSA/ICExIDogbnVsbCAhPSB0Lm1hdGNoKC8oPzpjYXJ0cmlkZ2V8Q2FtY29yZGVyfGNhcnRlcnN8ZmVpZmVpXC5jb21cL29yZGVyXC8pLykgPyAhMSA6IGxvY2F0aW9uLmhvc3QuaW5kZXhPZihpLmV4dE5hbWUgKyAiLmNvbSIpID4gLTEgPyAhMCA6IHQubWF0Y2goL2RldGFpbFwuem9sXC5jb21cLmNuLykgPyAhMSA6IG51bGwgIT0gdC5tYXRjaCgvKD86Y2FydHxtZW1iZXJ8b3JkZXJ8bXlob21lfHBpY3R1cmVfaW5kZXh8aGFuZGxlLWJ1eS1ib3h8Y2hhdHx0LnNpbmEuY29tLmNufGRpc2N1c3Npb258dW5pb24uZGFuZ2Rhbmd8ZXZlLjM2MGJ1eXxiYW5rLnZtYWxsfGNoZWNrb3V0fGNvbmZpcm18Z2F0ZXdheXx0cmFkZXxodHRwOlwvXC9pLnRhb2Jhby5jb218d2UudGFvYmFvLmNvbXxwYXNzcG9ydC55b3Vnb3UuY29tKS9naSkgPyAhMCA6ICExCgkJCX07CgkJCXZhciBsID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKGEpIHJldHVybiBhOwoJCQkJCXZhciB0ID0gIiI7CgkJCQkJcmV0dXJuIGUuZXhwb3J0cy5pc0luQmFuTGlzdCgpID8gYSA9IHsKCQkJCQkJdHlwZTogMCwKCQkJCQkJc2l0ZU5hbWU6IHQKCQkJCQl9IDogKHQgPSBlLmV4cG9ydHMuaXNQcm9kdWN0UGFnZSgpKSA/ICgic3RyaW5nIiAhPSB0eXBlb2YgdCAmJiAoaS5oaWRlYmFyID0gdC5oaWRlYmFyLCB0ID0gdC5uYW1lKSwgaS5zaXRlID0gdCwgYSA9IHModCkgPyB7CgkJCQkJCXR5cGU6IDAsCgkJCQkJCXNpdGVOYW1lOiB0CgkJCQkJfSA6IHsKCQkJCQkJdHlwZTogMiwKCQkJCQkJc2l0ZU5hbWU6IHQKCQkJCQl9KSA6ICh0ID0gZS5leHBvcnRzLmlzQXZhaWxhYmxlUGFnZSgpLCB0ID8gKCJzdHJpbmciICE9IHR5cGVvZiB0ICYmIChpLmhpZGViYXIgPSB0LmhpZGViYXIsIHQgPSB0Lm5hbWUpLCBpLnNpdGUgPSB0LCBhID0gewoJCQkJCQl0eXBlOiAxLAoJCQkJCQlzaXRlTmFtZTogdAoJCQkJCX0pIDogYSA9IHsKCQkJCQkJdHlwZTogMCwKCQkJCQkJc2l0ZU5hbWU6ICIiCgkJCQkJfSkKCQkJCX0sCgkJCQljID0gewoJCQkJCSJ3d3dcXC5ranRcXC5jb20iOiAia2p0IiwKCQkJCQkid3d3XFwubGlmZXZjLmNvbSI6ICJsaWZldmMiLAoJCQkJCSJ3d3dcXC5jb29jYWFcXC5jb20iOiAiY29vY2FhIiwKCQkJCQkiKD86d3d3fHNob3ApXFwubnViaWFcXC4oPzpjbnxjb20pIjogIm51YmlhIiwKCQkJCQkid3d3XFwua3pqMzY1XFwuY29tIjogImt6ajM2NSIsCgkJCQkJInd3d1xcLmthb2xhXFwuY29tIjogImthb2xhIiwKCQkJCQkid3d3XFwueW1hdG91XFwuY29tIjogInltYXRvdSIsCgkJCQkJInd3d1xcLm1ldGFvXFwuY29tIjogIm1ldGFvIiwKCQkJCQkic2hvcFxcLnBoaWxpcHNcXC5jb21cXC5jbiI6ICJwaGlsaXBzIiwKCQkJCQkid3d3XFwudGNsXFwuY29tIjogInRjbCIsCgkJCQkJInd3d1xcLmUtY2hhbmdob25nXFwuY29tIjogImNoYW5naG9uZyIsCgkJCQkJInNob3BcXC5rb25rYVxcLmNvbSI6ICJrb25rYSIsCgkJCQkJInNob3BcXC5oaXNlbnNlXFwuY29tIjogImhpc2Vuc2UiLAoJCQkJCSJ3d3dcXC5pbmVpZ29cXC5jb20iOiAiaW5laWdvIiwKCQkJCQkid3d3XFwuc2tnXFwuY29tIjogInNrZyIsCgkJCQkJInd3d1xcLmstdG91Y2hcXC5jbiI6ICJrLXRvdWNoIiwKCQkJCQkiKD86d3d3fHNob3ApXFwuZ2lvbmVlXFwuY29tIjogImdpb25lZSIsCgkJCQkJIig/Ond3d3xzdG9yZSlcXC5vcHBvXFwuY29tIjogIm9wcG8iLAoJCQkJCSJnZml2ZVxcLmIyY1xcLmVxaW1pbmd4aW5nXFwuY29tIjogImdmaXZlIiwKCQkJCQkic2hvcFxcLnZpdm9cXC5jb21cXC5jbiI6ICJ2aXZvIiwKCQkJCQkid3d3XFwuZ3JhaW5nZXJcXC5jbiI6ICJncmFpbmdlciIsCgkJCQkJIig/Om1hbGx8cGlhbylcXC4xNjNcXC5jb20iOiAid3kxNjMiLAoJCQkJCSJ0XFwuZGlhbnBpbmdcXC5jb20iOiAiZGlhbnBpbmciLAoJCQkJCSJcXC5udW9taVxcLmNvbSI6ICJudW9taSIsCgkJCQkJIlxcLm1laXR1YW5cXC5jb20iOiAibWVpdHVhbiIsCgkJCQkJInd3d1xcLmViYXlcXC5jb20iOiAiZWJheSIsCgkJCQkJInlhb1xcLjk1MDk1XFwuY29tIjogewoJCQkJCQluYW1lOiAidGFvYmFvIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC5mZWluaXVcXC5jb20iOiAiZmVpbml1IiwKCQkJCQkiaXRlbVxcLmZlaW5pdVxcLmNvbSI6ICJmZWluaXUiLAoJCQkJCSJcXC5mZWlmZWlcXC4oPzpjbnxjb20pIjogImZlaWZlaSIsCgkJCQkJIlxcLmd1YW5nXFwuY29tIjogImd1YW5nIiwKCQkJCQkiXFwubWVpbGlzaHVvXFwuY29tIjogIm1laWxpc2h1byIsCgkJCQkJIlxcLm1vZ3VqaWVcXC5jb20iOiAibW9ndWppZSIsCgkJCQkJInNob3BcXC5jb29scGFkXFwuY24iOiAiY29vbHBhZCIsCgkJCQkJIlxcLnNlcGhvcmFcXC5jbiI6ICJzZXBob3JhY3BzIiwKCQkJCQkiY25cXGQqXFwuc3RyYXdiZXJyeW5ldFxcLmNvbSI6ICJzdHJhd2JlcnJ5bmV0IiwKCQkJCQkiXFwueWVzbXl3aW5lXFwuY29tIjogInllc215d2luZSIsCgkJCQkJIihcXC4pP3lpZ3VvXFwuY29tIjogInlpZ3VvIiwKCQkJCQkiXFwud2FuZ2dvdVxcLmNvbSI6ICJ3YW5nZ291IiwKCQkJCQkibWFsbFxcLmppYVxcLmNvbSI6ICJqaWEiLAoJCQkJCSJ3ZWlnb3VcXC5iYWlkdVxcLmNvbSI6ICJiYWlkdS13ZWlnb3UiLAoJCQkJCSJcXC4oeGlhbyk/bWlcXC5jb20iOiAieGlhb21pIiwKCQkJCQkic2hvcFxcLmxldHZcXC5jb20iOiAibGVtYWxsIiwKCQkJCQkiXFwuaGFuZHVcXC5jb20iOiAiaGFuZHUiLAoJCQkJCSIoPzp3d3dcXC58Xil0YW9zaHVcXC5jb20iOiAidGFvc2h1IiwKCQkJCQkiXFwub3VrdVxcLmNvbSI6ICJvdWt1IiwKCQkJCQkiXFwuajFcXC5jb20iOiAiajEiLAoJCQkJCSJcXC56bTdcXC5jbiI6ICJ6bTciLAoJCQkJCSJcXC4xNjg4XFwuY29tIjogewoJCQkJCQluYW1lOiAiMTY4OCIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkiXFwueWl3dWdvdVxcLmNvbSI6ICJ5aXd1Z291IiwKCQkJCQkiXFwuemhpd29cXC5jb20iOiAiemhpd28iLAoJCQkJCSJcXC5tdXlpbmd6aGlqaWFcXC5jb20iOiAibXV5aW5nemhpamlhIiwKCQkJCQkiXFwudm1hbGxcXC5jb20iOiAidm1hbGwiLAoJCQkJCSJcXC5kaWRhbWFsbFxcLmNvbSI6ICJkaWRhbWFsbCIsCgkJCQkJIlxcLnhpamkuY29tIjogInhpamkiLAoJCQkJCSJcXC54aWppZS5jb20iOiAieGlqaWUiLAoJCQkJCSJcXC5taXFpXFwuY24iOiAibWlxaSIsCgkJCQkJIlxcLnpvbFxcLmNvbSg/OiR8L3xcXD8pIjogInpvbCIsCgkJCQkJInpvbFxcLmNvbVxcLmNuIjogInpvbCIsCgkJCQkJIlxcLmNhbWVsXFwuY29tXFwuY24iOiAiY2FtZWwiLAoJCQkJCSJjYW1lbC5jb20uY24iOiAiY2FtZWwiLAoJCQkJCSIoXFwuKT9ob21ldnZcXC5jb20iOiAiaG9tZXZ2IiwKCQkJCQkiXFwucGFpeGllXFwubmV0IjogInBhaXhpZSIsCgkJCQkJIlxcLnRhbzNjXFwuY29tIjogInRhbzNjIiwKCQkJCQkiXFwuYW1hem9uXFwuKD86Y258Y29tKSI6ICJhbWF6b24iLAoJCQkJCSJcXC5kYW5nZGFuZ1xcLmNvbSI6ICJkYW5nZGFuZyIsCgkJCQkJInM4XFwudGFvYmFvXFwuY29tIjogInM4IiwKCQkJCQkidGFvYmFvXFwuKD86Y29tfGhrKSI6IHsKCQkJCQkJbmFtZTogInRhb2JhbyIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkiXFwuKD86MzYwYnV5fGpkKVxcLmNvbSI6ICIzNjBidXkiLAoJCQkJCSJcXC4oPzozNjBidXl8amQpXFwuaGsiOiAiMzYwYnV5IiwKCQkJCQkiXFwueWl5YW9qZC5jb20iOiAiMzYwYnV5IiwKCQkJCQkiXFwubmV3ZWdnKFxcLmNvbSk/XFwuY24iOiAibmV3ZWdnIiwKCQkJCQkiXFwucmVkYmFieVxcLmNvbVxcLmNuIjogInJlZGJhYnkiLAoJCQkJCSJcXC41MWJ1eVxcLmNvbSI6ICI1MWJ1eSIsCgkJCQkJIlxcLnlpeHVuXFwuY29tIjogIjUxYnV5IiwKCQkJCQkiXFwub2tidXlcXC5jb20iOiAib2tidXkiLAoJCQkJCSJcXC5zdW5pbmdcXC5jb20iOiAic3VuaW5nIiwKCQkJCQkiXFwuY29vOFxcLmNvbSI6ICJjb284IiwKCQkJCQkiXFwubHVzZW5cXC5jb20iOiAibHVzZW4iLAoJCQkJCSJcXC5nb21lXFwuY29tXFwuY24iOiAiZ29tZSIsCgkJCQkJIlxcLmdvbWVob21lXFwuY29tIjogImdvbWUiLAoJCQkJCSJcXC5nb21laGlnb1xcLmhrIjogImdvbWVoaWdvIiwKCQkJCQkiXFwueWhkXFwuY29tIjogInlpaGFvZGlhbiIsCgkJCQkJIlxcLnlpaGFvZGlhblxcLmNvbSI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJcXC4xbWFsbFxcLmNvbSI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJcXC53b21haVxcLmNvbSI6ICJ3b21haSIsCgkJCQkJIlxcLmxleW91XFwuY29tXFwuY24iOiAibGV5b3UiLAoJCQkJCSJcXC5zaG9waW5cXC5uZXQiOiAic2hvcGluIiwKCQkJCQkiXFwubm81XFwuY29tXFwuY24iOiAibm81IiwKCQkJCQkiXFwueGl1XFwuY29tIjogInhpdSIsCgkJCQkJIlxcLm1iYW9iYW9cXC5jb20iOiAibWJhb2JhbyIsCgkJCQkJIlxcLjM2MGt4clxcLmNvbSI6ICIzNjBreHIiLAoJCQkJCSJcXC5tNmdvXFwuY29tIjogIm02Z28iLAoJCQkJCSJcXC5nb3VcXC5jb20iOiAibTZnbyIsCgkJCQkJIlxcLjk5cmVhZFxcLmNvbSI6ICI5OXJlYWQiLAoJCQkJCSJcXC5jaGluYS1wdWJcXC5jb20iOiAiY2hpbmEtcHViIiwKCQkJCQkiXFwuYm9va3NjaGluYVxcLmNvbSI6ICJib29rc2NoaW5hIiwKCQkJCQkiXFwuZWZlaWh1XFwuY29tIjogImVmZWlodSIsCgkJCQkJIlxcLnlpbnRhaVxcLmNvbSI6ICJ5aW50YWkiLAoJCQkJCSJcXC5xdXdhblxcLmNvbSI6ICJxdXdhbiIsCgkJCQkJIlxcLmsxMjFcXC5jb20iOiAiazEyMSIsCgkJCQkJIlxcLmhhcHBpZ29cXC5jb20iOiAiaGFwcGlnbyIsCgkJCQkJIlxcLmdhcFxcLmNuIjogImdhcCIsCgkJCQkJIlxcLmJpbmdnb1xcLmNvbS8iOiAiYmluZ2dvIiwKCQkJCQkiXFwueW91Z291XFwuY29tIjogInlvdWdvdSIsCgkJCQkJIlxcLmp4ZHlmXFwuY29tIjogImp4ZHlmIiwKCQkJCQkiXFwud2lueHVhblxcLmNvbSI6ICJ3aW54dWFuIiwKCQkJCQkiXFwuYm9va3V1XFwuY29tIjogImJvb2t1dSIsCgkJCQkJIlxcLmppdXhpYW5cXC5jb20iOiAiaml1eGlhbiIsCgkJCQkJIlxcLnZhbmNsXFwuY29tIjogInZhbmNsIiwKCQkJCQkiXFwuMTExXFwuY29tXFwuY24iOiAiMTExIiwKCQkJCQkiXFwuc2ZiZXN0XFwuKD86aGt8Y29tKSI6ICJzZmJlc3QiLAoJCQkJCSJcXC52aXAoc2hvcCk/XFwuY29tIjogInZpcHNob3AiLAoJCQkJCSJcXC5qdW1laVxcLmNvbSI6ICJqdW1laSIsCgkJCQkJImp1bWVpZ2xvYmFsXFwuY29tIjogImp1bWVpZ2xvYmFsIiwKCQkJCQkiXFwubGVmZW5nXFwuY29tIjogImxlZmVuZyIsCgkJCQkJInd3d1xcLmJlbmxhaVxcLmNvbSI6ICJiZW5sYWkiLAoJCQkJCSIoPzpcXC58XilsZXRhb1xcLmNvbSI6ICJsZXRhbyIsCgkJCQkJIlxcLjEzOXNob3BcXC5jb20iOiAiMTM5c2hvcCIsCgkJCQkJIig/OlxcLnxeKXp6bDM2NVxcLmNvbSI6ICJ6emwzNjUiLAoJCQkJCSJcXC50aWFudGlhblxcLmNvbSI6ICJ0aWFudGlhbiIsCgkJCQkJIlxcLnRhb3hpZVxcLmNvbSI6ICJ0YW94aWUiLAoJCQkJCSJcXC5nandcXC5jb20iOiAiZ2p3IiwKCQkJCQkid3d3XFwuZDFcXC5jb21cXC5jbiI6ICJkMSIsCgkJCQkJIlxcLmlodXNoXFwuY29tIjogImlodXNoIiwKCQkJCQkid3d3XFwuc1xcLmNuIjogInMiLAoJCQkJCSJcXC4oPzptb29uYmFzYXxrb3Jpcmx8cnV0aXNoZXJ8c3VvcmFuZ3xhbGF2ZXN8aW5nMmluZ3wwLTEwMHN8cWpoZXJifG1vbnRlYW1vcilcXC5jb20iOiAibW9vbmJhc2EiLAoJCQkJCSJcXC53YW5naml1XFwuY29tIjogIndhbmdqaXUiLAoJCQkJCSJcXC5saWVib1xcLmNvbSI6ICJsaWVibyIsCgkJCQkJIlxcLmVzcHJpdFxcLmNuIjogImVzcHJpdCIsCgkJCQkJIig/OlxcLnxeKWxhbWl1XFwuY29tIjogImxhbWl1IiwKCQkJCQkiXFwuYWltZXJcXC5jb21cXC5jbiI6ICJhaW1lciIsCgkJCQkJInd3d1xcLmthZGFuZ1xcLmNvbSI6ICJrYWRhbmciLAoJCQkJCSJ3d3dcXC5saXppXFwuY29tIjogImxpemkiLAoJCQkJCSJ3d3dcXC5tZXRyb21hbGxcXC5jbiI6ICJtZXRyb21hbGwiLAoJCQkJCSJ3d3dcXC5wYmFcXC5jbiI6ICJwYmEiLAoJCQkJCSJcXC5zaGFuZ3BpblxcLmNvbSI6ICJzaGFuZ3BpbiIsCgkJCQkJIlxcLndiaWFvXFwuY24iOiAid2JpYW8iLAoJCQkJCSJcXC5oYW5kdXlpc2hlXFwuY29tIjogImhhbmR1eWlzaGUiLAoJCQkJCSJcXC5laGFpZXJcXC5jb20iOiAiZWhhaWVyIiwKCQkJCQkiXFwuc2Vjb29cXC5jb20iOiAic2Vjb28iLAoJCQkJCSIoPzp2aXZpYW58bGlua21hc2F8bWFzYW1hc28pXFwuKD86Y29tfGNuKSI6ICJtYXNhbWFzbyIsCgkJCQkJInd3d1xcLm5hcnVrb1xcLmNuIjogIm5hcnVrdSIsCgkJCQkJInd3d1xcLnNwb3J0aWNhXFwuY24iOiAic3BvcnRpY2EiLAoJCQkJCSIoPzpcXC58Xil4aWZ1cXVhblxcLmNvbSI6ICJ4aWZ1cXVhbiIsCgkJCQkJInd3d1xcLm1pbGllclxcLmNvbSI6ICJtaWxpZXIiLAoJCQkJCSJ3d3dcXC5ub3BcXC5jbiI6ICJub3AiLAoJCQkJCSJcXC5sZW5vdm9cXC5jb20iOiAibGVub3ZvIiwKCQkJCQkic2hvcFxcLmxlbm92b1xcLmNvbVxcLmNuIjogImxlbm92byIsCgkJCQkJInNob3BcXC5sZW5vdm9tb2JpbGVcXC5jb20iOiAibGVub3ZvIiwKCQkJCQkiXFwuMTg5XFwuY24iOiAiMTg5IiwKCQkJCQkiXFwuaGljZG1hXFwuY29tIjogImhpY2RtYSIsCgkJCQkJIlxcLmUxMDBcXC5jbiI6ICJlMTAwIiwKCQkJCQkic3RvcmVcXC5zYW1zdW5nXFwuY29tIjogInNhbXN1bmciLAoJCQkJCSJ3d3cuYXBwbGVcXC5jb20iOiAiYXBwbGUiLAoJCQkJCSJzdG9yZS5hcHBsZVxcLmNvbSI6ICJhcHBsZSIsCgkJCQkJIlxcLm1laXp1XFwuY29tIjogIm1laXp1IiwKCQkJCQkiXFwuOTU4c2hvcFxcLmNvbSI6ICI5NThzaG9wIiwKCQkJCQkiXFwub2tocWJcXC5jb20iOiAib2tocWIiLAoJCQkJCSJcXC56dGVkZXZpY2VcXC5jb21cXC5jbiI6ICJ6dGVkZXZpY2UiLAoJCQkJCSJcXC5rdWFpc2h1YmFvXFwuY29tIjogImt1YWlzaHViYW8iLAoJCQkJCSJcXC5sdnlvdW1hbGxcXC5jb20iOiAibHZ5b3VtYWxsIiwKCQkJCQkiKD86d3d3XFwufF4peFxcLmNvbVxcLmNuIjogIngiLAoJCQkJCSJcXC5saW5nc2hpXFwuY29tIjogImxpbmdzaGkiLAoJCQkJCSJ3d3dcXC5jdHJpcFxcLmNvbSI6ICJjdHJpcCIsCgkJCQkJIlxcLnp1aXBpblxcLmNuIjogInp1aXBpbiIsCgkJCQkJInd3d1xcLnhnYmFieVxcLmNvbSI6ICJiYnJlYWR5IiwKCQkJCQkiXFwueW9ob2J1eVxcLmNvbSI6ICJ5b2hvYnV5IiwKCQkJCQkiXFwubHZtYW1hXFwuY29tIjogImx2bWFtYSIsCgkJCQkJIig/OlxcLnxeKXFtYW5nb1xcLmNvbSI6ICJxbWFuZ28iLAoJCQkJCSJ3d3dcXC4yMjhjYWlcXC5jb20iOiAiMjI4Y2FpIiwKCQkJCQkiXFwuaWtqdGFvXFwuY29tIjogImlranRhbyIsCgkJCQkJInd3d1xcLmJlc3RrZWVwXFwuY24iOiAiaWtqdGFvIiwKCQkJCQkiXFwuYmFndHJlZVxcLmNuIjogImJhZ3RyZWUiLAoJCQkJCSJ5aWNoZW5ncGluXFwuY29tIjogInlpY2hlbmdwaW4iLAoJCQkJCSJ6Z3pjd1xcLmNvbSI6IHsKCQkJCQkJbmFtZTogInpnemN3IiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJ3d3dcXC5taWFcXC5jb20iOiAibWl5YWJhb2JlaSIsCgkJCQkJIlxcLm1peWFiYW9iZWkuaGsiOiAibWl5YWJhb2JlaSIsCgkJCQkJIlxcLnVsZVxcLmNvbSI6ICJ1bGUiLAoJCQkJCSJtaW5zaGVuZ2VjXFwuY29tIjogIm1pbnNoZW5nZWMiLAoJCQkJCSJ3YW5nZnVqaW5nXFwuY29tIjogIndhbmdmdWppbmciLAoJCQkJCSJcXC5xdW5hclxcLmNvbSI6ICJxdW5hciIsCgkJCQkJIlxcLm1laWxlbGVcXC5jb20iOiAibWVpbGVsZSIsCgkJCQkJInd3d1xcLjU1dHVhblxcLmNvbSI6ICI1NXR1YW4iLAoJCQkJCSJqaW5qaWFuZ2lubnNcXC5jb20iOiAiamluamlhbmdpbm5zIiwKCQkJCQkiXFwuZWxvbmdcXC5jb20iOiAiZWxvbmciLAoJCQkJCSJwb2Rpbm5zXFwuY29tIjogInBvZGlubnMiLAoJCQkJCSJtYW5nb2NpdHlcXC5jb20iOiAibWFuZ29jaXR5IiwKCQkJCQkiXFwuNTAwXFwuY29tIjogIjUwMCIsCgkJCQkJInd3d1xcLmx5XFwuY29tIjogImx5IiwKCQkJCQkiZS1saW5pbmdcXC5jb20iOiAiZS1saW5pbmciLAoJCQkJCSJcXC5saW5pbmdcXC5jb20iOiAibGluaW5nIiwKCQkJCQkiXFwua29vbGVhcm5cXC5jb20iOiAia29vbGVhcm4iLAoJCQkJCSJcXC5zcHJpbmd0b3VyXFwuY29tIjogInNwcmluZ3RvdXIiLAoJCQkJCSJcXC5xaW5xaW5iYWJ5XFwuY29tIjogInFpbnFpbmJhYnkiLAoJCQkJCSJ3aW5lbmljZVxcLmNvbSI6ICJ3aW5lbmljZSIsCgkJCQkJIlxcLnNhc2FcXC5jb20iOiAic2FzYSIsCgkJCQkJIig/OlxcLnxeKTVsdXhcXC5jb20iOiAiNWx1eCIsCgkJCQkJIlxcLjIyOFxcLmNvbVxcLmNuIjogIjIyOCIsCgkJCQkJIlxcLnJyc1xcLmNvbSI6ICJycnMiLAoJCQkJCSJcXC5ycnNqay5jb20iOiAicnJzIiwKCQkJCQkiKD86XFwufF4pYnV5XFwuY2NiXFwuY29tIjogImNjYiIsCgkJCQkJIlxcLmJhbmdnb1xcLmNvbSI6ICJiYW5nZ28iLAoJCQkJCSJ3d3dcXC5hbWF6b25cXC5jb1xcLmpwIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmluIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmZyIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmRlIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLml0IjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvLnVrIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLm5sIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmVzIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNhIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLm14IjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLmJyIjogImFtYXpvbiIsCgkJCQkJInd3d1xcLmFtYXpvblxcLmNvbVxcLmF1IjogImFtYXpvbiIsCgkJCQkJInN0b3JlXFwubG9naXRlY2hcXC5jb21cXC5jbiI6ICJsb2dpdGVjaCIsCgkJCQkJIlxcLmJvb2hlZVxcLmNvbSI6ICJib29oZWUiLAoJCQkJCSJuaWtlXFwuY29tIjogIm5pa2UiLAoJCQkJCSJcXC5qaWFua2VcXC5jb20iOiAiamlhbmtlIiwKCQkJCQkiXFwuMzYwa2FkXFwuY29tIjogIjM2MGthZCIsCgkJCQkJIlxcLmxieGNuXFwuY29tIjogImxieGNuIiwKCQkJCQkiXFwubWVpY2lcXC5jb20iOiAibWVpY2kiLAoJCQkJCSJcXC5iZWliZWlcXC5jb20iOiAiYmVpYmVpIiwKCQkJCQkiXFwuYWxpZXhwcmVzcy5jb20iOiB7CgkJCQkJCW5hbWU6ICJhbGlleHByZXNzIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC42cG1cXC5jb20iOiAiNnB4IiwKCQkJCQkiXFwuZ25jXFwuY29tIjogImduYyIsCgkJCQkJIlxcLm15aGFiaXRcXC5jb20iOiAibXloYWJpdCIsCgkJCQkJIlxcLnNob3Bib3BcXC5jb20iOiAic2hvcGJvcCIsCgkJCQkJIlxcLmRydWdzdG9yZVxcLmNvbSI6ICJkcnVnc3RvcmUiLAoJCQkJCSJ3d3dcXC53YWxncmVlbnNcXC5jb20iOiAid2FsZ3JlZW5zIiwKCQkJCQkic2llcnJhdHJhZGluZ3Bvc3RcXC5jb20iOiAic2llcnJhdHJhZGluZ3Bvc3QiLAoJCQkJCSJcXC5uZXdlZ2dcXC5jb20iOiAibmV3ZWdnLXVzIiwKCQkJCQkiXFwuam9tYXNob3BcXC5jb20iOiAiam9tYXNob3AiLAoJCQkJCSJcXC5hc2hmb3JkXFwuY29tIjogImFzaGZvcmQiLAoJCQkJCSJsb29rZmFudGFzdGljXFwuY29tIjogImxvb2tmYW50YXN0aWMtY29tIiwKCQkJCQkiXFwucmVpXFwuY29tIjogInJlaSIsCgkJCQkJIlxcLmloZXJiXFwuY29tIjogImloZXJiIiwKCQkJCQkiXFwuY2FydGVyc1xcLmNvbSI6ICJjYXJ0ZXJzIiwKCQkJCQkid3d3XFwuZW5kY2xvdGhpbmdcXC5jb20iOiAiZW5kY2xvdGhpbmciLAoJCQkJCSJcXC5jYW1wc2F2ZXJcXC5jb20iOiAiY2FtcHNhdmVyIiwKCQkJCQkiZ2xvYmFsXFwucmFrdXRlblxcLmNvbSI6ICJyYWt1dGVuIiwKCQkJCQkiKD86XFwufF4pMTAweXVlXFwuY29tIjogIjEwMHl1ZSIsCgkJCQkJInd3d1xcLndvb3RcXC5jb20iOiAid29vdCIsCgkJCQkJInd3d1xcLmhhaXRhb2NoZW5nXFwuY29tIjogImhhaXRhb2NoZW5nIiwKCQkJCQkiam9lc25ld2JhbGFuY2VvdXRsZXRcXC5jb20iOiAiam9lc25ld2JhbGFuY2VvdXRsZXQiLAoJCQkJCSJcXC5maW5pc2hsaW5lXFwuY29tIjogImZpbmlzaGxpbmUiLAoJCQkJCSJcXC52aXRhY29zdFxcLmNvbSI6ICJ2aXRhY29zdCIsCgkJCQkJIlxcLmdyb3Vwb24uY29tIjogImdyb3Vwb24iLAoJCQkJCSJcXC5zdXB1bWFsbFxcLmNvbSI6ICJzdXB1bWFsbCIsCgkJCQkJInd3dzFcXC5tYWN5c1xcLmNvbSI6ICJtYWN5cyIsCgkJCQkJInd3d1xcLm1vb3NlamF3XFwuY29tIjogIm1vb3NlamF3IiwKCQkJCQkid3d3XFwubGVtYWxsXFwuY29tIjogImxlbWFsbCIsCgkJCQkJInd3d1xcLmppdW1laVxcLmNvbSI6ICJqaXVtZWkiLAoJCQkJCSIoPzpcXC58XiljaHVuc2h1aXRhbmdcXC5jb20iOiAiY2h1bnNodWl0YW5nIiwKCQkJCQkid3d3XFwuZGFsaW5nLmNvbSI6ICJkYWxpbmciLAoJCQkJCSJ3d3dcXC5veWVhaFxcLmNvbSI6ICJveWVhaCIsCgkJCQkJInd3d1xcLm1vcmVmb29kXFwuY29tIjogIm1vcmVmb29kIiwKCQkJCQkid3d3XFwueXVtbXk3N1xcLmNvbSI6ICJ5dW1teTc3IiwKCQkJCQkid3d3XFwuZnJ1aXRkYXlcXC5jb20iOiAiZnJ1aXRkYXkiLAoJCQkJCSJ3d3dcXC5naWx0XFwuY29tIjogImdpbHQiLAoJCQkJCSJ3d3dcXC5mZW5ncXVcXC5jb20iOiAiZmVuZ3F1IiwKCQkJCQkid3d3XFwubWVpXFwuY29tIjogIm1laSIsCgkJCQkJIlxcLnZzaWdvXFwuY24iOiAidnNpZ28iLAoJCQkJCSJ3d3dcXC5rZWVkZVxcLmNvbSI6ICJrZWVkZSIsCgkJCQkJInd3d1xcLmtlZGVcXC5jb20iOiAia2VlZGUiLAoJCQkJCSJ3d3dcXC5zaG93am95XFwuY29tIjogInNob3dqb3kiLAoJCQkJCSJcXC5vY2pcXC5jb21cXC5jbiI6ICJvY2oiLAoJCQkJCSJcXC5vY2pcXC5rciI6ICJvY2oiLAoJCQkJCSJcXC50bWFsbFxcLig/OmNvbXxoaykiOiB7CgkJCQkJCW5hbWU6ICJ0bWFsbCIsCgkJCQkJCWhpZGViYXI6ICEwCgkJCQkJfSwKCQkJCQkid3d3XFwuc3VuZGFuXFwuY29tIjogInN1bmRhbiIsCgkJCQkJInd3d1xcLmppYWVcXC5jb20iOiAiamlhZSIsCgkJCQkJIig/OlxcLnxeKXphemhpcHVcXC5jb20iOiAiemF6aGlwdSIsCgkJCQkJInd3d1xcLmVhc2VleWVzXFwuY29tIjogImVhc2VleWVzIiwKCQkJCQkibWljcm9zb2Z0c3RvcmVcXC5jb21cXC5jbiI6ICJtaWNyb3NvZnRzdG9yZSIsCgkJCQkJIig/OlxcLnxeKXhnZHFcXC5jb20iOiAieGdkcSIsCgkJCQkJIlxcLmJlc3RjYWtlXFwuY29tIjogImJlc3RjYWtlIiwKCQkJCQkiXFwubG92b1xcLmNuIjogImxvdm8iLAoJCQkJCSJ3d3dcXC5odWFcXC5jb20iOiAiaHVhIiwKCQkJCQkid3d3XFwueHRlcFxcLmNvbVxcLmNuIjogInh0ZXAiLAoJCQkJCSJ3d3dcXC5zdGFwbGVzXFwuY24iOiAic3RhcGxlcyIsCgkJCQkJIig/OlxcLnxeKWVmb3RpbGVcXC5jb20iOiAiZWZvdGlsZSIsCgkJCQkJInd3d1xcLnpoZTgwMFxcLmNvbSI6ICJ6aGU4MDAiLAoJCQkJCSJ3d3dcXC5haWRhaVxcLmNvbSI6ICJhaWRhaSIsCgkJCQkJInd3d1xcLmJmdHZcXC5jb20iOiAiYmZ0diIsCgkJCQkJIlxcLnR1amlhXFwuY29tIjogInR1amlhIiwKCQkJCQkiXFwuY29zbWVcXC5jb20iOiAiY29zbWUiLAoJCQkJCSJ3d3dcXC5kaWFwZXJzXFwuY29tIjogImRpYXBlcnMiLAoJCQkJCSJ3d3dcXC53aW5kZWxuXFwuZGUiOiAid2luZGVsbiIsCgkJCQkJInd3d1xcLmJhYnluZW9cXC5kZSI6ICJiYWJ5bmVvIiwKCQkJCQkid3d3XFwuZXNjZW50dWFsXFwuY29tIjogImVzY2VudHVhbCIsCgkJCQkJInd3d1xcLnRoZXdhdGNoZXJ5XFwuY29tIjogInRoZXdhdGNoZXJ5IiwKCQkJCQkiXFwuYmljY2FtZXJhLmNvbSI6ICJiaWNjYW1lcmEiLAoJCQkJCSJcXC50dWh1Lig/OmNufGNvbSkiOiAidHVodSIsCgkJCQkJImVzaG9wXFwuaHRjXFwuY29tIjogImh0YyIsCgkJCQkJInJvc2Vvbmx5XFwuY29tXFwuY24iOiAicm9zZW9ubHkiLAoJCQkJCSJcXC5yb25nMzYwLmNvbSI6ICJyb25nMzYwIiwKCQkJCQkiXFwubml3b2RhaS5jb20iOiAibml3b2RhaSIsCgkJCQkJInd3d1xcLmVzdGVlbGF1ZGVyLmNvbSI6ICJlc3RlZWxhdWRlciIsCgkJCQkJIlxcLnNha3NmaWZ0aGF2ZW51ZS5jb20iOiAic2Frc2ZpZnRoYXZlbnVlIiwKCQkJCQkiXFwudGFxdS5jbiI6ICJ0YXF1IiwKCQkJCQkiXFwucXllci5jb20iOiAicXllciIsCgkJCQkJIlxcLmF4bWFsbFxcLmNvbVxcLmF1IjogImF4bWFsbCIsCgkJCQkJIlxcLm11amkubmV0IjogIm11amkiLAoJCQkJCSIoPzpcXC58XilnbWFya2V0LmNvLmtyIjogImdtYXJrZXQiLAoJCQkJCSJlbmdsaXNoLjExc3QuY28ua3IiOiAiMTFzdCIsCgkJCQkJIlxcLnNtYXJ0YmFyZ2FpbnNcXC5jb20iOiAic21hcnRiYXJnYWlucyIsCgkJCQkJIlxcLnNob3BwaW5nXFwueWFob29cXC5jb1xcLmpwIjogInlhaG9vc2hvcCIsCgkJCQkJIlxcLmJsb29taW5nZGFsZXNcXC5jb20iOiAiYmxvb21pbmdkYWxlcyIsCgkJCQkJIlxcLm1pa2lob3VzZVxcLmpwIjogIm1pa2lob3VzZSIsCgkJCQkJIlxcLnRveXNydXNcXC5jb1xcLmpwIjogInRveXNydXMiLAoJCQkJCSJcXC5jb21mb3J0Zmlyc3RcXC5jb20iOiAiY29tZm9ydGZpcnN0IiwKCQkJCQkiXFwuZ3ltYm9yZWVcXC5jb20iOiAiZ3ltYm9yZWUiLAoJCQkJCSJcXC5hbGJlZWJhYnkuY29tIjogImFsYmVlYmFieSIsCgkJCQkJIlxcLmJhYnltYXJrdC5kZSI6ICJiYWJ5bWFya3QiLAoJCQkJCSJcXC51Z2dhdXN0cmFsaWEuY28udWsiOiAidWdnYXVzdHJhbGlhIiwKCQkJCQkid3d3XFwudWdnXFwuY29tIjogInVnZyIsCgkJCQkJIm5laW1hbm1hcmN1c1xcLmNvbSI6ICJuZWltYW5tYXJjdXMiLAoJCQkJCSJ3d3dcXC5zaG9lYnV5LmNvbSI6ICJzaG9lYnV5IiwKCQkJCQkid3d3XFwuc3p1bFxcLmNvbSI6ICJzenVsIiwKCQkJCQkid3d3XFwudGltZXguY29tIjogInRpbWV4IiwKCQkJCQkiXFwudGltZXguY29tIjogInRpbWV4IiwKCQkJCQkid3d3XFwua2F5LmNvbSI6ICJrYXkiLAoJCQkJCSJcXC5ld2F0Y2hlcy5jb20iOiAiZXdhdGNoZXMiLAoJCQkJCSJcXC5zd2Fyb3Zza2kuY29tIjogInN3YXJvdnNraSIsCgkJCQkJIlxcLndvcmxkb2Z3YXRjaGVzLmNvbSI6ICJ3b3JsZG9md2F0Y2hlcyIsCgkJCQkJInd3dy5kYW5pZWx3ZWxsaW5ndG9uLmNvbSI6ICJkYW5pZWx3ZWxsaW5ndG9uIiwKCQkJCQkiXFwuYmVhdXR5YmF5LmNvbSI6ICJiZWF1dHliYXkiLAoJCQkJCSJcXC5iZWF1dHkuY29tIjogImJlYXV0eSIsCgkJCQkJInd3dy5iZWF1dHliYXIuY29tIjogImJlYXV0eWJhciIsCgkJCQkJInNraW5zdG9yZS5jb20iOiAic2tpbnN0b3JlIiwKCQkJCQkid3d3LmxhbmVpZ2UuY29tIjogImxhbmVpZ2UiLAoJCQkJCSIoPzpcXC58Xilib3NlLmNvbSI6ICJib3NlIiwKCQkJCQkiKD86XFwufF4pYmVzdGJ1eS5jb20iOiAiYmVzdGJ1eSIsCgkJCQkJImJocGhvdG92aWRlby5jb20iOiAiYmhwaG90b3ZpZGVvIiwKCQkJCQkiKD86XFwufF4pc29ueS5qcCI6ICJzb255IiwKCQkJCQkiXFwuYmxcXC5jb20iOiAiYmwiLAoJCQkJCSIoPzpcXC58Xil5b3UuMTYzLmNvbSI6ICJ5b3UxNjMiLAoJCQkJCSIoPzpcXC58XilqaW5qaWFuZy5jb20iOiAiamluamlhbmciLAoJCQkJCSIoPzpcXC58XiliZXN0aW5mb29kcy5jb20iOiAiYmVzdGluZm9vZHMiLAoJCQkJCSIoPzpcXC58XilqaW54aWFuZy5jb20iOiAiamlueGlhbmciLAoJCQkJCSIoPzpcXC58XilndW9qaW1hbWkuY29tIjogImd1b2ppbWFtaSIsCgkJCQkJIig/OlxcLnxeKWJhaXlhbmd3YW5nLmNvbSI6ICJiYWl5YW5nd2FuZyIsCgkJCQkJIlxcLmFveW91LmNvbSI6ICJhb3lvdSIsCgkJCQkJIig/OlxcLnxeKXJveXlvdW5nY2hlbWlzdC5jb20uYXUiOiAicm95eW91bmdjaGVtaXN0IiwKCQkJCQkiKD86XFwufF4pbWVkaWhlYWxzaG9wLmNvbSI6ICJtZWRpaGVhbHNob3AiLAoJCQkJCSIoPzpcXC58XikxMDAxcGhhcm1hY2llcy5jb20iOiAiMTAwMXBoYXJtYWNpZXMiLAoJCQkJCSIoPzpcXC58Xilsb29rZmFudGFzdGljLmNuIjogImxvb2tmYW50YXN0aWMtY24iLAoJCQkJCSIoPzpcXC58XikxXFwuMTYzXFwuY29tIjogIjEtMTYzIiwKCQkJCQkid3d3XFwua2FpeGluYmFvLmNvbSI6ICJrYWl4aW5iYW8iLAoJCQkJCSIoPzpcXC58Xilib29raW5nLmNvbSI6ICJib29raW5nIiwKCQkJCQkiKD86XFwufF4panVhbnBpLmNvbSI6ICJqdWFucGkiLAoJCQkJCSIoPzpcXC58XilwaGFybWFjeW9ubGluZS5jb20iOiAicGhhcm1hY3lvbmxpbmUiLAoJCQkJCSIoPzpcXC58Xilib2R5Z3VhcmRhcG90aGVrZS5jb20iOiAiYm9keWd1YXJkYXBvdGhla2UiLAoJCQkJCSIoPzpcXC58XilwdXJjb3R0b24uY29tIjogInB1cmNvdHRvbiIsCgkJCQkJIig/OlxcLnxeKXdzdHguY29tIjogIndzdHgiLAoJCQkJCSJ3d3dcXC5taWRlYVxcLmNvbSI6ICJtaWRlYSIsCgkJCQkJIm1hbGxcXC5taWRlYVxcLmNvbSI6ICJtaWRlYSIsCgkJCQkJIlxcLmthbHVsaS5jb20iOiAia2FsdWxpIiwKCQkJCQkiKD86XFwufF4peXVuaG91XFwuY29tIjogInl1bmhvdSIsCgkJCQkJIig/OlxcLnxeKWhhaXR1bmN1blxcLmNvbSI6ICJoYWl0dW5jdW4iLAoJCQkJCSIoPzpcXC58Xil2bWVpXFwuY29tIjogInZtZWkiLAoJCQkJCSIoPzpcXC58XilqZ2JcXC5jbiI6ICJqZ2IiLAoJCQkJCSIoPzpcXC58Xik1MWRpblxcLmNvbSI6ICI1MWRpbiIsCgkJCQkJIig/OlxcLnxeKWJvcWlpXFwuY29tIjogImJvcWlpIiwKCQkJCQkiY24udG91cnNmb3JmdW5cXC5jb20iOiAidG91cnNmb3JmdW4iLAoJCQkJCSIoPzpcXC58XilsdWx1dHJpcFxcLmNvbSI6ICJsdWx1dHJpcCIsCgkJCQkJIig/OlxcLnxeKXNwaWRlclxcLmNvbVxcLmNuIjogInNwaWRlciIsCgkJCQkJIig/OlxcLnxeKXdhbG1hcnRcXC5jb20iOiAid2FsbWFydCIsCgkJCQkJIm1hbGwudG84dG8uY29tIjogInRvOHRvIiwKCQkJCQkid3d3Lm9wcG9zaG9wLmNuIjogIm9wcG9zaG9wIiwKCQkJCQkiYmFvYmVpZ2V6aS5jb20iOiAiYmFvYmVpZ2V6aSIsCgkJCQkJInd3dy55YW8xMjMuY29tIjogInlhbzEyMyIsCgkJCQkJInd3dy5tZW5nbHUuY29tIjogIm1lbmdsdSIsCgkJCQkJInd3dy5ndW9waS5jb20iOiAiZ3VvcGkiLAoJCQkJCSJ3d3cubGlrZWZhY2UuY29tIjogImxpa2VmYWNlIiwKCQkJCQkid3d3Lm1hbGx2di5jb20iOiAiaG9tZXZ2IiwKCQkJCQkid3d3Lm1hcmttYWxsLmNvbSI6ICJtYXJrbWFsbCIsCgkJCQkJInd3d1xcLmJhaWNoZW5nXFwuY29tIjogImJhaWNoZW5nIiwKCQkJCQkid3d3XFwuc3Vhbmp1emlcXC5jb20iOiAic3Vhbmp1emkiLAoJCQkJCSJcXC5qaW54aWFuZ1xcLmNvbSI6ICJqaW54aWFuZyIsCgkJCQkJIlxcLmFvbXlnb2RcXC5jb20iOiAiYW9teWdvZCIsCgkJCQkJIig/OlxcLnxeKWx1b2xhaVxcLmNuIjogImx1b2xhaSIsCgkJCQkJIlxcLnZpdm9cXC5jb21cXC5jbiI6ICJ2aXZvIiwKCQkJCQkiXFwuZGl4aW50b25nXFwuY29tIjogImRpeGludG9uZyIsCgkJCQkJIlxcLmNvb2xwYWRcXC5jb20iOiAiY29vbHBhZCIsCgkJCQkJIlxcLnNrZ1xcLmNvbSI6ICJza2ciLAoJCQkJCSJ2aXBcXC5pcWl5aVxcLmNvbSI6ICJpcWl5aSIsCgkJCQkJIlxcYW9sYWlnb1xcLmNvbSI6ICJhb2xhaWdvIiwKCQkJCQkidmlwXFwubWlzc2ZyZXNoXFwuY24iOiAibWlzc2ZyZXNoIiwKCQkJCQkiXFwucHVzaGVua3VhamluZ1xcLmNvbSI6ICJwdXNoZW5rdWFqaW5nIiwKCQkJCQkiY25cXC5mZWVsdW5pcXVlXFwuY29tIjogImZlZWx1bmlxdWUiLAoJCQkJCSJcXC5jaGVtaXN0ZGlyZWN0XFwuY29tXFwuYXUiOiAiY2hlbWlzdGRpcmVjdCIsCgkJCQkJIlxcLm5ldHBoYXJtYWN5XFwuY29cXC5ueiI6ICJuZXRwaGFybWFjeSIsCgkJCQkJIlxcLnBoYXJtYWN5NGxlc3NcXC5jb21cXC5hdSI6ICJwaGFybWFjeTRsZXNzIiwKCQkJCQkiXFwucGhhcm1hY3lkaXJlY3RcXC5jb1xcLm56IjogInBoYXJtYWN5ZGlyZWN0IiwKCQkJCQkiXFwuYW1jYWxcXC5jb21cXC5hdSI6ICJhbWNhbCIsCgkJCQkJIlxcLmxhcmVkb3V0ZVxcLmNuIjogImxhcmVkb3V0ZSIsCgkJCQkJImNuXFwudW5zZXJla2xlaW5lYXBvdGhla2VcXC5kZSI6ICJ1bnNlcmVrbGVpbmVhcG90aGVrZSIsCgkJCQkJIlxcLmVyd2lubXVlbGxlclxcLmNvbVxcLmNuIjogImVyd2lubXVlbGxlciIsCgkJCQkJIlxcLmtpd2lkaXNjb3ZlcnlcXC5jb1xcLm56IjogImtpd2lkaXNjb3ZlcnkiLAoJCQkJCSJcXC5zcHJpbmdsYW5lXFwuZGUiOiAic3ByaW5nbGFuZSIsCgkJCQkJIlxcLmpha28tb1xcLmNvbSI6ICJqYWtvLW8iLAoJCQkJCSJcXC5lYXN5dG95c1xcLmNuIjogImVhc3l0b3lzIiwKCQkJCQkiXFwudGxjcGhhcm1hY3lcXC5jblxcLmNvbSI6ICJ0bGNwaGFybWFjeSIsCgkJCQkJIlxcLmJpZW5tYW5nZXJcXC5jbiI6ICJiaWVubWFuZ2VyIiwKCQkJCQkiXFwuZGV3YXJlblxcLmNvbSI6ICJkZXdhcmVuIiwKCQkJCQkiXFwuZGlzY291bnQtYXBvdGhla2VcXC5kZSI6ICJkaXNjb3VudC1hcG90aGVrZSIsCgkJCQkJIlxcLmhvbGxhbmQtYXQtaG9tZVxcLmNvbSI6ICJob2xsYW5kLWF0LWhvbWUiLAoJCQkJCSJcXC55b3V5dVxcLmNvbSI6ICJ5b3V5dSIsCgkJCQkJIlxcLmtpd2lzdGFyY2FyZVxcLmNvbSI6ICJraXdpc3RhcmNhcmUiLAoJCQkJCSJcXC5sZW5vdm9tb2JpbGVcXC5jb20iOiAibGVub3ZvbW9iaWxlIiwKCQkJCQkiXFwuNTF0YW91a1xcLmNvbSI6ICI1MXRhb3VrIiwKCQkJCQkiXFwua2llaGxzXFwuY29tIjogImtpZWhscyIsCgkJCQkJIlxcLnphcHBvc1xcLmNvbSI6ICJ6YXBwb3MiLAoJCQkJCSJcXC5jb2FjaFxcLmNvbSI6ICJjb2FjaCIsCgkJCQkJIlxcLnlvb3hcXC5jbiI6ICJ5b294IiwKCQkJCQkiXFwuMTFzdHJlZXRcXC5jb21cXC5jbiI6ICIxMXN0cmVldCIsCgkJCQkJIlxcLmJhXFwuZGUiOiAiYmEiLAoJCQkJCSJ3d3dcXC5ocWhhaXJcXC5jb20iOiAiaHFoYWlyIiwKCQkJCQkid3d3XFwua2F0ZXNwYWRlXFwuY29cXC51ayI6ICJrYXRlc3BhZGUiLAoJCQkJCSJjblxcLnZpdGFmeVxcLmRlIjogInZpdGFmeSIsCgkJCQkJInd3d1xcLnlvb3hcXC5jbiI6ICJ5b294IiwKCQkJCQkiXFwubTE4XFwuY29tIjogIm0xOCIsCgkJCQkJImNvbWZvcnRmaXJzdFxcLmNvbSI6ICJjb21mb3J0Zmlyc3QiLAoJCQkJCSJjaGluYVxcLmxvdHRlXFwuY29tIjogImxvdHRlIiwKCQkJCQkiXFwuY2FycmVmb3VyXFwuY24iOiAiY2FycmVmb3VyIiwKCQkJCQkid3d3XFwudGVhN1xcLmNvbSI6ICJ0ZWE3IiwKCQkJCQkiXFwuemhvbmdqaXUuY24iOiAiemhvbmdqaXUiLAoJCQkJCSJcXC5wdXpleWZcXC5jb20iOiAicHV6ZXlmIiwKCQkJCQkid3d3XFwua29obHNcXC5jb20iOiAia29obHMiLAoJCQkJCSJ3d3dcXC5ib2R5YnVpbGRpbmdcXC5jb20iOiAiYm9keWJ1aWxkaW5nIiwKCQkJCQkiXFwubm9yZHN0cm9tXFwuY29tIjogIm5vcmRzdHJvbSIsCgkJCQkJInd3d1xcLmNvc3Rjb1xcLmNvbSI6ICJjb3N0Y28iLAoJCQkJCSJ3d3dcXC50YXJnZXRcXC5jb20iOiAidGFyZ2V0IiwKCQkJCQkid3d3XFwua21hcnRcXC5jb20iOiAia21hcnQiLAoJCQkJCSJ3d3dcXC5vdmVyc3RvY2tcXC5jb20iOiAib3ZlcnN0b2NrIiwKCQkJCQkid3d3XFwuc2VhcnNcXC5jb20iOiAic2VhcnMiLAoJCQkJCSJ3d3dcXC5zaG9wcm9iYW1cXC5jb20iOiAic2hvcHJvYmFtIiwKCQkJCQkibWFsbFxcLmdvdW1pblxcLmNvbSI6ICJnb3VtaW4iLAoJCQkJCSJ3d3dcXC5mbHljb1xcLmNvbSI6ICJmbHljbyIsCgkJCQkJInd3d1xcLm9wcGxlc3RvcmVcXC5jb20iOiAib3BwbGVzdG9yZSIsCgkJCQkJInd3d1xcLnN5c2hvcFxcLmNvbSI6ICJzeXNob3AiLAoJCQkJCSJ3d3dcXC55ZmR5ZlxcLmNvbSI6ICJ5ZmR5ZiIsCgkJCQkJInNzbFxcLmhvdGVsc1xcLmNuIjogImhvdGVscyIsCgkJCQkJImFpaHVpc2hvdVxcLmNvbSI6ICJhaWh1aXNob3UiLAoJCQkJCSJ3d3dcXC50aGViZWFzdHNob3BcXC5jb20iOiAidGhlYmVhc3RzaG9wIiwKCQkJCQkid3d3XFwuam9tb29zaG9wXFwuY29tIjogImpvbW9vc2hvcCIsCgkJCQkJInd3d1xcLnNlcHR3b2x2ZXNcXC5jbiI6ICJzZXB0d29sdmVzIiwKCQkJCQkiXFwubGlhbmppYVxcLmNvbSI6IHsKCQkJCQkJbmFtZTogImxpYW5qaWEiLAoJCQkJCQloaWRlYmFyOiAhMAoJCQkJCX0sCgkJCQkJIlxcLjVpNWpcXC5jb20iOiB7CgkJCQkJCW5hbWU6ICI1aTVqIiwKCQkJCQkJaGlkZWJhcjogITAKCQkJCQl9LAoJCQkJCSJcXC42XFwuY24iOiAiaG9tZTYiLAoJCQkJCSJ3d3dcXC44MDBwaGFybVxcLmNvbSI6ICI4MDBwaGFybSIsCgkJCQkJInd3d1xcLnVqaXBpblxcLmNvbSI6ICJ1amlwaW4iLAoJCQkJCSJwY1xcLm1tYlxcLmNuIjogIm1tYiIsCgkJCQkJInd3d1xcLmloYXZldVxcLmNvbSI6ICJpaGF2ZXUiLAoJCQkJCSJtYWxsXFwuaWthbmdcXC5jb20iOiAiaWthbmciLAoJCQkJCSJ3d3dcXC53eW44OFxcLmNvbSI6ICJ3eW44OCIsCgkJCQkJInd3d1xcLm1jYWtlXFwuY29tIjogIm1jYWtlIiwKCQkJCQkid3d3XFwueG1laXNlXFwuY29tIjogInhtZWlzZSIsCgkJCQkJInd3d1xcLmxlY2FrZVxcLmNvbSI6ICJsZWNha2UiLAoJCQkJCSJ3d3dcXC5qZDEwMFxcLmNvbSI6ICJqZDEwMCIsCgkJCQkJInd3d1xcLmppbmdodWFcXC5jb20iOiAiamluZ2h1YSIsCgkJCQkJInd3d1xcLnRhb2h3dVxcLmNvbSI6ICJ0YW9od3UiLAoJCQkJCSJ3d3dcXC56YmlyZFxcLmNvbSI6ICJ6YmlyZCIsCgkJCQkJInd3d1xcLmttMTgxOFxcLmNvbSI6ICJrbTE4MTgiLAoJCQkJCSJ3d3dcXC56b2NhaVxcLmNvbSI6ICJ6b2NhaSIsCgkJCQkJInd3d1xcLnRhb3NodVxcLmNvbSI6ICJ0YW9zaHUiLAoJCQkJCSJ3d3dcXC5haXpoaWd1XFwuY29tXFwuY24iOiAiYWl6aGlndSIsCgkJCQkJInd3d1xcLnRpZXlvdVxcLmNvbSI6ICJ0aWV5b3UiLAoJCQkJCSJ3d3dcXC5maWVsZHNjaGluYVxcLmNvbSI6ICJmaWVsZHNjaGluYSIsCgkJCQkJInd3d1xcLndkbWNha2VcXC5jbiI6ICJ3ZG1jYWtlIiwKCQkJCQkibWFsbFxcLmxxeHNob3BcXC5jb20iOiAibHF4c2hvcCIsCgkJCQkJInd3d1xcLnVzYXNob3BjblxcLmNvbSI6ICJ1c2FzaG9wY24iLAoJCQkJCSJ3d3dcXC53aW5lOVxcLmNvbSI6ICJ3aW5lOSIsCgkJCQkJInd3d1xcLnFpcGFpbWFsbFxcLmNvbSI6ICJxaXBhaW1hbGwiLAoJCQkJCSJ3d3dcXC55b2RvZG9cXC5jbiI6ICJ5b2RvZG8iLAoJCQkJCSJ3d3dcXC55b2dlclxcLmNvbVxcLmNuIjogInlvZ2VyIiwKCQkJCQkid3d3XFwuZGFwdVxcLmRhcHUiOiAiZGFwdSIsCgkJCQkJInd3d1xcLndpbm9uYVxcLmNuIjogIndpbm9uYSIsCgkJCQkJInd3d1xcLndsXFwuY24iOiAid2wiLAoJCQkJCSJ3d3dcXC5zaGFubWFpXFwuY24iOiAic2hhbm1haSIsCgkJCQkJInd3d1xcLnpnc2hvZXNcXC5jb20iOiAiemdzaG9lcyIsCgkJCQkJInd3d1xcLm1haWNoYXdhbmdcXC5jb20iOiAibWFpY2hhd2FuZyIsCgkJCQkJInd3d1xcLnVlbWFsbFxcLmNvbSI6ICJ1ZW1hbGwiLAoJCQkJCSJcXC41MXlvdVxcLmNvbSI6ICI1MXlvdSIsCgkJCQkJIlxcLmJlaWZhYm9va1xcLmNvbSI6ICJiZWlmYWJvb2siLAoJCQkJCSJ3d3dcXC5qcGVlblxcLmNvbSI6ICJqcGVlbiIsCgkJCQkJInd3d1xcLmh1YXR1b3lmXFwuY29tIjogImh1YXR1b3lmIiwKCQkJCQkid3d3XFwuZmVuZ2J1eVxcLmNvbSI6ICJmZW5nYnV5IiwKCQkJCQkiXFwudWl5aVxcLmNvbSI6ICJ1aXlpIiwKCQkJCQkid3d3XFwuaGVjaGFcXC5jbiI6ICJoZWNoYSIsCgkJCQkJInd3d1xcLnQxMFxcLmNvbSI6ICJ0MTAiLAoJCQkJCSJ3d3dcXC5xd1xcLmNjIjogInF3IiwKCQkJCQkiXFwubWl1dG91clxcLmNvbSI6ICJtaXV0b3VyIiwKCQkJCQkid3d3XFwuZWhhb3lhb1xcLmNvbSI6ICJlaGFveWFvIiwKCQkJCQkid3d3XFwuaWR4XFwuY29tXFwuY24iOiAiaWR4IiwKCQkJCQkid3d3XFwudXlhMTAwXFwuY29tIjogInV5YTEwMCIsCgkJCQkJInd3d1xcLnNzbmV3eW9ya1xcLmNvbSI6ICJzc25ld3lvcmsiLAoJCQkJCSJ3d3dcXC5jbGluaXF1ZVxcLmNvbSI6ICJjbGluaXF1ZSIsCgkJCQkJInd3d1xcLmh4ZXBhd25cXC5jb20iOiAiaHhlcGF3biIsCgkJCQkJInd3d1xcLmJyb29rc2Jyb3RoZXJzXFwuY29tIjogImJyb29rc2Jyb3RoZXJzIiwKCQkJCQkid3d3XFwub210YW9cXC5jb20iOiAib210YW8iLAoJCQkJCSJ3d3dcXC5lcDM2NVxcLmNvbSI6ICJlcDM2NSIsCgkJCQkJInd3d1xcLmNvbHVtYmlhc3BvcnRzXFwuY24iOiAiY29sdW1iaWFzcG9ydHMiLAoJCQkJCSJcXC5ic3RhcHBcXC5jbiI6ICJic3RhcHAiLAoJCQkJCSJ3d3dcXC5uZXdiYWxhbmNlXFwuY29tIjogIm5ld2JhbGFuY2UiLAoJCQkJCSJcXC53amlrZVxcLmNvbSI6ICJ3amlrZSIsCgkJCQkJInd3d1xcLmJhbGx5XFwuY29cXC51ayI6ICJiYWxseSIsCgkJCQkJIlxcLjFoYWlcXC5jbiI6ICIxaGFpIiwKCQkJCQkid3d3XFwuamlhbGljaFxcLmNuIjogImppYWxpY2giLAoJCQkJCSJcXC50YWtleWFcXC5jb1xcLmpwIjogInRha2V5YSIsCgkJCQkJInd3d1xcLmZvcmV2ZXIyMVxcLmNvbSI6ICJmb3JldmVyMjEiLAoJCQkJCSJ3d3dcXC5tb2Rlcm5hdmVudWVcXC5jb20iOiAibW9kZXJuYXZlbnVlIiwKCQkJCQkid3d3XFwubXVuaWFvXFwuY29tIjogIm11bmlhbyIsCgkJCQkJIlxcLmNlbnRhbmV0XFwuY29tIjogImNlbnRhbmV0IiwKCQkJCQkid3d3XFwuenVpaHVpeW91XFwuY29tIjogInp1aWh1aXlvdSIsCgkJCQkJInd3d1xcLmJvYmJpYnJvd25jb3NtZXRpY1xcLmNvbSI6ICJib2JiaWJyb3duY29zbWV0aWNzIiwKCQkJCQkid3d3XFwuc3VwZXItaW5cXC5jb20iOiAic3VwZXItaW4iLAoJCQkJCSJ3d3dcXC5oYW5nb3dhXFwuY29tIjogImhhbmdvd2EiLAoJCQkJCSJ3d3dcXC5sZXZpXFwuY29tIjogImxldmkiLAoJCQkJCSJ3d3dcXC5maWxhXFwuY24iOiAiZmlsYSIsCgkJCQkJInd3d1xcLmNvbnZlcnNlXFwuY29tXFwuY24iOiAiY29udmVyc2UiLAoJCQkJCSJ1c1xcLm5leHRkaXJlY3RcXC5jb20iOiAibmV4dGRpcmVjdCIsCgkJCQkJInd3d1xcLml0cmlwXFwuY29tIjogIml0cmlwIiwKCQkJCQkid3d3XFwubGFzaG91XFwuY29tIjogImxhc2hvdSIsCgkJCQkJInd3d1xcLmxpdWZlbmdcXC5jb20iOiAibGl1ZmVuZyIsCgkJCQkJInd3d1xcLnRydFxcLmhrIjogInRydCIsCgkJCQkJInd3dzFcXC53b2RpbmdodWFcXC5jb20iOiAid29kaW5naHVhIiwKCQkJCQkiXFwud3VsaXd1bGlcXC5jbiI6ICJ3dWxpd3VsaSIsCgkJCQkJInd3d1xcLmZvcmVzdGZvb2RcXC5jb20iOiAiZm9yZXN0Zm9vZCIsCgkJCQkJIlxcLmJvbmpvdXJoa1xcLmNvbSI6ICJib25qb3VyaGsiLAoJCQkJCSJ3d3dcXC52aXRhZ291XFwuaGsiOiAidml0YWdvdSIsCgkJCQkJIlxcLmtpbmhvbVxcLmNvbSI6ICJraW5ob20iLAoJCQkJCSJ3d3dcXC4zNjBsalxcLmNvbSI6ICIzNjBsaiIsCgkJCQkJInZcXC5jaGFuZ2JhXFwuY29tIjogImNoYW5nYmEiLAoJCQkJCSJ3d3dcXC5vYWtsZXlcXC5jb20iOiAib2FrbGV5IiwKCQkJCQkid3d3XFwuanB5b29cXC5jb20iOiAianB5b28iLAoJCQkJCSJ3d3dcXC5jbGFya3N1c2FcXC5jb20iOiAiY2xhcmtzdXNhIiwKCQkJCQkid3d3XFwuc3Rhcndvb2Rob3RlbHNcXC5jb20iOiAic3Rhcndvb2Rob3RlbHMiLAoJCQkJCSJ3d3dcXC5tYXJyaW90dFxcLmNvbSI6ICJtYXJyaW90dCIsCgkJCQkJInd3d1xcLnllc3N0eWxlXFwuY29tIjogInllc3N0eWxlIiwKCQkJCQkiXmV2aXN1XFwuY29tIjogImV2aXN1IiwKCQkJCQkiXmxpZmVzZWFzeVxcLmNvbVxcLmNuIjogImxpZmVzZWFzeSIsCgkJCQkJInd3d1xcLmNjeHBldFxcLmNvbSI6ICJjY3hwZXQiLAoJCQkJCSJ3d3dcXC4wMDYxXFwuY29tXFwuYXUiOiAieDAwNjEiLAoJCQkJCSJ3d3dcXC5ra2d1YW5cXC5jb20iOiAia2tndWFuIiwKCQkJCQkid3d3XFwuc3R5bGUtb2Nsb2NrXFwuY29tIjogInN0eWxlLW9jbG9jayIsCgkJCQkJInd3d1xcLnBlaWt1YVxcLmNvbSI6ICJwZWlrdWEiLAoJCQkJCSJ3d3dcXC5haXJmcmFuY2VcXC4oPzp1c3xjb20pIjogImFpcmZyYW5jZSIsCgkJCQkJInd3d1xcLmFjY29yaG90ZWxzXFwuY29tIjogImFjY29yaG90ZWxzIiwKCQkJCQkid3d3XFwuc3BhY2Vua1xcLmNvbSI6ICJzcGFjZW5rIiwKCQkJCQkid3d3XFwuaGFpY2h1ZmFuZ1xcLmNvbSI6ICJoYWljaHVmYW5nIiwKCQkJCQkidXNcXC53Y29uY2VwdFxcLmNvbSI6ICJ3Y29uY2VwdCIsCgkJCQkJInd3d1xcLmdhbnRcXC5jb1xcLnVrIjogImdhbnQiLAoJCQkJCSJ3d3dcXC5jYXRmb290d2VhclxcLmNvbSI6ICJjYXRmb290d2VhciIsCgkJCQkJInd3d1xcLnNhdWNvbnlcXC5jb20iOiAic2F1Y29ueSIsCgkJCQkJInd3d1xcLnphb3p1b1xcLmNvbSI6ICJ6YW96dW8iLAoJCQkJCSJlXFwubGl0dGxlc3dhblxcLmNvbSI6ICJsaXR0bGVzd2FuIiwKCQkJCQkid3d3XFwuY2FuXFwudHYiOiAiY2FuIiwKCQkJCQkid3d3XFwuc3NyalxcLmNvbSI6ICJzc3JqIiwKCQkJCQkic2hvcFxcLmd1ZXNzXFwubmV0XFwuYXUiOiAiZ3Vlc3MiLAoJCQkJCSJ3d3dcXC5ldGloYWRcXC5jb20iOiAiZXRpaGFkIiwKCQkJCQkic3RvcmVcXC5maWlsXFwuY29tIjogImZpaWwiLAoJCQkJCSJ3d3dcXC5taWFuc2h1aTM2NVxcLmNvbSI6ICJtaWFuc2h1aTM2NSIsCgkJCQkJInd3d1xcLnRlZ291c2hlXFwuY29tIjogInRlZ291c2hlIiwKCQkJCQkid3d3XFwud2lnZ2xlXFwuY24iOiAid2lnZ2xlIiwKCQkJCQkid3d3XFwubWRyZWFtc1xcLmNvbSI6ICJtZHJlYW1zIiwKCQkJCQkid3d3XFwuZWNvdmFjc1xcLmNuIjogImVjb3ZhY3MiLAoJCQkJCSJ3d3dcXC5jYWx2aW5rbGVpblxcLmNuIjogImNhbHZpbmtsZWluIiwKCQkJCQkiY25cXC5tZW1lYm94XFwuY29tIjogIm1lbWVib3giLAoJCQkJCSJ3d3czXFwuaGlsdG9uXFwuY29tIjogImhpbHRvbiIsCgkJCQkJInd3d1xcLnJldm9sdmVcXC5jb20iOiAicmV2b2x2ZSIsCgkJCQkJInd3d1xcLnNoaXNlaWRvXFwuY29tIjogInNoaXNlaWRvIiwKCQkJCQkid3d3XFwuY2xhcmluc3VzYVxcLmNvbSI6ICJjbGFyaW5zdXNhIiwKCQkJCQkic3RvcmVcXC5zdGFyYnVja3NcXC5jb20iOiAic3RhcmJ1Y2tzIiwKCQkJCQkid3d3XFwucmF5LWJhblxcLmNvbSI6ICJyYXktYmFuIiwKCQkJCQkidXNcXC5wdW1hXFwuY29tIjogInB1bWEiLAoJCQkJCSJ3d3dcXC5uYXV0aWNhXFwuY29tIjogIm5hdXRpY2EiLAoJCQkJCSJ3d3dcXC5jcmVtZWRlbGFtZXJcXC5jb20iOiAiY3JlbWVkZWxhbWVyIiwKCQkJCQkid3d3XFwua2lwbGluZy11c2FcXC5jb20iOiAia2lwbGluZy11c2EiLAoJCQkJCSJ3d3dcXC5qdXJsaXF1ZVxcLmNvbSI6ICJqdXJsaXF1ZSIsCgkJCQkJInd3d1xcLmh1c2hwdXBwaWVzXFwuY29tIjogImh1c2hwdXBwaWVzIiwKCQkJCQkid3d3XFwub3JpZ2luc1xcLmNvbSI6ICJvcmlnaW5zIiwKCQkJCQkid3d3XFwuZm9sbGlmb2xsaWVcXC51c1xcLmNvbSI6ICJmb2xsaWZvbGxpZSIsCgkJCQkJInVzYVxcLmxvY2NpdGFuZVxcLmNvbSI6ICJsb2NjaXRhbmUiLAoJCQkJCSJcXC5ocHN0b3JlXFwuY24iOiAiaHBzdG9yZSIsCgkJCQkJIlxcLjAxaG9tZVxcLmNvbSI6ICIwMWhvbWUiLAoJCQkJCSJ3d3dcXC5oZWFsdGhwb3N0XFwuY29cXC5ueiI6ICJoZWFsdGhwb3N0IiwKCQkJCQkiXFwuaW1lbmd4aWFuZ1xcLmNuIjogImltZW5neGlhbmciLAoJCQkJCSJ3d3dcXC5oeXNqXFwuY29tIjogImh5c2oiLAoJCQkJCSJcXC5zYW9odW83XFwuY29tIjogInNhb2h1bzciLAoJCQkJCSJcXC5yZXBhaVxcLmNvbSI6ICJyZXBhaSIsCgkJCQkJInd3d1xcLm1heWlcXC5jb20iOiAibWF5aSIsCgkJCQkJIlxcLnlpbnBpYW9cXC5jb20iOiAieWlucGlhbyIsCgkJCQkJIlxcLmlob21lLWlucy5jb20iOiAiaWhvbWUtaW5zIiwKCQkJCQkiXFwuaW5jYWtlXFwubmV0IjogImluY2FrZSIsCgkJCQkJIlxcLmt1d29cXC5jbiI6ICJrdXdvIiwKCQkJCQkid3d3XFwueXdhcnRcXC5jb20iOiAieXdhcnQiLAoJCQkJCSJ3d3dcXC5jY3RcXC5jbiI6ICJjY3QiLAoJCQkJCSJ3d3dcXC5hbnNnb1xcLmNvbSI6ICJhbnNnbyIsCgkJCQkJInd3d1xcLnBpbGliYWJhXFwuY29tIjogInBpbGliYWJhIiwKCQkJCQkid3d3XFwueGlhb25pdTg4XFwuY29tIjogInhpYW9uaXU4OCIsCgkJCQkJInd3d1xcLmFoYXZhXFwuY29tIjogImFoYXZhIiwKCQkJCQkiXFwuNS1maWZ0aFxcLmNvbSI6ICI1LWZpZnRoIiwKCQkJCQkiXFwudGhld2F0Y2hodXRcXC5jb1xcLnVrIjogInRoZXdhdGNoaHV0IiwKCQkJCQkiXFwuYmFieWhhdmVuXFwuY29tIjogImJhYnloYXZlbiIsCgkJCQkJImNuXFwuY29zbWUtZGVcXC5jb20iOiAiY29zbWUtZGUiLAoJCQkJCSJjblxcLmdldHRoZWxhYmVsXFwuY29tIjogImdldHRoZWxhYmVsIiwKCQkJCQkiY25cXC5tYXRzdXlhXFwuY29tIjogIm1hdHN1eWEiLAoJCQkJCSJ3d3dcXC50aW1iZXJsYW5kXFwuY29tIjogInRpbWJlcmxhbmQiLAoJCQkJCSJcXC50b3BtYW5cXC5jb20iOiAidG9wbWFuIiwKCQkJCQkid3d3XFwuaG9tZWF3YXlcXC5jb20iOiAiaG9tZWF3YXkiLAoJCQkJCSJ3d3dcXC5iZWF1dHlleHBlcnRcXC5jb20iOiAiYmVhdXR5ZXhwZXJ0IiwKCQkJCQkiXFwuaGFpbWlcXC5jb20iOiAiaGFpbWkiLAoJCQkJCSJ3d3dcXC5tYW5raW5kXFwuY29cXC51ayI6ICJtYW5raW5kIiwKCQkJCQkid3d3XFwudGhlaHV0XFwuY29tIjogInRoZWh1dCIsCgkJCQkJInd3d1xcLnRvcHNob3BcXC5jb20iOiAidG9wc2hvcCIsCgkJCQkJIm1hbWFsYWRlblxcLmNvbSI6ICJtYW1hbGFkZW4iLAoJCQkJCSJ3d3dcXC50cmF2ZWxlci1zdG9yZVxcLmNvbSI6ICJ0cmF2ZWxlci1zdG9yZSIsCgkJCQkJInd3d1xcLnRyYXZlbHpvb1xcLmNvbSI6ICJ0cmF2ZWx6b28iLAoJCQkJCSJ3d3dcXC51bWlzaG9lc1xcLmNvbSI6ICJ1bWlzaG9lcyIsCgkJCQkJInd3d1xcLnBlcnJpY29uZW1kXFwuY29tIjogInBlcnJpY29uZW1kIiwKCQkJCQkic3RvcmVcXC5mZXJyYXJpXFwuY29tIjogImZlcnJhcmkiLAoJCQkJCSJ3aWxsZXJleHByZXNzXFwuY29tIjogIndpbGxlcmV4cHJlc3MiLAoJCQkJCSJ3d3dcXC51bmluZWVkXFwuY29tIjogInVuaW5lZWQiLAoJCQkJCSJ3d3dcXC5hY25lc3R1ZGlvc1xcLmNvbSI6ICJhY25lc3R1ZGlvcyIsCgkJCQkJInd3d1xcLmFlcm9wb3N0YWxlXFwuY29tIjogImFlcm9wb3N0YWxlIiwKCQkJCQkid3d3XFwuYWdvZGFcXC5jb20iOiAiYWdvZGEiLAoJCQkJCSJ3d3dcXC5hbGJhbW9kYVxcLmRlIjogImFsYmFtb2RhIiwKCQkJCQkid3d3XFwuYWxsYmVhdXR5XFwuY29tIjogImFsbGJlYXV0eSIsCgkJCQkJInd3d1xcLmFsbHNhaW50c1xcLmNvbSI6ICJhbGxzYWludHMiLAoJCQkJCSJ3d3dcXC5hbGxzb2xlXFwuY29tIjogImFsbHNvbGUiLAoJCQkJCSJ3d3dcXC51cmJhbm91dGZpdHRlcnNcXC5jb20iOiAidXJiYW5vdXRmaXR0ZXJzIiwKCQkJCQkid3d3XFwudml0YWJpb3RpY3NcXC5jb20iOiAidml0YWJpb3RpY3MiLAoJCQkJCSJ3d3dcXC5iZWxsZW1haXNvblxcLmpwIjogImJlbGxlbWFpc29uIiwKCQkJCQkid3d3XFwuYmVuZWZpdGNvc21ldGljc1xcLmNvbSI6ICJiZW5lZml0Y29zbWV0aWNzIiwKCQkJCQkid3d3XFwuYmhjb3NtZXRpY3NcXC5jb20iOiAiYmhjb3NtZXRpY3MiLAoJCQkJCSJ3d3dcXC5iam15bGlrZXNcXC5jb20iOiAiYmpteWxpa2VzIiwKCQkJCQkid3d3XFwudml0YW1pbmJheVxcLmNvbSI6ICJ2aXRhbWluYmF5IiwKCQkJCQkid3d3XFwud2FpdHJvc2VcXC5jb20iOiAid2FpdHJvc2UiLAoJCQkJCSJ3d3dcXC53b2xmb3Jkc2hvcFxcLmNvXFwudWsiOiAid29sZm9yZHNob3AiLAoJCQkJCSJ3d3dcXC5ib29ob29cXC5jb20iOiAiYm9vaG9vIiwKCQkJCQkid3d3XFwuYm9vdHNcXC5jb20iOiAiYm9vdHMiLAoJCQkJCSJ3d3dcXC5icml0aXNoY29ybmVyc2hvcFxcLmNvXFwudWsiOiAiYnJpdGlzaGNvcm5lcnNob3AiLAoJCQkJCSJ3d3dcXC55aXJlbmRhaVxcLmNvbSI6ICJ5aXJlbmRhaSIsCgkJCQkJInd3d1xcLnlzN1xcLmNvbSI6ICJ5czciLAoJCQkJCSJ3d3dcXC5jb2dnbGVzXFwuY29tIjogImNvZ2dsZXMiLAoJCQkJCSJ3d3dcXC5jb3JzZXRkZWFsXFwuY29tIjogImNvcnNldGRlYWwiLAoJCQkJCSJeY290dG9ub25cXC5jb20iOiAiY290dG9ub24iLAoJCQkJCSJ3d3dcXC5jcm9jc1xcLmNvXFwudWsiOiAiY3JvY3MiLAoJCQkJCSJ3d3dcXC5jcnVpc2VmYXNoaW9uXFwuY29tIjogImNydWlzZWZhc2hpb24iLAoJCQkJCSJ3d3dcXC5kZWxsXFwuY29tIjogImRlbGwiLAoJCQkJCSJ3d3dcXC5kZXJtc3RvcmVcXC5jb20iOiAiZGVybXN0b3JlIiwKCQkJCQkid3d3XFwuZGlzbmV5c3RvcmVcXC5jb20iOiAiZGlzbmV5c3RvcmUiLAoJCQkJCSJ3d3dcXC5kb3JvdGh5cGVya2luc1xcLmNvbSI6ICJkb3JvdGh5cGVya2lucyIsCgkJCQkJInd3d1xcLmRvdWRvdWthbmdcXC5jb20iOiAiZG91ZG91a2FuZyIsCgkJCQkJInd3d1xcLmR1amlha2VcXC5jb20iOiAiZHVqaWFrZSIsCgkJCQkJInd3d1xcLmR1bmVsb25kb25cXC5jb20iOiAiZHVuZWxvbmRvbiIsCgkJCQkJInd3d1xcLmVhc3RiYXlcXC5jb20iOiAiZWFzdGJheSIsCgkJCQkJInd3d1xcLmVhc3RkYW5lXFwuY29tIjogImVhc3RkYW5lIiwKCQkJCQkid3d3XFwuemFmdWxcXC5jb20iOiAiemFmdWwiLAoJCQkJCSJ3d3dcXC56YXZ2aVxcLmNvbSI6ICJ6YXZ2aSIsCgkJCQkJImNuXFwuZmVpbmtlaXRcXC5kZSI6ICJmZWlua2VpdCIsCgkJCQkJInd3d1xcLmVpYm1hcmt0XFwuY29tIjogImVpYm1hcmt0IiwKCQkJCQkid3d3XFwuYmVsbHVuYVxcLmNuIjogImJlbGx1bmEiLAoJCQkJCSJ3d3dcXC5lbWlyYXRlc1xcLmNvbSI6ICJlbWlyYXRlcyIsCgkJCQkJInd3d1xcLmVtc1xcLmNvbSI6ICJlbXMiLAoJCQkJCSJ3d3dcXC5ldGVybmFcXC5kZSI6ICJldGVybmEiLAoJCQkJCSJ3d3dcXC5ldXJhaWxcXC5jb20iOiAiZXVyYWlsIiwKCQkJCQkid3d3XFwuZXhhbnRlZGlldFxcLmNvbSI6ICJleGFudGVkaWV0IiwKCQkJCQkid3d3XFwuZXhwZWRpYVxcLmNvXFwudWsiOiAiZXhwZWRpYSIsCgkJCQkJInd3d1xcLmZhbGtlXFwuY29tIjogImZhbGtlIiwKCQkJCQkid3d3XFwuZmFtb3VzZm9vdHdlYXJcXC5jb20iOiAiZmFtb3VzZm9vdHdlYXIiLAoJCQkJCSJ3d3dcXC5mb3Jlb1xcLmNvbSI6ICJmb3JlbyIsCgkJCQkJInd3d1xcLndhbmd4aW5saWNhaVxcLmNvbSI6ICJ3YW5neGlubGljYWkiLAoJCQkJCSJ3d3dcXC5mb3JldmVydW5pcXVlXFwuY29cXC51ayI6ICJmb3JldmVydW5pcXVlIiwKCQkJCQkid3d3XFwuYXVcXC5mb3J6aWVyaVxcLmNvbSI6ICJmb3J6aWVyaSIsCgkJCQkJInd3d1xcLmZyZWVjb3VudHJ5XFwuY29tIjogImZyZWVjb3VudHJ5IiwKCQkJCQkid3d3XFwuZnJlbmNoY29ubmVjdGlvblxcLmNvbSI6ICJmcmVuY2hjb25uZWN0aW9uIiwKCQkJCQkid3d3XFwuZ2lmdC1sYW5kXFwuY29tIjogImdpZnQtbGFuZCIsCgkJCQkJImNuXFwuZ3Jvd2dvcmdlb3VzXFwuY29tIjogImdyb3dnb3JnZW91cyIsCgkJCQkJInd3d1xcLmhvdGVsXFwuaW5mbyI6ICJob3RlbCIsCgkJCQkJInd3d1xcLmhvdXNlb2ZmcmFzZXJcXC5jb1xcLnVrIjogImhvdXNlb2ZmcmFzZXIiLAoJCQkJCSJ3d3dcXC5odWl6dWNoZVxcLmNvbSI6ICJodWl6dWNoZSIsCgkJCQkJInd3d1xcLml3YW50b25lb2Z0aG9zZVxcLmNvbSI6ICJpd2FudG9uZW9mdGhvc2UiLAoJCQkJCSJ3d3dcXC5qamdsb2JhbFxcLmNvbSI6ICJqamdsb2JhbCIsCgkJCQkJInd3d1xcLmp1aWN5Y291dHVyZVxcLmNvbSI6ICJqdWljeWNvdXR1cmUiLAoJCQkJCSJ3d3dcXC5rZW5rb1xcLmNvbSI6ICJrZW5rbyIsCgkJCQkJInd3d1xcLmtpa29jb3NtZXRpY3NcXC5jb20iOiAia2lrb2Nvc21ldGljcyIsCgkJCQkJInd3d1xcLmxhbmNlcnNraW5jYXJlXFwuY29cXC51ayI6ICJsYW5jZXJza2luY2FyZSIsCgkJCQkJInNob3BcXC5sZWdvXFwuY29tIjogImxlZ28iLAoJCQkJCSJ3d3dcXC5sb3JkYW5kdGF5bG9yXFwuY29tIjogImxvcmRhbmR0YXlsb3IiLAoJCQkJCSJ3d3dcXC5tYWl6aGlcXC5jb20iOiAibWFpemhpIiwKCQkJCQkid3d3XFwubWF0Y2hlc2Zhc2hpb25cXC5jb20iOiAibWF0Y2hlc2Zhc2hpb24iLAoJCQkJCSJ3d3dcXC5tYXRzdWtpeW9cXC5jb1xcLmpwIjogIm1hdHN1a2l5byIsCgkJCQkJInd3d1xcLm1pY3Jvc29mdFxcLmNvbSI6ICJtaWNyb3NvZnQiLAoJCQkJCSJjblxcLm1pb3NraW5jYXJlXFwuY29tIjogIm1pb3NraW5jYXJlIiwKCQkJCQkid3d3XFwubWlzc3NlbGZyaWRnZVxcLmNvbSI6ICJtaXNzc2VsZnJpZGdlIiwKCQkJCQkid3d3XFwubW91bnRhaW5nZWFyXFwuY29tIjogIm1vdW50YWluZ2VhciIsCgkJCQkJInd3d1xcLm15YmFnXFwuY29tIjogIm15YmFnIiwKCQkJCQkid3d3XFwubXlwcm90ZWluXFwuY29tIjogIm15cHJvdGVpbiIsCgkJCQkJInd3d1xcLm15dml0YW1pbnNcXC5jb20iOiAibXl2aXRhbWlucyIsCgkJCQkJInd3d1xcLm5ldC1hLXBvcnRlclxcLmNvbSI6ICJuZXQtYS1wb3J0ZXIiLAoJCQkJCSJ3d3dcXC5uZXdiYWxhbmNlXFwuY29cXC51ayI6ICJuZXdiYWxhbmNlLXVrIiwKCQkJCQkid3d3XFwubmV3bG9va1xcLmNvbSI6ICJuZXdsb29rIiwKCQkJCQkid3d3XFwubmlrZVxcLmNvbVxcLmJyIjogIm5pa2UtYnIiLAoJCQkJCSJ3d3dcXC5uaWtlXFwuY29tXFwuaGsiOiAibmlrZS1oayIsCgkJCQkJInd3d1xcLm55YW5kY29tcGFueVxcLmNvbSI6ICJueWFuZGNvbXBhbnkiLAoJCQkJCSJ3d3dcXC5vYXNpcy1zdG9yZXNcXC5jb20iOiAib2FzaXMtc3RvcmVzIiwKCQkJCQkid3d3XFwub3JiaXR6XFwuY29tIjogIm9yYml0eiIsCgkJCQkJInd3d1xcLm9yY2hpcmFcXC5jb1xcLnVrIjogIm9yY2hpcmEiLAoJCQkJCSJ3d3dcXC5vcmlnaW5zXFwuY29cXC51ayI6ICJvcmlnaW5zLXVrIiwKCQkJCQkid3d3XFwucGV0c21hcnRcXC5jb20iOiAicGV0c21hcnQiLAoJCQkJCSJ3d3dcXC5wcm9iaWtla2l0XFwuY29cXC51ayI6ICJwcm9iaWtla2l0IiwKCQkJCQkid3d3XFwucWF0YXJhaXJ3YXlzXFwuY29tIjogInFhdGFyYWlyd2F5cyIsCgkJCQkJInd3d1xcLnJhZGxleVxcLmNvXFwudWsiOiAicmFkbGV5IiwKCQkJCQkid3d3XFwucmFscGhsYXVyZW5cXC5jbiI6ICJyYWxwaGxhdXJlbiIsCgkJCQkJInd3d1xcLnJlYmVjY2FtaW5rb2ZmXFwuY29tIjogInJlYmVjY2FtaW5rb2ZmIiwKCQkJCQkid3d3XFwucmVudGFsY2Fyc1xcLmNvbSI6ICJyZW50YWxjYXJzIiwKCQkJCQkid3d3XFwucmljYXVkXFwuY29tIjogInJpY2F1ZCIsCgkJCQkJInd3d1xcLnJvY2twb3J0XFwuY29tIjogInJvY2twb3J0IiwKCQkJCQkid3d3XFwucnVlbGFsYVxcLmNvbSI6ICJydWVsYWxhIiwKCQkJCQkid3d3XFwuc2Frc29mZjV0aFxcLmNvbSI6ICJzYWtzb2ZmNXRoIiwKCQkJCQkid3d3XFwuc2MyNFxcLmNvbSI6ICJzYzI0IiwKCQkJCQkid3d3XFwuc2hvZXNcXC5jb20iOiAic2hvZXMiLAoJCQkJCSJ3d3dcXC5zaG9wc3ByaW5nXFwuY29tIjogInNob3BzcHJpbmciLAoJCQkJCSJ3d3dcXC5zaW1wbHlzdXBwbGVtZW50c1xcLmNvXFwudWsiOiAic2ltcGx5c3VwcGxlbWVudHMiLAoJCQkJCSJ3d3dcXC5zc2Vuc2VcXC5jb20iOiAic3NlbnNlIiwKCQkJCQkid3d3XFwuc3RldmVtYWRkZW5cXC5jb20iOiAic3RldmVtYWRkZW4iLAoJCQkJCSJ3d3dcXC50YW9kb1xcLmNvbSI6ICJ0YW9kbyIsCgkJCQkJInd3d1xcLm1pY2hhZWxrb3JzXFwuY24iOiAibWljaGFlbGtvcnMiLAoJCQkJCSJ3d3dcXC50dGNqXFwudHYiOiAidHRjaiIsCgkJCQkJInd3d1xcLnVmLWNsdWJcXC5jb20iOiAidWYtY2x1YiIsCgkJCQkJInd3d1xcLnpoYWlkb3VcXC5jb20iOiAiemhhaWRvdSIsCgkJCQkJInd3d1xcLjE2M3l1blxcLmNvbSI6ICIxNjN5dW4iLAoJCQkJCSJjblxcLmFwb1xcLmNvbSI6ICJhcG8iLAoJCQkJCSJsb2FuLW1cXC5qaW11XFwuY29tIjogImppbXUiLAoJCQkJCSJ3d3dcXC5oYW8yNFxcLmNvbSI6ICJoYW8yNCIsCgkJCQkJIm1cXC5zZWFnb29yXFwuY29tIjogInNlYWdvb3IiLAoJCQkJCSJ3d3dcXC53YW5uYXJcXC5jb20iOiAid2FubmFyIiwKCQkJCQkid3d3XFwuY2FpaGFuZ1xcLmNvbSI6ICJjYWloYW5nIiwKCQkJCQkid3d3XFwuY3NtYWxsXFwuY29tIjogImNzbWFsbCIsCgkJCQkJInd3d1xcLmt1YWppbmdcXC5jb20iOiAia3VhamluZyIsCgkJCQkJInd3d1xcLm1pbGxlbm5pdW1ob3RlbHNcXC5jb20iOiAibWlsbGVubml1bWhvdGVscyIsCgkJCQkJInd3d1xcLnJlZWJvbnpcXC5jbiI6ICJyZWVib256IiwKCQkJCQkiY25cXC53ZW1ha2VwcmljZVxcLmNvbSI6ICJ3ZW1ha2VwcmljZSIsCgkJCQkJInd3d1xcLnd6aG91aHVpXFwuY29tIjogInd6aG91aHVpIiwKCQkJCQkid3d3XFwuaHVpamlheW91XFwuY24iOiAiaHVpamlheW91IiwKCQkJCQkid3d3XFwubWVsaW1lbG9cXC5jbiI6ICJtZWxpbWVsbyIsCgkJCQkJInd3d1xcLjkxeGNtXFwuY29tIjogIjkxeGNtIiwKCQkJCQkiemhcXC5hc2hmb3JkXFwuY29tIjogImFzaGZvcmQtemgiLAoJCQkJCSJjam9ubWFydFxcLmNuIjogImNqb25tYXJ0IiwKCQkJCQkid3d3XFwuY255dG9cXC5tZSI6ICJjbnl0byIsCgkJCQkJInd3d1xcLmdyYW5kZGZzXFwuY29tIjogImdyYW5kZGZzIiwKCQkJCQkid3d3XFwub2ZmaWNlZGVwb3RcXC5jb20iOiAib2ZmaWNlZGVwb3QiLAoJCQkJCSJ3d3dcXC50aWFuaG9uZ1xcLmNuIjogInRpYW5ob25nIiwKCQkJCQkid3d3XFwueWlsaW5nc2hvcFxcLmNvbSI6ICJ5aWxpbmdzaG9wIiwKCQkJCQkid3d3XFwua2xvb2tcXC5jb20iOiAia2xvb2siLAoJCQkJCSJtXFwuZGRreVxcLmNvbSI6ICJkZGt5IiwKCQkJCQkid3d3XFwuY2hpbmFhY2NcXC5jb20iOiAiY2hpbmFhY2MiLAoJCQkJCSJ3d3dcXC5ibWFpXFwuY29tIjogImJtYWkiLAoJCQkJCSJtXFwuaW5rZVxcLmNuIjogImlua2UiLAoJCQkJCSJ3d3dcXC5qdW5yb25nZGFpXFwuY29tIjogImp1bnJvbmdkYWkiLAoJCQkJCSJ3d3dcXC5uYXBhaVxcLmNuIjogIm5hcGFpIiwKCQkJCQkibWFsbFxcLmdyZWVcXC5jb20iOiAiZ3JlZSIsCgkJCQkJInNhbGVzXFwuYWxsaWFuelxcLmNvbSI6ICJhbGxpYW56IiwKCQkJCQkidlxcLnlvdW1pXFwuY24iOiAieW91bWkiLAoJCQkJCSJ3d3dcXC4yMWNha2VcXC5jb20iOiAiMjFjYWtlIiwKCQkJCQkid3d3XFwuNTZyZW5cXC5jb20iOiAiNTZyZW4iLAoJCQkJCSJ3d3dcXC5hbmFudGFyYVxcLmNvbSI6ICJhbmFudGFyYSIsCgkJCQkJInd3d1xcLmNoZXN1ZGlcXC5jb20iOiAiY2hlc3VkaSIsCgkJCQkJInd3d1xcLmVobWFsbFxcLmNvbSI6ICJlaG1hbGwiLAoJCQkJCSJ3d3dcXC5mYXJmZXRjaFxcLmNuIjogImZhcmZldGNoIiwKCQkJCQkid3d3XFwuZnJlZXBlb3BsZVxcLmNvbSI6ICJmcmVlcGVvcGxlIiwKCQkJCQkid3d3XFwuZ2Fvc291eWlcXC5jb20iOiAiZ2Fvc291eWkiLAoJCQkJCSJ3d3dcXC5jaGFybS1jb2xvclxcLiI6ICJjaGFybS1jb2xvciIsCgkJCQkJInd3d1xcLmZlbGlzc2ltb1xcLmNvXFwuanAiOiAiZmVsaXNzaW1vIiwKCQkJCQkid3d3XFwuc3VyZnN0aXRjaFxcLmNvbSI6ICJzdXJmc3RpdGNoIiwKCQkJCQkid3d3XFwubG9ybmFqYW5lXFwuc2ciOiAibG9ybmFqYW5lIiwKCQkJCQkid3d3XFwucmVpc3NcXC5jb20iOiAicmVpc3MiLAoJCQkJCSJ3d3dcXC5nemxcXC5jb21cXC5jbiI6ICJnemwiLAoJCQkJCSJ3d3dcXC45ZHJ1Z1xcLmNvbSI6ICI5ZHJ1ZyIsCgkJCQkJInd3d1xcLnl1bmdvdWJzXFwuY29tIjogInl1bmdvdWJzIiwKCQkJCQkid3d3XFwuaW1vbW9rb1xcLmNvbSI6ICJpbW9tb2tvIgoJCQkJfSwKCQkJCWQgPSB7CgkJCQkJImRlc3QvdGVzdFxcLmh0bWwiOiAidGVzdCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy45ZHJ1Zy5jb20vZ29vZHMtXFxkK1xcLmh0bWwiOiAiOWRydWciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cudGVhNy5jb20vaXRlbS9cXGQrXFwuaHRtbCI6ICJ0ZWE3IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LjAxaG9tZS5jb20vcHJvZHVjdC9bYS16MC05LV0rXFwuaHRtbCI6ICIwMWhvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuaHBzdG9yZS5jbi93YXNkLWlpLVthLXowLTktXStcXC5odG1sIjogImhwc3RvcmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuYWxpZXhwcmVzcy5jb20vc3RvcmUvcHJvZHVjdC8iOiAiYWxpZXhwcmVzcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5hbGlleHByZXNzLmNvbS9pdGVtL1xcdysiOiAiYWxpZXhwcmVzcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lYXN5dG95cy5jbi9cXGQrXFwuaHRtbCI6ICJlYXN5dG95cyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5raXdpc3RhcmNhcmUuY29tL2dvb2RzLVxcZCtcXC5odG1sIjogImtpd2lzdGFyY2FyZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5jYXJyZWZvdXIuY24vcHJvZHVjdC9cXGQrIjogImNhcnJlZm91ciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NoaW5hLmxvdHRlLmNvbS9nb29kcy92aWV3R29vZHNEZXRhaWxcXC5sb3R0ZSI6ICJsb3R0ZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5ld2F0Y2hlcy5jb20vZGV0YWlsXFwuYXNwIjogImV3YXRjaGVzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZ2xvYmFsLnRpbWV4LmNvbS9ub2RlL1xcZCsiOiAidGltZXgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9jb21mb3J0Zmlyc3QuY29tL1thLXowLTktXSsvW2EtejAtOS1dKy9bYS16MC05LV0rXFwuaHRtbCI6ICJjb21mb3J0Zmlyc3QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubHVvbGFpLmNuL3Byb2R1Y3QtXFxkK1xcLmh0bWwiOiAibHVvbGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LnlvdXl1LmNvbS9nb29kc1xcP3NuPVxcZCsiOiAieW91eXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cueW9veC5jbi8oPzpjbi8pW2EtejAtOUEtWl0rL2l0ZW0iOiAieW9veCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5zdWFuanV6aS5jb20vcHJvZHVjdC1cXGQrXFwuaHRtbCI6ICJzdWFuanV6aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy55YW8xMjMuY29tL3Byb2R1Y3QvXFx3KyI6ICJ5YW8xMjMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtLmJhb2JlaWdlemkuY29tL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAiYmFvYmVpZ2V6aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5iYW9iZWlnZXppLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogImJhb2JlaWdlemkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cub3Bwb3Nob3AuY24vcHJvZHVjdHMvXFxkK1xcLmh0bWwiOiAib3Bwb3Nob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cub3Bwb3Nob3AuY24vcHJvZHVjdHMvXFxkKyI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwub3Bwb1xcLmNvbS8oPzpnb29kc3xwcm9kdWN0cykvXFxkKyI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9wcG9cXC5jb20vY24vcHJvZHVjdCI6ICJvcHBvc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2hkLm9wcG8uY29tL2FjdC9cXGQrL29wcG9SOXMiOiAib3Bwb3Nob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsLnRvOHRvLmNvbS90ZW1haS9cXGQrLmh0bWwiOiAidG84dG8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwueXVuaG91XFwuY29tL1xcZCtcXC5odG1sIjogInl1bmhvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC55aGRcXC5jb20iOiAieWloYW9kaWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaGFpdHVuY3VuXFwuY29tL1thLXpdKy9bYS16XSsvXFxkKy8iOiAiaGFpdHVuY3VuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2FsbWFydFxcLmNvbS9pcC9bYS16QS1aMC05LV0rL1xcZCsiOiAid2FsbWFydCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnZtZWlcXC5jb20vcHJvZHVjdC9bMC05XSsiOiAidm1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmpnYlxcLmNuL3AvW2EtejAtOV9dK1xcLmh0bWwiOiAiamdiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuNTFkaW5cXC5jb20vcHJvZHVjdC9bMC05XSsvWzAtOV0rXFwuaHRtbCI6ICI1MWRpbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy41MWRpbi5jb20vcHJvZHVjdC8oPyFsaXN0KS9bMC05XSsuamh0bWwiOiAiNTFkaW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5haWRhaVxcLmNvbS9Qcm9kdWN0WzAtOV0rXFwuaHRtbCI6ICJhaWRhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC5ib3FpaVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAiYm9xaWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zcGlkZXJcXC5jb20uY24vW2Etel0rL1swLTldK1xcLmh0bWwiOiAic3BpZGVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3BpZGVyXFwuY29tLmNuL2F1Y3Rpb24uaHRtbD9hdWN0aW9uaWQ9WzAtOV0rICI6ICJzcGlkZXIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qaWFlXFwuY29tL3Byb2R1Y3RkZXRhaWw/cHJvZHVjdElkPVswLTldKyI6ICJqaWFlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnphemhpcHVcXC5jb20vWzAtOV0rXFwuaHRtbCI6ICJ6YXpoaXB1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2FsbWFydFxcLmNvbS9pcC9cXGQrIjogIndhbG1hcnQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zaG9wXFwucGhpbGlwc1xcLmNvbVxcLmNuL2l0ZW0vW2EtejAtOS1dKyI6ICJwaGlsaXBzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhbi56aG9uZ2ppdS5jbi9wcm9kdWN0L2RldGFpbC9cXGQrLmh0bSI6ICJ6aG9uZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy56aG9uZ2ppdS5jbi9wcm9kdWN0ZGV0YWlsL1xcZCsuaHRtIjogInpob25naml1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmthbHVsaS5jb20vcHJvZHVjdC9cXGQrLmh0bWwiOiAia2FsdWxpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcC53c3R4LmNvbS9pdGVtL1xcZCsiOiAid3N0eCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5wdXJjb3R0b24uY29tL2RldGFpbC9cXGQrL1swLTktXStcXC5odG1sIjogInB1cmNvdHRvbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuanVhbnBpLmNvbS9bYS16XSsvXFxkKyI6ICJqdWFucGkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuZ25jLmNvbS9bQS1aYS16MC05LV0rL3Byb2R1Y3QuanNwIjogImduYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5qaW54aWFuZy5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJqaW54aWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLzEuMTYzLmNvbS9kZXRhaWwvXFxkKy1cXGQrXFwuaHRtbCI6ICIxLTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5ndW9qaW1hbWkuY29tL2dvb2RzLVxcZCtcXC5odG1sIjogImd1b2ppbWFtaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5iYWl5YW5nd2FuZy5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJiYWl5YW5nd2FuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NuLnJveXlvdW5nY2hlbWlzdC5jb20uYXUvXFxkK1xcLmh0bWwiOiAicm95eW91bmdjaGVtaXN0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY24ubWVkaWhlYWxzaG9wLmNvbS9cXGQrIjogIm1lZGloZWFsc2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2NuLjEwMDFwaGFybWFjaWVzLmNvbS9cXGQrXFwuaHRtbCI6ICIxMDAxcGhhcm1hY2llcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5sb29rZmFudGFzdGljLmNuL1thLXowLTktLl0rL1xcZCsiOiAibG9va2ZhbnRhc3RpYy1jbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3lvdS4xNjMuY29tL2l0ZW0vZGV0YWlsXFw/aWQ9IjogInlvdTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3QuYmwuY29tL1xcZCtcXC5odG1sIjogImJsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJlc3RpbmZvb2RzLmNvbS8oPzpcXD98KXByb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJiZXN0aW5mb29kcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5tdWppLm5ldC9zdG9yZS9cXHcrL2RldGFpbC9bMC05XSsiOiAibXVqaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmVhc2VleWVzXFwuY29tL2dvb2RzWzAtOV0rXFwuaHRtbCI6ICJlYXNlZXllcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpbmdzaGlcXC5jb20vcHJvZHVjdC9saW5nc2hpLVxcZCtcXC5odG0iOiAibGluZ3NoaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm51YmlhXFwuY29tLyg/Om51YmlhbjF8bnViaWFteXByYWd1ZXxwcmFndWVzfG51YmlhejltYXJrfG51Ymlhejl8bnViaWF6OW1heHxudWJpYXo5bWF4fG51YmlhejltYXh8bnViaWF6MTFtaW5pfG51YmlhWjExbWluaXxudWJpYXoxMW1heHxudWJpYXoxMW1heHxudWJpYXoxMW1heHxudWJpYXoxMXxudWJpYXoxMXxudWJpYXoxMSkiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubnViaWFcXC5jb20vYWN0aXZlL1xcdytcXC5odG1sIjogIm51YmlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLm51YmlhXFwuY29tL3Byb2R1Y3RcXC5waHBcXD8oPzpzfClpZD1cXGQrIjogIm51YmlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3fHNob3ApXFwubnViaWFcXC5jbi9wcm9kdWN0XFwucGhwXFw/c2lkPVxcZCsiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubnViaWEuY29tLygoPyEucGhwKS4pKiQiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wLm51YmlhLmNvbS9idXkvKD86bnViaWFuMXxudWJpYW15cHJhZ3VlfHByYWd1ZXN8bnViaWF6OW1hcmt8bnViaWF6OXxudWJpYXo5bWF4fG51YmlhejltYXh8bnViaWF6OW1heHxudWJpYXoxMW1pbml8bnViaWFaMTFtaW5pfG51YmlhejExbWF4fG51YmlhejExbWF4fG51YmlhejExbWF4fG51YmlhejExfG51YmlhejExfG51YmlhejExfG51YmlhXFx3KykiOiAibnViaWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5remozNjVcXC5jb20vZ29vZHMtXFxkK1xcLmh0bWwiOiAia3pqMzY1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwua2FvbGFcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJrYW9sYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmthb2xhXFwuY29tLmhrL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAia2FvbGEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC55bWF0b3VcXC5jb20vcHJvZHVjdC9bYS16QS1aMC05LV0rXFwuaHRtbCI6ICJ5bWF0b3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC5tZXRhb1xcLmNvbS9wcm9kdWN0cy9cXGQrIjogIm1ldGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOnR2XFwuY29vY2FhXFwuY29tL2dvb2RzL1xcZCsuaHRtIjogImNvb2NhYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNvb2NhYVxcLmNvbS9nb29kcy9nZXRfWzAtOV0rXFwuaHRtbCI6ICJjb29jYWEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWZldmNcXC5jb20vaXRlbS9cXGQrIjogImxpZmV2YyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1cHV5XFwuY29tL3Byb2R1Y3RzL1xcZCtcXC5odG1sIjogInN1cHV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3VwdW1hbGxcXC5jb20vR29vZHMvZ29vZHNpbmZvL2dvb2RzQ29kZS9bMC05XSsiOiAic3VwdXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWFcXC5jb20vaXRlbS1cXGQrXFwuaHRtbCI6ICJtaXlhYmFvYmVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWl5YWJhb2JlaS5oay9pdGVtLVswLTldKy5odG1sIjogIm1peWFiYW9iZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cubWl5YWJhb2JlaS5oay9pdGVtLVswLTldKy5odG1sIjogIm1peWFiYW9iZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtLmdvbWVoaWdvLmhrL1swLTlhLXpBLVpdKy0uKiI6ICJnb21laGlnbyIsCgkJCQkJImh0dHA6Ly93d3dcXC53YW5nZnVqaW5nXFwuY29tL2l0ZW0vWzAtOUEtWl0rIjogIndhbmdmdWppbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9nbG9iYWxcXC5nb3VcXC5jb20vcHJvZHVjdF9bMC05XStcXC5odG1sIjogImdvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmdvdVxcLmNvbS9bYS16MC05X10rXFwuaHRtbCI6ICJnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3dcXC58KWlranRhb1xcLmNvbS9nb29kcy1bMC05XStcXC5odG1sIjogImlranRhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLnwpYmVzdGtlZXBcXC5jbi9pdGVtL1xcZCsiOiAiaWtqdGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86aXRlbXxucClcXC51bGVcXC5jb20vaXRlbS9bMC05LV0rXFwuaHRtbCI6ICJ1bGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwucGhpbGlwc1xcLmNvbVxcLmNuL3Byb2R1Y3QvXFx3Ky9kZXRhaWxcXC5odG0iOiAicGhpbGlwcyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC50Y2xcXC5jb20vUHJvZHVjdERldGFpbC9pbmRleC9pZC9cXGQrXFwuaHRtbCI6ICJ0Y2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwudGNsXFwuY29tL2Zyb250L3Byb2R1Y3QvdG9Qcm9kdWN0L1thLXowLTldKyI6ICJ0Y2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lLWNoYW5naG9uZ1xcLmNvbS93ZWJhcHAvd2NzL3N0b3Jlcy9zZXJ2bGV0L1Byb2R1Y3RbXFx3Xy1dKyI6ICJjaGFuZ2hvbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwua29ua2FcXC5jb20vZ29vZHNcXC5waHBcXD9pZD1cXGQrIjogImtvbmthIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmtvbmthXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJrb25rYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3BcXC5oaXNlbnNlXFwuY29tL0hvbWUvUHJvZHVjdHMvZGV0YWlsL2dpZC9cXGQrIjogImhpc2Vuc2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwuaGlzZW5zZVxcLmNvbS9wcm9kdWN0L1thLXowLTktXSsiOiAiaGlzZW5zZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmluZWlnb1xcLmNvbS9Qcm9kdWN0L3Byb2R1Y3QuYXNweFxcPyY/aWQ9XFxkKyI6ICJpbmVpZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5za2dcXC5jb20vXFxkK1xcLmh0bWwiOiAic2tnIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2tnXFwuY29tL3Byb2R1Y3QvWzAtOV0rXFwuaHRtIjogInNrZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm95ZWFoXFwuY29tL2dpdmVhd2F5LVswLTlhLXotXSsiOiAib3llYWgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tb3JlZm9vZFxcLmNvbS9wcm9kdWN0cy9pbmZvL1swLTldK1xcLmh0bWwiOiAibW9yZWZvb2QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56aGVuXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJ6aGVuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLnZpdm9cXC5jb21cXC5jbi9pbmRleFxcLnBocC9wcm9kdWN0LVxcZCtcXC5odG1sIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwudml2b1xcLmNvbVxcLmNuL3Byb2R1Y3QtWzAtOV0rIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwudml2b1xcLmNvbVxcLmNuL3Byb2R1Y3QvWzAtOV0rIjogInZpdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9nZml2ZVxcLmIyY1xcLmVxaW1pbmd4aW5nXFwuY29tL3Byb2R1Y3QtXFxkK1xcLmh0bWwiOiAiZ2ZpdmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC42cG1cXC5jb20vcHJvZHVjdC8iOiAiNnBtIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuNnBtXFwuY29tL1thLXpdKy1bYS16XSstWzAtOWEtel0rIjogIjZwbSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjZwbVxcLmNvbS9wL1xcdysiOiAiNnBtIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmdpb25lZVxcLmNvbS9nb29kcy9cXGQrIjogImdpb25lZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwubGluaW5nXFwuY29tL3Nob3AvZ29vZHMtWzAtOV0rIjogImxpbmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1mOTEwXFwuY29tL3Byb2R1Y3QtWzAtOV0rXFwuaHRtbCI6ICJtZjkxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmstdG91Y2hcXC5jbi9wcm9kdWN0L2RldGFpbC9wcm9kX2lkL1xcZCtcXC5odG1sIjogImstdG91Y2giLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rLXRvdWNoXFwuY24vUHJvZHVjdC9Qcm9kdWN0RGV0YWlsXFw/cHJvZHVjdGlkIjogImstdG91Y2giLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuZ3JhaW5nZXJcXC5jbi9nL1xcZCsiOiAiZ3JhaW5nZXIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9waWFvXFwuMTYzXFwuY29tL1xcdysvbW92aWUvXFxkK1xcLmh0bWwiOiAid3kxNjMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuMTYzXFwuY29tL3AvcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJ3eTE2MyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2RldGFpbFxcLnlhby5cXDk1MDk1XFwuY29tL2l0ZW1cXC5odG0iOiAidGFvYmFvLTk1MDk1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZWJheVxcLmNvbS9pdG0vWzAtOWEtekEtWl0rIjogImViYXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3dcXC58KTEwMHl1ZVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAiMTAweXVlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZmVpbml1XFwuY29tL2l0ZW0vWy1cXHddKyI6ICJmZWluaXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sZW1hbGxcXC5jb20vcHJvZHVjdC8iOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tL2NuLyg/OnR2fHNhbGV8cGhvbmUpL1xcdysiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tLyg/OmxlXzJ8bGVfbWF4fGxlXzFwcm98eDU1cHJvfHg2NXx4NTV8eDQzc3x4NDBzfHVtYXgxMjB8Y2hhbzRtYXg3MCkiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVtYWxsXFwuY29tLyg/OmNoYW80fGxlX21heHxsZV9tYXgyfGxlXzJwcm98bGVfMnxsZV9tYXgyfHg0MHN4NDBzKS8oPzpcXHcrL3wpXFx3K1xcLmh0bWwiOiAibGVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmZlaW5pdVxcLmNvbS9bMC05XSsiOiAiZmVpbml1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGdiYWJ5XFwuY29tL3Byb2R1Y3QvWzAtOV0rIjogImJicmVhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56dWlwaW5cXC5jbi9bMC05YS16LV0rXFwuaHRtbCI6ICJ6dWlwaW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuZmVpZmVpXFwuKD86Y258Y29tKS9cXHcrXFwuaHRtbCI6ICJmZWlmZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mZWlmZWlcXC5jb20vb3JkZXIvLS9wcm9kdWN0LWluZm8vcHJvZHVjdG5hbWUvWzAtOV0rXFwuaHRtbCI6ICJmZWlmZWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9ndWFuZ1xcLmNvbS9iYW9iZWkvXFxkKyI6ICJndWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhaXRhb2NoZW5nXFwuY29tL1Byb2R1Y3QvRGV0YWlsLVxcZCtcXC5odG1sIjogImhhaXRhb2NoZW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucnJzKD86amt8KVxcLmNvbS9wcm9kdWN0L1swLTldK1xcLmh0bWwiOiAicnJzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmNjYlxcLmNvbS9wcm9kdWN0cy9wZF9bMC05XStcXC5qaHRtbCI6ICJjY2IiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tZWlsaXNodW9cXC5jb20vKD86cHJvbXxzaGFyZSkvaXRlbS9cXGQrIjogIm1laWxpc2h1byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1laWxpc2h1b1xcLmNvbS9zaGFyZS9bXFxkXSsiOiAibWVpbGlzaHVvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1laWxpc2h1b1xcLmNvbS9kZXRhaWwvIjogIm1laWxpc2h1byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1vZ3VqaWVcXC5jb20vdHVhbi9kZXRhaWwvXFx3KyI6ICJtb2d1amllIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLm1vZ3VqaWVcXC5jb20vZGV0YWlsL1xcdysiOiAibW9ndWppZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1vZ3VqaWVcXC5jb20vbm90ZS8uKj9zaG93dHlwZT1nb29kIjogIm1vZ3VqaWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zdXB1bWFsbFxcLmNvbS9wcm9kdWN0cy9bMC05XStcXC5odG1sIjogInN1cHVtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmNvb2xwYWRcXC4oPzpjb218Y24pL2dvb2RzL1xcZCtcXC5odG0iOiAiY29vbHBhZCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP3lpZ3VvXFwuY29tL3Byb2R1Y3QvXFxkK1xcLmh0bWwiOiAieWlndW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3XFwuKT95aWd1b1xcLmNvbS9Db21tb2RpdHlEZXRhaWxcXC5hc3B4XFw/Q29tbW9kaXR5SWQ9IjogInlpZ3VvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLndhbmdnb3VcXC5jb20vIjogIndhbmdnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuamlhXFwuY29tL2l0ZW0vIjogImppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppdW1laVxcLmNvbS9wcm9kdWN0L1thLXowLTlfLV0rXFwuc2h0bWwiOiAiaml1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd2VpZ291XFwuYmFpZHVcXC5jb20vaXRlbSI6ICJiYWlkdS13ZWlnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubGV0dlxcLmNvbS9wcm9kdWN0LyI6ICJsZXR2IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKHhpYW8pP21pXFwuY29tLyhnb29kc3xpdGVtKS8iOiAieGlhb21pIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pXFwuY29tL1swLTldK1xcLmh0bWwiOiAieGlhb21pIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pXFwuY29tL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJ4aWFvbWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwubWlcXC5jb20vYnV5KD86cGhvbmV8bWl0dnxtaXR2XFx3KykvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5taVxcLmNvbS9zdGF0aWMvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5taVxcLmNvbS9idXkvW2EtejAtOV0rIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1pXFwuY29tLyg/Om1pNXxtaW1heHxyZWRtaW5vdGU0fG5vdGUzfGhvbmdtaTNzfHJlZG1pcHJvfGhvbmdtaTN8aG9uZ21pM3h8bWlib29rYWlyfG1pcGFkMnxtaXR2M3N8bWl0djNzfG1pdHYzc3xtaXR2M3xtaXR2M3xtaXR2M3x0dnpqfGhlemkzc3xoZXppM3xoZXppbWluaXxzaGJ8bWl2cjFjfG1pd2lmaTN8c2Nvb3RlcnxtaWJpY3ljbGV8a2V0dGxlfGRpYW5mYW5iYW98bWljYW1lcmF8eGlhb3lpfGFpcjJ8d2F0ZXJ8d2F0ZXIyfGloZWFsdGgyfGloZWFsdGh8bWpzbWFydGxhbXB8ZGVza2xhbXB8bWl0dXxjdXRlfHdhbmdndWFufHNob3VodWFuMnxzaG91aHVhbnxzY2FsZXxtaXR1d2F0Y2h8bWl3aWZpbWluaXxtaXdpZmlsaXRlfG1pd2lmaTNjfG1pd2lmaXxkaWFueXVhbjEwMDAwfGRpYW55dWFuMTAwMDB8ZGlhbnl1YW41MDAwfGNoYXhpYW5iYW4yfHBvd2Vyc3RyaXB8cmVjaGFyZ2VyfGNob25nZGlhbnFpNGtvdXxoZWFkcGhvbmV8cXVhbnRpZXxjYXBzdWxlZWFycGhvbmV8cG9ja2V0YXVkaW98bGl0dGxlYXVkaW98eWlueGlhbmd8c3BlYWtlcnxyYWRpb3xtaW1vc2RnZXxnZWxwZW58cGlsbG93WjF8cGlsbG93WjJ8cm9vbXJvYm90fHJlY2hhcmdlcjd8Y2hhcmdlcnxibHVldG9vdGgtaGVhZHNldHxzdWl0Y2FzZXxyZWRtaVxcdyt8bWk1c3BsdXN8bWk1c3xtaXh8bWlub3RlXFx3K3xtaTVjfG1heFxcdyt8bWk2fG1pcGFkM3xtaXR2XFx3KykvIjogInhpYW9taSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhbmR1XFwuY29tL2dvb2RzLSI6ICJoYW5kdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnl1bW15NzdcXC5jb20vcHJvZHVjdC9bMC05XStcXC5odG1sIjogInl1bW15NzciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mcnVpdGRheVxcLmNvbS93ZWIvcHJvL1swLTldKyI6ICJmcnVpdGRheSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmZydWl0ZGF5XFwuY29tL3Byb2RldGFpbC9pbmRleC9bMC05XSsiOiAiZnJ1aXRkYXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iZW5sYWlcXC5jb20vaXRlbS1cXGQrIjogImJlbmxhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmJlbmxhaVxcLmNvbS9bYS16L10rL2l0ZW0tWzAtOV0rXFwuaHRtbCI6ICJiZW5sYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90YW9zaHVcXC5jb20vXFxkK1xcLmh0bWwiOiAidGFvc2h1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS9jYXRlZ29yeS1bYS16XSsvZ29vZHMtWzAtOV0rXFwuaHRtbCI6ICJtZWlsZWxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS90dWFuZ291L2luZm8tWzAtOV0rLmh0bWwiOiAibWVpbGVsZS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpbGVsZVxcLmNvbS9taWFvc2hhL21zLVswLTldKy5odG1sIjogIm1laWxlbGUtbXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nandcXC5jb20vcHJvZHVjdC9pdGVtIjogImdqdyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmdqd1xcLmNvbS9Ib21lL1R1YW5JdGVtL1xcZCtcXC5odG0iOiAiZ2p3IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ2p3XFwuY29tL1RyeURyaW5rL2l0ZW0taWQtWzAtOV0rXFwuaHRtIjogImdqdyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vcHJvZHVjdC8iOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5hcHBsZVxcLmNvbS9jbi8oPzptYWNib29rfGlwYWQtcHJvfGlwYWR8aXBhZC1taW5pLTR8aXBob25lLTd8aXBob25lLVxcdyt8aXBvZC1zaHVmZmxlKS8iOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLmFwcGxlXFwuY29tL2NuL2J1eS1pcGhvbmUvaXBob25lXFx3KyI6ICJhcHBsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vYnV5LW1hYy9cXHcrLVxcdytcXD9wcm9kdWN0PVxcdysvXFx3KyI6ICJhcHBsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuYXBwbGVcXC5jb20vY24vYnV5LWlwYWQvaXBhZC1cXHcrLVxcdysiOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLmFwcGxlXFwuY29tL2NuL2J1eS1pcG9kL2lwb2QtXFx3Ky1cXHcrIjogImFwcGxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYXBwbGVcXC5jb20vY24vc2hvcC9idXktW2Etel0rL1thLXowLTktXSsiOiAiYXBwbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qMVxcLmNvbS9wcm9kdWN0LyI6ICJqMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21pYW9cXC5qMVxcLmNvbS9wcm9kdWN0LyI6ICJqMS1taWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3XFwufCl6emwzNjVcXC5jb20vcHJvZHVjdC1cXGQrIjogInp6bDM2NSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21vYmlsZVxcLjEzOXNob3BcXC5jb20vLio/L1xcZCsvXFxkK1xcLmh0bSI6ICIxMzlzaG9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vMTM5c2hvcFxcLmNvbS9bYS16MC05LV0rL1thLXowLTldKy9bYS16MC05XStcXC5odG0iOiAiMTM5c2hvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlpd3Vnb3VcXC5jb20vcHJvZHVjdC9kZXRhaWwvWzAtOV0rXFwuaHRtbCI6ICJ5aXd1Z291IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuemhpd29cXC5jb20vcHJvZHVjdC9cXGQrIjogInpoaXdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuemhpd29cXC5jb20vZ3JvdXAvXFxkKyI6ICJ6aGl3by10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vW15cXC5dK1xcLm1pcWlcXC5jbi9bXi9dKy9wXFxkKyI6ICJtaXFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWlxaVxcLmNuL1thLXpdKy9bMC05XStcXC5odG1sIjogIm1pcWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5jYW1lbFxcLmNvbVxcLmNuL1thLXpBLVowLTldKyhfW2EtekEtWjAtOV0rKSsvW1xcd10rXFwuc2h0bWwiOiAiY2FtZWwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5jYW1lbFxcLmNvbVxcLmNuL1thLXpBLVowLTlfXSsvW0EtWmEtejAtOV0rXFwuc2h0bWwiOiAiY2FtZWwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rdWFpc2h1YmFvXFwuY29tL1xcZCsvXFxkKyI6ICJrdWFpc2h1YmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3Lmt1YWlzaHViYW8uY29tL2cvIjogImt1YWlzaHViYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qdWVnZ1xcLmNvbS90ZW1wbGV0cy9EZWZhdWx0R3JlZW4vUHJvZHVjdFxcLmpzcCI6ICJqdWVnZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC4xMDAxMFxcLmNvbS9nb29kc2RldGFpbC9bXFxkXStcXC5odG1sIjogIm1hbGwxMDAxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndvd3NhaVxcLmNvbS9nb29kcy8iOiAid293c2FpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudGlhbnBpblxcLmNvbS9pdGVtLyI6ICJ0aWFucGluIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudG9vdG9vXFwuY24vcHJvZHVjdC0iOiAidG9vdG9vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudG9vdG9vXFwuY24vW2Etel0rL2RldGFpbC9bMC05XSsiOiAidG9vdG9vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLm1pbnNoZW5nZWNcXC5jb20vW2Etel0tKD86fFthLXpBLVolMC05XSspL1thLXowLTktXStcXC5qaHRtbCI6ICJtaW5zaGVuZ2VjIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2ZiZXN0XFwuY29tL2h0bWwvKHNmdik/cHJvZHVjdHMvIjogInNmYmVzdCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2h0XFwuc2ZiZXN0XFwuaGsvWzAtOWEtel9dK1xcLmh0bSI6ICJzZmJlc3QiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zaG9wXFwubGVub3ZvXFwuY29tXFwuY24vcHJvZHVjdC0iOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2hvcFxcLmxlbm92b21vYmlsZVxcLmNvbS9TaG93UGhvbmUuYXNweFxcP0dkc0lEPSI6ICJsZW5vdm8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sZW5vdm9tb2JpbGVcXC5jb20vc3RvcmUvXFxkK1xcLmh0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGVub3ZvXFwuY29tXFwuY24vcHJvZHVjdC9bMC05XStcXC5odG1sIjogImxlbm92byIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxlbm92b1xcLmNvbVxcLmNuL2FidGVzdC9bMC05X10rXFwuc2h0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdGhpbmtwYWRcXC5sZW5vdm9cXC5jb21cXC5jbi9wcm9kdWN0L1swLTldK1xcLmh0bWwiOiAibGVub3ZvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudm1hbGxcXC5jb20vaXRlbS9cXGQrLyg/OmluZGV4fGJ1eSkiOiAidm1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC52bWFsbFxcLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogInZtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaWh1c2hcXC5jb20vcHJvZHVjdCI6ICJpaHVzaCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLik/ZmNsdWJcXC5jbi9nb29kcyI6ICJmY2x1YiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC55b2hvYnV5XFwuY29tL3Byb2R1Y3QvXFx3Ky9cXHcrXFwuaHRtbCI6ICJ5b2hvYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlvaG9idXlcXC5jb20vXFx3K1xcLmh0bWwiOiAieW9ob2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmZjbHViXFwuY24vdHVhbmdvdURldGFpbFxcLmh0bWwiOiAiZmNsdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9qdVxcLnRhb2Jhb1xcLmNvbS90Zy9ob21lXFwuaHRtLiooaXRlbV8pP2lkPVtcXGRdKyI6ICJ0YW9iYW8tanUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC50bWFsbFxcLmNvbS9pdGVtXFwuaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd29ybGRcXC50bWFsbFxcLmNvbS9pdGVtL1swLTldKy5odG0iOiAidG1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC50bWFsbFxcLmhrL2hrL2l0ZW0uaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwudG1hbGxcXC5oay9pdGVtXFwuaHRtIjogInRtYWxsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnRhb2Jhb1xcLmNvbS9pdGVtLmh0bSI6ICJ0YW9iYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8yXFwudGFvYmFvXFwuY29tL2l0ZW1cXC5odG0iOiAidGFvYmFvLXhpYW55dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FpXFwudGFvYmFvXFwuY29tL2F1Y3Rpb24iOiAiYWktdGFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY2hhb3NoaVxcLmRldGFpbFxcLnRtYWxsXFwuY29tL2l0ZW1cXC5odG0iOiAidG1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC5qdVxcLnRhb2Jhb1xcLmNvbS9ob21lXFwuaHRtIjogInRhb2Jhby1qdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/OmFyY2hpdmUtc2hvcHxzaG9wfHd3d3xkYXl8bHV4KVxcLnZpcChzaG9wKT9cXC5jb20vZGV0YWlsIjogInZpcHNob3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90dWFuXFwubGVmZW5nXFwuY29tLy4qPy9cXGQrX1xcZCtcXC5odG1sIjogImxlZmVuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xwcm9kdWN0KVxcLmxlZmVuZ1xcLmNvbS8ocHJvZHVjdHxwa2xpc3QpLyI6ICJsZWZlbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3d8MWhvdXIpXFwuanhkeWZcXC5jb20vcHJvZHVjdFstL11bXFxkXSsiOiAianhkeWYiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5qeGR5ZlxcLmNvbS9Qcm9kdWN0Q29udGVudCI6ICJqeGR5ZiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnRuaWNlXFwuY29tL3Byb2R1Y3QvIjogInRuaWNlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vYXVjdGlvbjFcXC5wYWlwYWlcXC5jb20vIjogInBhaXBhaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC54aW5iYWlnb1xcLmNvbS9Hb29kcy9TdHlsZURldGFpbCI6ICJ4aW5iYWlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9yYmlzXFwuY29tXFwuY24uKnByb2R1Y3RcXC1bXFxkXSsiOiAib3JiaXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zZmh0XFwuY29tL2RldGFpbC9bMC05XStcXC5odG1sIjogInNmaHQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzp3d3d8Y29zbWV0aWMpXFwuZDFcXC5jb21cXC5jbi9wcm9kdWN0LyI6ICJkMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNoYXp1b1xcLmNvbS9Qcm9kdWN0L3BcXC1bXFxkXSsiOiAiY2hhenVvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwudTFiYWJ5XFwuY29tL3Byb2R1Y3RcXC1bXFxkXSsiOiAidTFiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKHd3d1xcLik/aG9tZXZ2XFwuY29tL3Z2c2hvcFByb2R1Y3RWaWV3L3BpZFxcLVtcXGRdK1xcLmpodG1sIjogImhvbWV2diIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2hvbWV2dlxcLmNvbS92dnNob3BQcm9kdWN0Vmlld1xcLmpodG1sIjogImhvbWV2diIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnBhaXhpZVxcLm5ldC9zaG9lXFwtLitcXC5odG1sIjogInBhaXhpZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5wYWl4aWVcXC5uZXQvWzAtOV0rXFwuaHRtbCI6ICJwYWl4aWUtdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2ZheGlhblxcLnBhaXhpZVxcLm5ldC9bMC05XStcXC5odG1sIjogInBhaXhpZS1mYXhpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50YW8zY1xcLmNvbS8ob3V0bGV0cy8pP3Byb2R1Y3QvW1xcZF0rXFwuaHRtbCI6ICJ0YW8zYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnptN1xcLmNuL2dvb2RzIjogInptNyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3NcXC5ldGFvXFwuY29tL2l0ZW0vW1xcZF0rXFwuaHRtbCI6ICJldGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc1xcLmV0YW9cXC5jb20vc2VhcmNoXFw/ZXBpZD1bXFxkXSsiOiAiZXRhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5wY2hvdXNlXFwuY29tXFwuY24vaXRlbS9bXFxkXStcXC5odG1sIjogInBjaG91c2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9idXlcXC5kYXBobmVcXC5jbi9nb29kc1xcLnBocCI6ICJkYXBobmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sdWNlbWFsbFxcLmNvbVxcLmNuLy4rL1tcXGRdK1xcLmh0bWwiOiAibHVjZW1hbGwiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWZldmNcXC5jb20vZGV0YWlsLyI6ICJsaWZldmMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lYXN5MzYxXFwuY29tL1teXFw/XSpnb29kcy1bXFxkXStcXC5odG1sIjogImVhc3kzNjEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuMzYwaHFiXFwuY29tL3NwdVxcLVtcXGRdK1xcLmh0bWwiOiAiMzYwaHFiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLjM2MGhxYlxcLmNvbS9bXFxkXStcXC5odG1sIjogIjM2MGhxYiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3FcXC4zNjBocWJcXC5jb20vZGV0YWlsL1tcXGRcXF9dK1xcLmh0bWwiOiAiMzYwaHFiIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291aml1d2FuZ1xcLmNvbS9wcm9kdWN0L2l0ZW1cXC1pZFxcLVtcXGRdK1xcLmh0bSI6ICJnb3VqaXV3YW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaHVpbWFpMzY1XFwuY29tL2dvb2RzXFwtW1xcZF0rXFwuaHRtbCI6ICJodWltYWkzNjUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3fHR1YW58ZGluZ3poaSlcXC5qaXV4aWFuXFwuY29tLyhnb29kc3x0dWFuX2RldGFpbClcXC0uK1xcLmh0bSI6ICJqaXV4aWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2luZW5pY2VcXC5jb20vcF9bXFxkXStcXC5zaHRtbCI6ICJ3aW5lbmljZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnllc215d2luZVxcLmNvbS9nb29kcy9bXFxkXStcXC5odG1sIjogInllc215d2luZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC55ZXNteXdpbmVcXC5jb20vc2hvcC9qdW5rYW5nL2l0ZW0tW1xcZF0rIjogInllc215d2luZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC55ZXNteXdpbmVcXC5jb20vc2hvcC9bXFx3XSsvaXRlbS1bXFxkXSsiOiAieWVzbXl3aW5lIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWFsbFxcLnllc215d2luZVxcLmNvbS9ncm91cGJ1eS9cXGQrXFwuaHRtbCI6ICJ5ZXNteXdpbmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iYW5nZ29cXC5jb20vR29vZHMvW1xcZF0rXFwuc2h0bWwiOiAiYmFuZ2dvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYmFuZ2dvXFwuY29tL2dvb2RzX1swLTldK1xcLnNodG1sIjogImJhbmdnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Bsb3lcXC5iYW5nZ29cXC5jb20vc2Vjb25kL1swLTktX10rXFwuc2h0bWwiOiAiYmFuZ2dvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueWFueXVlXFwuY24vc21va2VcXC1wcm9kdWN0XFwtW1xcZF0rXFwuaHRtbCI6ICJ5YW55dWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5iZWFyYnV5XFwuY29tXFwuY24vZ29vZHNcXC5waHBcXD9pZD1bXFxkXSsiOiAiYmVhcmJ1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmFtYXpvblxcLmNuLy4qPyg/OmRwL3xncC9wcm9kdWN0L3xkZXRhaWxBcHApIjogImFtYXpvbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmFtYXpvblxcLig/OmNvbXxjb1xcLnVrfGRlfGNvXFwuanB8ZnJ8Y2F8Y258aXR8ZXMpLy4qPyg/OmRwL3xncC9wcm9kdWN0L3xkZXRhaWxBcHApKD8hc2VhcmNoKSI6ICJhbWF6b24iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpwcm9kdWN0XFwuZGFuZ2RhbmdcXC5jb20vW15cXD9dKnByb2R1Y3QuYXNweHxyZWNvXFwuZGFuZ2RhbmdcXC5jb20vcmVjb19wdWJcXC5waHApXFw/cHJvZHVjdF9pZD1cXGQrIjogImRhbmdkYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86cHJvZHVjdHxkZXRhaWwpXFwuZGFuZ2RhbmdcXC5jb20vW1xcZF0rIjogImRhbmdkYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8velxcLmpkXFwuY29tL3Byb2plY3QvZGV0YWlscy9cXGQrXFwuaHRtbCI6ICIzNjBidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuamRcXC5jb20vXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlpeWFvamRcXC5jb20vXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmpkXFwuaGsvXFxkK1xcLmh0bWwiOiAiMzYwYnV5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcGFpbWFpXFwuamRcXC5jb20vXFxkKyI6ICIzNjBidXktcGFpbWFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGF5XFwuamRcXC5jb20vaXRlbS8uKlxcLmh0bWwiOiAiMzYwYnV5LWRheSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLig/OjM2MGJ1eXxqZClcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICIzNjBidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpib29rfGUpXFwuKD86MzYwYnV5fGpkKVxcLmNvbS9cXGQrXFwuaHRtbCI6ICIzNjBidXktYm9vayIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3JlXFwuamRcXC5jb20vY3BzL2l0ZW0vWzAtOV0rXFwuaHRtbCI6ICIzNjBidXktcmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9hdWN0aW9uXFwuamRcXC5jb20vWzAtOV0rIjogIjM2MGJ1eS1hdWN0aW9uIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbXZkXFwuKD86MzYwYnV5fGpkKVxcLmNvbS9cXGQrXFwuaHRtbCI6ICIzNjBidXktbXZkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhblxcLig/OjM2MGJ1eXxqZClcXC5jb20vdGVhbVxcLVxcZCtcXC5odG1sIjogIjM2MGJ1eS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86MzYwYnV5fGpkKVxcLmNvbS90dWFuL1tcXGRdK1xcLVtcXGRdK1xcLmh0bWwiOiAiMzYwYnV5LXR1YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4oPzozNjBidXl8amQpXFwuY29tL2JpZ2ltYWdlXFwuYXNweFxcP2lkPVxcZCsiOiAiMzYwYnV5LWJpZ2ltYWdlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY2x1YlxcLmpkXFwuY29tL2Jic0RldGFpbC9bYS16MC05Xy1dK1xcLmh0bWwiOiAiMzYwYnV5LWNsdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjB0b3BcXC5jb20vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICIzNjB0b3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC56b2xcXC5jb21cXC5jbi8uKj8oPzppbmRleCkuKj9cXC5zaHRtbCI6ICJ6b2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9kZXRhaWxcXC56b2xcXC5jb21cXC5jbi9bXFxkXSsvW1xcZF0rL1thLXpBLVpdK1xcLnNodG1sIjogInpvbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2RlYWxlclxcLnpvbFxcLmNvbVxcLmNuL2RldGFpbC9bXFxkXSsvW1xcZF0rX1tcXGRdKy5odG1sIjogInpvbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xtYWxsKVxcLnpvbFxcLmNvbS9kZXRhaWwiOiAiem9sIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuem9sXFwuY29tXFwuY24vc2VyaWVzL1swLTldKy9bMC05X10rXFwuaHRtbCI6ICJ6b2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5mZ2xhZHlcXC5jbi9CTXNnTCI6ICJmZ2xhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3Lnwpb3VrdVxcLmNvbS8oPzpnb29kc3xwcm9kdWN0KSI6ICJvdWt1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKHd3dy58KW91a3VcXC5jb20vY24vWzAtOWEtei1fXStcXC5odG1sIjogIm91a3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5uZXdlZ2coXFwuY29tKT9cXC5jbi9Qcm9kdWN0Ly4qP1xcLmh0bSI6ICJuZXdlZ2ciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly96aGFkYW5cXC5uZXdlZ2coXFwuY29tKT9cXC5jbi9Cb21iLVxcZCtcXC5odG0iOiAibmV3ZWdnIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vemhhZGFuXFwubmV3ZWdnXFwuY24iOiAibmV3ZWdnLXpoYWRhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5uZXdlZ2dcXC5jbi9kZWFsL1swLTldK1xcLmh0bSI6ICJuZXdlZ2ctdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5raW1pc3NcXC5jb20vcHJvZHVjdC8iOiAia2ltaXNzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucmVkYmFieVxcLmNvbVxcLmNuLy4qPy9cXGR7N31cXGQrXFwuaHRtbCI6ICJyZWRiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLm0xOFxcLmNvbS8iOiAibTE4IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbGlzdFxcLm0xOFxcLmNvbS9pdGVtLyI6ICJtMTgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9saXN0XFwubTE4XFwuY29tL2cvIjogIm0xOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2xpc3RcXC5tMThcXC5jb20vLipHb29kcy5hc3B4IjogIm0xOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm0xOFxcLmNvbS9pdGVtLyI6ICJtMTgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC53MVxcLmNuL2dvb2RzIjogIncxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYXNoZm9yZFxcLmNvbS91cy93YXRjaGVzL1thLXowLTktXSsvW2EtejAtOS1dKyI6ICJhc2hmb3JkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2VwaG9yYVxcLmNuL3Byb2R1Y3REZXRhaWxBY3Rpb24vIjogInNlcGhvcmFjcHMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zZXBob3JhXFwuY24vcHJvZHVjdC9cXGQrXFwuaHRtbCI6ICJzZXBob3JhY3BzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2VwaG9yYVxcLmNuL3RyeW91dC9cXGQrXFwuaHRtbCI6ICJzZXBob3JhY3BzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGFmYXNvXFwuY29tLyg/OnByb2R1Y3QvfGdvb2RzL3Byb2R1Y3RfZGV0YWlsKSI6ICJsYWZhc28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5zXFwuY24vKD8hcGFnZSlcXHd7Mix9XFwtW0EtWmEtejAtOV0rP1swLTldKz9bQS1aYS16MC05XSs/W1xcLV8qXFwuXS4qP2h0bWwiOiAicyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3c/aXRlbVxcLig/OjUxYnV5fHlpeHVuKVxcLmNvbS8iOiAiNTFidXkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5va2J1eVxcLmNvbS8uKj8vZGV0YWlsLSI6ICJva2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9rYnV5XFwuY29tLy4qPy1bXFxkXSsuaHRtbCI6ICJva2J1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2xldGFvXFwuY29tL1teXFw/XSpzaG9lXFwtW15cXH5dKiQiOiAibGV0YW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5idXkwMDdcXC5jb20vLio/Ly4qPy9bQS1aYS16XFxkXFxfXFwtXSo/XFwuaHRtbCI6ICJidXkwMDciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50YW94aWVcXC5jb20vY29tbW9kaXR5IjogInRhb3hpZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2p1XFwuc3VuaW5nXFwuY29tL3Byb2R1Y3QtW2EtekEtWjAtOV0rXFwuaHRtIjogInN1bmluZy1qdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5zdW5pbmdcXC5jb20vWzAtOV0rXFwuaHRtbCI6ICJzdW5pbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwuc3VuaW5nXFwuY29tL1swLTldKy9bMC05XStcXC5odG1sIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1bmluZ1xcLig/OmNvbXxjbikvd2ViYXBwL3djcy9zdG9yZXMvc2VydmxldC8oUHJvZHxwcmQpIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3BhaVxcLnN1bmluZ1xcLig/OmNvbXxjbikvc2hhbnBhaS9kZXRhaWwvIjogInN1bmluZy1wYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wYWlcXC5zdW5pbmdcXC4oPzpjb218Y24pL3NoYW5wYWkvWzAtOV0vZGV0YWlsL2QvWzAtOV0rLVswLTldIjogInN1bmluZy1wYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9bXFx3XStcXC5zdW5pbmdcXC4oPzpjb218Y24pL2VtYWxsL2RnZiI6ICJzdW5pbmctZGdmIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcWlhbmdcXC5zdW5pbmdcXC5jb20vcnBzLXdlYi9ycC9zaG93QWN0aXZpdHlfW1xcZF0rXFwuaHRtIjogInN1bmluZy1xaWFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5zdW5pbmdcXC5jb20vXFxkKyI6ICJzdW5pbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuc3VuaW5nXFwuY29tL2RldGFpbFswLTlfXStcXC5odG1sIjogInN1bmluZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnN1bmluZ1xcLmNvbS9kZXRhaWwvIjogInN1bmluZy1ib29rLW5ldyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3NuYm9va1xcLnN1bmluZ1xcLig/OmNvbXxjbikvd2ViL3ByZC8iOiAic3VuaW5nLXNuYm9vayIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmNvbzhcXC5jb20vcHJvZHVjdC8iOiAiY29vOCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3cufClsdXNlblxcLmNvbS9wcm9kdWN0L3Byb2R1Y3RpbmZvIjogImx1c2VuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubHVzZW5cXC5jb20vVHVhbi9Db21pdHlJbmZvXFwuYXNweFxcP2lkPVswLTldKyI6ICJsdXNlbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5nb21lXFwuY29tXFwuY24vW15cXD9dIjogImdvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90YW9cXC5nb21lXFwuY29tXFwuY24vcFxcLURbMC05XSsiOiAiZ29tZS10YW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9xXFwuZ29tZVxcLmNvbVxcLmNuL2l0ZW0vXFx3WzAtOV0rXFwuaHRtbCI6ICJnb21lLXEiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90dWFuXFwuZ29tZVxcLmNvbVxcLmNuL2RlYWwvXFx3K1xcLmh0bWwiOiAiZ29tZS10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ29tZWhvbWVcXC5jb20vcHJvZHVjdC9wcm9kdWN0aW5mb1xcP3A9WzAtOS1dKyI6ICJnb21lLWhvbWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nb21lXFwuY29tXFwuY24vZWMvcnVzaGJ1eS9saW1pdGJ1eS9pdGVtZGV0YWlsIjogImdvbWUtcnVzaGJ1eSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xpdGVtfHMpXFwuKHloZHx5aWhhb2RpYW58MW1hbGwpXFwuY29tLyg/OnByb2R1Y3R8aXRlbSkvXFxkKyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwueWhkXFwuY29tL2l0ZW0vbHAvWzAtOV9dKyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90cnlcXC55aGRcXC5jb20vKGZyZWV8ZmVlKS9cXGR7NCw2fV9cXGQrLyI6ICJ5aWhhb2RpYW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly90XFwuKHloZHx5aWhhb2RpYW58MW1hbGwpXFwuY29tL2RldGFpbC9cXGQrIjogInlpaGFvZGlhbi10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vW2EtekEtWl0rXFwud29tYWlcXC5jb20vKC4qKVByb2R1Y3QoPzpcXC18XFwuZG9cXD9tP2lkKSI6ICJ3b21haSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3d8c2h8Z3p8enMpXFwud29tYWlcXC5jb20vcmVsYXRlZC0iOiAid29tYWktcmVsYXRlZCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pP2xleW91XFwuY29tXFwuY24vcHJvZHVjdC9zaW5nbGUvIjogImxleW91IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaGFpdGFvXFwubGV5b3VcXC5jb21cXC5jbi9pdGVtL3NpbmdsZS9za3UvIjogImxleW91IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbGVsZXNoYW5cXC5sZXlvdVxcLmNvbVxcLmNuL3Byb2R1Y3Qvc2luZ2xlL1tBLVowLTldKyI6ICJsZXlvdS1sZWxlc2hhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnNob3BpblxcLm5ldC9wcm9kdWN0LyI6ICJzaG9waW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzppdGVtfHd3d3xlYmF5KVxcLnhpdVxcLmNvbS9wcm9kdWN0LyI6ICJ4aXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9vdXRsZXRzXFwueGl1XFwuY29tL1tcXGRdK1xcLnNodG1sIjogInhpdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2ZlcnJhZ2Ftb1xcLnhpdVxcLmNvbS9bXFxkXXs2LDEwfVxcLnNodG1sIjogInhpdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC54aXVcXC5jb20vdGVhbV9bXFxkXSsiOiAieGl1LXR1YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9pdGVtXFwubWJhb2Jhb1xcLmNvbS9wc2hvdyI6ICJtYmFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWJhb2Jhb1xcLmNvbS9pdGVtLyI6ICJtYmFvYmFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnZqaWFcXC5jb20vW1xcZF0qP1xcLmh0bWwiOiAidmppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjdjdlxcLmNvbS9wcm9kdWN0LyI6ICI3Y3YiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xaW5xaW5iYWJ5XFwuY29tL3Byb2R1Y3QvIjogInFpbnFpbmJhYnkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xaW5xaW5iYWJ5XFwuY29tL2dvb2RzL1swLTldKyI6ICJxaW5xaW5iYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuY2h1bnNodWl0YW5nXFwuY29tL1thLXpdKy9bMC05XStcXC5odG1sIjogImNodW5zaHVpdGFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhcXC5jb21cXC5jbi9uX3Byb2R1Y3QvW1xcd10rXFwuc2h0bWwiOiAieCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhcXC5jb21cXC5jbi9wcm9kdWN0IjogIngiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5ndW9waVxcLmNvbS9wXFwuanNwIjogImd1b3BpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubm81XFwuY29tXFwuY24vZ29vZHMvIjogIm5vNSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5vNVxcLmNvbVxcLmNuL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJubzUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93ZWJbXFxkXStcXC5zYXNhXFwuY29tL1Nhc2FXZWIvc2NoL3Byb2R1Y3Qvdmlld1Byb2R1Y3REZXRhaWwiOiAic2FzYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnNhc2FcXC5jb20vW2Etel0rL1thLXpBLVowLTlfLV0rIjogInNhc2EiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kaGNcXC5uZXRcXC5jbi9nZHMvKD86ZGV0YWlsfGNzZWFyY2hcXC5qc3BcXD9jY2Q9W1xcZF0rKSI6ICJkaGMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC45ZGFkYW9cXC5jb20vcHJvZHVjdC8iOiAiOWRhZGFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMzYwa3hyXFwuY29tL3Byb2R1Y3QvIjogIjM2MGt4ciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm02Z29cXC5jb20vcHJvZHVjdCI6ICJtNmdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291XFwuY29tL3Byb2R1Y3QiOiAibTZnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm02Z29cXC5jb20vcWcvcHJvZHVjdCI6ICJtNmdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ291XFwuY29tL3FnL3Byb2R1Y3QiOiAibTZnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpa2VmYWNlXFwuY29tL3Byb2R1Y3QiOiAibGlrZWZhY2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5xeGlhblxcLmNvbS8uKj9bMC05XSo/XFwuaHRtbCI6ICJxeGlhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmRpZGFtYWxsXFwuY29tLyg/OnByb2R1Y3RzfGxpYmFvKS9pbmZvLyI6ICJkaWRhbWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlhb2RpYW4xMDBcXC5jb20vZWNtYWxsL3Byb2R1Y3QiOiAieWFvZGlhbjEwMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlhb2ZhbmdcXC5jbi9nb29kcyI6ICJ5YW9mYW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubGlqaWFiYWJ5XFwuY29tXFwuY24vKD86ZXNob3AvcHJvZHVjdHxDbG90aGluZy8uKj8vUHJvZHVjdF9pdGVtXFwuYXNweCkiOiAibGlqaWFiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vOTlyZWFkXFwuY29tL1Byb2R1Y3QvW2EtekEtWl0qXFxkK1thLXpBLVpdKlxcLmFzcHgiOiAiOTlyZWFkIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmNoaW5hLXB1YlxcLmNvbSI6ICJjaGluYS1wdWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8od3d3LnwpYm9va3NjaGluYVxcLmNvbS9bXFxkXStcXC5odG0iOiAiYm9va3NjaGluYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3cufClib29rc2NoaW5hXFwuY29tL0dST1VQQlVZL2dyb3VwYnV5LmFzcHhcXD9ncm91cGlkXFw9WzAtOV0rIjogImJvb2tzY2hpbmEtdHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmVmZWlodVxcLmNvbS8oPzpQcm9kdWN0L3xQYWdlcy9Qcm9kdWN0U2hvdy9Qcm9kdWN0RGV0YWlsc1xcLmFzcHgpIjogImVmZWlodSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3R1YW5cXC5lZmVpaHVcXC5jb20vWzAtOWEtekEtWl0rL0RldGlhbHMuYXNweFxcP2lkPVswLTldKyI6ICJlZmVpaHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjBtYXJ0XFwuY29tL3Byb2R1Y3Rbc10/Ly4qP1xcLmh0bWwiOiAiMzYwbWFydCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlpbnRhaVxcLmNvbS9wcm9kdWN0L3Byb2R1Y3RkZXRhaWwiOiAieWludGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnlpbnRhaVxcLmNvbS8iOiAieWludGFpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwucXV3YW5cXC5jb20vZ29vZHMiOiAicXV3YW4iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC51cmNvc21lXFwuY29tL3NlYXJjaC9maW5hbCI6ICJ1cmNvc21lIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY25cXGQqXFwuc3RyYXdiZXJyeW5ldFxcLmNvbS8uKj8vWzAtOV0rLyI6ICJzdHJhd2JlcnJ5bmV0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubHVjZVxcLmNvbVxcLmNuL3Byb2R1Y3QvIjogImx1Y2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rMTIxXFwuY29tL2l0ZW0iOiAiazEyMSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhhcHBpZ29cXC5jb20vW1xcd10rL1tcXHddKy9bXFx3XSsvW1xcZF0rXFwuaHRtbCI6ICJoYXBwaWdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmhhcHBpZ28uY29tL2l0ZW0tWzAtOV0rLmh0bWwiOiAiaGFwcGlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC5oYXBwaWdvXFwuY29tL2dvb2RzLVtcXGRdK1xcLmh0bWwiOiAiaGFwcGlnbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL21hbGxcXC5oYXBwaWdvXFwuY29tL2dyb3VwYnV5LVswLTktXStcXC5odG1sIjogImhhcHBpZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5nYXBcXC5jbi9bXlxcP10qcHJvZHVjdC9bXFxkXStcXC5odG1sIjogImdhcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1pc3NsZWxlXFwuY29tLy4rW1xcZF0rXFwuaHRtbCI6ICJtaXNzbGVsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjVsdXhcXC5jb20vZ29vZHMiOiAiNWx1eCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d3xodWkpXFwuNWx1eC5jb20vZ29vZC9kZXRhaWwvWzAtOV0rIjogIjVsdXgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54aWFvemh1cmVuXFwuY29tLyhEaXNuZXkvKT9nb29kc1xcLnBocCI6ICJ4aWFvemh1cmVuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYWxsM2NcXC5jb20vcHJvZHVjdC8iOiAiYWxsM2MiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5pZGFwaG5lXFwuY29tL2dvb2RzIjogImlkYXBobmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNiYWJ5XFwuY29tXFwuY24vYS8iOiAicGNiYWJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuYmluZ2dvXFwuY29tLy4qPy9cXGR7N31cXGQrXFwuaHRtbCI6ICJiaW5nZ28iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC50aWFudGlhblxcLmNvbS8uKy9bYS16QS1aXT9bXFxkXStcXC5odG1sIjogInRpYW50aWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vdHVhblxcLnRpYW50aWFuXFwuY29tL1NhbGUvKD86RGV0YWlsc3xGbGFzaERldGFpbHMpL1thLXpBLVowLTldKyI6ICJ0aWFudGlhbi10dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGlqaVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAieGlqaSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhpamllXFwuY29tL3Byb2QiOiAieGlqaWUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwuanVtZWlcXC5jb21bXlxcP10qL3Byb2R1Y3RfIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcG9wXFwuanVtZWlcXC5jb20vaS9kZWFsL1xcdytcXC5odG1sIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKGd6fGJqfHNoKVxcLmp1bWVpXFwuY29tL2kvZGVhbC9cXHcrXFwuaHRtbCI6ICJqdW1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5qdW1laVxcLmNvbS9bMC05YS16QS1aXStcXC5odG1sIjogImp1bWVpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuanVtZWlnbG9iYWxcXC5jb20vZGVhbC9cXHcrXFwuaHRtbCI6ICJqdW1laWdsb2JhbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5qdW1laWdsb2JhbFxcLmNvbS9bMC05YS16QS1aXStcXC5odG1sIjogImp1bWVpZ2xvYmFsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuanVtZWlnbG9iYWxcXC5jb20vRGVhbC9Db21iaW5hdGlvblxcPyI6ICJqdW1laWdsb2JhbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2J1eVxcLmNhb21laXBhaVxcLmNvbS9nb29kcyI6ICJjYW9tZWlwYWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYWh1b3poYW5cXC5jb20vcHJvZHVjdC8iOiAiZGFodW96aGFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZGF6aGVcXC5jbi9nb29kc2RldGFpbCI6ICJkYXpoZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmh1b2xpZGFcXC5jb20vcHJvZHVjdC8iOiAiaHVvbGlkYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjEyZGlhblxcLmNvbS9wcm9kdWN0IjogIjEyZGlhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnlvdWdvdVxcLmNvbS9jXyI6ICJ5b3Vnb3UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8oPzpvdXRsZXRzfHd3dylcXC55b3Vnb3VcXC5jb20vW14/XStza3UtW1xcd10rIjogInlvdWdvdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Om91dGxldHN8c2VvdWx8d3d3KVxcLnlvdWdvdVxcLmNvbS9bYS16LV0rL3NrdS1bYS16MC05LV0rXFwuc2h0bWwiOiAieW91Z291IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMTExXFwuY29tXFwuY24vKD86cHJvZHVjdHxpdGVtKS8iOiAiMTExIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZGFveWFvXFwuY29tL3Byb2R1Y3QiOiAiZGFveWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuamlhbmtlXFwuY29tL3Byb2R1Y3QvIjogImppYW5rZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppYW5rZVxcLmNvbS90dWFuL3Byb2R1Y3QvWzAtOV0rXFwuaHRtbCI6ICJqaWFua2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4zNjBrYWRcXC5jb20vcHJvZHVjdC9bMC05YS16XStcXC5zaHRtbCI6ICIzNjBrYWQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5sYnhjbi5jb20vKD86UHJvZHVjdHxpdGVtKS9bMC05XSsuaHRtbCI6ICJsYnhjbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxieGNuLmNvbS9oZXBzdG9yZWZyb250L2xieC96aC9MQlgvLiovcC9bMC05XSsiOiAibGJ4Y24iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9ib29rXFwuZG91YmFuXFwuY29tL3N1YmplY3QvW1xcZF0rIjogImRvdWJhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Rvbmd4aVxcLmRvdWJhblxcLmNvbS9zaG93L1tcXGRdKyI6ICJkb3ViYW4tZG9uZ3hpIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLml0MTY4XFwuY29tL2RldGFpbC9kb2MvWzAtOV0rL2luZGV4XFwuc2h0bWwiOiAiaXQxNjgiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNvbmxpbmVcXC5jb21cXC5jbi9bXi9dKj8vW14vXSo/L1swLTldK1xcLmh0bWwiOiAicGNvbmxpbmUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNwb3BcXC5jb20vWzAtOV0rL0luZGV4XFwuaHRtbCI6ICJwY3BvcCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Nvc21lXFwucGNsYWR5XFwuY29tXFwuY24vcHJvZHVjdC9bMC05XStcXC5odG1sIjogInBjbGFkeSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2JyYW5kXFwueW9rYVxcLmNvbS9jb3NtZXRpY3MvLio/L2RldGFpbFswLTldK1xcLmh0bSI6ICJ5b2thIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuNTViYnNcXC5jb20vLio/L2luZGV4WzAtOV0rXFwuc2h0bWwiOiAiNTViYnMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9oenBcXC5vbmx5bGFkeS5jb20vLio/L1swLTldKy8iOiAib25seWxhZHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC4yNGRxLmNvbS9wcm9kdWN0Lio/aHRtbCI6ICIyNGRxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubXV5aW5nemhpamlhXFwuY29tL1Nob3BwaW5nL1Byb2R1Y3REZXRhaWxcXC5hc3B4IjogIm11eWluZ3poaWppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm11eWluZ3poaWppYVxcLmNvbS9wcm9kdWN0L1xcZCtcXC5odG1sIjogIm11eWluZ3poaWppYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC5tdXlpbmd6aGlqaWFcXC5jb20vXFxkK1xcLmh0bWwiOiAibXV5aW5nemhpamlhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaG91bWFydFxcLmNvbS9wXFwtW1xcZF0rXFwuaHRtbCI6ICJob3VtYXJ0IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub25seXRzXFwuY24vZ29vZHMiOiAib25seXRzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2lueHVhblxcLmNvbS9wcm9kdWN0Ly4qP1swLTldKj8iOiAid2lueHVhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW1cXC53aW54dWFuXFwuY29tL1swLTldKyI6ICJ3aW54dWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwuYm9va3V1XFwuY29tL1swLTldKj9cXC5odG1sIjogImJvb2t1dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2VcXC5ib29rdXVcXC5jb20vZGV0YWlsXFwucGhwXFw/aWQ9XFxkKyI6ICJib29rdXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93ZW5qdVxcLmJvb2t1dVxcLmNvbS9kZXRhaWxcXC5waHBcXD9pZD1cXGQrIjogImJvb2t1dSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2Jvb2tcXC5iZWlmYWJvb2tcXC5jb20vUHJvZHVjdC9Cb29rRGV0YWlsLmFzcHgiOiAiYmVpZmFib29rIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLnllc2t5XFwuY29tL3Byb2R1Y3QvLio/WzAtOV0qPy8iOiAieWVza3kiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwucGNob21lXFwubmV0Ly4qP1swLTldKj9cXC5odG1sIjogInBjaG9tZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5lbmV0XFwuY29tXFwuY24vW2EtekEtWlxcLV0uKj9bXFxkXS4qP1xcLmh0bWwiOiAiZW5ldCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyh3d3dcXC4pPyg/OnJ1aXlpfHJheWkpXFwuKD86Y29tfGNufGNvbVxcLmNuKS9cXD9wcm9kdWN0LVtcXGRdLio/XFwuaHRtbCI6ICJydWl5aSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5vcFxcLmNuL3Byb2R1Y3QtW1xcZF0qP1xcLmh0bWwiOiAibm9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmltb2JpbGVcXC5jb21cXC5jbi9zaG93L1tcXGRdLio/XFwuaHRtbCI6ICJpbW9iaWxlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLmNubW9cXC5jb20vY2VsbF9waG9uZS9pbmRleFtcXGRdLio/XFwuc2h0bWwiOiAiY25tbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Bob25lXFwuc2hvdWppXFwuY29tXFwuY24vW1xcZF0rL2RldGFpbC9bXFxkXSsiOiAic2hvdWppIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcHJvZHVjdFxcLnRvbXBkYVxcLmNvbS9bYS16QS1aXS9bYS16QS1aXS9bXFxkXSsvW1xcZF0rIjogInRvbXBkYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLjM1MzNcXC5jb20vcGhvbmUvcGhvbmUuK1xcLmh0bSI6ICJwaG9uZTM1MzMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuaW50b3pnY1xcLmNvbS9bYS16QS1aXFxfXStcXF9bXFxkXSsiOiAiaW50b3pnYyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Byb2R1Y3RcXC5jaGluYWJ5dGVcXC5jb20vcHJvZHVjdC9bXFxkXSsvW1xcZF0rIjogImNoaW5hYnl0ZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FwcFxcLnRlY2hcXC5pZmVuZ1xcLmNvbS9bYS16QS1aXFwtXFxfXSsvW2EtekEtWlxcLVxcX10rL1thLXpBLVowLTlcXC1cXF9dKyI6ICJpZmVuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2FwcFxcLnRlY2hcXC5pZmVuZ1xcLmNvbS9bYS16QS1aXFwtXFxfXSsvZGV0YWlsXFwtaW5kZXhcXC1bMC05XStcXC5odG1sIjogImlmZW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3MlxcLnhpdGVrXFwuY29tL3Byb2R1Y3Rpb24vcHJvZHVjdC5waHAiOiAieGl0ZWsiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9wcm9kdWN0XFwuaW1wM1xcLm5ldC9wcm9kdWN0XFwucGhwIjogImltcDMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5tZW5nbHVcXC5jb20vcHJvZHVjdC9bXFxkXStcXC5odG1sIjogIm1lbmdsdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/OmxhZHl8bGluZ2VyaWV8d3d3fGZhc2hpb258c2hpcGlufGl0ZW0pXFwubW9vbmJhc2FcXC5jb20vW2EtekEtWl1cXC1bXFxkXStcXC5odG1sIjogIm1vb25iYXNhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86aW5nMmluZ3xxamhlcmJ8a29yaXJsfGFsYXZlc3wwLTEwMHN8Y2hlcnJpZXNwaWV8Y2xhZmllbGR8YmFveWVhaHxzdW9yYW5nfG1vbnRlYW1vcnxydXRpc2hlcilcXC5jb20vcFxcLVtcXGRdK1xcLmh0bWwiOiAibW9vbmJhc2EiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rZWVkZVxcLmNvbShcXC5jbik/L1thLXpBLVpdK1tcXGRdK1xcLmh0bWwiOiAia2VlZGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5rZWRlXFwuY29tKFxcLmNuKT8vW2EtekEtWl0rW1xcZF0rXFwuaHRtbCI6ICJrZWVkZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL2l0ZW0oXFwudnQpP1xcLnZhbmNsXFwuY29tL1tcXGRdK1xcLmh0bWwiOiAidmFuY2wiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYXpob25nZGlhbnFpXFwuY29tXFwuY24vZGF6aG9uZy9wcm9kdWN0W1xcLVxcZF0rXFwuaHRtIjogImRhemhvbmdkaWFucWkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5za2luc3RvcmVjaGluYVxcLmNvbS8uKy8uK1tcXGRdK1xcLXBcXC5odG1sIjogInNraW5zdG9yZWNoaW5hIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLmJ1eVxcLnFxXFwuY29tL2l0ZW0vIjogInFxIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vLipcXC56b2xcXC5jb21cXC5jbi9cXGQrL1xcZCtcXC5odG1sIjogInpvbC1hcnRpY2xlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vLipcXC5wY29ubGluZVxcLmNvbVxcLmNuL1xcZCsvXFxkK1xcLmh0bWwiOiAicGNvbmxpbmUtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwueWVza3lcXC5jb20vXFxkKy9cXGQrXFwuc2h0bWwiOiAieWVza3ktYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwuaXQxNjhcXC5jb20vW2Etel1cXGQrL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwiOiAiaXQxNjgtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwucGNwb3BcXC5jb20vZG9jL1xcZCsvXFxkKy9cXGQrXFwuc2h0bWwiOiAicGNwb3AtYXJ0aWNsZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLy4qXFwucGNob21lXFwubmV0L2NvbnRlbnQtXFxkK1xcLmh0bWwiOiAicGNob21lLWFydGljbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly8uKlxcLjEzOXNob3BcXC5jb20vLio/L1xcZCsvXFxkK1xcLmh0bSI6ICIxMzlzaG9wLWFydGljbGUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWxpZXJcXC5jb20vcHJvZHVjdC8iOiAibWlsaWVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3BvcnRpY2FcXC5jbi9nb29kcyI6ICJzcG9ydGljYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnpoZW5waW5cXC5jb20vcHJvZHVjdCI6ICJ6aGVucGluIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZ2FvamllXFwuY29tL3Byb2R1Y3QvIjogImdhb2ppZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm5hcnVrb1xcLmNvbVxcLmNuL3Nob3AvcHJvZHVjdC9Hb29kc1xcLmFzcHgiOiAibmFydWtvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuKD86dml2aWFufG1hc2FtYXNvfGxpbmttYXNhKVxcLig/OmNvbXxjbikvZ29vZHNfIjogIm1hc2FtYXNvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnNlY29vXFwuY29tLyI6ICJzZWNvbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3BhaW1haVxcLnNlY29vXFwuY29tL1swLTldK1xcLnNodG1sIjogInNlY29vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vc2FsZVxcLnNlY29vXFwuY29tL1swLTldK1xcLnNodG1sIjogInNlY29vIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vKD86d3d3fHR1YW4pXFwuZWhhaWVyXFwuY29tL3Byb2R1Y3QvIjogImVoYWllciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3FpamlcXC5laGFpZXJcXC5jb20vbmV3L25ld0V4cGxvcmVNYW5hZ2VyL2RhdGVpbC9bMC05XSsiOiAiZWhhaWVyIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuaGFuZHV5aXNoZVxcLmNvbS9nb29kcyI6ICJoYW5kdXlpc2hlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwud2JpYW9cXC5jbi9bYS16MC05LV0rXFwuaHRtbCI6ICJ3YmlhbyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndiaWFvXFwuY24vZ29vZHNcXC5waHBcXD9nb29kc19pZD1bMC05XSsiOiAid2JpYW8iLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC53Ymlhb1xcLmNuL3Zhbi1kZXItYmF1d2VkZS1cXHdbMC05XStcXC5odG1sIjogIndiaWFvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc2hhbmdwaW5cXC5jb20oXFwuaGspKi8uKj9wcm9kdWN0LyI6ICJzaGFuZ3BpbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnBiYVxcLmNuLyg/OnByb2R1Y3R8c3ApIjogInBiYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm1ldHJvbWFsbFxcLmNuL1Byb2R1Y3QvIjogIm1ldHJvbWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxpemlcXC5jb20vcHJvZHVjdCI6ICJsaXppIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwua2FkYW5nXFwuY29tL1thLXpBLVowLTkvXSpkZXRhaWxcXGQrIjogImthZGFuZyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmthZGFuZ1xcLmNvbS9wcm9kdWN0L1swLTldKyI6ICJrYWRhbmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5haW1lclxcLmNvbVxcLmNuL2dvb2RzLyI6ICJhaW1lciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxhbWl1XFwuY29tL2dvb2RzXyI6ICJsYW1pdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxhbWl1XFwuY29tLyg/Omdvb2RzX3xwcm9kdWN0LSkiOiAibGFtaXUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5lc3ByaXRcXC5jbi8oPzpwcm9kdWN0fGl0ZW0pLyI6ICJlc3ByaXQiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5saWVib1xcLmNvbS9wcm9kdWN0LyI6ICJsaWVibyIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLndhbmdqaXVcXC5jb20vcHJvZHVjdC8oPyFmbGFzaFByb21vdGlvbikiOiAid2FuZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy53YW5naml1LmNvbS9tYWxsL2l0ZW0tcGlkLVthLXpBLVowLTldK1xcLmh0bWwiOiAid2FuZ2ppdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnhpZnVxdWFuXFwuY29tL3Byb2R1Y3QvIjogInhpZnVxdWFuIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuMTg5XFwuY24vcHJvZHVjdHMvIjogIjE4OSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmhpY2RtYVxcLmNvbS9wcm9kdWN0X2RldGFpbF8iOiAiaGljZG1hIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vbWFsbFxcLjEwMDEwXFwuY29tL2dvb2RzZGV0YWlsLyI6ICIxMDAxMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmUxMDBcXC5jbi9lYml6L2NoYW5uZWwvKC4qLykrXFxkK1xcLmh0bWwiOiAiZTEwMCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3N0b3JlXFwuc2Ftc3VuZ1xcLmNvbS9jbi8uKi9wLy4qIjogInNhbXN1bmciLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9zdG9yZVxcLm1laXp1XFwuY29tL3Byb2R1Y3QvIjogIm1laXp1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vZGV0YWlsXFwubWVpenVcXC5jb20vaXRlbS9cXHcrIjogIm1laXp1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vYjJjXFwuOTU4c2hvcFxcLmNvbS8uKi9cXGQrXFwuaHRtbCI6ICI5NThzaG9wIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub2tocWJcXC5jb20vaXRlbS9cXGQrXFwuaHRtbCI6ICJva2hxYiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9raHFiXFwuY29tL3FpYW5nL1xcZCsvXFxkK1xcLmh0bWwiOiAib2tocWIiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC56dGVkZXZpY2VcXC5jb21cXC5jbi9wcm9kdWN0LyI6ICJ6dGVkZXZpY2UiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5kYWxpbmdcXC5jb20vZGV0YWlsLVswLTldK1xcLmh0bWwiOiAiZGFsaW5nIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnNob3dqb3lcXC5jb20vc2t1L1swLTldK1xcLmh0bWwiOiAic2hvd2pveSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLm9jalxcLmNvbVxcLmNuL2RldGFpbC9bMC05XSsiOiAib2NqIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwub2NqXFwua3IvZGV0YWlsL1swLTldKyI6ICJvY2ota3IiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5vY2pcXC5jb21cXC5jbi9vdHVhbnMvW2Etel0rL1swLTldKyI6ICJvY2otdHVhbiIsCgkJCQkJIl5odHRwOi8vd3d3XFwubHZ5b3VtYWxsXFwuY29tLyh0dWFuL2dvb2RzLXx0bWgvZ29vZHMtfGdvb2RzLylcXGQrIjogImx2eW91bWFsbCIsCgkJCQkJImh0dHA6Ly93d3dcXC5ranRcXC5jb20vcHJvZHVjdC9kZXRhaWwvXFxkKyI6ICJranQiLAoJCQkJCSJodHRwOi8vc3RvcmVcXC5sb2dpdGVjaFxcLmNvbVxcLmNuL3Byby9wcm9EZXRhaWwvXFxkKyI6ICJsb2dpdGVjaCIsCgkJCQkJImh0dHA6Ly9zaG9wXFwuYm9vaGVlXFwuY29tL3N0b3JlL2dvb2RzL1xcdysiOiAiYm9vaGVlIiwKCQkJCQkiaHR0cDovL3d3d1xcLm1laWNpXFwuY29tL3Byb2R1Y3QtW2EtekEtWjAtOS1dK1xcLmh0bWwiOiAibWVpY2kiLAoJCQkJCSJodHRwOi8vd3d3XFwubWVpY2lcXC5jb20vcHJvZHVjdC4qIjogIm1laWNpIiwKCQkJCQkiaHR0cDovLyg/Omdsb2JhbHx5b3V8d3d3KVxcLmJlaWJlaVxcLmNvbS9kZXRhaWwvWzAtOS1dK1xcLmh0bWwiOiAiYmVpYmVpIiwKCQkJCQkiaHR0cDovL3N0b3JlXFwubmlrZVxcLmNvbS9jbi96aF9jbi9wZC9bYS16QS1aMC05XFx1NGUwMC1cXHU5ZmE1LV0rIjogIm5pa2UiLAoJCQkJCSJodHRwOi8vc3RvcmVcXC5uaWtlXFwuY29tL2NuL3poX2NuL3Byb2R1Y3QvW2EtekEtWjAtOVxcdTRlMDAtXFx1OWZhNS1dKyI6ICJuaWtlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuZmVuZ3F1XFwuY29tL2RldGFpbC8iOiAiZmVuZ3F1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwubWVpXFwuY29tL3NpbG8vLiotZXZlbnQtZXZlbnQvLipcXC5odG1sIjogIm1laSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLnZzaWdvXFwuY24vLipcXC5odG1sIjogInZzaWdvIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3VuZGFuXFwuY29tL3Byb2R1Y3QtWzAtOV0rIjogInN1bmRhbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmppYWVcXC5jb20vcHJvZHVjdGRldGFpbCI6ICJqaWFlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaGRcXC56YXpoaXB1XFwuY29tLy4qXFwuYXNwXFw/aWQ9WzAtOV0rIjogInphemhpcHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5taWNyb3NvZnRzdG9yZVxcLmNvbVxcLmNuLyVFNyVCMSVCQiVFNSU4OCVBQi8uKi9wLy4qIjogIm1pY3Jvc29mdHN0b3JlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwueGdkcVxcLmNvbS9wcm9kdWN0LVswLTldK1xcLmh0bWwiOiAieGdkcSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovLyg/Ond3d1xcLnwpeHRlcFxcLmNvbVxcLmNuL2dvb2RzL2RvX2luZGV4IjogInh0ZXAiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54dGVwXFwuY29tXFwuY24vdGVhbS1bMC05XStcXC5odG1sIjogInh0ZXAiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC54dGVwXFwuY29tXFwuY24vc3Bpa2UtWzAtOV0rXFwuaHRtbCI6ICJ4dGVwIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3XFwuc3RhcGxlc1xcLmNuL3Byb2R1Y3QvWzAtOWEtekEtWl0rIjogInN0YXBsZXMiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9tYWxsXFwubWlkZWFcXC5jb20vZGV0YWlsL2luZGV4IjogIm1pZGVhIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3MVxcLm1hY3lzXFwuY29tL3Nob3AvcHJvZHVjdC9cXHcrIjogIm1hY3lzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vY24uc2hvcGJvcC5jb20vW2EtejAtOS1dKy92cC9cXHcrIjogInNob3Bib3AiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3dcXC5odWFcXC5jb20vcHJvZHVjdC9bMC05XStcXC5odG1sIjogImh1YSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuemhlODAwLmNvbS9wcm9kdWN0cy9bMC05YS16XSsiOiAiemhlODAwIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmNvc21lLmNvbS9wcm9kdWN0cy9kZXRhaWwucGhwXFw/cHJvZHVjdF9pZCI6ICJjb3NtZSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5kaWFwZXJzLmNvbS9wLyI6ICJkaWFwZXJzIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LndpbmRlbG4uZGUvemgvXFx3Ky0iOiAid2luZGVsbiIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lc2NlbnR1YWwuY29tL1thLXpdK1swLTldKy8iOiAiZXNjZW50dWFsIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJpY2NhbWVyYS5jb20vYmMvZGlzcC9cXHcrIjogImJpY2NhbWVyYSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5lc3RlZWxhdWRlci5jb20vcHJvZHVjdC9cXGQrL1xcZCsvXFx3KyI6ICJlc3RlZWxhdWRlciIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3dy5zYWtzZmlmdGhhdmVudWUuY29tL21haW4vUHJvZHVjdERldGFpbC5qc3AiOiAic2Frc2ZpZnRoYXZlbnVlIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LnRoZXdhdGNoZXJ5LmNvbS9kZXRhaWwuYXNwIjogInRoZXdhdGNoZXJ5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbS50dWh1Lihjbnxjb20pL1Byb2R1Y3RzLyI6ICJ0dWh1IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vaXRlbVxcLnR1aHVcXC5jbi9Qcm9kdWN0cy9bQS1aLV0rL1xcZCtcXC5odG1sIjogInR1aHUiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly9lc2hvcC5odGMuY29tL21hbGwvemgtQ04vaHRjL1thLXowLTktXSsiOiAiaHRjIiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vcm9zZW9ubHkuY29tLmNuL2l0ZW0vWzAtOV0rLmh0bWwiOiAicm9zZW9ubHkiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cudGFxdS5jbi9nb29kcy1cXGQrLmh0bWwiOiAidGFxdSIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3Nob3AuanguMTg5LmNuL3dlYi9wcm9kdWN0RGV0YWlsLmFjdGlvblxcP3Byb2R1Y3RJbmZvSUQiOiAiMTg5IiwKCQkJCQkiXig/Omh0dHB8aHR0cHMpOi8vd3d3LmJmdHYuY29tL3Byb2R1Y3QvWzAtOV0rIjogImJmdHYiLAoJCQkJCSJeKD86aHR0cHxodHRwcyk6Ly93d3cuYXhtYWxsLmNvbS5hdS9wL1xcZCtcXC5odG1sIjogImF4bWFsbCIsCgkJCQkJIl4oPzpodHRwfGh0dHBzKTovL3d3d1xcLmxvdm9cXC5jbi9wci1bMC05XStcXC5odG0iOiAibG92byIKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IGwoKTsKCQkJCWkucGFnZUluZm8gPSBlLCBpLnNqZml4IHx8IChpLnNpdGUgJiYgKCJ0YW9iYW8iID09IGkuc2l0ZSB8fCAidG1hbGwiID09IGkuc2l0ZSB8fCBpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCAiMTY4OCIgPT0gaS5zaXRlKSAmJiAoaS5hbGlTaXRlID0gITApLCBpLm5ld19leHRlbnNpb24gJiYgMCA9PT0gZS50eXBlICYmIChuKDcpLmdldFB1cmVNZWRpYXYoKSwgbigyNSkuaW5pdCgpKSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJISBmdW5jdGlvbih0LCBuKSB7CgkJCSJvYmplY3QiID09IHR5cGVvZiBlICYmICJvYmplY3QiID09IHR5cGVvZiBlLmV4cG9ydHMgPyBlLmV4cG9ydHMgPSB0LmRvY3VtZW50ID8gbih0LCAhMCkgOiBmdW5jdGlvbihlKSB7CgkJCQlpZiAoIWUuZG9jdW1lbnQpIHRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpOwoJCQkJcmV0dXJuIG4oZSkKCQkJfSA6IG4odCkKCQl9KCJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbihhLCBvKSB7CgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJdmFyIHQgPSAibGVuZ3RoIiBpbiBlICYmIGUubGVuZ3RoLAoJCQkJCW4gPSBsZS50eXBlKGUpOwoJCQkJcmV0dXJuICJmdW5jdGlvbiIgPT09IG4gfHwgbGUuaXNXaW5kb3coZSkgPyAhMSA6IDEgPT09IGUubm9kZVR5cGUgJiYgdCA/ICEwIDogImFycmF5IiA9PT0gbiB8fCAwID09PSB0IHx8ICJudW1iZXIiID09IHR5cGVvZiB0ICYmIHQgPiAwICYmIHQgLSAxIGluIGUKCQkJfQoKCQkJZnVuY3Rpb24gcyhlLCB0LCBuKSB7CgkJCQlpZiAobGUuaXNGdW5jdGlvbih0KSkgcmV0dXJuIGxlLmdyZXAoZSwgZnVuY3Rpb24oZSwgaSkgewoJCQkJCXJldHVybiAhIXQuY2FsbChlLCBpLCBlKSAhPT0gbgoJCQkJfSk7CgkJCQlpZiAodC5ub2RlVHlwZSkgcmV0dXJuIGxlLmdyZXAoZSwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlID09PSB0ICE9PSBuCgkJCQl9KTsKCQkJCWlmICgic3RyaW5nIiA9PSB0eXBlb2YgdCkgewoJCQkJCWlmIChnZS50ZXN0KHQpKSByZXR1cm4gbGUuZmlsdGVyKHQsIGUsIG4pOwoJCQkJCXQgPSBsZS5maWx0ZXIodCwgZSkKCQkJCX0KCQkJCXJldHVybiBsZS5ncmVwKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuaW5BcnJheShlLCB0KSA+PSAwICE9PSBuCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUsIHQpIHsKCQkJCWRvIGUgPSBlW3RdOyB3aGlsZSAoZSAmJiAxICE9PSBlLm5vZGVUeXBlKTsKCQkJCXJldHVybiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGMoZSkgewoJCQkJdmFyIHQgPSB6ZVtlXSA9IHt9OwoJCQkJcmV0dXJuIGxlLmVhY2goZS5tYXRjaChrZSkgfHwgW10sIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl0W25dID0gITAKCQkJCX0pLCB0CgkJCX0KCgkJCWZ1bmN0aW9uIGQoKSB7CgkJCQl4ZS5hZGRFdmVudExpc3RlbmVyID8gKHhlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBwLCAhMSksIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIHAsICExKSkgOiAoeGUuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIHApLCBhLmRldGFjaEV2ZW50KCJvbmxvYWQiLCBwKSkKCQkJfQoKCQkJZnVuY3Rpb24gcCgpIHsKCQkJCSh4ZS5hZGRFdmVudExpc3RlbmVyIHx8ICJsb2FkIiA9PT0gZXZlbnQudHlwZSB8fCAiY29tcGxldGUiID09PSB4ZS5yZWFkeVN0YXRlKSAmJiAoZCgpLCBsZS5yZWFkeSgpKQoJCQl9CgoJCQlmdW5jdGlvbiBoKGUsIHQsIG4pIHsKCQkJCWlmICh2b2lkIDAgPT09IG4gJiYgMSA9PT0gZS5ub2RlVHlwZSkgewoJCQkJCXZhciBpID0gImRhdGEtIiArIHQucmVwbGFjZShOZSwgIi0kMSIpLnRvTG93ZXJDYXNlKCk7CgkJCQkJaWYgKG4gPSBlLmdldEF0dHJpYnV0ZShpKSwgInN0cmluZyIgPT0gdHlwZW9mIG4pIHsKCQkJCQkJdHJ5IHsKCQkJCQkJCW4gPSAidHJ1ZSIgPT09IG4gPyAhMCA6ICJmYWxzZSIgPT09IG4gPyAhMSA6ICJudWxsIiA9PT0gbiA/IG51bGwgOiArbiArICIiID09PSBuID8gK24gOiBTZS50ZXN0KG4pID8gbGUucGFyc2VKU09OKG4pIDogbgoJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCQlsZS5kYXRhKGUsIHQsIG4pCgkJCQkJfSBlbHNlIG4gPSB2b2lkIDAKCQkJCX0KCQkJCXJldHVybiBuCgkJCX0KCgkJCWZ1bmN0aW9uIHUoZSkgewoJCQkJdmFyIHQ7CgkJCQlmb3IgKHQgaW4gZSkKCQkJCQlpZiAoKCJkYXRhIiAhPT0gdCB8fCAhbGUuaXNFbXB0eU9iamVjdChlW3RdKSkgJiYgInRvSlNPTiIgIT09IHQpIHJldHVybiAhMTsKCQkJCXJldHVybiAhMAoJCQl9CgoJCQlmdW5jdGlvbiBtKGUsIHQsIG4sIGkpIHsKCQkJCWlmIChsZS5hY2NlcHREYXRhKGUpKSB7CgkJCQkJdmFyIGEsIG8sIHIgPSBsZS5leHBhbmRvLAoJCQkJCQlzID0gZS5ub2RlVHlwZSwKCQkJCQkJbCA9IHMgPyBsZS5jYWNoZSA6IGUsCgkJCQkJCWMgPSBzID8gZVtyXSA6IGVbcl0gJiYgcjsKCQkJCQlpZiAoYyAmJiBsW2NdICYmIChpIHx8IGxbY10uZGF0YSkgfHwgdm9pZCAwICE9PSBuIHx8ICJzdHJpbmciICE9IHR5cGVvZiB0KSByZXR1cm4gYyB8fCAoYyA9IHMgPyBlW3JdID0gSy5wb3AoKSB8fCBsZS5ndWlkKysgOiByKSwgbFtjXSB8fCAobFtjXSA9IHMgPyB7fSA6IHsKCQkJCQkJdG9KU09OOiBsZS5ub29wCgkJCQkJfSksICgib2JqZWN0IiA9PSB0eXBlb2YgdCB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiB0KSAmJiAoaSA/IGxbY10gPSBsZS5leHRlbmQobFtjXSwgdCkgOiBsW2NdLmRhdGEgPSBsZS5leHRlbmQobFtjXS5kYXRhLCB0KSksIG8gPSBsW2NdLCBpIHx8IChvLmRhdGEgfHwgKG8uZGF0YSA9IHt9KSwgbyA9IG8uZGF0YSksIHZvaWQgMCAhPT0gbiAmJiAob1tsZS5jYW1lbENhc2UodCldID0gbiksICJzdHJpbmciID09IHR5cGVvZiB0ID8gKGEgPSBvW3RdLCBudWxsID09IGEgJiYgKGEgPSBvW2xlLmNhbWVsQ2FzZSh0KV0pKSA6IGEgPSBvLCBhCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGYoZSwgdCwgbikgewoJCQkJaWYgKGxlLmFjY2VwdERhdGEoZSkpIHsKCQkJCQl2YXIgaSwgYSwgbyA9IGUubm9kZVR5cGUsCgkJCQkJCXIgPSBvID8gbGUuY2FjaGUgOiBlLAoJCQkJCQlzID0gbyA/IGVbbGUuZXhwYW5kb10gOiBsZS5leHBhbmRvOwoJCQkJCWlmIChyW3NdKSB7CgkJCQkJCWlmICh0ICYmIChpID0gbiA/IHJbc10gOiByW3NdLmRhdGEpKSB7CgkJCQkJCQlsZS5pc0FycmF5KHQpID8gdCA9IHQuY29uY2F0KGxlLm1hcCh0LCBsZS5jYW1lbENhc2UpKSA6IHQgaW4gaSA/IHQgPSBbdF0gOiAodCA9IGxlLmNhbWVsQ2FzZSh0KSwgdCA9IHQgaW4gaSA/IFt0XSA6IHQuc3BsaXQoIiAiKSksIGEgPSB0Lmxlbmd0aDsKCQkJCQkJCWZvciAoOyBhLS07KSBkZWxldGUgaVt0W2FdXTsKCQkJCQkJCWlmIChuID8gIXUoaSkgOiAhbGUuaXNFbXB0eU9iamVjdChpKSkgcmV0dXJuCgkJCQkJCX0obiB8fCAoZGVsZXRlIHJbc10uZGF0YSwgdShyW3NdKSkpICYmIChvID8gbGUuY2xlYW5EYXRhKFtlXSwgITApIDogcmUuZGVsZXRlRXhwYW5kbyB8fCByICE9IHIud2luZG93ID8gZGVsZXRlIHJbc10gOiByW3NdID0gbnVsbCkKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGcoKSB7CgkJCQlyZXR1cm4gITAKCQkJfQoKCQkJZnVuY3Rpb24gXygpIHsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiB4KCkgewoJCQkJdHJ5IHsKCQkJCQlyZXR1cm4geGUuYWN0aXZlRWxlbWVudAoJCQkJfSBjYXRjaCAoZSkge30KCQkJfQoKCQkJZnVuY3Rpb24gdyhlKSB7CgkJCQl2YXIgdCA9IFJlLnNwbGl0KCJ8IiksCgkJCQkJbiA9IGUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoJCQkJaWYgKG4uY3JlYXRlRWxlbWVudCkKCQkJCQlmb3IgKDsgdC5sZW5ndGg7KSBuLmNyZWF0ZUVsZW1lbnQodC5wb3AoKSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiB2KGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhID0gMCwKCQkJCQlvID0gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IENlID8gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0IHx8ICIqIikgOiB0eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsICE9PSBDZSA/IGUucXVlcnlTZWxlY3RvckFsbCh0IHx8ICIqIikgOiB2b2lkIDA7CgkJCQlpZiAoIW8pCgkJCQkJZm9yIChvID0gW10sIG4gPSBlLmNoaWxkTm9kZXMgfHwgZTsgbnVsbCAhPSAoaSA9IG5bYV0pOyBhKyspICF0IHx8IGxlLm5vZGVOYW1lKGksIHQpID8gby5wdXNoKGkpIDogbGUubWVyZ2UobywgdihpLCB0KSk7CgkJCQlyZXR1cm4gdm9pZCAwID09PSB0IHx8IHQgJiYgbGUubm9kZU5hbWUoZSwgdCkgPyBsZS5tZXJnZShbZV0sIG8pIDogbwoJCQl9CgoJCQlmdW5jdGlvbiBiKGUpIHsKCQkJCXFlLnRlc3QoZS50eXBlKSAmJiAoZS5kZWZhdWx0Q2hlY2tlZCA9IGUuY2hlY2tlZCkKCQkJfQoKCQkJZnVuY3Rpb24geShlLCB0KSB7CgkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgInRhYmxlIikgJiYgbGUubm9kZU5hbWUoMTEgIT09IHQubm9kZVR5cGUgPyB0IDogdC5maXJzdENoaWxkLCAidHIiKSA/IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF0gfHwgZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSkgOiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGsoZSkgewoJCQkJcmV0dXJuIGUudHlwZSA9IChudWxsICE9PSBsZS5maW5kLmF0dHIoZSwgInR5cGUiKSkgKyAiLyIgKyBlLnR5cGUsIGUKCQkJfQoKCQkJZnVuY3Rpb24geihlKSB7CgkJCQl2YXIgdCA9IFZlLmV4ZWMoZS50eXBlKTsKCQkJCXJldHVybiB0ID8gZS50eXBlID0gdFsxXSA6IGUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksIGUKCQkJfQoKCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQlmb3IgKHZhciBuLCBpID0gMDsgbnVsbCAhPSAobiA9IGVbaV0pOyBpKyspIGxlLl9kYXRhKG4sICJnbG9iYWxFdmFsIiwgIXQgfHwgbGUuX2RhdGEodFtpXSwgImdsb2JhbEV2YWwiKSkKCQkJfQoKCQkJZnVuY3Rpb24gaihlLCB0KSB7CgkJCQlpZiAoMSA9PT0gdC5ub2RlVHlwZSAmJiBsZS5oYXNEYXRhKGUpKSB7CgkJCQkJdmFyIG4sIGksIGEsIG8gPSBsZS5fZGF0YShlKSwKCQkJCQkJciA9IGxlLl9kYXRhKHQsIG8pLAoJCQkJCQlzID0gby5ldmVudHM7CgkJCQkJaWYgKHMpIHsKCQkJCQkJZGVsZXRlIHIuaGFuZGxlLCByLmV2ZW50cyA9IHt9OwoJCQkJCQlmb3IgKG4gaW4gcykKCQkJCQkJCWZvciAoaSA9IDAsIGEgPSBzW25dLmxlbmd0aDsgYSA+IGk7IGkrKykgbGUuZXZlbnQuYWRkKHQsIG4sIHNbbl1baV0pCgkJCQkJfQoJCQkJCXIuZGF0YSAmJiAoci5kYXRhID0gbGUuZXh0ZW5kKHt9LCByLmRhdGEpKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhOwoJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUpIHsKCQkJCQlpZiAobiA9IHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgIXJlLm5vQ2xvbmVFdmVudCAmJiB0W2xlLmV4cGFuZG9dKSB7CgkJCQkJCWEgPSBsZS5fZGF0YSh0KTsKCQkJCQkJZm9yIChpIGluIGEuZXZlbnRzKSBsZS5yZW1vdmVFdmVudCh0LCBpLCBhLmhhbmRsZSk7CgkJCQkJCXQucmVtb3ZlQXR0cmlidXRlKGxlLmV4cGFuZG8pCgkJCQkJfQoJCQkJCSJzY3JpcHQiID09PSBuICYmIHQudGV4dCAhPT0gZS50ZXh0ID8gKGsodCkudGV4dCA9IGUudGV4dCwgeih0KSkgOiAib2JqZWN0IiA9PT0gbiA/ICh0LnBhcmVudE5vZGUgJiYgKHQub3V0ZXJIVE1MID0gZS5vdXRlckhUTUwpLCByZS5odG1sNUNsb25lICYmIGUuaW5uZXJIVE1MICYmICFsZS50cmltKHQuaW5uZXJIVE1MKSAmJiAodC5pbm5lckhUTUwgPSBlLmlubmVySFRNTCkpIDogImlucHV0IiA9PT0gbiAmJiBxZS50ZXN0KGUudHlwZSkgPyAodC5kZWZhdWx0Q2hlY2tlZCA9IHQuY2hlY2tlZCA9IGUuY2hlY2tlZCwgdC52YWx1ZSAhPT0gZS52YWx1ZSAmJiAodC52YWx1ZSA9IGUudmFsdWUpKSA6ICJvcHRpb24iID09PSBuID8gdC5kZWZhdWx0U2VsZWN0ZWQgPSB0LnNlbGVjdGVkID0gZS5kZWZhdWx0U2VsZWN0ZWQgOiAoImlucHV0IiA9PT0gbiB8fCAidGV4dGFyZWEiID09PSBuKSAmJiAodC5kZWZhdWx0VmFsdWUgPSBlLmRlZmF1bHRWYWx1ZSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gUyhlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IGxlKHQuY3JlYXRlRWxlbWVudChlKSkuYXBwZW5kVG8odC5ib2R5KSwKCQkJCQlvID0gYS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSAmJiAobiA9IGEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoaVswXSkpID8gbi5kaXNwbGF5IDogbGUuY3NzKGlbMF0sICJkaXNwbGF5Iik7CgkJCQlyZXR1cm4gaS5kZXRhY2goKSwgbwoJCQl9CgoJCQlmdW5jdGlvbiBOKGUpIHsKCQkJCXZhciB0ID0geGUsCgkJCQkJbiA9IGl0W2VdOwoJCQkJcmV0dXJuIG4gfHwgKG4gPSBTKGUsIHQpLCAibm9uZSIgIT09IG4gJiYgbiB8fCAobnQgPSAobnQgfHwgbGUoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8odC5kb2N1bWVudEVsZW1lbnQpLCB0ID0gKG50WzBdLmNvbnRlbnRXaW5kb3cgfHwgbnRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCwgdC53cml0ZSgpLCB0LmNsb3NlKCksIG4gPSBTKGUsIHQpLCBudC5kZXRhY2goKSksIGl0W2VdID0gbiksIG4KCQkJfQoKCQkJZnVuY3Rpb24gVChlLCB0KSB7CgkJCQlyZXR1cm4gewoJCQkJCWdldDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBuID0gZSgpOwoJCQkJCQlpZiAobnVsbCAhPSBuKSByZXR1cm4gbiA/IHZvaWQgZGVsZXRlIHRoaXMuZ2V0IDogKHRoaXMuZ2V0ID0gdCkuYXBwbHkodGhpcywgYXJndW1lbnRzKQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gUChlLCB0KSB7CgkJCQlpZiAodCBpbiBlKSByZXR1cm4gdDsKCQkJCWZvciAodmFyIG4gPSB0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdC5zbGljZSgxKSwgaSA9IHQsIGEgPSBndC5sZW5ndGg7IGEtLTspCgkJCQkJaWYgKHQgPSBndFthXSArIG4sIHQgaW4gZSkgcmV0dXJuIHQ7CgkJCQlyZXR1cm4gaQoJCQl9CgoJCQlmdW5jdGlvbiBJKGUsIHQpIHsKCQkJCWZvciAodmFyIG4sIGksIGEsIG8gPSBbXSwgciA9IDAsIHMgPSBlLmxlbmd0aDsgcyA+IHI7IHIrKykgaSA9IGVbcl0sIGkuc3R5bGUgJiYgKG9bcl0gPSBsZS5fZGF0YShpLCAib2xkZGlzcGxheSIpLCBuID0gaS5zdHlsZS5kaXNwbGF5LCB0ID8gKG9bcl0gfHwgIm5vbmUiICE9PSBuIHx8IChpLnN0eWxlLmRpc3BsYXkgPSAiIiksICIiID09PSBpLnN0eWxlLmRpc3BsYXkgJiYgSWUoaSkgJiYgKG9bcl0gPSBsZS5fZGF0YShpLCAib2xkZGlzcGxheSIsIE4oaS5ub2RlTmFtZSkpKSkgOiAoYSA9IEllKGkpLCAobiAmJiAibm9uZSIgIT09IG4gfHwgIWEpICYmIGxlLl9kYXRhKGksICJvbGRkaXNwbGF5IiwgYSA/IG4gOiBsZS5jc3MoaSwgImRpc3BsYXkiKSkpKTsKCQkJCWZvciAociA9IDA7IHMgPiByOyByKyspIGkgPSBlW3JdLCBpLnN0eWxlICYmICh0ICYmICJub25lIiAhPT0gaS5zdHlsZS5kaXNwbGF5ICYmICIiICE9PSBpLnN0eWxlLmRpc3BsYXkgfHwgKGkuc3R5bGUuZGlzcGxheSA9IHQgPyBvW3JdIHx8ICIiIDogIm5vbmUiKSk7CgkJCQlyZXR1cm4gZQoJCQl9CgoJCQlmdW5jdGlvbiBBKGUsIHQsIG4pIHsKCQkJCXZhciBpID0gaHQuZXhlYyh0KTsKCQkJCXJldHVybiBpID8gTWF0aC5tYXgoMCwgaVsxXSAtIChuIHx8IDApKSArIChpWzJdIHx8ICJweCIpIDogdAoJCQl9CgoJCQlmdW5jdGlvbiBxKGUsIHQsIG4sIGksIGEpIHsKCQkJCWZvciAodmFyIG8gPSBuID09PSAoaSA/ICJib3JkZXIiIDogImNvbnRlbnQiKSA/IDQgOiAid2lkdGgiID09PSB0ID8gMSA6IDAsIHIgPSAwOyA0ID4gbzsgbyArPSAyKSAibWFyZ2luIiA9PT0gbiAmJiAociArPSBsZS5jc3MoZSwgbiArIFBlW29dLCAhMCwgYSkpLCBpID8gKCJjb250ZW50IiA9PT0gbiAmJiAociAtPSBsZS5jc3MoZSwgInBhZGRpbmciICsgUGVbb10sICEwLCBhKSksICJtYXJnaW4iICE9PSBuICYmIChyIC09IGxlLmNzcyhlLCAiYm9yZGVyIiArIFBlW29dICsgIldpZHRoIiwgITAsIGEpKSkgOiAociArPSBsZS5jc3MoZSwgInBhZGRpbmciICsgUGVbb10sICEwLCBhKSwgInBhZGRpbmciICE9PSBuICYmIChyICs9IGxlLmNzcyhlLCAiYm9yZGVyIiArIFBlW29dICsgIldpZHRoIiwgITAsIGEpKSk7CgkJCQlyZXR1cm4gcgoJCQl9CgoJCQlmdW5jdGlvbiBFKGUsIHQsIG4pIHsKCQkJCXZhciBpID0gITAsCgkJCQkJYSA9ICJ3aWR0aCIgPT09IHQgPyBlLm9mZnNldFdpZHRoIDogZS5vZmZzZXRIZWlnaHQsCgkJCQkJbyA9IGF0KGUpLAoJCQkJCXIgPSByZS5ib3hTaXppbmcgJiYgImJvcmRlci1ib3giID09PSBsZS5jc3MoZSwgImJveFNpemluZyIsICExLCBvKTsKCQkJCWlmICgwID49IGEgfHwgbnVsbCA9PSBhKSB7CgkJCQkJaWYgKGEgPSBvdChlLCB0LCBvKSwgKDAgPiBhIHx8IG51bGwgPT0gYSkgJiYgKGEgPSBlLnN0eWxlW3RdKSwgc3QudGVzdChhKSkgcmV0dXJuIGE7CgkJCQkJaSA9IHIgJiYgKHJlLmJveFNpemluZ1JlbGlhYmxlKCkgfHwgYSA9PT0gZS5zdHlsZVt0XSksIGEgPSBwYXJzZUZsb2F0KGEpIHx8IDAKCQkJCX0KCQkJCXJldHVybiBhICsgcShlLCB0LCBuIHx8IChyID8gImJvcmRlciIgOiAiY29udGVudCIpLCBpLCBvKSArICJweCIKCQkJfQoKCQkJZnVuY3Rpb24gTyhlLCB0LCBuLCBpLCBhKSB7CgkJCQlyZXR1cm4gbmV3IE8ucHJvdG90eXBlLmluaXQoZSwgdCwgbiwgaSwgYSkKCQkJfQoKCQkJZnVuY3Rpb24gTCgpIHsKCQkJCXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCV90ID0gdm9pZCAwCgkJCQl9KSwgX3QgPSBsZS5ub3coKQoJCQl9CgoJCQlmdW5jdGlvbiBEKGUsIHQpIHsKCQkJCXZhciBuLCBpID0gewoJCQkJCQloZWlnaHQ6IGUKCQkJCQl9LAoJCQkJCWEgPSAwOwoJCQkJZm9yICh0ID0gdCA/IDEgOiAwOyA0ID4gYTsgYSArPSAyIC0gdCkgbiA9IFBlW2FdLCBpWyJtYXJnaW4iICsgbl0gPSBpWyJwYWRkaW5nIiArIG5dID0gZTsKCQkJCXJldHVybiB0ICYmIChpLm9wYWNpdHkgPSBpLndpZHRoID0gZSksIGkKCQkJfQoKCQkJZnVuY3Rpb24gTShlLCB0LCBuKSB7CgkJCQlmb3IgKHZhciBpLCBhID0gKGt0W3RdIHx8IFtdKS5jb25jYXQoa3RbIioiXSksIG8gPSAwLCByID0gYS5sZW5ndGg7IHIgPiBvOyBvKyspCgkJCQkJaWYgKGkgPSBhW29dLmNhbGwobiwgdCwgZSkpIHJldHVybiBpCgkJCX0KCgkJCWZ1bmN0aW9uIFIoZSwgdCwgbikgewoJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSB0aGlzLAoJCQkJCWggPSB7fSwKCQkJCQl1ID0gZS5zdHlsZSwKCQkJCQltID0gZS5ub2RlVHlwZSAmJiBJZShlKSwKCQkJCQlmID0gbGUuX2RhdGEoZSwgImZ4c2hvdyIpOwoJCQkJbi5xdWV1ZSB8fCAocyA9IGxlLl9xdWV1ZUhvb2tzKGUsICJmeCIpLCBudWxsID09IHMudW5xdWV1ZWQgJiYgKHMudW5xdWV1ZWQgPSAwLCBsID0gcy5lbXB0eS5maXJlLCBzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHsKCQkJCQlzLnVucXVldWVkIHx8IGwoKQoJCQkJfSksIHMudW5xdWV1ZWQrKywgcC5hbHdheXMoZnVuY3Rpb24oKSB7CgkJCQkJcC5hbHdheXMoZnVuY3Rpb24oKSB7CgkJCQkJCXMudW5xdWV1ZWQtLSwgbGUucXVldWUoZSwgImZ4IikubGVuZ3RoIHx8IHMuZW1wdHkuZmlyZSgpCgkJCQkJfSkKCQkJCX0pKSwgMSA9PT0gZS5ub2RlVHlwZSAmJiAoImhlaWdodCIgaW4gdCB8fCAid2lkdGgiIGluIHQpICYmIChuLm92ZXJmbG93ID0gW3Uub3ZlcmZsb3csIHUub3ZlcmZsb3dYLCB1Lm92ZXJmbG93WV0sIGMgPSBsZS5jc3MoZSwgImRpc3BsYXkiKSwgZCA9ICJub25lIiA9PT0gYyA/IGxlLl9kYXRhKGUsICJvbGRkaXNwbGF5IikgfHwgTihlLm5vZGVOYW1lKSA6IGMsICJpbmxpbmUiID09PSBkICYmICJub25lIiA9PT0gbGUuY3NzKGUsICJmbG9hdCIpICYmIChyZS5pbmxpbmVCbG9ja05lZWRzTGF5b3V0ICYmICJpbmxpbmUiICE9PSBOKGUubm9kZU5hbWUpID8gdS56b29tID0gMSA6IHUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siKSksIG4ub3ZlcmZsb3cgJiYgKHUub3ZlcmZsb3cgPSAiaGlkZGVuIiwgcmUuc2hyaW5rV3JhcEJsb2NrcygpIHx8IHAuYWx3YXlzKGZ1bmN0aW9uKCkgewoJCQkJCXUub3ZlcmZsb3cgPSBuLm92ZXJmbG93WzBdLCB1Lm92ZXJmbG93WCA9IG4ub3ZlcmZsb3dbMV0sIHUub3ZlcmZsb3dZID0gbi5vdmVyZmxvd1syXQoJCQkJfSkpOwoJCQkJZm9yIChpIGluIHQpCgkJCQkJaWYgKGEgPSB0W2ldLCB3dC5leGVjKGEpKSB7CgkJCQkJCWlmIChkZWxldGUgdFtpXSwgbyA9IG8gfHwgInRvZ2dsZSIgPT09IGEsIGEgPT09IChtID8gImhpZGUiIDogInNob3ciKSkgewoJCQkJCQkJaWYgKCJzaG93IiAhPT0gYSB8fCAhZiB8fCB2b2lkIDAgPT09IGZbaV0pIGNvbnRpbnVlOwoJCQkJCQkJbSA9ICEwCgkJCQkJCX0KCQkJCQkJaFtpXSA9IGYgJiYgZltpXSB8fCBsZS5zdHlsZShlLCBpKQoJCQkJCX0gZWxzZSBjID0gdm9pZCAwOwoJCQkJaWYgKGxlLmlzRW1wdHlPYmplY3QoaCkpICJpbmxpbmUiID09PSAoIm5vbmUiID09PSBjID8gTihlLm5vZGVOYW1lKSA6IGMpICYmICh1LmRpc3BsYXkgPSBjKTsKCQkJCWVsc2UgewoJCQkJCWYgPyAiaGlkZGVuIiBpbiBmICYmIChtID0gZi5oaWRkZW4pIDogZiA9IGxlLl9kYXRhKGUsICJmeHNob3ciLCB7fSksIG8gJiYgKGYuaGlkZGVuID0gIW0pLCBtID8gbGUoZSkuc2hvdygpIDogcC5kb25lKGZ1bmN0aW9uKCkgewoJCQkJCQlsZShlKS5oaWRlKCkKCQkJCQl9KSwgcC5kb25lKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdDsKCQkJCQkJbGUuX3JlbW92ZURhdGEoZSwgImZ4c2hvdyIpOwoJCQkJCQlmb3IgKHQgaW4gaCkgbGUuc3R5bGUoZSwgdCwgaFt0XSkKCQkJCQl9KTsKCQkJCQlmb3IgKGkgaW4gaCkgciA9IE0obSA/IGZbaV0gOiAwLCBpLCBwKSwgaSBpbiBmIHx8IChmW2ldID0gci5zdGFydCwgbSAmJiAoci5lbmQgPSByLnN0YXJ0LCByLnN0YXJ0ID0gIndpZHRoIiA9PT0gaSB8fCAiaGVpZ2h0IiA9PT0gaSA/IDEgOiAwKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gRihlLCB0KSB7CgkJCQl2YXIgbiwgaSwgYSwgbywgcjsKCQkJCWZvciAobiBpbiBlKQoJCQkJCWlmIChpID0gbGUuY2FtZWxDYXNlKG4pLCBhID0gdFtpXSwgbyA9IGVbbl0sIGxlLmlzQXJyYXkobykgJiYgKGEgPSBvWzFdLCBvID0gZVtuXSA9IG9bMF0pLCBuICE9PSBpICYmIChlW2ldID0gbywgZGVsZXRlIGVbbl0pLCByID0gbGUuY3NzSG9va3NbaV0sIHIgJiYgImV4cGFuZCIgaW4gcikgewoJCQkJCQlvID0gci5leHBhbmQobyksIGRlbGV0ZSBlW2ldOwoJCQkJCQlmb3IgKG4gaW4gbykgbiBpbiBlIHx8IChlW25dID0gb1tuXSwgdFtuXSA9IGEpCgkJCQkJfSBlbHNlIHRbaV0gPSBhCgkJCX0KCgkJCWZ1bmN0aW9uICQoZSwgdCwgbikgewoJCQkJdmFyIGksIGEsIG8gPSAwLAoJCQkJCXIgPSB5dC5sZW5ndGgsCgkJCQkJcyA9IGxlLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCkgewoJCQkJCQlkZWxldGUgbC5lbGVtCgkJCQkJfSksCgkJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoYSkgcmV0dXJuICExOwoJCQkJCQlmb3IgKHZhciB0ID0gX3QgfHwgTCgpLCBuID0gTWF0aC5tYXgoMCwgYy5zdGFydFRpbWUgKyBjLmR1cmF0aW9uIC0gdCksIGkgPSBuIC8gYy5kdXJhdGlvbiB8fCAwLCBvID0gMSAtIGksIHIgPSAwLCBsID0gYy50d2VlbnMubGVuZ3RoOyBsID4gcjsgcisrKSBjLnR3ZWVuc1tyXS5ydW4obyk7CgkJCQkJCXJldHVybiBzLm5vdGlmeVdpdGgoZSwgW2MsIG8sIG5dKSwgMSA+IG8gJiYgbCA/IG4gOiAocy5yZXNvbHZlV2l0aChlLCBbY10pLCAhMSkKCQkJCQl9LAoJCQkJCWMgPSBzLnByb21pc2UoewoJCQkJCQllbGVtOiBlLAoJCQkJCQlwcm9wczogbGUuZXh0ZW5kKHt9LCB0KSwKCQkJCQkJb3B0czogbGUuZXh0ZW5kKCEwLCB7CgkJCQkJCQlzcGVjaWFsRWFzaW5nOiB7fQoJCQkJCQl9LCBuKSwKCQkJCQkJb3JpZ2luYWxQcm9wZXJ0aWVzOiB0LAoJCQkJCQlvcmlnaW5hbE9wdGlvbnM6IG4sCgkJCQkJCXN0YXJ0VGltZTogX3QgfHwgTCgpLAoJCQkJCQlkdXJhdGlvbjogbi5kdXJhdGlvbiwKCQkJCQkJdHdlZW5zOiBbXSwKCQkJCQkJY3JlYXRlVHdlZW46IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJCXZhciBpID0gbGUuVHdlZW4oZSwgYy5vcHRzLCB0LCBuLCBjLm9wdHMuc3BlY2lhbEVhc2luZ1t0XSB8fCBjLm9wdHMuZWFzaW5nKTsKCQkJCQkJCXJldHVybiBjLnR3ZWVucy5wdXNoKGkpLCBpCgkJCQkJCX0sCgkJCQkJCXN0b3A6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXZhciBuID0gMCwKCQkJCQkJCQlpID0gdCA/IGMudHdlZW5zLmxlbmd0aCA6IDA7CgkJCQkJCQlpZiAoYSkgcmV0dXJuIHRoaXM7CgkJCQkJCQlmb3IgKGEgPSAhMDsgaSA+IG47IG4rKykgYy50d2VlbnNbbl0ucnVuKDEpOwoJCQkJCQkJcmV0dXJuIHQgPyBzLnJlc29sdmVXaXRoKGUsIFtjLCB0XSkgOiBzLnJlamVjdFdpdGgoZSwgW2MsIHRdKSwgdGhpcwoJCQkJCQl9CgkJCQkJfSksCgkJCQkJZCA9IGMucHJvcHM7CgkJCQlmb3IgKEYoZCwgYy5vcHRzLnNwZWNpYWxFYXNpbmcpOyByID4gbzsgbysrKQoJCQkJCWlmIChpID0geXRbb10uY2FsbChjLCBlLCBkLCBjLm9wdHMpKSByZXR1cm4gaTsKCQkJCXJldHVybiBsZS5tYXAoZCwgTSwgYyksIGxlLmlzRnVuY3Rpb24oYy5vcHRzLnN0YXJ0KSAmJiBjLm9wdHMuc3RhcnQuY2FsbChlLCBjKSwgbGUuZngudGltZXIobGUuZXh0ZW5kKGwsIHsKCQkJCQllbGVtOiBlLAoJCQkJCWFuaW06IGMsCgkJCQkJcXVldWU6IGMub3B0cy5xdWV1ZQoJCQkJfSkpLCBjLnByb2dyZXNzKGMub3B0cy5wcm9ncmVzcykuZG9uZShjLm9wdHMuZG9uZSwgYy5vcHRzLmNvbXBsZXRlKS5mYWlsKGMub3B0cy5mYWlsKS5hbHdheXMoYy5vcHRzLmFsd2F5cykKCQkJfQoKCQkJZnVuY3Rpb24gVyhlKSB7CgkJCQlyZXR1cm4gZnVuY3Rpb24odCwgbikgewoJCQkJCSJzdHJpbmciICE9IHR5cGVvZiB0ICYmIChuID0gdCwgdCA9ICIqIik7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gdC50b0xvd2VyQ2FzZSgpLm1hdGNoKGtlKSB8fCBbXTsKCQkJCQlpZiAobGUuaXNGdW5jdGlvbihuKSkKCQkJCQkJZm9yICg7IGkgPSBvW2ErK107KSAiKyIgPT09IGkuY2hhckF0KDApID8gKGkgPSBpLnNsaWNlKDEpIHx8ICIqIiwgKGVbaV0gPSBlW2ldIHx8IFtdKS51bnNoaWZ0KG4pKSA6IChlW2ldID0gZVtpXSB8fCBbXSkucHVzaChuKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBIKGUsIHQsIG4sIGkpIHsKCQkJCWZ1bmN0aW9uIGEocykgewoJCQkJCXZhciBsOwoJCQkJCXJldHVybiBvW3NdID0gITAsIGxlLmVhY2goZVtzXSB8fCBbXSwgZnVuY3Rpb24oZSwgcykgewoJCQkJCQl2YXIgYyA9IHModCwgbiwgaSk7CgkJCQkJCXJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgYyB8fCByIHx8IG9bY10gPyByID8gIShsID0gYykgOiB2b2lkIDAgOiAodC5kYXRhVHlwZXMudW5zaGlmdChjKSwgYShjKSwgITEpCgkJCQkJfSksIGwKCQkJCX0KCQkJCXZhciBvID0ge30sCgkJCQkJciA9IGUgPT09IEd0OwoJCQkJcmV0dXJuIGEodC5kYXRhVHlwZXNbMF0pIHx8ICFvWyIqIl0gJiYgYSgiKiIpCgkJCX0KCgkJCWZ1bmN0aW9uIFUoZSwgdCkgewoJCQkJdmFyIG4sIGksIGEgPSBsZS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307CgkJCQlmb3IgKGkgaW4gdCkgdm9pZCAwICE9PSB0W2ldICYmICgoYVtpXSA/IGUgOiBuIHx8IChuID0ge30pKVtpXSA9IHRbaV0pOwoJCQkJcmV0dXJuIG4gJiYgbGUuZXh0ZW5kKCEwLCBlLCBuKSwgZQoJCQl9CgoJCQlmdW5jdGlvbiBZKGUsIHQsIG4pIHsKCQkJCWZvciAodmFyIGksIGEsIG8sIHIsIHMgPSBlLmNvbnRlbnRzLCBsID0gZS5kYXRhVHlwZXM7CgkJCQkJIioiID09PSBsWzBdOykgbC5zaGlmdCgpLCB2b2lkIDAgPT09IGEgJiYgKGEgPSBlLm1pbWVUeXBlIHx8IHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTsKCQkJCWlmIChhKQoJCQkJCWZvciAociBpbiBzKQoJCQkJCQlpZiAoc1tyXSAmJiBzW3JdLnRlc3QoYSkpIHsKCQkJCQkJCWwudW5zaGlmdChyKTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCWlmIChsWzBdIGluIG4pIG8gPSBsWzBdOwoJCQkJZWxzZSB7CgkJCQkJZm9yIChyIGluIG4pIHsKCQkJCQkJaWYgKCFsWzBdIHx8IGUuY29udmVydGVyc1tyICsgIiAiICsgbFswXV0pIHsKCQkJCQkJCW8gPSByOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCQlpIHx8IChpID0gcikKCQkJCQl9CgkJCQkJbyA9IG8gfHwgaQoJCQkJfQoJCQkJcmV0dXJuIG8gPyAobyAhPT0gbFswXSAmJiBsLnVuc2hpZnQobyksIG5bb10pIDogdm9pZCAwCgkJCX0KCgkJCWZ1bmN0aW9uIEcoZSwgdCwgbiwgaSkgewoJCQkJdmFyIGEsIG8sIHIsIHMsIGwsIGMgPSB7fSwKCQkJCQlkID0gZS5kYXRhVHlwZXMuc2xpY2UoKTsKCQkJCWlmIChkWzFdKQoJCQkJCWZvciAociBpbiBlLmNvbnZlcnRlcnMpIGNbci50b0xvd2VyQ2FzZSgpXSA9IGUuY29udmVydGVyc1tyXTsKCQkJCWZvciAobyA9IGQuc2hpZnQoKTsgbzspCgkJCQkJaWYgKGUucmVzcG9uc2VGaWVsZHNbb10gJiYgKG5bZS5yZXNwb25zZUZpZWxkc1tvXV0gPSB0KSwgIWwgJiYgaSAmJiBlLmRhdGFGaWx0ZXIgJiYgKHQgPSBlLmRhdGFGaWx0ZXIodCwgZS5kYXRhVHlwZSkpLCBsID0gbywgbyA9IGQuc2hpZnQoKSkKCQkJCQkJaWYgKCIqIiA9PT0gbykgbyA9IGw7CgkJCQkJCWVsc2UgaWYgKCIqIiAhPT0gbCAmJiBsICE9PSBvKSB7CgkJCQkJaWYgKHIgPSBjW2wgKyAiICIgKyBvXSB8fCBjWyIqICIgKyBvXSwgIXIpCgkJCQkJCWZvciAoYSBpbiBjKQoJCQkJCQkJaWYgKHMgPSBhLnNwbGl0KCIgIiksIHNbMV0gPT09IG8gJiYgKHIgPSBjW2wgKyAiICIgKyBzWzBdXSB8fCBjWyIqICIgKyBzWzBdXSkpIHsKCQkJCQkJCQlyID09PSAhMCA/IHIgPSBjW2FdIDogY1thXSAhPT0gITAgJiYgKG8gPSBzWzBdLCBkLnVuc2hpZnQoc1sxXSkpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJaWYgKHIgIT09ICEwKQoJCQkJCQlpZiAociAmJiBlWyJ0aHJvd3MiXSkgdCA9IHIodCk7CgkJCQkJCWVsc2UgdHJ5IHsKCQkJCQkJCXQgPSByKHQpCgkJCQkJCX0gY2F0Y2ggKHApIHsKCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJc3RhdGU6ICJwYXJzZXJlcnJvciIsCgkJCQkJCQkJZXJyb3I6IHIgPyBwIDogIk5vIGNvbnZlcnNpb24gZnJvbSAiICsgbCArICIgdG8gIiArIG8KCQkJCQkJCX0KCQkJCQkJfQoJCQkJfQoJCQkJcmV0dXJuIHsKCQkJCQlzdGF0ZTogInN1Y2Nlc3MiLAoJCQkJCWRhdGE6IHQKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gWChlLCB0LCBuLCBpKSB7CgkJCQl2YXIgYTsKCQkJCWlmIChsZS5pc0FycmF5KHQpKSBsZS5lYWNoKHQsIGZ1bmN0aW9uKHQsIGEpIHsKCQkJCQluIHx8IFZ0LnRlc3QoZSkgPyBpKGUsIGEpIDogWChlICsgIlsiICsgKCJvYmplY3QiID09IHR5cGVvZiBhID8gdCA6ICIiKSArICJdIiwgYSwgbiwgaSkKCQkJCX0pOwoJCQkJZWxzZSBpZiAobiB8fCAib2JqZWN0IiAhPT0gbGUudHlwZSh0KSkgaShlLCB0KTsKCQkJCWVsc2UKCQkJCQlmb3IgKGEgaW4gdCkgWChlICsgIlsiICsgYSArICJdIiwgdFthXSwgbiwgaSkKCQkJfQoKCQkJZnVuY3Rpb24gSigpIHsKCQkJCXRyeSB7CgkJCQkJcmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0CgkJCQl9IGNhdGNoIChlKSB7fQoJCQl9CgoJCQlmdW5jdGlvbiBaKCkgewoJCQkJdHJ5IHsKCQkJCQlyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKQoJCQkJfSBjYXRjaCAoZSkge30KCQkJfQoKCQkJZnVuY3Rpb24gVihlKSB7CgkJCQlyZXR1cm4gbGUuaXNXaW5kb3coZSkgPyBlIDogOSA9PT0gZS5ub2RlVHlwZSA/IGUuZGVmYXVsdFZpZXcgfHwgZS5wYXJlbnRXaW5kb3cgOiAhMQoJCQl9CgkJCXZhciBLID0gW10sCgkJCQlRID0gSy5zbGljZSwKCQkJCWVlID0gSy5jb25jYXQsCgkJCQl0ZSA9IEsucHVzaCwKCQkJCW5lID0gSy5pbmRleE9mLAoJCQkJaWUgPSB7fSwKCQkJCWFlID0gaWUudG9TdHJpbmcsCgkJCQlvZSA9IGllLmhhc093blByb3BlcnR5LAoJCQkJcmUgPSB7fSwKCQkJCXNlID0gIjEuMTEuMyIsCgkJCQlsZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gbmV3IGxlLmZuLmluaXQoZSwgdCkKCQkJCX0sCgkJCQljZSA9IC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywKCQkJCWRlID0gL14tbXMtLywKCQkJCXBlID0gLy0oW1xkYS16XSkvZ2ksCgkJCQloZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gdC50b1VwcGVyQ2FzZSgpCgkJCQl9OwoJCQlsZS5mbiA9IGxlLnByb3RvdHlwZSA9IHsKCQkJCWpxdWVyeTogc2UsCgkJCQljb25zdHJ1Y3RvcjogbGUsCgkJCQlzZWxlY3RvcjogIiIsCgkJCQlsZW5ndGg6IDAsCgkJCQl0b0FycmF5OiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gUS5jYWxsKHRoaXMpCgkJCQl9LAoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIG51bGwgIT0gZSA/IDAgPiBlID8gdGhpc1tlICsgdGhpcy5sZW5ndGhdIDogdGhpc1tlXSA6IFEuY2FsbCh0aGlzKQoJCQkJfSwKCQkJCXB1c2hTdGFjazogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLCBlKTsKCQkJCQlyZXR1cm4gdC5wcmV2T2JqZWN0ID0gdGhpcywgdC5jb250ZXh0ID0gdGhpcy5jb250ZXh0LCB0CgkJCQl9LAoJCQkJZWFjaDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBsZS5lYWNoKHRoaXMsIGUsIHQpCgkJCQl9LAoJCQkJbWFwOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlLm1hcCh0aGlzLCBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCXJldHVybiBlLmNhbGwodCwgbiwgdCkKCQkJCQl9KSkKCQkJCX0sCgkJCQlzbGljZTogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKFEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkKCQkJCX0sCgkJCQlmaXJzdDogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZXEoMCkKCQkJCX0sCgkJCQlsYXN0OiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gdGhpcy5lcSgtMSkKCQkJCX0sCgkJCQllcTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5sZW5ndGgsCgkJCQkJCW4gPSArZSArICgwID4gZSA/IHQgOiAwKTsKCQkJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobiA+PSAwICYmIHQgPiBuID8gW3RoaXNbbl1dIDogW10pCgkJCQl9LAoJCQkJZW5kOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IobnVsbCkKCQkJCX0sCgkJCQlwdXNoOiB0ZSwKCQkJCXNvcnQ6IEsuc29ydCwKCQkJCXNwbGljZTogSy5zcGxpY2UKCQkJfSwgbGUuZXh0ZW5kID0gbGUuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSwgdCwgbiwgaSwgYSwgbywgciA9IGFyZ3VtZW50c1swXSB8fCB7fSwKCQkJCQlzID0gMSwKCQkJCQlsID0gYXJndW1lbnRzLmxlbmd0aCwKCQkJCQljID0gITE7CgkJCQlmb3IgKCJib29sZWFuIiA9PSB0eXBlb2YgciAmJiAoYyA9IHIsIHIgPSBhcmd1bWVudHNbc10gfHwge30sIHMrKyksICJvYmplY3QiID09IHR5cGVvZiByIHx8IGxlLmlzRnVuY3Rpb24ocikgfHwgKHIgPSB7fSksIHMgPT09IGwgJiYgKHIgPSB0aGlzLCBzLS0pOyBsID4gczsgcysrKQoJCQkJCWlmIChudWxsICE9IChhID0gYXJndW1lbnRzW3NdKSkKCQkJCQkJZm9yIChpIGluIGEpIGUgPSByW2ldLCBuID0gYVtpXSwgciAhPT0gbiAmJiAoYyAmJiBuICYmIChsZS5pc1BsYWluT2JqZWN0KG4pIHx8ICh0ID0gbGUuaXNBcnJheShuKSkpID8gKHQgPyAodCA9ICExLCBvID0gZSAmJiBsZS5pc0FycmF5KGUpID8gZSA6IFtdKSA6IG8gPSBlICYmIGxlLmlzUGxhaW5PYmplY3QoZSkgPyBlIDoge30sIHJbaV0gPSBsZS5leHRlbmQoYywgbywgbikpIDogdm9pZCAwICE9PSBuICYmIChyW2ldID0gbikpOwoJCQkJcmV0dXJuIHIKCQkJfSwgbGUuZXh0ZW5kKHsKCQkJCWV4cGFuZG86ICJqUXVlcnkiICsgKHNlICsgTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywgIiIpLAoJCQkJaXNSZWFkeTogITAsCgkJCQllcnJvcjogZnVuY3Rpb24oZSkgewoJCQkJCXRocm93IG5ldyBFcnJvcihlKQoJCQkJfSwKCQkJCW5vb3A6IGZ1bmN0aW9uKCkge30sCgkJCQlpc0Z1bmN0aW9uOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICJmdW5jdGlvbiIgPT09IGxlLnR5cGUoZSkKCQkJCX0sCgkJCQlpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gImFycmF5IiA9PT0gbGUudHlwZShlKQoJCQkJfSwKCQkJCWlzV2luZG93OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIG51bGwgIT0gZSAmJiBlID09IGUud2luZG93CgkJCQl9LAoJCQkJaXNOdW1lcmljOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICFsZS5pc0FycmF5KGUpICYmIGUgLSBwYXJzZUZsb2F0KGUpICsgMSA+PSAwCgkJCQl9LAoJCQkJaXNFbXB0eU9iamVjdDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0OwoJCQkJCWZvciAodCBpbiBlKSByZXR1cm4gITE7CgkJCQkJcmV0dXJuICEwCgkJCQl9LAoJCQkJaXNQbGFpbk9iamVjdDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0OwoJCQkJCWlmICghZSB8fCAib2JqZWN0IiAhPT0gbGUudHlwZShlKSB8fCBlLm5vZGVUeXBlIHx8IGxlLmlzV2luZG93KGUpKSByZXR1cm4gITE7CgkJCQkJdHJ5IHsKCQkJCQkJaWYgKGUuY29uc3RydWN0b3IgJiYgIW9lLmNhbGwoZSwgImNvbnN0cnVjdG9yIikgJiYgIW9lLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICJpc1Byb3RvdHlwZU9mIikpIHJldHVybiAhMQoJCQkJCX0gY2F0Y2ggKG4pIHsKCQkJCQkJcmV0dXJuICExCgkJCQkJfQoJCQkJCWlmIChyZS5vd25MYXN0KQoJCQkJCQlmb3IgKHQgaW4gZSkgcmV0dXJuIG9lLmNhbGwoZSwgdCk7CgkJCQkJZm9yICh0IGluIGUpOwoJCQkJCXJldHVybiB2b2lkIDAgPT09IHQgfHwgb2UuY2FsbChlLCB0KQoJCQkJfSwKCQkJCXR5cGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbnVsbCA9PSBlID8gZSArICIiIDogIm9iamVjdCIgPT0gdHlwZW9mIGUgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGllW2FlLmNhbGwoZSldIHx8ICJvYmplY3QiIDogdHlwZW9mIGUKCQkJCX0sCgkJCQlnbG9iYWxFdmFsOiBmdW5jdGlvbihlKSB7CgkJCQkJZSAmJiBsZS50cmltKGUpICYmIChhLmV4ZWNTY3JpcHQgfHwgZnVuY3Rpb24oZSkgewoJCQkJCQlhLmV2YWwuY2FsbChhLCBlKQoJCQkJCX0pKGUpCgkJCQl9LAoJCQkJY2FtZWxDYXNlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUucmVwbGFjZShkZSwgIm1zLSIpLnJlcGxhY2UocGUsIGhlKQoJCQkJfSwKCQkJCW5vZGVOYW1lOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0LnRvTG93ZXJDYXNlKCkKCQkJCX0sCgkJCQllYWNoOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gZS5sZW5ndGgsCgkJCQkJCXMgPSByKGUpOwoJCQkJCWlmIChuKSB7CgkJCQkJCWlmIChzKQoJCQkJCQkJZm9yICg7IG8gPiBhICYmIChpID0gdC5hcHBseShlW2FdLCBuKSwgaSAhPT0gITEpOyBhKyspOwoJCQkJCQllbHNlCgkJCQkJCQlmb3IgKGEgaW4gZSkKCQkJCQkJCQlpZiAoaSA9IHQuYXBwbHkoZVthXSwgbiksIGkgPT09ICExKSBicmVhawoJCQkJCX0gZWxzZSBpZiAocykKCQkJCQkJZm9yICg7IG8gPiBhICYmIChpID0gdC5jYWxsKGVbYV0sIGEsIGVbYV0pLCBpICE9PSAhMSk7IGErKyk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKGEgaW4gZSkKCQkJCQkJCWlmIChpID0gdC5jYWxsKGVbYV0sIGEsIGVbYV0pLCBpID09PSAhMSkgYnJlYWs7IHJldHVybiBlCgkJCQl9LAoJCQkJdHJpbTogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBudWxsID09IGUgPyAiIiA6IChlICsgIiIpLnJlcGxhY2UoY2UsICIiKQoJCQkJfSwKCQkJCW1ha2VBcnJheTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdCB8fCBbXTsKCQkJCQlyZXR1cm4gbnVsbCAhPSBlICYmIChyKE9iamVjdChlKSkgPyBsZS5tZXJnZShuLCAic3RyaW5nIiA9PSB0eXBlb2YgZSA/IFtlXSA6IGUpIDogdGUuY2FsbChuLCBlKSksIG4KCQkJCX0sCgkJCQlpbkFycmF5OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGk7CgkJCQkJaWYgKHQpIHsKCQkJCQkJaWYgKG5lKSByZXR1cm4gbmUuY2FsbCh0LCBlLCBuKTsKCQkJCQkJZm9yIChpID0gdC5sZW5ndGgsIG4gPSBuID8gMCA+IG4gPyBNYXRoLm1heCgwLCBpICsgbikgOiBuIDogMDsgaSA+IG47IG4rKykKCQkJCQkJCWlmIChuIGluIHQgJiYgdFtuXSA9PT0gZSkgcmV0dXJuIG4KCQkJCQl9CgkJCQkJcmV0dXJuIC0xCgkJCQl9LAoJCQkJbWVyZ2U6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuID0gK3QubGVuZ3RoLCBpID0gMCwgYSA9IGUubGVuZ3RoOyBuID4gaTspIGVbYSsrXSA9IHRbaSsrXTsKCQkJCQlpZiAobiAhPT0gbikKCQkJCQkJZm9yICg7IHZvaWQgMCAhPT0gdFtpXTspIGVbYSsrXSA9IHRbaSsrXTsKCQkJCQlyZXR1cm4gZS5sZW5ndGggPSBhLCBlCgkJCQl9LAoJCQkJZ3JlcDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCWZvciAodmFyIGksIGEgPSBbXSwgbyA9IDAsIHIgPSBlLmxlbmd0aCwgcyA9ICFuOyByID4gbzsgbysrKSBpID0gIXQoZVtvXSwgbyksIGkgIT09IHMgJiYgYS5wdXNoKGVbb10pOwoJCQkJCXJldHVybiBhCgkJCQl9LAoJCQkJbWFwOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSAwLAoJCQkJCQlvID0gZS5sZW5ndGgsCgkJCQkJCXMgPSByKGUpLAoJCQkJCQlsID0gW107CgkJCQkJaWYgKHMpCgkJCQkJCWZvciAoOyBvID4gYTsgYSsrKSBpID0gdChlW2FdLCBhLCBuKSwgbnVsbCAhPSBpICYmIGwucHVzaChpKTsKCQkJCQllbHNlCgkJCQkJCWZvciAoYSBpbiBlKSBpID0gdChlW2FdLCBhLCBuKSwgbnVsbCAhPSBpICYmIGwucHVzaChpKTsKCQkJCQlyZXR1cm4gZWUuYXBwbHkoW10sIGwpCgkJCQl9LAoJCQkJZ3VpZDogMSwKCQkJCXByb3h5OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGE7CgkJCQkJcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB0ICYmIChhID0gZVt0XSwgdCA9IGUsIGUgPSBhKSwgbGUuaXNGdW5jdGlvbihlKSA/IChuID0gUS5jYWxsKGFyZ3VtZW50cywgMiksIGkgPSBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIGUuYXBwbHkodCB8fCB0aGlzLCBuLmNvbmNhdChRLmNhbGwoYXJndW1lbnRzKSkpCgkJCQkJfSwgaS5ndWlkID0gZS5ndWlkID0gZS5ndWlkIHx8IGxlLmd1aWQrKywgaSkgOiB2b2lkIDAKCQkJCX0sCgkJCQlub3c6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiArbmV3IERhdGUKCQkJCX0sCgkJCQlzdXBwb3J0OiByZQoJCQl9KSwgbGUuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJaWVbIltvYmplY3QgIiArIHQgKyAiXSJdID0gdC50b0xvd2VyQ2FzZSgpCgkJCX0pOwoJCQl2YXIgdWUgPSBmdW5jdGlvbihlKSB7CgkJCQlmdW5jdGlvbiB0KGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciwgcywgbCwgYywgcCwgdSwgbSwgZjsKCQkJCQlpZiAoKHQgPyB0Lm93bmVyRG9jdW1lbnQgfHwgdCA6IFIpICE9PSBJICYmIFAodCksIHQgPSB0IHx8IEksIG4gPSBuIHx8IFtdLCBzID0gdC5ub2RlVHlwZSwgInN0cmluZyIgIT0gdHlwZW9mIGUgfHwgIWUgfHwgMSAhPT0gcyAmJiA5ICE9PSBzICYmIDExICE9PSBzKSByZXR1cm4gbjsKCQkJCQlpZiAoIWkgJiYgcSkgewoJCQkJCQlpZiAoMTEgIT09IHMgJiYgKGEgPSB4ZS5leGVjKGUpKSkKCQkJCQkJCWlmIChyID0gYVsxXSkgewoJCQkJCQkJCWlmICg5ID09PSBzKSB7CgkJCQkJCQkJCWlmIChvID0gdC5nZXRFbGVtZW50QnlJZChyKSwgIW8gfHwgIW8ucGFyZW50Tm9kZSkgcmV0dXJuIG47CgkJCQkJCQkJCWlmIChvLmlkID09PSByKSByZXR1cm4gbi5wdXNoKG8pLCBuCgkJCQkJCQkJfSBlbHNlIGlmICh0Lm93bmVyRG9jdW1lbnQgJiYgKG8gPSB0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikpICYmIEQodCwgbykgJiYgby5pZCA9PT0gcikgcmV0dXJuIG4ucHVzaChvKSwgbgoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlpZiAoYVsyXSkgcmV0dXJuIEsuYXBwbHkobiwgdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSksIG47CgkJCQkJCQkJaWYgKChyID0gYVszXSkgJiYgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm4gSy5hcHBseShuLCB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocikpLCBuCgkJCQkJCQl9CgkJCQkJCWlmIChiLnFzYSAmJiAoIUUgfHwgIUUudGVzdChlKSkpIHsKCQkJCQkJCWlmICh1ID0gcCA9IE0sIG0gPSB0LCBmID0gMSAhPT0gcyAmJiBlLCAxID09PSBzICYmICJvYmplY3QiICE9PSB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHsKCQkJCQkJCQlmb3IgKGMgPSBCKGUpLCAocCA9IHQuZ2V0QXR0cmlidXRlKCJpZCIpKSA/IHUgPSBwLnJlcGxhY2UodmUsICJcXCQmIikgOiB0LnNldEF0dHJpYnV0ZSgiaWQiLCB1KSwgdSA9ICJbaWQ9JyIgKyB1ICsgIiddICIsIGwgPSBjLmxlbmd0aDsgbC0tOykgY1tsXSA9IHUgKyBoKGNbbF0pOwoJCQkJCQkJCW0gPSB3ZS50ZXN0KGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0LCBmID0gYy5qb2luKCIsIikKCQkJCQkJCX0KCQkJCQkJCWlmIChmKSB0cnkgewoJCQkJCQkJCXJldHVybiBLLmFwcGx5KG4sIG0ucXVlcnlTZWxlY3RvckFsbChmKSksIG4KCQkJCQkJCX0gY2F0Y2ggKGcpIHt9IGZpbmFsbHkgewoJCQkJCQkJCXAgfHwgdC5yZW1vdmVBdHRyaWJ1dGUoImlkIikKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gQyhlLnJlcGxhY2UobGUsICIkMSIpLCB0LCBuLCBpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG4oKSB7CgkJCQkJZnVuY3Rpb24gZShuLCBpKSB7CgkJCQkJCXJldHVybiB0LnB1c2gobiArICIgIikgPiB5LmNhY2hlTGVuZ3RoICYmIGRlbGV0ZSBlW3Quc2hpZnQoKV0sIGVbbiArICIgIl0gPSBpCgkJCQkJfQoJCQkJCXZhciB0ID0gW107CgkJCQkJcmV0dXJuIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQlyZXR1cm4gZVtNXSA9ICEwLCBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gYShlKSB7CgkJCQkJdmFyIHQgPSBJLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCXRyeSB7CgkJCQkJCXJldHVybiAhIWUodCkKCQkJCQl9IGNhdGNoIChuKSB7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0gZmluYWxseSB7CgkJCQkJCXQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksIHQgPSBudWxsCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG8oZSwgdCkgewoJCQkJCWZvciAodmFyIG4gPSBlLnNwbGl0KCJ8IiksIGkgPSBlLmxlbmd0aDsgaS0tOykgeS5hdHRySGFuZGxlW25baV1dID0gdAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHIoZSwgdCkgewoJCQkJCXZhciBuID0gdCAmJiBlLAoJCQkJCQlpID0gbiAmJiAxID09PSBlLm5vZGVUeXBlICYmIDEgPT09IHQubm9kZVR5cGUgJiYgKH50LnNvdXJjZUluZGV4IHx8IEcpIC0gKH5lLnNvdXJjZUluZGV4IHx8IEcpOwoJCQkJCWlmIChpKSByZXR1cm4gaTsKCQkJCQlpZiAobikKCQkJCQkJZm9yICg7IG4gPSBuLm5leHRTaWJsaW5nOykKCQkJCQkJCWlmIChuID09PSB0KSByZXR1cm4gLTE7CgkJCQkJcmV0dXJuIGUgPyAxIDogLTEKCQkJCX0KCgkJCQlmdW5jdGlvbiBzKGUpIHsKCQkJCQlyZXR1cm4gZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IG4gJiYgdC50eXBlID09PSBlCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJCXJldHVybiBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCQkJCQlyZXR1cm4gKCJpbnB1dCIgPT09IG4gfHwgImJ1dHRvbiIgPT09IG4pICYmIHQudHlwZSA9PT0gZQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQlyZXR1cm4gaShmdW5jdGlvbih0KSB7CgkJCQkJCXJldHVybiB0ID0gK3QsIGkoZnVuY3Rpb24obiwgaSkgewoJCQkJCQkJZm9yICh2YXIgYSwgbyA9IGUoW10sIG4ubGVuZ3RoLCB0KSwgciA9IG8ubGVuZ3RoOyByLS07KSBuW2EgPSBvW3JdXSAmJiAoblthXSA9ICEoaVthXSA9IG5bYV0pKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9CgoJCQkJZnVuY3Rpb24gZChlKSB7CgkJCQkJcmV0dXJuIGUgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgJiYgZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHAoKSB7fQoKCQkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJCWZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGgsIGkgPSAiIjsgbiA+IHQ7IHQrKykgaSArPSBlW3RdLnZhbHVlOwoJCQkJCXJldHVybiBpCgkJCQl9CgoJCQkJZnVuY3Rpb24gdShlLCB0LCBuKSB7CgkJCQkJdmFyIGkgPSB0LmRpciwKCQkJCQkJYSA9IG4gJiYgInBhcmVudE5vZGUiID09PSBpLAoJCQkJCQlvID0gJCsrOwoJCQkJCXJldHVybiB0LmZpcnN0ID8gZnVuY3Rpb24odCwgbiwgbykgewoJCQkJCQlmb3IgKDsgdCA9IHRbaV07KQoJCQkJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUgfHwgYSkgcmV0dXJuIGUodCwgbiwgbykKCQkJCQl9IDogZnVuY3Rpb24odCwgbiwgcikgewoJCQkJCQl2YXIgcywgbCwgYyA9IFtGLCBvXTsKCQkJCQkJaWYgKHIpIHsKCQkJCQkJCWZvciAoOyB0ID0gdFtpXTspCgkJCQkJCQkJaWYgKCgxID09PSB0Lm5vZGVUeXBlIHx8IGEpICYmIGUodCwgbiwgcikpIHJldHVybiAhMAoJCQkJCQl9IGVsc2UKCQkJCQkJCWZvciAoOyB0ID0gdFtpXTspCgkJCQkJCQkJaWYgKDEgPT09IHQubm9kZVR5cGUgfHwgYSkgewoJCQkJCQkJCQlpZiAobCA9IHRbTV0gfHwgKHRbTV0gPSB7fSksIChzID0gbFtpXSkgJiYgc1swXSA9PT0gRiAmJiBzWzFdID09PSBvKSByZXR1cm4gY1syXSA9IHNbMl07CgkJCQkJCQkJCWlmIChsW2ldID0gYywgY1syXSA9IGUodCwgbiwgcikpIHJldHVybiAhMAoJCQkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gbShlKSB7CgkJCQkJcmV0dXJuIGUubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJZm9yICh2YXIgYSA9IGUubGVuZ3RoOyBhLS07KQoJCQkJCQkJaWYgKCFlW2FdKHQsIG4sIGkpKSByZXR1cm4gITE7CgkJCQkJCXJldHVybiAhMAoJCQkJCX0gOiBlWzBdCgkJCQl9CgoJCQkJZnVuY3Rpb24gZihlLCBuLCBpKSB7CgkJCQkJZm9yICh2YXIgYSA9IDAsIG8gPSBuLmxlbmd0aDsgbyA+IGE7IGErKykgdChlLCBuW2FdLCBpKTsKCQkJCQlyZXR1cm4gaQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGcoZSwgdCwgbiwgaSwgYSkgewoJCQkJCWZvciAodmFyIG8sIHIgPSBbXSwgcyA9IDAsIGwgPSBlLmxlbmd0aCwgYyA9IG51bGwgIT0gdDsgbCA+IHM7IHMrKykobyA9IGVbc10pICYmICghbiB8fCBuKG8sIGksIGEpKSAmJiAoci5wdXNoKG8pLCBjICYmIHQucHVzaChzKSk7CgkJCQkJcmV0dXJuIHIKCQkJCX0KCgkJCQlmdW5jdGlvbiBfKGUsIHQsIG4sIGEsIG8sIHIpIHsKCQkJCQlyZXR1cm4gYSAmJiAhYVtNXSAmJiAoYSA9IF8oYSkpLCBvICYmICFvW01dICYmIChvID0gXyhvLCByKSksIGkoZnVuY3Rpb24oaSwgciwgcywgbCkgewoJCQkJCQl2YXIgYywgZCwgcCwgaCA9IFtdLAoJCQkJCQkJdSA9IFtdLAoJCQkJCQkJbSA9IHIubGVuZ3RoLAoJCQkJCQkJXyA9IGkgfHwgZih0IHx8ICIqIiwgcy5ub2RlVHlwZSA/IFtzXSA6IHMsIFtdKSwKCQkJCQkJCXggPSAhZSB8fCAhaSAmJiB0ID8gXyA6IGcoXywgaCwgZSwgcywgbCksCgkJCQkJCQl3ID0gbiA/IG8gfHwgKGkgPyBlIDogbSB8fCBhKSA/IFtdIDogciA6IHg7CgkJCQkJCWlmIChuICYmIG4oeCwgdywgcywgbCksIGEpCgkJCQkJCQlmb3IgKGMgPSBnKHcsIHUpLCBhKGMsIFtdLCBzLCBsKSwgZCA9IGMubGVuZ3RoOyBkLS07KShwID0gY1tkXSkgJiYgKHdbdVtkXV0gPSAhKHhbdVtkXV0gPSBwKSk7CgkJCQkJCWlmIChpKSB7CgkJCQkJCQlpZiAobyB8fCBlKSB7CgkJCQkJCQkJaWYgKG8pIHsKCQkJCQkJCQkJZm9yIChjID0gW10sIGQgPSB3Lmxlbmd0aDsgZC0tOykocCA9IHdbZF0pICYmIGMucHVzaCh4W2RdID0gcCk7CgkJCQkJCQkJCW8obnVsbCwgdyA9IFtdLCBjLCBsKQoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKGQgPSB3Lmxlbmd0aDsgZC0tOykocCA9IHdbZF0pICYmIChjID0gbyA/IGVlKGksIHApIDogaFtkXSkgPiAtMSAmJiAoaVtjXSA9ICEocltjXSA9IHApKQoJCQkJCQkJfQoJCQkJCQl9IGVsc2UgdyA9IGcodyA9PT0gciA/IHcuc3BsaWNlKG0sIHcubGVuZ3RoKSA6IHcpLCBvID8gbyhudWxsLCByLCB3LCBsKSA6IEsuYXBwbHkociwgdykKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHgoZSkgewoJCQkJCWZvciAodmFyIHQsIG4sIGksIGEgPSBlLmxlbmd0aCwgbyA9IHkucmVsYXRpdmVbZVswXS50eXBlXSwgciA9IG8gfHwgeS5yZWxhdGl2ZVsiICJdLCBzID0gbyA/IDEgOiAwLCBsID0gdShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlID09PSB0CgkJCQkJfSwgciwgITApLCBjID0gdShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlZSh0LCBlKSA+IC0xCgkJCQkJfSwgciwgITApLCBkID0gWwoJCQkJCQlmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9ICFvICYmIChpIHx8IG4gIT09IFMpIHx8ICgodCA9IG4pLm5vZGVUeXBlID8gbChlLCBuLCBpKSA6IGMoZSwgbiwgaSkpOwoJCQkJCQkJcmV0dXJuIHQgPSBudWxsLCBhCgkJCQkJCX0KCQkJCQldOyBhID4gczsgcysrKQoJCQkJCQlpZiAobiA9IHkucmVsYXRpdmVbZVtzXS50eXBlXSkgZCA9IFt1KG0oZCksIG4pXTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpZiAobiA9IHkuZmlsdGVyW2Vbc10udHlwZV0uYXBwbHkobnVsbCwgZVtzXS5tYXRjaGVzKSwgbltNXSkgewoJCQkJCQkJCWZvciAoaSA9ICsrczsgYSA+IGkgJiYgIXkucmVsYXRpdmVbZVtpXS50eXBlXTsgaSsrKTsKCQkJCQkJCQlyZXR1cm4gXyhzID4gMSAmJiBtKGQpLCBzID4gMSAmJiBoKGUuc2xpY2UoMCwgcyAtIDEpLmNvbmNhdCh7CgkJCQkJCQkJCXZhbHVlOiAiICIgPT09IGVbcyAtIDJdLnR5cGUgPyAiKiIgOiAiIgoJCQkJCQkJCX0pKS5yZXBsYWNlKGxlLCAiJDEiKSwgbiwgaSA+IHMgJiYgeChlLnNsaWNlKHMsIGkpKSwgYSA+IGkgJiYgeChlID0gZS5zbGljZShpKSksIGEgPiBpICYmIGgoZSkpCgkJCQkJCQl9CgkJCQkJCQlkLnB1c2gobikKCQkJCQkJfQoJCQkJCXJldHVybiBtKGQpCgkJCQl9CgoJCQkJZnVuY3Rpb24gdyhlLCBuKSB7CgkJCQkJdmFyIGEgPSBuLmxlbmd0aCA+IDAsCgkJCQkJCW8gPSBlLmxlbmd0aCA+IDAsCgkJCQkJCXIgPSBmdW5jdGlvbihpLCByLCBzLCBsLCBjKSB7CgkJCQkJCQl2YXIgZCwgcCwgaCwgdSA9IDAsCgkJCQkJCQkJbSA9ICIwIiwKCQkJCQkJCQlmID0gaSAmJiBbXSwKCQkJCQkJCQlfID0gW10sCgkJCQkJCQkJeCA9IFMsCgkJCQkJCQkJdyA9IGkgfHwgbyAmJiB5LmZpbmQuVEFHKCIqIiwgYyksCgkJCQkJCQkJdiA9IEYgKz0gbnVsbCA9PSB4ID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgLjEsCgkJCQkJCQkJYiA9IHcubGVuZ3RoOwoJCQkJCQkJZm9yIChjICYmIChTID0gciAhPT0gSSAmJiByKTsgbSAhPT0gYiAmJiBudWxsICE9IChkID0gd1ttXSk7IG0rKykgewoJCQkJCQkJCWlmIChvICYmIGQpIHsKCQkJCQkJCQkJZm9yIChwID0gMDsgaCA9IGVbcCsrXTspCgkJCQkJCQkJCQlpZiAoaChkLCByLCBzKSkgewoJCQkJCQkJCQkJCWwucHVzaChkKTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQljICYmIChGID0gdikKCQkJCQkJCQl9CgkJCQkJCQkJYSAmJiAoKGQgPSAhaCAmJiBkKSAmJiB1LS0sIGkgJiYgZi5wdXNoKGQpKQoJCQkJCQkJfQoJCQkJCQkJaWYgKHUgKz0gbSwgYSAmJiBtICE9PSB1KSB7CgkJCQkJCQkJZm9yIChwID0gMDsgaCA9IG5bcCsrXTspIGgoZiwgXywgciwgcyk7CgkJCQkJCQkJaWYgKGkpIHsKCQkJCQkJCQkJaWYgKHUgPiAwKQoJCQkJCQkJCQkJZm9yICg7IG0tLTspIGZbbV0gfHwgX1ttXSB8fCAoX1ttXSA9IFouY2FsbChsKSk7CgkJCQkJCQkJCV8gPSBnKF8pCgkJCQkJCQkJfQoJCQkJCQkJCUsuYXBwbHkobCwgXyksIGMgJiYgIWkgJiYgXy5sZW5ndGggPiAwICYmIHUgKyBuLmxlbmd0aCA+IDEgJiYgdC51bmlxdWVTb3J0KGwpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gYyAmJiAoRiA9IHYsIFMgPSB4KSwgZgoJCQkJCQl9OwoJCQkJCXJldHVybiBhID8gaShyKSA6IHIKCQkJCX0KCQkJCXZhciB2LCBiLCB5LCBrLCB6LCBCLCBqLCBDLCBTLCBOLCBULCBQLCBJLCBBLCBxLCBFLCBPLCBMLCBELCBNID0gInNpenpsZSIgKyAxICogbmV3IERhdGUsCgkJCQkJUiA9IGUuZG9jdW1lbnQsCgkJCQkJRiA9IDAsCgkJCQkJJCA9IDAsCgkJCQkJVyA9IG4oKSwKCQkJCQlIID0gbigpLAoJCQkJCVUgPSBuKCksCgkJCQkJWSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIGUgPT09IHQgJiYgKFQgPSAhMCksIDAKCQkJCQl9LAoJCQkJCUcgPSAxIDw8IDMxLAoJCQkJCVggPSB7fS5oYXNPd25Qcm9wZXJ0eSwKCQkJCQlKID0gW10sCgkJCQkJWiA9IEoucG9wLAoJCQkJCVYgPSBKLnB1c2gsCgkJCQkJSyA9IEoucHVzaCwKCQkJCQlRID0gSi5zbGljZSwKCQkJCQllZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZm9yICh2YXIgbiA9IDAsIGkgPSBlLmxlbmd0aDsgaSA+IG47IG4rKykKCQkJCQkJCWlmIChlW25dID09PSB0KSByZXR1cm4gbjsKCQkJCQkJcmV0dXJuIC0xCgkJCQkJfSwKCQkJCQl0ZSA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsCgkJCQkJbmUgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCgkJCQkJaWUgPSAiKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLAoJCQkJCWFlID0gaWUucmVwbGFjZSgidyIsICJ3IyIpLAoJCQkJCW9lID0gIlxcWyIgKyBuZSArICIqKCIgKyBpZSArICIpKD86IiArIG5lICsgIiooWypeJHwhfl0/PSkiICsgbmUgKyAiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiICsgYWUgKyAiKSl8KSIgKyBuZSArICIqXFxdIiwKCQkJCQlyZSA9ICI6KCIgKyBpZSArICIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiArIG9lICsgIikqKXwuKilcXCl8KSIsCgkJCQkJc2UgPSBuZXcgUmVnRXhwKG5lICsgIisiLCAiZyIpLAoJCQkJCWxlID0gbmV3IFJlZ0V4cCgiXiIgKyBuZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgbmUgKyAiKyQiLCAiZyIpLAoJCQkJCWNlID0gbmV3IFJlZ0V4cCgiXiIgKyBuZSArICIqLCIgKyBuZSArICIqIiksCgkJCQkJZGUgPSBuZXcgUmVnRXhwKCJeIiArIG5lICsgIiooWz4rfl18IiArIG5lICsgIikiICsgbmUgKyAiKiIpLAoJCQkJCXBlID0gbmV3IFJlZ0V4cCgiPSIgKyBuZSArICIqKFteXFxdJ1wiXSo/KSIgKyBuZSArICIqXFxdIiwgImciKSwKCQkJCQloZSA9IG5ldyBSZWdFeHAocmUpLAoJCQkJCXVlID0gbmV3IFJlZ0V4cCgiXiIgKyBhZSArICIkIiksCgkJCQkJbWUgPSB7CgkJCQkJCUlEOiBuZXcgUmVnRXhwKCJeIygiICsgaWUgKyAiKSIpLAoJCQkJCQlDTEFTUzogbmV3IFJlZ0V4cCgiXlxcLigiICsgaWUgKyAiKSIpLAoJCQkJCQlUQUc6IG5ldyBSZWdFeHAoIl4oIiArIGllLnJlcGxhY2UoInciLCAidyoiKSArICIpIiksCgkJCQkJCUFUVFI6IG5ldyBSZWdFeHAoIl4iICsgb2UpLAoJCQkJCQlQU0VVRE86IG5ldyBSZWdFeHAoIl4iICsgcmUpLAoJCQkJCQlDSElMRDogbmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIiArIG5lICsgIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiICsgbmUgKyAiKig/OihbKy1dfCkiICsgbmUgKyAiKihcXGQrKXwpKSIgKyBuZSArICIqXFwpfCkiLCAiaSIpLAoJCQkJCQlib29sOiBuZXcgUmVnRXhwKCJeKD86IiArIHRlICsgIikkIiwgImkiKSwKCQkJCQkJbmVlZHNDb250ZXh0OiBuZXcgUmVnRXhwKCJeIiArIG5lICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKyBuZSArICIqKCg/Oi1cXGQpP1xcZCopIiArIG5lICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIpCgkJCQkJfSwKCQkJCQlmZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCgkJCQkJZ2UgPSAvXmhcZCQvaSwKCQkJCQlfZSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKCQkJCQl4ZSA9IC9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sCgkJCQkJd2UgPSAvWyt+XS8sCgkJCQkJdmUgPSAvJ3xcXC9nLAoJCQkJCWJlID0gbmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IiArIG5lICsgIj98KCIgKyBuZSArICIpfC4pIiwgImlnIiksCgkJCQkJeWUgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gIjB4IiArIHQgLSA2NTUzNjsKCQkJCQkJcmV0dXJuIGkgIT09IGkgfHwgbiA/IHQgOiAwID4gaSA/IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDY1NTM2KSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoaSA+PiAxMCB8IDU1Mjk2LCAxMDIzICYgaSB8IDU2MzIwKQoJCQkJCX0sCgkJCQkJa2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJUCgpCgkJCQkJfTsKCQkJCXRyeSB7CgkJCQkJSy5hcHBseShKID0gUS5jYWxsKFIuY2hpbGROb2RlcyksIFIuY2hpbGROb2RlcyksIEpbUi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGUKCQkJCX0gY2F0Y2ggKHplKSB7CgkJCQkJSyA9IHsKCQkJCQkJYXBwbHk6IEoubGVuZ3RoID8gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJVi5hcHBseShlLCBRLmNhbGwodCkpCgkJCQkJCX0gOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGgsIGkgPSAwOyBlW24rK10gPSB0W2krK107KTsKCQkJCQkJCWUubGVuZ3RoID0gbiAtIDEKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCWIgPSB0LnN1cHBvcnQgPSB7fSwgeiA9IHQuaXNYTUwgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlICYmIChlLm93bmVyRG9jdW1lbnQgfHwgZSkuZG9jdW1lbnRFbGVtZW50OwoJCQkJCXJldHVybiB0ID8gIkhUTUwiICE9PSB0Lm5vZGVOYW1lIDogITEKCQkJCX0sIFAgPSB0LnNldERvY3VtZW50ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gZSA/IGUub3duZXJEb2N1bWVudCB8fCBlIDogUjsKCQkJCQlyZXR1cm4gaSAhPT0gSSAmJiA5ID09PSBpLm5vZGVUeXBlICYmIGkuZG9jdW1lbnRFbGVtZW50ID8gKEkgPSBpLCBBID0gaS5kb2N1bWVudEVsZW1lbnQsIG4gPSBpLmRlZmF1bHRWaWV3LCBuICYmIG4gIT09IG4udG9wICYmIChuLmFkZEV2ZW50TGlzdGVuZXIgPyBuLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsIGtlLCAhMSkgOiBuLmF0dGFjaEV2ZW50ICYmIG4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwga2UpKSwgcSA9ICF6KGkpLCBiLmF0dHJpYnV0ZXMgPSBhKGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuY2xhc3NOYW1lID0gImkiLCAhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpCgkJCQkJfSksIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhKGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuYXBwZW5kQ2hpbGQoaS5jcmVhdGVDb21tZW50KCIiKSksICFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoCgkJCQkJfSksIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IF9lLnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSwgYi5nZXRCeUlkID0gYShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBBLmFwcGVuZENoaWxkKGUpLmlkID0gTSwgIWkuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWkuZ2V0RWxlbWVudHNCeU5hbWUoTSkubGVuZ3RoCgkJCQkJfSksIGIuZ2V0QnlJZCA/ICh5LmZpbmQuSUQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCAmJiBxKSB7CgkJCQkJCQl2YXIgbiA9IHQuZ2V0RWxlbWVudEJ5SWQoZSk7CgkJCQkJCQlyZXR1cm4gbiAmJiBuLnBhcmVudE5vZGUgPyBbbl0gOiBbXQoJCQkJCQl9CgkJCQkJfSwgeS5maWx0ZXIuSUQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gZS5yZXBsYWNlKGJlLCB5ZSk7CgkJCQkJCXJldHVybiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIikgPT09IHQKCQkJCQkJfQoJCQkJCX0pIDogKGRlbGV0ZSB5LmZpbmQuSUQsIHkuZmlsdGVyLklEID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGUucmVwbGFjZShiZSwgeWUpOwoJCQkJCQlyZXR1cm4gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIG4gPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlICYmIGUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTsKCQkJCQkJCXJldHVybiBuICYmIG4udmFsdWUgPT09IHQKCQkJCQkJfQoJCQkJCX0pLCB5LmZpbmQuVEFHID0gYi5nZXRFbGVtZW50c0J5VGFnTmFtZSA/IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuICJ1bmRlZmluZWQiICE9IHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSA6IGIucXNhID8gdC5xdWVyeVNlbGVjdG9yQWxsKGUpIDogdm9pZCAwCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG4sIGkgPSBbXSwKCQkJCQkJCWEgPSAwLAoJCQkJCQkJbyA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7CgkJCQkJCWlmICgiKiIgPT09IGUpIHsKCQkJCQkJCWZvciAoOyBuID0gb1thKytdOykgMSA9PT0gbi5ub2RlVHlwZSAmJiBpLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gaQoJCQkJCQl9CgkJCQkJCXJldHVybiBvCgkJCQkJfSwgeS5maW5kLkNMQVNTID0gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIHEgPyB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSkgOiB2b2lkIDAKCQkJCQl9LCBPID0gW10sIEUgPSBbXSwgKGIucXNhID0gX2UudGVzdChpLnF1ZXJ5U2VsZWN0b3JBbGwpKSAmJiAoYShmdW5jdGlvbihlKSB7CgkJCQkJCUEuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MID0gIjxhIGlkPSciICsgTSArICInPjwvYT48c2VsZWN0IGlkPSciICsgTSArICItXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsIGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGggJiYgRS5wdXNoKCJbKl4kXT0iICsgbmUgKyAiKig/OicnfFwiXCIpIiksIGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aCB8fCBFLnB1c2goIlxcWyIgKyBuZSArICIqKD86dmFsdWV8IiArIHRlICsgIikiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIgKyBNICsgIi1dIikubGVuZ3RoIHx8IEUucHVzaCgifj0iKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aCB8fCBFLnB1c2goIjpjaGVja2VkIiksIGUucXVlcnlTZWxlY3RvckFsbCgiYSMiICsgTSArICIrKiIpLmxlbmd0aCB8fCBFLnB1c2goIi4jLitbK35dIik7CgkJCQkJfSksIGEoZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQkJCQkJdC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAiaGlkZGVuIiksIGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwgIkQiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCAmJiBFLnB1c2goIm5hbWUiICsgbmUgKyAiKlsqXiR8IX5dPz0iKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCB8fCBFLnB1c2goIjplbmFibGVkIiwgIjpkaXNhYmxlZCIpLCBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSwgRS5wdXNoKCIsLio6IikKCQkJCQl9KSksIChiLm1hdGNoZXNTZWxlY3RvciA9IF9lLnRlc3QoTCA9IEEubWF0Y2hlcyB8fCBBLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBBLm1vek1hdGNoZXNTZWxlY3RvciB8fCBBLm9NYXRjaGVzU2VsZWN0b3IgfHwgQS5tc01hdGNoZXNTZWxlY3RvcikpICYmIGEoZnVuY3Rpb24oZSkgewoJCQkJCQliLmRpc2Nvbm5lY3RlZE1hdGNoID0gTC5jYWxsKGUsICJkaXYiKSwgTC5jYWxsKGUsICJbcyE9JyddOngiKSwgTy5wdXNoKCIhPSIsIHJlKQoJCQkJCX0pLCBFID0gRS5sZW5ndGggJiYgbmV3IFJlZ0V4cChFLmpvaW4oInwiKSksIE8gPSBPLmxlbmd0aCAmJiBuZXcgUmVnRXhwKE8uam9pbigifCIpKSwgdCA9IF9lLnRlc3QoQS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksIEQgPSB0IHx8IF9lLnRlc3QoQS5jb250YWlucykgPyBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gOSA9PT0gZS5ub2RlVHlwZSA/IGUuZG9jdW1lbnRFbGVtZW50IDogZSwKCQkJCQkJCWkgPSB0ICYmIHQucGFyZW50Tm9kZTsKCQkJCQkJcmV0dXJuIGUgPT09IGkgfHwgISghaSB8fCAxICE9PSBpLm5vZGVUeXBlIHx8ICEobi5jb250YWlucyA/IG4uY29udGFpbnMoaSkgOiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIDE2ICYgZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKHQpCgkJCQkJCQlmb3IgKDsgdCA9IHQucGFyZW50Tm9kZTspCgkJCQkJCQkJaWYgKHQgPT09IGUpIHJldHVybiAhMDsKCQkJCQkJcmV0dXJuICExCgkJCQkJfSwgWSA9IHQgPyBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlmIChlID09PSB0KSByZXR1cm4gVCA9ICEwLCAwOwoJCQkJCQl2YXIgbiA9ICFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247CgkJCQkJCXJldHVybiBuID8gbiA6IChuID0gKGUub3duZXJEb2N1bWVudCB8fCBlKSA9PT0gKHQub3duZXJEb2N1bWVudCB8fCB0KSA/IGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkgOiAxLCAxICYgbiB8fCAhYi5zb3J0RGV0YWNoZWQgJiYgdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSA9PT0gbiA/IGUgPT09IGkgfHwgZS5vd25lckRvY3VtZW50ID09PSBSICYmIEQoUiwgZSkgPyAtMSA6IHQgPT09IGkgfHwgdC5vd25lckRvY3VtZW50ID09PSBSICYmIEQoUiwgdCkgPyAxIDogTiA/IGVlKE4sIGUpIC0gZWUoTiwgdCkgOiAwIDogNCAmIG4gPyAtMSA6IDEpCgkJCQkJfSA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKGUgPT09IHQpIHJldHVybiBUID0gITAsIDA7CgkJCQkJCXZhciBuLCBhID0gMCwKCQkJCQkJCW8gPSBlLnBhcmVudE5vZGUsCgkJCQkJCQlzID0gdC5wYXJlbnROb2RlLAoJCQkJCQkJbCA9IFtlXSwKCQkJCQkJCWMgPSBbdF07CgkJCQkJCWlmICghbyB8fCAhcykgcmV0dXJuIGUgPT09IGkgPyAtMSA6IHQgPT09IGkgPyAxIDogbyA/IC0xIDogcyA/IDEgOiBOID8gZWUoTiwgZSkgLSBlZShOLCB0KSA6IDA7CgkJCQkJCWlmIChvID09PSBzKSByZXR1cm4gcihlLCB0KTsKCQkJCQkJZm9yIChuID0gZTsgbiA9IG4ucGFyZW50Tm9kZTspIGwudW5zaGlmdChuKTsKCQkJCQkJZm9yIChuID0gdDsgbiA9IG4ucGFyZW50Tm9kZTspIGMudW5zaGlmdChuKTsKCQkJCQkJZm9yICg7IGxbYV0gPT09IGNbYV07KSBhKys7CgkJCQkJCXJldHVybiBhID8gcihsW2FdLCBjW2FdKSA6IGxbYV0gPT09IFIgPyAtMSA6IGNbYV0gPT09IFIgPyAxIDogMAoJCQkJCX0sIGkpIDogSQoJCQkJfSwgdC5tYXRjaGVzID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXJldHVybiB0KGUsIG51bGwsIG51bGwsIG4pCgkJCQl9LCB0Lm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlpZiAoKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpLCBuID0gbi5yZXBsYWNlKHBlLCAiPSckMSddIiksIGIubWF0Y2hlc1NlbGVjdG9yICYmIHEgJiYgKCFPIHx8ICFPLnRlc3QobikpICYmICghRSB8fCAhRS50ZXN0KG4pKSkgdHJ5IHsKCQkJCQkJdmFyIGkgPSBMLmNhbGwoZSwgbik7CgkJCQkJCWlmIChpIHx8IGIuZGlzY29ubmVjdGVkTWF0Y2ggfHwgZS5kb2N1bWVudCAmJiAxMSAhPT0gZS5kb2N1bWVudC5ub2RlVHlwZSkgcmV0dXJuIGkKCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCXJldHVybiB0KG4sIEksIG51bGwsIFtlXSkubGVuZ3RoID4gMAoJCQkJfSwgdC5jb250YWlucyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpLCBEKGUsIHQpCgkJCQl9LCB0LmF0dHIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gSSAmJiBQKGUpOwoJCQkJCXZhciBuID0geS5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0sCgkJCQkJCWkgPSBuICYmIFguY2FsbCh5LmF0dHJIYW5kbGUsIHQudG9Mb3dlckNhc2UoKSkgPyBuKGUsIHQsICFxKSA6IHZvaWQgMDsKCQkJCQlyZXR1cm4gdm9pZCAwICE9PSBpID8gaSA6IGIuYXR0cmlidXRlcyB8fCAhcSA/IGUuZ2V0QXR0cmlidXRlKHQpIDogKGkgPSBlLmdldEF0dHJpYnV0ZU5vZGUodCkpICYmIGkuc3BlY2lmaWVkID8gaS52YWx1ZSA6IG51bGwKCQkJCX0sIHQuZXJyb3IgPSBmdW5jdGlvbihlKSB7CgkJCQkJdGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiICsgZSkKCQkJCX0sIHQudW5pcXVlU29ydCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IFtdLAoJCQkJCQlpID0gMCwKCQkJCQkJYSA9IDA7CgkJCQkJaWYgKFQgPSAhYi5kZXRlY3REdXBsaWNhdGVzLCBOID0gIWIuc29ydFN0YWJsZSAmJiBlLnNsaWNlKDApLCBlLnNvcnQoWSksIFQpIHsKCQkJCQkJZm9yICg7IHQgPSBlW2ErK107KSB0ID09PSBlW2FdICYmIChpID0gbi5wdXNoKGEpKTsKCQkJCQkJZm9yICg7IGktLTspIGUuc3BsaWNlKG5baV0sIDEpCgkJCQkJfQoJCQkJCXJldHVybiBOID0gbnVsbCwgZQoJCQkJfSwgayA9IHQuZ2V0VGV4dCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9ICIiLAoJCQkJCQlpID0gMCwKCQkJCQkJYSA9IGUubm9kZVR5cGU7CgkJCQkJaWYgKGEpIHsKCQkJCQkJaWYgKDEgPT09IGEgfHwgOSA9PT0gYSB8fCAxMSA9PT0gYSkgewoJCQkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlLnRleHRDb250ZW50KSByZXR1cm4gZS50ZXh0Q29udGVudDsKCQkJCQkJCWZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIG4gKz0gayhlKQoJCQkJCQl9IGVsc2UgaWYgKDMgPT09IGEgfHwgNCA9PT0gYSkgcmV0dXJuIGUubm9kZVZhbHVlCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAoOyB0ID0gZVtpKytdOykgbiArPSBrKHQpOwoJCQkJCXJldHVybiBuCgkJCQl9LCB5ID0gdC5zZWxlY3RvcnMgPSB7CgkJCQkJY2FjaGVMZW5ndGg6IDUwLAoJCQkJCWNyZWF0ZVBzZXVkbzogaSwKCQkJCQltYXRjaDogbWUsCgkJCQkJYXR0ckhhbmRsZToge30sCgkJCQkJZmluZDoge30sCgkJCQkJcmVsYXRpdmU6IHsKCQkJCQkJIj4iOiB7CgkJCQkJCQlkaXI6ICJwYXJlbnROb2RlIiwKCQkJCQkJCWZpcnN0OiAhMAoJCQkJCQl9LAoJCQkJCQkiICI6IHsKCQkJCQkJCWRpcjogInBhcmVudE5vZGUiCgkJCQkJCX0sCgkJCQkJCSIrIjogewoJCQkJCQkJZGlyOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJCWZpcnN0OiAhMAoJCQkJCQl9LAoJCQkJCQkifiI6IHsKCQkJCQkJCWRpcjogInByZXZpb3VzU2libGluZyIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcHJlRmlsdGVyOiB7CgkJCQkJCUFUVFI6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlWzFdID0gZVsxXS5yZXBsYWNlKGJlLCB5ZSksIGVbM10gPSAoZVszXSB8fCBlWzRdIHx8IGVbNV0gfHwgIiIpLnJlcGxhY2UoYmUsIHllKSwgIn49IiA9PT0gZVsyXSAmJiAoZVszXSA9ICIgIiArIGVbM10gKyAiICIpLCBlLnNsaWNlKDAsIDQpCgkJCQkJCX0sCgkJCQkJCUNISUxEOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZVsxXSA9IGVbMV0udG9Mb3dlckNhc2UoKSwgIm50aCIgPT09IGVbMV0uc2xpY2UoMCwgMykgPyAoZVszXSB8fCB0LmVycm9yKGVbMF0pLCBlWzRdID0gKyhlWzRdID8gZVs1XSArIChlWzZdIHx8IDEpIDogMiAqICgiZXZlbiIgPT09IGVbM10gfHwgIm9kZCIgPT09IGVbM10pKSwgZVs1XSA9ICsoZVs3XSArIGVbOF0gfHwgIm9kZCIgPT09IGVbM10pKSA6IGVbM10gJiYgdC5lcnJvcihlWzBdKSwgZQoJCQkJCQl9LAoJCQkJCQlQU0VVRE86IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0LCBuID0gIWVbNl0gJiYgZVsyXTsKCQkJCQkJCXJldHVybiBtZS5DSElMRC50ZXN0KGVbMF0pID8gbnVsbCA6IChlWzNdID8gZVsyXSA9IGVbNF0gfHwgZVs1XSB8fCAiIiA6IG4gJiYgaGUudGVzdChuKSAmJiAodCA9IEIobiwgITApKSAmJiAodCA9IG4uaW5kZXhPZigiKSIsIG4ubGVuZ3RoIC0gdCkgLSBuLmxlbmd0aCkgJiYgKGVbMF0gPSBlWzBdLnNsaWNlKDAsIHQpLCBlWzJdID0gbi5zbGljZSgwLCB0KSksIGUuc2xpY2UoMCwgMykpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWZpbHRlcjogewoJCQkJCQlUQUc6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gZS5yZXBsYWNlKGJlLCB5ZSkudG9Mb3dlckNhc2UoKTsKCQkJCQkJCXJldHVybiAiKiIgPT09IGUgPyBmdW5jdGlvbigpIHsKCQkJCQkJCQlyZXR1cm4gITAKCQkJCQkJCX0gOiBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCUNMQVNTOiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IFdbZSArICIgIl07CgkJCQkJCQlyZXR1cm4gdCB8fCAodCA9IG5ldyBSZWdFeHAoIihefCIgKyBuZSArICIpIiArIGUgKyAiKCIgKyBuZSArICJ8JCkiKSkgJiYgVyhlLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIHQudGVzdCgic3RyaW5nIiA9PSB0eXBlb2YgZS5jbGFzc05hbWUgJiYgZS5jbGFzc05hbWUgfHwgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuZ2V0QXR0cmlidXRlICYmIGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKQoJCQkJCQkJfSkKCQkJCQkJfSwKCQkJCQkJQVRUUjogZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGEpIHsKCQkJCQkJCQl2YXIgbyA9IHQuYXR0cihhLCBlKTsKCQkJCQkJCQlyZXR1cm4gbnVsbCA9PSBvID8gIiE9IiA9PT0gbiA6IG4gPyAobyArPSAiIiwgIj0iID09PSBuID8gbyA9PT0gaSA6ICIhPSIgPT09IG4gPyBvICE9PSBpIDogIl49IiA9PT0gbiA/IGkgJiYgMCA9PT0gby5pbmRleE9mKGkpIDogIio9IiA9PT0gbiA/IGkgJiYgby5pbmRleE9mKGkpID4gLTEgOiAiJD0iID09PSBuID8gaSAmJiBvLnNsaWNlKC1pLmxlbmd0aCkgPT09IGkgOiAifj0iID09PSBuID8gKCIgIiArIG8ucmVwbGFjZShzZSwgIiAiKSArICIgIikuaW5kZXhPZihpKSA+IC0xIDogInw9IiA9PT0gbiA/IG8gPT09IGkgfHwgby5zbGljZSgwLCBpLmxlbmd0aCArIDEpID09PSBpICsgIi0iIDogITEpIDogITAKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJQ0hJTEQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXZhciBvID0gIm50aCIgIT09IGUuc2xpY2UoMCwgMyksCgkJCQkJCQkJciA9ICJsYXN0IiAhPT0gZS5zbGljZSgtNCksCgkJCQkJCQkJcyA9ICJvZi10eXBlIiA9PT0gdDsKCQkJCQkJCXJldHVybiAxID09PSBpICYmIDAgPT09IGEgPyBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICEhZS5wYXJlbnROb2RlCgkJCQkJCQl9IDogZnVuY3Rpb24odCwgbiwgbCkgewoJCQkJCQkJCXZhciBjLCBkLCBwLCBoLCB1LCBtLCBmID0gbyAhPT0gciA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJCQkJZyA9IHQucGFyZW50Tm9kZSwKCQkJCQkJCQkJXyA9IHMgJiYgdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLAoJCQkJCQkJCQl4ID0gIWwgJiYgIXM7CgkJCQkJCQkJaWYgKGcpIHsKCQkJCQkJCQkJaWYgKG8pIHsKCQkJCQkJCQkJCWZvciAoOyBmOykgewoJCQkJCQkJCQkJCWZvciAocCA9IHQ7IHAgPSBwW2ZdOykKCQkJCQkJCQkJCQkJaWYgKHMgPyBwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IF8gOiAxID09PSBwLm5vZGVUeXBlKSByZXR1cm4gITE7CgkJCQkJCQkJCQkJbSA9IGYgPSAib25seSIgPT09IGUgJiYgIW0gJiYgIm5leHRTaWJsaW5nIgoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJcmV0dXJuICEwCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG0gPSBbciA/IGcuZmlyc3RDaGlsZCA6IGcubGFzdENoaWxkXSwgciAmJiB4KSB7CgkJCQkJCQkJCQlmb3IgKGQgPSBnW01dIHx8IChnW01dID0ge30pLCBjID0gZFtlXSB8fCBbXSwgdSA9IGNbMF0gPT09IEYgJiYgY1sxXSwgaCA9IGNbMF0gPT09IEYgJiYgY1syXSwgcCA9IHUgJiYgZy5jaGlsZE5vZGVzW3VdOyBwID0gKyt1ICYmIHAgJiYgcFtmXSB8fCAoaCA9IHUgPSAwKSB8fCBtLnBvcCgpOykKCQkJCQkJCQkJCQlpZiAoMSA9PT0gcC5ub2RlVHlwZSAmJiArK2ggJiYgcCA9PT0gdCkgewoJCQkJCQkJCQkJCQlkW2VdID0gW0YsIHUsIGhdOwoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSBlbHNlIGlmICh4ICYmIChjID0gKHRbTV0gfHwgKHRbTV0gPSB7fSkpW2VdKSAmJiBjWzBdID09PSBGKSBoID0gY1sxXTsKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJZm9yICg7CgkJCQkJCQkJCQkJKHAgPSArK3UgJiYgcCAmJiBwW2ZdIHx8IChoID0gdSA9IDApIHx8IG0ucG9wKCkpICYmICgocyA/IHAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXyA6IDEgIT09IHAubm9kZVR5cGUpIHx8ICErK2ggfHwgKHggJiYgKChwW01dIHx8IChwW01dID0ge30pKVtlXSA9IFtGLCBoXSksIHAgIT09IHQpKTspOwoJCQkJCQkJCQlyZXR1cm4gaCAtPSBhLCBoID09PSBpIHx8IGggJSBpID09PSAwICYmIGggLyBpID49IDAKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCVBTRVVETzogZnVuY3Rpb24oZSwgbikgewoJCQkJCQkJdmFyIGEsIG8gPSB5LnBzZXVkb3NbZV0gfHwgeS5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV0gfHwgdC5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgZSk7CgkJCQkJCQlyZXR1cm4gb1tNXSA/IG8obikgOiBvLmxlbmd0aCA+IDEgPyAoYSA9IFtlLCBlLCAiIiwgbl0sIHkuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpID8gaShmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJZm9yICh2YXIgaSwgYSA9IG8oZSwgbiksIHIgPSBhLmxlbmd0aDsgci0tOykgaSA9IGVlKGUsIGFbcl0pLCBlW2ldID0gISh0W2ldID0gYVtyXSkKCQkJCQkJCX0pIDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiBvKGUsIDAsIGEpCgkJCQkJCQl9KSA6IG8KCQkJCQkJfQoJCQkJCX0sCgkJCQkJcHNldWRvczogewoJCQkJCQlub3Q6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBbXSwKCQkJCQkJCQluID0gW10sCgkJCQkJCQkJYSA9IGooZS5yZXBsYWNlKGxlLCAiJDEiKSk7CgkJCQkJCQlyZXR1cm4gYVtNXSA/IGkoZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJCWZvciAodmFyIG8sIHIgPSBhKGUsIG51bGwsIGksIFtdKSwgcyA9IGUubGVuZ3RoOyBzLS07KShvID0gcltzXSkgJiYgKGVbc10gPSAhKHRbc10gPSBvKSkKCQkJCQkJCX0pIDogZnVuY3Rpb24oZSwgaSwgbykgewoJCQkJCQkJCXJldHVybiB0WzBdID0gZSwgYSh0LCBudWxsLCBvLCBuKSwgdFswXSA9IG51bGwsICFuLnBvcCgpCgkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQloYXM6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCQlyZXR1cm4gdChlLCBuKS5sZW5ndGggPiAwCgkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQljb250YWluczogaShmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZSA9IGUucmVwbGFjZShiZSwgeWUpLAoJCQkJCQkJCWZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJcmV0dXJuICh0LnRleHRDb250ZW50IHx8IHQuaW5uZXJUZXh0IHx8IGsodCkpLmluZGV4T2YoZSkgPiAtMQoJCQkJCQkJCX0KCQkJCQkJfSksCgkJCQkJCWxhbmc6IGkoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIHVlLnRlc3QoZSB8fCAiIikgfHwgdC5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIiArIGUpLCBlID0gZS5yZXBsYWNlKGJlLCB5ZSkudG9Mb3dlckNhc2UoKSwKCQkJCQkJCQlmdW5jdGlvbih0KSB7CgkJCQkJCQkJCXZhciBuOwoJCQkJCQkJCQlkbwoJCQkJCQkJCQkJaWYgKG4gPSBxID8gdC5sYW5nIDogdC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIikgfHwgdC5nZXRBdHRyaWJ1dGUoImxhbmciKSkgcmV0dXJuIG4gPSBuLnRvTG93ZXJDYXNlKCksIG4gPT09IGUgfHwgMCA9PT0gbi5pbmRleE9mKGUgKyAiLSIpOwoJCQkJCQkJCQl3aGlsZSAoKHQgPSB0LnBhcmVudE5vZGUpICYmIDEgPT09IHQubm9kZVR5cGUpOwoJCQkJCQkJCQlyZXR1cm4gITEKCQkJCQkJCQl9CgkJCQkJCX0pLAoJCQkJCQl0YXJnZXQ6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXZhciBuID0gZS5sb2NhdGlvbiAmJiBlLmxvY2F0aW9uLmhhc2g7CgkJCQkJCQlyZXR1cm4gbiAmJiBuLnNsaWNlKDEpID09PSB0LmlkCgkJCQkJCX0sCgkJCQkJCXJvb3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlID09PSBBCgkJCQkJCX0sCgkJCQkJCWZvY3VzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZSA9PT0gSS5hY3RpdmVFbGVtZW50ICYmICghSS5oYXNGb2N1cyB8fCBJLmhhc0ZvY3VzKCkpICYmICEhKGUudHlwZSB8fCBlLmhyZWYgfHwgfmUudGFiSW5kZXgpCgkJCQkJCX0sCgkJCQkJCWVuYWJsZWQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlLmRpc2FibGVkID09PSAhMQoJCQkJCQl9LAoJCQkJCQlkaXNhYmxlZDogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuZGlzYWJsZWQgPT09ICEwCgkJCQkJCX0sCgkJCQkJCWNoZWNrZWQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoJCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IHQgJiYgISFlLmNoZWNrZWQgfHwgIm9wdGlvbiIgPT09IHQgJiYgISFlLnNlbGVjdGVkCgkJCQkJCX0sCgkJCQkJCXNlbGVjdGVkOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS5wYXJlbnROb2RlICYmIGUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCBlLnNlbGVjdGVkID09PSAhMAoJCQkJCQl9LAoJCQkJCQllbXB0eTogZnVuY3Rpb24oZSkgewoJCQkJCQkJZm9yIChlID0gZS5maXJzdENoaWxkOyBlOyBlID0gZS5uZXh0U2libGluZykKCQkJCQkJCQlpZiAoZS5ub2RlVHlwZSA8IDYpIHJldHVybiAhMTsKCQkJCQkJCXJldHVybiAhMAoJCQkJCQl9LAoJCQkJCQlwYXJlbnQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiAheS5wc2V1ZG9zLmVtcHR5KGUpCgkJCQkJCX0sCgkJCQkJCWhlYWRlcjogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGdlLnRlc3QoZS5ub2RlTmFtZSkKCQkJCQkJfSwKCQkJCQkJaW5wdXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBmZS50ZXN0KGUubm9kZU5hbWUpCgkJCQkJCX0sCgkJCQkJCWJ1dHRvbjogZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJCQkJCQlyZXR1cm4gImlucHV0IiA9PT0gdCAmJiAiYnV0dG9uIiA9PT0gZS50eXBlIHx8ICJidXR0b24iID09PSB0CgkJCQkJCX0sCgkJCQkJCXRleHQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJcmV0dXJuICJpbnB1dCIgPT09IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiAidGV4dCIgPT09IGUudHlwZSAmJiAobnVsbCA9PSAodCA9IGUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpIHx8ICJ0ZXh0IiA9PT0gdC50b0xvd2VyQ2FzZSgpKQoJCQkJCQl9LAoJCQkJCQlmaXJzdDogYyhmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBbMF0KCQkJCQkJfSksCgkJCQkJCWxhc3Q6IGMoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuIFt0IC0gMV0KCQkJCQkJfSksCgkJCQkJCWVxOiBjKGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJCXJldHVybiBbMCA+IG4gPyBuICsgdCA6IG5dCgkJCQkJCX0pLAoJCQkJCQlldmVuOiBjKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSAwOyB0ID4gbjsgbiArPSAyKSBlLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KSwKCQkJCQkJb2RkOiBjKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSAxOyB0ID4gbjsgbiArPSAyKSBlLnB1c2gobik7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KSwKCQkJCQkJbHQ6IGMoZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkJZm9yICh2YXIgaSA9IDAgPiBuID8gbiArIHQgOiBuOyAtLWkgPj0gMDspIGUucHVzaChpKTsKCQkJCQkJCXJldHVybiBlCgkJCQkJCX0pLAoJCQkJCQlndDogYyhmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCQlmb3IgKHZhciBpID0gMCA+IG4gPyBuICsgdCA6IG47ICsraSA8IHQ7KSBlLnB1c2goaSk7CgkJCQkJCQlyZXR1cm4gZQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0sIHkucHNldWRvcy5udGggPSB5LnBzZXVkb3MuZXE7CgkJCQlmb3IgKHYgaW4gewoJCQkJCXJhZGlvOiAhMCwKCQkJCQljaGVja2JveDogITAsCgkJCQkJZmlsZTogITAsCgkJCQkJcGFzc3dvcmQ6ICEwLAoJCQkJCWltYWdlOiAhMAoJCQkJfSkgeS5wc2V1ZG9zW3ZdID0gcyh2KTsKCQkJCWZvciAodiBpbiB7CgkJCQkJc3VibWl0OiAhMCwKCQkJCQlyZXNldDogITAKCQkJCX0pIHkucHNldWRvc1t2XSA9IGwodik7CgkJCQlyZXR1cm4gcC5wcm90b3R5cGUgPSB5LmZpbHRlcnMgPSB5LnBzZXVkb3MsIHkuc2V0RmlsdGVycyA9IG5ldyBwLCBCID0gdC50b2tlbml6ZSA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCwgYywgZCA9IEhbZSArICIgIl07CgkJCQkJaWYgKGQpIHJldHVybiBuID8gMCA6IGQuc2xpY2UoMCk7CgkJCQkJZm9yIChzID0gZSwgbCA9IFtdLCBjID0geS5wcmVGaWx0ZXI7IHM7KSB7CgkJCQkJCSghaSB8fCAoYSA9IGNlLmV4ZWMocykpKSAmJiAoYSAmJiAocyA9IHMuc2xpY2UoYVswXS5sZW5ndGgpIHx8IHMpLCBsLnB1c2gobyA9IFtdKSksIGkgPSAhMSwgKGEgPSBkZS5leGVjKHMpKSAmJiAoaSA9IGEuc2hpZnQoKSwgby5wdXNoKHsKCQkJCQkJCXZhbHVlOiBpLAoJCQkJCQkJdHlwZTogYVswXS5yZXBsYWNlKGxlLCAiICIpCgkJCQkJCX0pLCBzID0gcy5zbGljZShpLmxlbmd0aCkpOwoJCQkJCQlmb3IgKHIgaW4geS5maWx0ZXIpICEoYSA9IG1lW3JdLmV4ZWMocykpIHx8IGNbcl0gJiYgIShhID0gY1tyXShhKSkgfHwgKGkgPSBhLnNoaWZ0KCksIG8ucHVzaCh7CgkJCQkJCQl2YWx1ZTogaSwKCQkJCQkJCXR5cGU6IHIsCgkJCQkJCQltYXRjaGVzOiBhCgkJCQkJCX0pLCBzID0gcy5zbGljZShpLmxlbmd0aCkpOwoJCQkJCQlpZiAoIWkpIGJyZWFrCgkJCQkJfQoJCQkJCXJldHVybiBuID8gcy5sZW5ndGggOiBzID8gdC5lcnJvcihlKSA6IEgoZSwgbCkuc2xpY2UoMCkKCQkJCX0sIGogPSB0LmNvbXBpbGUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSBbXSwKCQkJCQkJYSA9IFtdLAoJCQkJCQlvID0gVVtlICsgIiAiXTsKCQkJCQlpZiAoIW8pIHsKCQkJCQkJZm9yICh0IHx8ICh0ID0gQihlKSksIG4gPSB0Lmxlbmd0aDsgbi0tOykgbyA9IHgodFtuXSksIG9bTV0gPyBpLnB1c2gobykgOiBhLnB1c2gobyk7CgkJCQkJCW8gPSBVKGUsIHcoYSwgaSkpLCBvLnNlbGVjdG9yID0gZQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwgQyA9IHQuc2VsZWN0ID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByLCBzLCBsLCBjID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSAmJiBlLAoJCQkJCQlwID0gIWkgJiYgQihlID0gYy5zZWxlY3RvciB8fCBlKTsKCQkJCQlpZiAobiA9IG4gfHwgW10sIDEgPT09IHAubGVuZ3RoKSB7CgkJCQkJCWlmIChvID0gcFswXSA9IHBbMF0uc2xpY2UoMCksIG8ubGVuZ3RoID4gMiAmJiAiSUQiID09PSAociA9IG9bMF0pLnR5cGUgJiYgYi5nZXRCeUlkICYmIDkgPT09IHQubm9kZVR5cGUgJiYgcSAmJiB5LnJlbGF0aXZlW29bMV0udHlwZV0pIHsKCQkJCQkJCWlmICh0ID0gKHkuZmluZC5JRChyLm1hdGNoZXNbMF0ucmVwbGFjZShiZSwgeWUpLCB0KSB8fCBbXSlbMF0sICF0KSByZXR1cm4gbjsKCQkJCQkJCWMgJiYgKHQgPSB0LnBhcmVudE5vZGUpLCBlID0gZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKQoJCQkJCQl9CgkJCQkJCWZvciAoYSA9IG1lLm5lZWRzQ29udGV4dC50ZXN0KGUpID8gMCA6IG8ubGVuZ3RoOyBhLS0gJiYgKHIgPSBvW2FdLCAheS5yZWxhdGl2ZVtzID0gci50eXBlXSk7KQoJCQkJCQkJaWYgKChsID0geS5maW5kW3NdKSAmJiAoaSA9IGwoci5tYXRjaGVzWzBdLnJlcGxhY2UoYmUsIHllKSwgd2UudGVzdChvWzBdLnR5cGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0KSkpIHsKCQkJCQkJCQlpZiAoby5zcGxpY2UoYSwgMSksIGUgPSBpLmxlbmd0aCAmJiBoKG8pLCAhZSkgcmV0dXJuIEsuYXBwbHkobiwgaSksIG47CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIChjIHx8IGooZSwgcCkpKGksIHQsICFxLCBuLCB3ZS50ZXN0KGUpICYmIGQodC5wYXJlbnROb2RlKSB8fCB0KSwgbgoJCQkJfSwgYi5zb3J0U3RhYmxlID0gTS5zcGxpdCgiIikuc29ydChZKS5qb2luKCIiKSA9PT0gTSwgYi5kZXRlY3REdXBsaWNhdGVzID0gISFULCBQKCksIGIuc29ydERldGFjaGVkID0gYShmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIDEgJiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEkuY3JlYXRlRWxlbWVudCgiZGl2IikpCgkJCQl9KSwgYShmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuaW5uZXJIVE1MID0gIjxhIGhyZWY9JyMnPjwvYT4iLCAiIyIgPT09IGUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKQoJCQkJfSkgfHwgbygidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbiA/IHZvaWQgMCA6IGUuZ2V0QXR0cmlidXRlKHQsICJ0eXBlIiA9PT0gdC50b0xvd2VyQ2FzZSgpID8gMSA6IDIpCgkJCQl9KSwgYi5hdHRyaWJ1dGVzICYmIGEoZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLmlubmVySFRNTCA9ICI8aW5wdXQvPiIsIGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIiIpLCAiIiA9PT0gZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKQoJCQkJfSkgfHwgbygidmFsdWUiLCBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIG4gfHwgImlucHV0IiAhPT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID8gdm9pZCAwIDogZS5kZWZhdWx0VmFsdWUKCQkJCX0pLCBhKGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbnVsbCA9PSBlLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKQoJCQkJfSkgfHwgbyh0ZSwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpOwoJCQkJCXJldHVybiBuID8gdm9pZCAwIDogZVt0XSA9PT0gITAgPyB0LnRvTG93ZXJDYXNlKCkgOiAoaSA9IGUuZ2V0QXR0cmlidXRlTm9kZSh0KSkgJiYgaS5zcGVjaWZpZWQgPyBpLnZhbHVlIDogbnVsbAoJCQkJfSksIHQKCQkJfShhKTsKCQkJbGUuZmluZCA9IHVlLCBsZS5leHByID0gdWUuc2VsZWN0b3JzLCBsZS5leHByWyI6Il0gPSBsZS5leHByLnBzZXVkb3MsIGxlLnVuaXF1ZSA9IHVlLnVuaXF1ZVNvcnQsIGxlLnRleHQgPSB1ZS5nZXRUZXh0LCBsZS5pc1hNTERvYyA9IHVlLmlzWE1MLCBsZS5jb250YWlucyA9IHVlLmNvbnRhaW5zOwoJCQl2YXIgbWUgPSBsZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCwKCQkJCWZlID0gL148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLywKCQkJCWdlID0gL14uW146I1xbXC4sXSokLzsKCQkJbGUuZmlsdGVyID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGkgPSB0WzBdOwoJCQkJcmV0dXJuIG4gJiYgKGUgPSAiOm5vdCgiICsgZSArICIpIiksIDEgPT09IHQubGVuZ3RoICYmIDEgPT09IGkubm9kZVR5cGUgPyBsZS5maW5kLm1hdGNoZXNTZWxlY3RvcihpLCBlKSA/IFtpXSA6IFtdIDogbGUuZmluZC5tYXRjaGVzKGUsIGxlLmdyZXAodCwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAxID09PSBlLm5vZGVUeXBlCgkJCQl9KSkKCQkJfSwgbGUuZm4uZXh0ZW5kKHsKCQkJCWZpbmQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IFtdLAoJCQkJCQlpID0gdGhpcywKCQkJCQkJYSA9IGkubGVuZ3RoOwoJCQkJCWlmICgic3RyaW5nIiAhPSB0eXBlb2YgZSkgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlKGUpLmZpbHRlcihmdW5jdGlvbigpIHsKCQkJCQkJZm9yICh0ID0gMDsgYSA+IHQ7IHQrKykKCQkJCQkJCWlmIChsZS5jb250YWlucyhpW3RdLCB0aGlzKSkgcmV0dXJuICEwCgkJCQkJfSkpOwoJCQkJCWZvciAodCA9IDA7IGEgPiB0OyB0KyspIGxlLmZpbmQoZSwgaVt0XSwgbik7CgkJCQkJcmV0dXJuIG4gPSB0aGlzLnB1c2hTdGFjayhhID4gMSA/IGxlLnVuaXF1ZShuKSA6IG4pLCBuLnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciA/IHRoaXMuc2VsZWN0b3IgKyAiICIgKyBlIDogZSwgbgoJCQkJfSwKCQkJCWZpbHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLnB1c2hTdGFjayhzKHRoaXMsIGUgfHwgW10sICExKSkKCQkJCX0sCgkJCQlub3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2socyh0aGlzLCBlIHx8IFtdLCAhMCkpCgkJCQl9LAoJCQkJaXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gISFzKHRoaXMsICJzdHJpbmciID09IHR5cGVvZiBlICYmIG1lLnRlc3QoZSkgPyBsZShlKSA6IGUgfHwgW10sICExKS5sZW5ndGgKCQkJCX0KCQkJfSk7CgkJCXZhciBfZSwgeGUgPSBhLmRvY3VtZW50LAoJCQkJd2UgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLAoJCQkJdmUgPSBsZS5mbi5pbml0ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpOwoJCQkJCWlmICghZSkgcmV0dXJuIHRoaXM7CgkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlKSB7CgkJCQkJCWlmIChuID0gIjwiID09PSBlLmNoYXJBdCgwKSAmJiAiPiIgPT09IGUuY2hhckF0KGUubGVuZ3RoIC0gMSkgJiYgZS5sZW5ndGggPj0gMyA/IFtudWxsLCBlLCBudWxsXSA6IHdlLmV4ZWMoZSksICFuIHx8ICFuWzFdICYmIHQpIHJldHVybiAhdCB8fCB0LmpxdWVyeSA/ICh0IHx8IF9lKS5maW5kKGUpIDogdGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpOwoJCQkJCQlpZiAoblsxXSkgewoJCQkJCQkJaWYgKHQgPSB0IGluc3RhbmNlb2YgbGUgPyB0WzBdIDogdCwgbGUubWVyZ2UodGhpcywgbGUucGFyc2VIVE1MKG5bMV0sIHQgJiYgdC5ub2RlVHlwZSA/IHQub3duZXJEb2N1bWVudCB8fCB0IDogeGUsICEwKSksIGZlLnRlc3QoblsxXSkgJiYgbGUuaXNQbGFpbk9iamVjdCh0KSkKCQkJCQkJCQlmb3IgKG4gaW4gdCkgbGUuaXNGdW5jdGlvbih0aGlzW25dKSA/IHRoaXNbbl0odFtuXSkgOiB0aGlzLmF0dHIobiwgdFtuXSk7CgkJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCQl9CgkJCQkJCWlmIChpID0geGUuZ2V0RWxlbWVudEJ5SWQoblsyXSksIGkgJiYgaS5wYXJlbnROb2RlKSB7CgkJCQkJCQlpZiAoaS5pZCAhPT0gblsyXSkgcmV0dXJuIF9lLmZpbmQoZSk7CgkJCQkJCQl0aGlzLmxlbmd0aCA9IDEsIHRoaXNbMF0gPSBpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMuY29udGV4dCA9IHhlLCB0aGlzLnNlbGVjdG9yID0gZSwgdGhpcwoJCQkJCX0KCQkJCQlyZXR1cm4gZS5ub2RlVHlwZSA/ICh0aGlzLmNvbnRleHQgPSB0aGlzWzBdID0gZSwgdGhpcy5sZW5ndGggPSAxLCB0aGlzKSA6IGxlLmlzRnVuY3Rpb24oZSkgPyAidW5kZWZpbmVkIiAhPSB0eXBlb2YgX2UucmVhZHkgPyBfZS5yZWFkeShlKSA6IGUobGUpIDogKHZvaWQgMCAhPT0gZS5zZWxlY3RvciAmJiAodGhpcy5zZWxlY3RvciA9IGUuc2VsZWN0b3IsIHRoaXMuY29udGV4dCA9IGUuY29udGV4dCksIGxlLm1ha2VBcnJheShlLCB0aGlzKSkKCQkJCX07CgkJCXZlLnByb3RvdHlwZSA9IGxlLmZuLCBfZSA9IGxlKHhlKTsKCQkJdmFyIGJlID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sCgkJCQl5ZSA9IHsKCQkJCQljaGlsZHJlbjogITAsCgkJCQkJY29udGVudHM6ICEwLAoJCQkJCW5leHQ6ICEwLAoJCQkJCXByZXY6ICEwCgkJCQl9OwoJCQlsZS5leHRlbmQoewoJCQkJZGlyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gZVt0XTsgYSAmJiA5ICE9PSBhLm5vZGVUeXBlICYmICh2b2lkIDAgPT09IG4gfHwgMSAhPT0gYS5ub2RlVHlwZSB8fCAhbGUoYSkuaXMobikpOykgMSA9PT0gYS5ub2RlVHlwZSAmJiBpLnB1c2goYSksIGEgPSBhW3RdOwoJCQkJCXJldHVybiBpCgkJCQl9LAoJCQkJc2libGluZzogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZvciAodmFyIG4gPSBbXTsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIDEgPT09IGUubm9kZVR5cGUgJiYgZSAhPT0gdCAmJiBuLnB1c2goZSk7CgkJCQkJcmV0dXJuIG4KCQkJCX0KCQkJfSksIGxlLmZuLmV4dGVuZCh7CgkJCQloYXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IGxlKGUsIHRoaXMpLAoJCQkJCQlpID0gbi5sZW5ndGg7CgkJCQkJcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHQgPSAwOyBpID4gdDsgdCsrKQoJCQkJCQkJaWYgKGxlLmNvbnRhaW5zKHRoaXMsIG5bdF0pKSByZXR1cm4gITAKCQkJCQl9KQoJCQkJfSwKCQkJCWNsb3Nlc3Q6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IHRoaXMubGVuZ3RoLCBvID0gW10sIHIgPSBtZS50ZXN0KGUpIHx8ICJzdHJpbmciICE9IHR5cGVvZiBlID8gbGUoZSwgdCB8fCB0aGlzLmNvbnRleHQpIDogMDsgYSA+IGk7IGkrKykKCQkJCQkJZm9yIChuID0gdGhpc1tpXTsgbiAmJiBuICE9PSB0OyBuID0gbi5wYXJlbnROb2RlKQoJCQkJCQkJaWYgKG4ubm9kZVR5cGUgPCAxMSAmJiAociA/IHIuaW5kZXgobikgPiAtMSA6IDEgPT09IG4ubm9kZVR5cGUgJiYgbGUuZmluZC5tYXRjaGVzU2VsZWN0b3IobiwgZSkpKSB7CgkJCQkJCQkJby5wdXNoKG4pOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKG8ubGVuZ3RoID4gMSA/IGxlLnVuaXF1ZShvKSA6IG8pCgkJCQl9LAoJCQkJaW5kZXg6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZSA/ICJzdHJpbmciID09IHR5cGVvZiBlID8gbGUuaW5BcnJheSh0aGlzWzBdLCBsZShlKSkgOiBsZS5pbkFycmF5KGUuanF1ZXJ5ID8gZVswXSA6IGUsIHRoaXMpIDogdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xCgkJCQl9LAoJCQkJYWRkOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKGxlLnVuaXF1ZShsZS5tZXJnZSh0aGlzLmdldCgpLCBsZShlLCB0KSkpKQoJCQkJfSwKCQkJCWFkZEJhY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5hZGQobnVsbCA9PSBlID8gdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSkKCQkJCX0KCQkJfSksIGxlLmVhY2goewoJCQkJcGFyZW50OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlLnBhcmVudE5vZGU7CgkJCQkJcmV0dXJuIHQgJiYgMTEgIT09IHQubm9kZVR5cGUgPyB0IDogbnVsbAoJCQkJfSwKCQkJCXBhcmVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJwYXJlbnROb2RlIikKCQkJCX0sCgkJCQlwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJwYXJlbnROb2RlIiwgbikKCQkJCX0sCgkJCQluZXh0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGwoZSwgIm5leHRTaWJsaW5nIikKCQkJCX0sCgkJCQlwcmV2OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGwoZSwgInByZXZpb3VzU2libGluZyIpCgkJCQl9LAoJCQkJbmV4dEFsbDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBsZS5kaXIoZSwgIm5leHRTaWJsaW5nIikKCQkJCX0sCgkJCQlwcmV2QWxsOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGxlLmRpcihlLCAicHJldmlvdXNTaWJsaW5nIikKCQkJCX0sCgkJCQluZXh0VW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZGlyKGUsICJuZXh0U2libGluZyIsIG4pCgkJCQl9LAoJCQkJcHJldlVudGlsOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIGxlLmRpcihlLCAicHJldmlvdXNTaWJsaW5nIiwgbikKCQkJCX0sCgkJCQlzaWJsaW5nczogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBsZS5zaWJsaW5nKChlLnBhcmVudE5vZGUgfHwge30pLmZpcnN0Q2hpbGQsIGUpCgkJCQl9LAoJCQkJY2hpbGRyZW46IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUuc2libGluZyhlLmZpcnN0Q2hpbGQpCgkJCQl9LAoJCQkJY29udGVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgImlmcmFtZSIpID8gZS5jb250ZW50RG9jdW1lbnQgfHwgZS5jb250ZW50V2luZG93LmRvY3VtZW50IDogbGUubWVyZ2UoW10sIGUuY2hpbGROb2RlcykKCQkJCX0KCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihuLCBpKSB7CgkJCQkJdmFyIGEgPSBsZS5tYXAodGhpcywgdCwgbik7CgkJCQkJcmV0dXJuICJVbnRpbCIgIT09IGUuc2xpY2UoLTUpICYmIChpID0gbiksIGkgJiYgInN0cmluZyIgPT0gdHlwZW9mIGkgJiYgKGEgPSBsZS5maWx0ZXIoaSwgYSkpLCB0aGlzLmxlbmd0aCA+IDEgJiYgKHllW2VdIHx8IChhID0gbGUudW5pcXVlKGEpKSwgYmUudGVzdChlKSAmJiAoYSA9IGEucmV2ZXJzZSgpKSksIHRoaXMucHVzaFN0YWNrKGEpCgkJCQl9CgkJCX0pOwoJCQl2YXIga2UgPSAvXFMrL2csCgkJCQl6ZSA9IHt9OwoJCQlsZS5DYWxsYmFja3MgPSBmdW5jdGlvbihlKSB7CgkJCQllID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyB6ZVtlXSB8fCBjKGUpIDogbGUuZXh0ZW5kKHt9LCBlKTsKCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzID0gW10sCgkJCQkJbCA9ICFlLm9uY2UgJiYgW10sCgkJCQkJZCA9IGZ1bmN0aW9uKGMpIHsKCQkJCQkJZm9yIChuID0gZS5tZW1vcnkgJiYgYywgaSA9ICEwLCBvID0gciB8fCAwLCByID0gMCwgYSA9IHMubGVuZ3RoLCB0ID0gITA7IHMgJiYgYSA+IG87IG8rKykKCQkJCQkJCWlmIChzW29dLmFwcGx5KGNbMF0sIGNbMV0pID09PSAhMSAmJiBlLnN0b3BPbkZhbHNlKSB7CgkJCQkJCQkJbiA9ICExOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCXQgPSAhMSwgcyAmJiAobCA/IGwubGVuZ3RoICYmIGQobC5zaGlmdCgpKSA6IG4gPyBzID0gW10gOiBwLmRpc2FibGUoKSkKCQkJCQl9LAoJCQkJCXAgPSB7CgkJCQkJCWFkZDogZnVuY3Rpb24oKSB7CgkJCQkJCQlpZiAocykgewoJCQkJCQkJCXZhciBpID0gcy5sZW5ndGg7CgkJCQkJCQkJISBmdW5jdGlvbiBvKHQpIHsKCQkJCQkJCQkJbGUuZWFjaCh0LCBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQkJCQl2YXIgaSA9IGxlLnR5cGUobik7CgkJCQkJCQkJCQkiZnVuY3Rpb24iID09PSBpID8gZS51bmlxdWUgJiYgcC5oYXMobikgfHwgcy5wdXNoKG4pIDogbiAmJiBuLmxlbmd0aCAmJiAic3RyaW5nIiAhPT0gaSAmJiBvKG4pCgkJCQkJCQkJCX0pCgkJCQkJCQkJfShhcmd1bWVudHMpLCB0ID8gYSA9IHMubGVuZ3RoIDogbiAmJiAociA9IGksIGQobikpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCQl9LAoJCQkJCQlyZW1vdmU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIHMgJiYgbGUuZWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCQlmb3IgKHZhciBpOwoJCQkJCQkJCQkoaSA9IGxlLmluQXJyYXkobiwgcywgaSkpID4gLTE7KSBzLnNwbGljZShpLCAxKSwgdCAmJiAoYSA+PSBpICYmIGEtLSwgbyA+PSBpICYmIG8tLSkKCQkJCQkJCX0pLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWhhczogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUgPyBsZS5pbkFycmF5KGUsIHMpID4gLTEgOiAhKCFzIHx8ICFzLmxlbmd0aCkKCQkJCQkJfSwKCQkJCQkJZW1wdHk6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIHMgPSBbXSwgYSA9IDAsIHRoaXMKCQkJCQkJfSwKCQkJCQkJZGlzYWJsZTogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gcyA9IGwgPSBuID0gdm9pZCAwLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWRpc2FibGVkOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiAhcwoJCQkJCQl9LAoJCQkJCQlsb2NrOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBsID0gdm9pZCAwLCBuIHx8IHAuZGlzYWJsZSgpLCB0aGlzCgkJCQkJCX0sCgkJCQkJCWxvY2tlZDogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gIWwKCQkJCQkJfSwKCQkJCQkJZmlyZVdpdGg6IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCXJldHVybiAhcyB8fCBpICYmICFsIHx8IChuID0gbiB8fCBbXSwgbiA9IFtlLCBuLnNsaWNlID8gbi5zbGljZSgpIDogbl0sIHQgPyBsLnB1c2gobikgOiBkKG4pKSwgdGhpcwoJCQkJCQl9LAoJCQkJCQlmaXJlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBwLmZpcmVXaXRoKHRoaXMsIGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJfSwKCQkJCQkJZmlyZWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuICEhaQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiBwCgkJCX0sIGxlLmV4dGVuZCh7CgkJCQlEZWZlcnJlZDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gWwoJCQkJCQkJWyJyZXNvbHZlIiwgImRvbmUiLCBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksICJyZXNvbHZlZCJdLAoJCQkJCQkJWyJyZWplY3QiLCAiZmFpbCIsIGxlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwgInJlamVjdGVkIl0sCgkJCQkJCQlbIm5vdGlmeSIsICJwcm9ncmVzcyIsIGxlLkNhbGxiYWNrcygibWVtb3J5IildCgkJCQkJCV0sCgkJCQkJCW4gPSAicGVuZGluZyIsCgkJCQkJCWkgPSB7CgkJCQkJCQlzdGF0ZTogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCX0sCgkJCQkJCQlhbHdheXM6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBhLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJCX0sCgkJCQkJCQl0aGVuOiBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSA9IGFyZ3VtZW50czsKCQkJCQkJCQlyZXR1cm4gbGUuRGVmZXJyZWQoZnVuY3Rpb24obikgewoJCQkJCQkJCQlsZS5lYWNoKHQsIGZ1bmN0aW9uKHQsIG8pIHsKCQkJCQkJCQkJCXZhciByID0gbGUuaXNGdW5jdGlvbihlW3RdKSAmJiBlW3RdOwoJCQkJCQkJCQkJYVtvWzFdXShmdW5jdGlvbigpIHsKCQkJCQkJCQkJCQl2YXIgZSA9IHIgJiYgci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJCQkJCQkJCQkJCWUgJiYgbGUuaXNGdW5jdGlvbihlLnByb21pc2UpID8gZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KSA6IG5bb1swXSArICJXaXRoIl0odGhpcyA9PT0gaSA/IG4ucHJvbWlzZSgpIDogdGhpcywgciA/IFtlXSA6IGFyZ3VtZW50cykKCQkJCQkJCQkJCX0pCgkJCQkJCQkJCX0pLCBlID0gbnVsbAoJCQkJCQkJCX0pLnByb21pc2UoKQoJCQkJCQkJfSwKCQkJCQkJCXByb21pc2U6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gbnVsbCAhPSBlID8gbGUuZXh0ZW5kKGUsIGkpIDogaQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlhID0ge307CgkJCQkJcmV0dXJuIGkucGlwZSA9IGkudGhlbiwgbGUuZWFjaCh0LCBmdW5jdGlvbihlLCBvKSB7CgkJCQkJCXZhciByID0gb1syXSwKCQkJCQkJCXMgPSBvWzNdOwoJCQkJCQlpW29bMV1dID0gci5hZGQsIHMgJiYgci5hZGQoZnVuY3Rpb24oKSB7CgkJCQkJCQluID0gcwoJCQkJCQl9LCB0WzEgXiBlXVsyXS5kaXNhYmxlLCB0WzJdWzJdLmxvY2spLCBhW29bMF1dID0gZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gYVtvWzBdICsgIldpdGgiXSh0aGlzID09PSBhID8gaSA6IHRoaXMsIGFyZ3VtZW50cyksIHRoaXMKCQkJCQkJfSwgYVtvWzBdICsgIldpdGgiXSA9IHIuZmlyZVdpdGgKCQkJCQl9KSwgaS5wcm9taXNlKGEpLCBlICYmIGUuY2FsbChhLCBhKSwgYQoJCQkJfSwKCQkJCXdoZW46IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IDAsCgkJCQkJCW8gPSBRLmNhbGwoYXJndW1lbnRzKSwKCQkJCQkJciA9IG8ubGVuZ3RoLAoJCQkJCQlzID0gMSAhPT0gciB8fCBlICYmIGxlLmlzRnVuY3Rpb24oZS5wcm9taXNlKSA/IHIgOiAwLAoJCQkJCQlsID0gMSA9PT0gcyA/IGUgOiBsZS5EZWZlcnJlZCgpLAoJCQkJCQljID0gZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGEpIHsKCQkJCQkJCQluW2VdID0gdGhpcywgaVtlXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gUS5jYWxsKGFyZ3VtZW50cykgOiBhLCBpID09PSB0ID8gbC5ub3RpZnlXaXRoKG4sIGkpIDogLS1zIHx8IGwucmVzb2x2ZVdpdGgobiwgaSkKCQkJCQkJCX0KCQkJCQkJfTsKCQkJCQlpZiAociA+IDEpCgkJCQkJCWZvciAodCA9IG5ldyBBcnJheShyKSwgbiA9IG5ldyBBcnJheShyKSwgaSA9IG5ldyBBcnJheShyKTsgciA+IGE7IGErKykgb1thXSAmJiBsZS5pc0Z1bmN0aW9uKG9bYV0ucHJvbWlzZSkgPyBvW2FdLnByb21pc2UoKS5kb25lKGMoYSwgaSwgbykpLmZhaWwobC5yZWplY3QpLnByb2dyZXNzKGMoYSwgbiwgdCkpIDogLS1zOwoJCQkJCXJldHVybiBzIHx8IGwucmVzb2x2ZVdpdGgoaSwgbyksIGwucHJvbWlzZSgpCgkJCQl9CgkJCX0pOwoJCQl2YXIgQmU7CgkJCWxlLmZuLnJlYWR5ID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIGxlLnJlYWR5LnByb21pc2UoKS5kb25lKGUpLCB0aGlzCgkJCX0sIGxlLmV4dGVuZCh7CgkJCQlpc1JlYWR5OiAhMSwKCQkJCXJlYWR5V2FpdDogMSwKCQkJCWhvbGRSZWFkeTogZnVuY3Rpb24oZSkgewoJCQkJCWUgPyBsZS5yZWFkeVdhaXQrKyA6IGxlLnJlYWR5KCEwKQoJCQkJfSwKCQkJCXJlYWR5OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgPT09ICEwID8gIS0tbGUucmVhZHlXYWl0IDogIWxlLmlzUmVhZHkpIHsKCQkJCQkJaWYgKCF4ZS5ib2R5KSByZXR1cm4gc2V0VGltZW91dChsZS5yZWFkeSk7CgkJCQkJCWxlLmlzUmVhZHkgPSAhMCwgZSAhPT0gITAgJiYgLS1sZS5yZWFkeVdhaXQgPiAwIHx8IChCZS5yZXNvbHZlV2l0aCh4ZSwgW2xlXSksIGxlLmZuLnRyaWdnZXJIYW5kbGVyICYmIChsZSh4ZSkudHJpZ2dlckhhbmRsZXIoInJlYWR5IiksIGxlKHhlKS5vZmYoInJlYWR5IikpKQoJCQkJCX0KCQkJCX0KCQkJfSksIGxlLnJlYWR5LnByb21pc2UgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoIUJlKQoJCQkJCWlmIChCZSA9IGxlLkRlZmVycmVkKCksICJjb21wbGV0ZSIgPT09IHhlLnJlYWR5U3RhdGUpIHNldFRpbWVvdXQobGUucmVhZHkpOwoJCQkJCWVsc2UgaWYgKHhlLmFkZEV2ZW50TGlzdGVuZXIpIHhlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBwLCAhMSksIGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHAsICExKTsKCQkJCWVsc2UgewoJCQkJCXhlLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBwKSwgYS5hdHRhY2hFdmVudCgib25sb2FkIiwgcCk7CgkJCQkJdmFyIHQgPSAhMTsKCQkJCQl0cnkgewoJCQkJCQl0ID0gbnVsbCA9PSBhLmZyYW1lRWxlbWVudCAmJiB4ZS5kb2N1bWVudEVsZW1lbnQKCQkJCQl9IGNhdGNoIChuKSB7fQoJCQkJCXQgJiYgdC5kb1Njcm9sbCAmJiAhIGZ1bmN0aW9uIGkoKSB7CgkJCQkJCWlmICghbGUuaXNSZWFkeSkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQl0LmRvU2Nyb2xsKCJsZWZ0IikKCQkJCQkJCX0gY2F0Y2ggKGUpIHsKCQkJCQkJCQlyZXR1cm4gc2V0VGltZW91dChpLCA1MCkKCQkJCQkJCX0KCQkJCQkJCWQoKSwgbGUucmVhZHkoKQoJCQkJCQl9CgkJCQkJfSgpCgkJCQl9CgkJCQlyZXR1cm4gQmUucHJvbWlzZShlKQoJCQl9OwoJCQl2YXIgamUsIENlID0gInVuZGVmaW5lZCI7CgkJCWZvciAoamUgaW4gbGUocmUpKSBicmVhazsKCQkJcmUub3duTGFzdCA9ICIwIiAhPT0gamUsIHJlLmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSAhMSwgbGUoZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGk7CgkJCQkJbiA9IHhlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sIG4gJiYgbi5zdHlsZSAmJiAodCA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBpID0geGUuY3JlYXRlRWxlbWVudCgiZGl2IiksIGkuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsIG4uYXBwZW5kQ2hpbGQoaSkuYXBwZW5kQ2hpbGQodCksIHR5cGVvZiB0LnN0eWxlLnpvb20gIT09IENlICYmICh0LnN0eWxlLmNzc1RleHQgPSAiZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsIHJlLmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSBlID0gMyA9PT0gdC5vZmZzZXRXaWR0aCwgZSAmJiAobi5zdHlsZS56b29tID0gMSkpLCBuLnJlbW92ZUNoaWxkKGkpKQoJCQkJfSksCgkJCQlmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCWlmIChudWxsID09IHJlLmRlbGV0ZUV4cGFuZG8pIHsKCQkJCQkJcmUuZGVsZXRlRXhwYW5kbyA9ICEwOwoJCQkJCQl0cnkgewoJCQkJCQkJZGVsZXRlIGUudGVzdAoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQlyZS5kZWxldGVFeHBhbmRvID0gITEKCQkJCQkJfQoJCQkJCX0KCQkJCQllID0gbnVsbAoJCQkJfSgpLCBsZS5hY2NlcHREYXRhID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUubm9EYXRhWyhlLm5vZGVOYW1lICsgIiAiKS50b0xvd2VyQ2FzZSgpXSwKCQkJCQkJbiA9ICtlLm5vZGVUeXBlIHx8IDE7CgkJCQkJcmV0dXJuIDEgIT09IG4gJiYgOSAhPT0gbiA/ICExIDogIXQgfHwgdCAhPT0gITAgJiYgZS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKSA9PT0gdAoJCQkJfTsKCQkJdmFyIFNlID0gL14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLywKCQkJCU5lID0gLyhbQS1aXSkvZzsKCQkJbGUuZXh0ZW5kKHsKCQkJCWNhY2hlOiB7fSwKCQkJCW5vRGF0YTogewoJCQkJCSJhcHBsZXQgIjogITAsCgkJCQkJImVtYmVkICI6ICEwLAoJCQkJCSJvYmplY3QgIjogImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIKCQkJCX0sCgkJCQloYXNEYXRhOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPSBlLm5vZGVUeXBlID8gbGUuY2FjaGVbZVtsZS5leHBhbmRvXV0gOiBlW2xlLmV4cGFuZG9dLCAhIWUgJiYgIXUoZSkKCQkJCX0sCgkJCQlkYXRhOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIG0oZSwgdCwgbikKCQkJCX0sCgkJCQlyZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGYoZSwgdCkKCQkJCX0sCgkJCQlfZGF0YTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXJldHVybiBtKGUsIHQsIG4sICEwKQoJCQkJfSwKCQkJCV9yZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGYoZSwgdCwgITApCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJZGF0YTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvID0gdGhpc1swXSwKCQkJCQkJciA9IG8gJiYgby5hdHRyaWJ1dGVzOwoJCQkJCWlmICh2b2lkIDAgPT09IGUpIHsKCQkJCQkJaWYgKHRoaXMubGVuZ3RoICYmIChhID0gbGUuZGF0YShvKSwgMSA9PT0gby5ub2RlVHlwZSAmJiAhbGUuX2RhdGEobywgInBhcnNlZEF0dHJzIikpKSB7CgkJCQkJCQlmb3IgKG4gPSByLmxlbmd0aDsgbi0tOykgcltuXSAmJiAoaSA9IHJbbl0ubmFtZSwgMCA9PT0gaS5pbmRleE9mKCJkYXRhLSIpICYmIChpID0gbGUuY2FtZWxDYXNlKGkuc2xpY2UoNSkpLCBoKG8sIGksIGFbaV0pKSk7CgkJCQkJCQlsZS5fZGF0YShvLCAicGFyc2VkQXR0cnMiLCAhMCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gYQoJCQkJCX0KCQkJCQlyZXR1cm4gIm9iamVjdCIgPT0gdHlwZW9mIGUgPyB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWxlLmRhdGEodGhpcywgZSkKCQkJCQl9KSA6IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5kYXRhKHRoaXMsIGUsIHQpCgkJCQkJfSkgOiBvID8gaChvLCBlLCBsZS5kYXRhKG8sIGUpKSA6IHZvaWQgMAoJCQkJfSwKCQkJCXJlbW92ZURhdGE6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5yZW1vdmVEYXRhKHRoaXMsIGUpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlxdWV1ZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpOwoJCQkJCXJldHVybiBlID8gKHQgPSAodCB8fCAiZngiKSArICJxdWV1ZSIsIGkgPSBsZS5fZGF0YShlLCB0KSwgbiAmJiAoIWkgfHwgbGUuaXNBcnJheShuKSA/IGkgPSBsZS5fZGF0YShlLCB0LCBsZS5tYWtlQXJyYXkobikpIDogaS5wdXNoKG4pKSwgaSB8fCBbXSkgOiB2b2lkIDAKCQkJCX0sCgkJCQlkZXF1ZXVlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdCA9IHQgfHwgImZ4IjsKCQkJCQl2YXIgbiA9IGxlLnF1ZXVlKGUsIHQpLAoJCQkJCQlpID0gbi5sZW5ndGgsCgkJCQkJCWEgPSBuLnNoaWZ0KCksCgkJCQkJCW8gPSBsZS5fcXVldWVIb29rcyhlLCB0KSwKCQkJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJbGUuZGVxdWV1ZShlLCB0KQoJCQkJCQl9OwoJCQkJCSJpbnByb2dyZXNzIiA9PT0gYSAmJiAoYSA9IG4uc2hpZnQoKSwgaS0tKSwgYSAmJiAoImZ4IiA9PT0gdCAmJiBuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSwgZGVsZXRlIG8uc3RvcCwgYS5jYWxsKGUsIHIsIG8pKSwgIWkgJiYgbyAmJiBvLmVtcHR5LmZpcmUoKQoJCQkJfSwKCQkJCV9xdWV1ZUhvb2tzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0ICsgInF1ZXVlSG9va3MiOwoJCQkJCXJldHVybiBsZS5fZGF0YShlLCBuKSB8fCBsZS5fZGF0YShlLCBuLCB7CgkJCQkJCWVtcHR5OiBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCkgewoJCQkJCQkJbGUuX3JlbW92ZURhdGEoZSwgdCArICJxdWV1ZSIpLCBsZS5fcmVtb3ZlRGF0YShlLCBuKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJcXVldWU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IDI7CgkJCQkJcmV0dXJuICJzdHJpbmciICE9IHR5cGVvZiBlICYmICh0ID0gZSwgZSA9ICJmeCIsIG4tLSksIGFyZ3VtZW50cy5sZW5ndGggPCBuID8gbGUucXVldWUodGhpc1swXSwgZSkgOiB2b2lkIDAgPT09IHQgPyB0aGlzIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IGxlLnF1ZXVlKHRoaXMsIGUsIHQpOwoJCQkJCQlsZS5fcXVldWVIb29rcyh0aGlzLCBlKSwgImZ4IiA9PT0gZSAmJiAiaW5wcm9ncmVzcyIgIT09IG5bMF0gJiYgbGUuZGVxdWV1ZSh0aGlzLCBlKQoJCQkJCX0pCgkJCQl9LAoJCQkJZGVxdWV1ZTogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWxlLmRlcXVldWUodGhpcywgZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWNsZWFyUXVldWU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5xdWV1ZShlIHx8ICJmeCIsIFtdKQoJCQkJfSwKCQkJCXByb21pc2U6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IDEsCgkJCQkJCWEgPSBsZS5EZWZlcnJlZCgpLAoJCQkJCQlvID0gdGhpcywKCQkJCQkJciA9IHRoaXMubGVuZ3RoLAoJCQkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJCQktLWkgfHwgYS5yZXNvbHZlV2l0aChvLCBbb10pCgkJCQkJCX07CgkJCQkJZm9yICgic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiAodCA9IGUsIGUgPSB2b2lkIDApLCBlID0gZSB8fCAiZngiOyByLS07KSBuID0gbGUuX2RhdGEob1tyXSwgZSArICJxdWV1ZUhvb2tzIiksIG4gJiYgbi5lbXB0eSAmJiAoaSsrLCBuLmVtcHR5LmFkZChzKSk7CgkJCQkJcmV0dXJuIHMoKSwgYS5wcm9taXNlKHQpCgkJCQl9CgkJCX0pOwoJCQl2YXIgVGUgPSAvWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSwKCQkJCVBlID0gWyJUb3AiLCAiUmlnaHQiLCAiQm90dG9tIiwgIkxlZnQiXSwKCQkJCUllID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlID0gdCB8fCBlLCAibm9uZSIgPT09IGxlLmNzcyhlLCAiZGlzcGxheSIpIHx8ICFsZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsIGUpCgkJCQl9LAoJCQkJQWUgPSBsZS5hY2Nlc3MgPSBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvLCByKSB7CgkJCQkJdmFyIHMgPSAwLAoJCQkJCQlsID0gZS5sZW5ndGgsCgkJCQkJCWMgPSBudWxsID09IG47CgkJCQkJaWYgKCJvYmplY3QiID09PSBsZS50eXBlKG4pKSB7CgkJCQkJCWEgPSAhMDsKCQkJCQkJZm9yIChzIGluIG4pIGxlLmFjY2VzcyhlLCB0LCBzLCBuW3NdLCAhMCwgbywgcikKCQkJCQl9IGVsc2UgaWYgKHZvaWQgMCAhPT0gaSAmJiAoYSA9ICEwLCBsZS5pc0Z1bmN0aW9uKGkpIHx8IChyID0gITApLCBjICYmIChyID8gKHQuY2FsbChlLCBpKSwgdCA9IG51bGwpIDogKGMgPSB0LCB0ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQlyZXR1cm4gYy5jYWxsKGxlKGUpLCBuKQoJCQkJCX0pKSwgdCkpCgkJCQkJCWZvciAoOyBsID4gczsgcysrKSB0KGVbc10sIG4sIHIgPyBpIDogaS5jYWxsKGVbc10sIHMsIHQoZVtzXSwgbikpKTsKCQkJCQlyZXR1cm4gYSA/IGUgOiBjID8gdC5jYWxsKGUpIDogbCA/IHQoZVswXSwgbikgOiBvCgkJCQl9LAoJCQkJcWUgPSAvXig/OmNoZWNrYm94fHJhZGlvKSQvaTsKCQkJISBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0geGUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSwKCQkJCQl0ID0geGUuY3JlYXRlRWxlbWVudCgiZGl2IiksCgkJCQkJbiA9IHhlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCQkJCWlmICh0LmlubmVySFRNTCA9ICIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLCByZS5sZWFkaW5nV2hpdGVzcGFjZSA9IDMgPT09IHQuZmlyc3RDaGlsZC5ub2RlVHlwZSwgcmUudGJvZHkgPSAhdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsIHJlLmh0bWxTZXJpYWxpemUgPSAhIXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsIHJlLmh0bWw1Q2xvbmUgPSAiPDpuYXY+PC86bmF2PiIgIT09IHhlLmNyZWF0ZUVsZW1lbnQoIm5hdiIpLmNsb25lTm9kZSghMCkub3V0ZXJIVE1MLCBlLnR5cGUgPSAiY2hlY2tib3giLCBlLmNoZWNrZWQgPSAhMCwgbi5hcHBlbmRDaGlsZChlKSwgcmUuYXBwZW5kQ2hlY2tlZCA9IGUuY2hlY2tlZCwgdC5pbm5lckhUTUwgPSAiPHRleHRhcmVhPng8L3RleHRhcmVhPiIsIHJlLm5vQ2xvbmVDaGVja2VkID0gISF0LmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSwgbi5hcHBlbmRDaGlsZCh0KSwgdC5pbm5lckhUTUwgPSAiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IiwgcmUuY2hlY2tDbG9uZSA9IHQuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLCByZS5ub0Nsb25lRXZlbnQgPSAhMCwgdC5hdHRhY2hFdmVudCAmJiAodC5hdHRhY2hFdmVudCgib25jbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXJlLm5vQ2xvbmVFdmVudCA9ICExCgkJCQl9KSwgdC5jbG9uZU5vZGUoITApLmNsaWNrKCkpLCBudWxsID09IHJlLmRlbGV0ZUV4cGFuZG8pIHsKCQkJCQlyZS5kZWxldGVFeHBhbmRvID0gITA7CgkJCQkJdHJ5IHsKCQkJCQkJZGVsZXRlIHQudGVzdAoJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJcmUuZGVsZXRlRXhwYW5kbyA9ICExCgkJCQkJfQoJCQkJfQoJCQl9KCksCgkJCWZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIG4gPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCQkJCWZvciAoZSBpbiB7CgkJCQkJc3VibWl0OiAhMCwKCQkJCQljaGFuZ2U6ICEwLAoJCQkJCWZvY3VzaW46ICEwCgkJCQl9KSB0ID0gIm9uIiArIGUsIChyZVtlICsgIkJ1YmJsZXMiXSA9IHQgaW4gYSkgfHwgKG4uc2V0QXR0cmlidXRlKHQsICJ0IiksIHJlW2UgKyAiQnViYmxlcyJdID0gbi5hdHRyaWJ1dGVzW3RdLmV4cGFuZG8gPT09ICExKTsKCQkJCW4gPSBudWxsCgkJCX0oKTsKCQkJdmFyIEVlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLAoJCQkJT2UgPSAvXmtleS8sCgkJCQlMZSA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudSl8Y2xpY2svLAoJCQkJRGUgPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sCgkJCQlNZSA9IC9eKFteLl0qKSg/OlwuKC4rKXwpJC87CgkJCWxlLmV2ZW50ID0gewoJCQkJZ2xvYmFsOiB7fSwKCQkJCWFkZDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkLCBwLCBoLCB1LCBtLCBmLCBnID0gbGUuX2RhdGEoZSk7CgkJCQkJaWYgKGcpIHsKCQkJCQkJZm9yIChuLmhhbmRsZXIgJiYgKGwgPSBuLCBuID0gbC5oYW5kbGVyLCBhID0gbC5zZWxlY3RvciksIG4uZ3VpZCB8fCAobi5ndWlkID0gbGUuZ3VpZCsrKSwgKHIgPSBnLmV2ZW50cykgfHwgKHIgPSBnLmV2ZW50cyA9IHt9KSwgKGQgPSBnLmhhbmRsZSkgfHwgKGQgPSBnLmhhbmRsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiB0eXBlb2YgbGUgPT09IENlIHx8IGUgJiYgbGUuZXZlbnQudHJpZ2dlcmVkID09PSBlLnR5cGUgPyB2b2lkIDAgOiBsZS5ldmVudC5kaXNwYXRjaC5hcHBseShkLmVsZW0sIGFyZ3VtZW50cykKCQkJCQkJfSwgZC5lbGVtID0gZSksIHQgPSAodCB8fCAiIikubWF0Y2goa2UpIHx8IFsiIl0sIHMgPSB0Lmxlbmd0aDsgcy0tOykgbyA9IE1lLmV4ZWModFtzXSkgfHwgW10sIHUgPSBmID0gb1sxXSwgbSA9IChvWzJdIHx8ICIiKS5zcGxpdCgiLiIpLnNvcnQoKSwgdSAmJiAoYyA9IGxlLmV2ZW50LnNwZWNpYWxbdV0gfHwge30sIHUgPSAoYSA/IGMuZGVsZWdhdGVUeXBlIDogYy5iaW5kVHlwZSkgfHwgdSwgYyA9IGxlLmV2ZW50LnNwZWNpYWxbdV0gfHwge30sIHAgPSBsZS5leHRlbmQoewoJCQkJCQkJdHlwZTogdSwKCQkJCQkJCW9yaWdUeXBlOiBmLAoJCQkJCQkJZGF0YTogaSwKCQkJCQkJCWhhbmRsZXI6IG4sCgkJCQkJCQlndWlkOiBuLmd1aWQsCgkJCQkJCQlzZWxlY3RvcjogYSwKCQkJCQkJCW5lZWRzQ29udGV4dDogYSAmJiBsZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGEpLAoJCQkJCQkJbmFtZXNwYWNlOiBtLmpvaW4oIi4iKQoJCQkJCQl9LCBsKSwgKGggPSByW3VdKSB8fCAoaCA9IHJbdV0gPSBbXSwgaC5kZWxlZ2F0ZUNvdW50ID0gMCwgYy5zZXR1cCAmJiBjLnNldHVwLmNhbGwoZSwgaSwgbSwgZCkgIT09ICExIHx8IChlLmFkZEV2ZW50TGlzdGVuZXIgPyBlLmFkZEV2ZW50TGlzdGVuZXIodSwgZCwgITEpIDogZS5hdHRhY2hFdmVudCAmJiBlLmF0dGFjaEV2ZW50KCJvbiIgKyB1LCBkKSkpLCBjLmFkZCAmJiAoYy5hZGQuY2FsbChlLCBwKSwgcC5oYW5kbGVyLmd1aWQgfHwgKHAuaGFuZGxlci5ndWlkID0gbi5ndWlkKSksIGEgPyBoLnNwbGljZShoLmRlbGVnYXRlQ291bnQrKywgMCwgcCkgOiBoLnB1c2gocCksIGxlLmV2ZW50Lmdsb2JhbFt1XSA9ICEwKTsKCQkJCQkJZSA9IG51bGwKCQkJCQl9CgkJCQl9LAoJCQkJcmVtb3ZlOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIG0sIGYsIGcgPSBsZS5oYXNEYXRhKGUpICYmIGxlLl9kYXRhKGUpOwoJCQkJCWlmIChnICYmIChkID0gZy5ldmVudHMpKSB7CgkJCQkJCWZvciAodCA9ICh0IHx8ICIiKS5tYXRjaChrZSkgfHwgWyIiXSwgYyA9IHQubGVuZ3RoOyBjLS07KQoJCQkJCQkJaWYgKHMgPSBNZS5leGVjKHRbY10pIHx8IFtdLCB1ID0gZiA9IHNbMV0sIG0gPSAoc1syXSB8fCAiIikuc3BsaXQoIi4iKS5zb3J0KCksIHUpIHsKCQkJCQkJCQlmb3IgKHAgPSBsZS5ldmVudC5zcGVjaWFsW3VdIHx8IHt9LCB1ID0gKGkgPyBwLmRlbGVnYXRlVHlwZSA6IHAuYmluZFR5cGUpIHx8IHUsIGggPSBkW3VdIHx8IFtdLCBzID0gc1syXSAmJiBuZXcgUmVnRXhwKCIoXnxcXC4pIiArIG0uam9pbigiXFwuKD86LipcXC58KSIpICsgIihcXC58JCkiKSwgbCA9IG8gPSBoLmxlbmd0aDsgby0tOykgciA9IGhbb10sICFhICYmIGYgIT09IHIub3JpZ1R5cGUgfHwgbiAmJiBuLmd1aWQgIT09IHIuZ3VpZCB8fCBzICYmICFzLnRlc3Qoci5uYW1lc3BhY2UpIHx8IGkgJiYgaSAhPT0gci5zZWxlY3RvciAmJiAoIioqIiAhPT0gaSB8fCAhci5zZWxlY3RvcikgfHwgKGguc3BsaWNlKG8sIDEpLCByLnNlbGVjdG9yICYmIGguZGVsZWdhdGVDb3VudC0tLCBwLnJlbW92ZSAmJiBwLnJlbW92ZS5jYWxsKGUsIHIpKTsKCQkJCQkJCQlsICYmICFoLmxlbmd0aCAmJiAocC50ZWFyZG93biAmJiBwLnRlYXJkb3duLmNhbGwoZSwgbSwgZy5oYW5kbGUpICE9PSAhMSB8fCBsZS5yZW1vdmVFdmVudChlLCB1LCBnLmhhbmRsZSksIGRlbGV0ZSBkW3VdKQoJCQkJCQkJfSBlbHNlCgkJCQkJCQkJZm9yICh1IGluIGQpIGxlLmV2ZW50LnJlbW92ZShlLCB1ICsgdFtjXSwgbiwgaSwgITApOwoJCQkJCQlsZS5pc0VtcHR5T2JqZWN0KGQpICYmIChkZWxldGUgZy5oYW5kbGUsIGxlLl9yZW1vdmVEYXRhKGUsICJldmVudHMiKSkKCQkJCQl9CgkJCQl9LAoJCQkJdHJpZ2dlcjogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkLCBwLCBoID0gW24gfHwgeGVdLAoJCQkJCQl1ID0gb2UuY2FsbChlLCAidHlwZSIpID8gZS50eXBlIDogZSwKCQkJCQkJbSA9IG9lLmNhbGwoZSwgIm5hbWVzcGFjZSIpID8gZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKSA6IFtdOwoJCQkJCWlmIChzID0gZCA9IG4gPSBuIHx8IHhlLCAzICE9PSBuLm5vZGVUeXBlICYmIDggIT09IG4ubm9kZVR5cGUgJiYgIURlLnRlc3QodSArIGxlLmV2ZW50LnRyaWdnZXJlZCkgJiYgKHUuaW5kZXhPZigiLiIpID49IDAgJiYgKG0gPSB1LnNwbGl0KCIuIiksIHUgPSBtLnNoaWZ0KCksIG0uc29ydCgpKSwgciA9IHUuaW5kZXhPZigiOiIpIDwgMCAmJiAib24iICsgdSwgZSA9IGVbbGUuZXhwYW5kb10gPyBlIDogbmV3IGxlLkV2ZW50KHUsICJvYmplY3QiID09IHR5cGVvZiBlICYmIGUpLCBlLmlzVHJpZ2dlciA9IGkgPyAyIDogMywgZS5uYW1lc3BhY2UgPSBtLmpvaW4oIi4iKSwgZS5uYW1lc3BhY2VfcmUgPSBlLm5hbWVzcGFjZSA/IG5ldyBSZWdFeHAoIihefFxcLikiICsgbS5qb2luKCJcXC4oPzouKlxcLnwpIikgKyAiKFxcLnwkKSIpIDogbnVsbCwgZS5yZXN1bHQgPSB2b2lkIDAsIGUudGFyZ2V0IHx8IChlLnRhcmdldCA9IG4pLCB0ID0gbnVsbCA9PSB0ID8gW2VdIDogbGUubWFrZUFycmF5KHQsIFtlXSksIGMgPSBsZS5ldmVudC5zcGVjaWFsW3VdIHx8IHt9LCBpIHx8ICFjLnRyaWdnZXIgfHwgYy50cmlnZ2VyLmFwcGx5KG4sIHQpICE9PSAhMSkpIHsKCQkJCQkJaWYgKCFpICYmICFjLm5vQnViYmxlICYmICFsZS5pc1dpbmRvdyhuKSkgewoJCQkJCQkJZm9yIChsID0gYy5kZWxlZ2F0ZVR5cGUgfHwgdSwgRGUudGVzdChsICsgdSkgfHwgKHMgPSBzLnBhcmVudE5vZGUpOyBzOyBzID0gcy5wYXJlbnROb2RlKSBoLnB1c2gocyksIGQgPSBzOwoJCQkJCQkJZCA9PT0gKG4ub3duZXJEb2N1bWVudCB8fCB4ZSkgJiYgaC5wdXNoKGQuZGVmYXVsdFZpZXcgfHwgZC5wYXJlbnRXaW5kb3cgfHwgYSkKCQkJCQkJfQoJCQkJCQlmb3IgKHAgPSAwOwoJCQkJCQkJKHMgPSBoW3ArK10pICYmICFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KSBlLnR5cGUgPSBwID4gMSA/IGwgOiBjLmJpbmRUeXBlIHx8IHUsIG8gPSAobGUuX2RhdGEocywgImV2ZW50cyIpIHx8IHt9KVtlLnR5cGVdICYmIGxlLl9kYXRhKHMsICJoYW5kbGUiKSwgbyAmJiBvLmFwcGx5KHMsIHQpLCBvID0gciAmJiBzW3JdLCBvICYmIG8uYXBwbHkgJiYgbGUuYWNjZXB0RGF0YShzKSAmJiAoZS5yZXN1bHQgPSBvLmFwcGx5KHMsIHQpLCBlLnJlc3VsdCA9PT0gITEgJiYgZS5wcmV2ZW50RGVmYXVsdCgpKTsKCQkJCQkJaWYgKGUudHlwZSA9IHUsICFpICYmICFlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmICghYy5fZGVmYXVsdCB8fCBjLl9kZWZhdWx0LmFwcGx5KGgucG9wKCksIHQpID09PSAhMSkgJiYgbGUuYWNjZXB0RGF0YShuKSAmJiByICYmIG5bdV0gJiYgIWxlLmlzV2luZG93KG4pKSB7CgkJCQkJCQlkID0gbltyXSwgZCAmJiAobltyXSA9IG51bGwpLCBsZS5ldmVudC50cmlnZ2VyZWQgPSB1OwoJCQkJCQkJdHJ5IHsKCQkJCQkJCQluW3VdKCkKCQkJCQkJCX0gY2F0Y2ggKGYpIHt9CgkJCQkJCQlsZS5ldmVudC50cmlnZ2VyZWQgPSB2b2lkIDAsIGQgJiYgKG5bcl0gPSBkKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlLnJlc3VsdAoJCQkJCX0KCQkJCX0sCgkJCQlkaXNwYXRjaDogZnVuY3Rpb24oZSkgewoJCQkJCWUgPSBsZS5ldmVudC5maXgoZSk7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIgPSBbXSwKCQkJCQkJcyA9IFEuY2FsbChhcmd1bWVudHMpLAoJCQkJCQlsID0gKGxlLl9kYXRhKHRoaXMsICJldmVudHMiKSB8fCB7fSlbZS50eXBlXSB8fCBbXSwKCQkJCQkJYyA9IGxlLmV2ZW50LnNwZWNpYWxbZS50eXBlXSB8fCB7fTsKCQkJCQlpZiAoc1swXSA9IGUsIGUuZGVsZWdhdGVUYXJnZXQgPSB0aGlzLCAhYy5wcmVEaXNwYXRjaCB8fCBjLnByZURpc3BhdGNoLmNhbGwodGhpcywgZSkgIT09ICExKSB7CgkJCQkJCWZvciAociA9IGxlLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcywgZSwgbCksIHQgPSAwOwoJCQkJCQkJKGEgPSByW3QrK10pICYmICFlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KQoJCQkJCQkJZm9yIChlLmN1cnJlbnRUYXJnZXQgPSBhLmVsZW0sIG8gPSAwOwoJCQkJCQkJCShpID0gYS5oYW5kbGVyc1tvKytdKSAmJiAhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOykoIWUubmFtZXNwYWNlX3JlIHx8IGUubmFtZXNwYWNlX3JlLnRlc3QoaS5uYW1lc3BhY2UpKSAmJiAoZS5oYW5kbGVPYmogPSBpLCBlLmRhdGEgPSBpLmRhdGEsIG4gPSAoKGxlLmV2ZW50LnNwZWNpYWxbaS5vcmlnVHlwZV0gfHwge30pLmhhbmRsZSB8fCBpLmhhbmRsZXIpLmFwcGx5KGEuZWxlbSwgcyksIHZvaWQgMCAhPT0gbiAmJiAoZS5yZXN1bHQgPSBuKSA9PT0gITEgJiYgKGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSkpOwoJCQkJCQlyZXR1cm4gYy5wb3N0RGlzcGF0Y2ggJiYgYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLCBlKSwgZS5yZXN1bHQKCQkJCQl9CgkJCQl9LAoJCQkJaGFuZGxlcnM6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSwgbywgciA9IFtdLAoJCQkJCQlzID0gdC5kZWxlZ2F0ZUNvdW50LAoJCQkJCQlsID0gZS50YXJnZXQ7CgkJCQkJaWYgKHMgJiYgbC5ub2RlVHlwZSAmJiAoIWUuYnV0dG9uIHx8ICJjbGljayIgIT09IGUudHlwZSkpCgkJCQkJCWZvciAoOyBsICE9IHRoaXM7IGwgPSBsLnBhcmVudE5vZGUgfHwgdGhpcykKCQkJCQkJCWlmICgxID09PSBsLm5vZGVUeXBlICYmIChsLmRpc2FibGVkICE9PSAhMCB8fCAiY2xpY2siICE9PSBlLnR5cGUpKSB7CgkJCQkJCQkJZm9yIChhID0gW10sIG8gPSAwOyBzID4gbzsgbysrKSBpID0gdFtvXSwgbiA9IGkuc2VsZWN0b3IgKyAiICIsIHZvaWQgMCA9PT0gYVtuXSAmJiAoYVtuXSA9IGkubmVlZHNDb250ZXh0ID8gbGUobiwgdGhpcykuaW5kZXgobCkgPj0gMCA6IGxlLmZpbmQobiwgdGhpcywgbnVsbCwgW2xdKS5sZW5ndGgpLCBhW25dICYmIGEucHVzaChpKTsKCQkJCQkJCQlhLmxlbmd0aCAmJiByLnB1c2goewoJCQkJCQkJCQllbGVtOiBsLAoJCQkJCQkJCQloYW5kbGVyczogYQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHMgPCB0Lmxlbmd0aCAmJiByLnB1c2goewoJCQkJCQllbGVtOiB0aGlzLAoJCQkJCQloYW5kbGVyczogdC5zbGljZShzKQoJCQkJCX0pLCByCgkJCQl9LAoJCQkJZml4OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGVbbGUuZXhwYW5kb10pIHJldHVybiBlOwoJCQkJCXZhciB0LCBuLCBpLCBhID0gZS50eXBlLAoJCQkJCQlvID0gZSwKCQkJCQkJciA9IHRoaXMuZml4SG9va3NbYV07CgkJCQkJZm9yIChyIHx8ICh0aGlzLmZpeEhvb2tzW2FdID0gciA9IExlLnRlc3QoYSkgPyB0aGlzLm1vdXNlSG9va3MgOiBPZS50ZXN0KGEpID8gdGhpcy5rZXlIb29rcyA6IHt9KSwgaSA9IHIucHJvcHMgPyB0aGlzLnByb3BzLmNvbmNhdChyLnByb3BzKSA6IHRoaXMucHJvcHMsIGUgPSBuZXcgbGUuRXZlbnQobyksIHQgPSBpLmxlbmd0aDsgdC0tOykgbiA9IGlbdF0sIGVbbl0gPSBvW25dOwoJCQkJCXJldHVybiBlLnRhcmdldCB8fCAoZS50YXJnZXQgPSBvLnNyY0VsZW1lbnQgfHwgeGUpLCAzID09PSBlLnRhcmdldC5ub2RlVHlwZSAmJiAoZS50YXJnZXQgPSBlLnRhcmdldC5wYXJlbnROb2RlKSwgZS5tZXRhS2V5ID0gISFlLm1ldGFLZXksIHIuZmlsdGVyID8gci5maWx0ZXIoZSwgbykgOiBlCgkJCQl9LAoJCQkJcHJvcHM6ICJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksCgkJCQlmaXhIb29rczoge30sCgkJCQlrZXlIb29rczogewoJCQkJCXByb3BzOiAiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSwKCQkJCQlmaWx0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIG51bGwgPT0gZS53aGljaCAmJiAoZS53aGljaCA9IG51bGwgIT0gdC5jaGFyQ29kZSA/IHQuY2hhckNvZGUgOiB0LmtleUNvZGUpLCBlCgkJCQkJfQoJCQkJfSwKCQkJCW1vdXNlSG9va3M6IHsKCQkJCQlwcm9wczogImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSwKCQkJCQlmaWx0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0LmJ1dHRvbiwKCQkJCQkJCXIgPSB0LmZyb21FbGVtZW50OwoJCQkJCQlyZXR1cm4gbnVsbCA9PSBlLnBhZ2VYICYmIG51bGwgIT0gdC5jbGllbnRYICYmIChpID0gZS50YXJnZXQub3duZXJEb2N1bWVudCB8fCB4ZSwgYSA9IGkuZG9jdW1lbnRFbGVtZW50LCBuID0gaS5ib2R5LCBlLnBhZ2VYID0gdC5jbGllbnRYICsgKGEgJiYgYS5zY3JvbGxMZWZ0IHx8IG4gJiYgbi5zY3JvbGxMZWZ0IHx8IDApIC0gKGEgJiYgYS5jbGllbnRMZWZ0IHx8IG4gJiYgbi5jbGllbnRMZWZ0IHx8IDApLCBlLnBhZ2VZID0gdC5jbGllbnRZICsgKGEgJiYgYS5zY3JvbGxUb3AgfHwgbiAmJiBuLnNjcm9sbFRvcCB8fCAwKSAtIChhICYmIGEuY2xpZW50VG9wIHx8IG4gJiYgbi5jbGllbnRUb3AgfHwgMCkpLCAhZS5yZWxhdGVkVGFyZ2V0ICYmIHIgJiYgKGUucmVsYXRlZFRhcmdldCA9IHIgPT09IGUudGFyZ2V0ID8gdC50b0VsZW1lbnQgOiByKSwgZS53aGljaCB8fCB2b2lkIDAgPT09IG8gfHwgKGUud2hpY2ggPSAxICYgbyA/IDEgOiAyICYgbyA/IDMgOiA0ICYgbyA/IDIgOiAwKSwgZQoJCQkJCX0KCQkJCX0sCgkJCQlzcGVjaWFsOiB7CgkJCQkJbG9hZDogewoJCQkJCQlub0J1YmJsZTogITAKCQkJCQl9LAoJCQkJCWZvY3VzOiB7CgkJCQkJCXRyaWdnZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKHRoaXMgIT09IHgoKSAmJiB0aGlzLmZvY3VzKSB0cnkgewoJCQkJCQkJCXJldHVybiB0aGlzLmZvY3VzKCksICExCgkJCQkJCQl9IGNhdGNoIChlKSB7fQoJCQkJCQl9LAoJCQkJCQlkZWxlZ2F0ZVR5cGU6ICJmb2N1c2luIgoJCQkJCX0sCgkJCQkJYmx1cjogewoJCQkJCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiB0aGlzID09PSB4KCkgJiYgdGhpcy5ibHVyID8gKHRoaXMuYmx1cigpLCAhMSkgOiB2b2lkIDAKCQkJCQkJfSwKCQkJCQkJZGVsZWdhdGVUeXBlOiAiZm9jdXNvdXQiCgkJCQkJfSwKCQkJCQljbGljazogewoJCQkJCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBsZS5ub2RlTmFtZSh0aGlzLCAiaW5wdXQiKSAmJiAiY2hlY2tib3giID09PSB0aGlzLnR5cGUgJiYgdGhpcy5jbGljayA/ICh0aGlzLmNsaWNrKCksICExKSA6IHZvaWQgMAoJCQkJCQl9LAoJCQkJCQlfZGVmYXVsdDogZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGxlLm5vZGVOYW1lKGUudGFyZ2V0LCAiYSIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJlZm9yZXVubG9hZDogewoJCQkJCQlwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZvaWQgMCAhPT0gZS5yZXN1bHQgJiYgZS5vcmlnaW5hbEV2ZW50ICYmIChlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBlLnJlc3VsdCkKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlzaW11bGF0ZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhID0gbGUuZXh0ZW5kKG5ldyBsZS5FdmVudCwgbiwgewoJCQkJCQl0eXBlOiBlLAoJCQkJCQlpc1NpbXVsYXRlZDogITAsCgkJCQkJCW9yaWdpbmFsRXZlbnQ6IHt9CgkJCQkJfSk7CgkJCQkJaSA/IGxlLmV2ZW50LnRyaWdnZXIoYSwgbnVsbCwgdCkgOiBsZS5ldmVudC5kaXNwYXRjaC5jYWxsKHQsIGEpLCBhLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIG4ucHJldmVudERlZmF1bHQoKQoJCQkJfQoJCQl9LCBsZS5yZW1vdmVFdmVudCA9IHhlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQllLnJlbW92ZUV2ZW50TGlzdGVuZXIgJiYgZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsIG4sICExKQoJCQl9IDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGkgPSAib24iICsgdDsKCQkJCWUuZGV0YWNoRXZlbnQgJiYgKHR5cGVvZiBlW2ldID09PSBDZSAmJiAoZVtpXSA9IG51bGwpLCBlLmRldGFjaEV2ZW50KGksIG4pKQoJCQl9LCBsZS5FdmVudCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXJldHVybiB0aGlzIGluc3RhbmNlb2YgbGUuRXZlbnQgPyAoZSAmJiBlLnR5cGUgPyAodGhpcy5vcmlnaW5hbEV2ZW50ID0gZSwgdGhpcy50eXBlID0gZS50eXBlLCB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGUuZGVmYXVsdFByZXZlbnRlZCB8fCB2b2lkIDAgPT09IGUuZGVmYXVsdFByZXZlbnRlZCAmJiBlLnJldHVyblZhbHVlID09PSAhMSA/IGcgOiBfKSA6IHRoaXMudHlwZSA9IGUsIHQgJiYgbGUuZXh0ZW5kKHRoaXMsIHQpLCB0aGlzLnRpbWVTdGFtcCA9IGUgJiYgZS50aW1lU3RhbXAgfHwgbGUubm93KCksIHZvaWQodGhpc1tsZS5leHBhbmRvXSA9ICEwKSkgOiBuZXcgbGUuRXZlbnQoZSwgdCkKCQkJfSwgbGUuRXZlbnQucHJvdG90eXBlID0gewoJCQkJaXNEZWZhdWx0UHJldmVudGVkOiBfLAoJCQkJaXNQcm9wYWdhdGlvblN0b3BwZWQ6IF8sCgkJCQlpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogXywKCQkJCXByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCQkJCQl0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGcsIGUgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEpCgkJCQl9LAoJCQkJc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDsKCQkJCQl0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZywgZSAmJiAoZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5jYW5jZWxCdWJibGUgPSAhMCkKCQkJCX0sCgkJCQlzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50OwoJCQkJCXRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBnLCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCkKCQkJCX0KCQkJfSwgbGUuZWFjaCh7CgkJCQltb3VzZWVudGVyOiAibW91c2VvdmVyIiwKCQkJCW1vdXNlbGVhdmU6ICJtb3VzZW91dCIsCgkJCQlwb2ludGVyZW50ZXI6ICJwb2ludGVyb3ZlciIsCgkJCQlwb2ludGVybGVhdmU6ICJwb2ludGVyb3V0IgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5ldmVudC5zcGVjaWFsW2VdID0gewoJCQkJCWRlbGVnYXRlVHlwZTogdCwKCQkJCQliaW5kVHlwZTogdCwKCQkJCQloYW5kbGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQkJYSA9IGUucmVsYXRlZFRhcmdldCwKCQkJCQkJCW8gPSBlLmhhbmRsZU9iajsKCQkJCQkJcmV0dXJuICghYSB8fCBhICE9PSBpICYmICFsZS5jb250YWlucyhpLCBhKSkgJiYgKGUudHlwZSA9IG8ub3JpZ1R5cGUsIG4gPSBvLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgZS50eXBlID0gdCksIG4KCQkJCQl9CgkJCQl9CgkJCX0pLCByZS5zdWJtaXRCdWJibGVzIHx8IChsZS5ldmVudC5zcGVjaWFsLnN1Ym1pdCA9IHsKCQkJCXNldHVwOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUodGhpcywgImZvcm0iKSA/ICExIDogdm9pZCBsZS5ldmVudC5hZGQodGhpcywgImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBlLnRhcmdldCwKCQkJCQkJCW4gPSBsZS5ub2RlTmFtZSh0LCAiaW5wdXQiKSB8fCBsZS5ub2RlTmFtZSh0LCAiYnV0dG9uIikgPyB0LmZvcm0gOiB2b2lkIDA7CgkJCQkJCW4gJiYgIWxlLl9kYXRhKG4sICJzdWJtaXRCdWJibGVzIikgJiYgKGxlLmV2ZW50LmFkZChuLCAic3VibWl0Ll9zdWJtaXQiLCBmdW5jdGlvbihlKSB7CgkJCQkJCQllLl9zdWJtaXRfYnViYmxlID0gITAKCQkJCQkJfSksIGxlLl9kYXRhKG4sICJzdWJtaXRCdWJibGVzIiwgITApKQoJCQkJCX0pCgkJCQl9LAoJCQkJcG9zdERpc3BhdGNoOiBmdW5jdGlvbihlKSB7CgkJCQkJZS5fc3VibWl0X2J1YmJsZSAmJiAoZGVsZXRlIGUuX3N1Ym1pdF9idWJibGUsIHRoaXMucGFyZW50Tm9kZSAmJiAhZS5pc1RyaWdnZXIgJiYgbGUuZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsIHRoaXMucGFyZW50Tm9kZSwgZSwgITApKQoJCQkJfSwKCQkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUodGhpcywgImZvcm0iKSA/ICExIDogdm9pZCBsZS5ldmVudC5yZW1vdmUodGhpcywgIi5fc3VibWl0IikKCQkJCX0KCQkJfSksIHJlLmNoYW5nZUJ1YmJsZXMgfHwgKGxlLmV2ZW50LnNwZWNpYWwuY2hhbmdlID0gewoJCQkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBFZS50ZXN0KHRoaXMubm9kZU5hbWUpID8gKCgiY2hlY2tib3giID09PSB0aGlzLnR5cGUgfHwgInJhZGlvIiA9PT0gdGhpcy50eXBlKSAmJiAobGUuZXZlbnQuYWRkKHRoaXMsICJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkiY2hlY2tlZCIgPT09IGUub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUgJiYgKHRoaXMuX2p1c3RfY2hhbmdlZCA9ICEwKQoJCQkJCX0pLCBsZS5ldmVudC5hZGQodGhpcywgImNsaWNrLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuX2p1c3RfY2hhbmdlZCAmJiAhZS5pc1RyaWdnZXIgJiYgKHRoaXMuX2p1c3RfY2hhbmdlZCA9ICExKSwgbGUuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsIHRoaXMsIGUsICEwKQoJCQkJCX0pKSwgITEpIDogdm9pZCBsZS5ldmVudC5hZGQodGhpcywgImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gZS50YXJnZXQ7CgkJCQkJCUVlLnRlc3QodC5ub2RlTmFtZSkgJiYgIWxlLl9kYXRhKHQsICJjaGFuZ2VCdWJibGVzIikgJiYgKGxlLmV2ZW50LmFkZCh0LCAiY2hhbmdlLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkhdGhpcy5wYXJlbnROb2RlIHx8IGUuaXNTaW11bGF0ZWQgfHwgZS5pc1RyaWdnZXIgfHwgbGUuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsIHRoaXMucGFyZW50Tm9kZSwgZSwgITApCgkJCQkJCX0pLCBsZS5fZGF0YSh0LCAiY2hhbmdlQnViYmxlcyIsICEwKSkKCQkJCQl9KQoJCQkJfSwKCQkJCWhhbmRsZTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZS50YXJnZXQ7CgkJCQkJcmV0dXJuIHRoaXMgIT09IHQgfHwgZS5pc1NpbXVsYXRlZCB8fCBlLmlzVHJpZ2dlciB8fCAicmFkaW8iICE9PSB0LnR5cGUgJiYgImNoZWNrYm94IiAhPT0gdC50eXBlID8gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdm9pZCAwCgkJCQl9LAoJCQkJdGVhcmRvd246IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsZS5ldmVudC5yZW1vdmUodGhpcywgIi5fY2hhbmdlIiksICFFZS50ZXN0KHRoaXMubm9kZU5hbWUpCgkJCQl9CgkJCX0pLCByZS5mb2N1c2luQnViYmxlcyB8fCBsZS5lYWNoKHsKCQkJCWZvY3VzOiAiZm9jdXNpbiIsCgkJCQlibHVyOiAiZm9jdXNvdXQiCgkJCX0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gZnVuY3Rpb24oZSkgewoJCQkJCWxlLmV2ZW50LnNpbXVsYXRlKHQsIGUudGFyZ2V0LCBsZS5ldmVudC5maXgoZSksICEwKQoJCQkJfTsKCQkJCWxlLmV2ZW50LnNwZWNpYWxbdF0gPSB7CgkJCQkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgaSA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLAoJCQkJCQkJYSA9IGxlLl9kYXRhKGksIHQpOwoJCQkJCQlhIHx8IGkuYWRkRXZlbnRMaXN0ZW5lcihlLCBuLCAhMCksIGxlLl9kYXRhKGksIHQsIChhIHx8IDApICsgMSkKCQkJCQl9LAoJCQkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGkgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcywKCQkJCQkJCWEgPSBsZS5fZGF0YShpLCB0KSAtIDE7CgkJCQkJCWEgPyBsZS5fZGF0YShpLCB0LCBhKSA6IChpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbiwgITApLCBsZS5fcmVtb3ZlRGF0YShpLCB0KSkKCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJb246IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQl2YXIgbywgcjsKCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQkJInN0cmluZyIgIT0gdHlwZW9mIHQgJiYgKG4gPSBuIHx8IHQsCgkJCQkJCQl0ID0gdm9pZCAwKTsKCQkJCQkJZm9yIChvIGluIGUpIHRoaXMub24obywgdCwgbiwgZVtvXSwgYSk7CgkJCQkJCXJldHVybiB0aGlzCgkJCQkJfQoJCQkJCWlmIChudWxsID09IG4gJiYgbnVsbCA9PSBpID8gKGkgPSB0LCBuID0gdCA9IHZvaWQgMCkgOiBudWxsID09IGkgJiYgKCJzdHJpbmciID09IHR5cGVvZiB0ID8gKGkgPSBuLCBuID0gdm9pZCAwKSA6IChpID0gbiwgbiA9IHQsIHQgPSB2b2lkIDApKSwgaSA9PT0gITEpIGkgPSBfOwoJCQkJCWVsc2UgaWYgKCFpKSByZXR1cm4gdGhpczsKCQkJCQlyZXR1cm4gMSA9PT0gYSAmJiAociA9IGksIGkgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBsZSgpLm9mZihlKSwgci5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCQkJfSwgaS5ndWlkID0gci5ndWlkIHx8IChyLmd1aWQgPSBsZS5ndWlkKyspKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5ldmVudC5hZGQodGhpcywgZSwgaSwgbiwgdCkKCQkJCQl9KQoJCQkJfSwKCQkJCW9uZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXJldHVybiB0aGlzLm9uKGUsIHQsIG4sIGksIDEpCgkJCQl9LAoJCQkJb2ZmOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGE7CgkJCQkJaWYgKGUgJiYgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLmhhbmRsZU9iaikgcmV0dXJuIGkgPSBlLmhhbmRsZU9iaiwgbGUoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGkubmFtZXNwYWNlID8gaS5vcmlnVHlwZSArICIuIiArIGkubmFtZXNwYWNlIDogaS5vcmlnVHlwZSwgaS5zZWxlY3RvciwgaS5oYW5kbGVyKSwgdGhpczsKCQkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQkJZm9yIChhIGluIGUpIHRoaXMub2ZmKGEsIHQsIGVbYV0pOwoJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCX0KCQkJCQlyZXR1cm4gKHQgPT09ICExIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQpICYmIChuID0gdCwgdCA9IHZvaWQgMCksIG4gPT09ICExICYmIChuID0gXyksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUuZXZlbnQucmVtb3ZlKHRoaXMsIGUsIG4sIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQl0cmlnZ2VyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUuZXZlbnQudHJpZ2dlcihlLCB0LCB0aGlzKQoJCQkJCX0pCgkJCQl9LAoJCQkJdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHRoaXNbMF07CgkJCQkJcmV0dXJuIG4gPyBsZS5ldmVudC50cmlnZ2VyKGUsIHQsIG4sICEwKSA6IHZvaWQgMAoJCQkJfQoJCQl9KTsKCQkJdmFyIFJlID0gImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLAoJCQkJRmUgPSAvIGpRdWVyeVxkKz0iKD86bnVsbHxcZCspIi9nLAoJCQkJJGUgPSBuZXcgUmVnRXhwKCI8KD86IiArIFJlICsgIilbXFxzLz5dIiwgImkiKSwKCQkJCVdlID0gL15ccysvLAoJCQkJSGUgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLAoJCQkJVWUgPSAvPChbXHc6XSspLywKCQkJCVllID0gLzx0Ym9keS9pLAoJCQkJR2UgPSAvPHwmIz9cdys7LywKCQkJCVhlID0gLzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSwKCQkJCUplID0gL2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksCgkJCQlaZSA9IC9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSwKCQkJCVZlID0gL150cnVlXC8oLiopLywKCQkJCUtlID0gL15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLAoJCQkJUWUgPSB7CgkJCQkJb3B0aW9uOiBbMSwgIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCAiPC9zZWxlY3Q+Il0sCgkJCQkJbGVnZW5kOiBbMSwgIjxmaWVsZHNldD4iLCAiPC9maWVsZHNldD4iXSwKCQkJCQlhcmVhOiBbMSwgIjxtYXA+IiwgIjwvbWFwPiJdLAoJCQkJCXBhcmFtOiBbMSwgIjxvYmplY3Q+IiwgIjwvb2JqZWN0PiJdLAoJCQkJCXRoZWFkOiBbMSwgIjx0YWJsZT4iLCAiPC90YWJsZT4iXSwKCQkJCQl0cjogWzIsICI8dGFibGU+PHRib2R5PiIsICI8L3Rib2R5PjwvdGFibGU+Il0sCgkJCQkJY29sOiBbMiwgIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwgIjwvY29sZ3JvdXA+PC90YWJsZT4iXSwKCQkJCQl0ZDogWzMsICI8dGFibGU+PHRib2R5Pjx0cj4iLCAiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sCgkJCQkJX2RlZmF1bHQ6IHJlLmh0bWxTZXJpYWxpemUgPyBbMCwgIiIsICIiXSA6IFsxLCAiWDxkaXY+IiwgIjwvZGl2PiJdCgkJCQl9LAoJCQkJZXQgPSB3KHhlKSwKCQkJCXR0ID0gZXQuYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgiZGl2IikpOwoJCQlRZS5vcHRncm91cCA9IFFlLm9wdGlvbiwgUWUudGJvZHkgPSBRZS50Zm9vdCA9IFFlLmNvbGdyb3VwID0gUWUuY2FwdGlvbiA9IFFlLnRoZWFkLCBRZS50aCA9IFFlLnRkLCBsZS5leHRlbmQoewoJCQkJY2xvbmU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCA9IGxlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCwgZSk7CgkJCQkJaWYgKHJlLmh0bWw1Q2xvbmUgfHwgbGUuaXNYTUxEb2MoZSkgfHwgISRlLnRlc3QoIjwiICsgZS5ub2RlTmFtZSArICI+IikgPyBvID0gZS5jbG9uZU5vZGUoITApIDogKHR0LmlubmVySFRNTCA9IGUub3V0ZXJIVE1MLCB0dC5yZW1vdmVDaGlsZChvID0gdHQuZmlyc3RDaGlsZCkpLCAhKHJlLm5vQ2xvbmVFdmVudCAmJiByZS5ub0Nsb25lQ2hlY2tlZCB8fCAxICE9PSBlLm5vZGVUeXBlICYmIDExICE9PSBlLm5vZGVUeXBlIHx8IGxlLmlzWE1MRG9jKGUpKSkKCQkJCQkJZm9yIChpID0gdihvKSwgcyA9IHYoZSksIHIgPSAwOyBudWxsICE9IChhID0gc1tyXSk7ICsrcikgaVtyXSAmJiBDKGEsIGlbcl0pOwoJCQkJCWlmICh0KQoJCQkJCQlpZiAobikKCQkJCQkJCWZvciAocyA9IHMgfHwgdihlKSwgaSA9IGkgfHwgdihvKSwgciA9IDA7IG51bGwgIT0gKGEgPSBzW3JdKTsgcisrKSBqKGEsIGlbcl0pOwoJCQkJCQllbHNlIGooZSwgbyk7CgkJCQkJcmV0dXJuIGkgPSB2KG8sICJzY3JpcHQiKSwgaS5sZW5ndGggPiAwICYmIEIoaSwgIWwgJiYgdihlLCAic2NyaXB0IikpLCBpID0gcyA9IGEgPSBudWxsLCBvCgkJCQl9LAoJCQkJYnVpbGRGcmFnbWVudDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCWZvciAodmFyIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSBlLmxlbmd0aCwgaCA9IHcodCksIHUgPSBbXSwgbSA9IDA7IHAgPiBtOyBtKyspCgkJCQkJCWlmIChvID0gZVttXSwgbyB8fCAwID09PSBvKQoJCQkJCQkJaWYgKCJvYmplY3QiID09PSBsZS50eXBlKG8pKSBsZS5tZXJnZSh1LCBvLm5vZGVUeXBlID8gW29dIDogbyk7CgkJCQkJCQllbHNlIGlmIChHZS50ZXN0KG8pKSB7CgkJCQkJCWZvciAocyA9IHMgfHwgaC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwgbCA9IChVZS5leGVjKG8pIHx8IFsiIiwgIiJdKVsxXS50b0xvd2VyQ2FzZSgpLCBkID0gUWVbbF0gfHwgUWUuX2RlZmF1bHQsIHMuaW5uZXJIVE1MID0gZFsxXSArIG8ucmVwbGFjZShIZSwgIjwkMT48LyQyPiIpICsgZFsyXSwgYSA9IGRbMF07IGEtLTspIHMgPSBzLmxhc3RDaGlsZDsKCQkJCQkJaWYgKCFyZS5sZWFkaW5nV2hpdGVzcGFjZSAmJiBXZS50ZXN0KG8pICYmIHUucHVzaCh0LmNyZWF0ZVRleHROb2RlKFdlLmV4ZWMobylbMF0pKSwgIXJlLnRib2R5KQoJCQkJCQkJZm9yIChvID0gInRhYmxlIiAhPT0gbCB8fCBZZS50ZXN0KG8pID8gIjx0YWJsZT4iICE9PSBkWzFdIHx8IFllLnRlc3QobykgPyAwIDogcyA6IHMuZmlyc3RDaGlsZCwgYSA9IG8gJiYgby5jaGlsZE5vZGVzLmxlbmd0aDsgYS0tOykgbGUubm9kZU5hbWUoYyA9IG8uY2hpbGROb2Rlc1thXSwgInRib2R5IikgJiYgIWMuY2hpbGROb2Rlcy5sZW5ndGggJiYgby5yZW1vdmVDaGlsZChjKTsKCQkJCQkJZm9yIChsZS5tZXJnZSh1LCBzLmNoaWxkTm9kZXMpLCBzLnRleHRDb250ZW50ID0gIiI7IHMuZmlyc3RDaGlsZDspIHMucmVtb3ZlQ2hpbGQocy5maXJzdENoaWxkKTsKCQkJCQkJcyA9IGgubGFzdENoaWxkCgkJCQkJfSBlbHNlIHUucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTsKCQkJCQlmb3IgKHMgJiYgaC5yZW1vdmVDaGlsZChzKSwgcmUuYXBwZW5kQ2hlY2tlZCB8fCBsZS5ncmVwKHYodSwgImlucHV0IiksIGIpLCBtID0gMDsgbyA9IHVbbSsrXTspCgkJCQkJCWlmICgoIWkgfHwgLTEgPT09IGxlLmluQXJyYXkobywgaSkpICYmIChyID0gbGUuY29udGFpbnMoby5vd25lckRvY3VtZW50LCBvKSwgcyA9IHYoaC5hcHBlbmRDaGlsZChvKSwgInNjcmlwdCIpLCByICYmIEIocyksIG4pKQoJCQkJCQkJZm9yIChhID0gMDsgbyA9IHNbYSsrXTspIFplLnRlc3Qoby50eXBlIHx8ICIiKSAmJiBuLnB1c2gobyk7CgkJCQkJcmV0dXJuIHMgPSBudWxsLCBoCgkJCQl9LAoJCQkJY2xlYW5EYXRhOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiwgaSwgYSwgbywgciA9IDAsIHMgPSBsZS5leHBhbmRvLCBsID0gbGUuY2FjaGUsIGMgPSByZS5kZWxldGVFeHBhbmRvLCBkID0gbGUuZXZlbnQuc3BlY2lhbDsgbnVsbCAhPSAobiA9IGVbcl0pOyByKyspCgkJCQkJCWlmICgodCB8fCBsZS5hY2NlcHREYXRhKG4pKSAmJiAoYSA9IG5bc10sIG8gPSBhICYmIGxbYV0pKSB7CgkJCQkJCQlpZiAoby5ldmVudHMpCgkJCQkJCQkJZm9yIChpIGluIG8uZXZlbnRzKSBkW2ldID8gbGUuZXZlbnQucmVtb3ZlKG4sIGkpIDogbGUucmVtb3ZlRXZlbnQobiwgaSwgby5oYW5kbGUpOwoJCQkJCQkJbFthXSAmJiAoZGVsZXRlIGxbYV0sIGMgPyBkZWxldGUgbltzXSA6IHR5cGVvZiBuLnJlbW92ZUF0dHJpYnV0ZSAhPT0gQ2UgPyBuLnJlbW92ZUF0dHJpYnV0ZShzKSA6IG5bc10gPSBudWxsLCBLLnB1c2goYSkpCgkJCQkJCX0KCQkJCX0KCQkJfSksIGxlLmZuLmV4dGVuZCh7CgkJCQl0ZXh0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIHZvaWQgMCA9PT0gZSA/IGxlLnRleHQodGhpcykgOiB0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdICYmIHRoaXNbMF0ub3duZXJEb2N1bWVudCB8fCB4ZSkuY3JlYXRlVGV4dE5vZGUoZSkpCgkJCQkJfSwgbnVsbCwgZSwgYXJndW1lbnRzLmxlbmd0aCkKCQkJCX0sCgkJCQlhcHBlbmQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCAxMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCA5ID09PSB0aGlzLm5vZGVUeXBlKSB7CgkJCQkJCQl2YXIgdCA9IHkodGhpcywgZSk7CgkJCQkJCQl0LmFwcGVuZENoaWxkKGUpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCXByZXBlbmQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCAxMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCA5ID09PSB0aGlzLm5vZGVUeXBlKSB7CgkJCQkJCQl2YXIgdCA9IHkodGhpcywgZSk7CgkJCQkJCQl0Lmluc2VydEJlZm9yZShlLCB0LmZpcnN0Q2hpbGQpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWJlZm9yZTogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMpCgkJCQkJfSkKCQkJCX0sCgkJCQlhZnRlcjogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMubmV4dFNpYmxpbmcpCgkJCQkJfSkKCQkJCX0sCgkJCQlyZW1vdmU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gZSA/IGxlLmZpbHRlcihlLCB0aGlzKSA6IHRoaXMsIGEgPSAwOyBudWxsICE9IChuID0gaVthXSk7IGErKykgdCB8fCAxICE9PSBuLm5vZGVUeXBlIHx8IGxlLmNsZWFuRGF0YSh2KG4pKSwgbi5wYXJlbnROb2RlICYmICh0ICYmIGxlLmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCwgbikgJiYgQih2KG4sICJzY3JpcHQiKSksIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7CgkJCQkJcmV0dXJuIHRoaXMKCQkJCX0sCgkJCQllbXB0eTogZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSwgdCA9IDA7IG51bGwgIT0gKGUgPSB0aGlzW3RdKTsgdCsrKSB7CgkJCQkJCWZvciAoMSA9PT0gZS5ub2RlVHlwZSAmJiBsZS5jbGVhbkRhdGEodihlLCAhMSkpOyBlLmZpcnN0Q2hpbGQ7KSBlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7CgkJCQkJCWUub3B0aW9ucyAmJiBsZS5ub2RlTmFtZShlLCAic2VsZWN0IikgJiYgKGUub3B0aW9ucy5sZW5ndGggPSAwKQoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcwoJCQkJfSwKCQkJCWNsb25lOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGUgPSBudWxsID09IGUgPyAhMSA6IGUsIHQgPSBudWxsID09IHQgPyBlIDogdCwgdGhpcy5tYXAoZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBsZS5jbG9uZSh0aGlzLCBlLCB0KQoJCQkJCX0pCgkJCQl9LAoJCQkJaHRtbDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBBZSh0aGlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpc1swXSB8fCB7fSwKCQkJCQkJCW4gPSAwLAoJCQkJCQkJaSA9IHRoaXMubGVuZ3RoOwoJCQkJCQlpZiAodm9pZCAwID09PSBlKSByZXR1cm4gMSA9PT0gdC5ub2RlVHlwZSA/IHQuaW5uZXJIVE1MLnJlcGxhY2UoRmUsICIiKSA6IHZvaWQgMDsKCQkJCQkJaWYgKCJzdHJpbmciID09IHR5cGVvZiBlICYmICFYZS50ZXN0KGUpICYmIChyZS5odG1sU2VyaWFsaXplIHx8ICEkZS50ZXN0KGUpKSAmJiAocmUubGVhZGluZ1doaXRlc3BhY2UgfHwgIVdlLnRlc3QoZSkpICYmICFRZVsoVWUuZXhlYyhlKSB8fCBbIiIsICIiXSlbMV0udG9Mb3dlckNhc2UoKV0pIHsKCQkJCQkJCWUgPSBlLnJlcGxhY2UoSGUsICI8JDE+PC8kMj4iKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJZm9yICg7IGkgPiBuOyBuKyspIHQgPSB0aGlzW25dIHx8IHt9LCAxID09PSB0Lm5vZGVUeXBlICYmIChsZS5jbGVhbkRhdGEodih0LCAhMSkpLCB0LmlubmVySFRNTCA9IGUpOwoJCQkJCQkJCXQgPSAwCgkJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCQl9CgkJCQkJCXQgJiYgdGhpcy5lbXB0eSgpLmFwcGVuZChlKQoJCQkJCX0sIG51bGwsIGUsIGFyZ3VtZW50cy5sZW5ndGgpCgkJCQl9LAoJCQkJcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gYXJndW1lbnRzWzBdOwoJCQkJCXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24odCkgewoJCQkJCQllID0gdGhpcy5wYXJlbnROb2RlLCBsZS5jbGVhbkRhdGEodih0aGlzKSksIGUgJiYgZS5yZXBsYWNlQ2hpbGQodCwgdGhpcykKCQkJCQl9KSwgZSAmJiAoZS5sZW5ndGggfHwgZS5ub2RlVHlwZSkgPyB0aGlzIDogdGhpcy5yZW1vdmUoKQoJCQkJfSwKCQkJCWRldGFjaDogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLnJlbW92ZShlLCAhMCkKCQkJCX0sCgkJCQlkb21NYW5pcDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWUgPSBlZS5hcHBseShbXSwgZSk7CgkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMsIGwgPSAwLAoJCQkJCQljID0gdGhpcy5sZW5ndGgsCgkJCQkJCWQgPSB0aGlzLAoJCQkJCQlwID0gYyAtIDEsCgkJCQkJCWggPSBlWzBdLAoJCQkJCQl1ID0gbGUuaXNGdW5jdGlvbihoKTsKCQkJCQlpZiAodSB8fCBjID4gMSAmJiAic3RyaW5nIiA9PSB0eXBlb2YgaCAmJiAhcmUuY2hlY2tDbG9uZSAmJiBKZS50ZXN0KGgpKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJdmFyIGkgPSBkLmVxKG4pOwoJCQkJCQl1ICYmIChlWzBdID0gaC5jYWxsKHRoaXMsIG4sIGkuaHRtbCgpKSksIGkuZG9tTWFuaXAoZSwgdCkKCQkJCQl9KTsKCQkJCQlpZiAoYyAmJiAocyA9IGxlLmJ1aWxkRnJhZ21lbnQoZSwgdGhpc1swXS5vd25lckRvY3VtZW50LCAhMSwgdGhpcyksIG4gPSBzLmZpcnN0Q2hpbGQsIDEgPT09IHMuY2hpbGROb2Rlcy5sZW5ndGggJiYgKHMgPSBuKSwgbikpIHsKCQkJCQkJZm9yIChvID0gbGUubWFwKHYocywgInNjcmlwdCIpLCBrKSwgYSA9IG8ubGVuZ3RoOyBjID4gbDsgbCsrKSBpID0gcywgbCAhPT0gcCAmJiAoaSA9IGxlLmNsb25lKGksICEwLCAhMCksIGEgJiYgbGUubWVyZ2UobywgdihpLCAic2NyaXB0IikpKSwgdC5jYWxsKHRoaXNbbF0sIGksIGwpOwoJCQkJCQlpZiAoYSkKCQkJCQkJCWZvciAociA9IG9bby5sZW5ndGggLSAxXS5vd25lckRvY3VtZW50LCBsZS5tYXAobywgeiksIGwgPSAwOyBhID4gbDsgbCsrKSBpID0gb1tsXSwgWmUudGVzdChpLnR5cGUgfHwgIiIpICYmICFsZS5fZGF0YShpLCAiZ2xvYmFsRXZhbCIpICYmIGxlLmNvbnRhaW5zKHIsIGkpICYmIChpLnNyYyA/IGxlLl9ldmFsVXJsICYmIGxlLl9ldmFsVXJsKGkuc3JjKSA6IGxlLmdsb2JhbEV2YWwoKGkudGV4dCB8fCBpLnRleHRDb250ZW50IHx8IGkuaW5uZXJIVE1MIHx8ICIiKS5yZXBsYWNlKEtlLCAiIikpKTsKCQkJCQkJcyA9IG4gPSBudWxsCgkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9CgkJCX0pLCBsZS5lYWNoKHsKCQkJCWFwcGVuZFRvOiAiYXBwZW5kIiwKCQkJCXByZXBlbmRUbzogInByZXBlbmQiLAoJCQkJaW5zZXJ0QmVmb3JlOiAiYmVmb3JlIiwKCQkJCWluc2VydEFmdGVyOiAiYWZ0ZXIiLAoJCQkJcmVwbGFjZUFsbDogInJlcGxhY2VXaXRoIgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5mbltlXSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IFtdLCBvID0gbGUoZSksIHIgPSBvLmxlbmd0aCAtIDE7IHIgPj0gaTsgaSsrKSBuID0gaSA9PT0gciA/IHRoaXMgOiB0aGlzLmNsb25lKCEwKSwgbGUob1tpXSlbdF0obiksIHRlLmFwcGx5KGEsIG4uZ2V0KCkpOwoJCQkJCXJldHVybiB0aGlzLnB1c2hTdGFjayhhKQoJCQkJfQoJCQl9KTsKCQkJdmFyIG50LCBpdCA9IHt9OwoJCQkhIGZ1bmN0aW9uKCkgewoJCQkJdmFyIGU7CgkJCQlyZS5zaHJpbmtXcmFwQmxvY2tzID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKG51bGwgIT0gZSkgcmV0dXJuIGU7CgkJCQkJZSA9ICExOwoJCQkJCXZhciB0LCBuLCBpOwoJCQkJCXJldHVybiBuID0geGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSwgbiAmJiBuLnN0eWxlID8gKHQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgaSA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBpLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLCBuLmFwcGVuZENoaWxkKGkpLmFwcGVuZENoaWxkKHQpLCB0eXBlb2YgdC5zdHlsZS56b29tICE9PSBDZSAmJiAodC5zdHlsZS5jc3NUZXh0ID0gIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLCB0LmFwcGVuZENoaWxkKHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5zdHlsZS53aWR0aCA9ICI1cHgiLCBlID0gMyAhPT0gdC5vZmZzZXRXaWR0aCksIG4ucmVtb3ZlQ2hpbGQoaSksIGUpIDogdm9pZCAwCgkJCQl9CgkJCX0oKTsKCQkJdmFyIGF0LCBvdCwgcnQgPSAvXm1hcmdpbi8sCgkJCQlzdCA9IG5ldyBSZWdFeHAoIl4oIiArIFRlICsgIikoPyFweClbYS16JV0rJCIsICJpIiksCgkJCQlsdCA9IC9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLzsKCQkJYS5nZXRDb21wdXRlZFN0eWxlID8gKGF0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyID8gZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkgOiBhLmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkKCQkJCX0sIG90ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzID0gZS5zdHlsZTsKCQkJCQlyZXR1cm4gbiA9IG4gfHwgYXQoZSksIHIgPSBuID8gbi5nZXRQcm9wZXJ0eVZhbHVlKHQpIHx8IG5bdF0gOiB2b2lkIDAsIG4gJiYgKCIiICE9PSByIHx8IGxlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCwgZSkgfHwgKHIgPSBsZS5zdHlsZShlLCB0KSksIHN0LnRlc3QocikgJiYgcnQudGVzdCh0KSAmJiAoaSA9IHMud2lkdGgsIGEgPSBzLm1pbldpZHRoLCBvID0gcy5tYXhXaWR0aCwgcy5taW5XaWR0aCA9IHMubWF4V2lkdGggPSBzLndpZHRoID0gciwgciA9IG4ud2lkdGgsIHMud2lkdGggPSBpLCBzLm1pbldpZHRoID0gYSwgcy5tYXhXaWR0aCA9IG8pKSwgdm9pZCAwID09PSByID8gciA6IHIgKyAiIgoJCQkJfSkgOiB4ZS5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICYmIChhdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZS5jdXJyZW50U3R5bGUKCQkJCX0sIG90ID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzID0gZS5zdHlsZTsKCQkJCQlyZXR1cm4gbiA9IG4gfHwgYXQoZSksIHIgPSBuID8gblt0XSA6IHZvaWQgMCwgbnVsbCA9PSByICYmIHMgJiYgc1t0XSAmJiAociA9IHNbdF0pLCBzdC50ZXN0KHIpICYmICFsdC50ZXN0KHQpICYmIChpID0gcy5sZWZ0LCBhID0gZS5ydW50aW1lU3R5bGUsIG8gPSBhICYmIGEubGVmdCwgbyAmJiAoYS5sZWZ0ID0gZS5jdXJyZW50U3R5bGUubGVmdCksIHMubGVmdCA9ICJmb250U2l6ZSIgPT09IHQgPyAiMWVtIiA6IHIsIHIgPSBzLnBpeGVsTGVmdCArICJweCIsIHMubGVmdCA9IGksIG8gJiYgKGEubGVmdCA9IG8pKSwgdm9pZCAwID09PSByID8gciA6IHIgKyAiIiB8fCAiYXV0byIKCQkJCX0pLAoJCQkJZnVuY3Rpb24oKSB7CgkJCQkJZnVuY3Rpb24gZSgpIHsKCQkJCQkJdmFyIGUsIHQsIG4sIGk7CgkJCQkJCXQgPSB4ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLCB0ICYmIHQuc3R5bGUgJiYgKGUgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgbiA9IHhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCBuLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLCB0LmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGUpLCBlLnN0eWxlLmNzc1RleHQgPSAiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGUiLCBvID0gciA9ICExLCBsID0gITAsIGEuZ2V0Q29tcHV0ZWRTdHlsZSAmJiAobyA9ICIxJSIgIT09IChhLmdldENvbXB1dGVkU3R5bGUoZSwgbnVsbCkgfHwge30pLnRvcCwgciA9ICI0cHgiID09PSAoYS5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpIHx8IHsKCQkJCQkJCXdpZHRoOiAiNHB4IgoJCQkJCQl9KS53aWR0aCwgaSA9IGUuYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgiZGl2IikpLCBpLnN0eWxlLmNzc1RleHQgPSBlLnN0eWxlLmNzc1RleHQgPSAiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIiwgaS5zdHlsZS5tYXJnaW5SaWdodCA9IGkuc3R5bGUud2lkdGggPSAiMCIsIGUuc3R5bGUud2lkdGggPSAiMXB4IiwgbCA9ICFwYXJzZUZsb2F0KChhLmdldENvbXB1dGVkU3R5bGUoaSwgbnVsbCkgfHwge30pLm1hcmdpblJpZ2h0KSwgZS5yZW1vdmVDaGlsZChpKSksIGUuaW5uZXJIVE1MID0gIjx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iLCBpID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSwgaVswXS5zdHlsZS5jc3NUZXh0ID0gIm1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmUiLCBzID0gMCA9PT0gaVswXS5vZmZzZXRIZWlnaHQsIHMgJiYgKGlbMF0uc3R5bGUuZGlzcGxheSA9ICIiLCBpWzFdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIsIHMgPSAwID09PSBpWzBdLm9mZnNldEhlaWdodCksIHQucmVtb3ZlQ2hpbGQobikpCgkJCQkJfQoJCQkJCXZhciB0LCBuLCBpLCBvLCByLCBzLCBsOwoJCQkJCXQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdC5pbm5lckhUTUwgPSAiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IiwgaSA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSwgbiA9IGkgJiYgaS5zdHlsZSwgbiAmJiAobi5jc3NUZXh0ID0gImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsIHJlLm9wYWNpdHkgPSAiMC41IiA9PT0gbi5vcGFjaXR5LCByZS5jc3NGbG9hdCA9ICEhbi5jc3NGbG9hdCwgdC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICJjb250ZW50LWJveCIsIHQuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICIiLCByZS5jbGVhckNsb25lU3R5bGUgPSAiY29udGVudC1ib3giID09PSB0LnN0eWxlLmJhY2tncm91bmRDbGlwLCByZS5ib3hTaXppbmcgPSAiIiA9PT0gbi5ib3hTaXppbmcgfHwgIiIgPT09IG4uTW96Qm94U2l6aW5nIHx8ICIiID09PSBuLldlYmtpdEJveFNpemluZywgbGUuZXh0ZW5kKHJlLCB7CgkJCQkJCXJlbGlhYmxlSGlkZGVuT2Zmc2V0czogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gbnVsbCA9PSBzICYmIGUoKSwgcwoJCQkJCQl9LAoJCQkJCQlib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gbnVsbCA9PSByICYmIGUoKSwgcgoJCQkJCQl9LAoJCQkJCQlwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBudWxsID09IG8gJiYgZSgpLCBvCgkJCQkJCX0sCgkJCQkJCXJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcmV0dXJuIG51bGwgPT0gbCAmJiBlKCksIGwKCQkJCQkJfQoJCQkJCX0pKQoJCQkJfSgpLCBsZS5zd2FwID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByID0ge307CgkJCQkJZm9yIChvIGluIHQpIHJbb10gPSBlLnN0eWxlW29dLCBlLnN0eWxlW29dID0gdFtvXTsKCQkJCQlhID0gbi5hcHBseShlLCBpIHx8IFtdKTsKCQkJCQlmb3IgKG8gaW4gdCkgZS5zdHlsZVtvXSA9IHJbb107CgkJCQkJcmV0dXJuIGEKCQkJCX07CgkJCXZhciBjdCA9IC9hbHBoYVwoW14pXSpcKS9pLAoJCQkJZHQgPSAvb3BhY2l0eVxzKj1ccyooW14pXSopLywKCQkJCXB0ID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLAoJCQkJaHQgPSBuZXcgUmVnRXhwKCJeKCIgKyBUZSArICIpKC4qKSQiLCAiaSIpLAoJCQkJdXQgPSBuZXcgUmVnRXhwKCJeKFsrLV0pPSgiICsgVGUgKyAiKSIsICJpIiksCgkJCQltdCA9IHsKCQkJCQlwb3NpdGlvbjogImFic29sdXRlIiwKCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIiwKCQkJCQlkaXNwbGF5OiAiYmxvY2siCgkJCQl9LAoJCQkJZnQgPSB7CgkJCQkJbGV0dGVyU3BhY2luZzogIjAiLAoJCQkJCWZvbnRXZWlnaHQ6ICI0MDAiCgkJCQl9LAoJCQkJZ3QgPSBbIldlYmtpdCIsICJPIiwgIk1veiIsICJtcyJdOwoJCQlsZS5leHRlbmQoewoJCQkJY3NzSG9va3M6IHsKCQkJCQlvcGFjaXR5OiB7CgkJCQkJCWdldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJaWYgKHQpIHsKCQkJCQkJCQl2YXIgbiA9IG90KGUsICJvcGFjaXR5Iik7CgkJCQkJCQkJcmV0dXJuICIiID09PSBuID8gIjEiIDogbgoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwKCQkJCWNzc051bWJlcjogewoJCQkJCWNvbHVtbkNvdW50OiAhMCwKCQkJCQlmaWxsT3BhY2l0eTogITAsCgkJCQkJZmxleEdyb3c6ICEwLAoJCQkJCWZsZXhTaHJpbms6ICEwLAoJCQkJCWZvbnRXZWlnaHQ6ICEwLAoJCQkJCWxpbmVIZWlnaHQ6ICEwLAoJCQkJCW9wYWNpdHk6ICEwLAoJCQkJCW9yZGVyOiAhMCwKCQkJCQlvcnBoYW5zOiAhMCwKCQkJCQl3aWRvd3M6ICEwLAoJCQkJCXpJbmRleDogITAsCgkJCQkJem9vbTogITAKCQkJCX0sCgkJCQljc3NQcm9wczogewoJCQkJCSJmbG9hdCI6IHJlLmNzc0Zsb2F0ID8gImNzc0Zsb2F0IiA6ICJzdHlsZUZsb2F0IgoJCQkJfSwKCQkJCXN0eWxlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJaWYgKGUgJiYgMyAhPT0gZS5ub2RlVHlwZSAmJiA4ICE9PSBlLm5vZGVUeXBlICYmIGUuc3R5bGUpIHsKCQkJCQkJdmFyIGEsIG8sIHIsIHMgPSBsZS5jYW1lbENhc2UodCksCgkJCQkJCQlsID0gZS5zdHlsZTsKCQkJCQkJaWYgKHQgPSBsZS5jc3NQcm9wc1tzXSB8fCAobGUuY3NzUHJvcHNbc10gPSBQKGwsIHMpKSwgciA9IGxlLmNzc0hvb2tzW3RdIHx8IGxlLmNzc0hvb2tzW3NdLCB2b2lkIDAgPT09IG4pIHJldHVybiByICYmICJnZXQiIGluIHIgJiYgdm9pZCAwICE9PSAoYSA9IHIuZ2V0KGUsICExLCBpKSkgPyBhIDogbFt0XTsKCQkJCQkJaWYgKG8gPSB0eXBlb2YgbiwgInN0cmluZyIgPT09IG8gJiYgKGEgPSB1dC5leGVjKG4pKSAmJiAobiA9IChhWzFdICsgMSkgKiBhWzJdICsgcGFyc2VGbG9hdChsZS5jc3MoZSwgdCkpLCBvID0gIm51bWJlciIpLCBudWxsICE9IG4gJiYgbiA9PT0gbiAmJiAoIm51bWJlciIgIT09IG8gfHwgbGUuY3NzTnVtYmVyW3NdIHx8IChuICs9ICJweCIpLCByZS5jbGVhckNsb25lU3R5bGUgfHwgIiIgIT09IG4gfHwgMCAhPT0gdC5pbmRleE9mKCJiYWNrZ3JvdW5kIikgfHwgKGxbdF0gPSAiaW5oZXJpdCIpLCAhKHIgJiYgInNldCIgaW4gciAmJiB2b2lkIDAgPT09IChuID0gci5zZXQoZSwgbiwgaSkpKSkpIHRyeSB7CgkJCQkJCQlsW3RdID0gbgoJCQkJCQl9IGNhdGNoIChjKSB7fQoJCQkJCX0KCQkJCX0sCgkJCQljc3M6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciwgcyA9IGxlLmNhbWVsQ2FzZSh0KTsKCQkJCQlyZXR1cm4gdCA9IGxlLmNzc1Byb3BzW3NdIHx8IChsZS5jc3NQcm9wc1tzXSA9IFAoZS5zdHlsZSwgcykpLCByID0gbGUuY3NzSG9va3NbdF0gfHwgbGUuY3NzSG9va3Nbc10sIHIgJiYgImdldCIgaW4gciAmJiAobyA9IHIuZ2V0KGUsICEwLCBuKSksIHZvaWQgMCA9PT0gbyAmJiAobyA9IG90KGUsIHQsIGkpKSwgIm5vcm1hbCIgPT09IG8gJiYgdCBpbiBmdCAmJiAobyA9IGZ0W3RdKSwgIiIgPT09IG4gfHwgbiA/IChhID0gcGFyc2VGbG9hdChvKSwgbiA9PT0gITAgfHwgbGUuaXNOdW1lcmljKGEpID8gYSB8fCAwIDogbykgOiBvCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsiaGVpZ2h0IiwgIndpZHRoIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLmNzc0hvb2tzW3RdID0gewoJCQkJCWdldDogZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCQlyZXR1cm4gbiA/IHB0LnRlc3QobGUuY3NzKGUsICJkaXNwbGF5IikpICYmIDAgPT09IGUub2Zmc2V0V2lkdGggPyBsZS5zd2FwKGUsIG10LCBmdW5jdGlvbigpIHsKCQkJCQkJCXJldHVybiBFKGUsIHQsIGkpCgkJCQkJCX0pIDogRShlLCB0LCBpKSA6IHZvaWQgMAoJCQkJCX0sCgkJCQkJc2V0OiBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCXZhciBhID0gaSAmJiBhdChlKTsKCQkJCQkJcmV0dXJuIEEoZSwgbiwgaSA/IHEoZSwgdCwgaSwgcmUuYm94U2l6aW5nICYmICJib3JkZXItYm94IiA9PT0gbGUuY3NzKGUsICJib3hTaXppbmciLCAhMSwgYSksIGEpIDogMCkKCQkJCQl9CgkJCQl9CgkJCX0pLCByZS5vcGFjaXR5IHx8IChsZS5jc3NIb29rcy5vcGFjaXR5ID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIGR0LnRlc3QoKHQgJiYgZS5jdXJyZW50U3R5bGUgPyBlLmN1cnJlbnRTdHlsZS5maWx0ZXIgOiBlLnN0eWxlLmZpbHRlcikgfHwgIiIpID8gLjAxICogcGFyc2VGbG9hdChSZWdFeHAuJDEpICsgIiIgOiB0ID8gIjEiIDogIiIKCQkJCX0sCgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGUuc3R5bGUsCgkJCQkJCWkgPSBlLmN1cnJlbnRTdHlsZSwKCQkJCQkJYSA9IGxlLmlzTnVtZXJpYyh0KSA/ICJhbHBoYShvcGFjaXR5PSIgKyAxMDAgKiB0ICsgIikiIDogIiIsCgkJCQkJCW8gPSBpICYmIGkuZmlsdGVyIHx8IG4uZmlsdGVyIHx8ICIiOwoJCQkJCW4uem9vbSA9IDEsICh0ID49IDEgfHwgIiIgPT09IHQpICYmICIiID09PSBsZS50cmltKG8ucmVwbGFjZShjdCwgIiIpKSAmJiBuLnJlbW92ZUF0dHJpYnV0ZSAmJiAobi5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCAiIiA9PT0gdCB8fCBpICYmICFpLmZpbHRlcikgfHwgKG4uZmlsdGVyID0gY3QudGVzdChvKSA/IG8ucmVwbGFjZShjdCwgYSkgOiBvICsgIiAiICsgYSkKCQkJCX0KCQkJfSksIGxlLmNzc0hvb2tzLm1hcmdpblJpZ2h0ID0gVChyZS5yZWxpYWJsZU1hcmdpblJpZ2h0LCBmdW5jdGlvbihlLCB0KSB7CgkJCQlyZXR1cm4gdCA/IGxlLnN3YXAoZSwgewoJCQkJCWRpc3BsYXk6ICJpbmxpbmUtYmxvY2siCgkJCQl9LCBvdCwgW2UsICJtYXJnaW5SaWdodCJdKSA6IHZvaWQgMAoJCQl9KSwgbGUuZWFjaCh7CgkJCQltYXJnaW46ICIiLAoJCQkJcGFkZGluZzogIiIsCgkJCQlib3JkZXI6ICJXaWR0aCIKCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuY3NzSG9va3NbZSArIHRdID0gewoJCQkJCWV4cGFuZDogZnVuY3Rpb24obikgewoJCQkJCQlmb3IgKHZhciBpID0gMCwgYSA9IHt9LCBvID0gInN0cmluZyIgPT0gdHlwZW9mIG4gPyBuLnNwbGl0KCIgIikgOiBbbl07IDQgPiBpOyBpKyspIGFbZSArIFBlW2ldICsgdF0gPSBvW2ldIHx8IG9baSAtIDJdIHx8IG9bMF07CgkJCQkJCXJldHVybiBhCgkJCQkJfQoJCQkJfSwgcnQudGVzdChlKSB8fCAobGUuY3NzSG9va3NbZSArIHRdLnNldCA9IEEpCgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJY3NzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGksIGEsIG8gPSB7fSwKCQkJCQkJCXIgPSAwOwoJCQkJCQlpZiAobGUuaXNBcnJheSh0KSkgewoJCQkJCQkJZm9yIChpID0gYXQoZSksIGEgPSB0Lmxlbmd0aDsgYSA+IHI7IHIrKykgb1t0W3JdXSA9IGxlLmNzcyhlLCB0W3JdLCAhMSwgaSk7CgkJCQkJCQlyZXR1cm4gbwoJCQkJCQl9CgkJCQkJCXJldHVybiB2b2lkIDAgIT09IG4gPyBsZS5zdHlsZShlLCB0LCBuKSA6IGxlLmNzcyhlLCB0KQoJCQkJCX0sIGUsIHQsIGFyZ3VtZW50cy5sZW5ndGggPiAxKQoJCQkJfSwKCQkJCXNob3c6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBJKHRoaXMsICEwKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBJKHRoaXMpCgkJCQl9LAoJCQkJdG9nZ2xlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgZSA/IGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlJZSh0aGlzKSA/IGxlKHRoaXMpLnNob3coKSA6IGxlKHRoaXMpLmhpZGUoKQoJCQkJCX0pCgkJCQl9CgkJCX0pLCBsZS5Ud2VlbiA9IE8sIE8ucHJvdG90eXBlID0gewoJCQkJY29uc3RydWN0b3I6IE8sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJdGhpcy5lbGVtID0gZSwgdGhpcy5wcm9wID0gbiwgdGhpcy5lYXNpbmcgPSBhIHx8ICJzd2luZyIsIHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCksIHRoaXMuZW5kID0gaSwgdGhpcy51bml0ID0gbyB8fCAobGUuY3NzTnVtYmVyW25dID8gIiIgOiAicHgiKQoJCQkJfSwKCQkJCWN1cjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBPLnByb3BIb29rc1t0aGlzLnByb3BdOwoJCQkJCXJldHVybiBlICYmIGUuZ2V0ID8gZS5nZXQodGhpcykgOiBPLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcykKCQkJCX0sCgkJCQlydW46IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IE8ucHJvcEhvb2tzW3RoaXMucHJvcF07CgkJCQkJcmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbiA/IHRoaXMucG9zID0gdCA9IGxlLmVhc2luZ1t0aGlzLmVhc2luZ10oZSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogZSwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKSA6IHRoaXMucG9zID0gdCA9IGUsIHRoaXMubm93ID0gKHRoaXMuZW5kIC0gdGhpcy5zdGFydCkgKiB0ICsgdGhpcy5zdGFydCwgdGhpcy5vcHRpb25zLnN0ZXAgJiYgdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzKSwgbiAmJiBuLnNldCA/IG4uc2V0KHRoaXMpIDogTy5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLCB0aGlzCgkJCQl9CgkJCX0sIE8ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gTy5wcm90b3R5cGUsIE8ucHJvcEhvb2tzID0gewoJCQkJX2RlZmF1bHQ6IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQ7CgkJCQkJCXJldHVybiBudWxsID09IGUuZWxlbVtlLnByb3BdIHx8IGUuZWxlbS5zdHlsZSAmJiBudWxsICE9IGUuZWxlbS5zdHlsZVtlLnByb3BdID8gKHQgPSBsZS5jc3MoZS5lbGVtLCBlLnByb3AsICIiKSwgdCAmJiAiYXV0byIgIT09IHQgPyB0IDogMCkgOiBlLmVsZW1bZS5wcm9wXQoJCQkJCX0sCgkJCQkJc2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCWxlLmZ4LnN0ZXBbZS5wcm9wXSA/IGxlLmZ4LnN0ZXBbZS5wcm9wXShlKSA6IGUuZWxlbS5zdHlsZSAmJiAobnVsbCAhPSBlLmVsZW0uc3R5bGVbbGUuY3NzUHJvcHNbZS5wcm9wXV0gfHwgbGUuY3NzSG9va3NbZS5wcm9wXSkgPyBsZS5zdHlsZShlLmVsZW0sIGUucHJvcCwgZS5ub3cgKyBlLnVuaXQpIDogZS5lbGVtW2UucHJvcF0gPSBlLm5vdwoJCQkJCX0KCQkJCX0KCQkJfSwgTy5wcm9wSG9va3Muc2Nyb2xsVG9wID0gTy5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSkgewoJCQkJCWUuZWxlbS5ub2RlVHlwZSAmJiBlLmVsZW0ucGFyZW50Tm9kZSAmJiAoZS5lbGVtW2UucHJvcF0gPSBlLm5vdykKCQkJCX0KCQkJfSwgbGUuZWFzaW5nID0gewoJCQkJbGluZWFyOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlzd2luZzogZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAuNSAtIE1hdGguY29zKGUgKiBNYXRoLlBJKSAvIDIKCQkJCX0KCQkJfSwgbGUuZnggPSBPLnByb3RvdHlwZS5pbml0LCBsZS5meC5zdGVwID0ge307CgkJCXZhciBfdCwgeHQsIHd0ID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLAoJCQkJdnQgPSBuZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIgKyBUZSArICIpKFthLXolXSopJCIsICJpIiksCgkJCQlidCA9IC9xdWV1ZUhvb2tzJC8sCgkJCQl5dCA9IFtSXSwKCQkJCWt0ID0gewoJCQkJCSIqIjogWwoJCQkJCQlmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiA9IHRoaXMuY3JlYXRlVHdlZW4oZSwgdCksCgkJCQkJCQkJaSA9IG4uY3VyKCksCgkJCQkJCQkJYSA9IHZ0LmV4ZWModCksCgkJCQkJCQkJbyA9IGEgJiYgYVszXSB8fCAobGUuY3NzTnVtYmVyW2VdID8gIiIgOiAicHgiKSwKCQkJCQkJCQlyID0gKGxlLmNzc051bWJlcltlXSB8fCAicHgiICE9PSBvICYmICtpKSAmJiB2dC5leGVjKGxlLmNzcyhuLmVsZW0sIGUpKSwKCQkJCQkJCQlzID0gMSwKCQkJCQkJCQlsID0gMjA7CgkJCQkJCQlpZiAociAmJiByWzNdICE9PSBvKSB7CgkJCQkJCQkJbyA9IG8gfHwgclszXSwgYSA9IGEgfHwgW10sIHIgPSAraSB8fCAxOwoJCQkJCQkJCWRvIHMgPSBzIHx8ICIuNSIsIHIgLz0gcywgbGUuc3R5bGUobi5lbGVtLCBlLCByICsgbyk7IHdoaWxlIChzICE9PSAocyA9IG4uY3VyKCkgLyBpKSAmJiAxICE9PSBzICYmIC0tbCkKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBhICYmIChyID0gbi5zdGFydCA9ICtyIHx8ICtpIHx8IDAsIG4udW5pdCA9IG8sIG4uZW5kID0gYVsxXSA/IHIgKyAoYVsxXSArIDEpICogYVsyXSA6ICthWzJdKSwgbgoJCQkJCQl9CgkJCQkJXQoJCQkJfTsKCQkJbGUuQW5pbWF0aW9uID0gbGUuZXh0ZW5kKCQsIHsKCQkJCQl0d2VlbmVyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWxlLmlzRnVuY3Rpb24oZSkgPyAodCA9IGUsIGUgPSBbIioiXSkgOiBlID0gZS5zcGxpdCgiICIpOwoJCQkJCQlmb3IgKHZhciBuLCBpID0gMCwgYSA9IGUubGVuZ3RoOyBhID4gaTsgaSsrKSBuID0gZVtpXSwga3Rbbl0gPSBrdFtuXSB8fCBbXSwga3Rbbl0udW5zaGlmdCh0KQoJCQkJCX0sCgkJCQkJcHJlZmlsdGVyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXQgPyB5dC51bnNoaWZ0KGUpIDogeXQucHVzaChlKQoJCQkJCX0KCQkJCX0pLCBsZS5zcGVlZCA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IGUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIGUgPyBsZS5leHRlbmQoe30sIGUpIDogewoJCQkJCQljb21wbGV0ZTogbiB8fCAhbiAmJiB0IHx8IGxlLmlzRnVuY3Rpb24oZSkgJiYgZSwKCQkJCQkJZHVyYXRpb246IGUsCgkJCQkJCWVhc2luZzogbiAmJiB0IHx8IHQgJiYgIWxlLmlzRnVuY3Rpb24odCkgJiYgdAoJCQkJCX07CgkJCQkJcmV0dXJuIGkuZHVyYXRpb24gPSBsZS5meC5vZmYgPyAwIDogIm51bWJlciIgPT0gdHlwZW9mIGkuZHVyYXRpb24gPyBpLmR1cmF0aW9uIDogaS5kdXJhdGlvbiBpbiBsZS5meC5zcGVlZHMgPyBsZS5meC5zcGVlZHNbaS5kdXJhdGlvbl0gOiBsZS5meC5zcGVlZHMuX2RlZmF1bHQsIChudWxsID09IGkucXVldWUgfHwgaS5xdWV1ZSA9PT0gITApICYmIChpLnF1ZXVlID0gImZ4IiksIGkub2xkID0gaS5jb21wbGV0ZSwgaS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5pc0Z1bmN0aW9uKGkub2xkKSAmJiBpLm9sZC5jYWxsKHRoaXMpLCBpLnF1ZXVlICYmIGxlLmRlcXVldWUodGhpcywgaS5xdWV1ZSkKCQkJCQl9LCBpCgkJCQl9LCBsZS5mbi5leHRlbmQoewoJCQkJCWZhZGVUbzogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlyZXR1cm4gdGhpcy5maWx0ZXIoSWUpLmNzcygib3BhY2l0eSIsIDApLnNob3coKS5lbmQoKS5hbmltYXRlKHsKCQkJCQkJCW9wYWNpdHk6IHQKCQkJCQkJfSwgZSwgbiwgaSkKCQkJCQl9LAoJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEgPSBsZS5pc0VtcHR5T2JqZWN0KGUpLAoJCQkJCQkJbyA9IGxlLnNwZWVkKHQsIG4sIGkpLAoJCQkJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCXZhciB0ID0gJCh0aGlzLCBsZS5leHRlbmQoe30sIGUpLCBvKTsKCQkJCQkJCQkoYSB8fCBsZS5fZGF0YSh0aGlzLCAiZmluaXNoIikpICYmIHQuc3RvcCghMCkKCQkJCQkJCX07CgkJCQkJCXJldHVybiByLmZpbmlzaCA9IHIsIGEgfHwgby5xdWV1ZSA9PT0gITEgPyB0aGlzLmVhY2gocikgOiB0aGlzLnF1ZXVlKG8ucXVldWUsIHIpCgkJCQkJfSwKCQkJCQlzdG9wOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLnN0b3A7CgkJCQkJCQlkZWxldGUgZS5zdG9wLCB0KG4pCgkJCQkJCX07CgkJCQkJCXJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiAobiA9IHQsIHQgPSBlLCBlID0gdm9pZCAwKSwgdCAmJiBlICE9PSAhMSAmJiB0aGlzLnF1ZXVlKGUgfHwgImZ4IiwgW10pLCB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgdCA9ICEwLAoJCQkJCQkJCWEgPSBudWxsICE9IGUgJiYgZSArICJxdWV1ZUhvb2tzIiwKCQkJCQkJCQlvID0gbGUudGltZXJzLAoJCQkJCQkJCXIgPSBsZS5fZGF0YSh0aGlzKTsKCQkJCQkJCWlmIChhKSByW2FdICYmIHJbYV0uc3RvcCAmJiBpKHJbYV0pOwoJCQkJCQkJZWxzZQoJCQkJCQkJCWZvciAoYSBpbiByKSByW2FdICYmIHJbYV0uc3RvcCAmJiBidC50ZXN0KGEpICYmIGkoclthXSk7CgkJCQkJCQlmb3IgKGEgPSBvLmxlbmd0aDsgYS0tOykgb1thXS5lbGVtICE9PSB0aGlzIHx8IG51bGwgIT0gZSAmJiBvW2FdLnF1ZXVlICE9PSBlIHx8IChvW2FdLmFuaW0uc3RvcChuKSwgdCA9ICExLCBvLnNwbGljZShhLCAxKSk7CgkJCQkJCQkodCB8fCAhbikgJiYgbGUuZGVxdWV1ZSh0aGlzLCBlKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJZmluaXNoOiBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlICE9PSAhMSAmJiAoZSA9IGUgfHwgImZ4IiksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0LCBuID0gbGUuX2RhdGEodGhpcyksCgkJCQkJCQkJaSA9IG5bZSArICJxdWV1ZSJdLAoJCQkJCQkJCWEgPSBuW2UgKyAicXVldWVIb29rcyJdLAoJCQkJCQkJCW8gPSBsZS50aW1lcnMsCgkJCQkJCQkJciA9IGkgPyBpLmxlbmd0aCA6IDA7CgkJCQkJCQlmb3IgKG4uZmluaXNoID0gITAsIGxlLnF1ZXVlKHRoaXMsIGUsIFtdKSwgYSAmJiBhLnN0b3AgJiYgYS5zdG9wLmNhbGwodGhpcywgITApLCB0ID0gby5sZW5ndGg7IHQtLTspIG9bdF0uZWxlbSA9PT0gdGhpcyAmJiBvW3RdLnF1ZXVlID09PSBlICYmIChvW3RdLmFuaW0uc3RvcCghMCksIG8uc3BsaWNlKHQsIDEpKTsKCQkJCQkJCWZvciAodCA9IDA7IHIgPiB0OyB0KyspIGlbdF0gJiYgaVt0XS5maW5pc2ggJiYgaVt0XS5maW5pc2guY2FsbCh0aGlzKTsKCQkJCQkJCWRlbGV0ZSBuLmZpbmlzaAoJCQkJCQl9KQoJCQkJCX0KCQkJCX0pLCBsZS5lYWNoKFsidG9nZ2xlIiwgInNob3ciLCAiaGlkZSJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBsZS5mblt0XTsKCQkJCQlsZS5mblt0XSA9IGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCQkJcmV0dXJuIG51bGwgPT0gZSB8fCAiYm9vbGVhbiIgPT0gdHlwZW9mIGUgPyBuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB0aGlzLmFuaW1hdGUoRCh0LCAhMCksIGUsIGksIGEpCgkJCQkJfQoJCQkJfSksIGxlLmVhY2goewoJCQkJCXNsaWRlRG93bjogRCgic2hvdyIpLAoJCQkJCXNsaWRlVXA6IEQoImhpZGUiKSwKCQkJCQlzbGlkZVRvZ2dsZTogRCgidG9nZ2xlIiksCgkJCQkJZmFkZUluOiB7CgkJCQkJCW9wYWNpdHk6ICJzaG93IgoJCQkJCX0sCgkJCQkJZmFkZU91dDogewoJCQkJCQlvcGFjaXR5OiAiaGlkZSIKCQkJCQl9LAoJCQkJCWZhZGVUb2dnbGU6IHsKCQkJCQkJb3BhY2l0eTogInRvZ2dsZSIKCQkJCQl9CgkJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJCXJldHVybiB0aGlzLmFuaW1hdGUodCwgZSwgbiwgaSkKCQkJCQl9CgkJCQl9KSwgbGUudGltZXJzID0gW10sIGxlLmZ4LnRpY2sgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCA9IGxlLnRpbWVycywKCQkJCQkJbiA9IDA7CgkJCQkJZm9yIChfdCA9IGxlLm5vdygpOyBuIDwgdC5sZW5ndGg7IG4rKykgZSA9IHRbbl0sIGUoKSB8fCB0W25dICE9PSBlIHx8IHQuc3BsaWNlKG4tLSwgMSk7CgkJCQkJdC5sZW5ndGggfHwgbGUuZnguc3RvcCgpLCBfdCA9IHZvaWQgMAoJCQkJfSwgbGUuZngudGltZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJbGUudGltZXJzLnB1c2goZSksIGUoKSA/IGxlLmZ4LnN0YXJ0KCkgOiBsZS50aW1lcnMucG9wKCkKCQkJCX0sIGxlLmZ4LmludGVydmFsID0gMTMsIGxlLmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7CgkJCQkJeHQgfHwgKHh0ID0gc2V0SW50ZXJ2YWwobGUuZngudGljaywgbGUuZnguaW50ZXJ2YWwpKQoJCQkJfSwgbGUuZnguc3RvcCA9IGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFySW50ZXJ2YWwoeHQpLCB4dCA9IG51bGwKCQkJCX0sIGxlLmZ4LnNwZWVkcyA9IHsKCQkJCQlzbG93OiA2MDAsCgkJCQkJZmFzdDogMjAwLAoJCQkJCV9kZWZhdWx0OiA0MDAKCQkJCX0sIGxlLmZuLmRlbGF5ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlID0gbGUuZnggPyBsZS5meC5zcGVlZHNbZV0gfHwgZSA6IGUsIHQgPSB0IHx8ICJmeCIsIHRoaXMucXVldWUodCwgZnVuY3Rpb24odCwgbikgewoJCQkJCQl2YXIgaSA9IHNldFRpbWVvdXQodCwgZSk7CgkJCQkJCW4uc3RvcCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJUaW1lb3V0KGkpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhOwoJCQkJCXQgPSB4ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdC5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsICJ0IiksIHQuaW5uZXJIVE1MID0gIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsIGkgPSB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0sIG4gPSB4ZS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSwgYSA9IG4uYXBwZW5kQ2hpbGQoeGUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLCBlID0gdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSwgaS5zdHlsZS5jc3NUZXh0ID0gInRvcDoxcHgiLCByZS5nZXRTZXRBdHRyaWJ1dGUgPSAidCIgIT09IHQuY2xhc3NOYW1lLCByZS5zdHlsZSA9IC90b3AvLnRlc3QoaS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLCByZS5ocmVmTm9ybWFsaXplZCA9ICIvYSIgPT09IGkuZ2V0QXR0cmlidXRlKCJocmVmIiksIHJlLmNoZWNrT24gPSAhIWUudmFsdWUsIHJlLm9wdFNlbGVjdGVkID0gYS5zZWxlY3RlZCwgcmUuZW5jdHlwZSA9ICEheGUuY3JlYXRlRWxlbWVudCgiZm9ybSIpLmVuY3R5cGUsIG4uZGlzYWJsZWQgPSAhMCwgcmUub3B0RGlzYWJsZWQgPSAhYS5kaXNhYmxlZCwgZSA9IHhlLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksIGUuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsICIiKSwgcmUuaW5wdXQgPSAiIiA9PT0gZS5nZXRBdHRyaWJ1dGUoInZhbHVlIiksIGUudmFsdWUgPSAidCIsIGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInJhZGlvIiksIHJlLnJhZGlvVmFsdWUgPSAidCIgPT09IGUudmFsdWUKCQkJCX0oKTsKCQkJdmFyIHp0ID0gL1xyL2c7CgkJCWxlLmZuLmV4dGVuZCh7CgkJCQl2YWw6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXNbMF07IHsKCQkJCQkJaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBpID0gbGUuaXNGdW5jdGlvbihlKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBhOwoJCQkJCQkJMSA9PT0gdGhpcy5ub2RlVHlwZSAmJiAoYSA9IGkgPyBlLmNhbGwodGhpcywgbiwgbGUodGhpcykudmFsKCkpIDogZSwgbnVsbCA9PSBhID8gYSA9ICIiIDogIm51bWJlciIgPT0gdHlwZW9mIGEgPyBhICs9ICIiIDogbGUuaXNBcnJheShhKSAmJiAoYSA9IGxlLm1hcChhLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIG51bGwgPT0gZSA/ICIiIDogZSArICIiCgkJCQkJCQl9KSksIHQgPSBsZS52YWxIb29rc1t0aGlzLnR5cGVdIHx8IGxlLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHQgJiYgInNldCIgaW4gdCAmJiB2b2lkIDAgIT09IHQuc2V0KHRoaXMsIGEsICJ2YWx1ZSIpIHx8ICh0aGlzLnZhbHVlID0gYSkpCgkJCQkJCX0pOwoJCQkJCQlpZiAoYSkgcmV0dXJuIHQgPSBsZS52YWxIb29rc1thLnR5cGVdIHx8IGxlLnZhbEhvb2tzW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHQgJiYgImdldCIgaW4gdCAmJiB2b2lkIDAgIT09IChuID0gdC5nZXQoYSwgInZhbHVlIikpID8gbiA6IChuID0gYS52YWx1ZSwgInN0cmluZyIgPT0gdHlwZW9mIG4gPyBuLnJlcGxhY2UoenQsICIiKSA6IG51bGwgPT0gbiA/ICIiIDogbikKCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5leHRlbmQoewoJCQkJdmFsSG9va3M6IHsKCQkJCQlvcHRpb246IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IGxlLmZpbmQuYXR0cihlLCAidmFsdWUiKTsKCQkJCQkJCXJldHVybiBudWxsICE9IHQgPyB0IDogbGUudHJpbShsZS50ZXh0KGUpKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzZWxlY3Q6IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQlmb3IgKHZhciB0LCBuLCBpID0gZS5vcHRpb25zLCBhID0gZS5zZWxlY3RlZEluZGV4LCBvID0gInNlbGVjdC1vbmUiID09PSBlLnR5cGUgfHwgMCA+IGEsIHIgPSBvID8gbnVsbCA6IFtdLCBzID0gbyA/IGEgKyAxIDogaS5sZW5ndGgsIGwgPSAwID4gYSA/IHMgOiBvID8gYSA6IDA7IHMgPiBsOyBsKyspCgkJCQkJCQkJaWYgKG4gPSBpW2xdLCAobi5zZWxlY3RlZCB8fCBsID09PSBhKSAmJiAocmUub3B0RGlzYWJsZWQgPyAhbi5kaXNhYmxlZCA6IG51bGwgPT09IG4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKSAmJiAoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fCAhbGUubm9kZU5hbWUobi5wYXJlbnROb2RlLCAib3B0Z3JvdXAiKSkpIHsKCQkJCQkJCQkJaWYgKHQgPSBsZShuKS52YWwoKSwgbykgcmV0dXJuIHQ7CgkJCQkJCQkJCXIucHVzaCh0KQoJCQkJCQkJCX0KCQkJCQkJCXJldHVybiByCgkJCQkJCX0sCgkJCQkJCXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYSA9IGUub3B0aW9ucywgbyA9IGxlLm1ha2VBcnJheSh0KSwgciA9IGEubGVuZ3RoOyByLS07KQoJCQkJCQkJCWlmIChpID0gYVtyXSwgbGUuaW5BcnJheShsZS52YWxIb29rcy5vcHRpb24uZ2V0KGkpLCBvKSA+PSAwKSB0cnkgewoJCQkJCQkJCQlpLnNlbGVjdGVkID0gbiA9ICEwCgkJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCQlpLnNjcm9sbEhlaWdodAoJCQkJCQkJCX0gZWxzZSBpLnNlbGVjdGVkID0gITE7CgkJCQkJCQlyZXR1cm4gbiB8fCAoZS5zZWxlY3RlZEluZGV4ID0gLTEpLCBhCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsicmFkaW8iLCAiY2hlY2tib3giXSwgZnVuY3Rpb24oKSB7CgkJCQlsZS52YWxIb29rc1t0aGlzXSA9IHsKCQkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIGxlLmlzQXJyYXkodCkgPyBlLmNoZWNrZWQgPSBsZS5pbkFycmF5KGxlKGUpLnZhbCgpLCB0KSA+PSAwIDogdm9pZCAwCgkJCQkJfQoJCQkJfSwgcmUuY2hlY2tPbiB8fCAobGUudmFsSG9va3NbdGhpc10uZ2V0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBudWxsID09PSBlLmdldEF0dHJpYnV0ZSgidmFsdWUiKSA/ICJvbiIgOiBlLnZhbHVlCgkJCQl9KQoJCQl9KTsKCQkJdmFyIEJ0LCBqdCwgQ3QgPSBsZS5leHByLmF0dHJIYW5kbGUsCgkJCQlTdCA9IC9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksCgkJCQlOdCA9IHJlLmdldFNldEF0dHJpYnV0ZSwKCQkJCVR0ID0gcmUuaW5wdXQ7CgkJCWxlLmZuLmV4dGVuZCh7CgkJCQlhdHRyOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGxlLmF0dHIsIGUsIHQsIGFyZ3VtZW50cy5sZW5ndGggPiAxKQoJCQkJfSwKCQkJCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlsZS5yZW1vdmVBdHRyKHRoaXMsIGUpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlhdHRyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8gPSBlLm5vZGVUeXBlOwoJCQkJCWlmIChlICYmIDMgIT09IG8gJiYgOCAhPT0gbyAmJiAyICE9PSBvKSByZXR1cm4gdHlwZW9mIGUuZ2V0QXR0cmlidXRlID09PSBDZSA/IGxlLnByb3AoZSwgdCwgbikgOiAoMSA9PT0gbyAmJiBsZS5pc1hNTERvYyhlKSB8fCAodCA9IHQudG9Mb3dlckNhc2UoKSwgaSA9IGxlLmF0dHJIb29rc1t0XSB8fCAobGUuZXhwci5tYXRjaC5ib29sLnRlc3QodCkgPyBqdCA6IEJ0KSksIHZvaWQgMCA9PT0gbiA/IGkgJiYgImdldCIgaW4gaSAmJiBudWxsICE9PSAoYSA9IGkuZ2V0KGUsIHQpKSA/IGEgOiAoYSA9IGxlLmZpbmQuYXR0cihlLCB0KSwgbnVsbCA9PSBhID8gdm9pZCAwIDogYSkgOiBudWxsICE9PSBuID8gaSAmJiAic2V0IiBpbiBpICYmIHZvaWQgMCAhPT0gKGEgPSBpLnNldChlLCBuLCB0KSkgPyBhIDogKGUuc2V0QXR0cmlidXRlKHQsIG4gKyAiIiksIG4pIDogdm9pZCBsZS5yZW1vdmVBdHRyKGUsIHQpKQoJCQkJfSwKCQkJCXJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSA9IDAsCgkJCQkJCW8gPSB0ICYmIHQubWF0Y2goa2UpOwoJCQkJCWlmIChvICYmIDEgPT09IGUubm9kZVR5cGUpCgkJCQkJCWZvciAoOyBuID0gb1thKytdOykgaSA9IGxlLnByb3BGaXhbbl0gfHwgbiwgbGUuZXhwci5tYXRjaC5ib29sLnRlc3QobikgPyBUdCAmJiBOdCB8fCAhU3QudGVzdChuKSA/IGVbaV0gPSAhMSA6IGVbbGUuY2FtZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW2ldID0gITEgOiBsZS5hdHRyKGUsIG4sICIiKSwgZS5yZW1vdmVBdHRyaWJ1dGUoTnQgPyBuIDogaSkKCQkJCX0sCgkJCQlhdHRySG9va3M6IHsKCQkJCQl0eXBlOiB7CgkJCQkJCXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJaWYgKCFyZS5yYWRpb1ZhbHVlICYmICJyYWRpbyIgPT09IHQgJiYgbGUubm9kZU5hbWUoZSwgImlucHV0IikpIHsKCQkJCQkJCQl2YXIgbiA9IGUudmFsdWU7CgkJCQkJCQkJcmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgdCksIG4gJiYgKGUudmFsdWUgPSBuKSwgdAoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KSwganQgPSB7CgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gdCA9PT0gITEgPyBsZS5yZW1vdmVBdHRyKGUsIG4pIDogVHQgJiYgTnQgfHwgIVN0LnRlc3QobikgPyBlLnNldEF0dHJpYnV0ZSghTnQgJiYgbGUucHJvcEZpeFtuXSB8fCBuLCBuKSA6IGVbbGUuY2FtZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW25dID0gITAsIG4KCQkJCX0KCQkJfSwgbGUuZWFjaChsZS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gQ3RbdF0gfHwgbGUuZmluZC5hdHRyOwoJCQkJQ3RbdF0gPSBUdCAmJiBOdCB8fCAhU3QudGVzdCh0KSA/IGZ1bmN0aW9uKGUsIHQsIGkpIHsKCQkJCQl2YXIgYSwgbzsKCQkJCQlyZXR1cm4gaSB8fCAobyA9IEN0W3RdLCBDdFt0XSA9IGEsIGEgPSBudWxsICE9IG4oZSwgdCwgaSkgPyB0LnRvTG93ZXJDYXNlKCkgOiBudWxsLCBDdFt0XSA9IG8pLCBhCgkJCQl9IDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXJldHVybiBuID8gdm9pZCAwIDogZVtsZS5jYW1lbENhc2UoImRlZmF1bHQtIiArIHQpXSA/IHQudG9Mb3dlckNhc2UoKSA6IG51bGwKCQkJCX0KCQkJfSksIFR0ICYmIE50IHx8IChsZS5hdHRySG9va3MudmFsdWUgPSB7CgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUubm9kZU5hbWUoZSwgImlucHV0IikgPyB2b2lkKGUuZGVmYXVsdFZhbHVlID0gdCkgOiBCdCAmJiBCdC5zZXQoZSwgdCwgbikKCQkJCX0KCQkJfSksIE50IHx8IChCdCA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gZS5nZXRBdHRyaWJ1dGVOb2RlKG4pOwoJCQkJCXJldHVybiBpIHx8IGUuc2V0QXR0cmlidXRlTm9kZShpID0gZS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShuKSksIGkudmFsdWUgPSB0ICs9ICIiLCAidmFsdWUiID09PSBuIHx8IHQgPT09IGUuZ2V0QXR0cmlidXRlKG4pID8gdCA6IHZvaWQgMAoJCQkJfQoJCQl9LCBDdC5pZCA9IEN0Lm5hbWUgPSBDdC5jb29yZHMgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQl2YXIgaTsKCQkJCXJldHVybiBuID8gdm9pZCAwIDogKGkgPSBlLmdldEF0dHJpYnV0ZU5vZGUodCkpICYmICIiICE9PSBpLnZhbHVlID8gaS52YWx1ZSA6IG51bGwKCQkJfSwgbGUudmFsSG9va3MuYnV0dG9uID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBlLmdldEF0dHJpYnV0ZU5vZGUodCk7CgkJCQkJcmV0dXJuIG4gJiYgbi5zcGVjaWZpZWQgPyBuLnZhbHVlIDogdm9pZCAwCgkJCQl9LAoJCQkJc2V0OiBCdC5zZXQKCQkJfSwgbGUuYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZSA9IHsKCQkJCXNldDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCUJ0LnNldChlLCAiIiA9PT0gdCA/ICExIDogdCwgbikKCQkJCX0KCQkJfSwgbGUuZWFjaChbIndpZHRoIiwgImhlaWdodCJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5hdHRySG9va3NbdF0gPSB7CgkJCQkJc2V0OiBmdW5jdGlvbihlLCBuKSB7CgkJCQkJCXJldHVybiAiIiA9PT0gbiA/IChlLnNldEF0dHJpYnV0ZSh0LCAiYXV0byIpLCBuKSA6IHZvaWQgMAoJCQkJCX0KCQkJCX0KCQkJfSkpLCByZS5zdHlsZSB8fCAobGUuYXR0ckhvb2tzLnN0eWxlID0gewoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuc3R5bGUuY3NzVGV4dCB8fCB2b2lkIDAKCQkJCX0sCgkJCQlzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gZS5zdHlsZS5jc3NUZXh0ID0gdCArICIiCgkJCQl9CgkJCX0pOwoJCQl2YXIgUHQgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSwKCQkJCUl0ID0gL14oPzphfGFyZWEpJC9pOwoJCQlsZS5mbi5leHRlbmQoewoJCQkJcHJvcDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBBZSh0aGlzLCBsZS5wcm9wLCBlLCB0LCBhcmd1bWVudHMubGVuZ3RoID4gMSkKCQkJCX0sCgkJCQlyZW1vdmVQcm9wOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPSBsZS5wcm9wRml4W2VdIHx8IGUsIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJdHJ5IHsKCQkJCQkJCXRoaXNbZV0gPSB2b2lkIDAsIGRlbGV0ZSB0aGlzW2VdCgkJCQkJCX0gY2F0Y2ggKHQpIHt9CgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmV4dGVuZCh7CgkJCQlwcm9wRml4OiB7CgkJCQkJImZvciI6ICJodG1sRm9yIiwKCQkJCQkiY2xhc3MiOiAiY2xhc3NOYW1lIgoJCQkJfSwKCQkJCXByb3A6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciA9IGUubm9kZVR5cGU7CgkJCQkJaWYgKGUgJiYgMyAhPT0gciAmJiA4ICE9PSByICYmIDIgIT09IHIpIHJldHVybiBvID0gMSAhPT0gciB8fCAhbGUuaXNYTUxEb2MoZSksIG8gJiYgKHQgPSBsZS5wcm9wRml4W3RdIHx8IHQsIGEgPSBsZS5wcm9wSG9va3NbdF0pLCB2b2lkIDAgIT09IG4gPyBhICYmICJzZXQiIGluIGEgJiYgdm9pZCAwICE9PSAoaSA9IGEuc2V0KGUsIG4sIHQpKSA/IGkgOiBlW3RdID0gbiA6IGEgJiYgImdldCIgaW4gYSAmJiBudWxsICE9PSAoaSA9IGEuZ2V0KGUsIHQpKSA/IGkgOiBlW3RdCgkJCQl9LAoJCQkJcHJvcEhvb2tzOiB7CgkJCQkJdGFiSW5kZXg6IHsKCQkJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdCA9IGxlLmZpbmQuYXR0cihlLCAidGFiaW5kZXgiKTsKCQkJCQkJCXJldHVybiB0ID8gcGFyc2VJbnQodCwgMTApIDogUHQudGVzdChlLm5vZGVOYW1lKSB8fCBJdC50ZXN0KGUubm9kZU5hbWUpICYmIGUuaHJlZiA/IDAgOiAtMQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KSwgcmUuaHJlZk5vcm1hbGl6ZWQgfHwgbGUuZWFjaChbImhyZWYiLCAic3JjIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLnByb3BIb29rc1t0XSA9IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsIDQpCgkJCQkJfQoJCQkJfQoJCQl9KSwgcmUub3B0U2VsZWN0ZWQgfHwgKGxlLnByb3BIb29rcy5zZWxlY3RlZCA9IHsKCQkJCWdldDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZS5wYXJlbnROb2RlOwoJCQkJCXJldHVybiB0ICYmICh0LnNlbGVjdGVkSW5kZXgsIHQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksIG51bGwKCQkJCX0KCQkJfSksIGxlLmVhY2goWyJ0YWJJbmRleCIsICJyZWFkT25seSIsICJtYXhMZW5ndGgiLCAiY2VsbFNwYWNpbmciLCAiY2VsbFBhZGRpbmciLCAicm93U3BhbiIsICJjb2xTcGFuIiwgInVzZU1hcCIsICJmcmFtZUJvcmRlciIsICJjb250ZW50RWRpdGFibGUiXSwgZnVuY3Rpb24oKSB7CgkJCQlsZS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV0gPSB0aGlzCgkJCX0pLCByZS5lbmN0eXBlIHx8IChsZS5wcm9wRml4LmVuY3R5cGUgPSAiZW5jb2RpbmciKTsKCQkJdmFyIEF0ID0gL1tcdFxyXG5cZl0vZzsKCQkJbGUuZm4uZXh0ZW5kKHsKCQkJCWFkZENsYXNzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMgPSAwLAoJCQkJCQlsID0gdGhpcy5sZW5ndGgsCgkJCQkJCWMgPSAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiBlOwoJCQkJCWlmIChsZS5pc0Z1bmN0aW9uKGUpKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJbGUodGhpcykuYWRkQ2xhc3MoZS5jYWxsKHRoaXMsIHQsIHRoaXMuY2xhc3NOYW1lKSkKCQkJCQl9KTsKCQkJCQlpZiAoYykKCQkJCQkJZm9yICh0ID0gKGUgfHwgIiIpLm1hdGNoKGtlKSB8fCBbXTsgbCA+IHM7IHMrKykKCQkJCQkJCWlmIChuID0gdGhpc1tzXSwgaSA9IDEgPT09IG4ubm9kZVR5cGUgJiYgKG4uY2xhc3NOYW1lID8gKCIgIiArIG4uY2xhc3NOYW1lICsgIiAiKS5yZXBsYWNlKEF0LCAiICIpIDogIiAiKSkgewoJCQkJCQkJCWZvciAobyA9IDA7IGEgPSB0W28rK107KSBpLmluZGV4T2YoIiAiICsgYSArICIgIikgPCAwICYmIChpICs9IGEgKyAiICIpOwoJCQkJCQkJCXIgPSBsZS50cmltKGkpLCBuLmNsYXNzTmFtZSAhPT0gciAmJiAobi5jbGFzc05hbWUgPSByKQoJCQkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9LAoJCQkJcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSwgbywgciwgcyA9IDAsCgkJCQkJCWwgPSB0aGlzLmxlbmd0aCwKCQkJCQkJYyA9IDAgPT09IGFyZ3VtZW50cy5sZW5ndGggfHwgInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgZTsKCQkJCQlpZiAobGUuaXNGdW5jdGlvbihlKSkgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KSB7CgkJCQkJCWxlKHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLCB0LCB0aGlzLmNsYXNzTmFtZSkpCgkJCQkJfSk7CgkJCQkJaWYgKGMpCgkJCQkJCWZvciAodCA9IChlIHx8ICIiKS5tYXRjaChrZSkgfHwgW107IGwgPiBzOyBzKyspCgkJCQkJCQlpZiAobiA9IHRoaXNbc10sIGkgPSAxID09PSBuLm5vZGVUeXBlICYmIChuLmNsYXNzTmFtZSA/ICgiICIgKyBuLmNsYXNzTmFtZSArICIgIikucmVwbGFjZShBdCwgIiAiKSA6ICIiKSkgewoJCQkJCQkJCWZvciAobyA9IDA7IGEgPSB0W28rK107KQoJCQkJCQkJCQlmb3IgKDsgaS5pbmRleE9mKCIgIiArIGEgKyAiICIpID49IDA7KSBpID0gaS5yZXBsYWNlKCIgIiArIGEgKyAiICIsICIgIik7CgkJCQkJCQkJciA9IGUgPyBsZS50cmltKGkpIDogIiIsIG4uY2xhc3NOYW1lICE9PSByICYmIChuLmNsYXNzTmFtZSA9IHIpCgkJCQkJCQl9CgkJCQkJcmV0dXJuIHRoaXMKCQkJCX0sCgkJCQl0b2dnbGVDbGFzczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdHlwZW9mIGU7CgkJCQkJcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgdCAmJiAic3RyaW5nIiA9PT0gbiA/IHQgPyB0aGlzLmFkZENsYXNzKGUpIDogdGhpcy5yZW1vdmVDbGFzcyhlKSA6IGxlLmlzRnVuY3Rpb24oZSkgPyB0aGlzLmVhY2goZnVuY3Rpb24obikgewoJCQkJCQlsZSh0aGlzKS50b2dnbGVDbGFzcyhlLmNhbGwodGhpcywgbiwgdGhpcy5jbGFzc05hbWUsIHQpLCB0KQoJCQkJCX0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQlpZiAoInN0cmluZyIgPT09IG4pCgkJCQkJCQlmb3IgKHZhciB0LCBpID0gMCwgYSA9IGxlKHRoaXMpLCBvID0gZS5tYXRjaChrZSkgfHwgW107IHQgPSBvW2krK107KSBhLmhhc0NsYXNzKHQpID8gYS5yZW1vdmVDbGFzcyh0KSA6IGEuYWRkQ2xhc3ModCk7CgkJCQkJCWVsc2UobiA9PT0gQ2UgfHwgImJvb2xlYW4iID09PSBuKSAmJiAodGhpcy5jbGFzc05hbWUgJiYgbGUuX2RhdGEodGhpcywgIl9fY2xhc3NOYW1lX18iLCB0aGlzLmNsYXNzTmFtZSksIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUgfHwgZSA9PT0gITEgPyAiIiA6IGxlLl9kYXRhKHRoaXMsICJfX2NsYXNzTmFtZV9fIikgfHwgIiIpCgkJCQkJfSkKCQkJCX0sCgkJCQloYXNDbGFzczogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSAiICIgKyBlICsgIiAiLCBuID0gMCwgaSA9IHRoaXMubGVuZ3RoOyBpID4gbjsgbisrKQoJCQkJCQlpZiAoMSA9PT0gdGhpc1tuXS5ub2RlVHlwZSAmJiAoIiAiICsgdGhpc1tuXS5jbGFzc05hbWUgKyAiICIpLnJlcGxhY2UoQXQsICIgIikuaW5kZXhPZih0KSA+PSAwKSByZXR1cm4gITA7CgkJCQkJcmV0dXJuICExCgkJCQl9CgkJCX0pLCBsZS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLCBmdW5jdGlvbihlLCB0KSB7CgkJCQlsZS5mblt0XSA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgPyB0aGlzLm9uKHQsIG51bGwsIGUsIG4pIDogdGhpcy50cmlnZ2VyKHQpCgkJCQl9CgkJCX0pLCBsZS5mbi5leHRlbmQoewoJCQkJaG92ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodCB8fCBlKQoJCQkJfSwKCQkJCWJpbmQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gdGhpcy5vbihlLCBudWxsLCB0LCBuKQoJCQkJfSwKCQkJCXVuYmluZDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0aGlzLm9mZihlLCBudWxsLCB0KQoJCQkJfSwKCQkJCWRlbGVnYXRlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJcmV0dXJuIHRoaXMub24odCwgZSwgbiwgaSkKCQkJCX0sCgkJCQl1bmRlbGVnYXRlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJcmV0dXJuIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLm9mZihlLCAiKioiKSA6IHRoaXMub2ZmKHQsIGUgfHwgIioqIiwgbikKCQkJCX0KCQkJfSk7CgkJCXZhciBxdCA9IGxlLm5vdygpLAoJCQkJRXQgPSAvXD8vLAoJCQkJT3QgPSAvKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nOwoJCQlsZS5wYXJzZUpTT04gPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoYS5KU09OICYmIGEuSlNPTi5wYXJzZSkgcmV0dXJuIGEuSlNPTi5wYXJzZShlICsgIiIpOwoJCQkJdmFyIHQsIG4gPSBudWxsLAoJCQkJCWkgPSBsZS50cmltKGUgKyAiIik7CgkJCQlyZXR1cm4gaSAmJiAhbGUudHJpbShpLnJlcGxhY2UoT3QsIGZ1bmN0aW9uKGUsIGksIGEsIG8pIHsKCQkJCQlyZXR1cm4gdCAmJiBpICYmIChuID0gMCksIDAgPT09IG4gPyBlIDogKHQgPSBhIHx8IGksIG4gKz0gIW8gLSAhYSwgIiIpCgkJCQl9KSkgPyBGdW5jdGlvbigicmV0dXJuICIgKyBpKSgpIDogbGUuZXJyb3IoIkludmFsaWQgSlNPTjogIiArIGUpCgkJCX0sIGxlLnBhcnNlWE1MID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQsIG47CgkJCQlpZiAoIWUgfHwgInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBudWxsOwoJCQkJdHJ5IHsKCQkJCQlhLkRPTVBhcnNlciA/IChuID0gbmV3IERPTVBhcnNlciwgdCA9IG4ucGFyc2VGcm9tU3RyaW5nKGUsICJ0ZXh0L3htbCIpKSA6ICh0ID0gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSwgdC5hc3luYyA9ICJmYWxzZSIsIHQubG9hZFhNTChlKSkKCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQl0ID0gdm9pZCAwCgkJCQl9CgkJCQlyZXR1cm4gdCAmJiB0LmRvY3VtZW50RWxlbWVudCAmJiAhdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggfHwgbGUuZXJyb3IoIkludmFsaWQgWE1MOiAiICsgZSksIHQKCQkJfTsKCQkJdmFyIEx0LCBEdCwgTXQgPSAvIy4qJC8sCgkJCQlSdCA9IC8oWz8mXSlfPVteJl0qLywKCQkJCUZ0ID0gL14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSwKCQkJCSR0ID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sCgkJCQlXdCA9IC9eKD86R0VUfEhFQUQpJC8sCgkJCQlIdCA9IC9eXC9cLy8sCgkJCQlVdCA9IC9eKFtcdy4rLV0rOikoPzpcL1wvKD86W15cLz8jXSpAfCkoW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLAoJCQkJWXQgPSB7fSwKCQkJCUd0ID0ge30sCgkJCQlYdCA9ICIqLyIuY29uY2F0KCIqIik7CgkJCXRyeSB7CgkJCQlEdCA9IGxvY2F0aW9uLmhyZWYKCQkJfSBjYXRjaCAoSnQpIHsKCQkJCUR0ID0geGUuY3JlYXRlRWxlbWVudCgiYSIpLCBEdC5ocmVmID0gIiIsIER0ID0gRHQuaHJlZgoJCQl9CgkJCUx0ID0gVXQuZXhlYyhEdC50b0xvd2VyQ2FzZSgpKSB8fCBbXSwgbGUuZXh0ZW5kKHsKCQkJCWFjdGl2ZTogMCwKCQkJCWxhc3RNb2RpZmllZDoge30sCgkJCQlldGFnOiB7fSwKCQkJCWFqYXhTZXR0aW5nczogewoJCQkJCXVybDogRHQsCgkJCQkJdHlwZTogIkdFVCIsCgkJCQkJaXNMb2NhbDogJHQudGVzdChMdFsxXSksCgkJCQkJZ2xvYmFsOiAhMCwKCQkJCQlwcm9jZXNzRGF0YTogITAsCgkJCQkJYXN5bmM6ICEwLAoJCQkJCWNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IiwKCQkJCQlhY2NlcHRzOiB7CgkJCQkJCSIqIjogWHQsCgkJCQkJCXRleHQ6ICJ0ZXh0L3BsYWluIiwKCQkJCQkJaHRtbDogInRleHQvaHRtbCIsCgkJCQkJCXhtbDogImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLAoJCQkJCQlqc29uOiAiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IgoJCQkJCX0sCgkJCQkJY29udGVudHM6IHsKCQkJCQkJeG1sOiAveG1sLywKCQkJCQkJaHRtbDogL2h0bWwvLAoJCQkJCQlqc29uOiAvanNvbi8KCQkJCQl9LAoJCQkJCXJlc3BvbnNlRmllbGRzOiB7CgkJCQkJCXhtbDogInJlc3BvbnNlWE1MIiwKCQkJCQkJdGV4dDogInJlc3BvbnNlVGV4dCIsCgkJCQkJCWpzb246ICJyZXNwb25zZUpTT04iCgkJCQkJfSwKCQkJCQljb252ZXJ0ZXJzOiB7CgkJCQkJCSIqIHRleHQiOiBTdHJpbmcsCgkJCQkJCSJ0ZXh0IGh0bWwiOiAhMCwKCQkJCQkJInRleHQganNvbiI6IGxlLnBhcnNlSlNPTiwKCQkJCQkJInRleHQgeG1sIjogbGUucGFyc2VYTUwKCQkJCQl9LAoJCQkJCWZsYXRPcHRpb25zOiB7CgkJCQkJCXVybDogITAsCgkJCQkJCWNvbnRleHQ6ICEwCgkJCQkJfQoJCQkJfSwKCQkJCWFqYXhTZXR1cDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0ID8gVShVKGUsIGxlLmFqYXhTZXR0aW5ncyksIHQpIDogVShsZS5hamF4U2V0dGluZ3MsIGUpCgkJCQl9LAoJCQkJYWpheFByZWZpbHRlcjogVyhZdCksCgkJCQlhamF4VHJhbnNwb3J0OiBXKEd0KSwKCQkJCWFqYXg6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmdW5jdGlvbiBuKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEsIGQsIF8sIHgsIHYsIHkgPSB0OwoJCQkJCQkyICE9PSB3ICYmICh3ID0gMiwgcyAmJiBjbGVhclRpbWVvdXQocyksIGMgPSB2b2lkIDAsIHIgPSBpIHx8ICIiLCBiLnJlYWR5U3RhdGUgPSBlID4gMCA/IDQgOiAwLCBhID0gZSA+PSAyMDAgJiYgMzAwID4gZSB8fCAzMDQgPT09IGUsIG4gJiYgKHggPSBZKHAsIGIsIG4pKSwgeCA9IEcocCwgeCwgYiwgYSksIGEgPyAocC5pZk1vZGlmaWVkICYmICh2ID0gYi5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLCB2ICYmIChsZS5sYXN0TW9kaWZpZWRbb10gPSB2KSwgdiA9IGIuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSwgdiAmJiAobGUuZXRhZ1tvXSA9IHYpKSwgMjA0ID09PSBlIHx8ICJIRUFEIiA9PT0gcC50eXBlID8geSA9ICJub2NvbnRlbnQiIDogMzA0ID09PSBlID8geSA9ICJub3Rtb2RpZmllZCIgOiAoeSA9IHguc3RhdGUsIGQgPSB4LmRhdGEsIF8gPSB4LmVycm9yLCBhID0gIV8pKSA6IChfID0geSwgKGUgfHwgIXkpICYmICh5ID0gImVycm9yIiwgMCA+IGUgJiYgKGUgPSAwKSkpLCBiLnN0YXR1cyA9IGUsIGIuc3RhdHVzVGV4dCA9ICh0IHx8IHkpICsgIiIsIGEgPyBtLnJlc29sdmVXaXRoKGgsIFtkLCB5LCBiXSkgOiBtLnJlamVjdFdpdGgoaCwgW2IsIHksIF9dKSwgYi5zdGF0dXNDb2RlKGcpLCBnID0gdm9pZCAwLCBsICYmIHUudHJpZ2dlcihhID8gImFqYXhTdWNjZXNzIiA6ICJhamF4RXJyb3IiLCBbYiwgcCwgYSA/IGQgOiBfXSksIGYuZmlyZVdpdGgoaCwgW2IsIHldKSwgbCAmJiAodS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLCBbYiwgcF0pLCAtLWxlLmFjdGl2ZSB8fCBsZS5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSkKCQkJCQl9CgkJCQkJIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgKHQgPSBlLCBlID0gdm9pZCAwKSwgdCA9IHQgfHwge307CgkJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAgPSBsZS5hamF4U2V0dXAoe30sIHQpLAoJCQkJCQloID0gcC5jb250ZXh0IHx8IHAsCgkJCQkJCXUgPSBwLmNvbnRleHQgJiYgKGgubm9kZVR5cGUgfHwgaC5qcXVlcnkpID8gbGUoaCkgOiBsZS5ldmVudCwKCQkJCQkJbSA9IGxlLkRlZmVycmVkKCksCgkJCQkJCWYgPSBsZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksCgkJCQkJCWcgPSBwLnN0YXR1c0NvZGUgfHwge30sCgkJCQkJCV8gPSB7fSwKCQkJCQkJeCA9IHt9LAoJCQkJCQl3ID0gMCwKCQkJCQkJdiA9ICJjYW5jZWxlZCIsCgkJCQkJCWIgPSB7CgkJCQkJCQlyZWFkeVN0YXRlOiAwLAoJCQkJCQkJZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQl2YXIgdDsKCQkJCQkJCQlpZiAoMiA9PT0gdykgewoJCQkJCQkJCQlpZiAoIWQpCgkJCQkJCQkJCQlmb3IgKGQgPSB7fTsgdCA9IEZ0LmV4ZWMocik7KSBkW3RbMV0udG9Mb3dlckNhc2UoKV0gPSB0WzJdOwoJCQkJCQkJCQl0ID0gZFtlLnRvTG93ZXJDYXNlKCldCgkJCQkJCQkJfQoJCQkJCQkJCXJldHVybiBudWxsID09IHQgPyBudWxsIDogdAoJCQkJCQkJfSwKCQkJCQkJCWdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIDIgPT09IHcgPyByIDogbnVsbAoJCQkJCQkJfSwKCQkJCQkJCXNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQl2YXIgbiA9IGUudG9Mb3dlckNhc2UoKTsKCQkJCQkJCQlyZXR1cm4gdyB8fCAoZSA9IHhbbl0gPSB4W25dIHx8IGUsIF9bZV0gPSB0KSwgdGhpcwoJCQkJCQkJfSwKCQkJCQkJCW92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gdyB8fCAocC5taW1lVHlwZSA9IGUpLCB0aGlzCgkJCQkJCQl9LAoJCQkJCQkJc3RhdHVzQ29kZTogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXZhciB0OwoJCQkJCQkJCWlmIChlKQoJCQkJCQkJCQlpZiAoMiA+IHcpCgkJCQkJCQkJCQlmb3IgKHQgaW4gZSkgZ1t0XSA9IFtnW3RdLCBlW3RdXTsKCQkJCQkJCQkJZWxzZSBiLmFsd2F5cyhlW2Iuc3RhdHVzXSk7CgkJCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQkJCX0sCgkJCQkJCQlhYm9ydDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCXZhciB0ID0gZSB8fCB2OwoJCQkJCQkJCXJldHVybiBjICYmIGMuYWJvcnQodCksIG4oMCwgdCksIHRoaXMKCQkJCQkJCX0KCQkJCQkJfTsKCQkJCQlpZiAobS5wcm9taXNlKGIpLmNvbXBsZXRlID0gZi5hZGQsIGIuc3VjY2VzcyA9IGIuZG9uZSwgYi5lcnJvciA9IGIuZmFpbCwgcC51cmwgPSAoKGUgfHwgcC51cmwgfHwgRHQpICsgIiIpLnJlcGxhY2UoTXQsICIiKS5yZXBsYWNlKEh0LCBMdFsxXSArICIvLyIpLCBwLnR5cGUgPSB0Lm1ldGhvZCB8fCB0LnR5cGUgfHwgcC5tZXRob2QgfHwgcC50eXBlLCBwLmRhdGFUeXBlcyA9IGxlLnRyaW0ocC5kYXRhVHlwZSB8fCAiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goa2UpIHx8IFsiIl0sIG51bGwgPT0gcC5jcm9zc0RvbWFpbiAmJiAoaSA9IFV0LmV4ZWMocC51cmwudG9Mb3dlckNhc2UoKSksIHAuY3Jvc3NEb21haW4gPSAhKCFpIHx8IGlbMV0gPT09IEx0WzFdICYmIGlbMl0gPT09IEx0WzJdICYmIChpWzNdIHx8ICgiaHR0cDoiID09PSBpWzFdID8gIjgwIiA6ICI0NDMiKSkgPT09IChMdFszXSB8fCAoImh0dHA6IiA9PT0gTHRbMV0gPyAiODAiIDogIjQ0MyIpKSkpLCBwLmRhdGEgJiYgcC5wcm9jZXNzRGF0YSAmJiAic3RyaW5nIiAhPSB0eXBlb2YgcC5kYXRhICYmIChwLmRhdGEgPSBsZS5wYXJhbShwLmRhdGEsIHAudHJhZGl0aW9uYWwpKSwgSChZdCwgcCwgdCwgYiksIDIgPT09IHcpIHJldHVybiBiOwoJCQkJCWwgPSBsZS5ldmVudCAmJiBwLmdsb2JhbCwgbCAmJiAwID09PSBsZS5hY3RpdmUrKyAmJiBsZS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSwgcC50eXBlID0gcC50eXBlLnRvVXBwZXJDYXNlKCksIHAuaGFzQ29udGVudCA9ICFXdC50ZXN0KHAudHlwZSksIG8gPSBwLnVybCwgcC5oYXNDb250ZW50IHx8IChwLmRhdGEgJiYgKG8gPSBwLnVybCArPSAoRXQudGVzdChvKSA/ICImIiA6ICI/IikgKyBwLmRhdGEsIGRlbGV0ZSBwLmRhdGEpLCBwLmNhY2hlID09PSAhMSAmJiAocC51cmwgPSBSdC50ZXN0KG8pID8gby5yZXBsYWNlKFJ0LCAiJDFfPSIgKyBxdCsrKSA6IG8gKyAoRXQudGVzdChvKSA/ICImIiA6ICI/IikgKyAiXz0iICsgcXQrKykpLCBwLmlmTW9kaWZpZWQgJiYgKGxlLmxhc3RNb2RpZmllZFtvXSAmJiBiLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIiwgbGUubGFzdE1vZGlmaWVkW29dKSwgbGUuZXRhZ1tvXSAmJiBiLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLCBsZS5ldGFnW29dKSksIChwLmRhdGEgJiYgcC5oYXNDb250ZW50ICYmIHAuY29udGVudFR5cGUgIT09ICExIHx8IHQuY29udGVudFR5cGUpICYmIGIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgcC5jb250ZW50VHlwZSksIGIuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwgcC5kYXRhVHlwZXNbMF0gJiYgcC5hY2NlcHRzW3AuZGF0YVR5cGVzWzBdXSA/IHAuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0gKyAoIioiICE9PSBwLmRhdGFUeXBlc1swXSA/ICIsICIgKyBYdCArICI7IHE9MC4wMSIgOiAiIikgOiBwLmFjY2VwdHNbIioiXSk7CgkJCQkJZm9yIChhIGluIHAuaGVhZGVycykgYi5zZXRSZXF1ZXN0SGVhZGVyKGEsIHAuaGVhZGVyc1thXSk7CgkJCQkJaWYgKHAuYmVmb3JlU2VuZCAmJiAocC5iZWZvcmVTZW5kLmNhbGwoaCwgYiwgcCkgPT09ICExIHx8IDIgPT09IHcpKSByZXR1cm4gYi5hYm9ydCgpOwoJCQkJCXYgPSAiYWJvcnQiOwoJCQkJCWZvciAoYSBpbiB7CgkJCQkJCXN1Y2Nlc3M6IDEsCgkJCQkJCWVycm9yOiAxLAoJCQkJCQljb21wbGV0ZTogMQoJCQkJCX0pIGJbYV0ocFthXSk7CgkJCQkJaWYgKGMgPSBIKEd0LCBwLCB0LCBiKSkgewoJCQkJCQliLnJlYWR5U3RhdGUgPSAxLCBsICYmIHUudHJpZ2dlcigiYWpheFNlbmQiLCBbYiwgcF0pLCBwLmFzeW5jICYmIHAudGltZW91dCA+IDAgJiYgKHMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJYi5hYm9ydCgidGltZW91dCIpCgkJCQkJCX0sIHAudGltZW91dCkpOwoJCQkJCQl0cnkgewoJCQkJCQkJdyA9IDEsIGMuc2VuZChfLCBuKQoJCQkJCQl9IGNhdGNoICh5KSB7CgkJCQkJCQlpZiAoISgyID4gdykpIHRocm93IHk7CgkJCQkJCQluKC0xLCB5KQoJCQkJCQl9CgkJCQkJfSBlbHNlIG4oLTEsICJObyBUcmFuc3BvcnQiKTsKCQkJCQlyZXR1cm4gYgoJCQkJfSwKCQkJCWdldEpTT046IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQlyZXR1cm4gbGUuZ2V0KGUsIHQsIG4sICJqc29uIikKCQkJCX0sCgkJCQlnZXRTY3JpcHQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gbGUuZ2V0KGUsIHZvaWQgMCwgdCwgInNjcmlwdCIpCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsiZ2V0IiwgInBvc3QiXSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGVbdF0gPSBmdW5jdGlvbihlLCBuLCBpLCBhKSB7CgkJCQkJcmV0dXJuIGxlLmlzRnVuY3Rpb24obikgJiYgKGEgPSBhIHx8IGksIGkgPSBuLCBuID0gdm9pZCAwKSwgbGUuYWpheCh7CgkJCQkJCXVybDogZSwKCQkJCQkJdHlwZTogdCwKCQkJCQkJZGF0YVR5cGU6IGEsCgkJCQkJCWRhdGE6IG4sCgkJCQkJCXN1Y2Nlc3M6IGkKCQkJCQl9KQoJCQkJfQoJCQl9KSwgbGUuX2V2YWxVcmwgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gbGUuYWpheCh7CgkJCQkJdXJsOiBlLAoJCQkJCXR5cGU6ICJHRVQiLAoJCQkJCWRhdGFUeXBlOiAic2NyaXB0IiwKCQkJCQlhc3luYzogITEsCgkJCQkJZ2xvYmFsOiAhMSwKCQkJCQkidGhyb3dzIjogITAKCQkJCX0pCgkJCX0sIGxlLmZuLmV4dGVuZCh7CgkJCQl3cmFwQWxsOiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGxlLmlzRnVuY3Rpb24oZSkpIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCkgewoJCQkJCQlsZSh0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLCB0KSkKCQkJCQl9KTsKCQkJCQlpZiAodGhpc1swXSkgewoJCQkJCQl2YXIgdCA9IGxlKGUsIHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApOwoJCQkJCQl0aGlzWzBdLnBhcmVudE5vZGUgJiYgdC5pbnNlcnRCZWZvcmUodGhpc1swXSksIHQubWFwKGZ1bmN0aW9uKCkgewoJCQkJCQkJZm9yICh2YXIgZSA9IHRoaXM7IGUuZmlyc3RDaGlsZCAmJiAxID09PSBlLmZpcnN0Q2hpbGQubm9kZVR5cGU7KSBlID0gZS5maXJzdENoaWxkOwoJCQkJCQkJcmV0dXJuIGUKCQkJCQkJfSkuYXBwZW5kKHRoaXMpCgkJCQkJfQoJCQkJCXJldHVybiB0aGlzCgkJCQl9LAoJCQkJd3JhcElubmVyOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGxlLmlzRnVuY3Rpb24oZSkgPyB0aGlzLmVhY2goZnVuY3Rpb24odCkgewoJCQkJCQlsZSh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsIHQpKQoJCQkJCX0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGxlKHRoaXMpLAoJCQkJCQkJbiA9IHQuY29udGVudHMoKTsKCQkJCQkJbi5sZW5ndGggPyBuLndyYXBBbGwoZSkgOiB0LmFwcGVuZChlKQoJCQkJCX0pCgkJCQl9LAoJCQkJd3JhcDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbGUuaXNGdW5jdGlvbihlKTsKCQkJCQlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pIHsKCQkJCQkJbGUodGhpcykud3JhcEFsbCh0ID8gZS5jYWxsKHRoaXMsIG4pIDogZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXVud3JhcDogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJbGUubm9kZU5hbWUodGhpcywgImJvZHkiKSB8fCBsZSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpCgkJCQkJfSkuZW5kKCkKCQkJCX0KCQkJfSksIGxlLmV4cHIuZmlsdGVycy5oaWRkZW4gPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gZS5vZmZzZXRXaWR0aCA8PSAwICYmIGUub2Zmc2V0SGVpZ2h0IDw9IDAgfHwgIXJlLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpICYmICJub25lIiA9PT0gKGUuc3R5bGUgJiYgZS5zdHlsZS5kaXNwbGF5IHx8IGxlLmNzcyhlLCAiZGlzcGxheSIpKQoJCQl9LCBsZS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiAhbGUuZXhwci5maWx0ZXJzLmhpZGRlbihlKQoJCQl9OwoJCQl2YXIgWnQgPSAvJTIwL2csCgkJCQlWdCA9IC9cW1xdJC8sCgkJCQlLdCA9IC9ccj9cbi9nLAoJCQkJUXQgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksCgkJCQllbiA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTsKCQkJbGUucGFyYW0gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IFtdLAoJCQkJCWEgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXQgPSBsZS5pc0Z1bmN0aW9uKHQpID8gdCgpIDogbnVsbCA9PSB0ID8gIiIgOiB0LCBpW2kubGVuZ3RoXSA9IGVuY29kZVVSSUNvbXBvbmVudChlKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCh0KQoJCQkJCX07CgkJCQlpZiAodm9pZCAwID09PSB0ICYmICh0ID0gbGUuYWpheFNldHRpbmdzICYmIGxlLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksIGxlLmlzQXJyYXkoZSkgfHwgZS5qcXVlcnkgJiYgIWxlLmlzUGxhaW5PYmplY3QoZSkpIGxlLmVhY2goZSwgZnVuY3Rpb24oKSB7CgkJCQkJYSh0aGlzLm5hbWUsIHRoaXMudmFsdWUpCgkJCQl9KTsKCQkJCWVsc2UKCQkJCQlmb3IgKG4gaW4gZSkgWChuLCBlW25dLCB0LCBhKTsKCQkJCXJldHVybiBpLmpvaW4oIiYiKS5yZXBsYWNlKFp0LCAiKyIpCgkJCX0sIGxlLmZuLmV4dGVuZCh7CgkJCQlzZXJpYWxpemU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsZS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpCgkJCQl9LAoJCQkJc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBsZS5wcm9wKHRoaXMsICJlbGVtZW50cyIpOwoJCQkJCQlyZXR1cm4gZSA/IGxlLm1ha2VBcnJheShlKSA6IHRoaXMKCQkJCQl9KS5maWx0ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpcy50eXBlOwoJCQkJCQlyZXR1cm4gdGhpcy5uYW1lICYmICFsZSh0aGlzKS5pcygiOmRpc2FibGVkIikgJiYgZW4udGVzdCh0aGlzLm5vZGVOYW1lKSAmJiAhUXQudGVzdChlKSAmJiAodGhpcy5jaGVja2VkIHx8ICFxZS50ZXN0KGUpKQoJCQkJCX0pLm1hcChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gbGUodGhpcykudmFsKCk7CgkJCQkJCXJldHVybiBudWxsID09IG4gPyBudWxsIDogbGUuaXNBcnJheShuKSA/IGxlLm1hcChuLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCW5hbWU6IHQubmFtZSwKCQkJCQkJCQl2YWx1ZTogZS5yZXBsYWNlKEt0LCAiXHJcbiIpCgkJCQkJCQl9CgkJCQkJCX0pIDogewoJCQkJCQkJbmFtZTogdC5uYW1lLAoJCQkJCQkJdmFsdWU6IG4ucmVwbGFjZShLdCwgIlxyXG4iKQoJCQkJCQl9CgkJCQkJfSkuZ2V0KCkKCQkJCX0KCQkJfSksIGxlLmFqYXhTZXR0aW5ncy54aHIgPSB2b2lkIDAgIT09IGEuQWN0aXZlWE9iamVjdCA/IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuICF0aGlzLmlzTG9jYWwgJiYgL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSAmJiBKKCkgfHwgWigpCgkJCX0gOiBKOwoJCQl2YXIgdG4gPSAwLAoJCQkJbm4gPSB7fSwKCQkJCWFuID0gbGUuYWpheFNldHRpbmdzLnhocigpOwoJCQlhLmF0dGFjaEV2ZW50ICYmIGEuYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwgZnVuY3Rpb24oKSB7CgkJCQlmb3IgKHZhciBlIGluIG5uKSBubltlXSh2b2lkIDAsICEwKQoJCQl9KSwgcmUuY29ycyA9ICEhYW4gJiYgIndpdGhDcmVkZW50aWFscyIgaW4gYW4sIGFuID0gcmUuYWpheCA9ICEhYW4sIGFuICYmIGxlLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSkgewoJCQkJaWYgKCFlLmNyb3NzRG9tYWluIHx8IHJlLmNvcnMpIHsKCQkJCQl2YXIgdDsKCQkJCQlyZXR1cm4gewoJCQkJCQlzZW5kOiBmdW5jdGlvbihuLCBpKSB7CgkJCQkJCQl2YXIgYSwgbyA9IGUueGhyKCksCgkJCQkJCQkJciA9ICsrdG47CgkJCQkJCQlpZiAoby5vcGVuKGUudHlwZSwgZS51cmwsIGUuYXN5bmMsIGUudXNlcm5hbWUsIGUucGFzc3dvcmQpLCBlLnhockZpZWxkcykKCQkJCQkJCQlmb3IgKGEgaW4gZS54aHJGaWVsZHMpIG9bYV0gPSBlLnhockZpZWxkc1thXTsKCQkJCQkJCWUubWltZVR5cGUgJiYgby5vdmVycmlkZU1pbWVUeXBlICYmIG8ub3ZlcnJpZGVNaW1lVHlwZShlLm1pbWVUeXBlKSwgZS5jcm9zc0RvbWFpbiB8fCBuWyJYLVJlcXVlc3RlZC1XaXRoIl0gfHwgKG5bIlgtUmVxdWVzdGVkLVdpdGgiXSA9ICJYTUxIdHRwUmVxdWVzdCIpOwoJCQkJCQkJZm9yIChhIGluIG4pIHZvaWQgMCAhPT0gblthXSAmJiBvLnNldFJlcXVlc3RIZWFkZXIoYSwgblthXSArICIiKTsKCQkJCQkJCW8uc2VuZChlLmhhc0NvbnRlbnQgJiYgZS5kYXRhIHx8IG51bGwpLCB0ID0gZnVuY3Rpb24obiwgYSkgewoJCQkJCQkJCXZhciBzLCBsLCBjOwoJCQkJCQkJCWlmICh0ICYmIChhIHx8IDQgPT09IG8ucmVhZHlTdGF0ZSkpCgkJCQkJCQkJCWlmIChkZWxldGUgbm5bcl0sIHQgPSB2b2lkIDAsIG8ub25yZWFkeXN0YXRlY2hhbmdlID0gbGUubm9vcCwgYSkgNCAhPT0gby5yZWFkeVN0YXRlICYmIG8uYWJvcnQoKTsKCQkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCQljID0ge30sIHMgPSBvLnN0YXR1cywgInN0cmluZyIgPT0gdHlwZW9mIG8ucmVzcG9uc2VUZXh0ICYmIChjLnRleHQgPSBvLnJlc3BvbnNlVGV4dCk7CgkJCQkJCQkJCQl0cnkgewoJCQkJCQkJCQkJCWwgPSBvLnN0YXR1c1RleHQKCQkJCQkJCQkJCX0gY2F0Y2ggKGQpIHsKCQkJCQkJCQkJCQlsID0gIiIKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCXMgfHwgIWUuaXNMb2NhbCB8fCBlLmNyb3NzRG9tYWluID8gMTIyMyA9PT0gcyAmJiAocyA9IDIwNCkgOiBzID0gYy50ZXh0ID8gMjAwIDogNDA0CgkJCQkJCQkJCX0KCQkJCQkJCQljICYmIGkocywgbCwgYywgby5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkKCQkJCQkJCX0sIGUuYXN5bmMgPyA0ID09PSBvLnJlYWR5U3RhdGUgPyBzZXRUaW1lb3V0KHQpIDogby5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBubltyXSA9IHQgOiB0KCkKCQkJCQkJfSwKCQkJCQkJYWJvcnQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJdCAmJiB0KHZvaWQgMCwgITApCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pLCBsZS5hamF4U2V0dXAoewoJCQkJYWNjZXB0czogewoJCQkJCXNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0IgoJCQkJfSwKCQkJCWNvbnRlbnRzOiB7CgkJCQkJc2NyaXB0OiAvKD86amF2YXxlY21hKXNjcmlwdC8KCQkJCX0sCgkJCQljb252ZXJ0ZXJzOiB7CgkJCQkJInRleHQgc2NyaXB0IjogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gbGUuZ2xvYmFsRXZhbChlKSwgZQoJCQkJCX0KCQkJCX0KCQkJfSksIGxlLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsIGZ1bmN0aW9uKGUpIHsKCQkJCXZvaWQgMCA9PT0gZS5jYWNoZSAmJiAoZS5jYWNoZSA9ICExKSwgZS5jcm9zc0RvbWFpbiAmJiAoZS50eXBlID0gIkdFVCIsIGUuZ2xvYmFsID0gITEpCgkJCX0pLCBsZS5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLCBmdW5jdGlvbihlKSB7CgkJCQlpZiAoZS5jcm9zc0RvbWFpbikgewoJCQkJCXZhciB0LCBuID0geGUuaGVhZCB8fCBsZSgiaGVhZCIpWzBdIHx8IHhlLmRvY3VtZW50RWxlbWVudDsKCQkJCQlyZXR1cm4gewoJCQkJCQlzZW5kOiBmdW5jdGlvbihpLCBhKSB7CgkJCQkJCQl0ID0geGUuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksIHQuYXN5bmMgPSAhMCwgZS5zY3JpcHRDaGFyc2V0ICYmICh0LmNoYXJzZXQgPSBlLnNjcmlwdENoYXJzZXQpLCB0LnNyYyA9IGUudXJsLCB0Lm9ubG9hZCA9IHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCQkJCShuIHx8ICF0LnJlYWR5U3RhdGUgfHwgL2xvYWRlZHxjb21wbGV0ZS8udGVzdCh0LnJlYWR5U3RhdGUpKSAmJiAodC5vbmxvYWQgPSB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwsIHQucGFyZW50Tm9kZSAmJiB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksIHQgPSBudWxsLCBuIHx8IGEoMjAwLCAic3VjY2VzcyIpKQoJCQkJCQkJfSwgbi5pbnNlcnRCZWZvcmUodCwgbi5maXJzdENoaWxkKQoJCQkJCQl9LAoJCQkJCQlhYm9ydDogZnVuY3Rpb24oKSB7CgkJCQkJCQl0ICYmIHQub25sb2FkKHZvaWQgMCwgITApCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0pOwoJCQl2YXIgb24gPSBbXSwKCQkJCXJuID0gLyg9KVw/KD89JnwkKXxcP1w/LzsKCQkJbGUuYWpheFNldHVwKHsKCQkJCWpzb25wOiAiY2FsbGJhY2siLAoJCQkJanNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBvbi5wb3AoKSB8fCBsZS5leHBhbmRvICsgIl8iICsgcXQrKzsKCQkJCQlyZXR1cm4gdGhpc1tlXSA9ICEwLCBlCgkJCQl9CgkJCX0pLCBsZS5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIiwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJdmFyIGksIG8sIHIsIHMgPSBlLmpzb25wICE9PSAhMSAmJiAocm4udGVzdChlLnVybCkgPyAidXJsIiA6ICJzdHJpbmciID09IHR5cGVvZiBlLmRhdGEgJiYgIShlLmNvbnRlbnRUeXBlIHx8ICIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSAmJiBybi50ZXN0KGUuZGF0YSkgJiYgImRhdGEiKTsKCQkJCXJldHVybiBzIHx8ICJqc29ucCIgPT09IGUuZGF0YVR5cGVzWzBdID8gKGkgPSBlLmpzb25wQ2FsbGJhY2sgPSBsZS5pc0Z1bmN0aW9uKGUuanNvbnBDYWxsYmFjaykgPyBlLmpzb25wQ2FsbGJhY2soKSA6IGUuanNvbnBDYWxsYmFjaywgcyA/IGVbc10gPSBlW3NdLnJlcGxhY2Uocm4sICIkMSIgKyBpKSA6IGUuanNvbnAgIT09ICExICYmIChlLnVybCArPSAoRXQudGVzdChlLnVybCkgPyAiJiIgOiAiPyIpICsgZS5qc29ucCArICI9IiArIGkpLCBlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl0gPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gciB8fCBsZS5lcnJvcihpICsgIiB3YXMgbm90IGNhbGxlZCIpLCByWzBdCgkJCQl9LCBlLmRhdGFUeXBlc1swXSA9ICJqc29uIiwgbyA9IGFbaV0sIGFbaV0gPSBmdW5jdGlvbigpIHsKCQkJCQlyID0gYXJndW1lbnRzCgkJCQl9LCBuLmFsd2F5cyhmdW5jdGlvbigpIHsKCQkJCQlhW2ldID0gbywgZVtpXSAmJiAoZS5qc29ucENhbGxiYWNrID0gdC5qc29ucENhbGxiYWNrLCBvbi5wdXNoKGkpKSwgciAmJiBsZS5pc0Z1bmN0aW9uKG8pICYmIG8oclswXSksIHIgPSBvID0gdm9pZCAwCgkJCQl9KSwgInNjcmlwdCIpIDogdm9pZCAwCgkJCX0pLCBsZS5wYXJzZUhUTUwgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQlpZiAoIWUgfHwgInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBudWxsOwoJCQkJImJvb2xlYW4iID09IHR5cGVvZiB0ICYmIChuID0gdCwgdCA9ICExKSwgdCA9IHQgfHwgeGU7CgkJCQl2YXIgaSA9IGZlLmV4ZWMoZSksCgkJCQkJYSA9ICFuICYmIFtdOwoJCQkJcmV0dXJuIGkgPyBbdC5jcmVhdGVFbGVtZW50KGlbMV0pXSA6IChpID0gbGUuYnVpbGRGcmFnbWVudChbZV0sIHQsIGEpLCBhICYmIGEubGVuZ3RoICYmIGxlKGEpLnJlbW92ZSgpLCBsZS5tZXJnZShbXSwgaS5jaGlsZE5vZGVzKSkKCQkJfTsKCQkJdmFyIHNuID0gbGUuZm4ubG9hZDsKCQkJbGUuZm4ubG9hZCA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCWlmICgic3RyaW5nIiAhPSB0eXBlb2YgZSAmJiBzbikgcmV0dXJuIHNuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJCQl2YXIgaSwgYSwgbywgciA9IHRoaXMsCgkJCQkJcyA9IGUuaW5kZXhPZigiICIpOwoJCQkJcmV0dXJuIHMgPj0gMCAmJiAoaSA9IGxlLnRyaW0oZS5zbGljZShzLCBlLmxlbmd0aCkpLCBlID0gZS5zbGljZSgwLCBzKSksIGxlLmlzRnVuY3Rpb24odCkgPyAobiA9IHQsIHQgPSB2b2lkIDApIDogdCAmJiAib2JqZWN0IiA9PSB0eXBlb2YgdCAmJiAobyA9ICJQT1NUIiksIHIubGVuZ3RoID4gMCAmJiBsZS5hamF4KHsKCQkJCQl1cmw6IGUsCgkJCQkJdHlwZTogbywKCQkJCQlkYXRhVHlwZTogImh0bWwiLAoJCQkJCWRhdGE6IHQKCQkJCX0pLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCWEgPSBhcmd1bWVudHMsIHIuaHRtbChpID8gbGUoIjxkaXY+IikuYXBwZW5kKGxlLnBhcnNlSFRNTChlKSkuZmluZChpKSA6IGUpCgkJCQl9KS5jb21wbGV0ZShuICYmIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyLmVhY2gobiwgYSB8fCBbZS5yZXNwb25zZVRleHQsIHQsIGVdKQoJCQkJfSksIHRoaXMKCQkJfSwgbGUuZWFjaChbImFqYXhTdGFydCIsICJhamF4U3RvcCIsICJhamF4Q29tcGxldGUiLCAiYWpheEVycm9yIiwgImFqYXhTdWNjZXNzIiwgImFqYXhTZW5kIl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWxlLmZuW3RdID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiB0aGlzLm9uKHQsIGUpCgkJCQl9CgkJCX0pLCBsZS5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gbGUuZ3JlcChsZS50aW1lcnMsIGZ1bmN0aW9uKHQpIHsKCQkJCQlyZXR1cm4gZSA9PT0gdC5lbGVtCgkJCQl9KS5sZW5ndGgKCQkJfTsKCQkJdmFyIGxuID0gYS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkJCXJldHVybiBsZS5vZmZzZXQgPSB7CgkJCQlzZXRPZmZzZXQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCwgYywgZCA9IGxlLmNzcyhlLCAicG9zaXRpb24iKSwKCQkJCQkJcCA9IGxlKGUpLAoJCQkJCQloID0ge307CgkJCQkJInN0YXRpYyIgPT09IGQgJiYgKGUuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiKSwgcyA9IHAub2Zmc2V0KCksIG8gPSBsZS5jc3MoZSwgInRvcCIpLCBsID0gbGUuY3NzKGUsICJsZWZ0IiksIGMgPSAoImFic29sdXRlIiA9PT0gZCB8fCAiZml4ZWQiID09PSBkKSAmJiBsZS5pbkFycmF5KCJhdXRvIiwgW28sIGxdKSA+IC0xLCBjID8gKGkgPSBwLnBvc2l0aW9uKCksIHIgPSBpLnRvcCwgYSA9IGkubGVmdCkgOiAociA9IHBhcnNlRmxvYXQobykgfHwgMCwgYSA9IHBhcnNlRmxvYXQobCkgfHwgMCksIGxlLmlzRnVuY3Rpb24odCkgJiYgKHQgPSB0LmNhbGwoZSwgbiwgcykpLCBudWxsICE9IHQudG9wICYmIChoLnRvcCA9IHQudG9wIC0gcy50b3AgKyByKSwgbnVsbCAhPSB0LmxlZnQgJiYgKGgubGVmdCA9IHQubGVmdCAtIHMubGVmdCArIGEpLCAidXNpbmciIGluIHQgPyB0LnVzaW5nLmNhbGwoZSwgaCkgOiBwLmNzcyhoKQoJCQkJfQoJCQl9LCBsZS5mbi5leHRlbmQoewoJCQkJb2Zmc2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB2b2lkIDAgPT09IGUgPyB0aGlzIDogdGhpcy5lYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJbGUub2Zmc2V0LnNldE9mZnNldCh0aGlzLCBlLCB0KQoJCQkJCX0pOwoJCQkJCXZhciB0LCBuLCBpID0gewoJCQkJCQkJdG9wOiAwLAoJCQkJCQkJbGVmdDogMAoJCQkJCQl9LAoJCQkJCQlhID0gdGhpc1swXSwKCQkJCQkJbyA9IGEgJiYgYS5vd25lckRvY3VtZW50OwoJCQkJCWlmIChvKSByZXR1cm4gdCA9IG8uZG9jdW1lbnRFbGVtZW50LCBsZS5jb250YWlucyh0LCBhKSA/ICh0eXBlb2YgYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IENlICYmIChpID0gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG4gPSBWKG8pLCB7CgkJCQkJCXRvcDogaS50b3AgKyAobi5wYWdlWU9mZnNldCB8fCB0LnNjcm9sbFRvcCkgLSAodC5jbGllbnRUb3AgfHwgMCksCgkJCQkJCWxlZnQ6IGkubGVmdCArIChuLnBhZ2VYT2Zmc2V0IHx8IHQuc2Nyb2xsTGVmdCkgLSAodC5jbGllbnRMZWZ0IHx8IDApCgkJCQkJfSkgOiBpCgkJCQl9LAoJCQkJcG9zaXRpb246IGZ1bmN0aW9uKCkgewoJCQkJCWlmICh0aGlzWzBdKSB7CgkJCQkJCXZhciBlLCB0LCBuID0gewoJCQkJCQkJCXRvcDogMCwKCQkJCQkJCQlsZWZ0OiAwCgkJCQkJCQl9LAoJCQkJCQkJaSA9IHRoaXNbMF07CgkJCQkJCXJldHVybiAiZml4ZWQiID09PSBsZS5jc3MoaSwgInBvc2l0aW9uIikgPyB0ID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IChlID0gdGhpcy5vZmZzZXRQYXJlbnQoKSwgdCA9IHRoaXMub2Zmc2V0KCksIGxlLm5vZGVOYW1lKGVbMF0sICJodG1sIikgfHwgKG4gPSBlLm9mZnNldCgpKSwgbi50b3AgKz0gbGUuY3NzKGVbMF0sICJib3JkZXJUb3BXaWR0aCIsICEwKSwgbi5sZWZ0ICs9IGxlLmNzcyhlWzBdLCAiYm9yZGVyTGVmdFdpZHRoIiwgITApKSwgewoJCQkJCQkJdG9wOiB0LnRvcCAtIG4udG9wIC0gbGUuY3NzKGksICJtYXJnaW5Ub3AiLCAhMCksCgkJCQkJCQlsZWZ0OiB0LmxlZnQgLSBuLmxlZnQgLSBsZS5jc3MoaSwgIm1hcmdpbkxlZnQiLCAhMCkKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHsKCQkJCQkJZm9yICh2YXIgZSA9IHRoaXMub2Zmc2V0UGFyZW50IHx8IGxuOyBlICYmICFsZS5ub2RlTmFtZShlLCAiaHRtbCIpICYmICJzdGF0aWMiID09PSBsZS5jc3MoZSwgInBvc2l0aW9uIik7KSBlID0gZS5vZmZzZXRQYXJlbnQ7CgkJCQkJCXJldHVybiBlIHx8IGxuCgkJCQkJfSkKCQkJCX0KCQkJfSksIGxlLmVhY2goewoJCQkJc2Nyb2xsTGVmdDogInBhZ2VYT2Zmc2V0IiwKCQkJCXNjcm9sbFRvcDogInBhZ2VZT2Zmc2V0IgoJCQl9LCBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IC9ZLy50ZXN0KHQpOwoJCQkJbGUuZm5bZV0gPSBmdW5jdGlvbihpKSB7CgkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCQkJdmFyIG8gPSBWKGUpOwoJCQkJCQlyZXR1cm4gdm9pZCAwID09PSBhID8gbyA/IHQgaW4gbyA/IG9bdF0gOiBvLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtpXSA6IGVbaV0gOiB2b2lkKG8gPyBvLnNjcm9sbFRvKG4gPyBsZShvKS5zY3JvbGxMZWZ0KCkgOiBhLCBuID8gYSA6IGxlKG8pLnNjcm9sbFRvcCgpKSA6IGVbaV0gPSBhKQoJCQkJCX0sIGUsIGksIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwpCgkJCQl9CgkJCX0pLCBsZS5lYWNoKFsidG9wIiwgImxlZnQiXSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuY3NzSG9va3NbdF0gPSBUKHJlLnBpeGVsUG9zaXRpb24sIGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQlyZXR1cm4gbiA/IChuID0gb3QoZSwgdCksIHN0LnRlc3QobikgPyBsZShlKS5wb3NpdGlvbigpW3RdICsgInB4IiA6IG4pIDogdm9pZCAwCgkJCQl9KQoJCQl9KSwgbGUuZWFjaCh7CgkJCQlIZWlnaHQ6ICJoZWlnaHQiLAoJCQkJV2lkdGg6ICJ3aWR0aCIKCQkJfSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJbGUuZWFjaCh7CgkJCQkJcGFkZGluZzogImlubmVyIiArIGUsCgkJCQkJY29udGVudDogdCwKCQkJCQkiIjogIm91dGVyIiArIGUKCQkJCX0sIGZ1bmN0aW9uKG4sIGkpIHsKCQkJCQlsZS5mbltpXSA9IGZ1bmN0aW9uKGksIGEpIHsKCQkJCQkJdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoICYmIChuIHx8ICJib29sZWFuIiAhPSB0eXBlb2YgaSksCgkJCQkJCQlyID0gbiB8fCAoaSA9PT0gITAgfHwgYSA9PT0gITAgPyAibWFyZ2luIiA6ICJib3JkZXIiKTsKCQkJCQkJcmV0dXJuIEFlKHRoaXMsIGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhOwoJCQkJCQkJcmV0dXJuIGxlLmlzV2luZG93KHQpID8gdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIgKyBlXSA6IDkgPT09IHQubm9kZVR5cGUgPyAoYSA9IHQuZG9jdW1lbnRFbGVtZW50LCBNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIgKyBlXSwgYVsic2Nyb2xsIiArIGVdLCB0LmJvZHlbIm9mZnNldCIgKyBlXSwgYVsib2Zmc2V0IiArIGVdLCBhWyJjbGllbnQiICsgZV0pKSA6IHZvaWQgMCA9PT0gaSA/IGxlLmNzcyh0LCBuLCByKSA6IGxlLnN0eWxlKHQsIG4sIGksIHIpCgkJCQkJCX0sIHQsIG8gPyBpIDogdm9pZCAwLCBvLCBudWxsKQoJCQkJCX0KCQkJCX0pCgkJCX0pLCBsZS5mbi5zaXplID0gZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gdGhpcy5sZW5ndGgKCQkJfSwgbGUuZm4uYW5kU2VsZiA9IGxlLmZuLmFkZEJhY2ssIGkgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBsZQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSksIGxlCgkJfSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOCksCgkJCQlvID0gbig5KSwKCQkJCXIgPSBuKDEzKSwKCQkJCXMgPSBuKDE0KSwKCQkJCWwgPSBuKDE2KSwKCQkJCWMgPSB7fSwKCQkJCWQgPSBuKDE3KSwKCQkJCXAgPSB7CgkJCQkJIjM2MGJ1eSI6IHsKCQkJCQkJIiNKX3NlYXJjaFdyYXAiOiBbIiNKX3NlYXJjaFdyYXAiLCAiYWZ0ZXIiXSwKCQkJCQkJIiNKX2dvb2RzX2Jlc3QiOiBbIiNKX2dvb2RzX2Jlc3QiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWFtYXpvbjogewoJCQkJCQkiI2NlbnRlckJlbG93TWludXMiOiBbIiNjZW50ZXJCZWxvd01pbnVzIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCSI1MWJ1eSI6IHsKCQkJCQkJIiNwYWdlQmFyQm90dG9tIjogWyIjcGFnZUJhckJvdHRvbSIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlzdW5pbmc6IHsKCQkJCQkJIiNzZWxsZXJTZWxlY3QiOiBbIiNzZWxsZXJTZWxlY3QiLCAiYmVmb3JlIl0sCgkJCQkJCSIucHJvaW5mby1jb250YWluZXIiOiBbIi5wcm9pbmZvLWNvbnRhaW5lciIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlkYW5nZGFuZzogewoJCQkJCQkiLnNlYXJjaF9zZWFyY2hfYm94X3dyYXAiOiBbIi5zZWFyY2hfc2VhcmNoX2JveF93cmFwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWdvbWU6IHsKCQkJCQkJIiNuU2VhcmNoLXF1ZXNzWW91TGlrZSI6IFsiI25TZWFyY2gtcXVlc3NZb3VMaWtlIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJIiNob3RQcm9kdWN0c1dyYXAiOiBbIiNob3RQcm9kdWN0c1dyYXAiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWp1bWVpOiB7CgkJCQkJCSIjc2VhcmNoX2xpc3Rfd3JhcCI6IFsiI3NlYXJjaF9saXN0X3dyYXAiLCAiYWZ0ZXIiXQoJCQkJCX0sCgkJCQkJdm1hbGw6IHsKCQkJCQkJIi5jaGFubmVsLWxpc3QiOiBbIi5jaGFubmVsLWxpc3QiLCAiYWZ0ZXIiXQoJCQkJCX0sCgkJCQkJZmVpbml1OiB7CgkJCQkJCSIjd2FycHBlciI6IFsiI3dhcnBwZXIiLCAiYXBwZW5kIl0KCQkJCQl9LAoJCQkJCXlvdWdvdTogewoJCQkJCQkiLm5ld1BhZ2UiOiBbIi5uZXdQYWdlIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWthb2xhOiB7CgkJCQkJCSIjZ3Vlc3MiOiBbIiNndWVzcyIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQl6b2w6IHsKCQkJCQkJIi5wYWdlLWJveCI6IFsiLnBhZ2UtYm94IiwgImFmdGVyIl0KCQkJCQl9CgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKCkgewoJCQkJCWlmIChwW3Quc2l0ZV0pIHsKCQkJCQkJdmFyIGUgPSBwW3Quc2l0ZV07CgkJCQkJCWZvciAodmFyIG4gaW4gZSkKCQkJCQkJCWlmIChpKGVbbl0pLmxlbmd0aCA+IDApIHJldHVybiBlW25dCgkJCQkJfQoJCQkJCXJldHVybiAhMQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJc3dpdGNoIChuKSB7CgkJCQkJCWNhc2UgImJlZm9yZSI6CgkJCQkJCQlpKHQpLmJlZm9yZShlKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJhcHBlbmQiOgoJCQkJCQkJaSh0KS5hcHBlbmQoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYWZ0ZXIiOgoJCQkJCQkJaSh0KS5hZnRlcihlKQoJCQkJCX0KCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCB8fCAwLCBuID0gMDsgdCA+IG47IG4rKykgewoJCQkJCQl2YXIgaSA9IChOdW1iZXIoZVtuXS5wcmljZSkgLyAxMDApLnRvU3RyaW5nKCk7IC0gMSA9PSBpLmluZGV4T2YoIi4iKSA/IGVbbl0ucHJpY2UgPSBpICsgIi4wMCIgOiBpLm1hdGNoKC9cLlswLTldezJ9LykgPyBlW25dLnByaWNlID0gaSA6IGVbbl0ucHJpY2UgPSBpICsgIjAiCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoMCA9PSBlLmxlbmd0aCkgcmV0dXJuIGU7CgkJCQkJZm9yICh2YXIgaSA9IG4oMTgpLCBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHsKCQkJCQkJdmFyIG8gPSB7CgkJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCQl1cmw6IGVbYV0udXJsLAoJCQkJCQkJbW9kOiAic2VhcmNoX3p1aWRpamlhIiwKCQkJCQkJCXVuaW9uOiB0LnVuaW9uLnNwbGl0KCJfIilbMV0sCgkJCQkJCQlkcF9pZDogZVthXS51cmxfY3JjICsgIi0iICsgZVthXS5zaXRlX2lkCgkJCQkJCX07CgkJCQkJCWVbYV0udXJsID0gaS5pbml0KG8pCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9sb3cgLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9jb250ZW50Iikud2lkdGgoKSwKCQkJCQkJbiA9IGUgLSAxMjQgLSA0OwoJCQkJCWkoIi5pbm5lcl9wcm9fbGlzdCIpLndpZHRoKG4pLCBfKG4pCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQllID0gZSB8fCAwOwoJCQkJCXZhciBuID0gYy5kYXRhLmxlbmd0aCB8fCAwLAoJCQkJCQlhID0gcGFyc2VJbnQoZSAvIDE5MiksCgkJCQkJCW8gPSBuICUgYSA9PSAwID8gbiAvIGEgOiBwYXJzZUludChuIC8gYSkgKyAxOwoJCQkJCWMudG90YWwgPSBvLCBjLnBlciA9IGEsIGMuY29udyA9IGUsIGkoIi50b3RhbF9wYWdlIikudGV4dChvKSwgMSA9PSBvICYmIGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfY29udGVudCAudHVybnBhZ2UiKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIikKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmIChlID0gZS5zbGljZSgwLCA1KSwgZSAmJiAwICE9IGUubGVuZ3RoKSB7CgkJCQkJCXZhciBpID0gZVswXS5tYXRjaCgvWzAtOV0rLShbMC05XSspLyk7CgkJCQkJCWkgJiYgKGkgPSBpWzFdKSwgZSA9IGUuam9pbigiLCIpOwoJCQkJCQl2YXIgYSA9IHQuc2VydmVyICsgIi9icndleHQvZ3Vlc3NfZmF2b3I/ZHBfaWQ9JmRwX2lkcz0iICsgZSArICImc2l0ZV9pZD0iICsgaSArICImY29sdW1uPWFsc292aWV3IjsKCQkJCQkJby5nZXQoYSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQluKCJmYXZvciIsIG0oZSkpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoYy5wZXIgJiYgMCAhPSBjLnBlcikgewoJCQkJCQl2YXIgZSA9IGMuY29udyAtIDE5MiAqIGMucGVyLAoJCQkJCQkJdCA9IHBhcnNlSW50KGUgLyA0KTsKCQkJCQkJaSgnLmlubmVyX3Byb19saXN0IGxpOm5vdCgiLmxpX2ZpcnN0IiknKS5jc3MoIm1hcmdpbi1sZWZ0IiwgdCArIDEyICsgInB4IikKCQkJCQl9CgkJCQl9LAoJCQkJdiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IGMuZGF0YS5zbGljZSgoZSAtIDEpICogYy5wZXIsIGUgKiBjLnBlcik7CgkJCQkJYih0KQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGEgPSBuKDE5KSwKCQkJCQkJbyA9IGwuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiBlCgkJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfbG93IC5pbm5lcl9wcm9fbGlzdCB1bCIpLmVtcHR5KCkuYXBwZW5kKG8pLCB3KCkKCQkJCX0sCgkJCQl5ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gTnVtYmVyKGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCkpOwoJCQkJCTEgPT09IGUgPyAobiA9PSBjLnRvdGFsICYmIChuID0gMCksIGkoIi4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCsrbiksIHYobikpIDogKDEgPT0gbiAmJiAobiA9IGMudG90YWwgKyAxKSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9wYWdlIC5jdXJfcGFnZSIpLnRleHQoLS1uKSwgdihuKSkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykKCQkJCQkJaWYgKCIwIiA9PSBlW3RdLmRpc2NvdW50LnRvU3RyaW5nKCkuc2xpY2UoMCwgMSkpIHsKCQkJCQkJCXZhciBuID0gTWF0aC5yb3VuZCgxMDAgKiBlW3RdLmRpc2NvdW50KSAvIDEwOyAtIDEgPT0gbi50b1N0cmluZygpLmluZGV4T2YoIi4iKSAmJiAobiArPSAiLjAiKSwgZVt0XS5uZXdkaXNjb3VudCA9IG4KCQkJCQkJfSBlbHNlIGVbdF0ubmV3ZGlzY291bnQgPSBlW3RdLmRpc2NvdW50OwoJCQkJCXJldHVybiBlLnNvcnQoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTnVtYmVyKGUuZGlzY291bnQpID4gdC5kaXNjb3VudCA/IDEgOiBlLmRpc2NvdW50ID09IHQuZGlzY291bnQgPyAwIDogLTEKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCXogPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIuaW5uZXJfcGFnZV9sZWZ0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXkoLTEpCgkJCQkJfSksIGkoIi5pbm5lcl9wYWdlX3JpZ2h0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXkoMSkKCQkJCQl9KQoJCQkJfSwKCQkJCUIgPSBmdW5jdGlvbihlLCBpKSB7CgkJCQkJdmFyIGEgPSBoKCk7CgkJCQkJaWYgKGEgIT09ICExICYmIDAgIT0gaS5sZW5ndGgpIHsKCQkJCQkJdmFyIG8gPSBuKDIwKTsKCQkJCQkJYy5kYXRhID0gaTsKCQkJCQkJdmFyIHMgPSBsLmNvbXBpbGUobykoewoJCQkJCQkJZGF0YTogaSwKCQkJCQkJCXR5cGU6IGUsCgkJCQkJCQlzX3NlcnZlcjogdC5zZXJ2ZXIsCgkJCQkJCQluZXdfZXh0ZW5zaW9uOiB0Lm5ld19leHRlbnNpb24sCgkJCQkJCQludW06IGkubGVuZ3RoLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lLAoJCQkJCQkJZXh0QnJhbmQ6IHQuZXh0QnJhbmQKCQkJCQkJfSk7CgkJCQkJCXUocywgYVswXSwgYVsxXSksIHIubG9nKGUgKyAi5YiX6KGo6aG15bWM5YWl5bGV56S6IiksIEMoKSwgZygpLCB2KDEpLCB6KCkKCQkJCQl9CgkJCQl9LAoJCQkJaiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkwICE9IHQgPyBzLmdldGxMb3dlc3QoZnVuY3Rpb24odCkgewoJCQkJCQkwID09IHQubGVuZ3RoICYmIDAgIT0gZSA/IGEuZ2V0KGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUgPSBmKGUpLCBlICYmIDAgIT0gZS5sZW5ndGggJiYgQigibG93IiwgayhlKSkKCQkJCQkJfSkgOiAwICE9IHQubGVuZ3RoID8gQigiZmF2b3IiLCB0KSA6IHgoYS5nZXREcElkcygpLCBCKQoJCQkJCX0pIDogMCAhPSBlICYmIGEuZ2V0KGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSA9IGYoZSksIGUgJiYgMCAhPSBlLmxlbmd0aCAmJiB4KGEuZ2V0RHBJZHMoKSwgQikKCQkJCQl9KQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImRhbmdkYW5nIiA9PSB0LnNpdGUpIHsKCQkJCQkJdmFyIGUgPSBpKCIjMTI4MDguY2xvdGhfZ29vZF9zb3J0Iikub3V0ZXJXaWR0aCgpOwoJCQkJCQllID4gMCAmJiBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyIpLndpZHRoKGUpCgkJCQkJfQoJCQkJCWlmICgiMzYwYnV5IiA9PSB0LnNpdGUpIHsKCQkJCQkJdmFyIGUgPSBpKCIjSl9zZWFyY2hXcmFwIikub3V0ZXJXaWR0aCgpOwoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyIpLndpZHRoKGUpLmNzcygibWFyZ2luIiwgIjEwcHggYXV0byIpCgkJCQkJfQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJaWYgKDAgIT0gdC5sZW5ndGgpIHsKCQkJCQkJdmFyIGkgPSB2b2lkIDA7CgkJCQkJCWkgPSBuKCJsb3ciID09IGUgPyAyMSA6IDIyKTsKCQkJCQkJdmFyIGEgPSBuKDIzKSwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJaXRlbWg6ICJsb3ciID09IGUgPyAxNTQgOiAxNDAsCgkJCQkJCQkJdHlwZTogZSwKCQkJCQkJCQlvdGhlcmg6ICJsb3ciID09IGUgPyAzMzAgOiAzMDAsCgkJCQkJCQkJc29ydEZvcmJpdDogITAsCgkJCQkJCQkJbGVuOiB0Lmxlbmd0aCwKCQkJCQkJCQlmb2xkRm9yYml0OiAhMAoJCQkJCQkJfTsKCQkJCQkJYS5pbml0KHQsIGksIG8pCgkJCQkJfQoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJMCAhPSB0ID8gcy5nZXRsTG93ZXN0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJMCA9PSB0Lmxlbmd0aCAmJiAwICE9IGUgPyBhLmdldChmdW5jdGlvbihlKSB7CgkJCQkJCQllID0gZihlKSwgZSAmJiAwICE9IGUubGVuZ3RoICYmIFMoImxvdyIsIGsoZSkpCgkJCQkJCX0pIDogMCAhPSB0Lmxlbmd0aCA/IFMoImZhdm9yIiwgdCkgOiB4KGEuZ2V0RHBJZHMoKSwgUykKCQkJCQl9KSA6IDAgIT0gZSAmJiBhLmdldChmdW5jdGlvbihlKSB7CgkJCQkJCWUgPSBmKGUpLCBlICYmIDAgIT0gZS5sZW5ndGggJiYgUygibG93IiwgayhlKSkKCQkJCQl9KQoJCQkJfSwKCQkJCVQgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGQuZ2V0KCJzaG93X2xvd3ByaV9yaWdodCIpLAoJCQkJCQl0ID0gZC5nZXQoInNob3dfZ3Vlc3NmYXZvcl9yaWdodCIpOwoJCQkJCWkod2luZG93KS53aWR0aCgpIDwgMWUzID8gaihlLCB0KSA6IE4oZSwgdCkKCQkJCX0sCgkJCQlQID0gZnVuY3Rpb24oKSB7CgkJCQkJVCgpCgkJCQl9OwoJCQllLmV4cG9ydHMuX2luaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQub24oInBlcm1hbmVudF9pZCIsIGZ1bmN0aW9uKCkgewoJCQkJCSgibWlfbmV3IiAhPSB0LmZyb21fZGV2aWNlIHx8IDIgIT0gdC5wYWdlSW5mby50eXBlKSAmJiAiZWZvdGlsZSIgIT0gdC5zaXRlICYmIFAoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmdldFB1cmVNZWRpYXYgPSBmdW5jdGlvbigpIHsKCQkJCSJ0bHhzIiAhPT0gdC5mcm9tX2RldmljZSAmJiBzLmdldGxMb3dlc3QoZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgMCAhPSBlLmxlbmd0aCAmJiBTKCJmYXZvciIsIGUpCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig5KSwKCQkJCWEgPSBuKDEwKSwKCQkJCW8gPSBuKDEyKSwKCQkJCXIgPSB2b2lkIDAsCgkJCQlzID0gW10sCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9IHZvaWQgMCwKCQkJCWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlLmxlbmd0aCkgcmV0dXJuIGU7CgkJCQkJZm9yICh2YXIgdCA9IHsKCQkJCQkJaW5kZXg6IDAsCgkJCQkJCWRpc2NvdW50OiAxMAoJCQkJCX0sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgTnVtYmVyKGVbbl0uZGlzY291bnQpIDwgdC5kaXNjb3VudCAmJiAodC5kaXNjb3VudCA9IE51bWJlcihlW25dLmRpc2NvdW50KSwgdC5pbmRleCA9IG4pOwoJCQkJCXJldHVybiBlW3QuaW5kZXhdLmhpZ2hlc3RfZGlzY291bnQgPSAhMCwgZQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKHMubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBzLmxlbmd0aDsgdCsrKSBzW3RdKGUpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gITA7IHQ7KSB7CgkJCQkJCXZhciBuID0gZTsKCQkJCQkJdCA9ICExOwoJCQkJCQl2YXIgaSA9IG4ubGVuZ3RoLAoJCQkJCQkJYSA9IEpTT04uc3RyaW5naWZ5KG4pOwoJCQkJCQlpZiAoIShhLmxlbmd0aCA+IDVlMykpIHJldHVybiBhOwoJCQkJCQllID0gbi5zbGljZSgwLCBpIC0gMTApLCB0ID0gITAsIGkgPSBhID0gdm9pZCAwCgkJCQkJfQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBoKGUpOwoJCQkJCWkuZ2V0KHQuc2VydmVyICsgIi9icndleHQvbG93ZXN0P29wPWdldCZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSArICImdXJscz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEpKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGMgPSBlLmFsbF9kcF9pZHMsICFlLnJlc3VsdCB8fCAwID09PSBlLnJlc3VsdC5sZW5ndGgpIHJldHVybiBuKFtdKSwgdm9pZCBwKFtdKTsKCQkJCQkJdmFyIHQgPSBbXTsKCQkJCQkJZm9yICh2YXIgaSBpbiBlLnJlc3VsdCkgdC5wdXNoKGUucmVzdWx0W2ldKTsKCQkJCQkJdCA9IG8odCksIHIgPSB0LCBuKHQpLCBwKHQpCgkJCQkJfSkuZmFpbChmdW5jdGlvbihlKSB7CgkJCQkJCW4oW10pLCBwKFtdKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuZ2V0RHBJZHMgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBjCgkJCX0sIGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobCkgcmV0dXJuIHZvaWQociA/IGUocikgOiBzLnB1c2goZSkpOwoJCQkJbCA9ICEwOwoJCQkJdmFyIHQgPSBhLmluaXQoNTApOwoJCQkJdCAmJiAwICE9IHQubGVuZ3RoICYmIHUodCwgZnVuY3Rpb24odCkgewoJCQkJCXQgPSBkKHQpLCBlKHQpCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig2KSwKCQkJCWEgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlKSB0aHJvdyBuZXcgRXJyb3IoInVybCDkuI3og73kuLrnqboiKTsKCQkJCQl2YXIgbiA9ICI/IiwKCQkJCQkJaSA9ICJjYWxsYmFjaz0/JiI7CgkJCQkJZS5pbmRleE9mKCI/IikgPiAtMSAmJiAobiA9ICImIik7CgkJCQkJdmFyIGEsIG8gPSAiZm9ybWF0PWpzb25wJiI7CgkJCQkJcmV0dXJuICh0LmNocm9tZV9leHRlbnNpb24gfHwgIm1heHRob24iID09PSB0LmZyb21fZGV2aWNlKSAmJiAoYSA9ICEwKSwgYSAmJiAoaSA9ICIiLCBvID0gImZvcm1hdD1qc29uJiIpLCAiIiArIGUgKyBuICsgaSArIG8KCQkJCX07CgkJCWUuZXhwb3J0cy5yYXcgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdCwgbiA9IHsKCQkJCQkJZG9uZTogZnVuY3Rpb24oZSkgewoJCQkJCQkJdCA9IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaSA9IG5ldyBYTUxIdHRwUmVxdWVzdDsKCQkJCXJldHVybiBpLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpIHsKCQkJCQl0ICYmIHQoaS5yZXNwb25zZVRleHQpCgkJCQl9KSwgaS5vcGVuKCJHRVQiLCBlLCAhMCksIGkuc2VuZCgpLCBuCgkJCX0sIGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gZSA9IGEoZSkgKyAidW5pb249IiArIHQudW5pb24gKyAiJnZlcnNpb249IiArIHQudmVyc2lvbiArICImZnJvbV9kZXZpY2U9IiArIHQuZnJvbV9kZXZpY2UsIHQuY3JjNjQgJiYgKGUgKz0gIiZjcmM2ND0xIiksIGkuZ2V0SlNPTihlKQoJCQl9LCBlLmV4cG9ydHMuZ2V0UHVyZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiBlID0gYShlKSwgaS5nZXRKU09OKGUpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDExKSwKCQkJCWEgPSBuKDUpLAoJCQkJbyA9IHZvaWQgMCwKCQkJCXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IHsKCQkJCQkJZGF0YTogW10sCgkJCQkJCXVuaXF1ZToge30KCQkJCQl9LCBuID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZSkgewoJCQkJCQkJdmFyIHQgPSBlLmluZGV4T2YoIiMiKSA+IC0xOwoJCQkJCQkJcmV0dXJuIHQgJiYgKGUgPSBlLnNsaWNlKDAsIHQpKSwgMCA9PT0gZS5pbmRleE9mKCIvLyIpID8gImh0dHA6IiArIGUgOiAwID09PSBlLmluZGV4T2YoIi8iKSA/ICIiICsgbG9jYXRpb24uaG9zdCArIGUgOiBlCgkJCQkJCX0KCQkJCQl9LCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspCgkJCQkJCWlmIChlW2ldKSB7CgkJCQkJCQl2YXIgbyA9IG4oZVtpXSk7CgkJCQkJCQlvICYmIGEuaXNQcm9kdWN0UGFnZShvKSAmJiAhdC51bmlxdWVbb10gJiYgKHQudW5pcXVlW29dID0gITAsIHQuZGF0YS5wdXNoKG8pKQoJCQkJCQl9CgkJCQkJcmV0dXJuIHQuZGF0YQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJZm9yICh2YXIgaSA9IHZvaWQgMCwgYSA9IGUubGVuZ3RoLCBvID0gMDsgYSA+IG87IG8rKykgewoJCQkJCQl2YXIgciA9IGVbb107CgkJCQkJCWlmIChpID0gdChyICsgIiBhIiksIGkubGVuZ3RoKSBicmVhawoJCQkJCX0KCQkJCQlyZXR1cm4gbihpKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobykgcmV0dXJuIGUgPyBvLnNsaWNlKDAsIGUpIDogbzsKCQkJCXZhciB0ID0gaS5jaGVjaygpOwoJCQkJaWYgKHQgJiYgKCF0IHx8IHQubGVuZ3RoKSkgewoJCQkJCXZhciBuID0gW107CgkJCQkJcmV0dXJuIHModCwgZnVuY3Rpb24odCkgewoJCQkJCQl0LmVhY2goZnVuY3Rpb24oZSwgdCwgaSkgewoJCQkJCQkJdmFyIGEgPSB0LmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoJCQkJCQkJYSAmJiBuLnB1c2goYSkKCQkJCQkJfSksIG4gPSByKG4pLCBvID0gbiwgbiA9IG4uc2xpY2UoMCwgZSkKCQkJCQl9KSwgbgoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gewoJCQkJCSIzNjBidXkiOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLmpkXC5jb21cL3BpbnBhaVwvLipcLmh0bWwvLCAiI0pfZ29vZHNMaXN0IiwgIiNwbGlzdCAubGlzdC1oIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmpkXC5jb21cL1NlYXJjaFw/a2V5d29yZC9pLCAiI0pfZ29vZHNMaXN0IGxpIiwgIiNwbGlzdCAubGlzdC1oIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9saXN0XC5qZFwuY29tLywgIiNKX21haW4gbGkiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NhbGVcLmpkXC5jb20vLCAiZGl2LmxheW91dGNvbnRhaW5lciAubGF5b3V0YXJlYSAubGF5b3V0IC5sYXlvdXRfb25lIl0KCQkJCQldLAoJCQkJCSI1MWJ1eSI6IFsKCQkJCQkJWy9odHRwOlwvXC9zZWFyY2hleFwueWl4dW5cLmNvbS8sICIjY29udGFpbmVyIC5nb29kcyJdLAoJCQkJCQlbL2h0dHA6XC9cL2V2ZW50XC55aXh1blwuY29tLywgInVsLml0ZW1fbGlzdF8zIiwgImRpdi5iZCJdLAoJCQkJCQlbL2h0dHA6XC9cL3NhbGVcLnlpeHVuXC5jb20vLCAiI0pfZmxvb3JIb2xpZGF5IC5iZCJdLAoJCQkJCQlbL2h0dHA6XC9cL2V2ZW50XC55aXh1blwuY29tXC9ldmVudFwvLipcLmh0bWwvLCAiLnBhZ2VfZXZlbnQiXQoJCQkJCV0sCgkJCQkJYW1hem9uOiBbCgkJCQkJCVsvaHR0cDpcL1wvd3d3XC5hbWF6b25cLmNuXC9bYS16XVwvLywgImJvZHkiXQoJCQkJCV0sCgkJCQkJc3VuaW5nOiBbCgkJCQkJCVsvaHR0cDpcL1wvY3V4aWFvXC5zdW5pbmdcLmNvbS8sICIuaGVhZC1pbWctd3JhcHBlciIsICIuZmxvb3IiXSwKCQkJCQkJWy9odHRwOlwvXC9saXN0XC5zdW5pbmdcLmNvbS8sICIuZ3JpZCIsICIjZmlsdGVyLXJlc3VsdHMgbGkiXSwKCQkJCQkJWy9odHRwOlwvXC9zZWFyY2hcLnN1bmluZ1wuY29tLywgIiNmaWx0ZXItcmVzdWx0cyBsaSJdCgkJCQkJXSwKCQkJCQlkYW5nZGFuZzogWwoJCQkJCQlbL2h0dHA6XC9cL3d3d1wuZGFuZ2RhbmdcLmNvbVwvYnJhbmRzXC8vLCAiLnNlYXJjaF9saXN0Il0sCgkJCQkJCVsvaHR0cDpcL1wvc2VhcmNoXC5kYW5nZGFuZ1wuY29tLywgIi5iaWdpbWciLCAiLmNsb3RoX2dvb2Rfc29ydCJdLAoJCQkJCQlbL2h0dHA6XC9cL2Jvb2tcLmRhbmdkYW5nXC5jb20vLCAiI2JkX2F1dG8gdWwiXSwKCQkJCQkJWy9odHRwOlwvXC9saXN0XC5kYW5nZGFuZ1wuY29tLywgIiNiZCAucmVzdWx0bGlzdCJdLAoJCQkJCQlbL2h0dHA6XC9cL3Byb21vXC5kYW5nZGFuZ1wuY29tLywgIi5wcm9tb3Rpb25zbGlzdF93cmFwcGVyIC5wcm9fbGlzdCIsICIucHJvbW9fYWN0aXZpdHlfd3JhcCJdLAoJCQkJCQlbL2h0dHA6XC9cL3ZcLmRhbmdkYW5nXC5jb20vLCAiI2JkIC52X3Nob3BfYm94Il0sCgkJCQkJCVsvaHR0cDpcL1wvdFwuZGFuZ2RhbmdcLmNvbS8sICIjYmQgdWwiXQoJCQkJCV0sCgkJCQkJZ29tZTogWwoJCQkJCQlbL2h0dHA6XC9cL2JyYW5kXC5nb21lXC5jb21cLmNuLywgIi5yZXN1bHQtd3JhcCJdLAoJCQkJCQlbL2h0dHA6XC9cL2xpc3RcLmdvbWVcLmNvbVwuY24vLCAiLm5TZWFyY2hXYXJwLW1haW4iXSwKCQkJCQkJWy9odHRwOlwvXC9wcm9tXC5nb21lXC5jb21cLmNuLywgIi50cGFnZSAucGFnZXQiLCAiLnNoYW5ncGluX2Z4Il0sCgkJCQkJCVsvaHR0cDpcL1wvc2VhcmNoXC5nb21lXC5jb21cLmNuLywgIi5yZXN1bHQtd3JhcCIsICJsaS5wcm9kdWN0LWl0ZW0iXQoJCQkJCV0sCgkJCQkJeWloYW9kaWFuOiBbCgkJCQkJCVsvaHR0cDpcL1wvbGlzdFwueWhkXC5jb20vLCAiLm1vZF9wcm9kdWN0X2xpc3QgLm1vZF9zZWFyY2hfcHJvIl0sCgkJCQkJCVsvaHR0cDpcL1wvY21zXC55aGRcLmNvbS8sICIjY21zQmdQYXRoICJdLAoJCQkJCQlbL2h0dHA6XC9cL3NlYXJjaFwueWhkXC5jb20vLCAiLm1vZF9wcm9kdWN0X2xpc3QgLm1vZF9zZWFyY2hfcHJvIl0KCQkJCQldLAoJCQkJCWp1bWVpOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmp1bWVpXC5jb20vLCAiLnByb2R1Y3RzX3dyYXAiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2hkXC5qdW1laVwuY29tLywgIi5hY3RfcHJvZHVjdF9saXN0Il0KCQkJCQldLAoJCQkJCWp1bWVpZ2xvYmFsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9oZFwuanVtZWlnbG9iYWxcLmNvbS8sICIuYWN0X3Byb2R1Y3RfbGlzdCIsICIubW9kZWxfcGFyZW50IHVsIl0KCQkJCQldLAoJCQkJCXZtYWxsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnZtYWxsXC5jb21cLy4rLywgIi5sYXlvdXQiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NhbGVcLnZtYWxsXC5jb20vLCAiLmd1aWRlLWJkIiwgIiNhY3Rpdml0eV9tYWluIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9tbVwudm1hbGxcLmNvbS8sICIubmV3LXJlc2VydmUtdG9wLXdycCJdCgkJCQkJXSwKCQkJCQlmZWluaXU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuZmVpbml1XC5jb21cLy4rLywgIi5lZGl0RG9tYWluIiwgIi5wcm9kdWN0c2hvdyIsICIuZXhoaWJpdGlvbiIsICIjdHJhY2tlcl9jYXRlZ29yeSJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2FsZVwuZmVpbml1XC5jb20vLCAiLnRpdGxlX2JnLmNtc19wb29sIHVsIl0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmZlaW5pdVwuY29tLywgIiNjYXRhX2Nob29zZV9wcm9kdWN0Il0KCQkJCQldLAoJCQkJCXlvdWdvdTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC55b3Vnb3VcLmNvbVwvLisvLCAiLnl1aTMtZyJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2VvdWxcLnlvdWdvdVwuY29tLywgImRpdi5tYWluX2dvb2RzIiwgIi55dWkzLWciXQoJCQkJCV0sCgkJCQkJa2FvbGE6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wua2FvbGFcLmNvbVwvLisvLCAibGkuZ29vZHMiLCAiLndyYXAgdWwiXQoJCQkJCV0sCgkJCQkJaml1eGlhbjogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC5qaXV4aWFuXC5jb21cLy4rLywgIi5tYWluQm94IiwgIi5zZXF1ZW5jZV9saXN0Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zcGVjaWFsXC5qaXV4aWFuXC5jb20vLCAiLmZvdXJib3giXQoJCQkJCV0sCgkJCQkJc2ZiZXN0OiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnNmYmVzdFwuY29tXC8uKy8sICIuc2ZSaWdodCIsICIucC1saXN0Il0KCQkJCQldLAoJCQkJCXZhbmNsOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zXC52YW5jbFwuY29tLywgImxpLnByb2R1Y3R3cmFwcGVyIl0KCQkJCQldLAoJCQkJCWZlbmdxdTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvd3d3XC5mZW5ncXVcLmNvbVwvLisvLCAiLm1vZHVsZSJdCgkJCQkJXSwKCQkJCQlsZWZlbmc6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NlYXJjaFwubGVmZW5nXC5jb20vLCAiI3Byb2R1Y3REaXZHcm91cCJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvYnJhbmRcLmxlZmVuZ1wuY29tLywgIi5tYWtldXAiXQoJCQkJCV0sCgkJCQkJZWhhaWVyOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmVoYWllclwuY29tLywgInVsLnVsLXByb2xpc3QiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuZWhhaWVyXC5jb21cLy4rLywgInVsLnVsLWV4Y2VsIiwgIi50YWItY29udCIsICIua2luZHMtbWFpbiJdCgkJCQkJXSwKCQkJCQl5dW5ob3U6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3NlYXJjaFwueXVuaG91XC5jb20vLCAiI2pHb29kc0NudCAuZ29vZHMtbGlzdHMgZGl2LmNvbHMiXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2xpc3RcLnl1bmhvdVwuY29tXC8uKy8sICIjakdvb2RzQ250IC5nb29kcy1saXN0cyBkaXYuY29scyJdCgkJCQkJXSwKCQkJCQl1bGU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cLyg/IWl0ZW18d3d3KS4rXC51bGVcLmNvbVwvLisvLCAiLmdvb2RzTGlzdCAuZ29vZHNMaXN0QmxvY2sgbGkubm9QcmUiXQoJCQkJCV0sCgkJCQkJYmFuZ2dvOiBbCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zZWFyY2hcLmJhbmdnb1wuY29tLywgIi5tYnNob3BfcGRMaXN0IGxpLm1ic2hvcF9saXN0UGRDb24iXQoJCQkJCV0sCgkJCQkJYmFvYmVpZ2V6aTogWwoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvc2VhcmNoXC5iYW9iZWlnZXppXC5jb20vLCAiI21haW5fbGlzdCAucHJvX2l0ZW0iXSwKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL2xpc3RcLmJhb2JlaWdlemlcLmNvbS8sICIjbWFpbl9saXN0IC5wcm9faXRlbSJdLAoJCQkJCQlbL14oPzpodHRwfGh0dHBzKTpcL1wvaXRlbVwuYmFvYmVpZ2V6aVwuY29tXC9bYS16XStfWzAtOV0rXC8vLCAiI21haW5fbGlzdCAucHJvX2l0ZW0iXQoJCQkJCV0sCgkJCQkJemhvbmdqaXU6IFsKCQkJCQkJWy9eKD86aHR0cHxodHRwcyk6XC9cL3d3d1wuemhvbmdqaXVcLmNuXC9saXN0XC8vLCAiI3BsaXN0IGxpLmNsZWFyZml4Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC93d3dcLnpob25naml1XC5jblwvc2VhcmNoXC4vLCAiI3BsaXN0IGxpLmNsZWFyZml4Il0sCgkJCQkJCVsvXig/Omh0dHB8aHR0cHMpOlwvXC9zXC56aG9uZ2ppdVwuY25cL3NlYXJjaFwvaW5kZXgvLCAiLnJnX3NsX2xpc3QgdWwgbGkiXQoJCQkJCV0KCQkJCX0sCgkJCQlpID0gdm9pZCAwOwoJCQllLmV4cG9ydHMuY2hlY2sgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoaSkgcmV0dXJuIGk7CgkJCQlpZiAoZSA9IHQuc2l0ZSB8fCBlLCAhbltlXSkgcmV0dXJuICExOwoJCQkJZm9yICh2YXIgYSA9IG5bZV0ubGVuZ3RoIC0gMTsgYSA+PSAwOyBhLS0pIHsKCQkJCQl2YXIgbyA9IG5bZV1bYV07CgkJCQkJaWYgKG9bMF0udGVzdChsb2NhdGlvbi5ocmVmKSkgcmV0dXJuIGkgPSBvLnNsaWNlKDEpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIG4gPSBbIjE1IiwgIjk0IiwgIjEwOCIsICIxOTYiLCAiMzIiLCAiMjM0IiwgIjI3MyIsICIyOTAiLCAiMjkyIiwgIjM2NyIsICIzNzMiLCAiMzc3Il0sCgkJCQkJaSA9IHQuY3JjNjQgPyB0LmltZzY0X3NlcnZlciA6IHQuaW1nX3NlcnZlcjsKCQkJCWlmICghZS5sZW5ndGgpIHJldHVybiBbXTsKCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKykgewoJCQkJCXZhciBvID0gZVthXSwKCQkJCQkJciA9IG8uZHBfaWQ7CgkJCQkJaWYgKHIpCgkJCQkJCWZvciAodmFyIHMgPSByLm1hdGNoKC9cZCstKFxkKykvKVsxXSwgbCA9IDA7IGwgPCBuLmxlbmd0aDsgbCsrKSBzID09PSBuW2xdICYmIChlW2FdLnBpY191cmwgPyBlW2FdLnBpY191cmwgPSBpICsgIi9jX3pvb20saF85MC9kcCIgKyBvLmRwX2lkIDogZVthXS5pbWdfdXJsID0gaSArICIvY196b29tLGhfOTAvZHAiICsgby5kcF9pZCkKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCSJ1c2Ugc3RyaWN0IjsKCgkJZnVuY3Rpb24gbihlKSB7CgkJCXZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKCQkJdCAmJiB0WzBdICYmICh0ID0gdFswXSk7CgkJCXZhciBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CgkJCW4uc3JjID0gZSwgbi5hc3luYyA9ICEwLCBuLmRlZmVyID0gITAsIG4ubGFuZ3VhZ2UgPSAiSmF2YVNjcmlwdCIsIHQuYXBwZW5kQ2hpbGQobiksIGEgPSAhMAoJCX0KCQl2YXIgaSA9IHZvaWQgMCwKCQkJYSA9IHZvaWQgMCwKCQkJbyA9IHZvaWQgMDsKCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJZSAmJiBuKGUpCgkJfSwgZS5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKGUsIHQsIG4sIHIsIHMpIHsKCQkJYSAmJiAobyA9PT0gZSA/IChjbGVhclRpbWVvdXQoaSksIGkgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJd2luZG93Ll9jemMgJiYgd2luZG93Ll9jemMucHVzaCAmJiAodCA9IHQgfHwgIi4iLCBuID0gbiB8fCAiIiwgd2luZG93Ll9jemMucHVzaChbIl90cmFja0V2ZW50IiwgZSwgdCwgbiwgciwgc10pLCBvID0gZSkKCQkJfSwgMzAwKSkgOiB3aW5kb3cuX2N6YyAmJiB3aW5kb3cuX2N6Yy5wdXNoICYmICh0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIiLCB3aW5kb3cuX2N6Yy5wdXNoKFsiX3RyYWNrRXZlbnQiLCBlLCB0LCBuLCByLCBzXSksIG8gPSBlKSkKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSB2b2lkIDAsCgkJCQlvID0gWyJqc2R4IiwgIm5qY2siLCAiY2h1eXVuIiwgInRseHMiLCAianN4eSIsICJ6amR4IiwgInhpbmd5dWUiLCAic2hjayIsICJtaV9uZXciLCAiZ2RqbSIsICJobnR0IiwgInhkamYiLCAiaGFndyIsICI5MjMyNTMiLCAiMTA5ODE2NCIsICI1Mzg2MjUiLCAiMTMyOTE4NSIsICI5Mjk3MzMiXSwKCQkJCXIgPSB7CgkJCQkJbmpjazogWyJ1RnM3SU4iLCAiTGgyWDJBIl0sCgkJCQkJZ2RqbTogWyJ1RnM3SU4iLCAiTGgyWDJBIl0sCgkJCQkJanhkeDogWyJEU3pFRmEiLCAidFc2bnRRIl0sCgkJCQkJbWlfbmV3OiBbIkdQVmo2MCIsICJPc21KS2IiXSwKCQkJCQlqc2R4OiBbIjZWSk1vTSIsICJuNndHekEiXSwKCQkJCQlqc3h5OiBbIjZWSk1vTSIsICJuNndHekEiXSwKCQkJCQljaHV5dW46IFsiOWtrektQIiwgIlF5MUdBMSJdLAoJCQkJCWJqbHQ6IFsiOWtrektQIiwgIlF5MUdBMSJdLAoJCQkJCXpqZHg6IFsiVTJ4OFd0IiwgIjdsNVkxVyJdLAoJCQkJCXhpbmd5dWU6IFsiQ0g3ZmlyIiwgImhYYVZTbSJdLAoJCQkJCWhudHQ6IFsiQ0g3ZmlyIiwgImhYYVZTbSJdLAoJCQkJCXNoY2s6IFsiOW94REE2IiwgImZwV0FHdSJdLAoJCQkJCXRseHM6IFsiZk95Q0xiIiwgInBiTHFtQyJdLAoJCQkJCXhkamY6IFsiUG1hOHJIIiwgImQzQXAzMiJdLAoJCQkJCXNobHQ6IFsiSlZQQ0VvIiwgIlVqWjdDTiJdLAoJCQkJCWhhZ3c6IFsiODZlUE92IiwgIjVvNEtVbSJdLAoJCQkJCTEwOTgxNjQ6IFsiQ0g3ZmlyIiwgIkNIN2ZpciJdLAoJCQkJCTUzODYyNTogWyJValo3Q04iLCAiVWpaN0NOIl0sCgkJCQkJOTIzMjUzOiBbImQzQXAzMiIsICJkM0FwMzIiXSwKCQkJCQkxMzI5MTg1OiBbIlVqWjdDTiIsICJValo3Q04iXSwKCQkJCQk5Mjk3MzM6IFsiRFN6RUZhIiwgIkRTekVGYSJdCgkJCQl9LAoJCQkJcyA9IFsiZWZvdGlsZSJdLAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCWZ1bmN0aW9uIGUoZSkgewoJCQkJCQl2YXIgdCwgbiA9IDEsCgkJCQkJCQlpID0gMDsKCQkJCQkJaWYgKGUpCgkJCQkJCQlmb3IgKG4gPSAwLCB0ID0gZS5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgaSA9IGUuY2hhckNvZGVBdCh0KSwgbiA9IChuIDw8IDYgJiAyNjg0MzU0NTUpICsgaSArIChpIDw8IDE0KSwgaSA9IDI2NjMzODMwNCAmIG4sIG4gPSAwICE9IGkgPyBuIF4gaSA+PiAyMSA6IG47CgkJCQkJCXJldHVybiBuCgkJCQkJfQoJCQkJCXJldHVybiAoIiIgKyBlKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSArIGUoZG9jdW1lbnQuZG9tYWluKSArIChuZXcgRGF0ZSAtIDApICsgTWF0aC5mbG9vcigxZTMgKiBNYXRoLnJhbmRvbSgpKSkuc3Vic3RyKDAsIDMyKQoJCQkJfSgpLAoJCQkJYyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSAxOyBpIDwgZS5sZW5ndGg7IGkrKykgewoJCQkJCQl2YXIgYSA9IHt9LAoJCQkJCQkJbyA9IGVbaV0uY3VybDEubWF0Y2goLyZ1cmw9KFteJl0rKSYvKSAmJiBlW2ldLmN1cmwxLm1hdGNoKC8mdXJsPShbXiZdKykmLylbMV07CgkJCQkJCSJtaV9uZXciID09PSB0LmZyb21fZGV2aWNlICYmIG8gJiYgby5tYXRjaCgvKD86bGVtYWxsfHZtYWxsKS8pIHx8IChhLnVybCA9IGVbaV0uY3VybDEsIGEuaW1nX3VybCA9IGVbaV0udGltZywgYS50aXRsZSA9IGVbaV0ucG4sIGEucHJpY2UgPSBlW2ldLnByaWNlLCBhLnR5cGVzID0gImZhc2hpb24iLCBuLnB1c2goYSkpCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlpLmFqYXgoewoJCQkJCQl1cmw6IGUsCgkJCQkJCXNjcmlwdENoYXJzZXQ6ICJVVEYtOCIsCgkJCQkJCWRhdGFUeXBlOiAianNvbnAiLAoJCQkJCQlqc29ucDogImpzb25xIiwKCQkJCQkJc3VjY2VzczogZnVuY3Rpb24oZSkgewoJCQkJCQkJYSB8fCAodChlICYmIGUubGVuZ3RoID4gMSA/IGMoZSkgOiBbXSksIGEgPSAhMCkKCQkJCQkJfSwKCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKCkgewoJCQkJCQkJYSB8fCAodChbXSksIGEgPSAhMCkKCQkJCQkJfQoJCQkJCX0pLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQlhIHx8ICh0KFtdKSwgYSA9ICEwKQoJCQkJCX0sIDU1MDApCgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCWZvciAodmFyIGUgPSAwOyBlIDwgcy5sZW5ndGg7IGUrKykKCQkJCQkJaWYgKHQuc2l0ZSA9PT0gc1tlXSkgcmV0dXJuICEwOwoJCQkJCXJldHVybiBuKDE1KS5pbml0KCkgPyAhMCA6ICExCgkJCQl9OwoJCQllLmV4cG9ydHMuZ2V0bExvd2VzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChwKCkpIHJldHVybiB2b2lkIGUoW10pOwoJCQkJdmFyIG4gPSB0LmZyb21fZGV2aWNlX3QgfHwgdC5mcm9tX2RldmljZTsKCQkJCWlmICgidGx4cyIgPT0gbikgcmV0dXJuIHZvaWQgZShbXSk7CgkJCQlpZiAoLTEgPT0gby5pbmRleE9mKG4pKSByZXR1cm4gdm9pZCBlKFtdKTsKCQkJCXZhciBpID0gImh0dHBzOi8vc2hvdy0zLm1lZGlhdi5jb20vcz90eXBlPTEmc2hvd2lkPSIgKyByW25dWzBdICsgIiZvZj00JnVpZD0iICsgbCArICJ9JnFocGlkPSZpbXBjdD0yMCI7CgkJCQlkKGksIGUpCgkJCX0sIGUuZXhwb3J0cy5nZXREcExvd2VzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChwKCkpIHJldHVybiB2b2lkIGUoW10pOwoJCQkJaWYgKC0xID09IG8uaW5kZXhPZih0LmZyb21fZGV2aWNlKSkgcmV0dXJuIHZvaWQgZShbXSk7CgkJCQl2YXIgbiA9ICJodHRwczovL3Nob3ctMy5tZWRpYXYuY29tL3M/dHlwZT0xJnNob3dpZD0iICsgclt0LmZyb21fZGV2aWNlXVsxXSArICImb2Y9NCZ1aWQ9IiArIGwgKyAifSZxaHBpZD0maW1wY3Q9MjAiOwoJCQkJZChuLCBlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gWyJqZC5jb20iLCAidGFvYmFvLmNvbSIsICJzdW5pbmcuY29tIiwgInRtYWxsLmNvbSIsICJ3ZXN0LmNuIiwgImNodWFuZ2NkLmNuIiwgImVkaWFuenUuY29tIiwgImJhb3NodWlndW9qaS5jb20iLCAibXZtYWxsLmNuIiwgImdhcC5jbiIsICJqc3N3b3Jkc2hvcC5jb20iLCAiYndza3UuY29tIiwgImd4LmNuIiwgInN0d2ZkZS5jb20iLCAicXV3YWlmdS5jb20iLCAiYW9sYWlnby5jb20iLCAiZGFvZ291bWFvLmNuIiwgIjE2ODguY29tIiwgImdocy5uZXQiLCAic2hpamllZ3Vhbi5jbiIsICJnZGxpd2FuODg4LmNvbSIsICJpenVqaWUuY29tIiwgInl4bHAtYmouY29tIiwgIjY3OHB3LmNuIiwgImlsYWh1aS5jb20iLCAiZ291d3ViYW5nLmNvbSIsICJjdHR5dy5jb20iLCAiYW9qaWVzaS5jbiIsICJ4aWFuZ3NoZW5naGFuZy5jb20iLCAibmJ6ZHB0LmNuIiwgIjM2MC5jbiIsICJ6amNyZWF0ZS5jb20iLCAiZGx5aWp1LmNvbS5jbiIsICJodWFtdTAxMDEuY29tIiwgImZ1c2hpaHVhLmNuIiwgIndqeWguY29tIiwgImZzYW90aW5nLmNuIiwgIm1peWluc3VvLmNvbSIsICJrbTE4MTguY29tIiwgInNodWh1YXR5LmNvbSIsICJzZ2R6LXBvd2VyLmNvbSIsICJwdXJjb3R0b24uY29tIiwgInltaS5jbiIsICJ4anQuY2MiLCAibGVuY29sby5jb20iLCAieWl3dWdvdS5jb20iLCAiMzYxZmVucWlnby5jb20iLCAiYmVuZ2hvbWUuY29tIiwgImVsZWl0ZXguY29tIiwgImppbmd6aHVvaGFuZy5jb20iLCAiemhhb2ppYWZhbmcuY29tIiwgIm5ueWh3ai5jb20iLCAiZHVvZHVvMTIzLmNvbSIsICJrcy1sb25nLmNvbSIsICIyMWtrLmNuIiwgInN0YXBsZXMuY24iLCAibHlsancuY29tIiwgImhvbWVkby5jb20iLCAiNTkxeWh3LmNvbSIsICJxaWFuc2hpMzYwLmNvbSIsICIzNjUzNTAuY29tIiwgImFmank5ODguY29tIiwgImhjYnV5LmNvbSIsICJiamZ0c3QuY29tIiwgImxhYm9ybGVzcy10ZnQuY29tIiwgIm1haWdhbmdsZS5jb20iLCAiaml1OTF5aS5jb20iLCAiZWxzdGVlbC5jb20uY24iLCAiam4zNjBzby5jbiIsICJiZGZkai5jb20iLCAibmFuZ3dqLmNvbSIsICJ6aGU5MDAuY29tIiwgInFlZ29vLmNuIiwgImZlaXN1LmNvbSIsICJoZHlkb29yLmNvbSIsICJjbm1laWppbi5jbiIsICJqeTAyNy5jb20iLCAiY25idXllcnMuY24iLCAicXE1MDEuY29tIiwgImJhb3VwaW4uY29tIiwgImpvMzY1LmNuIiwgInRhb2RpYW5qaWEuY29tIiwgIjUxMWJveC5jb20iLCAidmhhbGwuY29tIiwgIndpbmU5LmNvbSIsICJzYWZlLWJlc3QuY29tIiwgImp1ZGF6aGUuY29tIiwgImhvbmdsaW5namluLmNuIiwgImRhbmdkYW5nLmNvbSIsICJ5bmc5NjAuY29tIiwgIjM2MHNhZmUuY29tIiwgIjEwZnVyLmNvbSIsICJ0ZWFvay5jb20iLCAiNTF5aG8uY29tIiwgInNobGVpeWkuY29tIiwgImxvb2tmYW50YXN0aWMuY29tIiwgIndpbmRlbG4uZGUiLCAid2luZGVsbi5jb20uY24iLCAidHJpcGlkaS5jb20iLCAibXlwcm90ZWluLmNuIiwgIm1vdXNlci5jbiIsICJtaW9za2luY2FyZS5jb20iLCAibG9va2ZhbnRhc3RpYy5jbiIsICJpaGVyYi5jbiIsICJncm93Z29yZ2VvdXMuY29tIiwgImdsb2JhbGJsdWUuY24iLCAiZ2NtYXNpYS5jb20iLCAiZXNwcml0LmNuIiwgImJhLmRlIiwgIjc5Z29sZC5jb20iLCAic2FzYS5jb20iLCAiam9pbndld29yay5jbiIsICJyYWt1dGVuLmNvbSIsICJ0YWtleWEuY28uanAiLCAic3RyYXdiZXJyeW5ldC5jb20iLCAicm95eW91bmdjaGVtaXN0LmNvbS5hdSIsICJwaGFybWFjeW9ubGluZS5jb20uYXUiLCAicGhhcm1hY3k0bGVzcy5jb20uYXUiLCAicC1iYW5kYWkuYXNpYSIsICJnZXR0aGVsYWJlbC5jb20iLCAiZmVlbHVuaXF1ZS5jb20iLCAiYmFieWhhdmVuLmNvbSIsICJoa3RkYy5jb20iXTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmICghdC5uZXdfZXh0ZW5zaW9uKSByZXR1cm4gITE7CgkJCQlmb3IgKHZhciBlID0gZG9jdW1lbnQuZG9tYWluLCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspCgkJCQkJaWYgKGUgPT09IG5baV0pIHJldHVybiAhMDsKCQkJCXJldHVybiAhMQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkhIGZ1bmN0aW9uKCkgewoJCQlmdW5jdGlvbiBhKGUpIHsKCQkJCXJldHVybiBlLnJlcGxhY2UoaywgIiIpLnJlcGxhY2UoeiwgIiwiKS5yZXBsYWNlKEIsICIiKS5yZXBsYWNlKGosICIiKS5yZXBsYWNlKEMsICIiKS5zcGxpdChTKQoJCQl9CgoJCQlmdW5jdGlvbiBvKGUpIHsKCQkJCXJldHVybiAiJyIgKyBlLnJlcGxhY2UoLygnfFxcKS9nLCAiXFwkMSIpLnJlcGxhY2UoL1xyL2csICJcXHIiKS5yZXBsYWNlKC9cbi9nLCAiXFxuIikgKyAiJyIKCQkJfQoKCQkJZnVuY3Rpb24gcihlLCB0KSB7CgkJCQlmdW5jdGlvbiBuKGUpIHsKCQkJCQlyZXR1cm4gaCArPSBlLnNwbGl0KC9cbi8pLmxlbmd0aCAtIDEsIGQgJiYgKGUgPSBlLnJlcGxhY2UoL1xzKy9nLCAiICIpLnJlcGxhY2UoLzwhLS1bXHdcV10qPy0tPi9nLCAiIikpLCBlICYmIChlID0gZlsxXSArIG8oZSkgKyBmWzJdICsgIlxuIiksIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQl2YXIgbiA9IGg7CgkJCQkJaWYgKGMgPyBlID0gYyhlLCB0KSA6IHIgJiYgKGUgPSBlLnJlcGxhY2UoL1xuL2csIGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gaCsrLCAiJGxpbmU9IiArIGggKyAiOyIKCQkJCQl9KSksIDAgPT09IGUuaW5kZXhPZigiPSIpKSB7CgkJCQkJCXZhciBpID0gcCAmJiAhL149Wz0jXS8udGVzdChlKTsKCQkJCQkJaWYgKGUgPSBlLnJlcGxhY2UoL149Wz0jXT98W1xzO10qJC9nLCAiIiksIGkpIHsKCQkJCQkJCXZhciBvID0gZS5yZXBsYWNlKC9ccypcKFteXCldK1wpLywgIiIpOwoJCQkJCQkJX1tvXSB8fCAvXihpbmNsdWRlfHByaW50KSQvLnRlc3QobykgfHwgKGUgPSAiJGVzY2FwZSgiICsgZSArICIpIikKCQkJCQkJfSBlbHNlIGUgPSAiJHN0cmluZygiICsgZSArICIpIjsKCQkJCQkJZSA9IGZbMV0gKyBlICsgZlsyXQoJCQkJCX0KCQkJCQlyZXR1cm4gciAmJiAoZSA9ICIkbGluZT0iICsgbiArICI7IiArIGUpLCBiKGEoZSksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGUgJiYgIXVbZV0pIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJdCA9ICJwcmludCIgPT09IGUgPyB3IDogImluY2x1ZGUiID09PSBlID8gdiA6IF9bZV0gPyAiJHV0aWxzLiIgKyBlIDogeFtlXSA/ICIkaGVscGVycy4iICsgZSA6ICIkZGF0YS4iICsgZSwgeSArPSBlICsgIj0iICsgdCArICIsIiwgdVtlXSA9ICEwCgkJCQkJCX0KCQkJCQl9KSwgZSArICJcbiIKCQkJCX0KCQkJCXZhciByID0gdC5kZWJ1ZywKCQkJCQlzID0gdC5vcGVuVGFnLAoJCQkJCWwgPSB0LmNsb3NlVGFnLAoJCQkJCWMgPSB0LnBhcnNlciwKCQkJCQlkID0gdC5jb21wcmVzcywKCQkJCQlwID0gdC5lc2NhcGUsCgkJCQkJaCA9IDEsCgkJCQkJdSA9IHsKCQkJCQkJJGRhdGE6IDEsCgkJCQkJCSRmaWxlbmFtZTogMSwKCQkJCQkJJHV0aWxzOiAxLAoJCQkJCQkkaGVscGVyczogMSwKCQkJCQkJJG91dDogMSwKCQkJCQkJJGxpbmU6IDEKCQkJCQl9LAoJCQkJCW0gPSAiIi50cmltLAoJCQkJCWYgPSBtID8gWyIkb3V0PScnOyIsICIkb3V0Kz0iLCAiOyIsICIkb3V0Il0gOiBbIiRvdXQ9W107IiwgIiRvdXQucHVzaCgiLCAiKTsiLCAiJG91dC5qb2luKCcnKSJdLAoJCQkJCWcgPSBtID8gIiRvdXQrPXRleHQ7cmV0dXJuICRvdXQ7IiA6ICIkb3V0LnB1c2godGV4dCk7IiwKCQkJCQl3ID0gImZ1bmN0aW9uKCl7dmFyIHRleHQ9JycuY29uY2F0LmFwcGx5KCcnLGFyZ3VtZW50cyk7IiArIGcgKyAifSIsCgkJCQkJdiA9ICJmdW5jdGlvbihmaWxlbmFtZSxkYXRhKXtkYXRhPWRhdGF8fCRkYXRhO3ZhciB0ZXh0PSR1dGlscy4kaW5jbHVkZShmaWxlbmFtZSxkYXRhLCRmaWxlbmFtZSk7IiArIGcgKyAifSIsCgkJCQkJeSA9ICIndXNlIHN0cmljdCc7dmFyICR1dGlscz10aGlzLCRoZWxwZXJzPSR1dGlscy4kaGVscGVycywiICsgKHIgPyAiJGxpbmU9MCwiIDogIiIpLAoJCQkJCWsgPSBmWzBdLAoJCQkJCXogPSAicmV0dXJuIG5ldyBTdHJpbmcoIiArIGZbM10gKyAiKTsiOwoJCQkJYihlLnNwbGl0KHMpLCBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IGUuc3BsaXQobCk7CgkJCQkJdmFyIHQgPSBlWzBdLAoJCQkJCQlhID0gZVsxXTsKCQkJCQkxID09PSBlLmxlbmd0aCA/IGsgKz0gbih0KSA6IChrICs9IGkodCksIGEgJiYgKGsgKz0gbihhKSkpCgkJCQl9KTsKCQkJCXZhciBCID0geSArIGsgKyB6OwoJCQkJciAmJiAoQiA9ICJ0cnl7IiArIEIgKyAifWNhdGNoKGUpe3Rocm93IHtmaWxlbmFtZTokZmlsZW5hbWUsbmFtZTonUmVuZGVyIEVycm9yJyxtZXNzYWdlOmUubWVzc2FnZSxsaW5lOiRsaW5lLHNvdXJjZToiICsgbyhlKSArICIuc3BsaXQoL1xcbi8pWyRsaW5lLTFdLnJlcGxhY2UoL15cXHMrLywnJyl9O30iKTsKCQkJCXRyeSB7CgkJCQkJdmFyIGogPSBuZXcgRnVuY3Rpb24oIiRkYXRhIiwgIiRmaWxlbmFtZSIsIEIpOwoJCQkJCXJldHVybiBqLnByb3RvdHlwZSA9IF8sIGoKCQkJCX0gY2F0Y2ggKEMpIHsKCQkJCQl0aHJvdyBDLnRlbXAgPSAiZnVuY3Rpb24gYW5vbnltb3VzKCRkYXRhLCRmaWxlbmFtZSkgeyIgKyBCICsgIn0iLCBDCgkJCQl9CgkJCX0KCQkJdmFyIHMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQlyZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHQgPyB2KHQsIHsKCQkJCQlmaWxlbmFtZTogZQoJCQkJfSkgOiBkKGUsIHQpCgkJCX07CgkJCXMudmVyc2lvbiA9ICIzLjAuMCIsIHMuY29uZmlnID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJbFtlXSA9IHQKCQkJfTsKCQkJdmFyIGwgPSBzLmRlZmF1bHRzID0gewoJCQkJCW9wZW5UYWc6ICI8JSIsCgkJCQkJY2xvc2VUYWc6ICIlPiIsCgkJCQkJZXNjYXBlOiAhMCwKCQkJCQljYWNoZTogITAsCgkJCQkJY29tcHJlc3M6ICExLAoJCQkJCXBhcnNlcjogbnVsbAoJCQkJfSwKCQkJCWMgPSBzLmNhY2hlID0ge307CgkJCXMucmVuZGVyID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJcmV0dXJuIHYoZSwgdCkKCQkJfTsKCQkJdmFyIGQgPSBzLnJlbmRlckZpbGUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IHMuZ2V0KGUpIHx8IHcoewoJCQkJCWZpbGVuYW1lOiBlLAoJCQkJCW5hbWU6ICJSZW5kZXIgRXJyb3IiLAoJCQkJCW1lc3NhZ2U6ICJUZW1wbGF0ZSBub3QgZm91bmQiCgkJCQl9KTsKCQkJCXJldHVybiB0ID8gbih0KSA6IG4KCQkJfTsKCQkJcy5nZXQgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdDsKCQkJCWlmIChjW2VdKSB0ID0gY1tlXTsKCQkJCWVsc2UgaWYgKCJvYmplY3QiID09IHR5cGVvZiBkb2N1bWVudCkgewoJCQkJCXZhciBuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7CgkJCQkJaWYgKG4pIHsKCQkJCQkJdmFyIGkgPSAobi52YWx1ZSB8fCBuLmlubmVySFRNTCkucmVwbGFjZSgvXlxzKnxccyokL2csICIiKTsKCQkJCQkJdCA9IHYoaSwgewoJCQkJCQkJZmlsZW5hbWU6IGUKCQkJCQkJfSkKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gdAoJCQl9OwoJCQl2YXIgcCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlyZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIGUgJiYgKHQgPSB0eXBlb2YgZSwgIm51bWJlciIgPT09IHQgPyBlICs9ICIiIDogZSA9ICJmdW5jdGlvbiIgPT09IHQgPyBwKGUuY2FsbChlKSkgOiAiIiksIGUKCQkJCX0sCgkJCQloID0gewoJCQkJCSI8IjogIiYjNjA7IiwKCQkJCQkiPiI6ICImIzYyOyIsCgkJCQkJJyInOiAiJiMzNDsiLAoJCQkJCSInIjogIiYjMzk7IiwKCQkJCQkiJiI6ICImIzM4OyIKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBoW2VdCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gcChlKS5yZXBsYWNlKC8mKD8hW1x3I10rOyl8Wzw+IiddL2csIHUpCgkJCQl9LAoJCQkJZiA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAiW29iamVjdCBBcnJheV0iID09PSB7fS50b1N0cmluZy5jYWxsKGUpCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaTsKCQkJCQlpZiAoZihlKSkKCQkJCQkJZm9yIChuID0gMCwgaSA9IGUubGVuZ3RoOyBpID4gbjsgbisrKSB0LmNhbGwoZSwgZVtuXSwgbiwgZSk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKG4gaW4gZSkgdC5jYWxsKGUsIGVbbl0sIG4pCgkJCQl9LAoJCQkJXyA9IHMudXRpbHMgPSB7CgkJCQkJJGhlbHBlcnM6IHt9LAoJCQkJCSRpbmNsdWRlOiBkLAoJCQkJCSRzdHJpbmc6IHAsCgkJCQkJJGVzY2FwZTogbSwKCQkJCQkkZWFjaDogZwoJCQkJfTsKCQkJcy5oZWxwZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl4W2VdID0gdAoJCQl9OwoJCQl2YXIgeCA9IHMuaGVscGVycyA9IF8uJGhlbHBlcnM7CgkJCXMub25lcnJvciA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciB0ID0gIlRlbXBsYXRlIEVycm9yXG5cbiI7CgkJCQlmb3IgKHZhciBuIGluIGUpIHQgKz0gIjwiICsgbiArICI+XG4iICsgZVtuXSArICJcblxuIjsKCQkJCSJvYmplY3QiID09IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUuZXJyb3IodCkKCQkJfTsKCQkJdmFyIHcgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHMub25lcnJvcihlKSwKCQkJCQkJZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gIntUZW1wbGF0ZSBFcnJvcn0iCgkJCQkJCX0KCQkJCX0sCgkJCQl2ID0gcy5jb21waWxlID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZ1bmN0aW9uIG4obikgewoJCQkJCQl0cnkgewoJCQkJCQkJcmV0dXJuIG5ldyBvKG4sIGEpICsgIiIKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJcmV0dXJuIHQuZGVidWcgPyB3KGkpKCkgOiAodC5kZWJ1ZyA9ICEwLCB2KGUsIHQpKG4pKQoJCQkJCQl9CgkJCQkJfQoJCQkJCXQgPSB0IHx8IHt9OwoJCQkJCWZvciAodmFyIGkgaW4gbCkgdm9pZCAwID09PSB0W2ldICYmICh0W2ldID0gbFtpXSk7CgkJCQkJdmFyIGEgPSB0LmZpbGVuYW1lOwoJCQkJCXRyeSB7CgkJCQkJCXZhciBvID0gcihlLCB0KQoJCQkJCX0gY2F0Y2ggKHMpIHsKCQkJCQkJcmV0dXJuIHMuZmlsZW5hbWUgPSBhIHx8ICJhbm9ueW1vdXMiLCBzLm5hbWUgPSAiU3ludGF4IEVycm9yIiwgdyhzKQoJCQkJCX0KCQkJCQlyZXR1cm4gbi5wcm90b3R5cGUgPSBvLnByb3RvdHlwZSwgbi50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gby50b1N0cmluZygpCgkJCQkJfSwgYSAmJiB0LmNhY2hlICYmIChjW2FdID0gbiksIG4KCQkJCX0sCgkJCQliID0gXy4kZWFjaCwKCQkJCXkgPSAiYnJlYWssY2FzZSxjYXRjaCxjb250aW51ZSxkZWJ1Z2dlcixkZWZhdWx0LGRlbGV0ZSxkbyxlbHNlLGZhbHNlLGZpbmFsbHksZm9yLGZ1bmN0aW9uLGlmLGluLGluc3RhbmNlb2YsbmV3LG51bGwscmV0dXJuLHN3aXRjaCx0aGlzLHRocm93LHRydWUsdHJ5LHR5cGVvZix2YXIsdm9pZCx3aGlsZSx3aXRoLGFic3RyYWN0LGJvb2xlYW4sYnl0ZSxjaGFyLGNsYXNzLGNvbnN0LGRvdWJsZSxlbnVtLGV4cG9ydCxleHRlbmRzLGZpbmFsLGZsb2F0LGdvdG8saW1wbGVtZW50cyxpbXBvcnQsaW50LGludGVyZmFjZSxsb25nLG5hdGl2ZSxwYWNrYWdlLHByaXZhdGUscHJvdGVjdGVkLHB1YmxpYyxzaG9ydCxzdGF0aWMsc3VwZXIsc3luY2hyb25pemVkLHRocm93cyx0cmFuc2llbnQsdm9sYXRpbGUsYXJndW1lbnRzLGxldCx5aWVsZCx1bmRlZmluZWQiLAoJCQkJayA9IC9cL1wqW1x3XFddKj9cKlwvfFwvXC9bXlxuXSpcbnxcL1wvW15cbl0qJHwiKD86W14iXFxdfFxcW1x3XFddKSoifCcoPzpbXidcXF18XFxbXHdcV10pKid8XHMqXC5ccypbJFx3XC5dKy9nLAoJCQkJeiA9IC9bXlx3JF0rL2csCgkJCQlCID0gbmV3IFJlZ0V4cChbIlxcYiIgKyB5LnJlcGxhY2UoLywvZywgIlxcYnxcXGIiKSArICJcXGIiXS5qb2luKCJ8IiksICJnIiksCgkJCQlqID0gL15cZFteLF0qfCxcZFteLF0qL2csCgkJCQlDID0gL14sK3wsKyQvZywKCQkJCVMgPSAvXiR8LCsvOwoJCQlsLm9wZW5UYWcgPSAie3siLCBsLmNsb3NlVGFnID0gIn19IjsKCQkJdmFyIE4gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl2YXIgbiA9IHQuc3BsaXQoIjoiKSwKCQkJCQlpID0gbi5zaGlmdCgpLAoJCQkJCWEgPSBuLmpvaW4oIjoiKSB8fCAiIjsKCQkJCXJldHVybiBhICYmIChhID0gIiwgIiArIGEpLCAiJGhlbHBlcnMuIiArIGkgKyAiKCIgKyBlICsgYSArICIpIgoJCQl9OwoJCQlsLnBhcnNlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWUgPSBlLnJlcGxhY2UoL15ccy8sICIiKTsKCQkJCXZhciBuID0gZS5zcGxpdCgiICIpLAoJCQkJCWkgPSBuLnNoaWZ0KCksCgkJCQkJYSA9IG4uam9pbigiICIpOwoJCQkJc3dpdGNoIChpKSB7CgkJCQkJY2FzZSAiaWYiOgoJCQkJCQllID0gImlmKCIgKyBhICsgIil7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAiZWxzZSI6CgkJCQkJCW4gPSAiaWYiID09PSBuLnNoaWZ0KCkgPyAiIGlmKCIgKyBuLmpvaW4oIiAiKSArICIpIiA6ICIiLCBlID0gIn1lbHNlIiArIG4gKyAieyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgIi9pZiI6CgkJCQkJCWUgPSAifSI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgImVhY2giOgoJCQkJCQl2YXIgbyA9IG5bMF0gfHwgIiRkYXRhIiwKCQkJCQkJCXIgPSBuWzFdIHx8ICJhcyIsCgkJCQkJCQlsID0gblsyXSB8fCAiJHZhbHVlIiwKCQkJCQkJCWMgPSBuWzNdIHx8ICIkaW5kZXgiLAoJCQkJCQkJZCA9IGwgKyAiLCIgKyBjOwoJCQkJCQkiYXMiICE9PSByICYmIChvID0gIltdIiksIGUgPSAiJGVhY2goIiArIG8gKyAiLGZ1bmN0aW9uKCIgKyBkICsgIil7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAiL2VhY2giOgoJCQkJCQllID0gIn0pOyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgImVjaG8iOgoJCQkJCQllID0gInByaW50KCIgKyBhICsgIik7IjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAicHJpbnQiOgoJCQkJCWNhc2UgImluY2x1ZGUiOgoJCQkJCQllID0gaSArICIoIiArIG4uam9pbigiLCIpICsgIik7IjsKCQkJCQkJYnJlYWs7CgkJCQkJZGVmYXVsdDoKCQkJCQkJaWYgKC9eXHMqXHxccypbXHdcJF0vLnRlc3QoYSkpIHsKCQkJCQkJCXZhciBwID0gITA7CgkJCQkJCQkwID09PSBlLmluZGV4T2YoIiMiKSAmJiAoZSA9IGUuc3Vic3RyKDEpLCBwID0gITEpOwoJCQkJCQkJZm9yICh2YXIgaCA9IDAsIHUgPSBlLnNwbGl0KCJ8IiksIG0gPSB1Lmxlbmd0aCwgZiA9IHVbaCsrXTsgbSA+IGg7IGgrKykgZiA9IE4oZiwgdVtoXSk7CgkJCQkJCQllID0gKHAgPyAiPSIgOiAiPSMiKSArIGYKCQkJCQkJfSBlbHNlIGUgPSBzLmhlbHBlcnNbaV0gPyAiPSMiICsgaSArICIoIiArIG4uam9pbigiLCIpICsgIik7IiA6ICI9IiArIGUKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0sIGkgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiBzCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQlpID0gZnVuY3Rpb24oKSB7CgkJCXZhciBlID0ge30sCgkJCQl0ID0ge307CgkJCXJldHVybiBlLmdldCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXJldHVybiB0W2VdCgkJCX0sIGUuc2V0ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJdm9pZCAwID09PSBuICYmIGUgPyB0ID0gZSA6IHRbZV0gPSBuCgkJCX0sIGUKCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gdC51X3NlcnZlciwKCQkJCQlpID0gInUuIiArIHQudV9rZXkgKyAiLmNvbSI7CgkJCQlpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsKCQkJCQlpZiAoZS51cmwuaW5kZXhPZihpKSA+IC0xKSByZXR1cm4gZS51cmw7CgkJCQkJdmFyIGEgPSAiIjsKCQkJCQlyZXR1cm4gZS5leHQgJiYgKGEgPSAiLSIgKyBlLmV4dCksIGUuaXNfbW9iaWxlICYmIGUuaXNicm93c2VyID8gZS51cmwgOiBuICsgIi91bmlvbi9nby8/c2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZ0YXJnZXRfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwpICsgIiZ1bmlvbj0iICsgZS51bmlvbiArICImY29sdW1uPSIgKyBlLm1vZCArICItIiArIGUuZHBfaWQgKyBhCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG4gIDxsaSBjbGFzcz0ie3skaW5kZXg9PTA/XCdsaV9maXJzdFwnOlwnXCd9fSI+XG4gICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgIDxpbWcgc3JjPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iPlxuICAgICAge3tpZiAkdmFsdWUubmV3ZGlzY291bnR9fVxuICAgICAgICA8ZW0+e3skdmFsdWUubmV3ZGlzY291bnR9feaKmDwvZW0+XG4gICAgICB7ey9pZn19XG4gICAgPC9hPlxuICAgIDxkaXYgY2xhc3M9ImlubmVyX2RwX2Rlc2MiPlxuICAgICAgPGEgY2xhc3M9ImRwX3RpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAge3skdmFsdWUudGl0bGV9fVxuICAgICAgPC9hPlxuICAgICAgPGEgY2xhc3M9InNtYWxsX2Rlc2MiPlxuICAgICAgICB7e2lmICR2YWx1ZS5zaXRlX25hbWV9fVxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iIHRpdGxlPSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSI+PGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZmF2aWNvbi97eyR2YWx1ZS5zaXRlX2lkfX0uaWNvIj48L3NwYW4+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgICAgPHNwYW4gY2xhc3M9Im5ld19wcmljZSI+XG4gICAgICAgICAge3tpZiAkdmFsdWUudHlwZXMgPT0gXCdmYXNoaW9uXCd9fVxuICAgICAgICAgICAgwqVcbiAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAge3skdmFsdWUucHJpY2V9fVxuXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im9sZF9wcmljZSIgc3R5bGU9ImRpc3BsYXk6IHt7KCR2YWx1ZS5oaWdoZXN0KT9cJ2lubGluZS1ibG9ja1wnOlwnbm9uZVwnfX0iPnt7JHZhbHVlLmhpZ2hlc3R9fTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9pbm5lcl9sb3ciIGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UiPlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfaGVhZCI+XG4gICAgPGEgY2xhc3M9InNpdGVfaWNvbiIge3tpZiBuZXdfZXh0ZW5zaW9ufX0gaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIiB7ey9pZn19PjwvYT5cbiAgICA8cD5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg5b2T5YmN6aG1e3tudW19feasvuWVhuWTgeWkhOS6juWOhuWPsuacgOS9juS7t1xuICAgICAge3tlbHNlfX1cbiAgICAgICAg54yc5L2g5Zac5qyiXG4gICAgICB7ey9pZn19XG4gICAgPC9wPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfcGFnZSI+XG4gICAgICA8c3BhbiBjbGFzcz0iY3VyX3BhZ2UiPjE8L3NwYW4+XG4gICAgICA8c3Bhbj4vPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9InRvdGFsX3BhZ2UiPjE8L3NwYW4+XG4gICAgPC9hPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2NvbnRlbnQiPlxuICAgIDxhIGNsYXNzPSJpbm5lcl9wYWdlX2xlZnQgdHVybnBhZ2UiPjxlbT48L2VtPjwvYT5cbiAgICA8ZGl2IGNsYXNzPSJpbm5lcl9wcm9fbGlzdCIgPlxuICAgICAgPHVsPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtPjwvZW0+PC9hPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAzMThweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19XzUxYnV5IC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2V7XG4gICAgICB3aWR0aDogOTklO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1fZGFuZ2RhbmcgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9mZWluaXUgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHtcbiAgICAgIGhlaWdodDogNTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHAge1xuICAgICAgbGluZS1oZWlnaHQ6IDUycHg7XG4gICAgICBoZWlnaHQ6IDUycHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIG1hcmdpbi1sZWZ0OiA1OXB4O1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2hlYWQgLnNpdGVfaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMThweDtcbiAgICAgIGxlZnQ6IDE4cHg7XG4gICAgICBoZWlnaHQ6IDIxcHg7XG4gICAgICB3aWR0aDogMjRweDtcbiAgICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9qZ3dzX3NpdGVfaWNvbjJfMS5wbmdcJykgbm8tcmVwZWF0O1xuICAgICAge3tlbHNlfX1cbiAgICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTFsb2dvLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgICB7ey9pZn19XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgKntcbiAgICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCwuaW5uZXJfcGFnZV9yaWdodCB7XG4gICAgICB3aWR0aDogNjJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIGEuaW5uZXJfcGFnZV9sZWZ0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTViYWNrX25vcm1hbC5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCBlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWJhY2tfaG92ZXIuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmlubmVyX3BhZ2VfcmlnaHQgZW0ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICBtYXJnaW4tdG9wOiA4MHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWZvcndhcmRfbm9ybWFsLmpwZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy8xMjE1Zm9yd2FyZF9ob3Zlci5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9sZWZ0LCAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpLmxpX2ZpcnN0IHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkgLml0ZW1faW1nIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIGxpIGltZyB7XG4gICAgICBoZWlnaHQ6IDE3MHB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIGxpIC5zaXRlX2ljb24gaW1ne1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE1NDEyO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYyAubmV3X3ByaWNlIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjZDgwMDAwO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5vbGRfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM5RkEwQTA7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nOwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaV9taW4iIGNsYXNzPSJsb3dwX2JnXG4gIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICBiZ19sb3dcbiAge3tlbHNlfX1cbiAgICBiZ19ndWVzc1xuICB7ey9pZn19XG4iPjwvZGl2PlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaSIgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQiPlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2hlYWQiPlxuICAgIDxzcGFuIGNsYXNzPSJjbG9zZV9idG4iIHRpdGxlPSLlhbPpl60iPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Im1hcmdpblQiPjwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2NvbnRlbnQiPlxuICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X2xvd3ByaV9saXN0Ij5cbiAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgPGxpIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2l0ZW0ge3tleHRCcmFuZH19X2luZGV4e3soJGluZGV4PT1kYXRhLmxlbmd0aC0xKT8kaW5kZXg6MH19Ij5cbiAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2RwX2ltZyB7e2V4dE5hbWV9fV9saW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgZGF0YS10aXA9InRpcF9saW5rIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19Ij5cbiAgICAgICAgICAgIHt7aWYgJHZhbHVlLm5ld2Rpc2NvdW50fX1cbiAgICAgICAgICAgICAgPGVtPnt7JHZhbHVlLm5ld2Rpc2NvdW50fX3mipg8L2VtPlxuICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fZHBfZGVzIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fcHJpY2UiID7CpXt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICB7e2lmICR2YWx1ZS5oaWdoZXN0fX1cbiAgICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9sYXN0X3ByaWNlIj7CpXt7JHZhbHVlLmhpZ2hlc3R9fTwvYT5cbiAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIHt7L2VhY2h9fVxuICAgIDwvdWw+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgPHNwYW4gY2xhc3M9InBhZ2VfbGVmdCBsb3dwX2JnIG9uZV9wYWdlIj48L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InBlcnBhZ2UiPjE8L3NwYW4+XG4gICAgPHNwYW4+Lzwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0idG90YWxwYWdlIj57e3BhZ2VudW19fTwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0icGFnZV9yaWdodCBsb3dwX2JnIG9uZV9wYWdlIj48L3NwYW4+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAvKueMnOS9oOWWnOasouaooeWdlyovXG4gICN7e2V4dEJyYW5kfX1fbG93cHJpX21pbntcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgcmlnaHQ6IDBweDtcbiAgICBoZWlnaHQ6IDEyNXB4O1xuICAgIHRvcDogMTc2cHg7XG4gICAgd2lkdGg6IDM0cHg7XG4gICAgei1pbmRleDogMjE0NzQ4MzY0MDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTNweCAtMnB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpX21pbi5fbW92ZVJpZ2h0LCAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0Ll9tb3ZlUmlnaHR7XG4gICAgcmlnaHQ6IDM4cHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWluOmhvdmVye1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDNweCAtMnB4O1xuICB9XG4gIC5tYXJnaW5UIHtcbiAgICBoZWlnaHQ6IDEycHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgcmlnaHQ6IDBweDtcbiAgICB0b3A6IDE3NnB4O1xuICAgIHdpZHRoOjEzNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkYmRiZGI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB6LWluZGV4OiAyMTQ3NDgzNjQwO1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLmNsb3NlX2J0bntcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGhlaWdodDogMjBweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvc2VhcmNoUHJpUmlnaHRMb3dfY2xvc2UucG5nXCcpIDhweCAzcHggbm8tcmVwZWF0O1xuICB9XG4gIC5scF9kZXNjMSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAzOXB4O1xuICAgIHRvcDogMTRweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuICAubHBfZGVzYzIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDI5cHg7XG4gICAgbGVmdDogNDBweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fc2l0ZV9pY29uIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiA4cHg7XG4gICAgdG9wOiAxNHB4O1xuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvc2VhcmNoUHJpUmlnaHRMb3dfamd3c2xvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3NlYXJjaFByaVJpZ2h0TG93X2xvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7ey9pZn19XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2xvd3ByaV9jb250ZW50e1xuICAgIGhlaWdodDogMzU1cHg7XG4gICAgd2lkdGg6IDEzNHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfbGlzdCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIG1hcmdpbjogMHB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfaGVhZHtcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgY29sb3I6IzI4ODdjOTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgd2lkdGg6IDEzNHB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgdWwgbGl7XG4gICAgaGVpZ2h0OiAxNTRweDtcbiAgICB3aWR0aDogMTM0cHg7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICBhLnt7ZXh0QnJhbmR9fV9kcF9pbWcge1xuICAgICAgaGVpZ2h0OiAxMTBweDtcbiAgICAgIHdpZHRoOiAxMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gIC57e2V4dEJyYW5kfX1fZHBfaW1nIGltZyB7XG4gICAgaGVpZ2h0OiAxMTBweDtcbiAgICB3aWR0aDogMTEwcHg7XG4gIH1cbiAgLnt7ZXh0QnJhbmR9fV9kcF9pbWcgZW0ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwcHg7XG4gICAgYm90dG9tOiAwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjVlMDA7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgd2lkdGg6IDQycHg7XG4gICAgaGVpZ2h0OiAxNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICB9XG5cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X3ByaWNle1xuICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjZDgwMDAwO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuICAucGFnZXMge1xuICAgIGhlaWdodDogMzhweDtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UxZTFlMTtcbiAgfVxuICAucGFnZXMgc3BhbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgd2lkdGg6IDEycHg7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgfVxuICAue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAucGFnZXMgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cbiAgLnBhZ2VzIC5wYWdlX2xlZnQge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMThweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTg1cHggLTYxcHg7XG4gIH1cbiAgLnBhZ2VzIC5wYWdlX3JpZ2h0IHtcbiAgICBtYXJnaW4tbGVmdDogMjJweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEwOHB4IC02MXB4O1xuICB9XG4gIC5wYWdlcyAub25lX3BhZ2Uge1xuICAgIHt7aWYgcGFnZW51bSA9PSAxfX1cbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAge3svaWZ9fVxuICB9XG4gIC5sb3dwX2JnIHtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2xvd19uZXcyLnBuZ1wnKTtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2xvd19uZXcxLnBuZ1wnKTtcbiAgICB7ey9pZn19XG4gIH1cbiAgLmxvd3BfYmcuYmdfZ3Vlc3Mge1xuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvcmlnaHRfZ3Vlc3NfbmV3Mi5wbmdcJyk7XG4gICAge3tlbHNlfX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9ndWVzc19uZXcxLnBuZ1wnKTtcbiAgICB7ey9pZn19XG4gICAgXG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2RwX2RlcyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAxNTBweFxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9kcF9kZXM+IGF7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAxMTBweDtcbiAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIH1cblxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fZHBfZGVzIC57e2V4dEJyYW5kfX1fbGFzdF9wcmljZSB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGNvbG9yOiAjOUZBMEEwO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IC01cHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAqe1xuICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG4gICAgXG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fbG93cHJpX21pbiIgY2xhc3M9Imxvd3BfYmdcbiAge3tpZiB0eXBlID09IFwnbG93XCd9fVxuICAgIGJnX2xvd1xuICB7e2Vsc2V9fVxuICAgIGJnX2d1ZXNzXG4gIHt7L2lmfX1cbiI+PC9kaXY+XG48ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fbG93cHJpIiBjbGFzcz0ie3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCI+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfaGVhZCI+XG4gICAgPHNwYW4gY2xhc3M9ImNsb3NlX2J0biIgdGl0bGU9IuWFs+mXrSI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibWFyZ2luVCI+PC9kaXY+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfY29udGVudCI+XG4gICAgPHVsIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbG93cHJpX2xpc3QiPlxuICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fV9sb3dwcmlfaXRlbSB7e2V4dEJyYW5kfX1faW5kZXh7eygkaW5kZXg9PWRhdGEubGVuZ3RoLTEpPyRpbmRleDowfX0iPlxuICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fZHBfaW1nIHt7ZXh0TmFtZX19X2xpbmsiIGhyZWY9Int7JHZhbHVlLnVybH19IiBkYXRhLXRpcD0idGlwX2xpbmsiIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICAgICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nX3VybH19IiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iPlxuICAgICAgICAgICAge3tpZiAkdmFsdWUubmV3ZGlzY291bnR9fVxuICAgICAgICAgICAgICA8ZW0+e3skdmFsdWUubmV3ZGlzY291bnR9feaKmDwvZW0+XG4gICAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9kcF9kZXMiPlxuICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9wcmljZSIgPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgIHt7aWYgJHZhbHVlLmhpZ2hlc3R9fVxuICAgICAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2xhc3RfcHJpY2UiPsKle3skdmFsdWUuaGlnaGVzdH19PC9hPlxuICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgPC91bD5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9InBhZ2VzIj5cbiAgICA8c3BhbiBjbGFzcz0icGFnZV9sZWZ0IGxvd3BfYmcgb25lX3BhZ2UiPjwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz0icGVycGFnZSI+MTwvc3Bhbj5cbiAgICA8c3Bhbj4vPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ0b3RhbHBhZ2UiPnt7cGFnZW51bX19PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJwYWdlX3JpZ2h0IGxvd3BfYmcgb25lX3BhZ2UiPjwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC8q54yc5L2g5Zac5qyi5qih5Z2XKi9cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWlue1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMHB4O1xuICAgIGhlaWdodDogMTI1cHg7XG4gICAgdG9wOiAxNzZweDtcbiAgICB3aWR0aDogMzRweDtcbiAgICB6LWluZGV4OiAyMTQ3NDgzNjQwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtM3B4IC0ycHg7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfbWluLl9tb3ZlUmlnaHQsICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQuX21vdmVSaWdodHtcbiAgICByaWdodDogMzhweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaV9taW46aG92ZXJ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0M3B4IC0ycHg7XG4gIH1cbiAgLm1hcmdpblQge1xuICAgIGhlaWdodDogMTJweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0e1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMTc2cHg7XG4gICAgd2lkdGg6MTM0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RiZGJkYjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIHotaW5kZXg6IDIxNDc0ODM2NDA7XG4gIH1cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAuY2xvc2VfYnRue1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDNweDtcbiAgICB0b3A6IDdweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy97e2V4dEJyYW5kfX1fY2xvc2VfaWNvbjIucG5nXCcpIDNweCA0cHggbm8tcmVwZWF0O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9zaXRlX2ljb24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgd2lkdGg6IDI2cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDVweDtcbiAgICB0b3A6IDRweDtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3t7ZXh0QnJhbmR9fV9zaXRlX2ljb24yXzEucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB7e2Vsc2V9fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2d3ZF9zaXRlX2ljb24yLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAge3svaWZ9fVxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfY29udGVudHtcbiAgICBoZWlnaHQ6IDM1NXB4O1xuICAgIHdpZHRoOiAxMzRweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fbG93cHJpX2xpc3Qge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDBweDtcbiAgICBtYXJnaW46IDBweDtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fbG93cHJpX2hlYWR7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICAgIHdpZHRoOiAxMzRweDtcbiAgICBjb2xvcjojMjg4N2M5O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IHVsIGxpe1xuICAgIHt7aWYgdHlwZT09IFwnbG93XCd9fVxuICAgICAgaGVpZ2h0OiAxNTRweDtcbiAgICB7e2Vsc2V9fVxuICAgICAgaGVpZ2h0OiAxNDBweDtcbiAgICB7ey9pZn19XG4gICAgd2lkdGg6IDEzNHB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbiAgYS57e2V4dEJyYW5kfX1fZHBfaW1nIHtcbiAgICAgIGhlaWdodDogMTEwcHg7XG4gICAgICB3aWR0aDogMTEwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAue3tleHRCcmFuZH19X2RwX2ltZyBpbWcge1xuICAgIGhlaWdodDogMTEwcHg7XG4gICAgd2lkdGg6IDExMHB4O1xuICB9XG4gIC57e2V4dEJyYW5kfX1fZHBfaW1nIGVtIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMHB4O1xuICAgIGJvdHRvbTogMHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1ZTAwO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIHdpZHRoOiA0MnB4O1xuICAgIGhlaWdodDogMTVweDtcbiAgICBsaW5lLWhlaWdodDogMTVweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgfVxuXG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9wcmljZXtcbiAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogI2Q4MDAwMDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cbiAgLnBhZ2VzIHtcbiAgICBoZWlnaHQ6IDM4cHg7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlMWUxZTE7XG4gIH1cbiAgLnBhZ2VzIHNwYW4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHdpZHRoOiAxMnB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gIH1cbiAgLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnBhZ2VzIHNwYW4ge1xuICAgIGZsb2F0OiBsZWZ0O1xuICB9XG4gIC5wYWdlcyAucGFnZV9sZWZ0IHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE4cHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC04NXB4IC02MXB4O1xuICB9XG4gIC5wYWdlcyAucGFnZV9yaWdodCB7XG4gICAgbWFyZ2luLWxlZnQ6IDIycHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMDhweCAtNjFweDtcbiAgfVxuICAucGFnZXMgLm9uZV9wYWdlIHtcbiAgICB7e2lmIHBhZ2VudW0gPT0gMX19XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIHt7L2lmfX1cbiAgfVxuICAubG93cF9iZyB7XG4gICAge3tpZiBuZXdfZXh0ZW5zaW9ufX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9sb3dfbmV3Mi5wbmdcJyk7XG4gICAge3tlbHNlfX1cbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9yaWdodF9sb3dfbmV3MS5wbmdcJyk7XG4gICAge3svaWZ9fVxuICB9XG4gIC5sb3dwX2JnLmJnX2d1ZXNzIHtcbiAgICB7e2lmIG5ld19leHRlbnNpb259fVxuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3JpZ2h0X2d1ZXNzX25ldzIucG5nXCcpO1xuICAgIHt7ZWxzZX19XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvcmlnaHRfZ3Vlc3NfbmV3MS5wbmdcJyk7XG4gICAge3svaWZ9fVxuICAgIFxuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgLnt7ZXh0QnJhbmR9fV9kcF9kZXMge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogMTUwcHhcbiAgfVxuICAje3tleHRCcmFuZH19X2xvd3ByaS57e2V4dEJyYW5kfX1fbG93cHJpX3JpZ2h0IC57e2V4dEJyYW5kfX1fZHBfZGVzPiBhe1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogMTEwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICB9XG5cbiAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkue3tleHRCcmFuZH19X2xvd3ByaV9yaWdodCAue3tleHRCcmFuZH19X2RwX2RlcyAue3tleHRCcmFuZH19X2xhc3RfcHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBjb2xvcjogIzlGQTBBMDtcbiAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAtNXB4O1xuICB9XG4gICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfcmlnaHQgKntcbiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICAgIFxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgoJCQlmdW5jdGlvbiBhKGUpIHsKCQkJCWUgPSBrKGUpOwoJCQkJdmFyIG4gPSB1KCk7CgkJCQlpZiAoMCAhPT0gbikgewoJCQkJCWcgPSBlLmxlbmd0aCAlIG4gPT0gMCA/IGUubGVuZ3RoIC8gbiA6IHBhcnNlSW50KGUubGVuZ3RoIC8gbikgKyAxLCB0KCJib2R5IikuYXBwZW5kKF8uY29tcGlsZShmKSh7CgkJCQkJCWRhdGE6IGUsCgkJCQkJCXR5cGU6IGIudHlwZSwKCQkJCQkJZGF0YVNpemU6IGUubGVuZ3RoLAoJCQkJCQlwYWdlbnVtOiBnLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQkJbmV3X2V4dGVuc2lvbjogaS5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQkJfSkpOwoJCQkJCXZhciBhID0gIuWQjOexu+WOhuWPsuacgOS9juiKguS7tyI7CgkJCQkJImZhdm9yIiA9PSBiLnR5cGUgJiYgKGEgPSAi54yc5L2g5Zac5qyiIiksIHYubG9nKGEgKyAi5Y+z5L6n5oKs5rWu5bGV56S6IiksIHMoKSwgbCgpLCBvKDAsIG4pLCByKCksIGMoYSksIGkuSUU3ICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgdWwgbGkiKS5jc3MoInBhZGRpbmctdG9wIiwgIjBweCIpCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSwgbikgewoJCQkJdmFyIGEgPSB0KCIuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCBsaSIpOwoJCQkJdy5pbml0KGEsIGUsIG4sIDcwKQoJCQl9CgoJCQlmdW5jdGlvbiByKCkgewoJCQkJdCh3aW5kb3cpLndpZHRoKCkgPD0gMTI4MCAmJiAoeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLmhpZGUoKSkKCQkJfQoKCQkJZnVuY3Rpb24gcygpIHsKCQkJCXZhciBlID0gewoJCQkJCQlmYXZvcjogMTQwLAoJCQkJCQlsb3c6IDE1NAoJCQkJCX0sCgkJCQkJbiA9IHUoKSwKCQkJCQlhID0gZVtiLnR5cGVdLAoJCQkJCW8gPSBhICogbjsKCQkJCWkuSUU3ICYmIChvICs9IG4pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2NvbnRlbnQiKS5jc3MoImhlaWdodCIsIG8gKyAicHgiKQoJCQl9CgoJCQlmdW5jdGlvbiBsKCkgewoJCQkJdmFyIGUgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2d1ZXNzX2Zhdm9yIik7CgkJCQlpZiAodChlKS5pcygiOnZpc2libGUiKSkgewoJCQkJCXZhciBuID0gdChlKS5vZmZzZXQoKSwKCQkJCQkJYSA9IHQoIi4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0Iikub2Zmc2V0KCksCgkJCQkJCW8gPSB0KHdpbmRvdykud2lkdGgoKSAtIDIwMiwKCQkJCQkJciA9IHQoIiMiICsgaS5leHRCcmFuZCArICJfZ3Vlc3NfZmF2b3IiKS5vdXRlcldpZHRoKCksCgkJCQkJCXMgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2d1ZXNzX2Zhdm9yIikub3V0ZXJIZWlnaHQoKTsKCQkJCQluLmxlZnQgKyByID49IG8gJiYgYS50b3AgPD0gbi50b3AgKyBzID8gdCgiLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQiKS5oaWRlKCkgOiB0KCIuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCIpLnNob3coKQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCXQoIi5wYWdlX3JpZ2h0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaCgpLCBkKDEpCgkJCQl9KSwgdCgiLnBhZ2VfbGVmdCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXAoKSwgZCgtMSkKCQkJCX0pLCB0KCIuY2xvc2VfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IikuaGlkZSgpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbWluIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJeSA9ICExLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0Iikuc2hvdygpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2LmxvZyhlICsgIuWPs+S+p+aCrOa1rueCueWHuyIpCgkJCQl9KSwgdCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQl5ICYmICh0KHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAxZTMgJiYgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCIpLmhpZGUoKSwgdCh3aW5kb3cpLnNjcm9sbFRvcCgpIDwgMWUzICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQiKS5zaG93KCksIGwoKSkKCQkJCX0pLCB0KHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkgewoJCQkJCXkgJiYgbCgpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCXZhciBuID0gcGFyc2VJbnQodCgiLnBlcnBhZ2UiKS50ZXh0KCkpOwoJCQkJMSA9PSBlICYmIChuID09IGcgPyBuID0gMSA6IChvKG4gKiB1KCksIChuICsgMSkgKiB1KCkpLCBuICs9IDEpKSwgLTEgPT0gZSAmJiAoMSA9PSBuID8gbiA9IGcgOiAobiAtPSAxLCBvKG4gKiB1KCksIChuICsgMSkgKiB1KCkpKSksIHQoIi5wZXJwYWdlIikudGV4dChuKQoJCQl9CgoJCQlmdW5jdGlvbiBwKCkgewoJCQkJdmFyIGUgPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2NvbnRlbnQiKS5oZWlnaHQoKSwKCQkJCQluID0gcGFyc2VJbnQodCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9saXN0IikuY3NzKCJ0b3AiKS5yZXBsYWNlKCJweCIsICIiKSksCgkJCQkJYSA9IHBhcnNlSW50KHQoIi5wZXJwYWdlIikudGV4dCgpKTsKCQkJCWkuSUU3ID8gKDEgPT0gYSAmJiAobiA9IC1lICogZyksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiArIGUgKyAicHgiKSkgOiAoMSA9PSBhICYmIChuID0gLWUgKiBnLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2xpc3QiKS5jc3MoInRvcCIsIG4gKyAicHgiKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiArIGUgKyAicHgiKSkKCQkJfQoKCQkJZnVuY3Rpb24gaCgpIHsKCQkJCXZhciBlID0gdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9jb250ZW50IikuaGVpZ2h0KCksCgkJCQkJbiA9IHBhcnNlSW50KHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIikucmVwbGFjZSgicHgiLCAiIikpLAoJCQkJCWEgPSBwYXJzZUludCh0KCIucGVycGFnZSIpLnRleHQoKSk7CgkJCQlpLklFNyA/IChhID09IGcgJiYgKG4gPSBlKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9yaWdodCAuIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9saXN0IikuY3NzKCJ0b3AiLCBuIC0gZSArICJweCIpKSA6IChhID09IGcgJiYgKG4gPSBlLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaS4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX3JpZ2h0IC4iICsgaS5leHRCcmFuZCArICJfbG93cHJpX2xpc3QiKS5jc3MoInRvcCIsIG4gKyAicHgiKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfcmlnaHQgLiIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfbGlzdCIpLmNzcygidG9wIiwgbiAtIGUgKyAicHgiKSkKCQkJfQoKCQkJZnVuY3Rpb24gdSgpIHsKCQkJCXZhciBlID0gMCwKCQkJCQluID0gODksCgkJCQkJaSA9IDQwMDsKCQkJCWIgJiYgYi5vdGhlcmggJiYgKGkgPSBiLm90aGVyaCksIGIgJiYgYi5pdGVtaCAmJiAobiA9IGIuaXRlbWgpOwoJCQkJdmFyIGEgPSB0KHdpbmRvdykuaGVpZ2h0KCk7CgkJCQlyZXR1cm4gYSA+IHNjcmVlbi5oZWlnaHQgJiYgKGEgPSBzY3JlZW4uaGVpZ2h0IC0gMjAwKSwgZSA9IHBhcnNlSW50KChhIC0gaSkgLyBuKSwgZSA+IDYgJiYgKGUgPSA2KSwgYiAmJiBiLmxlbiAmJiBiLmxlbiA8IGUgJiYgKGUgPSBiLmxlbiksIGUKCQkJfQoKCQkJZnVuY3Rpb24gbShlKSB7CgkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgdC5wdXNoKGVbbl0pOwoJCQkJcmV0dXJuIHQuc29ydChmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gTWF0aC5yYW5kb20oKSAtIE1hdGgucmFuZG9tKCkKCQkJCX0pCgkJCX0KCQkJdmFyIGYsIGcsIF8gPSBuKDE2KSwKCQkJCXggPSBuKDE3KSwKCQkJCXcgPSBuKDI0KSwKCQkJCXYgPSBuKDEzKSwKCQkJCWIgPSB7fSwKCQkJCXkgPSAhMCwKCQkJCWsgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGIuZm9sZEZvcmJpdCA9PT0gITAgJiYgKHkgPSAhMSksIGIuc29ydEZvcmJpdCAhPT0gITAgJiYgKGUgPSBtKGUpKSwgZQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuLCBvKSB7CgkJCQkwICE9IHguZ2V0KCJzaG93X2xvd3ByaSIpICYmICJsdXlvdSIgPT0gaS5idHlwZSAmJiAoZiA9IG4sIG8gJiYgKGIgPSBvKSwgYShlKSwgInNhbGUuamQuY29tIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9taW4iKS5hZGRDbGFzcygiX21vdmVSaWdodCIpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLmFkZENsYXNzKCJfbW92ZVJpZ2h0IikpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgoJCQlmdW5jdGlvbiBuKGUsIG4sIGksIGEpIHsKCQkJCXZhciBvID0gdC5uZXdfZXh0ZW5zaW9uID8gImRwX2RlZmF1bHQyIiA6ICJkcF9kZWZhdWx0IiwKCQkJCQlyID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGkgfHwgIiIgPT0gaSB8fCBudWxsID09IGkgPyA5MCA6IGksCgkJCQkJcyA9IGUsCgkJCQkJbCA9IG5ldyBJbWFnZTsKCQkJCSJtc2llIiA9PSB0LmJyb3dzZXIuYWdlbnQgJiYgdC5icm93c2VyLnZlciA8IDExID8gbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImNvbXBsZXRlIiA9PSBsLnJlYWR5U3RhdGUgfHwgImxvYWRlZCIgPT0gbC5yZWFkeVN0YXRlKSB7CgkJCQkJCWlmIChsLndpZHRoID4gMCAmJiBsLmhlaWdodCA+IDApIHsKCQkJCQkJCXZhciB0ID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCTEgPj0gdCA/IChuLmNzcygid2lkdGgiLCBsLndpZHRoICogdCksIG4uY3NzKCJoZWlnaHQiLCBsLmhlaWdodCAqIHQpKSA6IChuLmNzcygid2lkdGgiLCBsLndpZHRoKSwgbi5jc3MoImhlaWdodCIsIGwuaGVpZ2h0KSkKCQkJCQkJfQoJCQkJCQluLmF0dHIoInNyYyIsIGUpCgkJCQkJfQoJCQkJfSA6IGwub25sb2FkID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKDEgPT0gbC5jb21wbGV0ZSkgewoJCQkJCQlpZiAobC53aWR0aCA+IDAgJiYgbC5oZWlnaHQgPiAwKSB7CgkJCQkJCQl2YXIgdCA9IHIgLyBsLndpZHRoIDwgciAvIGwuaGVpZ2h0ID8gciAvIGwud2lkdGggOiByIC8gbC5oZWlnaHQ7CgkJCQkJCQkxID49IHQgPyAobi5jc3MoIndpZHRoIiwgbC53aWR0aCAqIHQpLCBuLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiB0KSkgOiAobi5jc3MoIndpZHRoIiwgbC53aWR0aCksIG4uY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCX0KCQkJCQkJbi5hdHRyKCJzcmMiLCBlKSwgYSAmJiBhKCkKCQkJCQl9CgkJCQl9LCBsLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCQkJCQluLmF0dHIoInNyYyIsIHQuc19zZXJ2ZXIgKyAoIi9pbWFnZXMvZXh0ZW5zaW9ucy8iICsgbyArICIuanBnIikpLCBuLmF0dHIoImRhdGEtb3JpZ2luYWwiLCB0LnNfc2VydmVyICsgKCIvaW1hZ2VzL2V4dGVuc2lvbnMvIiArIG8gKyAiLmpwZyIpKQoJCQkJfSwgbC5zcmMgPSBzCgkJCX0KCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCB0LCBpLCBhKSB7CgkJCQl2YXIgbyA9IDkwOwoJCQkJYSAmJiAobyA9IGEpOwoJCQkJZm9yICh2YXIgciA9IHQ7IGkgPiByOyByKyspIHsKCQkJCQl2YXIgcyA9IGUuZXEocikuZmluZCgiaW1nIikuZXEoMCk7CgkJCQkJcy5hdHRyKCJkYXRhLW9yaWdpbmFsIikgIT0gcy5hdHRyKCJzcmMiKSAmJiBuKHMuYXR0cigiZGF0YS1vcmlnaW5hbCIpLCBzLCBvKQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDEzKSwKCQkJCXIgPSBuKDE2KSwKCQkJCXMgPSBuKDI2KSwKCQkJCWwgPSB2b2lkIDAsCgkJCQljID0gdm9pZCAwLAoJCQkJZCA9IFt7CgkJCQkJdXJsOiAiaHR0cDovL3d3dy55b3VzaGlqaWUuY29tL3podWFudGkvMjAxNi9zcWRjL3NxZGMuaHRtbD9zcmM9bGl1bGlhbmciLAoJCQkJCWltZ191cmw6ICJodHRwOi8vcmVhZGluZGV4LmJqY25jLnNjcy5zb2h1Y3MuY29tL2Jhbm5lci8yMDE2MDYxOC95b3VzaGlqaWVfMjUweDI1MC5qcGciLAoJCQkJCXdlaWdodDogIjEtMzAiCgkJCQl9XSwKCQkJCXAgPSBmdW5jdGlvbigpIHsKCQkJCQl0KGRvY3VtZW50KS5vbigibW91c2V3aGVlbCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5kZWx0YVkgPCAwID8gKHQoIiNwb3B1cF9idG4iKS5oaWRlKCksIGMgPSAhMCkgOiBjID0gITEKCQkJCQl9KSwgdCh3aW5kb3cpLm9uKCJzY3JvbGwiLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiYm9keSIpLnNjcm9sbFRvcCgpID49IHQod2luZG93KS5oZWlnaHQoKSAmJiAhYyAmJiAodCgiI3BvcHVwX2J0biIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaCgpKQoJCQkJCX0pLCB0KCIjcG9wdXBfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW8ubG9nKCLlvLnnqpfmtLvliqjngrnlh7siKSwgcygiY2xpY2s6cG9wdXAiKQoJCQkJCX0pLCB0KCIjcG9wdXBfYnRuIC5jbG9zZV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIG8ubG9nKCLlvLnnqpfmtLvliqjlhbPpl60iKSwgcygiY2xpY2s6cG9wdXA6Y2xvc2UiKSwgdCgiI3BvcHVwX2J0biIpLnJlbW92ZSgpLCBhLmdldChpLnNlcnZlciArICIvYnJ3ZXh0L3Blcm1hbmVudF9pZD92ZXJzaW9uPTImb3A9c2V0X3Nob3dfcG9wdXAmc2hvd19wb3B1cD0wJnVuaW9uPSIgKyBpLnVuaW9uKSwgITEKCQkJCQl9KQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbigpIHsKCQkJCQlsIHx8IChsID0gITAsIG8ubG9nKCLlvLnnqpfmtLvliqjlsZXnjrAiKSwgcygidHJhY2s6cG9wdXAiKSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBkWzBdLAoJCQkJCQlhID0gbigzMCk7CgkJCQkJYSA9IHIuY29tcGlsZShhKSh7CgkJCQkJCXVybDogZS51cmwsCgkJCQkJCWltZ191cmw6IGUuaW1nX3VybCwKCQkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIKCQkJCQl9KSwgdCgiYm9keSIpLmFwcGVuZChhKSwgcCgpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCSgieGluZ3l1ZSIgPT09IGkuZnJvbV9kZXZpY2UgfHwgZSkgJiYgYS5nZXQoaS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQiKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQllICYmIDAgIT09IGUuc2hvd19wb3B1cCAmJiB1KCkKCQkJCX0pCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlKSB7CgkJCQkJdmFyIHQgPSBuKDI3KS5nZXRJbmZvKCJ1c2VyX2V4dGVuc2lvbl9pZCIpIHx8ICIiLAoJCQkJCQlpID0gYS50al9zZXJ2ZXI7CgkJCQkJYS5uZXdfZXh0ZW5zaW9uICYmIChpID0gYS5zZXJ2ZXIpLCBlIHx8IChlID0gIiIpOwoJCQkJCXZhciByID0gImltZ19yYW5kb20iICsgTWF0aC5yYW5kb20oKSwKCQkJCQkJcyA9IHdpbmRvd1tyXSA9IG5ldyBJbWFnZTsKCQkJCQlzLm9ubG9hZCA9IHMub25lcnJvciA9IGZ1bmN0aW9uKCkgewoJCQkJCQl3aW5kb3dbcl0gPSBudWxsCgkJCQkJfSwgcy5zcmMgPSBpICsgIi92aXNpdC8/dmVyc2lvbj0iICsgYS52ZXJzaW9uICsgIiZ1c2VyaWQ9IiArIHQgKyAiJmFiPSIgKyBvLmdldCgiYWIiKSArICImdXVpZD0iICsgby5nZXQoInV1aWQiKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJnBlcm1hbmVudF9pZD0iICsgby5nZXQoInBfaWQiKSArICImcmFuZG9tPSIgKyBNYXRoLnJhbmRvbSgpICsgIiZhY3Rpb249IiArIGUgKyAiJnJlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKQoJCQkJfQoJCQkJdmFyIHQgPSB2b2lkIDAsCgkJCQkJaSA9IHZvaWQgMCwKCQkJCQlvID0gbigxNyk7CgkJCQlyZXR1cm4gZnVuY3Rpb24obikgewoJCQkJCWkgPT09IG4gPyAoaSA9IG4sIGNsZWFyVGltZW91dCh0KSwgdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWUobikKCQkJCQl9LCA1MDApKSA6IChpID0gbiwgZShuKSkKCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbigyOCksCgkJCQlhID0gbigyOSksCgkJCQlvID0gYS5nZXRCcm93c2VyKCksCgkJCQlyID0ge30sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgdC5zaXRlICYmICJ1c2VyX2V4dGVuc2lvbl9pZCIgPT09IGUudHlwZSAmJiBuKDI2KSgiYnJvd3Nlcl91c2VyOiIgKyB0LnNpdGUgKyAiOmV4dFR5cGU6IiArIGwoKSkKCQkJCX0sCgkJCQlsID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlyZXR1cm4gZSA9ICJkZWZhdWx0IiA9PT0gdC5mcm9tX2RldmljZSA/IG8udXR5cGUgOiB0LmZyb21fZGV2aWNlCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS50cmlnZ2VyKHsKCQkJCQl0eXBlOiAidXNlcl9leHRlbnNpb25faWQiCgkJCQl9KSwgaS50cmlnZ2VyKHsKCQkJCQl0eXBlOiAiYnJvd3Nlcl9zZXRpbmZvIgoJCQkJfSksIGkub24oZnVuY3Rpb24oZSkgewoJCQkJCWlmICgiYnJvd3Nlcl9zZXRpbmZvIiA9PT0gZS50eXBlKSB7CgkJCQkJCWlmIChlLnZhbHVlICYmIGUudmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpCgkJCQkJCQlmb3IgKHZhciB0IGluIGUudmFsdWUpIHJbdF0gPSBlLnZhbHVlW3RdCgkJCQkJfSBlbHNlIHJbZS50eXBlXSA9IGUudmFsdWUsIHMoZSkKCQkJCX0pCgkJCX0sIGUuZXhwb3J0cy5nZXRJbmZvID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIHJbZV0KCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJInVzZSBzdHJpY3QiOwoJCWUuZXhwb3J0cy50cmlnZ2VyID0gZnVuY3Rpb24oZSkgewoJCQlpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHsKCQkJCXZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7CgkJCQl0LmluaXRDdXN0b21FdmVudCgiZ3dkX2V4dGVuc2lvbiIsICEwLCAhMCwgZSksIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQodCkKCQkJfQoJCX0sIGUuZXhwb3J0cy5vbiA9IGZ1bmN0aW9uKGUpIHsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciA/IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImd3ZF9jb250ZW50IiwgZnVuY3Rpb24odCkgewoJCQkJZSh0LmRldGFpbCkKCQkJfSkgOiBkb2N1bWVudC5hdHRhY2hFdmVudCgiZ3dkX2NvbnRlbnQiLCBmdW5jdGlvbih0KSB7CgkJCQllKHQuZGV0YWlsKQoJCQl9KQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgbiA9IHsKCQkJCQl1cmw6ICIiLAoJCQkJCXV0eXBlOiAiIgoJCQkJfSwKCQkJCWkgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CgkJCWUuZXhwb3J0cy5nZXRCcm93c2VyID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAoIkFjdGl2ZVhPYmplY3QiIGluIHdpbmRvdykgbi51cmwgPSB0LmNfc2VydmVyICsgKCIvZmlsZXMvZXh0LyIgKyB0LmV4dE5hbWUgKyAiX2luc3RhbGxfSUUuZXhlIiksIG4udXR5cGUgPSAiaWUiLCBuLnV0aXRsZSA9ICJJRSIsIG4uYmFja2dyb3VuZCA9ICItNDAxcHggLTgxcHgiOwoJCQkJZWxzZSBpZiAoaS5pbmRleE9mKCJmaXJlZm94IikgPiAtMSkgbi51cmwgPSAiaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvZmlyZWZveC9kb3dubG9hZHMvbGF0ZXN0LzQwNTk0MC9hZGRvbi00MDU5NDAtbGF0ZXN0LnhwaT9zcmM9ZHAtYnRuLXByaW1hcnkiLCBuLnV0eXBlID0gImZpcmVmb3giLCBuLnV0aXRsZSA9ICLngavni5AiLCBuLmJhY2tncm91bmQgPSAiLTQwMXB4IC00NHB4IjsKCQkJCWVsc2UgaWYgKGkuaW5kZXhPZigib3BlcmEiKSA+IC0xIHx8IGkuaW5kZXhPZigib3ByIikgPiAtMSkgbi51cmwgPSB0LmNfc2VydmVyICsgIi9maWxlcy9leHQvb3BlcmEuY3J4Iiwgbi51dHlwZSA9ICJvcGVyYSIsIG4udXRpdGxlID0gIk9wZXJhIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTEyMHB4IjsKCQkJCWVsc2UgaWYgKGkuaW5kZXhPZigic2FmYXJpIikgPiAtMSAmJiAtMSA9PSBpLmluZGV4T2YoImNocm9tZSIpKSBuLnVybCA9IHQuY19zZXJ2ZXIgKyAoIi9maWxlcy9leHQvIiArIHQuZXh0TmFtZSArICIuc2FmYXJpZXh0eiIpLCBuLnV0eXBlID0gInNhZmFyaSIsIG4udXRpdGxlID0gIlNhZmFyaSIsIG4uYmFja2dyb3VuZCA9ICItMzAxcHggLTQ0cHgiOwoJCQkJZWxzZSBpZiAoaS5pbmRleE9mKCJjaHJvbWUiKSA+IC0xKSB7CgkJCQkJdmFyIGUgPSBvKCk7CgkJCQkJaS5pbmRleE9mKCJxcWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHBzOi8vcGNicm93c2VyLmRkLnFxLmNvbS9wY2Jyb3dzZXJiaWcvcWJleHRlbnNpb24vdXBkYXRlLzIwMTYwMTIyL2pncGhuam9ramhqbGNubmFqbWZqbGFjam5qa2hsZWFoLmNyeCIsIG4udXR5cGUgPSAicXEiLCBuLnV0aXRsZSA9ICJRUSIsIG4uYmFja2dyb3VuZCA9ICItMTA0cHggLTgxcHgiKSA6IGkuaW5kZXhPZigibWF4dGhvbiIpID4gLTEgPyAobi51cmwgPSAiaHR0cDovL2V4dGVuc2lvbi5tYXh0aG9uLmNuL2RldGFpbC9pbmRleC5waHA/dmlld19pZD0zNTgiLCBuLnV0eXBlID0gIm1heHRob24iLCBuLnV0aXRsZSA9ICLlgrLmuLgiLCBuLmJhY2tncm91bmQgPSAiLTQwMXB4IC00cHgiKSA6IGkuaW5kZXhPZigiYmlkdWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9jaGFqaWFuLmJhaWR1LmNvbS8yMDE1LyNhbGwvMzkvbWNnb2liaGhpaHBvbGFpaW9nZ2Fqb2lwaWVlZmdtb2EiLCBuLnV0eXBlID0gImJhaWR1Iiwgbi51dGl0bGUgPSAi55m+5bqmIiwgbi5iYWNrZ3JvdW5kID0gIi0xMDRweCAtMTIwcHgiKSA6IGkuaW5kZXhPZigidWJyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9leHRlbnNpb25zLnVjLmNuL25ld2luZGV4Lmh0bSMhZGV0YWlsL2JwZGxocGpramJkaWZsbmFua3BvaHBmZXBlY2RqZ2FnIiwgbi51dHlwZSA9ICJ1YyIsIG4udXRpdGxlID0gIlVDIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTQ0cHgiKSA6IGkuaW5kZXhPZigibGJicm93c2VyIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vc3RvcmUubGllYmFvLmNuL2FkbWluL2V4dGVuc2lvbnMvMjAxNTExL2VhODc4ZDVhNGQyYTAwOGFkNzg5NzhhOTRlZWE2MmExLmNyeCIsIG4udXR5cGUgPSAibGllYmFvIiwgbi51dGl0bGUgPSAi54yO6LG55a6J5YWoIiwgbi5iYWNrZ3JvdW5kID0gIi0zMDFweCAtNHB4IikgOiBpLmluZGV4T2YoInRhb2Jyb3dzZXIiKSA+IC0xID8gKG4udXJsID0gdC5jX3NlcnZlciArICIvZmlsZXMvZXh0L2Nocm9tZS5jcngiLCBuLnV0eXBlID0gInRhb2JhbyIsIG4udXRpdGxlID0gIua3mOWunSIsIG4uYmFja2dyb3VuZCA9ICItMTA0cHggLTQ0cHgiKSA6IGkuaW5kZXhPZigiMjM0NWV4cGxvcmVyIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vZXh0ZW5zaW9uLmllLjIzNDUuY29tLyNuZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMjM0NSIsIG4udXRpdGxlID0gIjIzNDXnjovniYwiLCBuLmJhY2tncm91bmQgPSAiLTMwMXB4IC04MXB4IikgOiBpLmluZGV4T2YoIjIzNDVjaHJvbWUiKSA+IC0xID8gKG4udXJsID0gImh0dHA6Ly9leHRlbnNpb24uY2hyb21lLjIzNDUuY29tLyNuZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMjM0NWppYXN1Iiwgbi51dGl0bGUgPSAiMjM0NeWKoOmAnyIpIDogaS5pbmRleE9mKCJjb29sbm92byIpID4gLTEgPyAobi51cmwgPSB0LmNfc2VydmVyICsgIi9maWxlcy9leHQvY2hyb21lLmNyeCIsIG4udXR5cGUgPSAiZmVuZ3NodSIsIG4udXRpdGxlID0gIuaeq+agkSIsIG4uYmFja2dyb3VuZCA9ICItMnB4IC04MXB4IikgOiBpLmluZGV4T2YoImdyZWVuYnJvd3NlciIpID4gLTEgPyAobi51cmwgPSB0LmNfc2VydmVyICsgKCIvZmlsZXMvZXh0LyIgKyB0LmV4dE5hbWUgKyAiX2Zvcl9ncmVlbmJyb3dzZXIuemlwIiksIG4udXR5cGUgPSAiZ2IiLCBuLnV0aXRsZSA9ICJHQiIsIG4uYmFja2dyb3VuZCA9ICItMjAzcHggLTgxcHgiKSA6ICJDaHJvbWUiID09PSBlID8gKG4udXJsID0gdC5jX3NlcnZlciArICIvYXBwL2V4dGVuc2lvbj9mcm9tX2RldmljZT0iICsgdC5mcm9tX2RldmljZV9udW0sIG4udXR5cGUgPSAiY2hyb21lIiwgbi51dGl0bGUgPSAiQ2hyb21lIiwgbi5iYWNrZ3JvdW5kID0gIi0ycHggLTRweCIpIDogIjM2MFNFIiA9PT0gZSA/IChuLnVybCA9ICJodHRwczovL2V4dC5zZS4zNjAuY24vd2Vic3RvcmUvZGV0YWlsL25mYmlrZGtqZmpjZWpkZGJkY3BiYWZuY2xrZmRoaWpkIiwgbi51dHlwZSA9ICIzNjBzZSIsIG4udXRpdGxlID0gIjM2MOWuieWFqCIsIG4uYmFja2dyb3VuZCA9ICItMjAzcHggLTRweCIpIDogIjM2MEVFIiA9PT0gZSA/IChuLnVybCA9ICJodHRwczovL2V4dC5jaHJvbWUuMzYwLmNuL3dlYnN0b3JlL2RldGFpbC9uZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIsIG4udXR5cGUgPSAiMzYwc2UiLCBuLnV0aXRsZSA9ICIzNjDmnoHpgJ8gIiwgbi5iYWNrZ3JvdW5kID0gIi0xMDRweCAtNHB4IikgOiBpLmluZGV4T2YoInNlIikgPiAtMSA/IChuLnVybCA9ICJodHRwOi8vaWUuc29nb3UuY29tL3Rvb2xzL3Rvb2xfMzM3Lmh0bWwiLCBuLnV0eXBlID0gInNvZ291Iiwgbi51dGl0bGUgPSAi5pCc54uXIiwgbi5iYWNrZ3JvdW5kID0gIi00MDFweCAtMTIwcHgiKSA6IChuLnVybCA9IHQuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24iLCBuLnV0eXBlID0gImNocm9tZSIsIG4udXRpdGxlID0gIkNocm9taXVt5YaF5qC4IikKCQkJCX0gZWxzZSBuLnVybCA9IHQuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24iLCBuLnV0eXBlID0gImNocm9tZSIsIG4udXRpdGxlID0gIuacquefpea1j+iniOWZqCI7CgkJCQlyZXR1cm4gbgoJCQl9OwoJCQl2YXIgYSA9IHsKCQkJCQlyZXN1bHQ6ICJDaHJvbWUiLAoJCQkJCWRldGFpbHM6IHsKCQkJCQkJQ2hyb21lOiA1LAoJCQkJCQlDaHJvbWl1bTogMCwKCQkJCQkJXzM2MFNFOiAwLAoJCQkJCQlfMzYwRUU6IDAKCQkJCQl9LAoJCQkJCXNvcnRlZDogWyJDaHJvbWUiLCAiMzYwU0UiLCAiMzYwRUUiLCAiQ2hyb21pdW0iXSwKCQkJCQlleGVjOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gewoJCQkJCQkJCUNocm9tZTogNSwKCQkJCQkJCQlDaHJvbWl1bTogMCwKCQkJCQkJCQlfMzYwU0U6IDAsCgkJCQkJCQkJXzM2MEVFOiAwCgkJCQkJCQl9LAoJCQkJCQkJbiA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OwoJCQkJCQlpZiAoL0Nocm9tZVwvKFtcZC5dKStcc1NhZmFyaVwvKFtcZC5dKSskLy50ZXN0KG4pKSB7CgkJCQkJCQlpZiAoIldpbjMyIiA9PSB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSB7CgkJCQkJCQkJaWYgKHdpbmRvdy5jbGllbnRJbmZvcm1hdGlvbi5sYW5ndWFnZXMgfHwgKHQuXzM2MFNFICs9IDgpLCAvemgvaS50ZXN0KG5hdmlnYXRvci5sYW5ndWFnZSkgJiYgKHQuXzM2MFNFICs9IDMsIHQuXzM2MEVFICs9IDMpLCB3aW5kb3cuY2xpZW50SW5mb3JtYXRpb24ubGFuZ3VhZ2VzKSB7CgkJCQkJCQkJCXZhciBpID0gd2luZG93LmNsaWVudEluZm9ybWF0aW9uLmxhbmd1YWdlcy5sZW5ndGg7CgkJCQkJCQkJCWkgPj0gMyA/ICh0LkNocm9tZSArPSAxMCwgdC5DaHJvbWl1bSArPSA2KSA6IDIgPT0gaSA/ICh0LkNocm9tZSArPSAzLCB0LkNocm9taXVtICs9IDYsIHQuXzM2MEVFICs9IDYpIDogMSA9PSBpICYmICh0LkNocm9tZSArPSA0LCB0LkNocm9taXVtICs9IDQpCgkJCQkJCQkJfQoJCQkJCQkJCWZvciAodmFyIGEgaW4gd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zKSAibnAtbXN3bXAuZGxsIiA9PSB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnNbYV0uZmlsZW5hbWUgJiYgKHQuXzM2MFNFICs9IDIwLCB0Ll8zNjBFRSArPSAyMCk7CgkJCQkJCQkJT2JqZWN0LmtleXMod2luZG93LmNocm9tZS53ZWJzdG9yZSkubGVuZ3RoIDw9IDEgPyB0Ll8zNjBTRSArPSA3IDogMiA9PSBPYmplY3Qua2V5cyh3aW5kb3cuY2hyb21lLndlYnN0b3JlKS5sZW5ndGggJiYgKHQuXzM2MFNFICs9IDQsIHQuQ2hyb21pdW0gKz0gMyksIHdpbmRvdy5uYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGggPj0gMzAgPyAodC5fMzYwRUUgKz0gNywgdC5fMzYwU0UgKz0gNywgdC5DaHJvbWUgKz0gNykgOiB3aW5kb3cubmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoIDwgMzAgJiYgd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA+IDEwID8gKHQuXzM2MEVFICs9IDMsIHQuXzM2MFNFICs9IDMsIHQuQ2hyb21lICs9IDMpIDogd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA8PSAxMCAmJiAodC5DaHJvbWl1bSArPSA2KQoJCQkJCQkJfSBlbHNlIHQuXzM2MFNFIC09IDUwLCB0Ll8zNjBFRSAtPSA1MCwgL0xpbnV4L2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgKHQuQ2hyb21pdW0gKz0gNSk7CgkJCQkJCQl2YXIgbyA9IDAsCgkJCQkJCQkJciA9IHZvaWQgMDsKCQkJCQkJCWZvciAodmFyIGEgaW4gd2luZG93Lm5hdmlnYXRvci5wbHVnaW5zKQoJCQkJCQkJCWlmIChyID0gL14oLispIFBERiBWaWV3ZXIkLy5leGVjKHdpbmRvdy5uYXZpZ2F0b3IucGx1Z2luc1thXS5uYW1lKSkgewoJCQkJCQkJCQlpZiAoIkNocm9tZSIgPT0gclsxXSkgewoJCQkJCQkJCQkJdC5DaHJvbWUgKz0gNiwgdC5fMzYwU0UgKz0gNiwgbyA9IDE7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgiQ2hyb21pdW0iID09IHJbMV0pIHsKCQkJCQkJCQkJCXQuQ2hyb21pdW0gKz0gMTAsIHQuXzM2MEVFICs9IDYsIG8gPSAxOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCW8gfHwgKHQuQ2hyb21pdW0gKz0gOSkKCQkJCQkJfQoJCQkJCQl2YXIgcyA9IG5ldyBPYmplY3Q7CgkJCQkJCXMuQ2hyb21lID0gdC5DaHJvbWUsIHMuQ2hyb21pdW0gPSB0LkNocm9taXVtLCBzWyIzNjBTRSJdID0gdC5fMzYwU0UsIHNbIjM2MEVFIl0gPSB0Ll8zNjBFRTsKCQkJCQkJdmFyIGwgPSBbXTsKCQkJCQkJZm9yICh2YXIgYyBpbiBzKSBsLnB1c2goW2MsIHNbY11dKTsKCQkJCQkJcmV0dXJuIGwuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdFsxXSAtIGVbMV0KCQkJCQkJfSksIHRoaXMuc29ydGVkID0gbCwgdGhpcy5kZXRhaWxzID0gdCwgdGhpcy5yZXN1bHQgPSBsWzBdWzBdLCAicmVzdWx0IiA9PSBlID8gbFswXVswXSA6ICJkZXRhaWxzIiA9PSBlID8gcyA6ICJzb3J0ZWQiID09IGUgPyBsIDogdm9pZCAwCgkJCQkJfQoJCQkJfSwKCQkJCW8gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OwoJCQkJCXRyeSB7CgkJCQkJCWlmIChhLmV4ZWMoKSwgL0Nocm9tZVwvKFtcZC5dKStcc1NhZmFyaVwvKFtcZC5dKSskLy50ZXN0KGUpKSByZXR1cm4gYS5yZXN1bHQKCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCXJldHVybgoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5nZXRDaHJvbWVWZXJzaW9uID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tKGV8aXVtKVwvKFswLTldKylcLi8pOwoJCQkJcmV0dXJuIGUgPyBwYXJzZUludChlWzJdLCAxMCkgOiAhMQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGEgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGlkPSJwb3B1cF9idG4iPlxuICA8aW1nIHNyYz0ie3tpbWdfdXJsfX0iPlxuICA8c3BhbiBjbGFzcz0iY2xvc2VfYnRuIj48L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI3BvcHVwX2J0biB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgcmlnaHQ6IDBweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTk5O1xuICAgIH1cbiAgICAjcG9wdXBfYnRuIGltZyB7XG4gICAgICB3aWR0aDogMjUwcHg7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgIH1cbiAgICAuY2xvc2VfYnRuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJhY2tncm91bmQ6ICNmZmYgdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2Nsb3NlYmFyX2JnMS5wbmdcJykgNHB4IDRweCBuby1yZXBlYXQ7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2E+XG4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDEzKSwKCQkJCWEgPSBuKDI2KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQoIiNvdmVydmlldyAub3YtYWN0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gdChlLnRhcmdldCkudGV4dCgpLAoJCQkJCQlvID0gbG9jYXRpb24uaHJlZjsKCQkJCQluLmluZGV4T2YoIueri+WNs+i0reS5sCIpID4gLTEgJiYgby5pbmRleE9mKCJnb3V3dWRhbmciKSA+IC0xICYmIChpLmxvZygiZmluZTNxOmNsaWNrIiksIGEoImZpbmUzcTpjbGljayIpKQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjYpLAoJCQkJYSA9IHsKCQkJCQkiY2FydFxcLmpkXFwuY29tL2FkZFRvQ2FydFxcLmh0bWwiOiAiYWRkY2FydF9zdWNjZXNzX3BhZ2U6MzYwYnV5IiwKCQkJCQkiY2FydFxcLmdvbWVcXC5jb21cXC5jbi9hZGRzdWNjZXNzIjogImFkZGNhcnRfc3VjY2Vzc19wYWdlOmdvbWUiLAoJCQkJCSJzaG9wcGluZ1xcLnN1bmluZ1xcLmNvbS9hZGRUb0NhcnRcXC5kbyI6ICJhZGRjYXJ0X3N1Y2Nlc3NfcGFnZTpzdW5pbmciLAoJCQkJCSJjYXJ0XFwuamRcXC5jb20vY2FydFxcLmFjdGlvbiI6ICJjYXJ0X3BhZ2VfdmlzaXQ6MzYwYnV5IiwKCQkJCQkic2hvcHBpbmdcXC5zdW5pbmdcXC5jb20vY2FydFxcLmRvIjogImNhcnRfcGFnZV92aXNpdDpzdW5pbmciLAoJCQkJCSJjYXJ0XFwuZ29tZVxcLmNvbVxcLmNuL3Nob3BwaW5nIjogIm9yZGVyd3JpdGVfcGFnZV92aXNpdDpnb21lIiwKCQkJCQkiY2FydFxcLmdvbWVcXC5jb21cXC5jbiI6ICJjYXJ0X3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJImNhcnRcXC50YW9iYW9cXC5jb20vY2FydFxcLmh0bSI6ICJjYXJ0X3BhZ2VfdmlzaXQ6dG1hbGwiLAoJCQkJCSJjYXJ0XFwudG1hbGxcXC5jb20iOiAiY2FydF9wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkidHJhZGVcXC5qZFxcLmNvbS9zaG9wcGluZy9vcmRlci9nZXRPcmRlckluZm9cXC5hY3Rpb24iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OjM2MGJ1eSIsCgkJCQkJInNob3BwaW5nXFwuc3VuaW5nXFwuY29tL29yZGVyXFwuZG8iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJImJ1eVxcLnRtYWxsXFwuY29tL29yZGVyL2NvbmZpcm1fb3JkZXJcXC5odG0iOiAib3JkZXJ3cml0ZV9wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkiYnV5XFwudG1hbGxcXC5jb20vb3JkZXIvY29uZmlybU9yZGVyXFwuaHRtIjogIm9yZGVyd3JpdGVfcGFnZV92aXNpdDp0bWFsbCIsCgkJCQkJImNhc2hpZXJcXC5qZFxcLmNvbSI6ICJvcmRlcnN1Y2Nlc3NfcGFnZV92aXNpdDozNjBidXkiLAoJCQkJCSJwYXltZW50XFwuc3VuaW5nXFwuY29tIjogIm9yZGVyc3VjY2Vzc19wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJImdwYXlcXC5nb21lXFwuY29tXFwuY24vY2FzaGllci9kZWZhdWx0XFwuZGh0bWwiOiAib3JkZXJzdWNjZXNzX3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJImNhc2hpZXJ6dGhcXC5hbGlwYXlcXC5jb20iOiAib3JkZXJzdWNjZXNzX3BhZ2VfdmlzaXQ6dG1hbGwiLAoJCQkJCSJjYXNoaWVyenVpXFwuYWxpcGF5XFwuY29tIjogIm9yZGVyc3VjY2Vzc19wYWdlX3Zpc2l0OnRtYWxsIiwKCQkJCQkidmlwXFwuamRcXC5jb20iOiAidmlwX3BhZ2VfdmlzaXQ6MzYwYnV5IiwKCQkJCQkidmlwXFwuc3VuaW5nXFwuY29tIjogInZpcF9wYWdlX3Zpc2l0OnN1bmluZyIsCgkJCQkJInZcXC5nb21lXFwuY29tXFwuY24iOiAidmlwX3BhZ2VfdmlzaXQ6Z29tZSIsCgkJCQkJInZpcFxcLnRtYWxsXFwuY29tIjogInZpcF9wYWdlX3Zpc2l0OnRtYWxsIgoJCQkJfSwKCQkJCW8gPSBbImpkIiwgInN1bmluZyIsICJ0YW9iYW8iLCAidG1hbGwiLCAiZ29tZSJdLAoJCQkJciA9IHsKCQkJCQkiMzYwYnV5IjogIiNjaG9vc2UtYnRuLWNvbGwiLAoJCQkJCWdvbWU6ICIjY29sbGVjdCIsCgkJCQkJc3VuaW5nOiAiI2luZXJlc3RCb3giLAoJCQkJCXRtYWxsOiAiI0pfQWRkRmF2b3JpdGUiCgkJCQl9LAoJCQkJcyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IG4oNSkuaXNQcm9kdWN0UGFnZShkb2N1bWVudC5yZWZlcnJlcik7CgkJCQkJdCA9IHQgPyAicHJvZHVjdCIgOiAib3RoZXIiOwoJCQkJCXZhciBvID0gbG9jYXRpb24uaHJlZjsKCQkJCQlmb3IgKHZhciByIGluIGEpCgkJCQkJCWlmIChvLm1hdGNoKG5ldyBSZWdFeHAocikpKSByZXR1cm4gdm9pZCBpKHQgKyBhW3JdKQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbihlKSB7CgkJCQkJcltlXSAmJiB0KHJbZV0pLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCJjbGljazpjb2xsZWN0aW9uX2NsaWNrOiIgKyBlKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJcygpOwoJCQkJZm9yICh2YXIgZSA9IDA7IGUgPCBvLmxlbmd0aDsgZSsrKQoJCQkJCWlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2Yob1tlXSkgPiAtMSkgewoJCQkJCQl2YXIgdCA9IG9bZV07CgkJCQkJCXJldHVybiAiamQiID09PSB0ICYmICh0ID0gIjM2MGJ1eSIpLCB2b2lkIGwodCkKCQkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCSJ1c2Ugc3RyaWN0IjsKCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJdmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5ob3N0OwoJCQlyZXR1cm4gZS5pbmRleE9mKCJoYW8xMjMiKSA+IC0xIHx8IGUuaW5kZXhPZigiYmFpZHUiKSA+IC0xID8gITAgOiAhMQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMzUpLAoJCQkJYSA9IG4oNik7CgkJCWlmIChpICYmIGkucGFyZW50Tm9kZSAmJiBpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQgJiYgaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQklKSUFfSEFTX0JVSUxUIikpIGEoIiNCSUpJQV9IQVNfQlVJTFQiKS5hZGRDbGFzcyh0LmZyb21fZGV2aWNlKSwgZS5leHBvcnRzID0gITA7CgkJCWVsc2UgewoJCQkJdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCQkJCW8uaWQgPSAiQklKSUFfSEFTX0JVSUxUIjsKCQkJCXZhciByID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTsKCQkJCXIgJiYgclswXSAmJiAociA9IHJbMF0pLCByLmFwcGVuZENoaWxkKG8pLCBhKCIjQklKSUFfSEFTX0JVSUxUIikuYWRkQ2xhc3ModC5mcm9tX2RldmljZSksIGUuZXhwb3J0cyA9ICExCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCgkJCWZ1bmN0aW9uIG4oKSB7CgkJCQlpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCkgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7CgkJCQlmb3IgKHZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspCgkJCQkJaWYgKG5ldyBSZWdFeHAodC5leHROYW1lICsgIi1ub3RpZmllciIsICJpIikudGVzdChlW25dLnNyYykpIHJldHVybiBlW25dCgkJCX0KCQkJZS5leHBvcnRzID0gbigpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oZSkgewoJCQlpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGUiKTsKCQkJdmFyIHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLAoJCQkJbiA9IHRoaXMsCgkJCQlpID0gZnVuY3Rpb24oKSB7fSwKCQkJCWEgPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gbi5hcHBseSh0aGlzIGluc3RhbmNlb2YgaSA/IHRoaXMgOiBlLCB0LmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSkKCQkJCX07CgkJCXJldHVybiBpLnByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlLCBhLnByb3RvdHlwZSA9IG5ldyBpLCBhCgkJfSksIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IChBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJdmFyIG47CgkJCWlmIChudWxsID09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3IoJyJ0aGlzIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7CgkJCXZhciBpID0gT2JqZWN0KHRoaXMpLAoJCQkJYSA9IGkubGVuZ3RoID4+PiAwOwoJCQlpZiAoMCA9PT0gYSkgcmV0dXJuIC0xOwoJCQl2YXIgbyA9ICt0IHx8IDA7CgkJCWlmIChNYXRoLmFicyhvKSA9PT0gMSAvIDAgJiYgKG8gPSAwKSwgbyA+PSBhKSByZXR1cm4gLTE7CgkJCWZvciAobiA9IE1hdGgubWF4KG8gPj0gMCA/IG8gOiBhIC0gTWF0aC5hYnMobyksIDApOyBhID4gbjspIHsKCQkJCWlmIChuIGluIGkgJiYgaVtuXSA9PT0gZSkgcmV0dXJuIG47CgkJCQluKysKCQkJfQoJCQlyZXR1cm4gLTEKCQl9KSwgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyIHx8IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigidWxlLmNvbSIpID4gLTEpICYmIChBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oZSkgewoJCQlpZiAodm9pZCAwID09PSB0aGlzIHx8IG51bGwgPT09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3I7CgkJCXZhciB0ID0gT2JqZWN0KHRoaXMpLAoJCQkJbiA9IHQubGVuZ3RoID4+PiAwOwoJCQlpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSkgdGhyb3cgbmV3IFR5cGVFcnJvcjsKCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyID8gYXJndW1lbnRzWzFdIDogdm9pZCAwLCBvID0gMDsgbiA+IG87IG8rKykKCQkJCWlmIChvIGluIHQpIHsKCQkJCQl2YXIgciA9IHRbb107CgkJCQkJZS5jYWxsKGEsIHIsIG8sIHQpICYmIGkucHVzaChyKQoJCQkJfQoJCQlyZXR1cm4gaQoJCX0pLCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoImxpYW5qaWEuY29tIikgPiAtMSAmJiAoTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IChwYXJzZUludCh0aGlzICogTWF0aC5wb3coMTAsIGUpICsgLjUpIC8gTWF0aC5wb3coMTAsIGUpKS50b1N0cmluZygpLAoJCQkJbiA9IHQuaW5kZXhPZigiLiIpOwoJCQlpZiAoMCA+IG4gJiYgZSA+IDApIHsKCQkJCXQgKz0gIi4iOwoJCQkJZm9yICh2YXIgaSA9IDA7IGUgPiBpOyBpKyspIHQgKz0gIjAiCgkJCX0gZWxzZSB7CgkJCQluID0gdC5sZW5ndGggLSBuOwoJCQkJZm9yICh2YXIgaSA9IDA7IGUgLSBuICsgMSA+IGk7IGkrKykgdCArPSAiMCIKCQkJfQoJCQlyZXR1cm4gdAoJCX0pCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbihlKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJIkFjdGl2ZVhPYmplY3QiIGluIHdpbmRvdyAmJiAoZS5icm93c2VyID0gewoJCQkJZW5naW5lOiAidHJpZGVudCIsCgkJCQlhZ2VudDogIm1zaWUiLAoJCQkJdmVyOiB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yID8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciA/IHdpbmRvdy5hdG9iID8gd2luZG93LmV4ZWNTY3JpcHQgPyAxMCA6IDExIDogOSA6IDggOiA3IDogNgoJCQl9KSwgZS5icm93c2VyLnZlcnNpb24gPSBlLmJyb3dzZXIudmVyLCAibXNpZSIgPT09IGUuYnJvd3Nlci5hZ2VudCAmJiAoZS5icm93c2VyLm1zaWUgPSAhMCksIGUuSUU2ID0gIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiA2ID09PSBlLmJyb3dzZXIudmVyLCBlLklFNyA9ICJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgNyA9PT0gZS5icm93c2VyLnZlciwgZS5JRTggPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDggPT09IGUuYnJvd3Nlci52ZXIsIGUuSUU5ID0gIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiA5ID09PSBlLmJyb3dzZXIudmVyLCBlLklFMTAgPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDEwID09PSBlLmJyb3dzZXIudmVyLCBlLklFMTEgPSAibXNpZSIgPT0gZS5icm93c2VyLmFnZW50ICYmIDExID09PSBlLmJyb3dzZXIudmVyCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gIjAxMjM0NTY3ODlxd2VydHl1aW9wbGtqaGdmZHNhenhjdmJubSIsIG4gPSAiIiwgaSA9IDA7IGUgPiBpOyBpKyspIG4gKz0gdC5jaGFyQXQoTWF0aC5jZWlsKDFlOCAqIE1hdGgucmFuZG9tKCkpICUgdC5sZW5ndGgpOwoJCQlyZXR1cm4gbgoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYSgpIHsKCQkJCXQuSUU2IHx8IHQuSUU3IHx8IHQuSUU4IHx8IHQuSUU5IHx8IHMoKSAmJiAoeCgpLCByKGZ1bmN0aW9uKCkgewoJCQkJCWcoKSwgMCAhPSBpKCIjZ3dkX2h0X21haW4iKS5sZW5ndGggJiYgKE4oKSwgVCgpLCBEKCksIFAoa2Uuc2hhbmd5aVt2ZV0ubWFuWzBdLCBrZS5zaGFuZ3lpW3ZlXS5tYW5bMV0pLCBVKCksICQoKSwgdSgpLCBuZSgpLCBoKCksIHkoKSwgQygpLCBqKCkpCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQlpZiAoIWUpIHJldHVybiBbXTsKCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IFtdLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIGVbaV0uY3VycmVudCAmJiAhZVtpXS5hc2NlICYmIChlW2ldLnR5cGUgPyAoZVtpXS5maXJzdFdbMV0gPSBtZShlW2ldLmZpcnN0V1sxXSwgZVtpXS50eXBlKSwgZVtpXS5uZXh0V1sxXSA9IG1lKGVbaV0ubmV4dFdbMV0sIGVbaV0udHlwZSkpIDogKGVbaV0uZmlyc3RXWzFdID0gbWUoZVtpXS5maXJzdFdbMV0pLCBlW2ldLm5leHRXWzFdID0gbWUoZVtpXS5uZXh0V1sxXSkpKSwgZVtpXS5zYWxlX3RsZSAmJiAoc2UgPSAhMCksIGVbaV0uY29vcGVyID8gdC5wdXNoKGVbaV0pIDogbi5wdXNoKGVbaV0pOwoJCQkJcmV0dXJuIGUgPSB0LnNvcnQoZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAuNQoJCQkJfSkuY29uY2F0KG4pCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJdmFyIG4gPSB4ZSArICIvL2Jyb3dzZXIuIiArIHQuZXh0TmFtZSArICIuY29tL2V4dGVuc2lvbj9hYz1oYWl0YW9JbmZvIjsKCQkJCWZlLmdldChuKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQl0ICYmIHQuY2F0ZSAmJiB0LnRyYW5zICYmIChwZSA9IHQuY2F0ZSwgaGUgPSB0LnRyYW5zLCBoZVt2ZV0gPSBvKGhlW3ZlXSksIGUoKSkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIHMoKSB7CgkJCQl2YXIgZSA9IGxvY2F0aW9uLmhvc3Q7CgkJCQlmb3IgKHZhciB0IGluIHplKQoJCQkJCWlmIChlID09IHQpIHJldHVybiAhMDsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCWkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KGUuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdGFyaWZmX2J0biBzcGFuIikuYXR0cigidGl0bGUiLCBlKSwgaSgiI2NhdGVfc21hbGwiKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSksIFgoIiNjYXRlX3NtYWxsIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCk7CgkJCQlmb3IgKHZhciB0IGluIHBlKQoJCQkJCWZvciAodmFyIG4gPSBwZVt0XS5sZW5ndGgsIGEgPSAwOyBuID4gYTsgYSsrKQoJCQkJCQlpZiAocGVbdF1bYV1bMV0gPT0gZSkgewoJCQkJCQkJdmFyIG8gPSBpKCcjYmlnX3hpYWxhIGFbY2F0ZT0iJyArIHQgKyAnIl0nKS50ZXh0KCk7CgkJCQkJCQlpKCIjY2F0ZV9iaWciKS52YWwobyksIFgoIiNjYXRlX2JpZyIpLCBZKHBlW3RdKSwgaSgiLmh0X3RhcmlmZiAuaHRfdGFyaWZmX251bSBlbSIpLnRleHQocGVbdF1bYV1bMF0pCgkJCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gYyhlKSB7CgkJCQl2YXIgdCA9IGplW2VdLnRsZSwKCQkJCQluID0gamVbZV0uY2F0ZTsKCQkJCWkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KHQuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdGFyaWZmX2J0biBzcGFuIikuYXR0cigidGl0bGUiLCB0KSwgaSgiI2NhdGVfYmlnIikudmFsKHQpLCBYKCIjY2F0ZV9iaWciKSwgaSgiI2NhdGVfc21hbGwiKS52YWwocGVbbl1bcGVbbl0ubGVuZ3RoIC0gMV1bMV0pLCBpKCIuaHRfdGFyaWZmX2NhdGUiKS50ZXh0KHBlW25dW3BlW25dLmxlbmd0aCAtIDFdWzFdKSwgWCgiI2NhdGVfc21hbGwiKSwgWCgiLmh0X3RhcmlmZl9jYXRlIiwgInRleHQiLCA0KSwgWShwZVtuXSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KHBlW25dW3BlW25dLmxlbmd0aCAtIDFdWzBdKQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCWZvciAodmFyIHQgaW4gQmUpCgkJCQkJaWYgKGUuaW5kZXhPZih0KSA+IC0xKSByZXR1cm4gQmVbdF07CgkJCQlmb3IgKHZhciB0IGluIGplKQoJCQkJCWlmIChlLmluZGV4T2YodCkgPiAtMSkgcmV0dXJuIHZvaWQgYyh0KTsKCQkJCXJldHVybiAhMQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUsIHQpIHsKCQkJCXN3aXRjaCAoZSkgewoJCQkJCWNhc2UgIueUt+ijhSI6CgkJCQkJCXJldHVybiBrZS5zaGFuZ3lpW3RdLm1hbjsKCQkJCQljYXNlICLlpbPoo4UiOgoJCQkJCQlyZXR1cm4ga2Uuc2hhbmd5aVt0XS53b21hbjsKCQkJCQljYXNlICLnq6Xoo4UiOgoJCQkJCQlyZXR1cm4ga2Uua2lkc2Nsb3RoW3RdOwoJCQkJCWNhc2UgIueUt+meiyI6CgkJCQkJCXJldHVybiBrZS5zaG9lcy5tYW47CgkJCQkJY2FzZSAi5aWz6Z6LIjoKCQkJCQkJcmV0dXJuIGtlLnNob2VzLndvbWFuOwoJCQkJCWNhc2UgIuerpemeiyI6CgkJCQkJCXJldHVybiBrZS5zaG9lcy5raWRzCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGgoKSB7CgkJCQlmb3IgKHZhciBlID0gMDsgZSA8IENlLmxlbmd0aDsgZSsrKQoJCQkJCWZvciAodmFyIHQgPSBDZVtlXSwgbiA9IGkodCkubGVuZ3RoLCBhID0gbiAtIDE7IGEgPj0gMDsgYS0tKSB7CgkJCQkJCXZhciBvID0gaSh0KS5lcShhKS50ZXh0KCkudG9Mb3dlckNhc2UoKSwKCQkJCQkJCXIgPSBkKG8pOwoJCQkJCQlpZiAocikgcmV0dXJuIHZvaWQgbChyKQoJCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gdSgpIHsKCQkJCWlmICgtMSA9PSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiY2hyb21lIikgJiYgKGkoIiNnd2RfaHRfbWFpbiIpLmFkZENsYXNzKCJpZV9oYWNrIiksIGkoIiN0cmFuc3BvcnRfZGV0YWlsIikuYWRkQ2xhc3MoImllX2hhY2siKSwgaSgiI3NpemVfZGV0YWlsIikuYWRkQ2xhc3MoImllX2hhY2siKSksICJ3d3cuNnBtLmNvbSIgPT0gcmUpIHsKCQkJCQl2YXIgZSA9IGkoIiNnd2RfaHRfbWFpbiIpLnBhcmVudCgpLm91dGVyV2lkdGgoKSwKCQkJCQkJdCA9IGUgLSAzNTU7CgkJCQkJaSgiI2d3ZF9odF9tYWluIikuY3NzKCJtYXJnaW4tbGVmdCIsIHQgLyAyICsgInB4IikKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gbSgpIHsKCQkJCXJldHVybiAid3d3LjZwbS5jb20iID09IHJlID8gInppeWluZyIgOiBpKCIjbWVyY2hhbnQtaW5mbyIpLmxlbmd0aCA+IDAgPyAid3d3LmFtYXpvbi5jb20iID09IHJlID8gaSgiI21lcmNoYW50LWluZm8iKS50ZXh0KCkuaW5kZXhPZigic29sZCBieSBBbWF6b24iKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiAid3d3LmFtYXpvbi5jby5qcCIgPT0gcmUgPyBpKCIjbWVyY2hhbnQtaW5mbyIpLnRleHQoKS5pbmRleE9mKCJqcCDjgYzosqnlo7IiKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiAid3d3LmFtYXpvbi5kZSIgPT0gcmUgPyBpKCIjbWVyY2hhbnQtaW5mbyIpLnRleHQoKS5pbmRleE9mKCJWZXJrYXVmIHVuZCBWZXJzYW5kIGR1cmNoIEFtYXpvbiIpID4gLTEgPyAieml5aW5nIiA6IGkoIiNtZXJjaGFudC1pbmZvIikudGV4dCgpLmluZGV4T2YoIkRpc3BhdGNoZWQgZnJvbSBhbmQgc29sZCBieSBBbWF6b24iKSA+IC0xID8gInppeWluZyIgOiAic2FuZmFuZyIgOiB2b2lkIDAgOiAic2FuZmFuZyIKCQkJfQoKCQkJZnVuY3Rpb24gZigpIHsKCQkJCXJldHVybiAid3d3LmFtYXpvbi5kZSIgPT0gcmUgPyBpKCIjZGRtU2hpcHBpbmdNZXNzYWdlIikudGV4dCgpLmluZGV4T2YoIkRpZXNlciBBcnRpa2VsIGthbm4gbmFjaCIpID4gLTEgJiYgaSgiI2RkbUlubGluZUFkZHJlc3NJbmZvIikudGV4dCgpLmluZGV4T2YoIkNoaW5hIikgPiAtMSA/ICJ6aGl5b3UiIDogImZlaXpoaXlvdSIgOiBpKCcjZGV0YWlsLWJ1bGxldHMgLmNvbnRlbnQgdWwgbGk6Y29udGFpbnMoIkludGVybmF0aW9uYWwgU2hpcHBpbmciKScpLmxlbmd0aCA+IDAgPyAiemhpeW91IiA6IGkoJy5zaGlwcGluZy1yZXN0cmljdGlvbnMgLmxhYmVsOmNvbnRhaW5zKCJJbnRlcm5hdGlvbmFsIiknKS5sZW5ndGggPiAwID8gInpoaXlvdSIgOiAiZmVpemhpeW91IgoJCQl9CgoJCQlmdW5jdGlvbiBnKCkgewoJCQkJbig0MSk7CgkJCQl2YXIgZSwgYSwgbyA9IG4oNDUpLAoJCQkJCXIgPSB1ZS5jb21waWxlKG8pKHsKCQkJCQkJZGF0YTogewoJCQkJCQkJcGFnZWNsYXNzOiBfKCksCgkJCQkJCQlnZXRwcmljZTogeigpLAoJCQkJCQkJdW5pdF9wcmljZTogaygpLAoJCQkJCQkJcHJvdHlwZTogbSgpLAoJCQkJCQkJbWFpbHR5cGU6IGYoKSwKCQkJCQkJCWhlX3dlaWdodDogYigpLAoJCQkJCQkJaG9zdHM6IHJlLAoJCQkJCQkJc2l0ZTogIjZwbSIgPT0gdC5zaXRlID8gIjZQTSIgOiAi5Lqa6ams6YCKIiwKCQkJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyCgkJCQkJCX0KCQkJCQl9KTsKCQkJCWEgPSB6ZVtyZV0uZG9tOwoJCQkJZm9yICh2YXIgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKSBpKGFbc10pLmxlbmd0aCA+IDAgJiYgKGUgPSBhW3NdKTsKCQkJCWlmIChlKSB7CgkJCQkJc3dpdGNoICh6ZVtyZV0ucG9zaXRpb24pIHsKCQkJCQkJY2FzZSAiYmVmb3JlIjoKCQkJCQkJCWkoZSkuYmVmb3JlKHIpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImFmdGVyIjoKCQkJCQkJCWkoZSkuYWZ0ZXIocikKCQkJCQl9CgkJCQkJZ2UoInRyYWNrOmhhaXRhbzptYWluIiksIF9lLmxvZygi5pi+56S65rW35reY5Li755WM6Z2iIikKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gXygpIHsKCQkJCXZhciBlID0gImh0XyIgKyByZS5zcGxpdCgiLiIpWzFdOwoJCQkJcmV0dXJuIGUKCQkJfQoKCQkJZnVuY3Rpb24geCgpIHsKCQkJCXZhciBlID0gbG9jYXRpb24uaG9zdDsKCQkJCWZvciAodmFyIHQgaW4gemUpIHQgPT0gZSAmJiAodmUgPSB6ZVt0XS5jb3VuLCByZSA9IHQpCgkJCX0KCgkJCWZ1bmN0aW9uIHcoZSkgewoJCQkJdmFyIHQgPSBlLm1hdGNoKC9bMC05XSsoPzpcLnxcLHwpKD86WzAtOV0rfCkvKTsKCQkJCXJldHVybiB0ICYmICh0ID0gdFswXSksICJ3d3cuYW1hem9uLmRlIiA9PSByZSAmJiAodCA9IHQudG9TdHJpbmcoKS5yZXBsYWNlKCIsIiwgIi4iKSksIHQKCQkJfQoKCQkJZnVuY3Rpb24gdihlKSB7CgkJCQlzd2l0Y2ggKHJlKSB7CgkJCQkJY2FzZSAid3d3LmFtYXpvbi5jb20iOgoJCQkJCQlpZiAoZS5pbmRleE9mKCJwb3VuZHMiKSA+IC0xKSByZXR1cm4gInBvdW5kcyI7CgkJCQkJCWlmIChlLmluZGV4T2YoIm91bmNlcyIpID4gLTEpIHJldHVybiAib3VuY2VzIjsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAid3d3LmFtYXpvbi5kZSI6CgkJCQkJCWlmIChlLmluZGV4T2YoIktnIikgPiAtMSkgcmV0dXJuICJrZyI7CgkJCQkJCWlmIChlLmluZGV4T2YoImciKSA+IC0xKSByZXR1cm4gImciOwoJCQkJCQlicmVhazsKCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLmpwIjoKCQkJCQkJaWYgKGUuaW5kZXhPZigiS2ciKSA+IC0xKSByZXR1cm4gImtnIjsKCQkJCQkJaWYgKGUuaW5kZXhPZigiZyIpID4gLTEpIHJldHVybiAiZyI7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgInd3dy42cG0uY29tIjoKCQkJCQkJaWYgKGUuaW5kZXhPZigibGIiKSA+IC0xICYmIGUuaW5kZXhPZigib3oiKSA+IC0xKSByZXR1cm4gImxiX296IjsKCQkJCQkJaWYgKGUuaW5kZXhPZigibGIiKSA+IC0xKSByZXR1cm4gInBvdW5kcyI7CgkJCQkJCWlmIChlLmluZGV4T2YoIm96IikgPiAtMSkgcmV0dXJuICJvdW5jZXMiCgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIGIoZSkgewoJCQkJaWYgKHdlLndlaWdodCAmJiAhZSkgcmV0dXJuIHdlLndlaWdodDsKCQkJCWZvciAodmFyIHQgPSAwLCBuID0gU2VbcmVdLCBhID0gbi5sZW5ndGgsIG8gPSAwOyBhID4gbzsgbysrKSB7CgkJCQkJdmFyIHIgPSBpKG5bb10pLnRleHQoKTsKCQkJCQlpZiAoIiIgIT0gcikgewoJCQkJCQl2YXIgcyA9IHYocik7CgkJCQkJCWlmICgibGJfb3oiID09IHMpIHsKCQkJCQkJCXZhciBsID0gci5tYXRjaCgvWzAtOV0rL2cpOwoJCQkJCQkJcmV0dXJuIHQgPSBNYXRoLnJvdW5kKDEwMCAqICh5ZS5wb3VuZHMgLyAxZTMgKiBwYXJzZUludChsWzBdKSArIHllLm91bmNlcyAvIDFlMyAqIHBhcnNlSW50KGxbMV0pKSkgLyAxMDAsIHdlLndlaWdodCA9IHQsIHQKCQkJCQkJfQoJCQkJCQlpZiAoIiIgIT0gcykgcmV0dXJuIHQgPSBNYXRoLnJvdW5kKHllW3NdIC8gMWUzICogdyhyKSAqIDEwMCkgLyAxMDAsIDAgPT09IHQgfHwgdCB8fCAodCA9IDApLCB3ZS53ZWlnaHQgPSB0LCB0CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiB5KGUpIHsKCQkJCXZhciB0ID0gYihlKTsKCQkJCWlmICh0ICYmIDAgIT0gdCkgewoJCQkJCWUgJiYgaSgiLmh0X3dlaWdodF9udW0iKS52YWwodCk7CgkJCQkJdmFyIG4gPSBBKHQpLAoJCQkJCQlhID0gaSgiI3RyYW5zX2xpc3QgbGkgLnRyYW5zX2NvbSIpLmVxKG4ubWluaW5kZXgpLnRleHQoKTsKCQkJCQkiIiAhPSBhICYmIDk5OTk5OTk5ICE9IG4ubWlucHJpY2UgJiYgKGkoIi5odF9mcmVpZ2h0X251bSIpLnRleHQoIsKlIiArIG4ubWlucHJpY2UpLCBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikudGV4dChhKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gaygpIHsKCQkJCXJldHVybiB0LmRwLnByaWNlIHx8ICIwIgoJCQl9CgoJCQlmdW5jdGlvbiB6KGUpIHsKCQkJCXZhciB0ID0gMDsKCQkJCXQgPSBlID8gZSA6IGsoKTsKCQkJCXZhciBuID0gaSgiLmh0X2ZyZWlnaHRfbnVtIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQluICYmIChuID0gblswXSk7CgkJCQl2YXIgYSA9IGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCXJldHVybiBhICYmIChhID0gYVswXSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0iKSAmJiAiMCIgPT0gaSgiLmh0X3RhcmlmZiAuaHRfdGFyaWZmX251bSIpLmF0dHIoImRhdGEtcHJpY2UiKSAmJiAoYSA9IDApLCBhIHx8IChhID0gMCksIG4gfHwgKG4gPSAwKSwgdCA9IE51bWJlcigoTnVtYmVyKHQpICsgTnVtYmVyKG4pICsgTnVtYmVyKGEpKS50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSwgdC50b1N0cmluZygpLm1hdGNoKC9cLlxkezN9LykgJiYgKHQgPSB0LnRvU3RyaW5nKCkucmVwbGFjZSgvKFwuXGR7Mn0pXGQrLywgIiQxIikpLCB0CgkJCX0KCgkJCWZ1bmN0aW9uIEIoKSB7CgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbSgpOwoJCQkJCWkoIi5wcm9fdHlwZSBlbSIpLmF0dHIoImNsYXNzIiwgZSksICJ6aXlpbmciID09IGUgPyAoaSgiLnByb190eXBlIC5wcm9fdF90bGUiKS50ZXh0KCLoh6rokKUiKSwgaSgiLnByb190eXBlX2RldGFpbCIpLnRleHQoKCI2cG0iID09IHQuc2l0ZSA/ICI2UE0iIDogIuS6mumprOmAiiIpICsgIuebtOaOpemUgOWUruOAgiIpKSA6IChpKCIucHJvX3R5cGUgLnByb190X3RsZSIpLnRleHQoIuesrOS4ieaWuSIpLCBpKCIucHJvX3R5cGVfZGV0YWlsIikudGV4dCgoIjZwbSIgPT0gdC5zaXRlID8gIjZQTSIgOiAi5Lqa6ams6YCKIikgKyAi56ys5LiJ5pa55ZWG5a626ZSA5ZSu44CCIikpCgkJCQl9LCAxZTMpCgkJCX0KCgkJCWZ1bmN0aW9uIGooKSB7CgkJCQl2YXIgZSA9ICIjcHJpY2VibG9ja19vdXJwcmljZSIsCgkJCQkJbiA9ICJwcmljZV9mZWF0dXJlX2RpdiI7CgkJCQkiNnBtIiA9PSB0LnNpdGUgJiYgKGUgPSAiI3ByaWNlU2xvdCAucHJpY2UiLCBuID0gInByb2R1Y3RGb3JtIik7CgkJCQl2YXIgYSA9IGkoZSkudGV4dCgpLAoJCQkJCW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTsKCQkJCW8gJiYgby5hZGRFdmVudExpc3RlbmVyICYmIG8uYWRkRXZlbnRMaXN0ZW5lcigiRE9NU3VidHJlZU1vZGlmaWVkIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIHQgPSBpKGUpLnRleHQoKTsKCQkJCQl0ICE9IGEgJiYgdCAmJiAoYSA9IHQsIHQgPSBtZSh0KSwgaSgiLmh0X2NvbnRlbnQgLnByaWNlX251bSIpLnRleHQoIsKlIiArIHQpLCBDKHQpLCBCKCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXkoITApCgkJCQkJfSwgODAwKSkKCQkJCX0sICExKQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUpIHsKCQkJCXZhciB0ID0gIsKlIiArIHooZSk7CgkJCQlpKCIuaHRfZ2V0cHJpY2VfbnVtIikudGV4dCh0KQoJCQl9CgoJCQlmdW5jdGlvbiBTKCkgewoJCQkJdmFyIGUgPSAoaSh3aW5kb3cpLndpZHRoKCkgLSA1OTUpIC8gMiwKCQkJCQl0ID0gKGkod2luZG93KS5oZWlnaHQoKSAtIDQyMCkgLyAyOwoJCQkJcmV0dXJuIHsKCQkJCQlwb3N4OiBlLAoJCQkJCXBvc3k6IHQKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gTigpIHsKCQkJCXZhciBlID0gbig0Nik7CgkJCQlpKCJib2R5IikuYXBwZW5kKHVlLmNvbXBpbGUoZSkoewoJCQkJCXBvczogUygpCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gVCgpIHsKCQkJCXZhciBlID0gbig0Nyk7CgkJCQlpKCJib2R5IikuYXBwZW5kKHVlLmNvbXBpbGUoZSkoewoJCQkJCXBvczogUygpLAoJCQkJCWh0X3dlaWdodDogYigpLAoJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyCgkJCQl9KSkKCQkJfQoKCQkJZnVuY3Rpb24gUChlLCBuKSB7CgkJCQl2YXIgYSA9ICc8aW1nIHNyYz0iaHR0cDovL3MxLicgKyB0LmV4dE5hbWUgKyAnLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy97e2ltZ3VybH19Ij4nOwoJCQkJaSgiLnNpemVfcyIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUoYSkoewoJCQkJCWltZ3VybDogZQoJCQkJfSkpLCBpKCIuc2l6ZV9pdGVtX2ltZyIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUoYSkoewoJCQkJCWltZ3VybDogbgoJCQkJfSkpCgkJCX0KCgkJCWZ1bmN0aW9uIEkoZSkgewoJCQkJaWYgKCFoZSkgcmV0dXJuIG51bGw7CgkJCQlmb3IgKHZhciB0ID0gaGVbdmVdLCBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspCgkJCQkJaWYgKGUgPT09IHRbbl0uc2hvcElkICYmIHRbbl0uYXNjZSkgewoJCQkJCQl2YXIgaSA9IHRbbl0uYXNjZWFyciwKCQkJCQkJCWEgPSB0W25dLmN1cnJlbnQ7CgkJCQkJCXJldHVybiB7CgkJCQkJCQlhc2NlYXJyOiBpLAoJCQkJCQkJY3VycmVudDogYQoJCQkJCQl9CgkJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBBKGUpIHsKCQkJCWZvciAodmFyIHQgPSA5OTk5OTk5OSwgbiA9IDAsIGEgPSBpKCIjdHJhbnNfbGlzdCBsaSAudHJhbnNfcHIiKSwgbyA9IGkoYSkubGVuZ3RoLCByID0gMDsgbyA+IHI7IHIrKykgewoJCQkJCXZhciBzID0gTnVtYmVyKGkoYSkuZXEocikuYXR0cigiZGF0YS1mcCIpKSwKCQkJCQkJbCA9IE51bWJlcihpKGEpLmVxKHIpLmF0dHIoImRhdGEtZnciKSksCgkJCQkJCWMgPSBOdW1iZXIoaShhKS5lcShyKS5hdHRyKCJkYXRhLXN3IikpLAoJCQkJCQlkID0gTnVtYmVyKGkoYSkuZXEocikuYXR0cigiZGF0YS1zcCIpKSwKCQkJCQkJcCA9IGkoYSkuZXEocikuYXR0cigiZGF0YS1zaG9wbmFtZSIpOwoJCQkJCWlmIChwKSB7CgkJCQkJCXZhciBoID0gSShwKTsKCQkJCQkJaWYgKCFoKSByZXR1cm47CgkJCQkJCXZhciB1ID0gTyhlLCBoLmFzY2VhcnIsIGguY3VycmVudCkKCQkJCQl9IGVsc2UgdmFyIHUgPSBFKGUsIFtzLCBsLCBkLCBjXSk7CgkJCQkJMCA9PSByICYmICh0ID0gdSksIGkoYSkuZXEocikudGV4dCgi77+lIiArIHUpCgkJCQl9CgkJCQlyZXR1cm4gewoJCQkJCW1pbmluZGV4OiBuLAoJCQkJCW1pbnByaWNlOiB0CgkJCQl9CgkJCX0KCgkJCWZ1bmN0aW9uIHEoKSB7CgkJCQl2YXIgZSA9IGkoIi5maXJzdF94aWFsYSIpLnZhbCgpLAoJCQkJCXQgPSBpKCIuc2Vjb25kX3hpYWxhIikudmFsKCksCgkJCQkJbiA9IGkoIiNmaXJzdF9zaXplIikudmFsKCk7CgkJCQluICYmIChuID0gTnVtYmVyKG4pKTsKCQkJCXZhciBhID0gYmVbZV0sCgkJCQkJbyA9IGJlW3RdLAoJCQkJCXIgPSBuICogYSAvIG87CgkJCQlyLnRvU3RyaW5nKCkuaW5kZXhPZigiLiIpID4gLTEgJiYgKHIgPSByLnRvRml4ZWQoMikpLCBpKCIjc2Vjb25kX3NpemUiKS52YWwocikKCQkJfQoKCQkJZnVuY3Rpb24gRShlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IHRbMF0sCgkJCQkJYSA9IHRbMV0sCgkJCQkJbyA9IHRbMl0sCgkJCQkJciA9IHRbM10sCgkJCQkJcyA9IDE7CgkJCQlpZiAoci50b1N0cmluZygpLmluZGV4T2YoIi4iKSA+IC0xICYmIChzID0gci50b1N0cmluZygpLm1hdGNoKC9cLihcZCspLylbMV0ubGVuZ3RoKSwgIjAiID09IGkpIG4gPSBlIC8gciAqIG87CgkJCQllbHNlIGlmIChhID49IGUpIG4gPSBpOwoJCQkJZWxzZSB7CgkJCQkJdmFyIGwgPSBlIC0gYSwKCQkJCQkJYyA9IDA7CgkJCQkJYyA9IGwgKiBNYXRoLnBvdygxMCwgcykgJSAociAqIE1hdGgucG93KDEwLCBzKSkgPT0gMCA/IGwgLyByIDogcGFyc2VJbnQobCAvIHIpICsgMTsKCQkJCQl2YXIgbiA9IGkgKyBjICogbwoJCQkJfQoJCQkJcmV0dXJuIE51bWJlcihuKS50b0ZpeGVkKDIpCgkJCX0KCgkJCWZ1bmN0aW9uIE8oZSwgdCwgbikgewoJCQkJZSA9IE51bWJlcihlKTsKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKykKCQkJCQlpZiAodFtpXVswXSA+IGUpIHJldHVybiAwID09IGkgPyBpID0gMSA6IHRbaSAtIDFdWzBdIDwgZSAmJiAoaSArPSAxKSwgbiA/IG1lKHRbaSAtIDFdWzFdKS50b0ZpeGVkKDIpIDogTnVtYmVyKHRbaSAtIDFdWzFdKS50b0ZpeGVkKDIpOwoJCQkJcmV0dXJuIGUgPiB0W3QubGVuZ3RoIC0gMV1bMF0gPyBuID8gbWUodFt0Lmxlbmd0aCAtIDFdWzFdKS50b0ZpeGVkKDIpIDogTnVtYmVyKHRbdC5sZW5ndGggLSAxXVsxXSkudG9GaXhlZCgyKSA6IHZvaWQgMAoJCQl9CgoJCQlmdW5jdGlvbiBMKCkgewoJCQkJZm9yICh2YXIgZSwgdCwgbiwgYSwgbywgciA9IE51bWJlcihpKCIuaHRfd2VpZ2h0IC5odF93ZWlnaHRfbnVtIikudmFsKCkpIHx8IDAsIHMgPSBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikuYXR0cigiZGF0YS10aXRsZSIpLCBsID0gaGVbdmVdLCBjID0gMDsgYyA8IGwubGVuZ3RoOyBjKyspIGxbY10uc2hvcG5hbWUgPT0gcyAmJiAoZSA9IGxbY10uZmlyc3RXLCB0ID0gbFtjXS5uZXh0VywgbiA9IGxbY10uYXNjZSwgYSA9IGxbY10uYXNjZWFyciwgbyA9IGxbY10uY3VycmVudCk7CgkJCQlpZiAobikgdmFyIGQgPSAiwqUiICsgTyhyLCBhLCBvKTsKCQkJCWVsc2UgdmFyIGQgPSAiwqUiICsgRShyLCBbZVsxXSwgZVswXSwgdFsxXSwgdFswXV0pOwoJCQkJaSgiLmh0X2ZyZWlnaHRfbnVtIikudGV4dChkKQoJCQl9CgoJCQlmdW5jdGlvbiBEKCkgewoJCQkJdmFyIGUgPSBoZVt2ZV0sCgkJCQkJdCA9ICd7e2VhY2ggZGF0YX19XG4gICAgICAgICAgICAgIDxsaSBjbGFzcz0ie3tpZiAkaW5kZXglMj09MX19bF9vZGR7ey9pZn19Ij5cbiAgICAgICAgICAgICAgICA8YSBjbGFzcz0idHJhbnNfY29tIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3skdmFsdWUuc2hvcF91cmx9fSIgPnt7JHZhbHVlLnNob3BuYW1lfX08L2E+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxvX2NlbnRlciI+e3skdmFsdWUud2FyZWhvdXNlfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRyYW5zX3ByIiB7e2lmICR2YWx1ZS5hc2NlfX1kYXRhLXNob3BuYW1lPSJ7eyR2YWx1ZS5zaG9wSWR9fSIge3svaWZ9fSBkYXRhLWZ3PSJ7eyR2YWx1ZS5maXJzdFdbMF19fSIgZGF0YS1zdz0ie3skdmFsdWUubmV4dFdbMF19fSIgZGF0YS1zcD0ie3skdmFsdWUubmV4dFdbMV19fSIgZGF0YS1mcD0ie3skdmFsdWUuZmlyc3RXWzFdfX0iPnt7JHZhbHVlLmZpcnN0V1sxXT09MD8i5peg6aaW6YeNIjooIu+/pSIrJHZhbHVlLmZpcnN0V1sxXSl9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5jb29wZXJ9fTxzcGFuIGNsYXNzPSJzYWxlX3RsZSI+PGEgIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+e3skdmFsdWUuc2FsZV90bGV9fTwvYT48L3NwYW4+e3svaWZ9fVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAge3svZWFjaH19JzsKCQkJCWkoIiN0cmFuc19saXN0IikuYXBwZW5kKHVlLmNvbXBpbGUodCkoewoJCQkJCWRhdGE6IGUKCQkJCX0pKSwgTSgpLCBzZSB8fCBpKCIjdHJhbnNwb3J0X2RldGFpbCIpLmFkZENsYXNzKCJub19zYWxlIikKCQkJfQoKCQkJZnVuY3Rpb24gTSgpIHsKCQkJCXZhciBlID0gaGVbdmVdOwoJCQkJaSgiI3RyYW5zX2xpc3QgbGkgLnRyYW5zX3ByIikuZWFjaChmdW5jdGlvbih0LCBuKSB7CgkJCQkJaWYgKCLml6Dpppbph40iID09IGkobikudGV4dCgpKQoJCQkJCQlmb3IgKHZhciBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIGVbYV0uc2hvcElkID09PSBpKG4pLmF0dHIoImRhdGEtc2hvcG5hbWUiKSAmJiAoZVthXS5jdXJyZW50ID8gaShuKS50ZXh0KCLvv6UiICsgTnVtYmVyKG1lKGVbYV0uYXNjZWFyclswXVsxXSkpLnRvRml4ZWQoMikpIDogaShuKS50ZXh0KCLvv6UiICsgTnVtYmVyKGVbYV0uYXNjZWFyclswXVsxXSkudG9GaXhlZCgyKSkpOwoJCQkJCWVsc2UgewoJCQkJCQl2YXIgbyA9IGkobikudGV4dCgpLnJlcGxhY2UoIu+/pSIsICIiKTsKCQkJCQkJbyA9ICLvv6UiICsgTnVtYmVyKG8pLnRvRml4ZWQoMiksIGkobikudGV4dChvKQoJCQkJCX0KCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFIoZSwgdCkgewoJCQkJcmV0dXJuICJMQiIgPT0gZSAmJiAodCA9IC40NTM2ICogTnVtYmVyKHQpKSwgdAoJCQl9CgoJCQlmdW5jdGlvbiBGKCkgewoJCQkJaSgiLnRyYW5zX3cgaW5wdXQiKS5vbigia2V5dXAiLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IE51bWJlcihpKHRoaXMpLnZhbCgpKSwKCQkJCQkJdCA9IGkoIi50cmFuc193IGlucHV0Ky53ZWlnaHRfdHlwZSIpLnRleHQoKSwKCQkJCQkJbiA9IFIodCwgZSk7CgkJCQkJMCAhPT0gZSAmJiAoZSA/IEEobikgOiBhbGVydCgi6K+36L6T5YWl5pWw5a2X77yBIikpCgkJCQl9KSwgaSgiI3RyYW5zX2xpc3QgbGkgLnNhbGVfdGxlIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlnZSgiY2xpY2s6aGFpdGFvOnNhbGVfdGxlIiksIF9lLmxvZygi5rW35reY6L2s6L+Q5ZWG5a625LyY5oOg5pS/562W54K55Ye75oOF5Ya1IikKCQkJCX0pLCBpKCIjdHJhbnNfbGlzdCBsaSAudHJhbnNfY29tIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJZ2UoImNsaWNrOmhhaXRhbzp0cmFuc19jb20iKSwgX2UubG9nKCLmtbfmt5jovazov5DllYblrrbnvZHnq5nngrnlh7vmg4XlhrUiKQoJCQkJfSksIGkoIiN0cmFuc19saXN0IGxpIC5sb19jZW50ZXIsICN0cmFuc19saXN0IGxpIC50cmFuc19wciIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS5wYXJlbnQoKS5maW5kKCIudHJhbnNfY29tIikudGV4dCgpOwoJCQkJCWkoIi5odF90cmFuc3BvcnRfYnRuIHNwYW4iKS50ZXh0KGUuc2xpY2UoMCwgNSkpLCBpKCIuaHRfdHJhbnNwb3J0X2J0biBzcGFuIikuYXR0cigiZGF0YS10aXRsZSIsIGUpLCBMKCksIEMoKSwgaSgiI3RyYW5zcG9ydF9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uICQoKSB7CgkJCQlpKCIuY2xvdGhlc19uYXYgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIuY2xvdGhlc19uYXYgbGkiKS5yZW1vdmVDbGFzcygic2VsZWN0IiksIGkodGhpcykuYWRkQ2xhc3MoInNlbGVjdCIpOwoJCQkJCXZhciBlID0gaSh0aGlzKS50ZXh0KCksCgkJCQkJCXQgPSBwKGUsIHZlKTsKCQkJCQllLmluZGV4T2YoIumeiyIpID4gLTEgPyAoaSgiLnVuaXRfY20iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9tbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIuY2xvdGhfaWNvbiIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5zaG9lcyIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgZS5pbmRleE9mKCLnlLfpnosiKSA+IC0xID8gKGkoIi5jbG90aF9pY29uIikuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoImNsb3RoX2ljb24gaHRfc2hvZXMgbWFuX2Zvb3QiKSwgaSgiLmRldGFpbF9sZWZ0IC5zaG9lcyIpLnRleHQoZSkpIDogZS5pbmRleE9mKCLlpbPpnosiKSA+IC0xID8gKGkoIi5jbG90aF9pY29uIikuYXR0cigiY2xhc3MiLCAiIikuYWRkQ2xhc3MoImNsb3RoX2ljb24gaHRfc2hvZXMgd29tYW5fZm9vdCIpLCBpKCIuZGV0YWlsX2xlZnQgLnNob2VzIikudGV4dChlKSkgOiAoaSgiI3NpemVfZGV0YWlsIC5zaG9lcyIpLmhpZGUoKSwgaSgiLmNsb3RoX2ljb24iKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIiksIGkoIi50b25neGllIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIudG9uZ3hpZTAiKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIudG9uZ3hpZTQiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGh0X3Nob2VzIGtpZHNfZm9vdCIpKSkgOiBlLmluZGV4T2YoIuerpeijhSIpID4gLTEgPyAoaSgiLnVuaXRfbW0iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9jbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIjc2l6ZV9kZXRhaWwgLnRvbmd6aHVhbmciKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIiksIGkoIi5jbG90aF9pY29uIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGtpZDAiKSwgaSgiLnRvbmd6aHVhbmcwIikuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnRvbmd6aHVhbmc0IikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSkgOiBlLmluZGV4T2YoIueUt+ijhSIpID4gLTEgPyAoaSgiLnVuaXRfbW0iKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpLCBpKCIudW5pdF9jbSIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5kZXRhaWxfbGVmdCBzcGFuIikuaGlkZSgpLCBpKCIuY2xvdGhfaWNvbiIpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKSwgaSgiI3NpemVfZGV0YWlsIC5zaGFuZ3lpIikuc2hvdygpLCBpKCIjc2l6ZV9kZXRhaWwgLnhpYXpodWFuZyIpLnNob3coKSwgaSgiLnhpYXpodWFuZyIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIiksIGkoIi5zaGFuZ3lpIikuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiBtYW5zaGFuZ3podWFuZyIpKSA6IChpKCIudW5pdF9tbSIpLmNzcygiZGlzcGxheSIsICJub25lIiksIGkoIi51bml0X2NtIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIjc2l6ZV9kZXRhaWwgLmRldGFpbF9sZWZ0IHNwYW4iKS5oaWRlKCksIGkoIi5jbG90aF9pY29uIikuY3NzKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpLCBpKCIjc2l6ZV9kZXRhaWwgLnNoYW5neWkiKS5zaG93KCksIGkoIiNzaXplX2RldGFpbCAueGlhemh1YW5nIikuc2hvdygpLCBpKCIueGlhemh1YW5nIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnNoYW5neWkiKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBlLmluZGV4T2YoIueUt+ijhSIpID4gLTEgPyBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnNoYW5nemh1YW5nIikgOiBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIHdvbWFuc2hhbmd6aHVhbmciKSksIFAodFswXSwgdFsxXSkKCQkJCX0pLCBpKCIuc2hhbmd5aSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWlmICghKGkodGhpcykuYXR0cigiY2xhc3MiKS5pbmRleE9mKCJzaXplX2hvdmVyIikgPiAtMSkpIHsKCQkJCQkJdmFyIGUgPSBpKCcuY2xvdGhlc19uYXYgbGlbY2xhc3M9InNlbGVjdCJdJykudGV4dCgpOwoJCQkJCQlpZiAoIuerpeijhSIgIT0gZSkgewoJCQkJCQkJIueUt+ijhSIgPT0gZSAmJiBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnNoYW5nemh1YW5nIiksICLlpbPoo4UiID09IGUgJiYgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiB3b21hbnNoYW5nemh1YW5nIik7CgkJCQkJCQl2YXIgdCA9IHAoZSwgdmUpOwoJCQkJCQkJUCh0WzBdLCB0WzFdKSwgaSh0aGlzKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIueGlhemh1YW5nIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKQoJCQkJCQl9CgkJCQkJfQoJCQkJfSksIGkoIi54aWF6aHVhbmciKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIShpKHRoaXMpLmF0dHIoImNsYXNzIikuaW5kZXhPZigic2l6ZV9ob3ZlciIpID4gLTEpKSB7CgkJCQkJCXZhciBlID0gaSgnLmNsb3RoZXNfbmF2IGxpW2NsYXNzPSJzZWxlY3QiXScpLnRleHQoKTsKCQkJCQkJaWYgKCLnq6Xoo4UiICE9IGUpIHsKCQkJCQkJCWlmICgi55S36KOFIiA9PSBlKSB7CgkJCQkJCQkJdmFyIHQgPSBrZS54aWF6aHVhbmdbdmVdLm1hbjsKCQkJCQkJCQlQKHRbMF0sIHRbMV0pLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIG1hbnhpYXpodWFuZyIpCgkJCQkJCQl9CgkJCQkJCQlpZiAoIuWls+ijhSIgPT0gZSkgewoJCQkJCQkJCXZhciB0ID0ga2UueGlhemh1YW5nW3ZlXS53b21hbjsKCQkJCQkJCQlQKHRbMF0sIHRbMV0pLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIHdvbWFueGlhemh1YW5nIikKCQkJCQkJCX0KCQkJCQkJCWkodGhpcykuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnNoYW5neWkiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpCgkJCQkJCX0KCQkJCQl9CgkJCQl9KSwgaSgiLnRvbmd6aHVhbmcwIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBwKCLnq6Xoo4UiLCB2ZSk7CgkJCQkJUChlWzBdLCBlWzFdKSwgaSh0aGlzKS5hZGRDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIudG9uZ3podWFuZzQiKS5yZW1vdmVDbGFzcygic2l6ZV9ob3ZlciIpLCBpKCIuY2xvdGhfaWNvbiIpLmF0dHIoImNsYXNzIiwgIiIpLmFkZENsYXNzKCJjbG90aF9pY29uIGtpZDAiKQoJCQkJfSksIGkoIi50b25nemh1YW5nNCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gcCgi56ul6KOFIiwgdmUpOwoJCQkJCVAoZVswXSwgZVsyXSksIGkodGhpcykuYWRkQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLnRvbmd6aHVhbmcwIikucmVtb3ZlQ2xhc3MoInNpemVfaG92ZXIiKSwgaSgiLmNsb3RoX2ljb24iKS5hdHRyKCJjbGFzcyIsICIiKS5hZGRDbGFzcygiY2xvdGhfaWNvbiBraWQ0IikKCQkJCX0pLCBpKCIudG9uZ3hpZTAiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHAoIuerpemeiyIsIHZlKTsKCQkJCQlQKGVbMF0sIGVbMV0pLCBpKHRoaXMpLmFkZENsYXNzKCJzaXplX2hvdmVyIiksIGkoIi50b25neGllNCIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIikKCQkJCX0pLCBpKCIudG9uZ3hpZTQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHAoIuerpemeiyIsIHZlKTsKCQkJCQlQKGVbMF0sIGVbMl0pLCBpKHRoaXMpLmFkZENsYXNzKCJzaXplX2hvdmVyIiksIGkoIi50b25neGllMCIpLnJlbW92ZUNsYXNzKCJzaXplX2hvdmVyIikKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFcoKSB7CgkJCQl2YXIgZSA9IHQuY29sbGVjdEluZm87CgkJCQlpZiAoIiIgPT0gZS5kcF9pZCkgcmV0dXJuIGkoIiNodF9hZGRjb2xsZWN0IikudGV4dCgi5pqC5LiN5pSv5oyBIiksIHZvaWQgaSgiI2h0X2FkZGNvbGxlY3QiKS51bmJpbmQoImNsaWNrIik7CgkJCQlpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIuato+WcqOa3u+WKoCIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGluZyIpLCAiIiAhPSBlLnRpdGxlICYmIGUudGl0bGUgfHwgKGUudGl0bGUgPSB0LmRwLm5hbWUgfHwgaSgidGl0bGUiKS50ZXh0KCkpLCAiIiAhPSBlLnByaWNlICYmIGUucHJpY2UgfHwgKGUucHJpY2UgPSB0LmRwLnByaWNlKTsKCQkJCXZhciBuID0gdC5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9ICIgKyBlLmRwX2lkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCB8fCB0LmRwLnVybCkgKyAiJmltZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nIHx8IHQuZHAuaW1nKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2F0X2lkPSIgKyB0LmRwLmNhdF9pZDsKCQkJCU5lKG4sIGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoMTAwID09IGUuY29kZSB8fCBlLmNvZGUgPD0gMCkgewoJCQkJCQl2YXIgbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvU3RyaW5nKCk7CgkJCQkJCW4gKz0gbi5pbmRleE9mKCI/IikgPiAtMSA/ICImZ3dkX2FkZF9mYXZvcl91bmlxdWU9dHJ1ZSIgOiAiP2d3ZF9hZGRfZmF2b3JfdW5pcXVlPXRydWUiLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHQuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChuKQoJCQkJCX0gZWxzZSAxID09IGUuY29kZSA/IChpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIuW3sua3u+WKoCIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLnJlbW92ZUNsYXNzKCJjX2FkZGluZyIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGVkIiksIGkoIiNodF9hZGRjb2xsZWN0IikudW5iaW5kKCJjbGljayIpKSA6IDIgPT0gZS5jb2RlICYmIChpKCIjaHRfYWRkY29sbGVjdCIpLnRleHQoIua3u+WKoOi/h+S6hiIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLnJlbW92ZUNsYXNzKCJjX2FkZGluZyIpLCBpKCIjaHRfYWRkY29sbGVjdCIpLmFkZENsYXNzKCJjX2FkZGVkIiksIGkoIiNodF9hZGRjb2xsZWN0IikudW5iaW5kKCJjbGljayIpKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gSCgpIHsKCQkJCWkoIi5odF9oZWFkIC5odF9nZXRwcmljZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKCIjaHRfY29udGVudF9pbmZvIik7CgkJCQkJZS5pcygiOnZpc2libGUiKSB8fCAoaSgiLmNvbnRlbnRfZGVmYXVsdCIpLmhpZGUoKSwgZS5zaG93KCkpCgkJCQl9KSwgaSgiLmNsb3NlYmFyIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSh0aGlzKS5wYXJlbnQoKS5oaWRlKCkKCQkJCX0pLCBpKCIuY29udGVudF9kZWZhdWx0X2xlZnQgLmh0X3RhcmlmZiAuZGVsX2xpbmUiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWkoIi50YXJpZmZfcmVtaW5kX2RldGFpbCIpLnNob3coKQoJCQkJfSksIGkoIi5jb250ZW50X2RlZmF1bHRfbGVmdCAuaHRfdGFyaWZmIC5kZWxfbGluZSIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnRhcmlmZl9yZW1pbmRfZGV0YWlsIikuaGlkZSgpCgkJCQl9KSwgaSgiLmh0X3RyYW5zbGF0ZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnRyYW5zbGF0ZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLCBpKCIuaHRfdHJhbnNsYXRlIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIudHJhbnNsYXRlX2RldGFpbCIpLmhpZGUoKQoJCQkJfSksIGkoIi5wcm9fdHlwZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLnByb190eXBlX2RldGFpbCIpLnNob3coKQoJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIucHJvX3R5cGVfZGV0YWlsIikuaGlkZSgpCgkJCQl9KSwgaSgiLm1haWxfdHlwZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLm1haWxfdHlwZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLm1haWxfdHlwZV9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pLCBpKCIuaHRfdHJhbnNwb3J0X2J0biwgLnNpemVfaGVscCwgLmh0X3RhcmlmZl9idG4sICNodF9hZGRjb2xsZWN0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmZpbmQoIi5kaXZfZGV0YWlsIikuc2hvdygpCgkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCWkodGhpcykuZmluZCgiLmRpdl9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pLCBpKCIud2VpZ2h0X3R5cGUiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWkoIi53ZWlnaHRfdHlwZV9kZXRhaWwiKS5zaG93KCkKCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiLndlaWdodF90eXBlX2RldGFpbCIpLmhpZGUoKQoJCQkJfSksIGkoIiNodF9hZGRjb2xsZWN0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gaSgiI2FsdEltYWdlcyBsaSBpbWciKS5lcSgwKTsKCQkJCQluICYmICh0LmNvbGxlY3RJbmZvLmltZyA9IG4uYXR0cigic3JjIikpLCBlLnByZXZlbnREZWZhdWx0KCksIFcoKQoJCQkJfSksIGkoIi5odF93ZWlnaHQgLndlaWdodF90eXBlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKHRoaXMpLnRleHQoKTsKCQkJCQkiTEIiID09PSBlID8gKG9lID0gaSgiLmh0X3dlaWdodF9udW0iKS52YWwoKSwgaSh0aGlzKS50ZXh0KCJLRyIpLCBpKCIuaHRfd2VpZ2h0X251bSIpLnZhbChNYXRoLnJvdW5kKC40NTM1OTI0ICogTnVtYmVyKG9lKSAqIDEwMCkgLyAxMDApKSA6IChpKHRoaXMpLnRleHQoIkxCIiksIG9lICYmIGkoIi5odF93ZWlnaHRfbnVtIikudmFsKG9lKSkKCQkJCX0pLCBpKCIuZGVsX2xpbmUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkiMSIgPT09IGkodGhpcykuYXR0cigiZGF0YS1kZWwiKSA/IChpKHRoaXMpLmZpbmQoIi5odF90YXJpZmZfbnVtIikuY3NzKCJ0ZXh0LWRlY29yYXRpb24iLCAibm9uZSIpLCBpKHRoaXMpLmF0dHIoImRhdGEtZGVsIiwgIjAiKSwgaSh0aGlzKS5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1wcmljZSIsIGkodGhpcykuZmluZCgic3BhbiIpLnRleHQoKSksIEMoKSkgOiAoaSh0aGlzKS5maW5kKCIuaHRfdGFyaWZmX251bSIpLmNzcygidGV4dC1kZWNvcmF0aW9uIiwgImxpbmUtdGhyb3VnaCIpLCBpKHRoaXMpLmF0dHIoImRhdGEtZGVsIiwgIjEiKSwgaSh0aGlzKS5maW5kKCJzcGFuIikuYXR0cigiZGF0YS1wcmljZSIsIDApLCBDKCkpCgkJCQl9KSwgaSgiLmh0X3RyYW5zcG9ydF9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIjdHJhbnNwb3J0X2RldGFpbCIpLnNob3coKSwgZ2UoImNsaWNrOmhhaXRhbzp0cmFuc3BvcnQiKSwgX2UubG9nKCLmtbfmt5jovazov5DllYblrrbngrnlh7vmg4XlhrUiKQoJCQkJfSksIGkoIi5zaXplX2hlbHAiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIjc2l6ZV9kZXRhaWwiKS5zaG93KCksIGdlKCJjbGljazpoYWl0YW86c2l6ZV9oZWxwIiksIF9lLmxvZygi54K55Ye75bC656CB5biu5YqpIikKCQkJCX0pLCBpKCIuc2l6ZV94aWFsYSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSh0aGlzKS5uZXh0KCIuc2l6ZV94aWFsYWJveCIpLnNob3coKSwgaSh0aGlzKS5hZGRDbGFzcygibXNIb3ZlciIpCgkJCQl9KSwgaSgiLnNpemVfeGlhbGEiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQlpZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWkoZSkubmV4dCgiLnNpemVfeGlhbGFib3giKS5oaWRlKCksIGkoZSkucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCX0sIDEwMCkKCQkJCX0pLCBpKCIuc2l6ZV94aWFsYWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGllKQoJCQkJfSksIGkoIi5zaXplX3hpYWxhYm94Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmhpZGUoKQoJCQkJfSksIGkoIi5zaXplX3hpYWxhYm94IGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkodGhpcykudGV4dCgpLAoJCQkJCQl0ID0gaSh0aGlzKS5wYXJlbnQoKS5hdHRyKCJkYXRhLXNpemUiKTsKCQkJCQlpKCIuIiArIHQpLnZhbChlKSwgaSh0aGlzKS5wYXJlbnQoKS5oaWRlKCksIHEoKQoJCQkJfSksIGkoIiNmaXJzdF9zaXplIikub24oImtleXVwIiwgZnVuY3Rpb24oKSB7CgkJCQkJcSgpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBVKCkgewoJCQkJSCgpLCBKKCksIEYoKQoJCQl9CgoJCQlmdW5jdGlvbiBZKGUpIHsKCQkJCXZhciB0ID0gJ3t7ZWFjaCBkYXRhfX08YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiB0aXRsZT0ie3skdmFsdWVbMV19fSIgdGFyaWZmPSJ7eyR2YWx1ZVswXX19Ij57eyR2YWx1ZVsxXX19PC9hPnt7L2VhY2h9fSc7CgkJCQlpKCIjY2F0ZV9zbWFsbCIpLm5leHQoIi54aWFsYWJveCIpLmVtcHR5KCkuYXBwZW5kKHVlLmNvbXBpbGUodCkoewoJCQkJCWRhdGE6IGUKCQkJCX0pKSwgaSgiI2NhdGVfc21hbGwiKS5yZW1vdmVDbGFzcygic2VsX2luZm8iKSwgRygpCgkJCX0KCgkJCWZ1bmN0aW9uIEcoKSB7CgkJCQlpKCIjc21hbGxfeGlhbGEgYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS50ZXh0KCk7CgkJCQkJaSgiI2NhdGVfc21hbGwiKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSksIGkoIi5odF90YXJpZmYgLmh0X3RhcmlmZl9udW0gZW0iKS50ZXh0KGkodGhpcykuYXR0cigidGFyaWZmIikpLCBpKCIjdGFyaWZmX2RldGFpbCAuaHRfdGFyaWZmX251bSIpLnRleHQoaSh0aGlzKS5hdHRyKCJ0YXJpZmYiKSksIGkoIi5odF90YXJpZmZfYnRuIHNwYW4iKS50ZXh0KGkodGhpcykudGV4dCgpLnNsaWNlKDAsIDUpKSwgaSgiLmh0X3RhcmlmZl9idG4gc3BhbiIpLmF0dHIoInRpdGxlIiwgaSh0aGlzKS50ZXh0KCkpLCBpKCIjc21hbGxfeGlhbGEiKS5oaWRlKCksIFgoIiNjYXRlX3NtYWxsIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCkKCQkJCX0pLCBpKCIjc2VsZWN0X2J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCUMoKSwgaSgiI3RhcmlmZl9kZXRhaWwiKS5oaWRlKCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFgoZSwgdCwgbikgewoJCQkJbiA9IG4gfHwgNjsKCQkJCXZhciBhLCBvID0gMDsKCQkJCWEgPSAidGV4dCIgPT0gdCA/IGkoZSkudGV4dCgpIDogaShlKS52YWwoKTsKCQkJCWZvciAodmFyIHIgPSAwOyByIDwgYS5sZW5ndGg7IHIrKykgewoJCQkJCXZhciBzID0gbmV3IFJlZ0V4cCgiW2EtejAtOS9dIikudGVzdChhW3JdKTsKCQkJCQlpZiAobyArPSBzID8gLjUgOiAxLCBvID4gbikgcmV0dXJuIGEgPSBhLnNsaWNlKDAsIHIpICsgIi4uLiIsIHZvaWQoInRleHQiID09IHQgPyBpKGUpLnRleHQoYSkgOiBpKGUpLnZhbChhKSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24gSigpIHsKCQkJCWkoIi5odF90YXJpZmZfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJaSgiI3RhcmlmZl9kZXRhaWwiKS5zaG93KCksIGdlKCJjbGljazpoYWl0YW86dGFyaWZmIiksIF9lLmxvZygi5rW35reY5YWz56iO54K55Ye7IikKCQkJCX0pLCBpKCIjY2F0ZV9zZWxlY3RfYm94IGlucHV0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLm5leHQoIi54aWFsYWJveCIpLmZpbmQoImEiKS5sZW5ndGggPiAwICYmIChpKHRoaXMpLm5leHQoIi54aWFsYWJveCIpLnNob3coKSwgaSh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygic2VsZWN0X2hvdmVyIiksIGkodGhpcykuYWRkQ2xhc3MoImlucHV0X2hvdmVyIikpCgkJCQl9KSwgaSgiI2NhdGVfc2VsZWN0X2JveCBpbnB1dCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCWllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJaShlKS5uZXh0KCIueGlhbGFib3giKS5oaWRlKCksIGkoZSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoInNlbGVjdF9ob3ZlciIpLCBpKGUpLnJlbW92ZUNsYXNzKCJpbnB1dF9ob3ZlciIpCgkJCQkJfSwgMTAwKQoJCQkJfSksIGkoIi54aWFsYWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGllKQoJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmhpZGUoKSwgaSh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygic2VsZWN0X2hvdmVyIiksIGkodGhpcykucGFyZW50KCkuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygiaW5wdXRfaG92ZXIiKQoJCQkJfSksIEcoKSwgaSgiI2JpZ194aWFsYSBhIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKHRoaXMpLnRleHQoKTsKCQkJCQlpKCIjY2F0ZV9iaWciKS52YWwoZSksIGkoIi5odF90YXJpZmZfY2F0ZSIpLnRleHQoZSk7CgkJCQkJdmFyIHQgPSBpKHRoaXMpLmF0dHIoImNhdGUiKTsKCQkJCQlZKHBlW3RdKSwgaSgiI2JpZ194aWFsYSIpLmhpZGUoKSwgWCgiI2NhdGVfYmlnIiksIFgoIi5odF90YXJpZmZfY2F0ZSIsICJ0ZXh0IiwgNCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIFooZSwgbikgewoJCQkJdmFyIGkgPSBsb2NhdGlvbi5wcm90b2NvbCArICgiLy9icm93c2VyLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9leHRlbnNpb24/YWM9ZmFueWkmc3RyaW5nPSIpICsgZTsKCQkJCWZlLmdldChpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQlpZiAodC50cmFuc19yZXN1bHQgJiYgIXQuZXJyb3JfY29kZSkgewoJCQkJCQlmb3IgKHZhciBpID0gW10sIGEgPSAwOyBhIDwgdC50cmFuc19yZXN1bHQubGVuZ3RoOyBhKyspIGkucHVzaCh0LnRyYW5zX3Jlc3VsdFthXS5kc3QpOwoJCQkJCQluKGkpCgkJCQkJfSBlbHNlIG4oW2VdKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gVihlLCB0KSB7CgkJCQlaKGUsIHQpLCBnZSgicmVxdWVzdDpoYWl0YW86ZmFueWkiKSwgX2UubG9nKCLor7fmsYLliJLor43nv7vor5EiKQoJCQl9CgoJCQlmdW5jdGlvbiBLKGUpIHsKCQkJCWUgPSBlLmpvaW4oIiIpLCBpKCIuaHRfZmFueWkiKS5yZW1vdmUoKTsKCQkJCXZhciB0ID0gJzxkaXYgY2xhc3M9Imh0X2ZhbnlpIiBzdHlsZT0idG9wOnt7aHR5fX07bGVmdDp7e2h0eH19Ij48c3BhbiBpZD0iaHRfdG9wIj48L3NwYW4+e3tkYXRhfX08L2Rpdj4nLAoJCQkJCW4gPSB1ZS5jb21waWxlKHQpKHsKCQkJCQkJZGF0YTogZSwKCQkJCQkJaHR4OiBRKCkgKyAicHgiLAoJCQkJCQlodHk6IGNlICsgInB4IgoJCQkJCX0pOwoJCQkJaSgiYm9keSIpLmFwcGVuZChuKSwgdGUoKQoJCQl9CgoJCQlmdW5jdGlvbiBRKCkgewoJCQkJdmFyIGUgPSAwOwoJCQkJcmV0dXJuIGUgPSBsZSA+IGRlID8gbGUgLSAobGUgLSBkZSkgLyAyIC0gNjUgOiBsZSArIChkZSAtIGxlKSAvIDIgLSA2NQoJCQl9CgoJCQlmdW5jdGlvbiBlZShlKSB7CgkJCQlWKGUsIEspCgkJCX0KCgkJCWZ1bmN0aW9uIHRlKCkgewoJCQkJaSgiLmh0X2ZhbnlpIikuc2libGluZ3MoKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlpKCIuaHRfZmFueWkiKS5yZW1vdmUoKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gbmUoKSB7CgkJCQlpKCJib2R5Iikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uKGUpIHsKCQkJCQljbGVhclRpbWVvdXQoYWUpLCBkZSA9IGUucGFnZVgKCQkJCX0pLCBpKCJib2R5Iikub24oIm1vdXNldXAiLCBmdW5jdGlvbihlKSB7CgkJCQkJYWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9ICIiOwoJCQkJCQlsZSA9IGUucGFnZVgsIGNlID0gZS5wYWdlWSArIDIwLCB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gdCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogZG9jdW1lbnQuc2VsZWN0aW9uICYmICh0ID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCksICIiICE9IHQgJiYgZWUodCkKCQkJCQl9LCAxMDApCgkJCQl9KQoJCQl9CgkJCXZhciBpZSwgYWUsIG9lLCByZSwgc2UsIGxlLCBjZSwgZGUsIHBlLCBoZSwgdWUgPSBuKDE2KSwKCQkJCW1lID0gbig0MCksCgkJCQlmZSA9IG4oOSksCgkJCQlnZSA9IG4oMjYpLAoJCQkJX2UgPSBuKDEzKSwKCQkJCXhlID0gImh0dHBzOiIsCgkJCQl3ZSA9IHt9LAoJCQkJdmUgPSAidXMiLAoJCQkJYmUgPSB7CgkJCQkJIuexsyI6IDNlMywKCQkJCQki5Y6Y57GzIjogMzAsCgkJCQkJIuavq+exsyI6IDMsCgkJCQkJIuiLseWwuiI6IDkxNC40LAoJCQkJCSLoi7Hlr7giOiA3Ni4yLAoJCQkJCSLnoIEiOiAyNzQzLjIsCgkJCQkJIuWwuiI6IDFlMywKCQkJCQki5a+4IjogMTAwLAoJCQkJCSLliIYiOiAxMCwKCQkJCQki5Y6YIjogMQoJCQkJfSwKCQkJCXllID0gewoJCQkJCWc6IDEsCgkJCQkJa2c6IDFlMywKCQkJCQlvdW5jZXM6IDI4LjM1LAoJCQkJCXBvdW5kczogNDUzLjYKCQkJCX0sCgkJCQlrZSA9IHsKCQkJCQlzaGFuZ3lpOiB7CgkJCQkJCXVzOiB7CgkJCQkJCQltYW46IFsidXNfbWFuX3N6LmpwZyIsICJ1c19tYW5fc3oyLmpwZyJdLAoJCQkJCQkJd29tYW46IFsidXNfd29tYW5fc3ouanBnIiwgInVzX3dvbWFuX3N6Mi5qcGciXQoJCQkJCQl9LAoJCQkJCQl1azogewoJCQkJCQkJbWFuOiBbInVrX21hbl9zei5qcGciLCAidWtfbWFuX3N6Mi5qcGciXSwKCQkJCQkJCXdvbWFuOiBbInVrX3dvbWFuX3N6LmpwZyIsICJ1a193b21hbl9zejIuanBnIl0KCQkJCQkJfSwKCQkJCQkJanA6IHsKCQkJCQkJCW1hbjogWyJqcF9tYW5fc3ouanBnIiwgImpwX21hbl9zejIuanBnIl0sCgkJCQkJCQl3b21hbjogWyJqcF93b21hbl9zei5qcGciLCAianBfd29tYW5fc3oyLmpwZyJdCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXhpYXpodWFuZzogewoJCQkJCQl1czogewoJCQkJCQkJbWFuOiBbInVzX21hbl94ei5qcGciLCAidXNfbWFuX3h6Mi5qcGciXSwKCQkJCQkJCXdvbWFuOiBbInVzX3dvbWFuX3h6LmpwZyIsICJ1c193b21hbl94ejIuanBnIl0KCQkJCQkJfSwKCQkJCQkJdWs6IHsKCQkJCQkJCW1hbjogWyJ1a19tYW5feHouanBnIiwgInVrX21hbl94ejIuanBnIl0sCgkJCQkJCQl3b21hbjogWyJ1a193b21hbl94ei5qcGciLCAidWtfd29tYW5feHoyLmpwZyJdCgkJCQkJCX0sCgkJCQkJCWpwOiB7CgkJCQkJCQltYW46IFsianBfbWFuX3h6LmpwZyIsICJqcF9tYW5feHoyLmpwZyJdLAoJCQkJCQkJd29tYW46IFsianBfd29tYW5feHouanBnIiwgImpwX3dvbWFuX3h6Mi5wbmciXQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlraWRzY2xvdGg6IHsKCQkJCQkJdXM6IFsidXNfa2lkcy5qcGciLCAidXNfa2lkczJfMC5qcGciLCAidXNfa2lkczJfNC5qcGciXSwKCQkJCQkJdWs6IFsidWtfa2lkcy5qcGciLCAidWtfa2lkczJfMC5qcGciLCAidWtfa2lkczJfNC5qcGciXSwKCQkJCQkJanA6IFsianBfa2lkcy5qcGciLCAianBfa2lkczJfNC5qcGciLCAianBfa2lkczJfNC5qcGciXQoJCQkJCX0sCgkJCQkJc2hvZXM6IHsKCQkJCQkJbWFuOiBbIndvbWFuX3Nob2VzXzEuanBnIiwgIm1hbl9zaG9lczIuanBnIl0sCgkJCQkJCXdvbWFuOiBbIndvbWFuX3Nob2VzXzEuanBnIiwgIndvbWFuX3Nob2VzMi5qcGciXSwKCQkJCQkJa2lkczogWyJraWRzX3Nob2VzLmpwZyIsICJraWRzX3Nob2VzMl8wLmpwZyIsICJraWRzX3Nob2VzMl80LmpwZyJdCgkJCQkJfQoJCQkJfSwKCQkJCXplID0gewoJCQkJCSJ3d3cuYW1hem9uLmNvbSI6IHsKCQkJCQkJY291bjogInVzIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LmFtYXpvbi5jby5qcCI6IHsKCQkJCQkJY291bjogImpwIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LmFtYXpvbi5kZSI6IHsKCQkJCQkJY291bjogInVrIiwKCQkJCQkJZG9tOiBbIiNwcmljZV9mZWF0dXJlX2RpdiIsICIjdW5pZmllZFByaWNlX2ZlYXR1cmVfZGl2Il0sCgkJCQkJCXBvc2l0aW9uOiAiYWZ0ZXIiCgkJCQkJfSwKCQkJCQkid3d3LjZwbS5jb20iOiB7CgkJCQkJCWNvdW46ICJ1cyIsCgkJCQkJCWRvbTogWyIjcHJvZHVjdEltYWdlcyIsICIjcHJkSW1hZ2UiXSwKCQkJCQkJcG9zaXRpb246ICJhZnRlciIKCQkJCQl9CgkJCQl9LAoJCQkJQmUgPSB7CgkJCQkJY29mZmVlOiAi5ZKW5ZWhIiwKCQkJCQlzbmFjazogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQludXQ6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJcGlzdGFjaGlvOiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWFsbW9uZDogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQljaGVzdG51dHM6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJd2FsbnV0OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWhhemVsbnV0OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCXBlY2FuOiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWNhc2hldzogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQlwZWFudXQ6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY2hvY29sYXRlczogIumlruaWmS/kv53lgaXlk4Ev5YW25LuW6aOf5ZOBIiwKCQkJCQlwYXN0cnk6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY2FuZHk6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJY29uZGltZW50OiAi6aWu5paZL+S/neWBpeWTgS/lhbbku5bpo5/lk4EiLAoJCQkJCWtldGNodXA6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJYmV2ZXJhZ2U6ICLppa7mlpkv5L+d5YGl5ZOBL+WFtuS7lumjn+WTgSIsCgkJCQkJdGVhOiAi6Iy25Y+2IiwKCQkJCQljb2F0czogIuWkluihoy/ooaPmnI0v5Yay6ZSL6KGjIiwKCQkJCQljbG90aGVzOiAi5aSW6KGjL+iho+acjS/lhrLplIvooaMiLAoJCQkJCXNoaXJ0OiAi5aSW6KOkL+ijpOWtkC/ooazooasv6KGs6KGjL1TmgaQiLAoJCQkJCXN3ZWF0ZXJzOiAi5aSW6KOkL+ijpOWtkC/ooazooasv6KGs6KGjL1TmgaQiLAoJCQkJCWxpbmdlcmllOiAi5YaF6KGjL+WGheijpCIsCgkJCQkJdGFua2luaXM6ICLlhoXooaMv5YaF6KOkIiwKCQkJCQliaWtpbmlzOiAi5YaF6KGjL+WGheijpCIsCgkJCQkJbG91bmdld2VhcjogIuWGheihoy/lhoXoo6QiLAoJCQkJCXVuZGVyd2VhcjogIuWGheihoy/lhoXoo6QiLAoJCQkJCWJyaWVmczogIuWGheihoy/lhoXoo6QiLAoJCQkJCXN3aW1zdWl0OiAi5YaF6KGjL+WGheijpCIsCgkJCQkJc2NhcnZlczogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJaGF0czogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJc2NhcmY6ICLphY3ppbDvvIjluL3lrZAv5Zu05be+L+WktOW3vi/kuJ3lt74v6aKG5bimL+iFsOW4pi/miYvlpZfvvIkiLAoJCQkJCXRpZTogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJYmVsdDogIumFjemlsO+8iOW4veWtkC/lm7Tlt74v5aS05be+L+S4neW3vi/poobluKYv6IWw5bimL+aJi+Wll++8iSIsCgkJCQkJZ2xvdmVzOiAi6YWN6aWw77yI5bi95a2QL+WbtOW3vi/lpLTlt74v5Lid5be+L+mihuW4pi/ohbDluKYv5omL5aWX77yJIiwKCQkJCQliZWRkaW5nOiAi5q+b5q+vL+iiq+WtkC/luornvakv552h6KKLIiwKCQkJCQlxdWlsdDogIuavm+avry/ooqvlrZAv5bqK572pL+edoeiiiyIsCgkJCQkJImJlZHNwcmVhZCAiOiAi5q+b5q+vL+iiq+WtkC/luornvakv552h6KKLIiwKCQkJCQlsZWF0aGVyOiAi55qu6Z6LIiwKCQkJCQlib290czogIuearumdtC/pnbTlrZAiLAoJCQkJCW91dGRvb3I6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlhdGhsZXRpYzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXNwb3J0czogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXdhZGluZzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCWNsaW1iaW5nOiAi6L+Q5Yqo6Z6LL+W+kuatpemeiy/mtonmsLTpnosv55m75bGx6Z6LL+i/nOi2s+meiyIsCgkJCQkJcnVubmluZzogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCXNhbmRhbHM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzbGlwcGVyczogIui/kOWKqOmeiy/lvpLmraXpnosv5raJ5rC06Z6LL+eZu+Wxsemeiy/ov5zotrPpnosiLAoJCQkJCWluc29sZXM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzaG9lbGFjZXM6ICLov5Dliqjpnosv5b6S5q2l6Z6LL+a2ieawtOmeiy/nmbvlsbHpnosv6L+c6Laz6Z6LIiwKCQkJCQlzdWl0Y2FzZXM6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCWx1Z2dhZ2U6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCWJyaWVmY2FzZXM6ICLnrrEv6KGM5p2O566xL+aXheihjOeusS/miYvmj5DnrrEiLAoJCQkJCXRyYXZlbDogIueusS/ooYzmnY7nrrEv5peF6KGM566xL+aJi+aPkOeusSIsCgkJCQkJYmFja3BhY2tzOiAi5oyO5YyFL+iDjOWMhS/pgq7lt67ljIUv6IOM5YyFL+WNleiCqeWMhS/lj4zogqnljIUiLAoJCQkJCXNhdGNoZWw6ICLmjI7ljIUv6IOM5YyFL+mCruW3ruWMhS/og4zljIUv5Y2V6IKp5YyFL+WPjOiCqeWMhSIsCgkJCQkJYmFnczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQljYXNlczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQloYW5kYmFnczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQljbHV0Y2hlczogIuaMjuWMhS/og4zljIUv6YKu5beu5YyFL+iDjOWMhS/ljZXogqnljIUv5Y+M6IKp5YyFIiwKCQkJCQl3YWxsZXQ6ICLpkrHljIUv6ZKl5YyZ5YyFIiwKCQkJCQltb25leTogIumSseWMhS/pkqXljJnljIUiLAoJCQkJCWtleTogIumSseWMhS/pkqXljJnljIUiLAoJCQkJCXdhdGNoZXM6ICLmnLrmorDooagiLAoJCQkJCXdyaXN0OiAi5py65qKw6KGoIiwKCQkJCQlkaXNod2FzaGVyczogIumkkOWFty/liIDlhbciLAoJCQkJCWhvb2RzOiAi6aSQ5YW3L+WIgOWFtyIsCgkJCQkJZHJhd2VyczogIumkkOWFty/liIDlhbciLAoJCQkJCWRhdGg6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQljdXRsZXJ5OiAi6aSQ5YW3L+WIgOWFtyIsCgkJCQkJZmxhdHdhcmU6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQkia2l0Y2hlbiAmIGRpbmluZyI6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQlkaW5pbmc6ICLppJDlhbcv5YiA5YW3IiwKCQkJCQlrbmlmZTogIumkkOWFty/liIDlhbciLAoJCQkJCXBvdDogIueCiuWFty/plIUiLAoJCQkJCWNvb2t3YXJlOiAi54KK5YW3L+mUhSIsCgkJCQkJa2l0Y2hlbndhcmU6ICLngorlhbcv6ZSFIiwKCQkJCQljb29rdG9wczogIueCiuWFty/plIUiLAoJCQkJCXB1cmlmaWVyOiAi5YeA5rC05Zmo77yI5ZCr5ruk6Iqv77yJIiwKCQkJCQlzdGVhbWVyczogIueUtemlreeFsiIsCgkJCQkJb3ZlbnM6ICLlvq7ms6LngokiLAoJCQkJCWp1aWNlcjogIueUteWKqOamqOaxgeacuiIsCgkJCQkJY29mZmVlbWFjaGluZTogIuWSluWVoeacuiIsCgkJCQkJdmFjdXVtczogIuWQuOWwmOWZqCIsCgkJCQkJImNlaWxpbmcgIjogIueUtemjjuaJhyIsCgkJCQkJaXJvbnM6ICLnlLXnhqjmlpciLAoJCQkJCWh1bWlkaWZpZXJzOiAi5aKeL+mZpOa5v+acui/lopfpmaTmub/kuIDkvZPmnLoiLAoJCQkJCXNld2luZzogIueUteWKqOe8nee6q+acuiIsCgkJCQkJcmVmcmlnZXJhdG9yczogIuWutueUtSIsCgkJCQkJZnJlZXplcnM6ICLlrrbnlLUiLAoJCQkJCWNvbXBhY3RvcnM6ICLlrrbnlLUiLAoJCQkJCXdhc2hlcnM6ICLlrrbnlLUiLAoJCQkJCWJ1bGJzOiAi5a6255S1IiwKCQkJCQlzaGF2ZXI6ICLnlLXliqjliYPpobvliIAiLAoJCQkJCWJsb29kOiAi6KGA5Y6L6K6hL+ihgOezluiuoSIsCgkJCQkJZ2x1Y29zZTogIuihgOWOi+iuoS/ooYDns5borqEiLAoJCQkJCWRyeWVyOiAi55S15ZC56aOO5py6IiwKCQkJCQl0b290aGJydXNoOiAi55S15Yqo54mZ5Yi3IiwKCQkJCQlzdW5zY3JlZW46ICLpmLLmmZLpnLIv6Ziy5pmS6ZycL+mYsuWXruS5s+a2siIsCgkJCQkJbG90aW9uczogIumYsuaZkumcsi/pmLLmmZLpnJwv6Ziy5Zeu5Lmz5rayIiwKCQkJCQlzY3JlYW06ICLmiqTmiYvpnJwiLAoJCQkJCWxpcHN0aWNrOiAi5ZSH6IaPIiwKCQkJCQlwZXJmdW1lOiAi6aaZ5rC0IiwKCQkJCQltYXNrczogIumdouiGnCIsCgkJCQkJdG9uZXI6ICLniL3ogqTmsLQiLAoJCQkJCXBob25lczogIuinpuWxj+W8j+aJi+acuiIsCgkJCQkJY2FtZXJhczogIuaVsOeggeebuOacui/ljaHniYfmnLovREMiLAoJCQkJCWNhbm9uOiAi5pWw56CB55u45py6L+WNoeeJh+acui9EQyIsCgkJCQkJam95c3RpY2s6ICLmuLjmiI/mnLrpgaXmjqflmagv5o6n5Yi25ZmoL+aJi+afhC/mkYfmnYYv5pa55ZCR55uYIiwKCQkJCQljb250cm9sbGVyOiAi5ri45oiP5py66YGl5o6n5ZmoL+aOp+WItuWZqC/miYvmn4Qv5pGH5p2GL+aWueWQkeebmCIsCgkJCQkJcmVjb3JkZXI6ICLlvZXpn7PnrJQv5b2V6Z+z5py6L+aUtumfs+acuiIsCgkJCQkJcmFkaW9zOiAi5b2V6Z+z56yUL+W9lemfs+acui/mlLbpn7PmnLoiLAoJCQkJCWVjaG86ICLpn7PnrrHvvIjpn7Plk43orr7lpIfvvIkiLAoJCQkJCXN0ZXJlb3M6ICLpn7PnrrHvvIjpn7Plk43orr7lpIfvvIkiLAoJCQkJCWxhcHRvcDogIueslOiusOacrOeUteiEkS/lkKvlubPmnb/nlLXohJEiLAoJCQkJCW1lbW9yeTogIuWGheWtmOadoTRH5Lul5LiKIiwKCQkJCQljYXJkczogIuWKn+iDveWNoS/mmL7ljaEv5aOw5Y2h562JIiwKCQkJCQljYXJkOiAi5Yqf6IO95Y2hL+aYvuWNoS/lo7DljaHnrYkiLAoJCQkJCW1pY2U6ICLpvKDmoIciLAoJCQkJCWtleWJvYXJkczogIumUruebmCIsCgkJCQkJaW5wdXQ6ICLplK7nm5giLAoJCQkJCXNjYW5uZXI6ICLmipXlvbHku6oiLAoJCQkJCXNjcmVlbnM6ICLmipXlvbHku6oiLAoJCQkJCWRpc2s6ICLnp7vliqjnoaznm5gxVEItMlRCKOWQqzJUQikiLAoJCQkJCXRveXM6ICLnjqnlhbciLAoJCQkJCSJtcDMgcGxheWVycyI6ICJNUDPmkq3mlL7lmagiLAoJCQkJCWRpYXBlcmluZzogIuWptOWEv+eUqOWTgSIKCQkJCX0sCgkJCQlqZSA9IHsKCQkJCQlmb29kOiB7CgkJCQkJCXRsZTogIumjn+WTgSIsCgkJCQkJCWNhdGU6ICJjYXRlMSIKCQkJCQl9LAoJCQkJCWNsb3RoaW5nOiB7CgkJCQkJCXRsZTogIuacjemlsCIsCgkJCQkJCWNhdGU6ICJjYXRlMiIKCQkJCQl9LAoJCQkJCXBhY2tzOiB7CgkJCQkJCXRsZTogIumei+OAgeeuseWMhSIsCgkJCQkJCWNhdGU6ICJjYXRlMyIKCQkJCQl9LAoJCQkJCXNob2VzOiB7CgkJCQkJCXRsZTogIumei+OAgeeuseWMhSIsCgkJCQkJCWNhdGU6ICJjYXRlMyIKCQkJCQl9LAoJCQkJCWJhZ3M6IHsKCQkJCQkJdGxlOiAi6Z6L44CB566x5YyFIiwKCQkJCQkJY2F0ZTogImNhdGUzIgoJCQkJCX0sCgkJCQkJImtpdGNoZW4gJiBkaW5pbmciOiB7CgkJCQkJCXRsZTogIuWOqOaIv+OAgemkkOWOhSIsCgkJCQkJCWNhdGU6ICJjYXRlNCIKCQkJCQl9LAoJCQkJCSJob21lICYga2l0Y2hlbiI6IHsKCQkJCQkJdGxlOiAi5a6255S1IiwKCQkJCQkJY2F0ZTogImNhdGU2IgoJCQkJCX0sCgkJCQkJImhlYWx0aCAmIHBlcnNvbmFsIjogewoJCQkJCQl0bGU6ICLkuKrkurrmiqTnkIYiLAoJCQkJCQljYXRlOiAiY2F0ZTciCgkJCQkJfSwKCQkJCQkiYmVhdXR5ICI6IHsKCQkJCQkJdGxlOiAi576O5a65IiwKCQkJCQkJY2F0ZTogImNhdGU4IgoJCQkJCX0sCgkJCQkJImNhbWVyYSAmIHBob3RvICI6IHsKCQkJCQkJdGxlOiAi54Wn55u45py644CB5pGE5YOP5py6IiwKCQkJCQkJY2F0ZTogImNhdGUxMSIKCQkJCQl9LAoJCQkJCWVsZWN0cm9uaWNzOiB7CgkJCQkJCXRsZTogIueUteWtkOaVsOeggSIsCgkJCQkJCWNhdGU6ICJjYXRlMTIiCgkJCQkJfSwKCQkJCQljdW1wdXRlcnM6IHsKCQkJCQkJdGxlOiAi5Liq5Lq655S16ISRIiwKCQkJCQkJY2F0ZTogImNhdGUxNSIKCQkJCQl9LAoJCQkJCWRpYXBlcmluZzogewoJCQkJCQl0bGU6ICLlqbTlhL/nlKjlk4EiLAoJCQkJCQljYXRlOiAiY2F0ZTE4IgoJCQkJCX0KCQkJCX0sCgkJCQlDZSA9IFsiI3dheWZpbmRpbmctYnJlYWRjcnVtYnNfZmVhdHVyZV9kaXYgLmEtbGlzdC1pdGVtIC5hLWxpbmstbm9ybWFsIiwgIiNTYWxlc1JhbmsgLnpnX2hyc3JfbGFkZGVyIGEiXSwKCQkJCVNlID0gewoJCQkJCSJ3d3cuYW1hem9uLmNvbSI6IFsiI2RldGFpbEJ1bGxldHNfZmVhdHVyZV9kaXYgLmEtbGlzdC1pdGVtIC5hLXRleHQtYm9sZDpjb250YWlucyhXZWlnaHQpICsgc3BhbiIsICIjdGVjaG5pY2FsLWRldGFpbHMtdGFibGUgdGQ6Y29udGFpbnMoV2VpZ2h0KSt0ZCIsICIjZGV0YWlsLWJ1bGxldHMgdWwgbGk6Y29udGFpbnMoV2VpZ2h0KSIsICcjdGVjaG5pY2FsLWRldGFpbHNfZmVhdHVyZV9kaXYgdGFibGUuYS1rZXl2YWx1ZSB0aC5hLW5vd3JhcDpjb250YWlucygiU2hpcHBpbmcgV2VpZ2h0IikrdGQnXSwKCQkJCQkid3d3LmFtYXpvbi5kZSI6IFsiI2RldGFpbF9idWxsZXRzX2lkIHVsIGxpOmNvbnRhaW5zKFByb2R1a3RnZXdpY2h0KSIsICIjcHJvZERldGFpbHMgLnNoaXBwaW5nLXdlaWdodCAudmFsdWUiXSwKCQkJCQkid3d3LmFtYXpvbi5jby5qcCI6IFsiI2RldGFpbF9idWxsZXRzX2lkIHVsIGxpOmNvbnRhaW5zKOeZuumAgemHjemHjykiLCAiLnNoaXBwaW5nLXdlaWdodCAudmFsdWUiXSwKCQkJCQkid3d3LjZwbS5jb20iOiBbIiNwcmRJbmZvVGV4dCAubWVhc3VyZW1lbnRzIGxpOmNvbnRhaW5zKFdlaWdodCkiXQoJCQkJfSwKCQkJCU5lID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCWZlLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdChlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIiNodF9hZGRjb2xsZWN0IikudGV4dCgi5re75Yqg5aSx6LSlIiksIGkoIiNodF9hZGRjb2xsZWN0IikucmVtb3ZlQ2xhc3MoImNfYWRkaW5nIiksIGkoIiNodF9hZGRjb2xsZWN0IikuYWRkQ2xhc3MoImNfYWRkZWQiKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuX2luaXQgPSBmdW5jdGlvbigpIHsKCQkJCXQub24oImRwcGFnZV9wZXJtYW5lbnQiLCBmdW5jdGlvbigpIHsKCQkJCQkiMCIgIT09IHQuc2hvd19oYWl0YW8gJiYgc2V0VGltZW91dChhLCA1MDApCgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNyksCgkJCQlvID0gbig5KSwKCQkJCXIgPSBuKDI4KSwKCQkJCXMgPSB7fSwKCQkJCWwgPSBbewoJCQkJCXVuaXROYW1lOiAi5Y2DIiwKCQkJCQl0aW1lczogMWUzCgkJCQl9LCB7CgkJCQkJdW5pdE5hbWU6ICLkuIciLAoJCQkJCXRpbWVzOiAxZTQKCQkJCX1dLAoJCQkJYyA9IDEsCgkJCQlkID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmIChlKSB7CgkJCQkJCWlmIChlID0gZS50b1N0cmluZygpLCBjID0gMSwgQXJyYXkucHJvdG90eXBlLmZvckVhY2ggJiYgbC5mb3JFYWNoKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWUuaW5kZXhPZih0LnVuaXROYW1lKSA+IC0xICYmIChjID0gdC50aW1lcykKCQkJCQkJfSksIGUgPSBlLnJlcGxhY2UoL15bXlxkXSsvZ2ksICIiKSwgZSA9IGUucmVwbGFjZSgvW++/pVwkXS9naSwgIiIpLCBlID0gZS5tYXRjaCgvWzAtOS4sXSsvKSAmJiBlLm1hdGNoKC9bMC05LixdKy8pWzBdLCAhZSkgcmV0dXJuIGU7CgkJCQkJCWUgPSBoKGUsIG4pLCBlID0gZS5yZXBsYWNlKC8sL2dpLCAiIiksIGUgPSB0LnRyaW0oZSk7CgkJCQkJCXZhciBpID0gZS5pbmRleE9mKCItIik7CgkJCQkJCXJldHVybiBpID4gMCAmJiAoZSA9IGUuc3Vic3RyKDAsIGkpKSwgZSA9IGUucmVwbGFjZSgvXihcZCtcLilcPC4rXD4oXGR7MCwyfSlcPFwvLitcPi9naSwgIiQxJDIiKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXJldHVybiBlID0gZChlLCB0KSwgZSA9IHAoZSwgdCksIHBhcnNlRmxvYXQoZSkgPiAwID8gKGUgPSBwYXJzZUZsb2F0KGUpLCBjICYmIChlICo9IGMpLCBlKSA6IDAKCQkJfSwgZS5leHBvcnRzLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlID0gZDsKCQkJdmFyIHAgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB2b2lkIDA7CgkJCQkJcmV0dXJuIG4gPSB0ID8gc1t0XSB8fCAxIDogYS5nZXQoImN1cnJlbmN5IikgfHwgaS5jdXJyZW5jeSB8fCAxLCBwYXJzZUZsb2F0KChOdW1iZXIoZSkgKiBuKS50b0ZpeGVkKDIpKQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJaWYgKG4pIHJldHVybiBlOwoJCQkJCWlmICgxID09IGkucGFnZUluZm8udHlwZSkgcmV0dXJuIGU7CgkJCQkJdmFyIGEgPSBsb2NhdGlvbi5ob3N0LAoJCQkJCQlvID0gewoJCQkJCQkJInd3dy5hbWF6b24uZGUiOiAicHJpbWV0ZXN0ZW4iLAoJCQkJCQkJInd3dy5hbWF6b24uZnIiOiAicHJlbWl1bSIKCQkJCQkJfTsKCQkJCQlyZXR1cm4gb1thXSAmJiB0KCIjbmF2LWxvZ28gLm5hdi1sb2dvLXRhZ2xpbmUiKS50ZXh0KCkucmVwbGFjZSgvXHMvZywgIiIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSBvW2FdICYmIChlID0gZS5yZXBsYWNlKCIuIiwgIiIpLnJlcGxhY2UoIiwiLCAiLiIpKSwgZQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJci50cmlnZ2VyKHsKCQkJCQkJdHlwZTogInNldFN0b3JlUmF0ZSIsCgkJCQkJCWluZm86IEpTT04uc3RyaW5naWZ5KGUpCgkJCQkJfSkKCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oKSB7CgkJCQkJci5vbihmdW5jdGlvbihlKSB7CgkJCQkJCWlmIChlICYmICJnZXRTdG9yZVJhdGUiID09IGUudHlwZSkgdHJ5IHsKCQkJCQkJCXZhciB0ID0gZS52YWx1ZS5jdXJyZW5jeSwKCQkJCQkJCQluID0gSlNPTi5wYXJzZSh0KTsKCQkJCQkJCXMgPSBuLmVsc2VjdXJyLCBpLmN1cnJlbmN5ID0gbi5jdXJyZW5jeQoJCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJCX0pLCByLnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0U3RvcmVSYXRlIgoJCQkJCX0pCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCSJ3d3cuYW1hem9uLmNuIiAhPT0gbG9jYXRpb24uaG9zdCAmJiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xIHx8IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiNnBtIikgPiAtMSkgJiYgbSgpCgkJCQl9OwoJCQlmKCksIGUuZXhwb3J0cy5nZXRFeFJhdGUgPSBmdW5jdGlvbihlKSB7CgkJCQlyZXR1cm4gcGFyc2VGbG9hdCgxIHwgc1tlXSkKCQkJfSwgZS5leHBvcnRzLmdldFJhdGUgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IDAgJiYgLTEgPT0gbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24uY24iKSB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoIjZwbSIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbGlleHByZXNzIikgPiAtMSkgewoJCQkJCXZhciB0ID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1jdXJyZW5jeSZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKTsKCQkJCQlvLmdldCh0KS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJdCAmJiB0LmN1cnJlbmN5ICYmIChhLnNldCh0KSwgcyA9IHQuZWxzZWN1cnIsIGkuY3VycmVuY3kgPSB0LmN1cnJlbmN5LCB1KHQpKSwgZSgpCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJZSgpCgkJCQkJfSkKCQkJCX0gZWxzZSBlKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGkgPSBuKDQyKTsKCQkic3RyaW5nIiA9PSB0eXBlb2YgaSAmJiAoaSA9IFsKCQkJW2UuaWQsIGksICIiXQoJCV0pOwoJCW4oNDQpKGksIHt9KTsKCQlpLmxvY2FscyAmJiAoZS5leHBvcnRzID0gaS5sb2NhbHMpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXQgPSBlLmV4cG9ydHMgPSBuKDQzKSgpLCB0LnB1c2goW2UuaWQsICIgI2d3ZF9odF9tYWluIGF7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtZmFtaWx5OiAnTWljcm9zb2Z0IFlhaGVpJ1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW57XG4gICAgICB3aWR0aDogMzc2cHg7XG4gICAgICBoZWlnaHQ6IDE5OHB4O1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE5cHggMHB4ICNkN2Q4ZDk7XG4gICAgfVxuICAgICNnd2RfaHRfbG9hZCBpbWcge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiA5MXB4O1xuICAgICAgbGVmdDogNzRweDtcbiAgICB9XG4gICAgLmh0XzZwbXtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLmh0X2hlYWR7XG4gICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgICNnd2RfaHRfbWFpbiAuZ3dkX3NpdGVfaWNvbntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uLnBuZycpIDEzcHggN3B4IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDUycHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0e1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2YwNzg2MDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGhlaWdodDogMjRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgd2lkdGg6IDc3cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIGNvbG9yOiAjZjA3ODYwO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnVuaXRfcHJpY2UgI2h0X2FkZGNvbGxlY3QudHJlbmRfd2FpdC5jX2FkZGluZ3tcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMDc4NjA7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0LnRyZW5kX3dhaXQuY19hZGRlZHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMDc4NjA7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgLnVuaXRfcHJpY2UgPiBzcGFuIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG4gICAgLnByaWNlX3RsZSB7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0OmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC51bml0X3ByaWNlICNodF9hZGRjb2xsZWN0OmhvdmVyIHNwYW4ge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wcmljZV9udW17XG4gICAgICBjb2xvcjogIzc3OGU5OTtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA4OXB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X2dldHByaWNle1xuICAgICAgd2lkdGg6IDMyMnB4O1xuICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGNvbG9yOiAjNDU0QTREO1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgIH1cbiAgICAuZm9udGZfQXJpYWwge1xuICAgICAgZm9udC1mYW1pbHk6IFwiQXJpYWxcIjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAuaHRfZ2V0cHJpY2VfbnVtIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICNFQjJGMkY7XG4gICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuICAgIC51bml0X3ByaWNle1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG4gICAgLm9uX09yX09mZiB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDUycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIGNvbG9yOiByZWQ7XG4gICAgfVxuICAgIC50cmFuc2xhdGVfZGV0YWlsIHtcbiAgICAgIHRvcDogNjRweDtcbiAgICAgIGxlZnQ6IDM1MHB4O1xuICAgIH1cbiAgICBhLnRyYW5zX2hlbHAge1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIG1hcmdpbi1yaWdodDogMzMwcHg7XG4gICAgfVxuICAgIC50cmFuc19oZWxwOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMmI3Mjk5O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X2xlZnQgLnRhcmlmZl9yZW1pbmRfZGV0YWlsIHtcbiAgICAgIHJpZ2h0OiAyNDdweDtcbiAgICAgIGhlaWdodDogOTBweDtcbiAgICAgIHRvcDogLTI3cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5kaXZfZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMTQ2cHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgICAgbGluZS1oZWlnaHQ6IDE5cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzg4ODtcbiAgICAgIHBhZGRpbmc6IDZweCA2cHggOXB4IDZweDtcbiAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMTJweCAycHggI2U2ZTllYjtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmNvbnRlbnRfZGVmYXVsdF9sZWZ0IC53ZWlnaHRfdHlwZV9kZXRhaWwgIHtcbiAgICAgIHRvcDogN3B4O1xuICAgICAgbGVmdDogMTU2cHg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMTEzcHg7XG4gICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHBhZGRpbmc6IDBweCA2cHg7XG4gICAgfVxuICAgIC5jb2xsZWN0X2RldGFpbCAge1xuICAgICAgdG9wOiAtN3B4O1xuICAgICAgbGVmdDogMjQ0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudHJhbnNwb3J0X3JlbWluZF9kZXRhaWwge1xuICAgICAgcGFkZGluZzogMHB4IDZweDtcbiAgICAgIHRvcDogOXB4O1xuICAgICAgbGVmdDogMjQxcHg7XG4gICAgICB3aWR0aDogMTEycHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC50YXJpZmZfaW5mb19kZXRhaWwge1xuICAgICAgcGFkZGluZzogMCA2cHg7XG4gICAgICB3aWR0aDogMTEwcHg7XG4gICAgICB0b3A6IDlweDtcbiAgICAgIGxlZnQ6IDI0MXB4O1xuICAgIH1cbiAgICAucHJvX3R5cGVfZGV0YWlsIHtcbiAgICAgIHRvcDogOXB4O1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wcm9fdHlwZV9kZXRhaWwuZGl2X2RldGFpbCB7XG4gICAgICBwYWRkaW5nOiAwIDZweDtcbiAgICAgIHdpZHRoOiAxMzRweDtcbiAgICB9XG4gICAgLm1haWxfdHlwZV9kZXRhaWwge1xuICAgICAgdG9wOiAzM3B4O1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgfVxuICAgICNodF90cmFuc19pbnB1dHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogOHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAuc2l6ZV9kZXRhaWwge1xuICAgICAgdG9wOiAxMzBweDtcbiAgICAgIGxlZnQ6IDM1MHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuc2l6ZV9kZXRhaWwuZGl2X2RldGFpbCB7XG4gICAgICBwYWRkaW5nOiAwcHggNnB4O1xuICAgICAgd2lkdGg6IDExMHB4O1xuICAgIH1cbiAgICAudHJhbnNfbGFiZWx7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgIC5odF90cmFuc2xhdGU6aG92ZXIge1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuaHRfdHJhbnNsYXRlLC5wcm9fdHlwZSwubWFpbF90eXBle1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG4gICAgLnByb190eXBlOmhvdmVyLC5tYWlsX3R5cGU6aG92ZXIge1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuaHRfZ2V0cHJpY2U6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzQ1NEE0RDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X3dlaWdodF9udW17XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogNTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICAgICAgcGFkZGluZzogMCAzcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgICAgYm94LXNpemluZzogaW5pdGlhbDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLndlaWdodF90eXBle1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDdiZWZlO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X2xlZnR7XG4gICAgICBoZWlnaHQ6IDE2MHB4O1xuICAgICAgd2lkdGg6IDI1NHB4O1xuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuaHRfd2VpZ2h0IHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5odF93ZWlnaHQgLndlaWdodF90bGUge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgfSBcbiAgICAuY29udGVudF9kZWZhdWx0X2xlZnQgZGl2e1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICBjb2xvcjogIzM3MzczNztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlOWViXG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfbGVmdCBkaXYuaHRfdGFyaWZmIHtcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc3BvcnRfYnRuLC5nd2RfaGFpdGFvIC5odF90YXJpZmZfYnRue1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc3BvcnRfYnRuOmhvdmVyLC5odF90YXJpZmZfYnRuOmhvdmVye1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF9mcmVpZ2h0X251bXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA0MnB4O1xuICAgICAgY29sb3I6ICM3NzhlOTk7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF9mcmVpZ2h0LC5nd2RfaGFpdGFvIC5kZWxfbGluZXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgYS5odF90cmFuc3BvcnRfYnRuIHNwYW4sIC5odF90YXJpZmZfYnRuIHNwYW4ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgYS5odF90cmFuc3BvcnRfYnRuIHNwYW46aG92ZXIsIC5odF90YXJpZmZfYnRuIHNwYW46aG92ZXIge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5wb2ludF9pY29ue1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmJsdWVpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA5cHggNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiA5cHg7XG4gICAgICB3aWR0aDogMTBweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogMXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuZGVsX2xpbmV7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB3aWR0aDogOThweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmRlbF9saW5lIC5odF90YXJpZmZfbnVtIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgY29sb3I6ICM3NzhlOTk7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5kZWxfbGluZSAuaHRfdGFyaWZmX251bSBlbSB7XG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfcmlnaHR7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE2MHB4O1xuICAgICAgd2lkdGg6IDExOXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGF7XG4gICAgICB3aWR0aDogMTIwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICAgIGNvbG9yOiAjMzgzODM1O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBwYWRkaW5nOiAwIDAgMCAxNHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGEgc3BhbiB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tbGVmdDogN3B4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGE6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICBjb2xvcjogIzM4MzgzNTtcbiAgICB9XG4gICAgI2d3ZF9odF9tYWluIC5zaXplX2hlbHB7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnNpemVfaGVscCBzcGFuIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIGNvbG9yOiAjNWFhNGNjO1xuICAgIH1cbiAgICAjZ3dkX2h0X21haW4gLnNpemVfaGVscCBzcGFuOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY29udGVudF9kZWZhdWx0X3JpZ2h0IGVte1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB0b3A6IDVweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnNpemVfaGVscCBlbXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpemVpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5odF90cmFuc2xhdGUgZW17XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb190cmFuc2ljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnByb190eXBlIC56aXlpbmd7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb196aXlpbmdpY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAucHJvX3R5cGUgLnNhbmZhbmd7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zYW5pY29uLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAyMHB4IDIwcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5tYWlsX3R5cGUgLnpoaXlvdXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3poaWljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5tYWlsX3R5cGUgLmZlaXpoaXlvdXtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3podWFuaWNvbi5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuc2FtZS1zdHlsZSBlbSB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zYW1lc3R5bGUucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC52aXBfdGxlIGVtIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3ZpcGljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5nd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXJ7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmh0X2NvbnRlbnR7XG4gICAgICBoZWlnaHQ6IDE2MnB4O1xuICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5jb250ZW50X2RlZmF1bHQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5jb250ZW50X2RlZmF1bHQ6YWZ0ZXIsIC5nd2RfaGFpdGFvIC5jb250ZW50X2RlZmF1bHRfcmlnaHQ6YWZ0ZXIge1xuICAgICAgY29udGVudDogXCJcIjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgIC8qIOWFs+eojuWIhuexu+mAieaLqSAqL1xuICAgICN0YXJpZmZfZGV0YWlse1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgZGlzcGxheTpub25lO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICB3aWR0aDogMjkwcHg7XG4gICAgICBoZWlnaHQ6IDE4MHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJveC1zaGFkb3c6IDBweCA1cHggMTlweCAwcHggI2Q3ZDhkOTtcbiAgICB9XG4gICAgI3RhcmlmZl9kZXRhaWwgLnhpYWxhYm94IGF7XG4gICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgY29sb3I6ICM1YzYyNjY7XG4gICAgICBtYXJnaW4tbGVmdDogN3B4O1xuICAgICAgd2lkdGg6IDk4cHg7XG4gICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjVweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC54aWFsYWJveCBhOmhvdmVye1xuICAgICAgY29sb3I6ICM0N2JlZmU7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICB9XG4gICAgI3RhcmlmZl9kZXRhaWwgLnRhcl9oZWFke1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC50YXJfZGVzYyAsICN0YXJpZmZfZGV0YWlsIC50YXJfaGVhZCB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC50YXJfaGVhZCBzcGFue1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB3aWR0aDogMjcxcHg7XG4gICAgfVxuICAgICN0YXJpZmZfZGV0YWlsIC5odF90YXJpZmZfbnVtLCAuaHRfdGFyaWZmX2NhdGUge1xuICAgICAgY29sb3I6ICM0MGFjZTY7XG4gICAgfVxuICAgIC5odF90YXJpZmZfY2F0ZSB7XG4gICAgICB3aWR0aDogNzBweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogNXB4O1xuICAgIH1cbiAgICAjdGFyaWZmX2RldGFpbCAuZGVsX2xpbmUge1xuICAgICAgd2lkdGg6IDExOHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudGFyX2Rlc2N7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnRhcl9kZXNjIC5kZWxfbGluZXtcbiAgICAgIG1hcmdpbjogMCAwIDAgMjBweDtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLnRhcl9kZXNjIC5kZXNjX3R7XG4gICAgICBtYXJnaW4tbGVmdDogOXB4O1xuICAgIH1cbiAgICAjY2F0ZV9zZWxlY3RfYm94e1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjY2F0ZV9zZWxlY3RfYm94IGlucHV0e1xuICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgd2lkdGg6IDEwOXB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmdyYXlpY29uLnBuZycpIG5vLXJlcGVhdCA4OXB4IDExcHg7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgcGFkZGluZzogM3B4IDdweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGNvbG9yOiAjOWNhN2FkO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjY2F0ZV9zZWxlY3RfYm94IGlucHV0LnNlbF9pbmZve1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UxZTFlMTtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gI2NhdGVfc2VsZWN0X2JveCBpbnB1dC5pbnB1dF9ob3ZlcntcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmO1xuICAgICAgY29sb3I6ICM5Y2E3YWQ7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8xe1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjJweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5Njk4OTk7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8xLnNlbGVjdF9ob3ZlciAsIC5nd2RfaGFpdGFvIC5jYXRlX3NlbGVjdF8yLnNlbGVjdF9ob3ZlcntcbiAgICAgIGhlaWdodDogMjE4cHg7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcblxuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAuY2F0ZV9zZWxlY3RfMntcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk2OTg5OTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAueGlhbGFib3h7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMTg1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYm9yZGVyLXRvcDogbm9uZTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAxMDlweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmllX2hhY2suZ3dkX2hhaXRhbyAueGlhbGFib3gge1xuICAgICAgd2lkdGg6IDExMXB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAjc2VsZWN0X2J0bntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ3YmVmZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDIzcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDU0cHg7XG4gICAgICBsZWZ0OiAxMTZweDtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWx7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB3aWR0aDogNzU1cHg7XG4gICAgICBoZWlnaHQ6IDMxNHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB0b3A6IDQwMHB4O1xuICAgICAgbGVmdDogNDAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE5cHggMHB4ICNkN2Q4ZDk7XG4gICAgfVxuICAgICN0cmFuc3BvcnRfZGV0YWlsICp7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cbiAgICAjdHJhbnNwb3J0X2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzAge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgfVxuICAgICN0cmFuc3BvcnRfZGV0YWlsIC50cmFuc19uYXYgLnNwYW5fMXtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB3aWR0aDogMTQ2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTdweDtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWwgLnRyYW5zX25hdiAuc3Bhbl8ye1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHdpZHRoOiAxNDdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA0cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX2hlYWR7XG4gICAgICBoZWlnaHQ6IDUxcHg7XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLmd3ZF9oYWl0YW8gLmNsb3NlYmFye1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiA0cHg7XG4gICAgICByaWdodDogN3B4O1xuICAgICAgY29sb3I6ICM2NjY7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jbG9zZWJhci5jbG9zZWJnIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcImh0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWljb24ucG5nXCIpIDZweCA2cHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA5cHggOXB4O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICB0b3A6IDFweDtcbiAgICAgIHJpZ2h0OiAxcHg7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIC5jbG9zZWJhci5jbG9zZWJnOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcImh0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWhvdmVyaWNvbi5wbmdcIikgM3B4IDNweCBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDE1cHggMTVweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2e1xuICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiA3NTNweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2PnNwYW57XG4gICAgICB3aWR0aDogMTIwcHg7XG4gICAgICBjb2xvcjogIzVjNjI2NjtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIGhlaWdodDogNDhweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBsaW5lLWhlaWdodDogNDhweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzMge1xuICAgICAgd2lkdGg6IDE5NnB4O1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGNvbG9yOiAjNDA2OTgwO1xuICAgICAgbWFyZ2luLWxlZnQ6IDM1cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX25hdiAudHJhbnNfd3tcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDE0cHg7XG4gICAgICBsZWZ0OiAzNTJweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfdyAud2VpZ2h0X3R5cGV7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjZweDtcbiAgICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIC50cmFuc193IC5odF93ZWlnaHRfbnVte1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgcG9zaXRpb246IHN0YXRpYztcbiAgICAgIHdpZHRoOiA0OXB4O1xuICAgICAgbWFyZ2luLXRvcDogMHB4O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgYm9yZGVyLWNvbG9yOiAjOGRjMmU1O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAudHJhbnNfY29udGVudCB7XG4gICAgICBoZWlnaHQ6IDIxMHB4O1xuICAgICAgd2lkdGg6IDc1MXB4O1xuICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIC50cmFuc19mb290LC5zaXplX2Rlc2Mge1xuICAgICAgY29sb3I6ICM5ZjlmOWY7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfZm9vdCB7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgIH1cbiAgICAuZ3dkX2hhaXRhbyAucmVke1xuICAgICAgY29sb3I6ICNlNzIwMzA7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvIHNwYW4ucmVkIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3N0YXJpY29uLnBuZycpIDBweCAxcHggbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiA4cHggOXB4O1xuICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLnRyYW5zX2Zvb3QgLnJlZCtzcGFue1xuICAgICAgY29sb3I6ICM5MTk2OTk7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgI3RyYW5zX2xpc3R7XG4gICAgICBtYXJnaW46IDBweDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAjdHJhbnNfbGlzdCBsaXtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgI3RyYW5zX2xpc3QgbGk6YWZ0ZXJ7XG4gICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgY2xlYXI6Ym90aDtcbiAgICAgIGNvbnRlbnQ6XCJcIjtcbiAgICAgIHZpc2liaWxpdHk6aGlkZGVuO1xuICAgICAgaGVpZ2h0OjA7XG4gICAgfVxuICAgIC5nd2RfaGFpdGFvICN0cmFuc19saXN0IGxpOmhvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0UxRTFFNjtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCAjdHJhbnNfbGlzdCBsaT5zcGFuLCAuaHRfdHJhbnNfZGV0YWlsICN0cmFuc19saXN0IGxpPmF7XG4gICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICAgIGNvbG9yOiAjNWM2MjY2O1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsICN0cmFuc19saXN0IGxpIGE6aG92ZXIge1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICBzcGFuLnNhbGVfdGxlIHtcbiAgICAgIHdpZHRoOiAyMjVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgfVxuICAgIHNwYW4uc2FsZV90bGUgYXtcbiAgICAgIGNvbG9yOiAjNDBhY2U2O1xuICAgIH1cbiAgICBzcGFuLnNhbGVfdGxlIGE6aG92ZXIge1xuICAgICAgY29sb3I6ICMyYjcyOTk7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgLmxvX2NlbnRlcntcbiAgICAgIG1hcmdpbi1sZWZ0OiAyNHB4O1xuICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgfVxuICAgIC5odF90cmFuc19kZXRhaWwgc3Bhbi50cmFuc19jYXRlIHtcbiAgICAgIHdpZHRoOiAxMzBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICAgIH1cbiAgICAuaHRfdHJhbnNfZGV0YWlsIHNwYW4udHJhbnNfcHIge1xuICAgICAgd2lkdGg6IDE0NnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCBhLnRyYW5zX2NvbSB7XG4gICAgICB3aWR0aDogODVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzOXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG4gICAgLmh0X3RyYW5zX2RldGFpbCBhLnRyYW5zX2NvbTpob3ZlciB7XG4gICAgICBjb2xvcjogIzAwNjZjMDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgLyog5rKh5pyJ5LyY5oOg5pS/562W55qE5oOF5Ya1ICovXG4gICAgI3RyYW5zcG9ydF9kZXRhaWwubm9fc2FsZSB7XG4gICAgICB3aWR0aDogNDkwcHg7XG4gICAgfVxuICAgIC5ub19zYWxlLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IHtcbiAgICAgIHdpZHRoOiA0MzZweDtcbiAgICB9XG4gICAgLm5vX3NhbGUuZ3dkX2hhaXRhbyAudHJhbnNfY29udGVudCB7XG4gICAgICB3aWR0aDogNDQ0cHg7XG4gICAgfVxuICAgIC5ub19zYWxlLmh0X3RyYW5zX2RldGFpbCAudHJhbnNfbmF2IC5zcGFuXzMge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI3RyYW5zcG9ydF9kZXRhaWwubm9fc2FsZSBzcGFuLnNhbGVfdGxlIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC8qIOWwuueggeW4ruWKqSAqL1xuICAgICNzaXplX2RldGFpbHtcbiAgICAgIHdpZHRoOiA2MThweDtcbiAgICAgIGhlaWdodDogNDQwcHg7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDQwMHB4O1xuICAgICAgbGVmdDogNDAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlNmU5ZWI7IFxuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxOXB4IDBweCAjZDdkOGQ5OyAgICAgICBcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaGFuZ3lpLCAudG9uZ3podWFuZzAsIC50b25neGllMHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGxlZnQ6IDM4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLCAudG9uZ3podWFuZzQsIC50b25neGllNHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogNTBweDtcbiAgICAgIGxlZnQ6IDM4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2hvZXMsLmh0X3NpemVfZGV0YWlsIC50b25nemh1YW5nLCAuaHRfc2l6ZV9kZXRhaWwgLnRvbmd4aWV7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgc3Bhbi5zaG9lcyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDM5cHg7XG4gICAgICBsZWZ0OiAzOHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDdiZWZlO1xuICAgICAgYm9yZGVyOiAgMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2hhbmd5aS5zaXplX2hvdmVyLC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLnNpemVfaG92ZXIsIC5odF9zaXplX2RldGFpbCAueGlhemh1YW5nLnNpemVfaG92ZXIsIC5odF9zaXplX2RldGFpbCAudG9uZ3podWFuZy5zaXplX2hvdmVyLCAuaHRfc2l6ZV9kZXRhaWwgLnRvbmd4aWUuc2l6ZV9ob3ZlcntcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0N2JlZmU7XG4gICAgICBib3JkZXI6ICAxcHggc29saWQgIzQ3YmVmZTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNoYW5neWksLmh0X3NpemVfZGV0YWlsIC54aWF6aHVhbmcsLmh0X3NpemVfZGV0YWlsIC5zaG9lcywuaHRfc2l6ZV9kZXRhaWwgLnRvbmd6aHVhbmcsIC5odF9zaXplX2RldGFpbCAudG9uZ3hpZXtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgYm9yZGVyOiAgMXB4IHNvbGlkICM5Njk4OTk7XG4gICAgICBjb2xvcjogIzhBOTQ5OTtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aF9pY29ue1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMDBweDtcbiAgICAgIGxlZnQ6IDIycHg7XG4gICAgfVxuICAgIFxuICAgIC5odF9zaXplX2RldGFpbCAubWFuc2hhbmd6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9tYW5fc2hhbmd6aHVhbmcucG5nJykgLTRweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxOTFweDtcbiAgICAgIHdpZHRoOiA5M3B4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLndvbWFuc2hhbmd6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy93b21hbl9zaGFuZ3podWFuZy5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5raWQwIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMva2lkczBfNC5wbmcnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAua2lkNCB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL2tpZHM0XzEyLnBuZycpIC0ycHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTg3cHg7XG4gICAgICB3aWR0aDogODdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAubWFueGlhemh1YW5nIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbWFuX3hpYXpodWFuZy5wbmcnKSAtMTdweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAyMTZweDtcbiAgICAgIHdpZHRoOiA2M3B4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAud29tYW54aWF6aHVhbmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy93b21hbl94aWF6aHVhbmcucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBoZWlnaHQ6IDIyMHB4O1xuICAgICAgd2lkdGg6IDY2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTFweDtcbiAgICB9XG4gICAgXG4gICAgLmh0X3NpemVfZGV0YWlsIC5odF9zaG9lcy5tYW5fZm9vdCB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9zMS5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL21hbl9mb290LnBuZycpIDRweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxNzBweDtcbiAgICAgIHdpZHRoOiAxMTFweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5odF9zaG9lcy53b21hbl9mb290IHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvd29tYW5fZm9vdC5wbmcnKSA0cHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTExcHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuaHRfc2hvZXMua2lkc19mb290IHtcbiAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMva2lkX3Nob2VzLnBuZycpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgICAgaGVpZ2h0OiAxNzFweDtcbiAgICAgIHdpZHRoOiAxMzFweDtcbiAgICAgIGxlZnQ6IDRweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdntcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiA1NjdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1NXB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLmNsb3RoZXNfbmF2IHVse1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIG1hcmdpbjogMHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfc3tcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgIC5kZXRhaWxfbGVmdCB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiAxMzZweDtcbiAgICAgIGhlaWdodDogMzY3cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5kZXRhaWxfbGVmdCBzcGFuIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsICNzaXplX2l0ZW17XG4gICAgICBoZWlnaHQ6IDE4MHB4O1xuICAgICAgd2lkdGg6IDQ1MnB4O1xuICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaXtcbiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA1N3B4O1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2ZmZjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaTpob3ZlciB7XG4gICAgICBjb2xvcjogIzQ3YmVmZTtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5jbG90aGVzX25hdiB1bCBsaS5zZWxlY3R7XG4gICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzQ3YmVmZTtcbiAgICAgIGNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfaGVhZHtcbiAgICAgIGhlaWdodDogNjBweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC51bml0X2Rlc2N7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDI3cHg7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9jb257XG4gICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMXB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAyNnB4O1xuICAgICAgY29sb3I6ICM1NzVlNjE7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9vcHtcbiAgICAgIHdpZHRoOiA0NDBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgaW5wdXQraW5wdXQge1xuICAgICBtYXJnaW4tbGVmdDogMHB4OyBcbiAgICB9XG4gICAgI2ZpcnN0X3NpemUrLmZpcnN0X3hpYWxhIHtcbiAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICByaWdodDogMjY3cHg7XG4gICAgfVxuICAgIC5odF9zaXplX2RldGFpbCAuc2l6ZV9vcCBpbnB1dHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIGhlaWdodDogMzFweDtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgICNmaXJzdF9zaXplLCAjc2Vjb25kX3NpemUge1xuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIHBhZGRpbmc6IDAgN3B4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzk2OTg5OTtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICAgICNmaXJzdF9zaXplOmZvY3VzLCAjc2Vjb25kX3NpemU6Zm9jdXMge1xuICAgICAgYm9yZGVyLWNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfeGlhbGFib3gge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAxOTBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgICAgdG9wOiAtMTg5cHg7XG4gICAgICByaWdodDogMjY3cHg7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XG4gICAgfVxuICAgICNzZWNvbmRfc2l6ZSsuc2Vjb25kX3hpYWxhe1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IC0xNHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgI3NlY29uZF9zaXplK2lucHV0Ky5zaXplX3hpYWxhYm94e1xuICAgICAgcmlnaHQ6IC0xNHB4O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfeGlhbGFib3ggYXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcGFkZGluZy1sZWZ0OiA3cHg7XG4gICAgICBjb2xvcjogIzVjNjI2NjtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaXplX3hpYWxhYm94IGE6aG92ZXJ7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIGNvbG9yOiAjNDdiZWZlO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgLnNpemVfeGlhbGF7XG4gICAgICB3aWR0aDogNjBweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDdweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGNvbG9yOiAjOGE5NDk5O1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLnNpemVfb3AgLnNpemVfeGlhbGEubXNIb3ZlciB7XG4gICAgICBib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fdXBncmF5aWNvbi5wbmcnKSBuby1yZXBlYXQgNDJweCAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDdweDtcbiAgICB9XG4gICAgLmh0X3NpemVfZGV0YWlsIC5zaXplX3hpYWxhe1xuICAgICAgYmFja2dyb3VuZDogdXJsKCdodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fZG93bmdyYXlpY29uLnBuZycpIG5vLXJlcGVhdCA0MnB4IDEycHg7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAuaHRfc2l6ZV9kZXRhaWwgLmNvbnZlcnNpb257XG4gICAgICBtYXJnaW46IDAgMzBweCAwIDEwNXB4O1xuICAgIH1cbiAgICAvKiBmYW55aSAqL1xuICAgIC5odF9mYW55aXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgei1pbmRleDogOTk7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmIHVybCgnaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2ZhbnlpX2ljb24ucG5nJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgbWluLWhlaWdodDogMjVweDtcbiAgICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgICAgdGV4dC1pbmRlbnQ6IDMycHg7XG4gICAgICBwYWRkaW5nOiAycHggMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICAgIH1cbiAgICAuaHRfZmFueWkgYXtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgd2lkdGg6IDEzMHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgfVxuICAgIC5odF9mYW55aSBhOmhvdmVye1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgfVxuICAgICNodF90b3B7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB3aWR0aDogMHB4O1xuICAgICAgaGVpZ2h0OiAwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMHB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkICMyNzhhYzk7XG4gICAgICBib3JkZXItbGVmdDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgYm9yZGVyLXJpZ2h0OiA5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBsZWZ0OiA1OHB4O1xuICAgICAgdG9wOiAtOHB4O1xuICAgIH1cbiAgICAjaHRfdG9wOmFmdGVyIHtcbiAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHdpZHRoOiAwcHg7XG4gICAgICBoZWlnaHQ6IDBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAwcHg7XG4gICAgICBib3JkZXItYm90dG9tOiA3cHggc29saWQgI2ZmZjtcbiAgICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIGxlZnQ6IC04cHg7XG4gICAgICB0b3A6IDFweDtcbiAgICB9XG4gICAgLyog5rua5Yqo5p2h5qC35byPICovXG4gICAgLmd3ZF9oYWl0YW8gOjotd2Via2l0LXNjcm9sbGJhciB7d2lkdGg6NnB4O2hlaWdodDogNnB4O31cbiAgICAuZ3dkX2hhaXRhbyA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtiYWNrZ3JvdW5kOiNmMGYwZjA7fVxuICAgIC5nd2RfaGFpdGFvIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgYmFja2dyb3VuZDogI2NkY2RjZDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB9XG4gICAgI3NpemVfZGV0YWlsIDo6LXdlYmtpdC1zY3JvbGxiYXIge3dpZHRoOjJweDtoZWlnaHQ6IDZweDt9XG4gICAgLyog5Lqa6ams6YCK6YGu5oyhICovXG4gICAgZGl2I2FjdGlvblBhbmVsV3JhcHBlci5idXJqIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAvKiBhbWF6b25HbG9iYWwgKi9cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5jb250ZW50X2RlZmF1bHRfbGVmdCB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgICNnbG9iYWxJbm5lckRldGFpbCAuaW5uZXItdGxlICB7XG4gICAgICBjb2xvcjogIzY2NjtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5pbm5lci1pbWcgaW1nIHtcbiAgICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgICAgbWF4LXdpZHRoOiAxNTBweDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5pbm5lci10bGUge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICB3aWR0aDogMjMwcHg7XG4gICAgICBoZWlnaHQ6IDI4cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLmlubmVyLWJ0biB7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0NmMwZmU7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA3OHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLnByb190eXBlOmhvdmVyIC5wcm9fdHlwZV9kZXRhaWwge1xuICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC5tYWlsX3R5cGU6aG92ZXIgLm1haWxfdHlwZV9kZXRhaWwge1xuICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2dsb2JhbElubmVyRGV0YWlsIC52aXBfdGxlOmhvdmVyIC52aXBfdGxlX2RldGFpbCB7XG4gICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAjZ2xvYmFsSW5uZXJEZXRhaWwgLnNhbWUtc3R5bGU6aG92ZXIgLnNhbWUtc3R5bGVfZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgICNnbG9iYWxJbm5lckRldGFpbCAuc2FtZS1zdHlsZV9kZXRhaWwge1xuICAgICAgbGVmdDogMzUwcHg7XG4gICAgICB0b3A6IDgxcHg7XG4gICAgfSIsICIiXSk7Cgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgewoJCQl2YXIgZSA9IFtdOwoJCQlyZXR1cm4gZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewoJCQkJZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspIHsKCQkJCQl2YXIgbiA9IHRoaXNbdF07CgkJCQkJblsyXSA/IGUucHVzaCgiQG1lZGlhICIgKyBuWzJdICsgInsiICsgblsxXSArICJ9IikgOiBlLnB1c2goblsxXSkKCQkJCX0KCQkJCXJldHVybiBlLmpvaW4oIiIpCgkJCX0sIGUuaSA9IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCSJzdHJpbmciID09IHR5cGVvZiB0ICYmICh0ID0gWwoJCQkJCVtudWxsLCB0LCAiIl0KCQkJCV0pOwoJCQkJZm9yICh2YXIgaSA9IHt9LCBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHsKCQkJCQl2YXIgbyA9IHRoaXNbYV1bMF07CgkJCQkJIm51bWJlciIgPT0gdHlwZW9mIG8gJiYgKGlbb10gPSAhMCkKCQkJCX0KCQkJCWZvciAoYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7CgkJCQkJdmFyIHIgPSB0W2FdOwoJCQkJCSJudW1iZXIiID09IHR5cGVvZiByWzBdICYmIGlbclswXV0gfHwgKG4gJiYgIXJbMl0gPyByWzJdID0gbiA6IG4gJiYgKHJbMl0gPSAiKCIgKyByWzJdICsgIikgYW5kICgiICsgbiArICIpIiksIGUucHVzaChyKSkKCQkJCX0KCQkJfSwgZQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCWZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgewoJCQkJdmFyIGkgPSBlW25dLAoJCQkJCWEgPSBwW2kuaWRdOwoJCQkJaWYgKGEpIHsKCQkJCQlhLnJlZnMrKzsKCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGEucGFydHMubGVuZ3RoOyBvKyspIGEucGFydHNbb10oaS5wYXJ0c1tvXSk7CgkJCQkJZm9yICg7IG8gPCBpLnBhcnRzLmxlbmd0aDsgbysrKSBhLnBhcnRzLnB1c2gocyhpLnBhcnRzW29dLCB0KSkKCQkJCX0gZWxzZSB7CgkJCQkJZm9yICh2YXIgciA9IFtdLCBvID0gMDsgbyA8IGkucGFydHMubGVuZ3RoOyBvKyspIHIucHVzaChzKGkucGFydHNbb10sIHQpKTsKCQkJCQlwW2kuaWRdID0gewoJCQkJCQlpZDogaS5pZCwKCQkJCQkJcmVmczogMSwKCQkJCQkJcGFydHM6IHIKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGEoZSkgewoJCQlmb3IgKHZhciB0ID0gW10sIG4gPSB7fSwgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CgkJCQl2YXIgYSA9IGVbaV0sCgkJCQkJbyA9IGFbMF0sCgkJCQkJciA9IGFbMV0sCgkJCQkJcyA9IGFbMl0sCgkJCQkJbCA9IGFbM10sCgkJCQkJYyA9IHsKCQkJCQkJY3NzOiByLAoJCQkJCQltZWRpYTogcywKCQkJCQkJc291cmNlTWFwOiBsCgkJCQkJfTsKCQkJCW5bb10gPyBuW29dLnBhcnRzLnB1c2goYykgOiB0LnB1c2gobltvXSA9IHsKCQkJCQlpZDogbywKCQkJCQlwYXJ0czogW2NdCgkJCQl9KQoJCQl9CgkJCXJldHVybiB0CgkJfQoKCQlmdW5jdGlvbiBvKCkgewoJCQl2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksCgkJCQl0ID0gbSgpOwoJCQlyZXR1cm4gZS50eXBlID0gInRleHQvY3NzIiwgdC5hcHBlbmRDaGlsZChlKSwgZQoJCX0KCgkJZnVuY3Rpb24gcigpIHsKCQkJdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksCgkJCQl0ID0gbSgpOwoJCQlyZXR1cm4gZS5yZWwgPSAic3R5bGVzaGVldCIsIHQuYXBwZW5kQ2hpbGQoZSksIGUKCQl9CgoJCWZ1bmN0aW9uIHMoZSwgdCkgewoJCQl2YXIgbiwgaSwgYTsKCQkJaWYgKHQuc2luZ2xldG9uKSB7CgkJCQl2YXIgcyA9IGcrKzsKCQkJCW4gPSBmIHx8IChmID0gbygpKSwgaSA9IGwuYmluZChudWxsLCBuLCBzLCAhMSksIGEgPSBsLmJpbmQobnVsbCwgbiwgcywgITApCgkJCX0gZWxzZSBlLnNvdXJjZU1hcCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBVUkwgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIEJsb2IgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYnRvYSA/IChuID0gcigpLCBpID0gZC5iaW5kKG51bGwsIG4pLCBhID0gZnVuY3Rpb24oKSB7CgkJCQluLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIG4uaHJlZiAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZikKCQkJfSkgOiAobiA9IG8oKSwgaSA9IGMuYmluZChudWxsLCBuKSwgYSA9IGZ1bmN0aW9uKCkgewoJCQkJbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pCgkJCX0pOwoJCQlyZXR1cm4gaShlKSwKCQkJCWZ1bmN0aW9uKHQpIHsKCQkJCQlpZiAodCkgewoJCQkJCQlpZiAodC5jc3MgPT09IGUuY3NzICYmIHQubWVkaWEgPT09IGUubWVkaWEgJiYgdC5zb3VyY2VNYXAgPT09IGUuc291cmNlTWFwKSByZXR1cm47CgkJCQkJCWkoZSA9IHQpCgkJCQkJfSBlbHNlIGEoKQoJCQkJfQoJCX0KCgkJZnVuY3Rpb24gbChlLCB0LCBuLCBpKSB7CgkJCXZhciBhID0gbiA/ICIiIDogaS5jc3M7CgkJCWlmIChlLnN0eWxlU2hlZXQpIGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gXyh0LCBhKTsKCQkJZWxzZSB7CgkJCQl2YXIgbyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpLAoJCQkJCXIgPSBlLmNoaWxkTm9kZXM7CgkJCQlyW3RdICYmIGUucmVtb3ZlQ2hpbGQoclt0XSksIHIubGVuZ3RoID8gZS5pbnNlcnRCZWZvcmUobywgclt0XSkgOiBlLmFwcGVuZENoaWxkKG8pCgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGMoZSwgdCkgewoJCQl2YXIgbiA9IHQuY3NzLAoJCQkJaSA9IHQubWVkaWE7CgkJCXQuc291cmNlTWFwOwoJCQlpZiAoaSAmJiBlLnNldEF0dHJpYnV0ZSgibWVkaWEiLCBpKSwgZS5zdHlsZVNoZWV0KSBlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IG47CgkJCWVsc2UgewoJCQkJZm9yICg7IGUuZmlyc3RDaGlsZDspIGUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTsKCQkJCWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpCgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGQoZSwgdCkgewoJCQl2YXIgbiA9IHQuY3NzLAoJCQkJaSA9ICh0Lm1lZGlhLCB0LnNvdXJjZU1hcCk7CgkJCWkgJiYgKG4gKz0gIlxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSkgKyAiICovIik7CgkJCXZhciBhID0gbmV3IEJsb2IoW25dLCB7CgkJCQkJdHlwZTogInRleHQvY3NzIgoJCQkJfSksCgkJCQlvID0gZS5ocmVmOwoJCQllLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGEpLCBvICYmIFVSTC5yZXZva2VPYmplY3RVUkwobykKCQl9CgkJdmFyIHAgPSB7fSwKCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciB0OwoJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiAidW5kZWZpbmVkIiA9PSB0eXBlb2YgdCAmJiAodCA9IGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSksIHQKCQkJCX0KCQkJfSwKCQkJdSA9IGgoZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gL21zaWUgWzYtOV1cYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKQoJCQl9KSwKCQkJbSA9IGgoZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdCgkJCX0pLAoJCQlmID0gbnVsbCwKCQkJZyA9IDA7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCkgewoJCQl0ID0gdCB8fCB7fSwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQuc2luZ2xldG9uICYmICh0LnNpbmdsZXRvbiA9IHUoKSk7CgkJCXZhciBuID0gYShlKTsKCQkJcmV0dXJuIGkobiwgdCksCgkJCQlmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgbyA9IFtdLCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIHsKCQkJCQkJdmFyIHMgPSBuW3JdLAoJCQkJCQkJbCA9IHBbcy5pZF07CgkJCQkJCWwucmVmcy0tLCBvLnB1c2gobCkKCQkJCQl9CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIGMgPSBhKGUpOwoJCQkJCQlpKGMsIHQpCgkJCQkJfQoJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgby5sZW5ndGg7IHIrKykgewoJCQkJCQl2YXIgbCA9IG9bcl07CgkJCQkJCWlmICgwID09PSBsLnJlZnMpIHsKCQkJCQkJCWZvciAodmFyIGQgPSAwOyBkIDwgbC5wYXJ0cy5sZW5ndGg7IGQrKykgbC5wYXJ0c1tkXSgpOwoJCQkJCQkJZGVsZXRlIHBbbC5pZF0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQl9OwoJCXZhciBfID0gZnVuY3Rpb24oKSB7CgkJCXZhciBlID0gW107CgkJCXJldHVybiBmdW5jdGlvbih0LCBuKSB7CgkJCQlyZXR1cm4gZVt0XSA9IG4sIGUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIikKCQkJfQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkX2h0X21haW4iIGNsYXNzPSJnd2RfaGFpdGFvIHt7ZGF0YS5wYWdlY2xhc3N9fSIgPlxuICAgIDxkaXYgIGNsYXNzPSJodF9oZWFkIj5cbiAgICAgIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgY2xhc3M9Imd3ZF9zaXRlX2ljb24iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gICAgICA8YSBjbGFzcz0iaHRfZ2V0cHJpY2UgaXRlbV9ob3ZlciI+5Yiw5omL5Lu377yaPHNwYW4gY2xhc3M9Imh0X2dldHByaWNlX251bSBmb250Zl9BcmlhbCI+wqV7e2RhdGEuZ2V0cHJpY2V9fTwvc3Bhbj48L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iaHRfY29udGVudCI+XG4gICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHQiIGlkPSJodF9jb250ZW50X2luZm8iPlxuICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHRfbGVmdCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idW5pdF9wcmljZSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJpY2VfdGxlIj7ljZXku7fvvJo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJpY2VfbnVtIGZvbnRmX0FyaWFsIj7CpXt7ZGF0YS51bml0X3ByaWNlfX08L3NwYW4+XG4gICAgICAgICAgICA8YSBpZD0iaHRfYWRkY29sbGVjdCIgY2xhc3M9InRyZW5kX3dhaXQiID48c3Bhbj7pmY3ku7fmj5DphpI8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbGxlY3RfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICAgIOeCueWHu+WKoOWFpeaUtuiXj+Wkue+8jOWVhuWTgemZjeS7t+acieaPkOmGklxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJodF93ZWlnaHQiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9IndlaWdodF90bGUiPumHjemHj++8mjwvc3Bhbj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0ie3tkYXRhLmhlX3dlaWdodH19IiBjbGFzcz0iaHRfd2VpZ2h0X251bSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0id2VpZ2h0X3R5cGUiPktHPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0id2VpZ2h0X3R5cGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICAgIOeCueWHu+i9rOaNoumHjemHj+WNleS9jVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz0iaHRfdHJhbnNwb3J0Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJodF9mcmVpZ2h0Ij7ovazov5DotLnvvJo8c3BhbiBjbGFzcz0iaHRfZnJlaWdodF9udW0gZm9udGZfQXJpYWwiPsKlMDwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICA8YSBjbGFzcz0iaHRfdHJhbnNwb3J0X2J0biI+XG4gICAgICAgICAgICAgIDxzcGFuID7ovazov5DllYblrrY8L3NwYW4+XG4gICAgICAgICAgICAgIDxlbSBjbGFzcz0icG9pbnRfaWNvbiI+PC9lbT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNwb3J0X3JlbWluZF9kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgICAg54K55Ye76YCJ5oup6L2s6L+Q5YWs5Y+4XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9Imh0X3RhcmlmZiI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iZGVsX2xpbmUiIGRhdGEtZGVsPSIxIj7ooYzpgq7nqI7vvJo8c3BhbiBjbGFzcz0iaHRfdGFyaWZmX251bSBmb250Zl9BcmlhbCIgZGF0YS1wcmljZT0iMCI+Jm5ic3A7PGVtPuacquefpTwvZW0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJpZmZfcmVtaW5kX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAgICAgICAgICDkuKrkurrooYzmnY7lkozpgq7pgJLnianlk4Hov5vlj6PnqI7vvIjlhbPnqI7jgIHov5vlj6Pnjq/oioLlop7lgLznqI7lj4rmtojotLnnqI7kuInogIXlkIjkuIDnqI7np43vvIlcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8YSBjbGFzcz0iaHRfdGFyaWZmX2J0biI+XG4gICAgICAgICAgICAgIDxzcGFuPumAieaLqeWIhuexuzwvc3Bhbj5cbiAgICAgICAgICAgICAgPGVtIGNsYXNzPSJwb2ludF9pY29uIj48L2VtPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJpZmZfaW5mb19kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgICAg54K55Ye76YCJ5oup5ZWG5ZOB57G75YirXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9kZWZhdWx0X3JpZ2h0Ij5cbiAgICAgICAgICA8YSBjbGFzcz0icHJvX3R5cGUiPlxuICAgICAgICAgICAgPGVtIGNsYXNzPSJ7e2RhdGEucHJvdHlwZX19Ij48L2VtPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9InByb190X3RsZSIgPnt7ZGF0YS5wcm90eXBlPT0ieml5aW5nIj8i6Ieq6JClIjoi56ys5LiJ5pa5In19PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvX3R5cGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICB7e2RhdGEucHJvdHlwZT09XCd6aXlpbmdcJz8oZGF0YS5zaXRlICsgXCfnm7TmjqXplIDllK5cJyk6KGRhdGEuc2l0ZSArIFwn56ys5LiJ5pa55ZWG5a626ZSA5ZSuXCcpfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBjbGFzcz0ibWFpbF90eXBlIiA+XG4gICAgICAgICAgICA8ZW0gY2xhc3M9Int7ZGF0YS5tYWlsdHlwZX19Ij48L2VtPlxuICAgICAgICAgICAgPHNwYW4gPnt7ZGF0YS5tYWlsdHlwZT09InpoaXlvdSI/IuWPr+ebtOmCriI6IumcgOi9rOi/kCJ9fTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1haWxfdHlwZV9kZXRhaWwgZGl2X2RldGFpbCI+XG4gICAgICAgICAgICAgIHt7aWYgZGF0YS5tYWlsdHlwZT09XCd6aGl5b3VcJ319XG4gICAgICAgICAgICAgICAg6K+l5ZWG5ZOB55u06YKu5pSv5oyB55u06YKu5Lit5Zu977yM5Yiw5omL5pe26Ze057qmOH4xNuWkqVxuICAgICAgICAgICAgICB7e2Vsc2UgaWYgZGF0YS5ob3N0cyA9PSBcJ3d3dy5hbWF6b24uY29tXCd9fVxuICAgICAgICAgICAgICAgIOivpeWVhuWTgeS4jeaUr+aMgeebtOmCruS4reWbve+8jOmcgOi9rOi/kOWFrOWPuOi9rOi/kO+8jOWIsOaJi+aXtumXtOWkp+e6pjIwfjM15aSpXG4gICAgICAgICAgICAgIHt7ZWxzZSBpZiBkYXRhLmhvc3RzID09IFwnd3d3LmFtYXpvbi5jby5qcFwnfX1cbiAgICAgICAgICAgICAgICDor6XllYblk4HkuI3mlK/mjIHnm7Tpgq7kuK3lm73vvIzpnIDovazov5Dlhazlj7jovazov5DvvIzliLDmiYvml7bpl7TlpKfnuqY3fjMw5aSpXG4gICAgICAgICAgICAgIHt7ZWxzZSBpZiBkYXRhLmhvc3RzID09IFwnd3d3LmFtYXpvbi5kZVwnfX1cbiAgICAgICAgICAgICAgICDor6XllYblk4HkuI3mlK/mjIHnm7Tpgq7kuK3lm73vvIzpnIDovazov5Dlhazlj7jovazov5DvvIzliLDmiYvml7bpl7TlpKfnuqYyNX40MOWkqVxuICAgICAgICAgICAgICB7e2Vsc2V9fVxuICAgICAgICAgICAgICAgIOivpeWVhuWTgeS4jeaUr+aMgeebtOmCruS4reWbve+8jOmcgOi9rOi/kOWFrOWPuOi9rOi/kO+8jOWIsOaJi+aXtumXtOWkp+e6pjIwfjM15aSpXG4gICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBjbGFzcz0iaHRfdHJhbnNsYXRlIj5cbiAgICAgICAgICAgIDxlbT48L2VtPlxuICAgICAgICAgICAgPHNwYW4+57+76K+R5biu5YqpPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNsYXRlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAgICAgICAg5bey5Li65oKo5byA5ZCv5YiS6K+N57+76K+R77yM6byg5qCH6YCJ5Lit55u45YWz5paH5a2X77yM5Y2z5Y+v57+76K+RXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGEgY2xhc3M9InNpemVfaGVscCI+XG4gICAgICAgICAgICA8ZW0+PC9lbT5cbiAgICAgICAgICAgIDxzcGFuPuWwuueggeW4ruWKqTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICAgICAgICDngrnlh7vmn6XnnIvlsLrnoIHluK7liqlcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGgiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0idGFyaWZmX2RldGFpbCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZWJhciBjbG9zZWJnIiB0aXRsZT0i5YWz6ZetIj48L3NwYW4+XG4gICAgICAgIDxkaXYgY2xhc3M9InRhcl9oZWFkIj5cbiAgICAgICAgICA8c3Bhbj7pgInmi6nllYblk4HliIbnsbs8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0YXJfZGVzYyI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9ImRlbF9saW5lIj7llYblk4HvvJo8c3BhbiBjbGFzcz0iaHRfdGFyaWZmX2NhdGUiPuivt+mAieaLqeWIhuexuzwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9ImRlc2NfdCI+5Y2V5Lu26KGM6YKu56iO77yaPHNwYW4gY2xhc3M9Imh0X3RhcmlmZl9udW0iPuacquefpTwvc3Bhbj4gPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD0iY2F0ZV9zZWxlY3RfYm94Ij5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXRlX3NlbGVjdF8xIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0i6K+36YCJ5oup5YiG57G7IiBpZD0iY2F0ZV9iaWciIGNsYXNzPSJpY29uX2Rvd24iIHJlYWRvbmx5PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ieGlhbGFib3giIGlkPSJiaWdfeGlhbGEiPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMSIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPumjn+WTgTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTIiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mnI3ppbA8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUzIiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Z6L44CB566x5YyFPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlNCIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJi+ihqDwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTUiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7ljqjmiL/jgIHppJDljoU8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGU2IiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a6255S1PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlNyIgIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4quS6uuaKpOeQhjwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTgiICBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nvo7lrrk8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGU5IiAgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5omL5py65Y+K6YWN5Lu2PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTAiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuWKnuWFrOeUqOWTgTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTExIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nhafnm7jmnLrjgIHmkYTlg4/mnLo8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxMiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+55S15a2Q5pWw56CBPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTMiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPua4uOaIj+acui/muLjmiI/nop88L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxNCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Z+z566xPC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4quS6uueUteiEkTwvYT5cbiAgICAgICAgICAgICAgPGEgY2F0ZT0iY2F0ZTE2IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nlLXlrZDkuaborr7lpIc8L2E+XG4gICAgICAgICAgICAgIDxhIGNhdGU9ImNhdGUxNyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+546p5YW3PC9hPlxuICAgICAgICAgICAgICA8YSBjYXRlPSJjYXRlMTgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuWptOWEv+eUqOWTgTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9ImNhdGVfc2VsZWN0XzIiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSLor7fpgInmi6nliIbnsbsiIGlkPSJjYXRlX3NtYWxsIiBtYXhsZW5ndGg9IjUiIGNsYXNzPSJpY29uX2Rvd24gc2VsX2luZm8iIHJlYWRvbmx5PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ieGlhbGFib3giIGlkPSJzbWFsbF94aWFsYSI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD0ic2VsZWN0X2J0biIgZGF0YS10YXJpZmY9Ii0xIj7noa7orqQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgIDwvZGl2PlxuPC9kaXY+XG4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJzaXplX2RldGFpbCIgY2xhc3M9Imh0X3NpemVfZGV0YWlsIGd3ZF9oYWl0YW8iIHN0eWxlPSJ0b3A6IHt7cG9zLnBvc3l9fXB4O2xlZnQ6IHt7cG9zLnBvc3h9fXB4OyI+XG4gICAgPHNwYW4gY2xhc3M9ImNsb3NlYmFyIGNsb3NlYmciIHRpdGxlPSLlhbPpl60iPjwvc3Bhbj5cbiAgICBcbiAgICA8ZGl2IGNsYXNzPSJzaXplX2hlYWQiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJjbG90aGVzX25hdiI+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpIGNsYXNzPSJzZWxlY3QiPueUt+ijhTwvbGk+XG4gICAgICAgICAgICA8bGk+5aWz6KOFPC9saT5cbiAgICAgICAgICAgIDxsaT7nq6Xoo4U8L2xpPlxuICAgICAgICAgICAgPGxpPueUt+meizwvbGk+XG4gICAgICAgICAgICA8bGk+5aWz6Z6LPC9saT5cbiAgICAgICAgICAgIDxsaT7nq6Xpnos8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ1bml0X2Rlc2MgdW5pdF9jbSI+5Y2V5L2N77ya5Y6Y57GzKENNKTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ1bml0X2Rlc2MgdW5pdF9tbSI+5Y2V5L2N77ya5q+r57GzKE1NKTwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNpemVfY29udGVudCI+XG4gICAgICA8ZGl2IGNsYXNzPSJkZXRhaWxfbGVmdCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaGFuZ3lpIHNpemVfaG92ZXIiPuS4iuijhTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InhpYXpodWFuZyI+5LiL6KOFPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idG9uZ3podWFuZyB0b25nemh1YW5nMCI+MCB+IDTlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ0b25nemh1YW5nIHRvbmd6aHVhbmc0Ij40IH4gMTLlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaG9lcyI+6Z6L5a2QPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idG9uZ3hpZSB0b25neGllMCI+MCB+IDTlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ0b25neGllIHRvbmd4aWU0Ij40IH4gMTLlsoE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG90aF9pY29uIGh0X3NoYW5neWkgbWFuc2hhbmd6aHVhbmciPjwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsX3JpZ2h0Ij5cbiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudF9jZW50ZXIiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfcyI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD0ic2l6ZV9pdGVtIj5cbiAgICAgICAgICAgIDxhIGNsYXNzPSJzaXplX2l0ZW1faW1nIj48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJzaXplX2Rlc2MiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJyZWQiPjwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiA+5q2k5bC656CB5Li65LiA6Iis5bC656CB77yM5LiN5ZCM5ZOB54mM5Y+v6IO95Lya5a2Y5Zyo55u45bqU5LiN5ZCMPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNpemVfZm9vdCI+XG4gICAgICAgIDxkaXYgY2xhc3M9InNpemVfY29uIj7lnKjnur/lsLrlr7jovazmjaLlt6Xlhbc8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0ic2l6ZV9vcCI+XG4gICAgICAgICAgPGlucHV0IGlkPSJmaXJzdF9zaXplIiB0eXBlPSJ0ZXh0Ij5cbiAgICAgICAgICA8aW5wdXQgY2xhc3M9InNpemVfeGlhbGEgZmlyc3RfeGlhbGEiIHZhbHVlPSLljpjnsbMiIHJlYWRvbmx5PlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNpemVfeGlhbGFib3giIGRhdGEtc2l6ZT0iZmlyc3RfeGlhbGEiPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6Y57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5q+r57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+56CBPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5YiGPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6YPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb252ZXJzaW9uIj7ovazmjaLkuLo8L3NwYW4+XG4gICAgICAgICAgPGlucHV0IGlkPSJzZWNvbmRfc2l6ZSI+XG4gICAgICAgICAgPGlucHV0IGNsYXNzPSJzaXplX3hpYWxhIHNlY29uZF94aWFsYSIgdmFsdWU9IuiLseWvuCIgcmVhZG9ubHk+XG4gICAgICAgICAgPGRpdiBjbGFzcz0ic2l6ZV94aWFsYWJveCIgZGF0YS1zaXplPSJzZWNvbmRfeGlhbGEiPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6Y57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5q+r57GzPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+6Iux5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+56CBPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5bC6PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5a+4PC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5YiGPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5Y6YPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InRyYW5zcG9ydF9kZXRhaWwiIGNsYXNzPSJodF90cmFuc19kZXRhaWwgZ3dkX2hhaXRhbyIgc3R5bGU9InRvcDoge3twb3MucG9zeX19cHg7bGVmdDoge3twb3MucG9zeH19cHg7Ij5cbiAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNfaGVhZCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz0idHJhbnNfbmF2Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzAiPui9rOi/kOWVhuWutjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzEiPuWVhuWutuS7k+W6kzwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzIiPui9rOi/kOi0uTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzcGFuXzMiPui0reeJqeWFmueLrOWutuS8mOaDoDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0cmFuc193Ij5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e2h0X3dlaWdodH19IiBjbGFzcz0iaHRfd2VpZ2h0X251bSI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ3ZWlnaHRfdHlwZSI+S0c8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0cmFuc19jb250ZW50Ij5cbiAgICAgICAgICA8dWwgaWQ9InRyYW5zX2xpc3QiPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ0cmFuc19mb290Ij5cbiAgICAgICAgICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0vYXBwL2hhaXRhb19pbnRyIiBjbGFzcz0idHJhbnNfaGVscCIgdGl0bGU9Iua1t+a3mOi9rOi/kOaUu+eVpSIgdGFyZ2V0PSJfYmxhbmsiPua1t+a3mOi9rOi/kOaUu+eVpTwvYT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0icmVkIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gPuWFt+S9k+i9rOi/kOS8mOaDoOaUv+etluWSjOi0ueeUqOS7peaCqOmAieaLqeeahOi9rOi/kOWFrOWPuOS4uuWHhjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjbG9zZWJhciBjbG9zZWJnIiB0aXRsZT0i5YWz6ZetIj48L3NwYW4+XG4gICAgICAgIFxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbigyOCksCgkJCQlhID0gdm9pZCAwLAoJCQkJbyA9IFtdLAoJCQkJciA9IHZvaWQgMCwKCQkJCXMgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCXMgPSBlLm1hdGNoKC9bPyZdaWQ9KFswLTldKykvKSAmJiBlLm1hdGNoKC9bPyZdaWQ9KFswLTldKykvKVsxXTsKCQkJCQlpZiAocykgewoJCQkJCQl2YXIgbCA9IHQuZHAgJiYgdC5kcC5zaXRlIHx8IHQuc2l0ZTsKCQkJCQkJaWYgKGwuaW5kZXhPZigiOTUwOTUiKSA+IC0xKSByZXR1cm4gdm9pZChhID0gewoJCQkJCQkJbm9kYXRhOiAhMAoJCQkJCQl9KTsKCQkJCQkJImFpLXRhb2JhbyIgPT0gbCAmJiAobCA9ICJ0YW9iYW8iKTsKCQkJCQkJdmFyIGMgPSBuKDQ5KS5pbml0KCk7CgkJCQkJCWkudHJpZ2dlcih7CgkJCQkJCQl0eXBlOiAiZ2V0VGFvYmFvVHJlbmQiLAoJCQkJCQkJaW5mbzogYwoJCQkJCQl9KSwgaS5vbihmdW5jdGlvbihlKSB7CgkJCQkJCQlpZiAoImdldFRhb2Jhb1RyZW5kIiA9PSBlLnR5cGUgJiYgZS52YWx1ZSkgdHJ5IHsKCQkJCQkJCQlpZiAoYSA9IEpTT04ucGFyc2UoZS52YWx1ZSkucHJpY2VIaXN0b3J5RGF0YSwgYSB8fCAoYSA9IHsKCQkJCQkJCQkJbm9kYXRhOiAhMAoJCQkJCQkJCX0pLCBvLmxlbmd0aCA+IDApIHsKCQkJCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBvLmxlbmd0aDsgdCsrKSBvW3RdKGEpOwoJCQkJCQkJCQlyID0gITAKCQkJCQkJCQl9CgkJCQkJCQl9IGNhdGNoIChuKSB7fQoJCQkJCQl9KQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5faW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJdC5vbigicGFnZVR5cGU9MiIsIGZ1bmN0aW9uKCkgewoJCQkJCXMoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmluaXQyID0gZnVuY3Rpb24oKSB7CgkJCQlzKCkKCQkJfSwgZS5leHBvcnRzLmdldFRyZW5kID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIGEgPyAoYS5ub2RhdGEgJiYgKGEgPSBudWxsKSwgdm9pZCBlKGEpKSA6IChvLnB1c2goZSksIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlyIHx8IGUobnVsbCkKCQkJCX0sIDNlMykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIG4gPSA4OCwKCQkJCWkgPSBbInQ9IiArIHQoInRpdGxlIikuaHRtbCgpLnN1YnN0cigwLCAyNTApLCAiaz1seHN4IiwgImQ9bHMiXSwKCQkJCWEgPSBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZiksCgkJCQlvID0gewoJCQkJCXplcm86IFsiMCIsICIwMCIsICIwMDAiLCAiMDAwMCIsICIwMDAwMCIsICIwMDAwMDAiLCAiMDAwMDAwMCIsICIwMDAwMDAwMCJdLAoJCQkJCXN0clJldmVyc2U6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQsIG4sIGkgPSBbXTsKCQkJCQkJZm9yICh0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKSBpW2kubGVuZ3RoXSA9IGUuY2hhckF0KHQpOwoJCQkJCQlyZXR1cm4gaS5yZXZlcnNlKCkuam9pbigiIikKCQkJCQl9LAoJCQkJCWlzU3RyaW5nOiBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiAiW29iamVjdCBTdHJpbmddIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpCgkJCQkJfSwKCQkJCQllbmNyeXB0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpLCBhLCByID0gW107CgkJCQkJCWlmICghby5pc1N0cmluZyhlKSkgcmV0dXJuICIiOwoJCQkJCQlmb3IgKGkgPSAwLCBhID0gZS5sZW5ndGg7IGEgPiBpOyBpKyspIHJbci5sZW5ndGhdID0gby50byhlLmNoYXJDb2RlQXQoaSksIHQpOwoJCQkJCQlyZXR1cm4gbiA/IG8uc3RyUmV2ZXJzZShyLmpvaW4oIiIpKSA6IHIuam9pbigiIikKCQkJCQl9LAoJCQkJCXRvOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBpID0gIiIgKyAoZSArIG4pLnRvU3RyaW5nKDE2KSwKCQkJCQkJCWEgPSB0IC0gaS5sZW5ndGg7CgkJCQkJCXJldHVybiBhID4gMCA/IG8uemVyb1thIC0gMV0gKyBpIDogaQoJCQkJCX0sCgkJCQkJZGVjcnlwdDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQlpZiAoIW8uaXNTdHJpbmcoZSkpIHJldHVybiAiIjsKCQkJCQkJdmFyIGkgPSBbXTsKCQkJCQkJbiAmJiAoZSA9IG8uc3RyUmV2ZXJzZShlKSk7CgkJCQkJCWZvciAodmFyIGEgPSAwLCByID0gMDsgYSA8IGUubGVuZ3RoOyBhICs9IHQsIHIrKykgewoJCQkJCQkJdmFyIHMgPSBlLnN1YnN0cmluZyhhLCBhICsgdCk7CgkJCQkJCQlpW3JdID0gby50cmFuRm9ybWF0KHMsIHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBpKQoJCQkJCX0sCgkJCQkJdHJhbkZvcm1hdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gZS5sZW5ndGggIT09IHQgPyAwIDogcGFyc2VJbnQoZS5yZXBsYWNlKC9eMCsvZywgIiIpLCAxNikgLSBuCgkJCQkJfSwKCQkJCQlnZW5FeHRlbnNpb25JZDogZnVuY3Rpb24oKSB7CgkJCQkJCWlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmV4dGVuc2lvbmlkKSByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5leHRlbnNpb25pZDsKCQkJCQkJZm9yICh2YXIgZSA9ICIiLCB0ID0gMTsgMzIgPj0gdDsgKyt0KSBlICs9IE1hdGguZmxvb3IoMTYgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNiksICg4ID09IHQgfHwgMTIgPT0gdCB8fCAxNiA9PSB0IHx8IDIwID09IHQpICYmIChlICs9ICItIik7CgkJCQkJCXJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmV4dGVuc2lvbmlkID0gZSwgZQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9ICIiLAoJCQkJCXQgPSAiLy96aHUiLAoJCQkJCW4gPSAic2hvdS5odWloIiwKCQkJCQlyID0gInVpLmNuL3Byb2R1Y3QiLAoJCQkJCXMgPSAiU2Vuc2U/YnIiLAoJCQkJCWwgPSAib3dzZXI9Y2hyb21lJnZlciIsCgkJCQkJYyA9ICJzaW9uPTQuMi45LjYmdmVuZG9yPWNocm9tIjsKCQkJCWUgPSB0ICsgbiArIHIgKyBzICsgbCArIGM7CgkJCQl2YXIgZCA9IG8uZ2VuRXh0ZW5zaW9uSWQoKSwKCQkJCQlwID0gby5lbmNyeXB0KGkuam9pbigiXiYiKSwgNCwgITEpLAoJCQkJCWggPSBvLmVuY3J5cHQoYSwgMiwgITApLAoJCQkJCXUgPSAxOTAwIC0gaC5sZW5ndGg7CgkJCQlwID0gcC5sZW5ndGggPiB1ID8gcC5zdWJzdHIoMCwgdSkgOiBwOwoJCQkJdmFyIG0gPSBsb2NhdGlvbi5wcm90b2NvbCArIGUgKyAiZW5ldyZhdj0zLjAmZXh0ZW5zaW9uaWQ9IiArIGQgKyAiJmVtYWlsPSZwb3A9Jms9IiArIHAgKyAiJm5sPXRydWUmbT0iICsgaDsKCQkJCXJldHVybiBtCgkJCX0KCQl9KS5jYWxsKHQsIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbihlKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIHQgPSBbXTsKCQkJZS5wbHVnaW5zIHx8IChlLnBsdWdpbnMgPSBbXSksIGUucGx1Z2lucyA9IGUucGx1Z2lucy5jb25jYXQodCkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDUyKTsKCQkJaSh0KSwgZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IFtdOwoJCQkJdC5wbHVnaW5zICYmIChlID0gZS5jb25jYXQodC5wbHVnaW5zKSk7CgkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgewoJCQkJCXZhciBpID0gZVtuXTsKCQkJCQlpZiAoaSAmJiBpLl9pbml0KSB0cnkgewoJCQkJCQlpLl9pbml0KCkKCQkJCQl9IGNhdGNoIChhKSB7fQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQllLl9fZXZlbnRzID0ge30sIGUub24gPSBmdW5jdGlvbih0LCBuKSB7CgkJCQllLl9fZXZlbnRzW3RdID0gZS5fX2V2ZW50c1t0XSB8fCBbXSwgZS5fX2V2ZW50c1t0XS5wdXNoKG4pCgkJCX0sIGUub2ZmID0gZnVuY3Rpb24odCwgbikgewoJCQkJdmFyIGkgPSBlLl9fZXZlbnRzW3RdOwoJCQkJaWYgKGkgJiYgaS5sZW5ndGgpCgkJCQkJZm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKQoJCQkJCQlpZiAoaVthXSA9PT0gbikgewoJCQkJCQkJaS5zcGxpY2UoYSwgMSk7CgkJCQkJCQlicmVhawoJCQkJCQl9CgkJCX0sIGUudHJpZ2dlciA9IGZ1bmN0aW9uKHQpIHsKCQkJCXZhciBuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKCQkJCW4uc2hpZnQoKTsKCQkJCXZhciBpID0gZS5fX2V2ZW50c1t0XTsKCQkJCWlmIChpICYmIGkubGVuZ3RoKQoJCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgaS5sZW5ndGg7IGErKykgaVthXS5hcHBseSh0aGlzLCBuKQoJCQl9CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gIj9jYWxsYmFjaz0/IjsKCQkJCSgic29nb3UiID09PSB0LmZyb21fZGV2aWNlIHx8ICJjaHJvbWUiID09PSB0LmZyb21fZGV2aWNlKSAmJiAoaSA9ICIiKSwgbi5nZXRKU09OKHQuc2VydmVyICsgIi9pcC5waHAiICsgaSkuZG9uZShmdW5jdGlvbihuKSB7CgkJCQkJbiAmJiBuLnJlc3VsdCBpbnN0YW5jZW9mIEFycmF5ICYmICh0LmZvcmJpZFdpc2hsaXQgPSAhMCwgdC5mb3JiaWRZRlEgPSAhMCksIG4gJiYgbi5yZXN1bHQgJiYgbi5yZXN1bHQuYWRkcmVzcyAmJiBuLnJlc3VsdC5hZGRyZXNzLmluZGV4T2YoIuWMl+S6rCIpID4gLTEgJiYgKHQuZm9yYmlkV2lzaGxpdCA9ICEwLCB0LmZvcmJpZFlGUSA9ICEwKSwgZSgpCgkJCQl9KS5mYWlsKGZ1bmN0aW9uKCkgewoJCQkJCWUoKQoJCQkJfSkKCQkJfSwgZS5leHBvcnRzLmNvbW1vbiA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gIj9jYWxsYmFjaz0/IjsKCQkJCSgic29nb3UiID09PSB0LmZyb21fZGV2aWNlIHx8ICJjaHJvbWUiID09PSB0LmZyb21fZGV2aWNlKSAmJiAoaSA9ICIiKSwgInhkamYiID09PSB0LmZyb21fZGV2aWNlICYmIChpID0gIj9jYWxsYmFjaz0/JmRpc3RyaWN0PTEiKSwgbi5nZXRKU09OKHQuc2VydmVyICsgIi9pcC5waHAiICsgaSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJZSh0ICYmIHQucmVzdWx0ICYmIHQucmVzdWx0LmFkZHJlc3MgPyB0IDogbnVsbCkKCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJZShudWxsKQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbih0LCBuLCBpKSB7CgkJKGZ1bmN0aW9uKG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IGkoNSksCgkJCQlvID0gbi5wYWdlSW5mby5zaXRlTmFtZSwKCQkJCXIgPSBpKDYpLAoJCQkJcyA9IGkoNTUpLAoJCQkJbCA9IDAsCgkJCQljID0gaSg0MCksCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIHsKCQkJCQkJbmFtZTogcigidGl0bGUiKS5odG1sKCksCgkJCQkJCXByaWNlOiAwLAoJCQkJCQlpc2JuOiAiIiwKCQkJCQkJdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZgoJCQkJCX0KCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSwgdCwgaSkgewoJCQkJCXZhciBvID0gZCgpOwoJCQkJCW4uc2l0ZSA9IGk7CgkJCQkJdHJ5IHsKCQkJCQkJdmFyIHMgPSByKGUpLmVxKHQpOwoJCQkJCQlpZiAoby5uYW1lID0gcy50ZXh0KCksIG4uaHJlZiA9IG4ubWFrZVVybChuLmhyZWYsIHMuYXR0cigiaHJlZiIpKSwgby51cmwgPSBuLmhyZWYsICJ1bmRlZmluZWQiID09IHR5cGVvZiBuLmhyZWYgfHwgIiIgPT0gbi5ocmVmKSBvLnVzZWxlc3MgPSAhMDsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgbCA9IGEuaXNQcm9kdWN0UGFnZSgpOwoJCQkJCQkJbCB8fCAoby51c2VsZXNzID0gITApCgkJCQkJCX0KCQkJCQl9IGNhdGNoIChjKSB7CgkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coYyksIG8udXNlbGVzcyA9ICEwCgkJCQkJfQoJCQkJCXJldHVybiBvCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUsIHQsIGksIGEpIHsKCQkJCQl2YXIgbyA9IGQoKTsKCQkJCQlpZiAobi5zaXRlID0gYSwgbi5jcmM2NCkgcmV0dXJuIG87CgkJCQkJdHJ5IHsKCQkJCQkJdmFyIHMgPSByKGUpLmVxKHQpOwoJCQkJCQluLmhyZWYgPSBzLmF0dHIoaSksIG8udXJsID0gcy5hdHRyKGkpLCBzLmF0dHIoaSkgJiYgKG8udXJsID0gcy5hdHRyKGkpKSwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBuLmhyZWYgfHwgIiIgPT0gbi5ocmVmKSAmJiAobi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYpCgkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGwpCgkJCQkJfQoJCQkJCXJldHVybiBvCgkJCQl9LAoJCQkJdSA9IHsKCQkJCQl5b294OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiN5b294IikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNpdGVtLXByaWNlIC5mb250LWJvbGQiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZmVpbml1OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNtYWluX2luZm9fZ3VpZGFuY2VfdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmluZm8tcHJpY2U+LkpTLWNvbnRyb2wtcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc3Vhbmp1emk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtdGl0bGVzIGgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5hY3Rpb24tcHJvX3ByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWlranRhbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjc2lkZWJhciAudGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2dvb2RzUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVpenU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3Byb3BlcnR5IC5wcm9wZXJ0eS1oZCBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjSl9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlrYWx1bGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByby1kZXRhaWwgPiBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIja2FsdWxpUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJb3Bwb3Nob3A6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogIm9wcG8gICAiICsgcigiLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmJ1eWluZy1wcmljZSAucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeWFvMTIzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pbm5lcj5oMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjb3ByIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJhb2JlaWdlemk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2l0ZW1JbmZvPi5uYW1lPmgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNiYl9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0bzh0bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoInNwYW5bbmFtZT1nb29kc19yZWFsX3ByaWNlXSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzaGFuZ3BpbjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnNwRGV0YWlsX3ByaWNlX2JveCA+IGgyID4gYSIpLnRleHQoKTsKCQkJCQkJZSB8fCAoZSA9IHIoIi5zcERldGFpbF9wcmljZV9ib3ggPiBoMyA+IGEiKS50ZXh0KCkpOwoJCQkJCQl2YXIgdCA9IHsKCQkJCQkJCW5hbWU6IGUgKyAiICIgKyByKCIuY29tbW9kaXR5X3RpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5zcERldGFpbF9zcFByaWNlQmlnUmVkID4gaSIpLnRleHQoKSwKCQkJCQkJCWltZzogcigiI3NwRGV0YWlsX2JpZ0ltZyA+IGltZyIpLmF0dHIoInNyYyIpCgkJCQkJCX07CgkJCQkJCXJldHVybiB0LnByaWNlIHx8ICh0LnByaWNlID0gcigiLnNwRGV0YWlsX3NwUHJpY2VCaWcgPiBpIikudGV4dCgpKSwgdC5wcmljZSB8fCAodC5wcmljZSA9IHIoImVtLmZvbnRfMTgiKS50ZXh0KCkpLCB0CgkJCQkJfSwKCQkJCQl6aG9uZ2ppdTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLmluZm8gPiBoMSIpLnRleHQoKSwKCQkJCQkJCXQgPSByKCIucHJpID4gYiIpLnRleHQoKTsKCQkJCQkJZSB8fCAoZSA9IHIoIi5jX3RfbGlzdCA+IGxpID4gc3BhbiIpLnRleHQoKSwgdCA9IHIoIi5idXlfcHJpIikudGV4dCgpKTsKCQkJCQkJdmFyIG4gPSB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfTsKCQkJCQkJcmV0dXJuIG4KCQkJCQl9LAoJCQkJCWxlbWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnByb19uYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNhbGxfcHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiAiIiA9PSB0ICYmICh0ID0gcigiLnNlY3Rpb25fdGV4dCAucmVkIC5mb250NDgiKS5lcSgwKS50ZXh0KCkpLCAiIiA9PSBlICYmIChlID0gcigiLnByb2R1Y3RfaW5mb19hdHRyaWJ1dGUgLnRpdGxlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogIuS5kOinhiIgKyBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJanVhbnBpOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZWFsLXdyYXAgaDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIC5jdXJyZW50IikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWhpc2Vuc2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRldGFpbF9pbmZvIGgzIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNzYWxlUHJpY2VJZCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlwdXJjb3R0b246IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzLXRpdGUgaDUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIikuZXEoMCkudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXdzdHg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLml0ZW1JbmZvIC50aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaXRlbUluZm8gLnByaWNlIGIiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcm95eW91bmdjaGVtaXN0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW5hbWUiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVkaWhlYWxzaG9wOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnJtYi1wcmljZSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMS0xNjMiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5tLWRldGFpbC1tYWluLXRpdGxlIGgxIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIxMDAxcGhhcm1hY2llcyI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSBoMSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucm1iLXByaWNlIikuZXEoMCkudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJsb29rZmFudGFzdGljLWNuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvZHVjdC10aXRsZSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJvZHVjdC1wcmljZSAucHJpY2UiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3VvamltYW1pOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNFQ1NfRk9STUJVWSAubmFtZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjRUNTX1NIT1BQUklDRSIpLnRleHQoKSwKCQkJCQkJCWltZzogcigiI2RlbW8gbGkgaW1nIikuZXEoMCkuYXR0cigic3JjIikKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamlueGlhbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLm5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmp4UHJpY2UiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeW91MTYzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pbmZvIC5uYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5qLXJldGFpbC1wcmljZSIpLmVxKDApLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlibDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHMtbmFtZSIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjRmxhc2hQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZXN0aW5mb29kczogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHNuYW1lIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZTEiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYXhtYWxsOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5nb29kcy1pbnRybyAubmFtZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjc2t1X3ZpcF9wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZnR2OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi50aXRsZSBoMiIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJd2FuZ2ppdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucGFydF9saW5lMDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnBhcnRfbGluZTA0IC5zcGFyZTAyIHNwYW4iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJMTg5OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIjYXJ0aWNsZXNob3J0dGl0bGUiKS50ZXh0KCksCgkJCQkJCQl0ID0gcigiI21hbGxfcHJpY2UiKS50ZXh0KCksCgkJCQkJCQluID0gIiI7CgkJCQkJCXJldHVybiAiIiA9PSBlICYmIChlID0gcigiLnBoLXRpdGxlIGgxIikuZXEoMCkudGV4dCgpLnJlcGxhY2UoIuS7hemZkOaxn+ilv+ecgeeUqOaItyIsICIiKSksIGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJpcGhvbmUiKSA+IC0xICYmIChuID0gIuiLueaenCIpLCAiIiA9PSB0ICYmICh0ID0gcigiI2Fzc3ByaWNlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogbiArIGUsCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCWJyYW5kX3N0cmluZzogbgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0YXF1OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxzLW5hbWUiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2RldGFpbHMtcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYmVzdGNha2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmluZm8tcmlnaHQtbGkgcCIpLmVxKDApLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaW5mby1yaWdodC1saSAuczQiKS5lcSgwKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ29tZWhpZ286IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2dtLXByZC1tYWluIGxpLnByZHRpdCIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjcHJkUHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbG92bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjZ29vZHNOYW1lU3Ryb25nIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNhY3RNc2dTIGJpZyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl6aGU4MDA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbCAuZGV0YWlsbWV0YSAuY2xlYXIgaDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlIC5qc19wcmljZV9zdCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlodWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtciAudGl0bGUgaDMucHJvZHVjdC10aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjZmpyIC5wcmljZS1zZWxsIC5wcmljZS1udW0iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWVpOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5Qcm9kdWN0X3RpdGxlIikudGV4dCgpICsgIiAiICsgcigiLnByb2R1Y3RfbmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjcHJvZHVjdFJNQiIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQliZW5sYWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNpbnRyb19wcmljZSAucHJpY2UiKVswXS5maXJzdENoaWxkLm5vZGVWYWx1ZTsKCQkJCQkJcmV0dXJuICIiICE9IGUgJiYgZSB8fCAoZSA9IHIoIiNpbnRyb19wcmljZSAucHJpY2UiKS50ZXh0KCkpLCB7CgkJCQkJCQlwcmljZTogZSwKCQkJCQkJCW5hbWU6IHIoIiNQcm9kdWN0X1Byb2R1Y3REZXRhaWxzTmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl2c2lnbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuZGV0YWlsLXByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWZlbmdxdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuZ29vZHMtcHJpY2UgLmdvb2RzLXByaWNlLXIxIHN0cm9uZyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl2bWVpOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIjY3VyclByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gZS5pbmRleE9mKCItIikgPiAtMSAmJiAoZSA9IGUuc3BsaXQoIi0iKVswXSksIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0X2RldGFpbF90aXRsZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWVhc2VleWVzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5tYWluIGRpdi5nb29kc19uYW1lX3RyIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLm1haW4gcC5jb2xvcjkgc3Bhbi5mczIwLmZvbnRBcmlhbCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdGFwbGVzOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0SW5mbyBoMyBzcGFuIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5ub3dQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQllZm90aWxlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5pdGVtLXRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5pdGVtLWFjdFByaWNlIGIiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamdiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5oX2Rlc190aXRsZSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIuaF9kZXNfcHJpY2UgLkpfcm1iX3ByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI1MWRpbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RfdGl0bGUgPiBkaXYiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlX3JtYiIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlhaWRhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvLWRldCBoMyIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjX3RoaXNmcCIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlib3FpaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuc2hvcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNicVByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXNwaWRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ2ROYW1lIGgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNtMTJwcmljZVNwYW4iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInRhb2Jhby14aWFueXUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZS1ibG9jayAucHJpY2UgZW0iKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJImFpLXRhb2JhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQkJaWYgKCFuLmNocm9tZV9leHRlbnNpb24pIHJldHVybiBlID0gd2luZG93LnBhZ2Vjb25maWcucHJvbW9QcmljZSwgZSB8fCAoZSA9IHdpbmRvdy5FTlZfREFUQSAmJiB3aW5kb3cuRU5WX0RBVEEuY29tcExpc3QgJiYgd2luZG93LkVOVl9EQVRBLmNvbXBMaXN0Lml0ZW1fZGV0YWlsICYmIHdpbmRvdy5FTlZfREFUQS5jb21wTGlzdC5pdGVtX2RldGFpbC5kYXRhICYmIHdpbmRvdy5FTlZfREFUQS5jb21wTGlzdC5pdGVtX2RldGFpbC5kYXRhLmRhdGExWzBdLnByaWNlKSwgewoJCQkJCQkJbmFtZTogcigiaDMuaXRlbS10aXRsZSBhIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IGUsCgkJCQkJCQl1cmw6IHdpbmRvdy5wYWdlY29uZmlnLml0ZW1JZCA/ICJodHRwOi8vaXRlbS50YW9iYW8uY29tL2l0ZW0uaHRtP2lkPSIgKyB3aW5kb3cucGFnZWNvbmZpZy5pdGVtSWQgOiBudWxsCgkJCQkJCX07CgkJCQkJCXZhciB0ID0gcigiLmFpdGFvYmFvLWVkZXRhaWwtaGVhZGVyIHNjcmlwdCIpLnRleHQoKSwKCQkJCQkJCWkgPSAvaXRlbUlkIjoiKFxkKykiLy5leGVjKHQpOwoJCQkJCQlyZXR1cm4gaSAmJiAoaSA9IGlbMV0pLCBlID0gL3Byb21vUHJpY2UiOiIoW1xkXC5dKykiLy5leGVjKHQpLCBlICYmIChlID0gZVsxXSksIHsKCQkJCQkJCW5hbWU6IHIoImgzLml0ZW0tdGl0bGUgYSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiBlLAoJCQkJCQkJdXJsOiBpID8gImh0dHA6Ly9pdGVtLnRhb2Jhby5jb20vaXRlbS5odG0/aWQ9IiArIGkgOiBudWxsCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW02Z286IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzTmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIjU0dvb2RzUHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW1xzXSsvZywgIiIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxvZ2l0ZWNoOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa2p0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kZXRhaWx0aXRsZSBoMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCJsaS5wcmljZWluZm9wIHNwYW46Zmlyc3QiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdGVzdDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQl1cmw6IHIoIiN1cmwiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcGhpbGlwczogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMS5za3UtbmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0Y2w6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBfbmFtZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQljaGFuZ2hvbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBjX25hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa29ua2E6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdfdGl0bGUgaDEiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaW5laWdvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImg1LlByb05hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2tnOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LXRpdGxlcyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiay10b3VjaCI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb190aXRsZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnaW9uZWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2dvb2ROYW1lIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI1MWJ1eSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSByKCcubW9kX3ByaWNlW2l0ZW1wcm9wPSJsb3dQcmljZSJdJykudGV4dCgpLnJlcGxhY2UoL1vvv6XCpVxzXSsvZywgIiIpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gd2luZG93Lml0ZW1JbmZvICYmIHdpbmRvdy5pdGVtSW5mby5wcmljZSAvIDEwMCksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIueGJhc2VfaXRlbSAgLm1vZF9wcmljZSAiKS50ZXh0KCkpLCBlLm5hbWUgPSB3aW5kb3cuaXRlbUluZm8gJiYgd2luZG93Lml0ZW1JbmZvLm5hbWUsIGUuYnJhbmRfc3RyaW5nID0gd2luZG93Lml0ZW1JbmZvICYmIHdpbmRvdy5pdGVtSW5mby5icmFuZF9uYW1lLCBlCgkJCQkJfSwKCQkJCQl2aXZvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LXRpdGxlcyBoMyIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIubm93LXByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJ0YW9iYW8tOTUwOTUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLnByaWNlID0gcigiI0pfUHJvbW9QcmljZSAudG0tcHJpY2UiKS50ZXh0KCksIGUubmFtZSA9IHIoIiNKX0RldGFpbE1ldGEgLnRiLWRldGFpbC1oZCBoMSIpLnRleHQoKSwgZS5wcmljZSB8fCAoZS5wcmljZSA9IHIoIiNKX1N0clByaWNlTW9kQm94IC50bS1wcmljZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCXdhbG1hcnQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5qcy1wcm9kdWN0LWhlYWRpbmcgc3BhbiIpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5qcy1wcmljZS1kaXNwbGF5IikudGV4dCgpLCBlLmltZyA9IHIoIi5qcy1wcm9kdWN0LW1lZGlhIC5zbGljay10cmFjayBsaSBhIGltZyIpLmVxKDApICYmIHIoIi5qcy1wcm9kdWN0LW1lZGlhIC5zbGljay10cmFjayBsaSBhIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlCgkJCQkJfSwKCQkJCQloYWl0dW5jdW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5wcm9kdWN0LW5hbWUgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIucm1iLXByaWNlIikudGV4dCgpLCBlLmltZyA9IHIoIi5wcm9kdWN0LWltZy1ib3ggbGkgaW1nIikuZXEoMCkgJiYgcigiLnByb2R1Y3QtaW1nLWJveCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKSwgZQoJCQkJCX0sCgkJCQkJZWJheTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjaXRlbVRpdGxlIikudGV4dCgpLnJlcGxhY2UoL15EZXRhaWxzIGFib3V0L2dpLCAiIiksCgkJCQkJCQlwcmljZTogcigiI3ByY0lzdW0iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQlpbWc6IHIoIiN2aV9tYWluX2ltZ19mcyB1bCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3eTE2MzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuUEluZm8gZHQiKS5lcSgwKS50ZXh0KCkgfHwgcigiLm12X25hbWUiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZGlhbnBpbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRlYWwtdGl0bGUgaDEsaDEudGl0bGUiKS50ZXh0KCkucmVwbGFjZSgvXFsuKlxdL2dpLCAiIikKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbnVvbWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi5kZXRhaWxzIHAuZHAiKSAmJiByKCIuZGV0YWlscyBwLmRwIikudGV4dCgpIHx8ICIiLAoJCQkJCQkJdCA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJdCA9IHIoIi5kZXRhaWxzIGgxIikudGV4dCgpLnJlcGxhY2UoL15cdTMwMTAuK1x1MzAxMS9pLCAiIikKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKSwgdCA9ICIiCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQgKz0gZSwgewoJCQkJCQkJbmFtZTogdAoJCQkJCQl9CgkJCQkJfSwKCQkJCQltZWl0dWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZWFsLWNvbXBvbmVudC10aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1laWxpc2h1bzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLmdvb2RzLXRpdGxlIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNKX05vd1ByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gIiIgPT0gZSAmJiAoZSA9IHIoImgzLnNfdGxlIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCXByaWNlOiB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCXNmaHQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiN0aXRsZUluZm8gaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjaXRlbVByaWNlIC5nb29kcy1wcmljZS1yMSBzdHJvbmciKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCW1laWNpOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIiNzdWJwcm8gLnJlbGF0aXZlIHNwYW4iKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiLnByb19wcmljZSAucHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJcmV0dXJuIHQgJiYgKGUucHJpY2UgPSB0WzBdKSwgZQoJCQkJCX0sCgkJCQkJamlhbmtlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5kZXRfdGl0bGUgaDEiKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiLlByaWNlX2luZm8gLmJpZ1ByaWNlIGRkIGVtIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQkJCXJldHVybiB0ICYmIChlLnByaWNlID0gdFswXSksIGUKCQkJCQl9LAoJCQkJCSJnb21lLWhvbWUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5wcmRtYWluIC5wcmR0aXQiKS50ZXh0KCk7CgkJCQkJCXZhciB0ID0gcigiI3ByZFByaWNlIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKS5tYXRjaCgvWzAtOS5dKy8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMF0pLCBlCgkJCQkJfSwKCQkJCQluaWtlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvZHVjdC10aXRsZS10ZXh0IikudGV4dCgpLCBlLnByaWNlID0gcigiLnByb2R1Y3QtcHJpY2UiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSIzNjBrYWQiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIi5ZSXJkX2wgbGkiKS5lcSgwKS50ZXh0KCkucmVwbGFjZSgi5ZWG5ZOB5ZCN56ew77yaIiwgIiIpLCBlLnByaWNlID0gcigiI3ByaWNlbnVtYmVyIikudGV4dCgpOwoJCQkJCQlmb3IgKHZhciB0ID0gZS51cmwuc3BsaXQoIi8iKSwgbiA9IHRbMF0gKyAiLy8iLCBpID0gdFt0Lmxlbmd0aCAtIDFdLnNwbGl0KCIuIiksIGEgPSAyOyBhIDwgdC5sZW5ndGggLSAxOyBhKyspIG4gPSBuICsgdFthXSArICIvIjsKCQkJCQkJdmFyIG8gPSByKCJkaXYuWWRydWdfaW5mbyBkbDpmaXJzdCBkZCIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIG8gPyBlLnVybCA9IG4gKyByKCJkaXYuWWRydWdfaW5mbyBkbDpmaXJzdCBkZCIpLnRleHQoKSArICIuIiArIGlbMV0gOiBlLnVybCA9IGxvY2F0aW9uLmhyZWYsIGUKCQkJCQl9LAoJCQkJCWxieGNuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZGV0YWlsUGFzIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZS5wcmljZSA9IHIoIiNsYmxQcmljZSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJbW9ndWppZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gIiIsIGUubmFtZSA9IHIoIi5nb29kcy10aXRsZSIpLnRleHQoKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCJkaXYuc2hvcHRpdGxlIikudGV4dCgpKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCIuZ29vZHN0aXRsZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCWNvb2xwYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RfbmFtZSBoMSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl6dGVkZXZpY2U6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnpucHJvZHVjdHMgaDMiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbGVub3ZvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLnByaWNlID0gcigiI2dwcmljZSIpLnRleHQoKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHdpbmRvdy5wcmljZSksIGUubmFtZSA9IHIoIi5nb29kc25hbWUiKS50ZXh0KCksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLmRlX3Byb25hbWUiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlzaG93am95OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuY2hvb3NlLWhkIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZS5wcmljZSA9IHIoIiNKX01haW5QcmljZSAuc2otcHJpY2UtdGV4dCIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJb2NqOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHZfc2hvcF9kZXRhaWxfdGl0bGUgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIuaW5mb19ib3ggLnZhbCAucHJpY2UiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSJvY2otdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gcigiLnByb2R1Y3QtaW5mbyA+IGgxIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKTsKCQkJCQkJdmFyIHQgPSByKCIucHJvZHVjdF9wcmljZV9jb250IC5wMSIpLmh0bWwoKS5tYXRjaCgvXC9zcGFuXD4oWzAtOS5dKylcPC8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMV0pLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiLnByb2R1Y3RfcHJpY2VfY29udCAucDEiKS50ZXh0KCkpLCAiIiA9PSBlLm5hbWUgJiYgKGUubmFtZSA9IHIoIi5wcm9kdWN0LWluZm8gIGgxIC50aXRsZSIpLnRleHQoKSksIGUKCQkJCQl9LAoJCQkJCSJvY2ota3IiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCcucHYxX2xpX3RhYmxlX3dyYXAgdGg6Y29udGFpbnMoIuWTgeWQjSIpK3RkJykudGV4dCgpLCBlLnByaWNlID0gcigiLnByaWNla29yZWEiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCWdqdzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuc2lsZGVyX2NvbHVtbl9uYW1lIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlhcHBsZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIHQgPSB3aW5kb3cucHJvZHVjdFNlbGVjdGlvbkNvbnRyb2xsZXIuZGF0YS5wcm9kdWN0c1swXS5wYXJ0TnVtYmVyOwoJCQkJCQkJZS51cmwgPSAiaHR0cDovL3N0b3JlLmFwcGxlLmNvbS9jbi9wcm9kdWN0LyIgKyB0CgkJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coaSkKCQkJCQkJfQoJCQkJCQl2YXIgYSA9IHIoIiNwcmltYXJ5IC5hcy1wcmljZS1jdXJyZW50cHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTksXSsvKTsKCQkJCQkJcmV0dXJuIGEgJiYgKGUucHJpY2UgPSBhWzBdKSwgZQoJCQkJCX0sCgkJCQkJanVtZWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGQoKTsKCQkJCQkJaWYgKHQubmFtZSA9IHIoImgxLnBvcF9kZXRhaWxfdGl0IikudGV4dCgpLCAiIiA9PSB0Lm5hbWUpIHsKCQkJCQkJCXQubmFtZSA9IHIoInRpdGxlIikuaHRtbCgpOwoJCQkJCQkJdmFyIGkgPSByKCJ0aXRsZSIpLmh0bWwoKS5zcGxpdCgiLSIpOwoJCQkJCQkJaS5wb3AoKSwgaS5wb3AoKTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJdC5uYW1lID0gaS5qb2luKCItIikKCQkJCQkJCX0gY2F0Y2ggKGEpIHsKCQkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGUpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQucHJpY2UgPSByKCIjbWFsbF9wcmljZV9kZXRhaWwgLnByaWNlX251bSIpLnRleHQoKSwgIiIgPT0gdC5wcmljZSAmJiAodC5wcmljZSA9IHIoIiNzdHJlYW1faWQiKS5hdHRyKCJwcmljZSIpKSwgdAoJCQkJCX0sCgkJCQkJanVtZWlnbG9iYWw6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUucHJpY2UgPSByKCIuanVtZWlfcHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXSwgZS5uYW1lID0gcignLmRlYWxfY29uX2NvbnRlbnQgdGQ6Y29udGFpbnMoIuWVhuWTgeWQjeensCIpJykucGFyZW50KCkuZmluZCgidGQiKS5lcSgxKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3N0cmVhbV9pZCIpLmF0dHIoInByaWNlIikpLCBlCgkJCQkJfSwKCQkJCQl5dW5ob3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5nb29kcy1uYW1lIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI2pQcmljZU5vcm1hbCIpLnRleHQoKSwgZS5pbWcgPSByKCIucGljLXBhZ2VyIC5waWMtbGlzdCBhIGltZyIpLmVxKDApICYmIHIoIi5waWMtcGFnZXIgLnBpYy1saXN0IGEgaW1nIikuZXEoMCkuYXR0cigic3JjIiksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIuakZpcnN0UHJpY2UiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlib29oZWU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi53aWRnZXQtZ29vZHMtcHJpbWFyeSAucm93LWRlcyBoMSIpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5jb2wtcHJpY2UgYiIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlCgkJCQkJfSwKCQkJCQltb29uYmFzYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnBfaW5mbyBoMiIpLmh0bWwoKS5yZXBsYWNlKC88W14+XSpbXHNcU10qW148XSo+L2dpLCAiIiksIGUgPSByLnRyaW0oZSkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWhvbWV2djogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcignLnNob3BfbmFtZSBwW2NsYXNzPSJoZHJfMSJdJykudGV4dCgpLCBlLm5hbWUgPSBlLm5hbWUucmVwbGFjZSgvPGRpdltePl0qW1xzXFNdKltePF0qXC9kaXY+L2dpLCAiIiksIGUubmFtZSA9IGUubmFtZS5yZXBsYWNlKC88c3BhbltePl0qW1xzXFNdKltePF0qXC9zcGFuPi9naSwgIiIpLCBlLm5hbWUgPSBlLm5hbWUucmVwbGFjZSgvJm5ic3A7L2dpLCAiIiksIGUubmFtZSA9IHIudHJpbShlLm5hbWUpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJInBhaXhpZS1mYXhpYW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuZmluZC1pbmZvLXByb2R1Y3QgYSBwIikuZXEoMCkudGV4dCgpLCBlLnByaWNlID0gcigiLmZpbmQtaW5mby1wcm9kdWN0IGEgc3BhbiIpLmVxKDApLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJeGlhb21pOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWlmIChlLnByaWNlID0gcigiI0pfZ29vZHNJbmZvQmxvY2sgLkpfbWlfZ29vZHNQcmljZSIpLnRleHQoKSwgIiIgPT0gZS5wcmljZSkgewoJCQkJCQkJdmFyIHQgPSByKCIuSl9wcm9QcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pOwoJCQkJCQkJdCAmJiAoZS5wcmljZSA9IHRbMF0pCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWlodXNoOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoImgxLnRpdGxlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCTE2ODg6IGZ1bmN0aW9uKCkgewoJCQkJCQluLnNpdGUgPSAidGFvYmFvIjsKCQkJCQkJdmFyIGUgPSBuZXcgQXJyYXk7CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgdCA9IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLlk4HniYwiKScpLnRleHQoKTsKCQkJCQkJCXQgJiYgZS5wdXNoKHQpCgkJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coaSkKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSByKCcuZGUtZmVhdHVyZTpjb250YWlucygi57O75YiXIiknKS5sZW5ndGggPiAwID8gcignLmRlLWZlYXR1cmU6Y29udGFpbnMoIuezu+WIlyIpJykudGV4dCgpIDogbnVsbDsKCQkJCQkJCWEgPSBhID8gYSA6IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLotKflj7ciKScpLmxlbmd0aCA+IDAgPyByKCcuZGUtZmVhdHVyZTpjb250YWlucygi6LSn5Y+3IiknKS50ZXh0KCkgOiBudWxsLCBhID0gYSA/IGEgOiByKCcuZGUtZmVhdHVyZTpjb250YWlucygi5Z6L5Y+3IiknKS5sZW5ndGggPiAwID8gcignLmRlLWZlYXR1cmU6Y29udGFpbnMoIuWei+WPtyIpJykudGV4dCgpIDogbnVsbCwgYSAmJiBlLnB1c2goYSkKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgbyA9IHIoJy5kZS1mZWF0dXJlOmNvbnRhaW5zKCLkuablj7ciKScpLmxlbmd0aCA+IDAgPyByKCcuZGUtZmVhdHVyZTpjb250YWlucygi5Lmm5Y+3IiknKS50ZXh0KCkgOiBudWxsOwoJCQkJCQkJbyA9IG8gPyBvLnN1YnN0cihvLmluZGV4T2YoIu+8miIpICsgMSkgOiBudWxsLCBvICYmIGUucHVzaCgiSVNCTu+8miIgKyBvKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUgPSBlLmpvaW4oInwiKSwgewoJCQkJCQkJbmFtZTogcigiI21vZC1kZXRhaWwtaGQgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXNrZXl3b3JkOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJ3b21haS1yZWxhdGVkIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvX3RpdF90b3BfZm9yY29tYmkiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2NvbWJpUHJvZHVjdE1hcmtldFByaWNlIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIxMzlzaG9wLWFydGljbGUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHAoIi5yZ2luZm8gZHQgYSIsIDAsICIxMzlzaG9wIikKCQkJCQl9LAoJCQkJCSJ6b2wtYXJ0aWNsZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gcCgiLm5hdi1oZWFkZXI+YSAiLCAxLCAiem9sIikKCQkJCQl9LAoJCQkJCSJwY29ubGluZS1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIubmF2UHJvV3JhcCBoMyBhIiwgMCwgInBjb25saW5lIikKCQkJCQl9LAoJCQkJCSJ5ZXNreS1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIuYXJ0aXRsZSBoMyBhIiwgMCwgInllc2t5IikKCQkJCQl9LAoJCQkJCSJpdDE2OC1hcnRpY2xlIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBwKCIuYmo5ODAgLmJqMSBkaXY+YSIsIDAsICJpdDE2OCIpCgkJCQkJfSwKCQkJCQkicGNwb3AtYXJ0aWNsZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gcCgiLmJqOTgwIC5iajEgYSIsIDAsICJwY3BvcCIpCgkJCQkJfSwKCQkJCQkicGNob21lLWFydGljbGUiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHAoIi5uYXZQcm9XcmFwIGgzIGEiLCAwLCAicGNob21lIikKCQkJCQl9LAoJCQkJCW5ld2VnZzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiI3Byb0N0bmVyIC5wcm9IZWFkZXIgaDEiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjb21IaWRkZW5QcmljZSIpLnZhbCgpLCBlLnVybCA9IHIoIi5wcm9IZWFkZXIgaDEgYSIpLmF0dHIoImhyZWYiKSwgZS5icmFuZF9zdHJpbmcgPSByKCcuZ29vZHNfaW5mbyAuZ29vZHNfaW5mb19uYW1lOmNvbnRhaW5zKCLniYwiKSsuZ29kZHNfaW5mb19kYXRhJykudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwgZQoJCQkJCX0sCgkJCQkJIm5ld2VnZy16aGFkYW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvSGVhZGVyIGgxIGEiKS50ZXh0KCksIGUudXJsID0gcigiLnByb0hlYWRlciBoMSBhIikuYXR0cigiaHJlZiIpLCBlCgkJCQkJfSwKCQkJCQl5aXd1Z291OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCJsaS5mb250Ym9sZC50aXQiKS50ZXh0KCksIGUucHJpY2UgPSBwYXJzZUZsb2F0KHIoIiNwdW5pdHByaWNlIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSksIGUKCQkJCQl9LAoJCQkJCXpoaXdvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIubWFsbF9kZXRhaWxfcHJkX2luZm8gLnRpdGxlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkiemhpd28tdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5jYXJvdXNlbCBsaSBwIikuZXEoMCkudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQl6b2w6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSBbXSwKCQkJCQkJCW4gPSByKCIucHJvZHVjdC1tZXJjaGFudC1wcmljZSBlbSIpLnRleHQoKTsKCQkJCQkJaWYgKCIiICE9IG4gJiYgbi5tYXRjaCgvWzAtOV0rLykgJiYgbi5pbmRleE9mKCLoh7MiKSA+IC0xICYmICh0ID0gbi5yZXBsYWNlKC9bIF0vZywgIiIpLnNwbGl0KCLoh7MiKSksIGUubmFtZSA9IHIoIi5wcm9kdWN0LW5hbWUgaDMiKS50ZXh0KCksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLnB0aXRsZSIpLnRleHQoKSksICIiID09IGUubmFtZSAmJiAoZS5uYW1lID0gcigiLnBhZ2UtdGl0bGUuY2xlYXJmaXggaDEiKS50ZXh0KCkpLCB0Lmxlbmd0aCA+IDAgJiYgKGUubWluX3ByaWNlID0gdFswXS5zdWJzdHIoMSksIGUubWF4X3ByaWNlID0gdFsxXS5zdWJzdHIoMSkpLCBlLnByaWNlID0gcigiLnByaWNlLXR5cGUiKS50ZXh0KCksIGUucHJpY2UuaW5kZXhPZigi5LiHIikgPiAtMSkgewoJCQkJCQkJdmFyIGkgPSBlLnByaWNlLm1hdGNoKC9bMC05Ll0rLyk7CgkJCQkJCQlpICYmIChlLnByaWNlID0gMWU0ICogaVswXSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZS5jYXRfbmFtZSA9IHIoIi5icmVhZGNydW1iIGEiKS5lcSgxKS50ZXh0KCksIGUuYnJhbmRfc3RyaW5nID0gcigiLmJyZWFkY3J1bWIgYSIpLmVxKDIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJdm1hbGw6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiNwcm8tbmFtZSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJZGFsaW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZ29vZHMtZGF0YSBoMS5jbGVhcmZpeCIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIuZ29vZHMtcHJpY2UgLmNsZWFyZml4IC5mbCAuYm9sZCIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJZmNsdWI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi5nb29kc19pbnRyb2R1Y2UiKS50ZXh0KCksIGUubmFtZSA9IGUubmFtZS5yZXBsYWNlKC8oPzpcdHxcbikvZ2ksICIiKSwgZS5uYW1lID0gZS5uYW1lLnJlcGxhY2UoLyg/OlwgXCB8Jm5ic3A7KS9naSwgIiAiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGUubmFtZSkgdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoJy50ZGxlZnQ6Y29udGFpbnMoIuWVhuWTgeWQjeensCIpKy50ZHJpZ2h0JykudGV4dCgpLnJlcGxhY2UoLyhccykvZywgIiIpLCBlLnByaWNlID0gcigiI3ByaWNlRm9udCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCXRhb3NodTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5pc2JuID0gcignLmJvb2tfZGV0YWlsZWQgc3Bhbjpjb250YWlucygiSVNCTiIpJykubGVuZ3RoID4gMCA/IHIoJy5ib29rX2RldGFpbGVkIHNwYW46Y29udGFpbnMoIklTQk4iKScpLnRleHQoKS5zdWJzdHIoNSkgOiAiIgoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlLmlzYm4gPSAiIgoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlhbWF6b246IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSAiIiwKCQkJCQkJCW4gPSByKCdsaTpjb250YWlucygiSVNCTiIpJykudGV4dCgpLAoJCQkJCQkJaSA9IHIoJ2xpOmNvbnRhaW5zKCLmnaHlvaLnoIEiKScpLnRleHQoKSwKCQkJCQkJCWEgPSByKCdsaSBiOmNvbnRhaW5zKCJBU0lOIiknKS5wYXJlbnQoImxpIikudGV4dCgpOwoJCQkJCQluID0gbiA/IG4uc3Vic3RyKDUpIDogIiIsIGkgPSBpID8gaS5zdWJzdHIoNCkgOiAiIiwgYSA9IGEgPyBhLnN1YnN0cig1KSA6ICIiLCB0ID0gIiIgPT0gbiA/IGkgOiAiIiA9PSBpID8gbiA6IG4ubGVuZ3RoID4gaS5sZW5ndGggPyBpIDogbiwgdCA9IHQgfHwgYSwgdCA9IHQucmVwbGFjZSgvKFxzKS9nLCAiIiksIGUubmFtZSA9IHIoIiNidEFzaW5UaXRsZSBzcGFuIikuZXEoMCkudGV4dCgpLnJlcGxhY2UoLyguKik8c3Bhbi4qL2ksICIkMSIpLCBlLm5hbWUgPSByKCIjcHJvZHVjdFRpdGxlIikudGV4dCgpLnRyaW0oKSwgZS5pc2JuID0gdCwgZS5icmFuZF9zdHJpbmcgPSByKCIjYnJhbmQiKS50ZXh0KCkudHJpbSgpLCBlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfZGVhbHByaWNlIikudGV4dCgpLnJlcGxhY2UoL1vvv6XCpV0rLywgIiIpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigic3Bhbi5hLXNpemUtbGFyZ2UuYS1jb2xvci1wcmljZSIpLmlzKCI6dmlzaWJsZSIpICYmIHIoInNwYW4uYS1zaXplLWxhcmdlLmEtY29sb3ItcHJpY2UiKS50ZXh0KCkpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfb3VycHJpY2UiKS50ZXh0KCkpLCAiIiA9PSBlLnByaWNlICYmIChlLnByaWNlID0gcigiI3ByaWNlYmxvY2tfc2FsZXByaWNlIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIi5vZmZlci1wcmljZTplcSgwKSIpLnRleHQoKSksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIjb2xwX2ZlYXR1cmVfZGl2IC5hLWNvbG9yLXByaWNlIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIi5hLWNvbG9yLXByaWNlOmVxKDApIikudGV4dCgpKSwgIiIgPT0gZS5wcmljZSAmJiAoZS5wcmljZSA9IHIoIiNwcmljZWJsb2NrX3NhbGVwcmljZSIpLnRleHQoKSksICIiID09IGUucHJpY2UgJiYgKGUucHJpY2UgPSByKCIjcHJpY2VfZmVhdHVyZV9kaXYgLmEtY29sb3ItcHJpY2UiKS50ZXh0KCkpOwoJCQkJCQl2YXIgbyA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCQlzID0gbG9jYXRpb24uaG9zdDsKCQkJCQkJZS5pdGVtSWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCXZhciBlID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXC9kcFwvKFswLTlBLVphLXpdKykvKTsKCQkJCQkJCXJldHVybiBlID8gZVsxXSA6IChlID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXC9ncFwvKFswLTlBLVphLXpdKykvKSwgZSA/IGVbMV0gOiAiIikKCQkJCQkJfSgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5jYXRfaWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSwgdCwgbiA9ICIiOwoJCQkJCQkJCXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYS1icmVhZGNydW1iIGxpOm50aC1jaGlsZCg3KSBhIikgPyB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmEtYnJlYWRjcnVtYiBsaTpudGgtY2hpbGQoNykgYSIpLmdldEF0dHJpYnV0ZSgiaHJlZiIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmEtYnJlYWRjcnVtYiBsaTpudGgtY2hpbGQoNSkgYSIpID8gdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDUpIGEiKS5nZXRBdHRyaWJ1dGUoImhyZWYiKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDMpIGEiKSAmJiAodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hLWJyZWFkY3J1bWIgbGk6bnRoLWNoaWxkKDMpIGEiKS5nZXRBdHRyaWJ1dGUoImhyZWYiKSksIGUgPSB0LnNwbGl0KCI/IilbMV0sIGUgJiYgZS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQllLm1hdGNoKC9ub2RlPS4qLykgJiYgKG4gPSBlLm1hdGNoKC9ub2RlPSguKikvKVsxXSkKCQkJCQkJCQl9KSwgbgoJCQkJCQkJfSgpCgkJCQkJCX0gY2F0Y2ggKGwpIHsKCQkJCQkJCWUuY2F0X2lkID0gIiIKCQkJCQkJfQoJCQkJCQllLnVybDIgPSBvLnJlcGxhY2UocywgInd3dy5hbWF6b24uY24iKTsKCQkJCQkJZm9yICh2YXIgYyA9IHIoIiN3YXlmaW5kaW5nLWJyZWFkY3J1bWJzX2ZlYXR1cmVfZGl2IC5hLXVub3JkZXJlZC1saXN0IGxpIGEiKSwgcCA9IGMubGVuZ3RoLCBoID0gW10sIHUgPSAwOyBwID4gdTsgdSsrKSBoLnB1c2goYy5lcSh1KS50ZXh0KCkudHJpbSgpKTsKCQkJCQkJZS5jYXRfbmFtZSA9IGguam9pbigiIyIpLCBlLndlYnNpdGUgPSAiYW1hem9uIiwgZS5waWMgPSByKCIjYWx0SW1hZ2VzIHVsIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlLnNrdSA9IHIoIiNhZGRUb0NhcnQgI0FTSU4iKS52YWwoKSwgZS5jYXRlZ29yeSA9IHIoIiN3YXlmaW5kaW5nLWJyZWFkY3J1bWJzX2ZlYXR1cmVfZGl2IGEiKS50ZXh0KCk7CgkJCQkJCXZhciBtID0gcigiI2JyYW5kIikuYXR0cigiaHJlZiIpLAoJCQkJCQkJZiA9IG0gJiYgbS5tYXRjaCgvZmllbGQtbGJyX2JyYW5kc19icm93c2UtYmluPSguKikkLykgJiYgbS5tYXRjaCgvZmllbGQtbGJyX2JyYW5kc19icm93c2UtYmluPSguKikkLylbMV07CgkJCQkJCXJldHVybiBlLmJyYW5kID0gZS5icmFuZF9zdHJpbmcgPyBlLmJyYW5kX3N0cmluZyA6IGYsIGUKCQkJCQl9LAoJCQkJCW11eWluZ3poaWppYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcigiI25hbWUgaDEiKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQllLnByaWNlID0gcigiI3N1bW1hcnktcHJpY2UgLnAtcHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWRhbmdkYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cucHJvZFNwdUluZm8sCgkJCQkJCQl0ID0gZCgpLAoJCQkJCQkJbiA9IHIoJy5ib29rX2RldGFpbGVkIHNwYW46Y29udGFpbnMoIkkgUyBCIE4iKScpLnRleHQoKS5zdWJzdHIoOCk7CgkJCQkJCWlmICgiIiA9PSBuICYmIChuID0gcignLmludHJvIHNwYW46Y29udGFpbnMoIkkgUyBCIE4iKScpLnRleHQoKS5zdWJzdHIoOCkpLCAiIiA9PSBuICYmIChuID0gcignLmJvb2tfbWVzc2JveCAuc2hvd19pbmZvX2xlZnQ6Y29udGFpbnMoIu+8qe+8s++8ou+8riIpJykubmV4dCgiLnNob3dfaW5mb19yaWdodCIpLnRleHQoKSksICIiID09IG4gJiYgKG4gPSByKCcuYm9va19tZXNzYm94IC5zaG93X2luZm9fbGVmdDpjb250YWlucygiSSBTIFIgQyIpJykubmV4dCgiLnNob3dfaW5mb19yaWdodCIpLnRleHQoKSksICIiID09IG4pIHsKCQkJCQkJCXZhciBpID0gcignLmJvb2tfbWVzc2JveCBzcGFuOmNvbnRhaW5zKCJJIFMgUiBDIiknKTsKCQkJCQkJCW4gPSBpICYmIGkucGFyZW50KCkudGV4dCgpLnN1YnN0cig3KQoJCQkJCQl9CgkJCQkJCWlmICgiIiA9PSBuKSB7CgkJCQkJCQl2YXIgbiA9IHIoJyNkZXRhaWxfZGVzY3JpYmUgbGk6Y29udGFpbnMoIklTQk4iKScpLnRleHQoKS5tYXRjaCgvWzAtOV0rLyk7CgkJCQkJCQluICYmIChuID0gblswXSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdC5wcmljZSA9IHIoIiNkZC1wcmljZSIpLnRleHQoKSwgdC5pc2JuID0gbiwgdC5waWMgPSByKCIjbWFpbi1pbWctc2xpZGVyIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCB0LndlYnNpdGUgPSAiZGFuZ2RhbmciLCB0Lml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2RhbmdkYW5nXC5jb21cLyhcZCspLylbMV0sIHQuYnJhbmRfc3RyaW5nID0gcignLm1hbGxfZ29vZHNfZm91cnNvcnRfc3R5bGVfZnJhbWU6Y29udGFpbnMoIuWTgeeJjCIpJykudGV4dCgpLnJlcGxhY2UoIuWTgeeJjO+8miIsICIiKSwgIiIgPT0gdC5icmFuZF9zdHJpbmcgJiYgKHQuYnJhbmRfc3RyaW5nID0gd2luZG93Lmdvb2dsZV90YWdfcGFyYW1zICYmIHdpbmRvdy5nb29nbGVfdGFnX3BhcmFtcy5lY29tbV9wYnJhbmQpLCB0LnByaWNlIHx8ICh0LnByaWNlID0gcigiI3NhbGVQcmljZVRhZyIpLnRleHQoKSksIHQubmFtZSA9IHIoIi5uYW1lX2luZm8gaDEiKS50ZXh0KCkudHJpbSgpLCB0LmNhdF9pZCA9IGUgJiYgZS5jYXRlZ29yeUlkLCB0CgkJCQkJfSwKCQkJCQkiMzYwYnV5LXBhaW1haSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSByKCIjcHJpY2VEaXYiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXSwgZS5uYW1lID0gcigiLmludHJvX2RldGFpbCAubmFtZSIpLmF0dHIoInRpdGxlIiksIGUKCQkJCQl9LAoJCQkJCSIzNjBidXktYm9vayI6IGZ1bmN0aW9uKCkgewoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGUgPSByKCJ0aXRsZSIpLnRleHQoKSwKCQkJCQkJCQl0ID0gIiI7CgkJCQkJCQl0ID0gcigiI3N1bW1hcnktaXNibiAuZGQiKS50ZXh0KCksIGUgPSByKCIjbmFtZSBoMSIpLmh0bWwoKSwgZS5pbmRleE9mKCI8IikgPiAwICYmIChlID0gZS5zdWJzdHIoMCwgZS5pbmRleE9mKCI8IikpKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCXQgPSB0IHx8IHIoJ2xpIGRpdjpjb250YWlucygi77yp77yz77yi77yuIiknKS50ZXh0KCkuc3Vic3RyKDUpLCBlID0gZSB8fCByKCIjbmFtZSBoMiIpLmh0bWwoKS5yZXBsYWNlKC8oLiopPGZvbnQuKi9pLCAiJDEiKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCSIzNjBidXktdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gZS5uYW1lLnJlcGxhY2UoIiAtIOS6rOWTgeaDoOWboui0rSIsICIiKSwgbi5zaXRlID0gIjM2MGJ1eSI7CgkJCQkJCXRyeSB7CgkJCQkJCQllLmlkID0gcigiI1BzaG93U2t1aWQiKS52YWwoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIuZS1jb250ZW50IGgyIikudGV4dCgpOwoJCQkJCQlpLmxlbmd0aCA+IGUubmFtZS5sZW5ndGggJiYgKGUubmFtZSA9IGkpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSByKCIuZS1leHRyYSAucC1pbWcgYSIpOwoJCQkJCQkJYS5sZW5ndGggPiAwICYmICEvXmphdmFzY3JpcHQ6Ly50ZXN0KGEuYXR0cigiaHJlZiIpKSA/IGUuaHJlZiA9IGEuYXR0cigiaHJlZiIpIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHIoIiNQc2hvd1NrdWlkIikudmFsKCkgJiYgKGUuaHJlZiA9ICJodHRwOi8vaXRlbS5qZC5jb20vIiArIHIoIiNQc2hvd1NrdWlkIikudmFsKCkgKyAiLmh0bWwiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUudXJsID0gcigiLmUtZXh0cmEgYSIpLmVxKDApLmF0dHIoImhyZWYiKSwgZS51cmwuaW5kZXhPZigiamF2YXNjcmlwdCIpID4gLTEgJiYgKGUudXJsID0gcigiLmltZy1pbmZvIGEiKS5lcSgwKS5hdHRyKCJocmVmIikpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJIjM2MGJ1eS1iaWdpbWFnZSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiOwoJCQkJCQlpZiAoIiIgPT0gZSkgdHJ5IHsKCQkJCQkJCWUgPSByKCIuby1tLTEgaDEgYSIpLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIuby1tLTEgaDEgYSIpLmVxKDApLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogZSwKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwYnV5LWNsdWIiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJaWYgKCIiID09IGUpIHRyeSB7CgkJCQkJCQllID0gcigiLnAtbmFtZSBhIikuYXR0cigiaHJlZiIpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQl2YXIgaSA9IHIoIi5wLW5hbWUgYSIpLmVxKDApLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogZSwKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwYnV5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IHIoIiNuYW1lIGgxIikuaHRtbCgpLAoJCQkJCQkJbiA9ICIiOwoJCQkJCQl0IHx8ICh0ID0gcigiLml0ZW1JbmZvLXdyYXAgLnNrdS1uYW1lIikuZXEoMCkudGV4dCgpKSwgdC5pbmRleE9mKCI8IikgPiAwICYmICh0ID0gdC5zdWJzdHIoMCwgdC5pbmRleE9mKCI8IikpKSwgbiA9IHIoIiNzdW1tYXJ5LWlzYm4gLmRkIikudGV4dCgpLCBuIHx8IChuID0gcigidGQ6Y29udGFpbnMoJ0lTQk7lj7fvvJonKSIpLnRleHQoKS5tYXRjaCgvXGQrLyksIG4gJiYgKG4gPSBuWzBdKSksIG4gfHwgKG4gPSByKCIjcHJvZHVjdC1kZXRhaWwgbGk6Y29udGFpbnMoJ0lTQk7vvJonKSIpLnRleHQoKS5tYXRjaCgvXGQrLyksIG4gJiYgKG4gPSBuWzBdKSksIG4gfHwgKG4gPSByKCJ0ZDpjb250YWlucygnSVNCTuWPt++8micpIikudGV4dCgpLnN1YnN0cig3KSksIGUubmFtZSA9IHQsIGUuaXNibiA9IG47CgkJCQkJCXZhciBpID0gd2luZG93LnBhZ2VDb25maWcgJiYgd2luZG93LnBhZ2VDb25maWcucHJvZHVjdCAmJiB3aW5kb3cucGFnZUNvbmZpZy5wcm9kdWN0LmJyYW5kOwoJCQkJCQkwICE9IGkgJiYgKGUuYnJhbmRfc3RyaW5nID0gcignI3Jvb3QtbmF2IGFbaHJlZio9IicgKyBpICsgJyJdJykudGV4dCgpKSwgZS5wcmljZSA9IHIoIiNqZC1wcmljZSIpLnRleHQoKS5yZXBsYWNlKC9b77+lwqVdKy8sICIiKTsKCQkJCQkJZm9yICh2YXIgYSA9IFtdLCBvID0gcigiYm9keSIpLmF0dHIoImNsYXNzIikubWF0Y2goL2NhdFwtXGRcLShbMC05XSspL2cpLCBzID0gMDsgcyA8IG8ubGVuZ3RoOyBzKyspIGEucHVzaChvW3NdLm1hdGNoKC9cZFwtKFswLTldKykvKVsxXSk7CgkJCQkJCXJldHVybiBlLmNhdF9pZCA9IGEuam9pbigiLSIpLCBlLnByaWNlIHx8IChlLnByaWNlID0gcigiLnAtcHJpY2U6ZXEoMCkiKS50ZXh0KCkpLCBlLnByaWNlIHx8IChlLnByaWNlID0gcigiLnN1bW1hcnktcHJpY2UgLnAtcHJpY2UgLnByaWNlIikuZXEoMCkudGV4dCgpKSwgZS5waWMgPSByKCIuc3BlYy1pdGVtcyB1bCBsaSBpbWciKS5lcSgwKS5hdHRyKCJzcmMiKSwgLTEgPT09IGUucGljLmluZGV4T2YoImh0dHAiKSAmJiAoZS5waWMgPSAiaHR0cDoiICsgZS5waWMucmVwbGFjZSgvXGQreFxkKy8sICIxNjB4MTYwIikpLCBlLml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goLyhcZCspXC5odG1sLylbMV0sIGUubmFtZSA9IGUubmFtZSAmJiBlLm5hbWUucmVwbGFjZSgi44CQ5Lqs5Lic6LaF5biC44CRIiwgIiIpLCBlLndlYnNpdGUgPSAiamQuY29tIiwgZS5jYXRfbmFtZSA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjY3J1bWItd3JhcCAuY3J1bWIgYSIpLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZS50ZXh0Q29udGVudAoJCQkJCQl9KS5zbGljZSgwLCAzKS5qb2luKCIjIiksIGUKCQkJCQl9LAoJCQkJCSIzNjBidXktcmUiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuc2hvcF9pbnRybz5oMj5hIikudGV4dCgpLCBlLnByaWNlID0gcigiLnNob3BfaW50cm8gLnByaWNlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkiMzYwYnV5LWF1Y3Rpb24iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjcHJvZHVjdC1pbnRybyAucC1pbmZvIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI2N1cl9wcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlCgkJCQkJfSwKCQkJCQlmZ2xhZHk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBkLWNvbnRlbnQtbGVmdCB0YWJsZSB0Ym9keSIpLmNoaWxkcmVuKCJ0ciIpLmVxKDEpLmNoaWxkcmVuKCJ0ZCIpLmVxKDApLmNoaWxkcmVuKCJkaXYiKS5lcSgwKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvdWt1OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIucHJvZC1pbmZvLXRpdGxlIGgxIikudGV4dCgpLCBlLmJyYW5kX3N0cmluZyA9IHIoJy5zcGVjVGl0bGUgLnN0cm9uZy10aXRsZTpjb250YWlucygi5ZOB54mMIikrLmlubGluZSBzcGFuJykudGV4dCgpLCBlLnByaWNlID0gcigiLnNhbGUtcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXHNdKy9nLCAiIiksIGUKCQkJCQl9LAoJCQkJCSI2cG0iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjcHJvZHVjdFN0YWdlIC50aXRsZSIpLnRleHQoKSwgZS5icmFuZF9zdHJpbmcgPSByKCIjcHJvZHVjdFN0YWdlIC50aXRsZSAuYnJhbmQiKS50ZXh0KCksIGUucHJpY2UgPSByKCIjcHJpY2VTbG90IC5wcmljZSIpLnRleHQoKS5yZXBsYWNlKCIkIiwgIiIpLCBlLmltZyA9IHIoIiNwcm9kdWN0SW1hZ2VzIHVsIGxpIGltZyIpLmVxKDApLmF0dHIoInNyYyIpLCBlLnNrdSA9IHIoJ2lucHV0W25hbWU9InByb2R1Y3RJZCJdJykudmFsKCksIGUuY2F0ZWdvcnkgPSByKCIjYnJlYWRjcnVtYnMgYSIpLnRleHQoKSwgZS5zb3VyY2UgPSByKCIjdGh1bWJuYWlsSW1hZ2VzIikubmV4dCgpLm5leHQoKS5uZXh0KCkudGV4dCgpLCBlLmJyYW5kID0gcignYVtpdGVtcHJvcD0iYnJhbmQiXScpLnRleHQoKSwgZS5wcmljZSB8fCAoZS5wcmljZSA9IHIoIi5fM3JfT3UiKS5lcSgwKS50ZXh0KCkucmVwbGFjZSgiJCIsICIiKSksIGUKCQkJCQl9LAoJCQkJCWtpbWlzczogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnByZXZpZXdfdGl0bGUgaDEgYSIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSByKCIucHJldmlld19icmllZiBlbSIpLnRleHQoKTsKCQkJCQkJaS5pbmRleE9mKCItIikgPiAtMSAmJiAoaSA9IGkuc3BsaXQoIi0iKVswXSk7CgkJCQkJCXZhciBhID0gcigiLnByZXZpZXdfYnJpZWYiKS50ZXh0KCkubWF0Y2goL+S6p+WTgeinhOagvO+8miguKikvKTsKCQkJCQkJcmV0dXJuIGEgJiYgKGEgPSBhWzFdKSwgYS5pbmRleE9mKCItIikgPiAtMSAmJiAoYSA9IGEuc3BsaXQoIi0iKVswXSksIGUgKz0gYSwgIiIgPT0gZSAmJiAoZSA9IHIoIi50aXRsZSBoMSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogaSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXJlZGJhYnk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3BOYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbTE4OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5nb29kc19kZXRhaWwgLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3MTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGl0bGUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzZXBob3JhY3BzOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIucHJvUHJpY2U+c3BhbjplcSgxKSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5zZFRpdGxlTCBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiLAoJCQkJCQkJcHJpY2U6IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYm9va3V1OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuc2hvcC10ZXh0LWluZm8gaDIiKS50ZXh0KCksIGUucHJpY2UgPSByKCcud2otbWV0YSBzcGFuOmNvbnRhaW5zKCLljZrlupPku7ciKX5zdHJvbmcnKS50ZXh0KCk7CgkJCQkJCQl2YXIgdCA9IHIoIm1ldGFbbmFtZT1rZXl3b3Jkc10iKVswXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCQkJCQkJCWUuaXNibiA9IC9JU0JO77yaKFxkKykvLmV4ZWModClbMV0KCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlzZWNvbzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5wcmljZSA9IHIoIi5EcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvKMKlfCwpL2csICIiKSwgZS5uYW1lID0gcigiLnByb05hbWUgaDIiKS50ZXh0KCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlsYWZhc286IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNwbmFtZSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlKSAmJiAoZSA9IHIoInRpdGxlIikuaHRtbCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXM6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxldGFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNidXlpbmZvIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYnV5MDA3OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNpbmZvX3JpZ2h0IHRhYmxlIHRib2R5IikuY2hpbGRyZW4oInRyIikuZXEoMCkuY2hpbGRyZW4oInRkIikuZXEoMCkuY2hpbGRyZW4oImgxIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdGFveGllOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWwiKS5jaGlsZHJlbigiZGl2IikuZXEoMCkuY2hpbGRyZW4oImgyIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc3VuaW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUsIHQgPSBoKCJpbnB1dFtuYW1lPXJldHVyblVSTF0iLCAwLCAidmFsdWUiLCAic3VuaW5nIiksCgkJCQkJCQlpID0gcigiI2l0ZW1EaXNwbGF5TmFtZSIpLnRleHQoKS50cmltKCk7CgkJCQkJCWlmIChlIHx8IChlID0gcignI3RvdGFsIGR0OmNvbnRhaW5zKCJJIiknKS5uZXh0KCkuZXEoMCkudGV4dCgpLCBlID0gZS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpLCBlICYmIChlID0gZVswXSkpLCBlIHx8IChlID0gcignLmJvb2staW5mbyBzcGFuOmNvbnRhaW5zKCJJIiknKS5uZXh0KCkuZXEoMCkudGV4dCgpLCBlID0gZS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpLCBlICYmIChlID0gZVswXSkpLCBlIHx8IChlID0gcignI2Jvb2tQYXJhbWV0ZXJGaWVsZCBkbDpjb250YWlucygiSVNCTiIpJykudGV4dCgpLm1hdGNoKC9bMC05XSsvKSwgZSAmJiAoZSA9IGVbMF0pKSwgIW4uY3JjNjQgJiYgIXQudXJsKSB7CgkJCQkJCQl2YXIgYSA9IHdpbmRvdy5zbi5wcm9kdWN0SWQ7CgkJCQkJCQl0LnVybCA9ICJodHRwOi8vd3d3LnN1bmluZy5jb20vZW1hbGwvcHJkXzEwMDUyXzEwMDUxXy03XyIgKyBhICsgIl8uaHRtbCIKCQkJCQkJfQoJCQkJCQl2YXIgbyA9IHIoIi53MyIpLnRvQXJyYXkoKTsKCQkJCQkJbyA9IG8ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBlLmlubmVySFRNTAoJCQkJCQl9KTsKCQkJCQkJdmFyIHMgPSB2b2lkIDA7CgkJCQkJCW8uaW5kZXhPZigi5Zui6LSt5Lu3IikgPiAtMSAmJiAocyA9IHIoInNwYW4uc21hbGwtcHJpY2UiKS50ZXh0KCkpOwoJCQkJCQl2YXIgbCA9IHIoIiNwcm9tb3Rpb25QcmljZS5tYWlucHJpY2UiKS50ZXh0KCksCgkJCQkJCQljID0gcigiLm1haW5wcmljZSIpLnRleHQoKTsKCQkJCQkJdC5uYW1lID0gaSwgdC5pc2JuID0gZSwgdC5icmFuZF9zdHJpbmcgPSB3aW5kb3cuc24gJiYgd2luZG93LnNuLmJyYW5kTmFtZSB8fCAiIiwgdC5wcmljZSA9IHdpbmRvdy5zbiAmJiB3aW5kb3cuc24ucHJvbW90aW9uUHJpY2UgfHwgMCwgYyAmJiAodC5wcmljZSA9IGMpLCBsICYmICh0LnByaWNlID0gbCksIHMgJiYgKHQucHJpY2UgPSBzKSwgdC5pdGVtSWQgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC8oXGQrXC9cZCspXC5odG1sLylbMV07CgkJCQkJCXZhciBkID0gcigiLmJyZWFkY3J1bWIgLmRyb3Bkb3duOm50aC1sYXN0LW9mLXR5cGUoMykgYSIpLAoJCQkJCQkJcCA9IGQgJiYgZC5hdHRyKCJocmVmIik7CgkJCQkJCXJldHVybiB0LmNhdF9pZCA9IHAubWF0Y2goLyhcZC1cZHswLH0tXGQpXC5odG1sLykgPyBwLm1hdGNoKC8oXGQtXGR7MCx9LVxkKVwuaHRtbC8pWzFdIDogIiIsIHQud2Vic2l0ZSA9ICJzdW5pbmciLCB0LnBpYyA9IHIoIiNiaWdJbWFnZSBpbWciKS5hdHRyKCJzcmMiKSwgdC5waWMgJiYgKHQucGljID0gcigiI2JpZ0ltZyBpbWciKS5hdHRyKCJzcmMiKSksIHQubmFtZSB8fCAodC5uYW1lID0gd2luZG93LnNuICYmIHdpbmRvdy5zbi5pdGVtRGlzcGxheU5hbWUpLCB0Lm5hbWUgPSB0Lm5hbWUgJiYgdC5uYW1lLnJlcGxhY2UoIuOAkOiLj+WugeaYk+i0rei2heW4guOAkSIsICIiKSwgdAoJCQkJCX0sCgkJCQkJInN1bmluZy1qdSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHt9OwoJCQkJCQlyZXR1cm4gZS51cmwgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgcigiI2l0ZW1JZCIpLmF0dHIoInZhbHVlIikgKyAiXy5odG1sIiwgbi5jcmM2NCAmJiAoZS51cmwgPSB2b2lkIDApLCBlLm5hbWUgPSByKCJoMSBhIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkic3VuaW5nLWJvb2stbmV3IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpLAoJCQkJCQkJdCA9IHIoInRpdGxlIikuaHRtbCgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoJyN0b3RhbCBkdDpjb250YWlucygiSSIpJykubmV4dCgpLmVxKDApLnRleHQoKTsKCQkJCQkJCXZhciBhID0gaS5tYXRjaCgvKD86XGR7MTN9fFxkezEwfXxcZHs4fSkvZ2kpOwoJCQkJCQkJaSA9IG51bGwgIT0gYSA/IGFbMF0gOiAiIgoJCQkJCQl9IGNhdGNoIChvKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKG8pLCBpID0gIiIKCQkJCQkJfQoJCQkJCQlpZiAoIiIgPT0gaSkgdHJ5IHsKCQkJCQkJCWkgPSByKCcuYm9vay1pbmZvIHNwYW46Y29udGFpbnMoIkkiKScpLm5leHQoKS5lcSgwKS50ZXh0KCk7CgkJCQkJCQl2YXIgYSA9IGkubWF0Y2goLyg/OlxkezEzfXxcZHsxMH18XGR7OH0pL2dpKTsKCQkJCQkJCWkgPSBudWxsICE9IGEgPyBhWzBdIDogIiIKCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhvKSwgaSA9ICIiCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUubmFtZSA9IHQsIGUuaXNibiA9IGksIGUKCQkJCQl9LAoJCQkJCSJzdW5pbmctc25ib29rIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLmJyaWVmLWluZm8gaDEgc3Ryb25nIikudGV4dCgpLCBlLmlzYm4gPSByKCIucGFybS1pc2JuIHNwYW4uYXR0ci12IikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQkic3VuaW5nLWRnZiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gZS5nZXRQcm9kdWN0SW5mbygpOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGkgPSByKCIuZGV0YWlsLWZpcnN0IGgxLnRpdGxlIGEiKS5lcSgwKTsKCQkJCQkJCWlmICh0Lm5hbWUgPSByKCIuZGV0YWlsLWZpcnN0IGgxLnRpdGxlIGEgc3BhbiBzdHJvbmciKS50ZXh0KCksIG4uaHJlZiA9IGkuYXR0cigiaHJlZiIpLCBuLnNpdGUgPSAic3VuaW5nIiwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIG4uaHJlZiB8fCAiIiA9PSBuLmhyZWYpIHQudXNlbGVzcyA9ICEwOwoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJdmFyIG8gPSBhLmlzUHJvZHVjdFBhZ2UoKTsKCQkJCQkJCQlvIHx8ICh0LnVzZWxlc3MgPSAhMCkKCQkJCQkJCX0KCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhzKSwgdC51c2VsZXNzID0gITAKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJInN1bmluZy1xaWFuZyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHAoIi5wcm9kdWN0LW1haW4tdGl0bGUgaDEgYSIsIDAsICJzdW5pbmciKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCXZhciB0ID0gcigiI2NhdGVudHJ5IikudmFsKCk7CgkJCQkJCQl0ICYmIChuLmhyZWYgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgdCArICJfLmh0bWwiKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCSJzdW5pbmctcGFpIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaCgiaW5wdXRbbmFtZT1yZXR1cm5VUkxdIiwgMCwgInZhbHVlIiwgInN1bmluZyIpLAoJCQkJCQkJdCA9IHIoIi5mYi1tYWluLXRpdGxlIGEiKS50ZXh0KCksCgkJCQkJCQlpID0gIiIsCgkJCQkJCQlhID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQlhID0gcigiLmZiLW1haW4tdGl0bGUgYSIpLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoIChvKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKG8pCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWkgPSByKCcjdG90YWwgZHQ6Y29udGFpbnMoIkkiKScpLm5leHQoKS5lcSgwKS50ZXh0KCk7CgkJCQkJCQl2YXIgcyA9IGkubWF0Y2goLyg/OlxkezEzfXxcZHsxMH18XGR7OH0pL2dpKTsKCQkJCQkJCWkgPSBudWxsICE9IHMgPyBzWzBdIDogIiIKCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhvKQoJCQkJCQl9CgkJCQkJCXJldHVybiBlLm5hbWUgPSB0LCBlLmlzYm4gPSBpLCBlLnVybCA9IGEsIGUKCQkJCQl9LAoJCQkJCWNvbzg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3Byb2R1Y3RuYW1lIGgxIikuY2hpbGRyZW4oInN0cm9uZyIpLmVxKDApLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWx1c2VuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXVybDogImh0dHA6Ly93d3cubHVzZW4uY29tL1Byb2R1Y3QvUHJvZHVjdEluZm8uYXNweD9pZD0iICsgcigiI1Byb2R1Y3RJZCIpLnZhbCgpLAoJCQkJCQkJbmFtZTogcigiaDEuZ29vZHNuYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJImdvbWUtcnVzaGJ1eSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJZSA9IHIoIi5waWMgYSIpLmVxKDApLmF0dHIoImhyZWYiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LWluZm8gLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXVybDogZQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnb21laG9uZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5wcmljZSA9IHIoIiNwcmRQcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdLCBlLm5hbWUgPSByKCIucHJkbWFpbiAucHJkdGl0IikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQlnb21lOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cucHJkSW5mbywKCQkJCQkJCXQgPSBkKCksCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gcigidGl0bGUiKS5odG1sKCk7CgkJCQkJCWlmIChpID0gcigiLnByZHRpdCBoMSIpLnRleHQoKSwgdC5uYW1lID0gaSwgdC5pc2JuID0gbiwgdC5wcmljZSA9IHIoIiNwcmRQcmljZSIpLnRleHQoKSwgIiIgPT0gaSAmJiAodC5uYW1lID0gZSAmJiBlLnByZE5hbWUpLCAiIiA9PSB0LnByaWNlICYmICh0LnByaWNlID0gZSAmJiBlLnByaWNlKSwgdC5icmFuZF9zdHJpbmcgPSBlICYmIGUuYnJlYWROYW1lLCB0Lml0ZW1JZCA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL2dvbWVcLmNvbVwuY25cLyhbQS1aMC05XSspLS8pWzFdLCB0LmNhdF9pZCA9IGUgJiYgZS5jYXRJZCwgdC53ZWJzaXRlID0gImdvbWUiLCB0LnBpYyA9IHIoIi5waWMtc21hbGwgdWwgbGkgaW1nIikuZXEoMCkuYXR0cigic3JjIiksICF0LmNhdF9pZCkgewoJCQkJCQkJdmFyIGEgPSByKCIubG9jYWwgYSIpLmVxKDMpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXQuY2F0X2lkID0gYS5tYXRjaCgvY2F0XGQrLykgJiYgYS5tYXRjaCgvY2F0XGQrLylbMF0KCQkJCQkJfQoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJImdvbWUtcSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoImgxLnRpdGxlIikudGV4dCgpLCBlLnVybCA9IHIoIi5wcm9fbGluayIpWzBdLmhyZWYsIGUKCQkJCQl9LAoJCQkJCSJnb21lLXRhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5wcmR0aXQiKS50ZXh0KCksIGUucHJpY2UgPSBwYXJzZUludChyKCIjcHJkUHJpY2UiKS50ZXh0KCkubWF0Y2goL1swLTldKy8pWzBdKSwgZQoJCQkJCX0sCgkJCQkJImdvbWUtdHVhbiI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUudXJsID0gcigiLmNvbXBhcmUtbGluayIpLmF0dHIoImhyZWYiKSwgZS5uYW1lID0gcigidGl0bGUiKS5odG1sKCksIGUucHJpY2UgPSByKCIjc2FsZVByaWNlIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCXIoIiNwcm9kdWN0SWQiKS5sZW5ndGggPyB0ID0gcigiI3Byb2R1Y3RJZCIpLnZhbCgpIDogcigiI3Byb2R1Y3RDb2RlIikubGVuZ3RoID8gdCA9IHBhcnNlSW50KHIoIiNwcm9kdWN0Q29kZSIpLnRleHQoKS5zbGljZSgwLCAtMSkpIDogcigiI21haW5Qcm9kdWN0SWQiKS5sZW5ndGggPyB0ID0gcigiI21haW5Qcm9kdWN0SWQiKS52YWwoKSA6IHIoIi5zcGVjaWZpY19kZXRhaWwgcCBzcGFuIikubGVuZ3RoICYmICh0ID0gcGFyc2VJbnQocigiLnNwZWNpZmljX2RldGFpbCBwIHNwYW4iKS50ZXh0KCkubWF0Y2goL1xkKyQvKVswXS5zbGljZSgwLCAtMSkpKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdmFyIGEgPSByKCIjcHJvZHVjdE1haW5OYW1lIikudGV4dCgpLAoJCQkJCQkJbyA9IGEuaW5kZXhPZigiPCIpOwoJCQkJCQlvID4gMCAmJiAoYSA9IGEuc3Vic3RyKDAsIG8pKSwgIiIgPT0gYSAmJiAoYSA9IHIoIi5tYWluX2luZm9fY29uIHAucHJpY2UiKS5wcmV2KCkuZXEoMCkudGV4dCgpKSwgIiIgPT0gYSAmJiAoYSA9IHIoIi5wcm9fdGl0IikudGV4dCgpKTsKCQkJCQkJdmFyIHMgPSByKCcjcHJvZERldGFpbENvdGVudERpdiBkZDpjb250YWlucygiSVNCTiIpJykudGV4dCgpLnN1YnN0cig1KTsKCQkJCQkJcyA9IHIudHJpbShzKTsKCQkJCQkJdmFyIGwgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9pdGVtXC8oWzAtOV17NSw5fSkvKTsKCQkJCQkJcmV0dXJuIGUuaXRlbUlkID0gbCAmJiBsWzFdLCBlLmltZyA9IHIoIiNqc3Byb0NydW1iIC5tQm94IGIgaW1nIikuZXEoMCkuYXR0cigic3JjIiksIGUuYnJhbmRfc3RyaW5nID0gcigiI2JyYW5kTmFtZSIpLnZhbCgpLCBlLnByaWNlID0gcigiI2N1cnJlbnRfcHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXSsvLCAiIiksIGUuY2F0X2lkID0gcigiI2NhdGVnb3J5SWQiKS52YWwoKSwgZS5pc2JuID0gcywgZS5uYW1lID0gYSwgZS5pZCA9IHQsIGUucGljID0gZS5pbWcsIGUud2Vic2l0ZSA9ICJ5aGQiLCBlCgkJCQkJfSwKCQkJCQkieWloYW9kaWFuLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIiwKCQkJCQkJCXQgPSAiIiwKCQkJCQkJCWkgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUgPSByKCIjZGV0YWlsRGl2IGgyIikuZXEoMCkudGV4dCgpLCB0ID0gcigiI3Byb2R1Y3RJZCIpLnZhbCgpLCAiIiA9PSB0ICYmICh0ID0gcigiI21haW5Qcm9kdWN0SWQiKS52YWwoKSkKCQkJCQkJfSBjYXRjaCAoYSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhhKQoJCQkJCQl9CgkJCQkJCSIiID09IGUgJiYgKGUgPSByKCJ0aXRsZSIpLnRleHQoKS5yZXBsYWNlKC8uezJ95Zui6LStXzHlj7flm6JfMeWPt+W6l+WumOe9kS8sICIiKSk7CgkJCQkJCXZhciBvID0gcigiI3ByaWNlbm93IikudGV4dCgpOwoJCQkJCQlyZXR1cm4gaSA9ICJodHRwOi8vaXRlbS55aGQuY29tL2l0ZW0vIiArIHIoIiNwcm9kdWN0TWVyY2FudElkIikudmFsKCksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCWlkOiB0LAoJCQkJCQkJdXJsOiBpLAoJCQkJCQkJcHJpY2U6IG8KCQkJCQkJfQoJCQkJCX0sCgkJCQkJd29tYWk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQl2YXIgdCA9IHIoIi5tYWluX2RldGFpbCIpLmVxKDApLmh0bWwoKS5tYXRjaCgvdmFyIF90aXRsZSA9ICIoW14iXSspIi8pOwoJCQkJCQkJZS5uYW1lID0gdFsxXQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpLCBlLm5hbWUgPSAiIgoJCQkJCQl9CgkJCQkJCWlmIChlLnByaWNlID0gcigiLmJ1eVByaWNlIikudGV4dCgpLCAiIiA9PSBlLm5hbWUpIHRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIuV3JhcFRpdCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHdpbmRvdy5ydFRhZy5kYXRhLmVjb21fdmlldy5wcm9kWzBdLnBfbmFtZSwgZS5wcmljZSA9IHdpbmRvdy5ydFRhZy5kYXRhLmVjb21fdmlldy5wcm9kWzBdLnBfcHJpY2UsIGUuYnJhbmRfc3RyaW5nID0gd2luZG93LnJ0VGFnLmRhdGEuZWNvbV92aWV3LnByb2RbMF0ucF9icmFuZAoJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCWNvb2NhYTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiAi6YW35byAICIgKyByKCIucHJvSGVhZGVyIGgxIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxleW91OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIjYmFzZUluZm9EaXYgaDMiKS50ZXh0KCksIGUucHJpY2UgPSByKCIuaXRlbV9ybWIgLmZvbnRfbnVtIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQlzaG9waW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIudHJpbShyKCIuY3J1bWJzIikudGV4dCgpKSwKCQkJCQkJCXQgPSByLnRyaW0ocigiLnByb2R1Y3QtbGlzdCBoMiIpLnRleHQoKSk7CgkJCQkJCXJldHVybiBlID0gZS5yZXBsYWNlKC8oPzpcdTVmNTNcdTUyNGRcdTRmNGRcdTdmNmV8XHU5OTk2XHU5ODc1fC0pLywgIiIsIGUpLCB7CgkJCQkJCQluYW1lOiBlICsgIiAiICsgdCwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXhpdTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigiLnBfdGl0bGUgc3BhbiBoMSIpLnRleHQoKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkieGl1LXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi54aXRfeHF6Z29uZyBoMiIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXZqaWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnNwLXNpbmdsZU5hbWUgLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjdjdiI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLm1haW5fcmlnaHRfdG9wIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJwLnRvcF9uYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3VvcGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI3BfbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW5vNTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnBhcnQwMSAucDAxX3IgaDIiKS5odG1sKCk7CgkJCQkJCXJldHVybiBlLmluZGV4T2YoIjwiKSA+IDAgJiYgKGUgPSBlLnN1YnN0cigwLCBlLmluZGV4T2YoIjwiKSkpLCB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2FzYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnByb2R1Y3QtdGl0bGVzIikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNwcm9kdWN0X2luZm9ybWF0aW9uIC5hY3Rpb24tcHJpYyIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWRoYzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoZWFkIHRpdGxlIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjlkYWRhbyI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByYSBoMiIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1ldGFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5waWJfdGl0bGVfZGV0YWlsIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWt6ajM2NTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigidGl0bGUiKS50ZXh0KCksCgkJCQkJCQl0ID0gZS5pbmRleE9mKCJfIik7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLnNsaWNlKDAsIHQpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW51YmlhOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJIiIgPT0gZSAmJiAoZSA9IHIoIiNzdWJOYXYgLnN1Yi1sb2dvIikuZXEoMCkudGV4dCgpKTsKCQkJCQkJdmFyIHQgPSByKCIucHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ25jOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNwcm9kdWN0LXRpdGxlIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcmljZS1yZWd1bGFyIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLykgJiYgcigiLnByaWNlLXJlZ3VsYXIiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVswXQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5bWF0b3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIm1ldGFbbmFtZT1kZXNjcmlwdGlvbl0iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQl0ID0gZS5pbmRleE9mKCLigJ0iKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUuc2xpY2UoMSwgdCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJa2FvbGE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtdGl0bGUiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLmN1cnJlbnRQcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMzYwa3hyIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnJpZ2h0LWludHJvIGgyIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gZSA9IGUuaW5kZXhPZigiPCIpID4gMCA/IGUuc3Vic3RyKDAsIGUuaW5kZXhPZigiPCIpKSA6IGUsIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsaWtlZmFjZTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudEN0biBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXF4aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0X2JvZHkxX3JpZ2h0X3RpdGxlIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZGlkYW1hbGw6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXlhb2RpYW4xMDA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmluZm9ib3hoZWFkZXIgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsaWppYWJhYnk6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiN0eHRwcm9uYW1lIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gKCJ1bmRlZmluZWQiID09IHR5cGVvZiBlIHx8ICIiID09IGUpICYmIChlID0gcigiI2xibF9wcm9uYW1lIikudGV4dCgpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSI5OXJlYWQiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLmlzYm4gPSByKCdsaTpjb250YWlucygi5Lqn5ZOB5p2h56CBIiknKS5odG1sKCksIG51bGwgPT0gZS5pc2JuIHx8ICJ1bmRlZmluZWQiID09IHR5cGVvZiBlLmlzYm4gfHwgIiIgPT0gZS5pc2JuID8gZS5pc2JuID0gIiIgOiBlLmlzYm4gPSBlLmlzYm4uc3Vic3RyKDcpLCBlCgkJCQkJfSwKCQkJCQkiY2hpbmEtcHViIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJoMS5ibGFjazE1YyIpLnRleHQoKSwKCQkJCQkJCWlzYm46IHIoJ2xpOmNvbnRhaW5zKCJJU0JOIiknKS5jaGlsZHJlbigic3Ryb25nIikuZXEoMCkuaHRtbCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJvb2tzY2hpbmE6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi50aGlzLXBpYyIpLnByZXYoKS50ZXh0KCksIGUubmFtZSA9IHIudHJpbShlLm5hbWUpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCksIGUubmFtZSA9ICIiCgkJCQkJCX0KCQkJCQkJdHJ5IHsKCQkJCQkJCWUuaXNibiA9IHIoJ3RyOmNvbnRhaW5zKCLlh7rniYjml7bpl7TvvJoiKScpLmNoaWxkcmVuKCkuZXEoMSkudGV4dCgpLCBlLmlzYm4gPSByLnRyaW0oZS5pc2JuKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlLmlzYm4gPSAiIgoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQkiYm9va3NjaGluYS10dWFuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5uYW1lID0gcigiLnRpdHdvcmQiKS50ZXh0KCkubWF0Y2goL+OAiihbXuOAi10rKS8pWzFdLCBlLnByaWNlID0gcigiLnByaWNldGltZSAucHJpZ2h0IC5NYmlnIikudGV4dCgpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJZS5pc2JuID0gcignLmNvbW1lbnRzOmNvbnRhaW5zKCJJU0JOIiknKS50ZXh0KCkubWF0Y2goL0lTQk7vvJooWzAtOV0rKS8pWzFdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCksIGUuaXNibiA9ICIiCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGUuaXNibikgdHJ5IHsKCQkJCQkJCWUuaXNibiA9IHIoIi5jb21tZW50cyIpLnRleHQoKS5tYXRjaCgvWzAtOV17MTN9LylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQllZmVpaHU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJZS5uYW1lID0gcigiLnNoYXJlX3RpdGxlIGVtIikudGV4dCgpOwoJCQkJCQl2YXIgdCA9IHIoIi5ib3hfd3JhcCAucHJpY2UgLmEgcCIpLnRleHQoKS5tYXRjaCgvWzAtOV0rLyk7CgkJCQkJCXJldHVybiB0ICYmIChlLnByaWNlID0gdFswXSksIGUKCQkJCQl9LAoJCQkJCXlpbnRhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucC10aXQiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIiwKCQkJCQkJCXByaWNlOiByKCIucWQtbnVtIikudGV4dCgpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXVyY29zbWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RJbmZvcm1hdGlvblRleHQgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdHJhd2JlcnJ5bmV0OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LWZyYW1lIGgxIikudGV4dCgpICsgcigiLnByb2R1Y3QtZnJhbWUgaDIiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsdWNlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5Qcm9kdWN0X0RldGFpbCB1bCIpLmNoaWxkcmVuKCJsaSIpLmVxKDApLmNoaWxkcmVuKCJwIikuZXEoMCkudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJazEyMTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIubmV3cHJvZHVjdG5hbWUwIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaGFwcGlnbzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZGV0YWlsX3RvcCAuZGV0YWlsX3RpdCAiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiLnByaWNlX25vdyIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnYXA6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3QtbmFtZSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW1pc3NsZWxlOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNnb29kc19uYW1lIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJYWxsM2M6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmJ1eWluZm8gaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlpZGFwaG5lOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi50aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJpbmdnbzogZnVuY3Rpb24oKSB7CgkJCQkJCWZvciAodmFyIGUgPSByKCIjcE5hbWUgaDEiKS5odG1sKCksIHQgPSBlLmxlbmd0aCwgbiA9IDA7IHQgPiBuICYmICI8IiAhPSBlW25dOyBuKyspOwoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogZS5zdWJzdHIoMCwgbiksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkidGFvYmFvLWp1IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IC9pdGVtX2lkPShcZCspL2dpLmV4ZWMobG9jYXRpb24uaHJlZik7CgkJCQkJCXJldHVybiBlLmlkID0gdCAmJiAyID09IHQubGVuZ3RoICYmIHRbMV0sIGUubmFtZSA9IHIudHJpbShyKCIubWFpbi1ib3ggaDIiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQl0bWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpLAoJCQkJCQkJdCA9IHIoIi5hdHRyaWJ1dGVzLWxpc3QgdWwiKS5odG1sKCksCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gIiI7CgkJCQkJCW51bGwgPT0gdCAmJiAodCA9IHIoIi5hdHRyaWJ1dGVzLWxpc3QiKS5odG1sKCkpLCB0ID0gdC5yZXBsYWNlKC8oPzo8XCFcLVwtW15cLV0qXC1cLT58PGxpW14+XSo+fFwgXCApL2dpLCAiIiksIHQgPSB0LnJlcGxhY2UoLyZuYnNwOy9naSwgIiAiKSwgdCA9IHQucmVwbGFjZSgvPFwvbGlbXj5dKj4vZ2ksICJ8IiksIHQgPSB0LnJlcGxhY2UoL1xuL2dpLCAiIik7CgkJCQkJCXZhciBhID0gdC5tYXRjaChuZXcgUmVnRXhwKC9cfChcdTU0YzFcdTcyNGMoPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAoYSkKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgYS5sZW5ndGg7IG8rKykgbiArPSBhW29dICsgInwiOwoJCQkJCQl2YXIgcyA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvKCg/Olx1N2NmYlx1NTIxN3xcdThkMjdcdTUzZjd8XHU1NzhiXHU1M2Y3fFx1NmIzZVx1NTNmNykoPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAocykKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgcy5sZW5ndGg7IG8rKykgbiArPSBzW29dICsgInwiOwoJCQkJCQl2YXIgbCA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvKElTQk5bXlw6XHVmZjFhXSooPzpcOnxcdWZmMWEpW15cfF0rKS9naSkpOwoJCQkJCQlpZiAobCkKCQkJCQkJCWZvciAodmFyIG8gPSAwOyBvIDwgbC5sZW5ndGg7IG8rKykgbiArPSBsW29dICsgInwiOwoJCQkJCQllLnNrZXl3b3JkID0gbiwgZS5jYXRfaWQgPSAiIjsKCQkJCQkJdmFyIGMgPSByKCIjdGItYmVhY29uLWFwbHVzIikuYXR0cigiZXhwYXJhbXMiKTsKCQkJCQkJaWYgKGMgPSBjICYmIGMubWF0Y2goL2NhdGVnb3J5PWl0ZW0lNWYoXGQrKSYvKSwgYyA9IGMgJiYgY1sxXSwgZS5jYXRfaWQgPSBjLCAiIiA9PSBlLmNhdF9pZCkgewoJCQkJCQkJdmFyIGMgPSByKCIjZGV0YWlsLXJlY29tbWVuZC12aWV3ZWQiKS5hdHRyKCJkYXRhLWNhdGlkIik7CgkJCQkJCQllLmNhdF9pZCA9IGMKCQkJCQkJfQoJCQkJCQllLnJvb3RfaWQgPSByKCcjSl9Gcm1CaWQgaW5wdXRbbmFtZT0icm9vdENhdElkIl0nKS52YWwoKSwgZS5waWMgPSByKCIjSl9JbWdCb290aCIpLmF0dHIoInNyYyIpLCAtMSA9PT0gZS5waWMuaW5kZXhPZigiaHR0cHM6IikgJiYgKGUucGljID0gImh0dHA6IiArIGUucGljKTsKCQkJCQkJdmFyIHAgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9bPyZdaWQ9KFxkKykvKTsKCQkJCQkJcCA9IHAgJiYgcFsxXTsKCQkJCQkJdmFyIGggPSByKCJtZXRhW25hbWU9J21pY3Jvc2NvcGUtZGF0YSddIikuYXR0cigiY29udGVudCIpLAoJCQkJCQkJdSA9IGggJiYgaC5tYXRjaCgvdXNlcmlkPShcZCspLyk7CgkJCQkJCWkgPSB1WzFdOwoJCQkJCQl2YXIgbSA9IHIoIiNKX1ByaWNlIikudGV4dCgpOwoJCQkJCQlyZXR1cm4gbSB8fCAobSA9IHIoIiNKX1N0clByaWNlIikudGV4dCgpKSwgbSB8fCAobSA9IHIoIi50bS1wcm9tby1wcmljZSAudG0tcHJpY2UiKS50ZXh0KCkpLCBtIHx8IChtID0gcigiI0pfU3RyUHJpY2VNb2RCb3ggLnRtLXByaWNlIikudGV4dCgpKSwgbSB8fCAobSA9IHIoIi50bS1wcmljZSIpLnRleHQoKSksIGUuc2hvcF9uYW1lID0gcigiLnNob3BrZWVwZXIgLnJpZ2h0IGEiKS50ZXh0KCksIGUuc2hvcF9hZGRyZXMgPSByKCIubG9jdXMgLnJpZ2h0IikudGV4dCgpLnJlcGxhY2UoLyg/Olx0fFxufFxzKS9naSwgIiIpLCBlLnByaWNlID0gbSwgZS51c2VyaWQgPSBpLCBlLm5hbWUgPSByKCIjSl9EZXRhaWxNZXRhIC50Yi1kZXRhaWwtaGQgaDEiKS50ZXh0KCkucmVwbGFjZSgvXG4vZywgIiIpLnRyaW0oKSwgZS5pdGVtSWQgPSBwLCBlCgkJCQkJfSwKCQkJCQl0YW9iYW86IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKSwKCQkJCQkJCXQgPSByKCIuYXR0cmlidXRlcy1saXN0IHVsIikuaHRtbCgpLAoJCQkJCQkJbiA9ICIiLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQludWxsID09IHQgJiYgKHQgPSByKCIuYXR0cmlidXRlcy1saXN0IikuaHRtbCgpKSwgdCA9IHQucmVwbGFjZSgvKD86PFwhXC1cLVteXC1dKlwtXC0+fDxsaVtePl0qPnxcIFwgKS9naSwgIiIpLCB0ID0gdC5yZXBsYWNlKC8mbmJzcDsvZ2ksICIgIiksIHQgPSB0LnJlcGxhY2UoLzxcL2xpW14+XSo+L2dpLCAifCIpLCB0ID0gdC5yZXBsYWNlKC9cbi9naSwgIiIpOwoJCQkJCQl2YXIgYSA9IHQubWF0Y2gobmV3IFJlZ0V4cCgvXHwoXHU1NGMxXHU3MjRjKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKGEpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGEubGVuZ3RoOyBvKyspIG4gKz0gYVtvXSArICJ8IjsKCQkJCQkJdmFyIHMgPSB0Lm1hdGNoKG5ldyBSZWdFeHAoLygoPzpcdTdjZmJcdTUyMTd8XHU4ZDI3XHU1M2Y3fFx1NTc4Ylx1NTNmN3xcdTZiM2VcdTUzZjcpKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKHMpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IHMubGVuZ3RoOyBvKyspIG4gKz0gc1tvXSArICJ8IjsKCQkJCQkJdmFyIGwgPSB0Lm1hdGNoKG5ldyBSZWdFeHAoLyhJU0JOW15cOlx1ZmYxYV0qKD86XDp8XHVmZjFhKVteXHxdKykvZ2kpKTsKCQkJCQkJaWYgKGwpCgkJCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGwubGVuZ3RoOyBvKyspIG4gKz0gbFtvXSArICJ8IjsKCQkJCQkJZS5za2V5d29yZCA9IG4sIGUuY2F0X2lkID0gcigiI0pfUGluZSIpLmF0dHIoImRhdGEtY2F0aWQiKSwgZS5yb290X2lkID0gcigiI0pfUGluZSIpLmF0dHIoImRhdGEtcm9vdGlkIiksIGUucGljID0gcigiI0pfSW1nQm9vdGgiKS5hdHRyKCJzcmMiKTsKCQkJCQkJdmFyIGMgPSByKCJtZXRhW25hbWU9J21pY3Jvc2NvcGUtZGF0YSddIikuYXR0cigiY29udGVudCIpLAoJCQkJCQkJcCA9IGMgJiYgYy5tYXRjaCgvdXNlcmlkPShcZCspLyk7CgkJCQkJCWkgPSBwICYmIHBbMV07CgkJCQkJCXZhciBoID0gcigiI0pfUHJpY2UiKS50ZXh0KCk7CgkJCQkJCXJldHVybiBlLnNob3BfbmFtZSA9IHIoIi5zaG9wa2VlcGVyIC5yaWdodCBhIikudGV4dCgpLCBlLnNob3BfYWRkcmVzID0gcigiLmxvY3VzIC5yaWdodCIpLnRleHQoKS5yZXBsYWNlKC8oPzpcdHxcbnxccykvZ2ksICIiKSwgZS5ubmlkID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvWz8mXWlkPShbMC05XSspLykgJiYgbG9jYXRpb24uaHJlZi5tYXRjaCgvWz8mXWlkPShbMC05XSspLylbMV0sIGUucHJpY2UgPSBoLCBlLm5ld3RpdGxlID0gcigiI0pfVGl0bGUgLnRiLW1haW4tdGl0bGUiKS50ZXh0KCkudHJpbSgpLCBlLml0ZW1JZCA9IGUubm5pZCwgZS51c2VyaWQgPSBpLCBlCgkJCQkJfSwKCQkJCQkidGFvYmFvLXNwdSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbCAuZGV0YWlsLWhkIGgzIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJeGlqaWU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmRldGFpbF9zaF9yaWdodCBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNhb21laXBhaTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjcHJvX25hbWUgaDIiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlkYWh1b3poYW46IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb3BlcnR5IGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaHVvbGlkYTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuaDFfdGl0bGUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTJkaWFuIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZ29vZHN0aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCTExMTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLmRldGFpbG5hdiBzcGFuIikubGFzdCgpLnRleHQoKSwgZS5wcmljZSA9IHdpbmRvdy5fQkZELkJGRF9JTkZPLnByaWNlLCBlCgkJCQkJfSwKCQkJCQlkYW95YW86IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RfMV80IC5kX3RhYmxlXzMgLmZvbnRfMDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlkb3ViYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHIoIiNpbmZvIikuaHRtbCgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIGEgPSB0LmluZGV4T2YoIklTQk46IiksCgkJCQkJCQkJbyA9IHQubGVuZ3RoOwoJCQkJCQkJZm9yIChhICs9IDEyOyBvID4gYTsgYSsrKSB0W2FdID49ICIwIiAmJiB0W2FdIDw9ICI5IiAmJiAoaSArPSB0W2FdKQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGUpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09PSBpKSB7CgkJCQkJCQl2YXIgYyA9IHIoIiNjb250ZW50IC5pbmRlbnQiKS5lcSgxKS50ZXh0KCkubWF0Y2goL2lzYm46IChcZCspLyk7CgkJCQkJCQljICYmIChpID0gY1sxXSwgaSA9IHMoaSkpCgkJCQkJCX0KCQkJCQkJdmFyIHAgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpLAoJCQkJCQkJaCA9IHAubWF0Y2goL2d3ZF9pc2JuPShcZCspLyk7CgkJCQkJCWlmICgiIiA9PSBpKSB0cnkgewoJCQkJCQkJaSA9IGhbMV0KCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhlKSwgaSA9ICIiCgkJCQkJCX0KCQkJCQkJdmFyIHUgPSBkKCk7CgkJCQkJCXJldHVybiB1LmlzYm4gPSBpLCB1CgkJCQkJfSwKCQkJCQkiZG91YmFuLWRvbmd4aSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUudGl0bGUgPSByKCIuY29tbW9kaXR5LW5hbWUgYSIpLnRleHQoKSwgZQoJCQkJCX0sCgkJCQkJaXQxNjg6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnRpdGxlMTAwIGgxIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcGNvbmxpbmU6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByby10aXQgLm5hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlwY3BvcDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGl0MSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXlva2E6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnBJbmZvX2MyX2x1IGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJIjU1YmJzIjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuY3Bqc3JpZ2h0X25hbWUgaDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvbmx5bGFkeTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuYm5uYWVyX3RleHQiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMjRkcSI6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLmdvb2RzbmFtZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWxpbmdzaGk6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiI2RldGFpbF9iYiBoMyIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCW9ubHl0czogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjYnJlYWQgLmxhc3QiKS5lcSgxKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl3aW54dWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAiIjsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUgPSByKCdsaTpjb250YWlucygiSSBTIEIgTu+8miIpJykudGV4dCgpLnN1YnN0cig4KQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpLCBlID0gIiIKCQkJCQkJfQoJCQkJCQl2YXIgaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoIm1ldGFbbmFtZT0na2V5d29yZHMnXSIpLmF0dHIoImNvbnRlbnQiKQoJCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKHQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGksCgkJCQkJCQlpc2JuOiBlCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWJlaWZhYm9vazogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiI0xhYmVsSVNCTiIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIGUgPSBlLnJlcGxhY2UoLy0vZywgIiIpLCB7CgkJCQkJCQluYW1lOiByKCIjTGFiZWxUaXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46IGUKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInNpbmEtdGVjaCI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi56Y2JsazAyIGgyIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gKCJ1bmRlZmluZWQiID09IHR5cGVvZiBlIHx8ICIiID09IGUgfHwgbnVsbCA9PSBlKSAmJiAoZSA9IHIoIi5QYXJ0QVRpdGxlIGgyIikuaHRtbCgpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGUgfHwgIiIgPT0gZSB8fCBudWxsID09IGUpICYmIChlID0gcigiLkluZm8gaDIiKS5odG1sKCksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIucHJvZHVjdC1uYW1lIGgxIikuaHRtbCgpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGUgfHwgIiIgPT0gZSB8fCBudWxsID09IGUpICYmIChlID0gcigidGl0bGUiKS5odG1sKCkuc3Vic3RyKDAsIHIoInRpdGxlIikuaHRtbCgpLmluZGV4T2YoIl8iKSkpKSkpLCBlLmluZGV4T2YoIjwiKSA+IDAgJiYgKGUgPSBlLnN1YnN0cigwLCBlLmluZGV4T2YoIjwiKSkpLCBlID0gZS5yZXBsYWNlKCImbmJzcDsiLCAiIiksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkic2luYS1iYWJ5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuZHBfaW5mb190aXRsZSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJzaW5hLWVsYWRpZXMiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5ibGswMSBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJzb2h1LWl0IjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIudGlsIGgyIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInNvaHUtd29tZW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5yIGgyIHNwYW4iKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTYzLWRpZ2kiOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIuY29sQSBoMyIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCBudWxsID09IGUgfHwgIiIgPT0gZSkgJiYgKGUgPSByKCIuY29sQSBoMSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkiMTYzLWxhZHkiOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxib3gtbWFpbiBoMSIpLnRleHQoKSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCSJxcS1kaWdpIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiLnRvcF9oZCBoMiIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIuZm9udDA3NTEgc3BhbiIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkicXEtaGVhIjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcigiI3BkU2hvdyBoMSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSB8fCAiIiA9PSBlIHx8IG51bGwgPT0gZSkgJiYgKGUgPSByKCIjcGRTaG93IC5sb25nTmFtZSIpLnRleHQoKSksIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQkicXEtbGFkeSI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIi5wcm9faW5mbyAudGl0bGUiKS50ZXh0KCk7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJdmlwc2hvcDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGU7CgkJCQkJCQkJaWYgKHdpbmRvdy5PX3ZpZXdlZCkgZSA9IHsKCQkJCQkJCQkJY2F0X2lkOiB3aW5kb3cuT192aWV3ZWQuY2F0ZWdvcnlfaWQsCgkJCQkJCQkJCWNhdF9uYW1lOiB3aW5kb3cuT192aWV3ZWQuY2F0ZWdvcnlfbmFtZQoJCQkJCQkJCX07CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciB0ID0gcigiI0otYm90dG9tLWFkQ29kZSIpLm5leHQoKS50ZXh0KCk7CgkJCQkJCQkJCXQgfHwgKHQgPSByKCIjSl90b3BiYXJfcG9wX3RlbXBsYXRlIikubmV4dCgpLnRleHQoKSksIHQgPSAvdmFyIE9fdmlld2VkID0geyhbXHNcU10qPyl9Ly5leGVjKHQpLCB0ICYmICh0ID0gdFsxXSk7CgkJCQkJCQkJCXZhciBuID0gLydjYXRlZ29yeV9pZCcgOiAnKFxkKyknLy5leGVjKHQpOwoJCQkJCQkJCQluICYmIChuID0gblsxXSk7CgkJCQkJCQkJCXZhciBpID0gLydjYXRlZ29yeV9uYW1lJyA6ICcoLio/KScvLmV4ZWModCk7CgkJCQkJCQkJCWkgJiYgKGkgPSBpWzFdKSwgZSA9IHsKCQkJCQkJCQkJCWNhdF9uYW1lOiBpLAoJCQkJCQkJCQkJY2F0X2lkOiBuCgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJcmV0dXJuIGUKCQkJCQkJCX0sCgkJCQkJCQl0ID0gZSgpLAoJCQkJCQkJaSA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IHIoIi5idF9sYXlvdXQgbGk6Y29udGFpbnMoJ+WVhuWTgeWQjeensCcpIC5idF9sdF9wYXJfcCIpLnRleHQoKQoJCQkJCQl9IGNhdGNoIChhKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGEpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGkpIHRyeSB7CgkJCQkJCQlpID0gci50cmltKHIoIi5wcm9faW5mbyAuZ29vZHNfcHJvdGl0IikudGV4dCgpKQoJCQkJCQl9IGNhdGNoIChhKSB7CgkJCQkJCQluLmRlYnVnICYmIGNvbnNvbGUubG9nKGEpCgkJCQkJCX0KCQkJCQkJaWYgKCIiID09IGkpIHRyeSB7CgkJCQkJCQlpID0gcigiLmJ0X3RpdGxlIikudGV4dCgpLnJlcGxhY2UoLyg/OlxufFx0fFxzKS9naSwgIiIpCgkJCQkJCX0gY2F0Y2ggKGEpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2coYSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJpY2U6IHIoIi5wYm94LXByaWNlIGVtIikudGV4dCgpLAoJCQkJCQkJbmFtZTogaSwKCQkJCQkJCWlzYm46ICIiLAoJCQkJCQkJY2F0X2lkOiB0LmNhdF9pZCwKCQkJCQkJCWNhdF9uYW1lOiB0LmNhdF9uYW1lLAoJCQkJCQkJYnJhbmRfc3RyaW5nOiByKCIucGliLXRpdGxlLWNsYXNzIGEiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJajE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3RhcmVhLXJpZ2h0LTEgSDEiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5b3Vnb3U6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5nb29kc0NvbiAgLmYxNiIpLnRleHQoKSwgIiIgPT0gZS5uYW1lICYmIChlLm5hbWUgPSByKCIuZ29vZHNDb24gaDEiKS50ZXh0KCkucmVwbGFjZSgvXHMvZywgIiIpKSwgcigiI3lpdGlhblByaWNlIikgJiYgKGUucHJpY2UgPSByKCIjeWl0aWFuUHJpY2UiKS50ZXh0KCkpLCBlCgkJCQkJfSwKCQkJCQlqeGR5ZjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIucHJvZHVjdCAucHJvX25hbWUiKS50ZXh0KCksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5YW9mYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIucHJvX3RpdGxlIikuaHRtbCgpOwoJCQkJCQlyZXR1cm4gZS5pbmRleE9mKCI8IikgPiAwICYmIChlID0gZS5zdWJzdHIoMCwgZS5pbmRleE9mKCI8IikpKSwgewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCXRpYW50aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5kZXRhaWxfbWJ4IC5jX2VkIikudGV4dCgpLAoJCQkJCQkJaXNibjogIiIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJInRpYW50aWFuLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCd0ZDpjb250YWlucygi5ZWG5ZOB5ZCN56ewIikrdGQgc3BhbicpLnRleHQoKSwgZS5wcmljZSA9IHIoIi5idXlfcHJpIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQl5aWd1bzogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByLnRyaW0ocigiLm1haW4gLmNwbmFtZSBoMSIpLnRleHQoKSksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlqaXV4aWFuOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXJldHVybiBlLm5hbWUgPSByKCIuZG1haW5Cb3ggLmRldGFpbC1kZXBpY3QgLmRlcGljdC1uYW1lIGgxIikudGV4dCgpLCAiIiA9PSBlLm5hbWUgJiYgKGUubmFtZSA9IHIoIi5kZXRhaWxOYW1lIGgyIikudGV4dCgpLnJlcGxhY2UoIijnp4HkurrlrprliLYpIiwgIiIpKSwgZS5wcmljZSA9IHIoIiNfbm93UHJpY2VTdHIiKS50ZXh0KCksIGUKCQkJCQl9LAoJCQkJCSJtZWlsZWxlLXR1YW4iOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCWUubmFtZSA9IHIoIiNKU190Z19nb29kc19uYW1lIikudGV4dCgpOwoJCQkJCQl2YXIgdCA9IHIoIiNKU19ibnJfc3RhdGUiKS50ZXh0KCkubWF0Y2goL1swLTldKy8pOwoJCQkJCQlyZXR1cm4gdCAmJiAoZS5wcmljZSA9IHRbMF0pLCBlCgkJCQkJfSwKCQkJCQllaGFpZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIi5hLXByb2R1Y3QtdGl0bGUiKS50ZXh0KCksIGUucHJpY2UgPSByKCIucHJpY2V0YWcgLmN1ci1wcmljZSIpLnRleHQoKS5tYXRjaCgvWzAtOV0rLylbMF0sIGUKCQkJCQl9LAoJCQkJCXVsZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiLnByb2R1Y3RJbmZvIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiLnByb2R1Y3RQcmljZSAucHJpY2Ugc3Ryb25nIikudGV4dCgpLCBlCgkJCQkJfSwKCQkJCQllc3ByaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJcmV0dXJuIGUubmFtZSA9IHIoIiNpdGVtTmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjcGRwUHJpY2UiKS50ZXh0KCkucmVwbGFjZSgvW++/pcKlXSsvLCAiIiksIGUKCQkJCQl9LAoJCQkJCWxpbmluZzogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQlyZXR1cm4gZS5uYW1lID0gcigiI3Byb2R1Y3RfbmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjb2ZmZXJQcmljZSAudiIpLnRleHQoKS5yZXBsYWNlKC9bXHPvv6XCpV0vZywgIiIpLCBlCgkJCQkJfSwKCQkJCQlveWVhaDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gIiI7CgkJCQkJCXRyeSB7CgkJCQkJCQllID0gcigibWV0YVtuYW1lPSdLZXl3b3JkcyddIikuYXR0cigiY29udGVudCIpCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWx2eW91bWFsbDogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCJtZXRhW25hbWU9J2tleXdvcmRzJ10iKS5hdHRyKCJjb250ZW50IiksCgkJCQkJCQlpc2JuOiAiIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsZWZlbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiLAoJCQkJCQkJdCA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJZSA9IHIudHJpbShyKCIucGF0aCIpLnRleHQoKS5zcGxpdCgiLyIpLnBvcCgpKSwgdCA9ICJodHRwOi8vcHJvZHVjdC5sZWZlbmcuY29tL3Byb2R1Y3QvIiArIHIoIiNwcm9kdWN0SWQiKS52YWwoKSArICIuaHRtbCIKCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhpKQoJCQkJCQl9CgkJCQkJCXZhciBhID0gewoJCQkJCQkJdXJsOiB0LAoJCQkJCQkJbmFtZTogZSwKCQkJCQkJCWlzYm46ICIiCgkJCQkJCX07CgkJCQkJCXJldHVybiBuLmRwLnByaWNlIHx8IChhLnByaWNlID0gcigiLmRpdHktcHJpY2UtYyIpLnRleHQoKSksIGEKCQkJCQl9LAoJCQkJCXdiaWFvOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBkKCk7CgkJCQkJCXRyeSB7CgkJCQkJCQllLm5hbWUgPSByKCIjaW5mb19vbl9zYWxlIGgxIikudGV4dCgpLCBlLnByaWNlID0gcigiI3ByaWNlIikudGV4dCgpLm1hdGNoKC9bMC05Ll0rLylbMF0KCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyh0KQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQliYW5nZ286IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGQoKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWUubmFtZSA9IHIoIi5tYnNob3BfZGV0YWlsX3BkYnJhbmQgYSIpLnRleHQoKSArIHIoIi5tYnNob3BfZGV0YWlsX3BkbmFtZSIpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIiksIGUucHJpY2UgPSByKCIjc2FsZVByaWNlVGV4dCIpLnRleHQoKS5tYXRjaCgvWzAtOS5dKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJeW9ob2J1eTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gZCgpOwoJCQkJCQl0cnkgewoJCQkJCQkJZS5wcmljZSA9IHIoIi5wcmljZS1zYWxlIikudGV4dCgpLm1hdGNoKC9bMC05LixdKy8pWzBdCgkJCQkJCX0gY2F0Y2ggKHQpIHsKCQkJCQkJCW4uZGVidWcgJiYgY29uc29sZS5sb2codCkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gZQoJCQkJCX0sCgkJCQkJc3VuZGFuOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIiNidXlfZm9ybSBkaXYuYm94PmRpdi5uZy1pbmZvPmgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIiNidXlfZm9ybSBkaXYuYm94PmRpdi5uZy1zaXplIHNwYW4ucHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJamlhZTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIjY29udGVudCBkaXYuaXRlbS1pbnRybz5kaXYucHJvcGVydHk+aDEiKS50ZXh0KCksCgkJCQkJCQlwcmljZTogcigiI2NvbnRlbnQgZGl2Lml0ZW0taW50cm8+ZGl2LnByb3BlcnR5IC5pdGVtRGV0YWlsLWl0ZW1QcmljZSBzcGFuLmotaXRlbS1ub3ctcHJpY2UiKS50ZXh0KCkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJemF6aGlwdTogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB7CgkJCQkJCQluYW1lOiByKCIuaWNfY29udGVudCBkaXYuZ3JpZF9tIGRpdi54YmFzZV9yb3cxPmgxIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5pY19jb250ZW50IGRpdi5ncmlkX20gZGl2LnhiYXNlX3JvdzIgc3Bhbi5tb2RfcHJpY2UiKS50ZXh0KCkuc3BsaXQoIu+/pSIpWzJdLnNwbGl0KCIuIilbMF0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWljcm9zb2Z0c3RvcmU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIoIiNpbm5lciBkaXYucGRwQ29udGVudD5kaXYucGRwSW5mbz4ucGRwX21vZHVsZV9pbmZvPmRpdi50aXRsZT5oMSIpLnRleHQoKSB8fCByKCIjaW5uZXIgZGl2LmNvbnRlbnQtYmxvY2sgLnJpZ2h0IGgyLnRpdGxlIikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIiNpbm5lciBkaXYucGRwQ29udGVudD5kaXYucGRwSW5mbz4ucGRwX21vZHVsZV9pbmZvPi5wcmljZUFuZFJhbms+ZGl2LnByaWNlPnNwYW4uY3VycmVudCIpLnRleHQoKSB8fCByKCIjc2VsZWN0VmFyaWFudFByb2R1Y3Qgc3Bhbi5wcmljZSIpLnRleHQoKTsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IGUsCgkJCQkJCQlwcmljZTogdAoJCQkJCQl9CgkJCQkJfSwKCQkJCQl4Z2RxOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCW5hbWU6IHIoIi5wcm9kdWN0LW1haW4gLnByb2R1Y3QtdGl0bGVzPmgyIikudGV4dCgpLAoJCQkJCQkJcHJpY2U6IHIoIi5wcm9kdWN0LW1haW4gLnByb2R1Y3QtY29uY2VybnMgbGk6Zmlyc3QgLmFjdGlvbi1wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl4dGVwOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSByKCIuZ29vZHNEZXRhaWxzQm94IC5nb29kc1ByaWNlPmR0IikudGV4dCgpLAoJCQkJCQkJdCA9IHIoIi5nb29kc0RldGFpbHNCb3ggLmdvb2RzUHJpY2UgZGQ+dWw+bGk+ZGl2OmZpcnN0PnNwYW4iKS50ZXh0KCk7CgkJCQkJCXJldHVybiBlICYmIHQgfHwgKGUgPSByKCIud3JhcHBlciAuZ3JvdXBUaXR0bGUiKS50ZXh0KCksIHQgPSByKCIud3JhcHBlciAuZ3JvdXBQcmljZUJveD5hPnNwYW4iKS50ZXh0KCkpLCB7CgkJCQkJCQluYW1lOiBlLAoJCQkJCQkJcHJpY2U6IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJbWlkZWE6IGZ1bmN0aW9uKCkgewoJCQkJCQlyZXR1cm4gewoJCQkJCQkJbmFtZTogcigiLnByb2R1Y3Rfd3JhcD4ucHJvZHVjdF9yaWdodD5oMSIpLnRleHQoKSwKCQkJCQkJCXByaWNlOiByKCIucHJvZHVjdF93cmFwPi5wcm9kdWN0X3JpZ2h0IC5wcmljZSIpLnRleHQoKQoJCQkJCQl9CgkJCQkJfQoJCQkJfTsKCQkJdC5leHBvcnRzLmdldCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBpID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCQl0cnkgewoJCQkJCXZhciBhID0gdVtvXSgpOwoJCQkJCWEub2xkUHJpY2UgPSBhLnByaWNlLCBhLnByaWNlID0gYyhhLnByaWNlKSwgYS5vbGRQcmljZSA9IGMuZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5vbGRQcmljZSksIGEuc2l0ZSA9IG8sIG51bGwgPT0gYS51cmwgJiYgKG51bGwgIT0gYS5ocmVmID8gYS51cmwgPSBhLmhyZWYgOiBhLnVybCA9IGkpCgkJCQl9IGNhdGNoIChzKSB7CgkJCQkJbi5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhzKTsKCQkJCQl2YXIgYSA9IGQoKTsKCQkJCQlhLnNpdGUgPSBvLCBhLnVybCA9IGkKCQkJCX0KCQkJCXJldHVybiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgYS51c2VsZXNzICYmIGEudXNlbGVzcyA/IG51bGwgOiAoYS5pY29uID0gYS51cmwucmVwbGFjZSgvXmh0dHBbc10/XDpcL1wvL2csICIiKSwgYS5pY29uID0gYS5pY29uLnJlcGxhY2UoL1wvLio/JC9nLCAiIiksIGEuaWNvbiArPSAiL2Zhdmljb24uaWNvIiwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBhLmlkIHx8IG51bGwgPT0gYS5pZCkgJiYgKGEuaWQgPSAiIiksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgYS5rZXl3b3JkIHx8IG51bGwgPT0gYS5rZXl3b3JkKSAmJiAoYS5rZXl3b3JkID0gIiIpLCAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEuc2tleXdvcmQgfHwgbnVsbCA9PSBhLnNrZXl3b3JkKSAmJiAoYS5za2V5d29yZCA9ICIiKSwgKCJ1bmRlZmluZWQiID09IHR5cGVvZiBhLmlzYm4gfHwgbnVsbCA9PSBhLmlzYm4pICYmIChhLmlzYm4gPSAiIiksICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgYS5uYW1lIHx8ICIiID09IGEubmFtZSkgJiYgKGEubmFtZSA9IHIoInRpdGxlIikuaHRtbCgpKSwgbi5kcCA9IGEsICFhLnByaWNlICYmIDIgPiBsID8gKGwrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQl0LmV4cG9ydHMuZ2V0KGUpCgkJCQl9LCA1MDApKSA6IGUgJiYgZSgpLCBhKQoJCQl9CgkJfSkuY2FsbChuLCBpKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCwgbiA9IDAsCgkJCQlpID0gMDsKCQkJaWYgKGUgPSBlLnRvU3RyaW5nKCksIGUubGVuZ3RoID4gMTApIHJldHVybiBlOwoJCQl2YXIgYSA9IGUuc2xpY2UoMCwgOSk7CgkJCWEgPSAiOTc4IiArIGE7CgkJCWZvciAodmFyIG8gPSAwOyBvIDwgYS5sZW5ndGg7IG8rKykgbyAlIDIgPT09IDAgPyBuICs9IE51bWJlcihhW29dKSA6IGkgKz0gTnVtYmVyKGFbb10pLCB0ID0gMTAgLSAobiArIDMgKiBpKSAlIDEwOwoJCQlyZXR1cm4gYSArPSB0LnRvU3RyaW5nKCkKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDU3KSwKCQkJCQl0ID0gbig1OCksCgkJCQkJaSA9IG4oNTkpLAoJCQkJCXIgPSBuKDE3KSwKCQkJCQlzID0gbig2OCksCgkJCQkJbCA9IChuKDI4KSwgbig5KSksCgkJCQkJYyA9IG4oMjYpLAoJCQkJCWQgPSBuKDcwKSwKCQkJCQlwID0gbig3MSksCgkJCQkJaCA9IG4oNzIpLAoJCQkJCXUgPSBuKDI3KTsKCQkJCXJldHVybiBuKDczKSwgewoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJCSJlYXNlZXllcyIgPT0gYS5zaXRlICYmIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLnRvSlNPTlN0cmluZywgbygiaHRtbCIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiXyIgKyBhLnNpdGUpLCBvKCJodG1sIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfdmVyc2lvbl8iICsgYS5mcm9tX2RldmljZSksIGEudHJpZ2dlcigidmlzaXRQYWdlIiksIGMoInZpc2l0IiksIG4oOTApKCksIGMoInBhZ2VfdmlldzoiICsgYS5zaXRlKSwgMSA9PSBhLnBhZ2VJbmZvLnR5cGUgPyAodGhpcy5zaXRlX3NlYXJjaCgpLCBhLnRyaWdnZXIoInBhZ2VUeXBlPTEiKSwgbig5MSkuaW5pdCgpKSA6IDIgPT0gYS5wYWdlSW5mby50eXBlICYmICgiMzYwYnV5IiA9PSBhLnNpdGUgJiYgImx1eW91IiAhPT0gYS5idHlwZSA/ICEgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgdCA9IGU7CgkJCQkJCQluKDUzKShmdW5jdGlvbigpIHsKCQkJCQkJCQl0LnNpdGVfZHAoKQoJCQkJCQkJfSkKCQkJCQkJfSgpIDogdGhpcy5zaXRlX2RwKCksIGEudHJpZ2dlcigicGFnZVR5cGU9MiIpKQoJCQkJCX0sCgkJCQkJaXNfdGFvYmFvOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuICJ0YW9iYW8iID09IGEuc2l0ZSB8fCAidG1hbGwiID09IGEuc2l0ZQoJCQkJCX0sCgkJCQkJZ2V0X2Jyb3dzZXJfaW5mbzogZnVuY3Rpb24oKSB7CgkJCQkJCWEud2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgYS5oZWlnaHQgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID4gMCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgImFtYXpvbiIgPT0gYS5zaXRlICYmIChhLmhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCgkJCQkJfSwKCQkJCQlnZXRUYW9iYW9JZEluZm86IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9ICIiLAoJCQkJCQkJdCA9IFtdOwoJCQkJCQlpZiAoInRhb2JhbyIgPT0gYS5zaXRlICYmIG8oIi5KX1BpY0JveCAuc2ltaWxhcnMgYSIpKSB7CgkJCQkJCQlmb3IgKHZhciBuID0gbygiLkpfUGljQm94IC5zaW1pbGFycyBhW2hyZWZdOmNvbnRhaW5zKOWQjOasvikiKSwgaSA9IG4ubGVuZ3RoLCByID0gL3VuaXFwaWQ9KFteJl0rKSY/L2ksIHMgPSAvJm5pZD0oW14mXSspJj8vaSwgbCA9IDA7IGkgPiBsOyBsKyspIHsKCQkJCQkJCQl2YXIgYyA9IHt9LAoJCQkJCQkJCQlkID0gbltsXS5ocmVmOwoJCQkJCQkJCWlmICghZCkgcmV0dXJuOwoJCQkJCQkJCXZhciBwID0gZC5tYXRjaChyKSwKCQkJCQkJCQkJaCA9IGQubWF0Y2gocyk7CgkJCQkJCQkJcCAmJiBwLmxlbmd0aCAmJiAoYy51bmlxID0gcFsxXSksIGggJiYgaC5sZW5ndGggJiYgKGMuaWQgPSBoWzFdKSwgdC5wdXNoKGMpCgkJCQkJCQl9CgkJCQkJCQllID0gIiZ1bmlxcGlkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpCgkJCQkJCX0KCQkJCQkJaWYgKCJzLnRhb2Jhby5jb20iID09IGxvY2F0aW9uLmhvc3QgJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJzYW1lc3R5bGUiKSA+IC0xICYmIGxvY2F0aW9uLmhyZWYuaW5kZXhPZigidW5pcXBpZCIpID4gLTEpIHsKCQkJCQkJCXZhciB1ID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvdW5pcXBpZD0oW14mXSspJj8vaSksCgkJCQkJCQkJbSA9IG8oIiNpMmktcmVjaXRlbSAucmVjaXRlbSAuaW5mb19faXRlbWFuY2hvciIpLAoJCQkJCQkJCWkgPSBtLmxlbmd0aCwKCQkJCQkJCQlmID0gL1s/Jl1pZD0oWzAtOV0rKS87CgkJCQkJCQl1ICYmIHUubGVuZ3RoICYmICh1ID0gdVsxXSk7CgkJCQkJCQlmb3IgKHZhciBsID0gMDsgaSA+IGw7IGwrKykgewoJCQkJCQkJCXZhciBkID0gbVtsXS5ocmVmOwoJCQkJCQkJCWlmICghZCkgcmV0dXJuOwoJCQkJCQkJCXZhciBnID0gZC5tYXRjaChmKTsKCQkJCQkJCQlnICYmIGcubGVuZ3RoICYmIHQucHVzaChnWzFdKQoJCQkJCQkJfQoJCQkJCQkJdmFyIF8gPSB7CgkJCQkJCQkJdW5pcTogdSwKCQkJCQkJCQlpZDogdAoJCQkJCQkJfTsKCQkJCQkJCWUgPSAiJnNhbWVzdHlsZUlkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoXykpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGUKCQkJCQl9LAoJCQkJCXNpdGVfc2VhcmNoOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJdCA9IGEuZHZhbDsKCQkJCQkJbyh0KS5sZW5ndGggPiAwIHx8ICgvc2VhcmNoXC5qZFwuY29tLy50ZXN0KGxvY2F0aW9uLmhyZWYpICYmIG8oIi5ucy1jb250ZW50IikubGVuZ3RoICYmIGMoInRyYWNrOmpkLXNlYXJjaDpuby1yZXN1bHQiKSwgdGhpcy5nZXRfYnJvd3Nlcl9pbmZvKCksIGwuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZkZWZhdWx0X3N0eWxlPSIgKyBhLmRlZmF1bHRfc3R5bGUgKyAiJnJlZmVycmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpKS5kb25lKGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXIuc2V0KGkpLCBhLnBfaWQgPSBpLnBfaWQsIGEuaXNfb3BlbiA9IGkuaXNfb3BlbiwgYS5wb3NpdGlvbiA9IGkucG9zaXRpb24sIGEuc3R5bGUgPSBpLnN0eWxlICYmIG8uaW5BcnJheShpLnN0eWxlLCBbInRvcCIsICJib3R0b20iXSkgPj0gMCA/IGkuc3R5bGUgOiBhLmRlZmF1bHRfc3R5bGUsIGEuZm9sZCA9IGkuZm9sZCwgYS5maXJzdCA9IGkuZmlyc3QsIGEuc2hvd19tYWluYmFyID0gaS5zaG93X21haW5iYXIsIGEuZW1haWwgPSBpLmVtYWlsLCBhLnNob3dfdGlwID0gaS5zaG93X3RpcCwgYS5zaG93X3dpc2hsaXN0ID0gaS5zaG93X3dpc2hsaXN0LCBhLnNob3dfcHJvbW8gPSBpLnNob3dfcHJvbW8sIGEuc2hvd19ndWVzcyA9IGkuc2hvd19ndWVzcywgYS5zdWJzaXRlX2lkID0gaS5zdWJzaXRlX2lkLCBhLmZvcmNlID0gaS5mb3JjZSwgYS5pbWFnZUFkID0gaS5pbWFnZUFkLCBhLmFiID0gaS5hYiwgYS5idHlwZSB8fCAoYS5zdHlsZSA9IHUuZ2V0SW5mbygic2V0U3R5bGUiKSB8fCBhLnN0eWxlLCBhLnNob3dfdGlwID0gdS5nZXRJbmZvKCJzZXRUaXAiKSB8fCBhLnNob3dfdGlwKSwgMSAhPSBpLmhpZGVfc2hvcHRpcCAmJiBuKDk4KS5pbml0KCksIG4oMTEwKSgpLCBoLmluaXQoKSB8fCAobigxMTEpLmluaXQoKSwgbigxMTMpLmluaXQoKSwgYS50cmlnZ2VyKCJwZXJtYW5lbnRfaWQiKSwgMCAhPT0gcGFyc2VJbnQoYS5zaG93X21haW5iYXIpICYmIDAgIT09IHBhcnNlSW50KGEuc2hvd190aXApICYmICgoYS5oYW8xMjMgfHwgIm1heHRob24iID09PSBhLmZyb21fZGV2aWNlKSAmJiAoYS5zdHlsZSA9ICJib3R0b20iKSwgbygiYm9keSIpLmFwcGVuZCgnPGRpdiBpZD0iJyArIHQucmVwbGFjZSgiIyIsICIiKSArICciPjwvZGl2PicpLCBvKHQpLnNob3coKS5jc3MoewoJCQkJCQkJCW1hcmdpbjogMCwKCQkJCQkJCQlwYWRkaW5nOiAwLAoJCQkJCQkJCWJvcmRlcjogMCwKCQkJCQkJCQlmb250OiAiMTRweC8xLjYgJ01pY3Jvc29mdCBZYUhlaScsIHRhaG9tYSwgYXJpYWwsICdTaW1TdW4nIiwKCQkJCQkJCQljb2xvcjogIiMwMDAiLAoJCQkJCQkJCW92ZXJmbG93OiAidmlzaWJsZSAhaW1wb3J0YW50IgoJCQkJCQkJfSksIGQoKSwgbC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9zaXRlX3NlYXJjaD9wZXJtYW5lbnRfaWQ9IiArIGEucF9pZCArICImc2l0ZT0iICsgYS5zaXRlICsgZS5nZXRUYW9iYW9JZEluZm8oKSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQkJZS5zaG93X3NlYXJjaF9iYXIodCwgYS5zdHlsZSkKCQkJCQkJCX0pKSkKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlzaXRlX2RwOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHMgPSB0aGlzOwoJCQkJCQlhLmRwICYmICgiZGFuZ2RhbmciID09IGEuc2l0ZSAmJiBvKCJoZWFkIikuYXBwZW5kKCI8bWV0YSBodHRwLWVxdWl2PSdYLVVBLUNvbXBhdGlibGUnIGNvbnRlbnQ9J0lFPWVkZ2UnIC8+IiksIGEuZHAucHJpY2UgfHwgKGEuZHAucHJpY2UgPSBlLmdldE9ubGluZVByaWNlKGEuc2l0ZSkpLCBhLmRwLmludmVudG9yeSA9IHQuaW5pdChhLnNpdGUpLCAibHV5b3UiICE9IGEuYnR5cGUgJiYgbigxMTUpLnJlYWR5KCksIG4oODMpLmluaXQoKSwgImFsaWV4cHJlc3MiID09PSBhLnNpdGUgJiYgbigxMTYpLmluaXQoKSwgKCJhbWF6b24iID09PSBhLnNpdGUgJiYgKCJ3d3cuYW1hem9uLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QgfHwgInd3dy5hbWF6b24uY28uanAiID09PSBsb2NhdGlvbi5ob3N0KSB8fCAiNnBtIiA9PT0gYS5zaXRlKSAmJiBuKDE1MykuaW5pdCgpLCB0aGlzLmdldF9icm93c2VyX2luZm8oKSwgbC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQ/dmVyc2lvbj0yJnNob3dfc2hhcmU9MSZwX2ZvbGQ9MCZkZWZhdWx0X3N0eWxlPSIgKyBhLmRlZmF1bHRfc3R5bGUgKyAiJnJlZmVycmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQucmVmZXJyZXIpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmIChyLnNldCh0KSwgYS5wX2lkID0gdC5wX2lkLCBhLmlzX29wZW4gPSB0LmlzX29wZW4sIGEucG9zaXRpb24gPSB0LnBvc2l0aW9uLCBhLnN0eWxlID0gdC5zdHlsZSAmJiBvLmluQXJyYXkodC5zdHlsZSwgWyJ0b3AiLCAiYm90dG9tIl0pID49IDAgPyB0LnN0eWxlIDogYS5kZWZhdWx0X3N0eWxlLCBhLm5vdGljZSA9IHQubm90aWNlLCBhLmZpcnN0ID0gdC5maXJzdCwgIiIgIT09IHQucF9mb2xkICYmIChhLnBfZm9sZCA9IHQucF9mb2xkKSwgYS5lbWFpbCA9IHQuZW1haWwsIGEuc2hvd190aXAgPSB0LnNob3dfdGlwLCBhLnNob3dfd2lzaGxpc3QgPSB0LnNob3dfd2lzaGxpc3QsIGEuc2hvd19wcm9tbyA9IHQuc2hvd19wcm9tbywgYS5zaG93X21haW5iYXIgPSB0LnNob3dfbWFpbmJhciwgYS5zaG93X2d1ZXNzID0gdC5zaG93X2d1ZXNzLCBhLnN1YnNpdGVfaWQgPSB0LnN1YnNpdGVfaWQsIGEuZm9yY2UgPSB0LmZvcmNlLCBhLmltYWdlQWQgPSB0LmltYWdlQWQsIGEuc2hvd19oYWl0YW8gPSB0LnNob3dfaGFpdGFvLCBhLnBvcF9zaGFyZSA9IHQuc2hhcmUsIGEuc2VhcmNoX3dheSA9IHQuc2VhcmNoX3dheSwgYS5idHlwZSB8fCAoYS5zdHlsZSA9IHUuZ2V0SW5mbygic2V0U3R5bGUiKSB8fCBhLnN0eWxlLCBhLnNob3dfaGFpdGFvID0gdS5nZXRJbmZvKCJzZXRoYWl0YW8iKSB8fCBhLnNob3dfaGFpdGFvLCBhLnNob3dfd2lzaGxpc3QgPSB1LmdldEluZm8oInNldFdpc2hsaXN0IikgfHwgYS5zaG93X3dpc2hsaXN0LCBhLnNob3dfcHJvbW8gPSB1LmdldEluZm8oInNldFNob3dQcm9tbyIpIHx8IGEuc2hvd19wcm9tbyksIGEudHJpZ2dlcigiZHBwYWdlX3Blcm1hbmVudCIpLCBuKDExMCkoKSwgIWguaW5pdCgpICYmIChuKDExMSkuaW5pdCgpLCAxICE9IHQuaGlkZV9zaG9wdGlwICYmIG4oOTgpLmluaXQoKSwgYS5wcm92aW5jZV9pZCA9IGUuZ2V0U3ViU3RhdGlvbklkKGEuZHAuc2l0ZSksIDAgIT09IGEuc2hvd19tYWluYmFyICYmICIwIiAhPT0gYS5zaG93X21haW5iYXIpKSB7CgkJCQkJCQkJdmFyIG0gPSAiYm9keSI7CgkJCQkJCQkJYS5tYXh0aG9uX3RtYWxsICYmIChtID0gImh0bWwiKTsKCQkJCQkJCQl2YXIgZiA9IGEuZHZhbDsKCQkJCQkJCQlvKG0pLmFwcGVuZCgnPGRpdiBpZD0iJyArIGYucmVwbGFjZSgiIyIsICIiKSArICciID48L2Rpdj4nKSwgbyhmKS5zaG93KCksIGQoKTsKCQkJCQkJCQl2YXIgZyA9ICJkcF9xdWVyeSI7CgkJCQkJCQkJImJvdHRvbSIgPT0gYS5zdHlsZSAmJiAoZyA9ICJwcm9kdWN0Iik7CgkJCQkJCQkJdmFyIF8gPSBhLmRlYnVnID8gIiZkZWJ1Zz0xIiA6ICIiLAoJCQkJCQkJCQl4ID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC8iICsgZyArICI/cGVybWFuZW50X2lkPSIgKyBhLnBfaWQgKyAiJnVuaW9uPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS51bmlvbikgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEuZHAudXJsKSArICImc2l0ZT0iICsgYS5kcC5zaXRlICsgIiZpc2JuPSIgKyBhLmRwLmlzYm4gKyAiJm5hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLm5hbWUpICsgIiZrZXl3b3JkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5rZXl3b3JkKSArICImc2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLnNrZXl3b3JkKSArICImaWQ9IiArIGEuZHAuaWQgKyAiJnByaWNlPSIgKyBhLmRwLnByaWNlICsgIiZzdG9jaz0iICsgYS5kcC5pbnZlbnRvcnkgKyAiJnByb3ZpbmNlX2lkPSIgKyBhLnByb3ZpbmNlX2lkICsgIiZzdWJzaXRlX2lkPSIgKyBhLnN1YnNpdGVfaWQgKyAiJmNhdF9pZD0iICsgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBhLmRwLmNhdF9pZCA/IGEuZHAuY2F0X2lkIDogIiIpICsgIiZwaWM9IiArICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgYS5kcC5waWMgPyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5waWMpIDogIiIpICsgIiZ1c2VyaWQ9IiArIGEuZHAudXNlcmlkICsgIiZzaG9wX25hbWU9IiArIGEuZHAuc2hvcF9uYW1lICsgIiZzaG9wX2FkZHJlcz0iICsgYS5kcC5zaG9wX2FkZHJlcyArICImY2F0X25hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmRwLmNhdF9uYW1lKSArICImYnJhbmRfc3RyaW5nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC5icmFuZF9zdHJpbmcpICsgXzsKCQkJCQkJCQlsLmdldCh4KS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJaWYgKGEudHJpZ2dlcigibWFpbjpnZXRfZHBfZGF0YSIsIGUpLCBwLnNldCgiZHBfZGF0YSIsIGUpLCBhLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nKGUpLCBhLnNhdmVfZHBfcXVlcnkgPSBlLCBpLmluaXQoKSwgYS5kcElzQm9vayA9IGUgJiYgZS5leGFjdF9hcnIgJiYgZS5leGFjdF9hcnIuaXNibiwgbig4MikucmVhZHkoKSwgbigxNTUpLmxvZ0RwSW5mbyh7CgkJCQkJCQkJCQlwaWQ6IGEucF9pZCwKCQkJCQkJCQkJCXJlZmVyVXJsOiBkb2N1bWVudC5yZWZlcnJlciwKCQkJCQkJCQkJCXByaWNlOiBlLm5vdy5wcmljZSB8fCBhLmRwLnByaWNlLAoJCQkJCQkJCQkJY2xhc3NfaWQ6IGUubm93LmNsYXNzX2lkLAoJCQkJCQkJCQkJYnJhbmRfaWQ6IGUuZXhhY3RfYXJyLmJyYW5kX2lkCgkJCQkJCQkJCX0pLCBjKCJjYXRlZ29yeToiICsgYS5zaXRlICsgIjoiICsgZS5ub3cubm93X2RwX2lkICsgIi8iICsgZS5ub3cuY2xhc3NfaWQgKyAiLyIpLCBhLndoZXJlX2J1eV9kcHMgPSBlICYmIGUuYjJjICYmIGUuYjJjLmFsbF9kcF9pZHMgfHwgIiIsIGEud2hlcmVfYnV5X2RwcykgewoJCQkJCQkJCQkJZm9yICh2YXIgdCA9IGEud2hlcmVfYnV5X2Rwcy5zcGxpdCgifCIpLCBvID0gIjAtMCIsIHIgPSAwOyByIDwgdC5sZW5ndGggJiYgIShyID4gNik7IHIrKykgbyArPSAiLCIsIG8gKz0gdFtyXTsKCQkJCQkJCQkJCWEud2hlcmVfYnV5X2RwcyA9IG8KCQkJCQkJCQkJfQoJCQkJCQkJCQlhLmNvbGxlY3RJbmZvID0gZS5jb2xsZWN0SW5mbywgYS5ub3dfZHBfaWQgPSBzLmlzX3Rhb2JhbygpID8gZSAmJiBlLmV4YWN0X2FyciAmJiBlLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCA6IGUgJiYgZS5ub3cgJiYgZS5ub3cubm93X2RwX2lkLCBhLnNpdGVfaWQgPSBlLm5vdy5zaXRlX2lkLCBzLnNob3dfZHBfYmFyKGUsIGEuc3R5bGUpCgkJCQkJCQkJfSkKCQkJCQkJCX0KCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlzaG93X3NlYXJjaF9iYXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIGkgPSBuKDExKTsKCQkJCQkJaWYgKG4oNjEpLmluaXQoKSwgaS5jaGVjaygpICYmICJsdXlvdSIgPT0gYS5idHlwZSkgewoJCQkJCQkJbigxNTYpLmluaXQoZSk7CgkJCQkJCQl0cnkgewoJCQkJCQkJCW4oMjA1KS5pbml0KCkKCQkJCQkJCX0gY2F0Y2ggKG8pIHt9CgkJCQkJCX0gZWxzZSAiYm90dG9tIiA9PSB0ID8gbigyMDgpLnJlbmRlclNlYXJjaCgpIDogKCJ1bmRlZmluZWQiID09IHR5cGVvZiB0IHx8ICJ0b3AiID09IHQpICYmIG4oMTU3KS5kaXNwbGF5X3NlYXJjaF9iYXJfdG9wKGUpCgkJCQkJfSwKCQkJCQlzaG93X2RwX2JhcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQljKCJwcm9kdWN0X3BhZ2VfdmlzaXQ6IiArIGEuc2l0ZSksICJjaHJvbWUiID09IGEuZnJvbV9kZXZpY2UgJiYgcy5pbml0KCksICJ0b3AiID09IHQgPyBuKDE1NykuaW5pdChlKSA6ICJib3R0b20iID09IHQgJiYgbigyMDgpLmluaXQyKGUpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbigyMTQpLmluaXQoKQoJCQkJCQl9LCA1MDApOwoJCQkJCQl0cnkgewoJCQkJCQkJbigyMDUpLmluaXQoKQoJCQkJCQl9IGNhdGNoIChpKSB7fQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbig2NykuaW5pdCgpCgkJCQkJCX0sIDJlMykKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gYS5kcC5wcmljZTsKCQkJCQlyZXR1cm4gZSAmJiAoZSA9IE51bWJlcihlKSksIGUKCQkJCX0KCQkJCXZhciB0LCBpID0gbig2KSwKCQkJCQlvID0gbig0MCk7CgkJCQlyZXR1cm4gewoJCQkJCWdldE9ubGluZVByaWNlOiBmdW5jdGlvbih0KSB7CgkJCQkJCXQgPSB0IHx8IGEucGFnZUluZm8uc2l0ZU5hbWU7CgkJCQkJCXZhciBuID0gMDsKCQkJCQkJdHJ5IHsKCQkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5wcmljZVBhdHRlcm5bdF0pCgkJCQkJCQkJZm9yICh2YXIgciA9IHRoaXMucHJpY2VQYXR0ZXJuW3RdLmxlbmd0aCwgcyA9IHRoaXMucHJpY2VQYXR0ZXJuW3RdLCBsID0gMDsgciA+IGw7IGwrKykgdHJ5IHsKCQkJCQkJCQkJdmFyIGMgPSBzW2xdOwoJCQkJCQkJCQlpZiAobiA9IGkoYyArICI6dmlzaWJsZSIpLmxlbmd0aCAmJiBpKGMpLmVxKDApLnRleHQoKSwgIW4pIGNvbnRpbnVlOwoJCQkJCQkJCQlpZiAobiA9IG8obikpIGJyZWFrCgkJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpCgkJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpCgkJCQkJCX0KCQkJCQkJcmV0dXJuICgwID09IG4gfHwgIiIgPT0gbikgJiYgKG4gPSBlKCkpLCBuCgkJCQkJfSwKCQkJCQlwcmljZVBhdHRlcm46IHsKCQkJCQkJY29vY2FhOiBbIiNFQ1NfU0hPUFBSSUNFIHNwYW46ZXEoMSkiLCAiI0VDU19TSE9QUFJJQ0UiXSwKCQkJCQkJbnViaWE6IFsiLnBkdGJ5LXByaWNlIl0sCgkJCQkJCWNvb2xwYWQ6IFsiLnByb2R1Y2Vfc2NhbGxfcmlnaHRfdGV4dGIgdWwgbGkgc3Bhbi5wcm9kdWNlX3NjYWxsX3JpZ2h0X3RleHR4Il0sCgkJCQkJCWxlbm92bzogWyIubGVub3ZvLW1lbWJlci1wcmljZSBmb250IiwgIiNncHJpY2UiXSwKCQkJCQkJZ2p3OiBbIiNzcFByaWNlIiwgIi5nb3VqaXVfcHJpY2UiXSwKCQkJCQkJaG9tZXZ2OiBbIi5odF9tb25leSJdLAoJCQkJCQl4aWFvbWk6IFsiLmdvb2RzLWluZm8taGVhZCAuSl9taV9nb29kc1ByaWNlIiwgIi5KX21pX2dvb2RzUHJpY2UiLCAiLnByaWNlIC5udW0iXSwKCQkJCQkJeGl1OiBbIiNwcmRfcHJpY2VfZGl2IC5zdHlsZTMiXSwKCQkJCQkJbW9vbmJhc2E6IFsiI3Bfc2FsZXByaWNlIiwgIi5kZXRhaWxwcmljZSIsICIubGVmdFByaWNlIGIiXSwKCQkJCQkJajE6IFsiI2ppYW55aVByaWNlIl0sCgkJCQkJCXM6IFsiLnNhbGVQcmljZV9iaWciXSwKCQkJCQkJbGV0YW86IFsiI3NwZWNpYWwrLmx0cHJpY2UiLCAiLmx0cHJpY2UiXSwKCQkJCQkJbXV5aW5nemhpamlhOiBbIi5wLXByaWNlIl0sCgkJCQkJCXBhaXhpZTogWyIjanNfY3VycmVudF9wcmljZSJdLAoJCQkJCQl6aGl3bzogWyIubXVtZXIiLCAiLmRzaW5nbGVfbm93cHJpY2UiXSwKCQkJCQkJYm9va3NjaGluYTogWyJzcGFuLnRoaXNwcmljZSIsICIudGhpc3ByaWNlIl0sCgkJCQkJCWxleW91OiBbIiNsZXlvdWppYSJdLAoJCQkJCQl0YW9iYW86IFsiLnRtLXByb21vLXByaWNlIC50bS1wcmljZSIsICIudGItd3JUdWFuLW51bSIsICIjSl9TdHJQcmljZU1vZEJveCAudG0tcHJpY2UiLCAiI0pfUHJvbW9QcmljZSAudGItcm1iLW51bSIsICIjSl9Qcm9tb0JveCAuSl9DdXJQcmljZSIsICIjSl9TdHJQcmljZSIsICIudGJpZC1kZXRhaWwtcHJpY2UiXSwKCQkJCQkJInRhb2Jhby1qdSI6IFsiLmN1cnJlbnRQcmljZSJdLAoJCQkJCQl0bWFsbDogWyIjSl9QcmljZSIsICIjSl9TdHJQcmljZSIsICIudG0tcHJvbW8tcHJpY2UgLnRtLXByaWNlIiwgIiNKX1N0clByaWNlTW9kQm94IC50bS1wcmljZSIsICIudG0tcHJpY2UiXSwKCQkJCQkJYW1hem9uOiBbIiNwcmljZWJsb2NrX291cnByaWNlIiwgIi5wcmljZUxhcmdlIl0sCgkJCQkJCSJnb21lLXEiOiBbIi5wcmljZSJdLAoJCQkJCQlkYW5nZGFuZzogWyIjcHJvbW9fcHJpY2UiLCAiLnByaWNlTGFyZ2UiLCAiI3NhbGVQcmljZVRhZyIsICIjZF9wcmljZSJdLAoJCQkJCQltMTg6IFsiLmRldGFpbHNBcmVhIHN0cm9uZ1tkYXRhLXByaWNlXSJdLAoJCQkJCQlzZXBob3JhOiBbIi5wcm9EZXRJbmZvIC5wcm9QcmljZSBzcGFuIl0sCgkJCQkJCXRhb3hpZTogWyIjZGl2dHhwcmljZSAuZC1yZWFsLXByaWNlIl0sCgkJCQkJCWx1c2VuOiBbIiNQcm9kdWN0UHJpY2UiXSwKCQkJCQkJbWJhb2JhbzogWyIucHJpY2UtbnVtIl0sCgkJCQkJCWNodW5zaHVpdGFuZzogWyIudHVhbi1idXktdGV4dCIsICIuR2Rfc2hvcF9QcmljZSBkdCJdLAoJCQkJCQlveWVhaDogWyIucHJpY2VzdHkiXSwKCQkJCQkJeDogWyIucHJvX2JpZ19yaWdodCAubGlzdCAuanNqW3N0eWxlXj10ZXh0XSIsICIuanNqIGIiXSwKCQkJCQkJbm81OiBbIi5wcm9kUmVkVHh0LnByaWNlIl0sCgkJCQkJCSIzNjBreHIiOiBbIiNwcm9fbWFsbF9wcmljZSJdLAoJCQkJCQltNmdvOiBbIiNTR29vZHNQcmljZSJdLAoJCQkJCQlsaWtlZmFjZTogWyIudFByYzEudFByY09uPmRpdj5iIiwgIiNqcnRqIl0sCgkJCQkJCW1vcmVmb29kOiBbIi5wcm8taW5mbyAudGV4dDIiXSwKCQkJCQkJeWFvZmFuZzogWyIuc194aWFuamlhXzE0MDUxOSJdLAoJCQkJCQkiOTlyZWFkIjogWyIjcGFuZWwtcmlnaHQgLnByby1JbmZvTGlzdCBsaSBzcGFuLmYtUHJpY2UiXSwKCQkJCQkJImNoaW5hLXB1YiI6IFsiI3h4amcgLnByb19idXlfc2VuIiwgIi5wcm9fYnV5X3NlbiJdLAoJCQkJCQl3aW54dWFuOiBbIi5wcmljZS1uIGRkIGIiXSwKCQkJCQkJZWZlaWh1OiBbIi51aV9wcmljZSBzdHJvbmcgZW0iXSwKCQkJCQkJaGFwcGlnbzogWyIjcmVhbF9wcmljZSJdLAoJCQkJCQlnYXA6IFsiI3Byb2R1Y3RTaG93UHJpY2UiXSwKCQkJCQkJdGlhbnRpYW46IFsiLnh4X3ByaWNlIl0sCgkJCQkJCXhpamllOiBbIi5kZXRhaWxfcHJvX2RfMSJdLAoJCQkJCQlsaW5nc2hpOiBbIiNzaG9wcHJpY2UiXSwKCQkJCQkJYmFuZ2dvOiBbIiNzYWxlUHJpY2VUZXh0Il0sCgkJCQkJCXllc215d2luZTogWyIuZXhwbGFpbiAubXlQcmljZSJdLAoJCQkJCQlqeGR5ZjogWyIjemNfamlhZ2UgLmp4UHJpY2UiXSwKCQkJCQkJdG9vdG9vOiBbIiNwcmljZSJdLAoJCQkJCQl6bTc6IFsiI0VDU19TSE9QUFJJQ0UiXSwKCQkJCQkJbWlxaTogWyIubGVmdF90b3BUYWJsZV9idG4iXSwKCQkJCQkJaml1bWVpOiBbIiNqaWFnZSAuY3V4aWFvIC5udW1iIHN0cm9uZyJdLAoJCQkJCQlva2hxYjogWyIuY3otbnVtIl0sCgkJCQkJCWJvb2t1dTogWyIjYmstZC1wcmljZSJdLAoJCQkJCQl0YW8zYzogWyIuZGV0YWlsX2luZm9fcm0xIGNpdGUiXSwKCQkJCQkJZDE6IFsiLnBfbXAiXSwKCQkJCQkJcnVpeWk6IFsiLmdvb2RzLXByaWNlIC5wcmljZTEiXSwKCQkJCQkJbGFtaXU6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQl3YmlhbzogWyIjZzVfcHJpY2UiXSwKCQkJCQkJZWhhaWVyOiBbIi5jdXItcHJpY2UiXSwKCQkJCQkJc2Vjb286IFsiI3NlY29vUHJpY2VKcyJdLAoJCQkJCQl4aWZ1cXVhbjogWyIuamdfY3Vob25nIl0sCgkJCQkJCXlpZ3VvOiBbIi5wcm8tcHJpY2U+ZGl2IHN0cm9uZyJdLAoJCQkJCQl5dW1teTc3OiBbIi5jcHJpY2UgLnByaWNlIl0sCgkJCQkJCWZydWl0ZGF5OiBbIi5wcm9kX3ByaWNlIiwgIiNqcS1wcmljZSJdLAoJCQkJCQl6dWlwaW46IFsiLmRldGFpbF9wcmljZSJdLAoJCQkJCQl5b2hvYnV5OiBbIi5wcmljZS1zYWxlIl0sCgkJCQkJCWlranRhbzogWyIjRUNTX0dPT0RTX0FNT1VOVCJdLAoJCQkJCQltaXlhYmFvYmVpOiBbIiNpdGVtX3ByaWNlIl0sCgkJCQkJCXVsZTogWyIucHJvZHVjdFByaWNlIC5wcmljZSBzdHJvbmciXSwKCQkJCQkJbWluc2hlbmdlYzogWyIubXNfcHJpY2UgLmRkIHN0cm9uZyJdLAoJCQkJCQl3YW5nZnVqaW5nOiBbIiNwcm8tcHJpY2UgLmNvc3QiXSwKCQkJCQkJbWVpbGVsZTogWyIjSlNfZWZmZWN0X3ByaWNlIl0sCgkJCQkJCXN1cHV5OiBbIiNTaG93UHJpY2UiLCAiLmdvb2RfZF9wcmljZW5ldyIsICIjZ19wcmljZSJdLAoJCQkJCQlsaW5pbmc6IFsiI29mZmVyUHJpY2UgLnYiXSwKCQkJCQkJcnJzOiBbIi5jdXItcHJpY2UiXSwKCQkJCQkJbGlmZXZjOiBbIiNzaG9wcGluZ1BhbmVsVXBwZXIgLnNob3BwaW5nSW5mbyAuc2FsZVByaWNlIl0sCgkJCQkJCXltYXRvdTogWyIjcHJvRGV0YWlsIC5wcm9tb3Rpb24gLmNvdW50Il0sCgkJCQkJCWtqdDogWyIubWFpblByaWNlIl0sCgkJCQkJCWxvZ2l0ZWNoOiBbIi5zYWxlLXByaWNlIl0sCgkJCQkJCXhpamk6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQluaWtlOiBbIi5leHAtcGRwLXByb2R1Y3QtcHJpY2UtY29udGFpbmVyIC5leHAtcGRwLWxvY2FsLXByaWNlIl0sCgkJCQkJCSIzNjBrYWQiOiBbIiNwcmljZW51bWJlciJdLAoJCQkJCQltZWljaTogWyIucHJpY2UiLCAiLnByb19wcmljZSAuY19wdXJwbGUiXSwKCQkJCQkJYmVpYmVpOiBbIiNkZXRhaWwtbWV0YSAucHJpY2UtaW5mbyAucHJpY2UiXSwKCQkJCQkJIjEwMHl1ZSI6IFsiLmFjdGlvbi1wcmljZSIsICIjcHJpY2UiXSwKCQkJCQkJZGFsaW5nOiBbIi5nb29kcy1wcmljZSAuYm9sZCJdLAoJCQkJCQlzZmh0OiBbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSwKCQkJCQkJIjM2MGJ1eSI6IFsiI2pkLXByaWNlIiwgIiNwcmljZWluZm8iLCAiI3RlYW1TdGF0dXMgLnAtcHJpY2UiLCAiI3N1bW1hcnktcHJpY2UiLCAiLnN1bW1hcnktcHJpY2UgLnAtcHJpY2UgLnByaWNlIl0sCgkJCQkJCSI1MWJ1eSI6IFsiLnhwcmljZV92YWxbaXRlbXByb3A9J2xvd1ByaWNlJ10iLCAiLnhwcmljZV92YWxbaXRlbXByb3A9J3ByaWNlJ10iLCAiLnByaWNlX2ZvbnQiXSwKCQkJCQkJc3VuaW5nOiBbIiNwcm9tb3Rpb25QcmljZSIsICIjcHJvbW90aW9uUHJpY2UgZW0iLCAiI2lzcXVpY2tCdXlCb3hQcmljZSBlbSIsICIjYm9va3ByZHByaWNlIiwgIiNuZXRQcmljZSBlbSIsICIjbWFpblByaWNlIGVtIiwgIiNycFByaWNlIiwgIiNwcm9tb1ByaWNlIiwgIiNlUHJpY2UgZW0iXSwKCQkJCQkJeWloYW9kaWFuOiBbIiNkZXRhaWxfcHJvbV9wcmljZSIsICIjY3VycmVudF9wcmljZSIsICIjcHJvZHVjdEZhY2FkZVByaWNlIiwgIiNub25NZW1iZXJQcmljZSBzdHJvbmciLCAiLnByaWNlYm94Il0sCgkJCQkJCXZhbmNsOiBbIi5jdXhpYW9QcmljZSBzdHJvbmciXSwKCQkJCQkJZ29tZTogWyIjcHJkUHJpY2UiLCAiLmRldGFpbCAucHJpY2UiXSwKCQkJCQkJb2tidXk6IFsiI3Byb2RQcmljZUFqIl0sCgkJCQkJCXZqaWE6IFsiI1NwZWNpYWxQcmljZSJdLAoJCQkJCQlqdW1laTogWyIubmV3ZGVhbF9kZWFsX3ByaWNlIiwgIi5wcmljZV9ub3ciLCAiI21hbGxfcHJpY2UiLCAiLmRlYWxfb3JpX3ByaWNlIC5kZWFsX2FjY291dF90d28iXSwKCQkJCQkJanVtZWlnbG9iYWw6IFsiLmp1bWVpX3ByaWNlIl0sCgkJCQkJCXlvdWdvdTogWyIueHNidXlfaXRtIHN0cm9uZy5wcmljZSIsICIjeWl0aWFuUHJpY2UgaSIsICIjeWl0aWFuUHJpY2UiXSwKCQkJCQkJc2hvcGluOiBbIi5zZWxQcmljZSBzcGFuOmVxKDEpIiwgIi5zaG9waW5qZzEiXSwKCQkJCQkJdm1hbGw6IFsiI3Byby1wcmljZSJdLAoJCQkJCQlzZmJlc3Q6IFsiLnByaWNlQm94IC5wcmljZSIsICIucHJpY2UiLCAiI3ByaWNlIGZvbnQiXSwKCQkJCQkJb3VrdTogWyIjcGRBbGxQcmljZSAucHJjIiwgIi5zYWxlLXByaWNlIl0sCgkJCQkJCXdvbWFpOiBbIiNidXlQcmljZSJdLAoJCQkJCQkiYmFpZHUtd2VpZ291IjogWyIjbmV3LXByaWNlIiwgIi5vbGQtcHJpY2UiXSwKCQkJCQkJeWludGFpOiBbInNwYW4ueXQtbnVtIiwgIi55dC1udW0iXSwKCQkJCQkJZmVpbml1OiBbIiNwcmljZUZuIiwgIiNKX3Byb2R1Y3RfdmFsdWUgLmZuLXJtYi1udW0iXSwKCQkJCQkJaml1eGlhbjogWyIjYWN0UHJpY2VQcmljZSIsICIjX25vd1ByaWNlU3RyIl0sCgkJCQkJCXpvbDogWyIucHJpY2UtdHlwZSJdLAoJCQkJCQlmZWlmZWk6IFsiLnByaWNlLWJveCAucHJpY2UtZGV0YWlsIiwgIi5wcmljZS1pbmZvLXZhbHVlIiwgIi5wcmljZS1ib3giXSwKCQkJCQkJa3pqMzY1OiBbIiNycHJpY2UiXSwKCQkJCQkJa2FvbGE6IFsiI2pzX2N1cnJlbnRQcmljZSJdLAoJCQkJCQltZXRhbzogWyIucGlfcHJpY2VfYm94X3JvdyAucGJveF9wcmljZSIsICIucHJpY2Vfc2VuZHBsYWNlIC5wcmljZSJdLAoJCQkJCQlwaGlsaXBzOiBbIi5wZGMtYmx1ZS1jIHNwYW4iXSwKCQkJCQkJdGNsOiBbIiNwcmljZUJ1eSJdLAoJCQkJCQljaGFuZ2hvbmc6IFsiLnRpX3NjYyBzdHJvbmciXSwKCQkJCQkJa29ua2E6IFsiLmFjdGlvbi1wcmljZSJdLAoJCQkJCQloaXNlbnNlOiBbIi5pbmxpc3QgLmZsdmEiXSwKCQkJCQkJaW5laWdvOiBbIiNVTFByaWNlIGZvbnQiXSwKCQkJCQkJc2tnOiBbIi5wcm9kdWN0U2FsZSAuc2FsZVByaWNlIl0sCgkJCQkJCSJrLXRvdWNoIjogWyIucHJvY2llIl0sCgkJCQkJCWdpb25lZTogWyIjSmdvb2RzUHJpY2UiXSwKCQkJCQkJb3BwbzogWyIuYnV5aW5nLXByaWNlIC5wcmljZSJdLAoJCQkJCQl2aXZvOiBbIi5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJZ3JhaW5nZXI6IFsiI3N1bW1hcnktcHJpY2UgLnAtcHJpY2UiXSwKCQkJCQkJZWJheTogWyIjcHJjSXN1bSJdLAoJCQkJCQkidGFvYmFvLTk1MDk1IjogWyIjSl9Qcm9tb1ByaWNlIC50bS1wcmljZSJdLAoJCQkJCQltZWlsaXNodW86IFsiI3ByaWNlLW5vdyJdLAoJCQkJCQltb2d1amllOiBbIiNKX05vd1ByaWNlIl0sCgkJCQkJCXNlcGhvcmFjcHM6IFsiLnByb0RldEluZm8gLnByb1ByaWNlIHNwYW4iXSwKCQkJCQkJc3RyYXdiZXJyeW5ldDogWyIjZGl2U2hvcFByaWNlIC5tdC0xMCJdLAoJCQkJCQlqaWE6IFsiLnNhbGUtcHJpY2Ugc3BhbiJdLAoJCQkJCQlsZW1hbGw6IFsiI2FkZGJpdHMiXSwKCQkJCQkJaGFuZHU6IFsiLnByb21vdGVfcHJpY2UiXSwKCQkJCQkJdGFvc2h1OiBbIiNwcmljZS10eHQiXSwKCQkJCQkJY2FtZWw6IFsiI3Byb2RfcHJpY2UiXSwKCQkJCQkJcXV3YW46IFsiI3ByaWNlX2dvb2RzX2RpdiBzdHJvbmciXSwKCQkJCQkJbGVmZW5nOiBbIi5kaXR5LXByaWNlLWMgc3BhbiJdLAoJCQkJCQkiMTM5c2hvcCI6IFsiI2JkaiJdLAoJCQkJCQl3YW5naml1OiBbIiNmaW5hbFByaWNlVmFsdWUiXSwKCQkJCQkJbGllYm86IFsiIzhfQ3VyUHJpY2UiXSwKCQkJCQkJYWltZXI6IFsiI3Bvc3RQcmljZSBlbSJdLAoJCQkJCQlrYWRhbmc6IFsiI0pfUHJpY2UiXSwKCQkJCQkJbGl6aTogWyIjc19wcmljZSJdLAoJCQkJCQltZXRyb21hbGw6IFsiLnByb0RwcmljZSJdLAoJCQkJCQlwYmE6IFsiLnByaWNlIl0sCgkJCQkJCXNoYW5ncGluOiBbIi5zcERldGFpbF9zcFByaWNlQmlnUmVkIGkiXSwKCQkJCQkJbWFzYW1hc286IFsiLnByaWNlMjQiXSwKCQkJCQkJemhlbjogWyIjc2FsZS1wcmljZSJdLAoJCQkJCQl6aGVucGluOiBbIiNzYWxlLXByaWNlIl0sCgkJCQkJCXNwb3J0aWNhOiBbIi5zcGVjaWFsLXByaWNlLXRpdHRsZSsucHJpY2UiXSwKCQkJCQkJbWlsaWVyOiBbIi5iaWdfcHJpY2UiXSwKCQkJCQkJbm9wOiBbIi5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJYmJyZWFkeTogWyIuYWN0aW9uLWZsYXNoYnV5X3ByaWNlIl0sCgkJCQkJCXFpbnFpbmJhYnk6IFsiLmNvbnRlbnQtbWFpbi16ay0xIl0sCgkJCQkJCXNhc2E6IFsiLnByaWNlIC5hY3Rpb24tcHJpY2UiXSwKCQkJCQkJIjVsdXgiOiBbIi5mc2tfZ29vZHNfcHJpY2UiXSwKCQkJCQkJYWxpZXhwcmVzczogWyIjc2t1LWRpc2NvdW50LXByaWNlIl0sCgkJCQkJCXNob3Bib3A6IFsiLnByaWNlQmxvY2siXSwKCQkJCQkJZmVuZ3F1OiBbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSwKCQkJCQkJa2VlZGU6IFsiLm1lc3NhZ2VfcHJpY2UiXSwKCQkJCQkJc2hvd2pveTogWyIual9QcmljZU51bSJdLAoJCQkJCQllYXNlZXllczogWyIuZm9udEFyaWFsIl0sCgkJCQkJCXl1bmhvdTogWyIuakZpcnN0UHJpY2UiXSwKCQkJCQkJIjUxZGluIjogWyIucHJvZHVjdF9wcmljZSBiIl0sCgkJCQkJCWFpZGFpOiBbIiNfdGhpc2ZwIl0sCgkJCQkJCXNwaWRlcjogWyIuaG1jcHR3b19zampnIl0sCgkJCQkJCXp6bDM2NTogWyIuZ29vZHMtcHJpY2UgLnByaWNlMSJdCgkJCQkJfSwKCQkJCQlzdWJTdGF0aW9uUGF0dGVybjogewoJCQkJCQkiNTFidXkiOiAicHJpZCIsCgkJCQkJCXlpaGFvZGlhbjogInByb3ZpbmNlSWQiLAoJCQkJCQl3b21haTogInNpdGVpbmZvdGVtcCIsCgkJCQkJCXN1bmluZzogImNpdHlJZCIKCQkJCQl9LAoJCQkJCWdldFN1YlN0YXRpb25JZDogZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAodCkgcmV0dXJuIHQ7CgkJCQkJCWlmIChlID0gZSB8fCBhLnBhZ2VJbmZvLnNpdGVOYW1lLCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5zdWJTdGF0aW9uUGF0dGVybltlXSkKCQkJCQkJCWZvciAodmFyIG4gPSB0aGlzLnN1YlN0YXRpb25QYXR0ZXJuW2VdICsgIj0iLCBvID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCI7IiksIHIgPSAwOyByIDwgby5sZW5ndGg7IHIrKykgewoJCQkJCQkJCXZhciBzID0gb1tyXTsKCQkJCQkJCQlpZiAocyA9IGkudHJpbShzKSwgMCA9PSBzLmluZGV4T2YobikpIHsKCQkJCQkJCQkJdmFyIGwgPSBzLnN1YnN0cmluZyhuLmxlbmd0aCwgcy5sZW5ndGgpOwoJCQkJCQkJCQlpZiAoIjUxYnV5IiA9PSBlKSB0cnkgewoJCQkJCQkJCQkJdmFyIGMgPSBsLmluZGV4T2YoIl8iKTsKCQkJCQkJCQkJCWMgPj0gMCAmJiAobCA9IGwuc3Vic3RyKGMgKyAxKSkKCQkJCQkJCQkJfSBjYXRjaCAoZCkgewoJCQkJCQkJCQkJYS5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhkKQoJCQkJCQkJCQl9CgkJCQkJCQkJCXJldHVybiB0ID0gbCwgbAoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJcmV0dXJuICIiCgkJCQkJfSwKCQkJCQl0cnlHZXRMYXp5TG9hZFByaWNlOiBmdW5jdGlvbihlLCB0LCBuLCBvLCByKSB7CgkJCQkJCXZhciBzID0gIiIsCgkJCQkJCQlsID0gMCwKCQkJCQkJCWMgPSB7CgkJCQkJCQkJInRtYWxsLmNvbSI6ICIudG0tcHJpY2UsLnRiLXdyVHVhbi1udW0iLAoJCQkJCQkJCSJ0YW9iYW8uY29tIjogIi50Yi1kZXRhaWwtcHJpY2Ugc3Ryb25nOm5vdCguZGVsKSIKCQkJCQkJCX07CgkJCQkJCXRyeSB7CgkJCQkJCQlzID0gY1tlXQoJCQkJCQl9IGNhdGNoIChkKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKGQpLCBzID0gIiIKCQkJCQkJfQoJCQkJCQl2YXIgcCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKCsrbCwgaShzKS5sZW5ndGggfHwgbCA+IDUpIHsKCQkJCQkJCQl2YXIgYSA9ICIiOwoJCQkJCQkJCWkocykubGVuZ3RoICYmIChhID0gaShzKS50ZXh0KCkuc3BsaXQoIi0iKVswXSwgYSA9IHBhcnNlRmxvYXQoYS5yZXBsYWNlKC9bXjAtOS5dL2csICIiKSksIGEgPSBwYXJzZUludCgxMDAgKiBhKSAvIDEwMCwgYSA9IGEudG9GaXhlZCgyKSksIG4gKz0gIiZwcmljZT0iICsgYSArICImc2l0ZT0iICsgZS5zcGxpdCgiLiIpWzBdLCBjbGVhckludGVydmFsKHApLCB0KG4sIG8sIHIpCgkJCQkJCQl9CgkJCQkJCX0sIDFlMykKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNik7CgkJCQlyZXR1cm4gewoJCQkJCWludmVudG9yeVBhdHRlcm5zOiB7CgkJCQkJCSIzNjBidXkiOiB7CgkJCQkJCQkiI3N0b2NrdGV4dCBzdHJvbmciOiAi5peg6LSnIiwKCQkJCQkJCSIjc3RvcmUtcHJvbXB0IHN0cm9uZyI6ICLml6DotKciLAoJCQkJCQkJIiNzdG9jay1zdGF0ZSI6ICLml6DotKciLAoJCQkJCQkJIiNwcm9kdWN0LWludHJvIC5pdGVtb3Zlci10aXRsZSBoMyBzdHJvbmciOiAi5ZWG5ZOB5bey5LiL5p+cIgoJCQkJCQl9LAoJCQkJCQkiNTFidXkiOiB7CgkJCQkJCQkiI3NlYV9idXlfd3JhcCI6ICLliLDotKfpgJrnn6UiLAoJCQkJCQkJIiNidXlRdHkgLmdvZGRzX2luZm9fZGF0YSBzcGFuW3N0eWxlXSI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWFtYXpvbjogewoJCQkJCQkJIi5hLWNvbG9yLXByaWNlIjogIue8uui0p+eZu+iusCIsCgkJCQkJCQkiLmRkbS1zYnItYXZhaWwtdGl0bGUiOiAi57y66LSn55m76K6wIiwKCQkJCQkJCSIjZHluYW1pY0RlbGl2ZXJ5TWVzc2FnZSwjZGRtQXZhaWxhYmlsaXR5TWVzc2FnZSI6ICLnm67liY3ml6DotKciLAoJCQkJCQkJIiNkeW5hbWljRGVsaXZlcnlNZXNzYWdlIHNwYW4iOiAi57y66LSn55m76K6wIgoJCQkJCQl9LAoJCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJCSIjYXJyaXZhbE5vdGljZSBzcGFuIjogIuWIsOi0p+mAmuefpSIsCgkJCQkJCQkiI25vdFNhbGVCdG4gLmNhcnRib3ggYSBzcGFuIjogIuW3suWUruWujCIsCgkJCQkJCQkiI2RldGFpbF9hZGRUb0NhcnQgc3Bhbi5zdGVhbF9idG4iOiAi5oqi5YWJ5LqGIiwKCQkJCQkJCSIuYnV5X2J0bjM6dmlzaWJsZSI6ICLlt7LllK7lrowiLAoJCQkJCQkJIiNkZXRhaWxTdG9ja0luZm8iOiAi5peg6LSnIiwKCQkJCQkJCSIjYWRkQ2FydCI6ICLlt7LllK7lrowiCgkJCQkJCX0sCgkJCQkJCXN1bmluZzogewoJCQkJCQkJIiNjX2t1Y3VuIHNwYW4iOiAi5peg6LSnIiwKCQkJCQkJCSIjcmVjb21UaXRsZSI6ICLllYblk4Hlt7LkuIvmnrYiLAoJCQkJCQkJIiNjX2t1Y3VuIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJCSIjc3RvY2tfd3JpdGluZ19zdGF0dXMiOiAi57y66LSnIiwKCQkJCQkJCSIuc2hvd19pbmZvX3JpZ2h0IHN0cm9uZy5xaCI6ICLmmoLml7bnvLrotKd8572EIiwKCQkJCQkJCSIjZ2VvLWluZm8iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlnb21lOiB7CgkJCQkJCQkiI3N0b2NrVHh0IjogIuaXoOi0p3zkuIvmnrZ85peg6LSnfOaaguS4jeWPr+mAgSIKCQkJCQkJfSwKCQkJCQkJeW91Z291OiB7CgkJCQkJCQkiLmJ1eSI6ICLlt7LllK7nvYQiLAoJCQkJCQkJIi5zb2xkb3V0c3R5IC5mYiI6ICLmraTpopzoibLllYblk4Hlt7LllK7nvYQiCgkJCQkJCX0sCgkJCQkJCXZtYWxsOiB7CgkJCQkJCQkiLmJ1dHRvbi1ub3RpY2UtYXJyaXZhbCBzcGFuIjogIuWIsOi0p+mAmuefpSIKCQkJCQkJfSwKCQkJCQkJdmFuY2w6IHsKCQkJCQkJCSIuZGFucGluX1NvdXFpbmdUaXRsZSBoMyI6ICLor6XllYblk4HmmoLkuI3og73otK3kubAiLAoJCQkJCQkJIi5Ob3dIYXNHb29kcyI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWp1bWVpOiB7CgkJCQkJCQkiLnNvbGRvdXRfdGV4dCI6ICLlt7LmiqLlhYkiLAoJCQkJCQkJIi5hZGRfY2FydCBhLnN1YnNjcmliZSI6ICLorqLpmIXliLDotKfpgJrnn6UiCgkJCQkJCX0sCgkJCQkJCW5ld2VnZzogewoJCQkJCQkJIiNpbnZlbnRvcnkgLmludmVudG9yeVRleHQiOiAi5pqC5pegfOaOpeWPl+mihOWumiIsCgkJCQkJCQkiI2dldFF1ZXVlTnVtYmVyIjogIueri+WNs+mihOiuoiIsCgkJCQkJCQknLmdvZGRzX2luZm9fZGF0YSBzcGFuOmNvbnRhaW5zKCLlupPlrZgiKSc6ICLmjqXlj5fpooTlrpoiCgkJCQkJCX0sCgkJCQkJCW1vb25iYXNhOiB7CgkJCQkJCQkiI3NwYW5Db3VudGsiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl3aW54dWFuOiB7CgkJCQkJCQkiLnN0YXR1cyI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWhhcHBpZ286IHsKCQkJCQkJCSIjZ29vZHNrdWN1biAuZl9yZWQiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl4aWppZTogewoJCQkJCQkJIi5kZXRhaWxfcHJvX2NfY29uIjogIuW+iOaKseatie+8jOivpeWVhuWTgeW3suWUruepuiIKCQkJCQkJfSwKCQkJCQkJbGluZ3NoaTogewoJCQkJCQkJIiNjdXJyZW50TG9jYXRpb24iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQl5ZXNteXdpbmU6IHsKCQkJCQkJCSIjZGVsaXZlcnktdGlwIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJYm9va3V1OiB7CgkJCQkJCQkiLnN0b2NrIHNwYW4iOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlob21ldnY6IHsKCQkJCQkJCSIjc3RvY2srLmhvbSI6ICLnvLrotKciCgkJCQkJCX0sCgkJCQkJCWxlbm92bzogewoJCQkJCQkJIiNpZHN0b2Nrc3RhdHVzIjogIuaaguaXoOW6k+WtmCIKCQkJCQkJfSwKCQkJCQkJc2Vjb286IHsKCQkJCQkJCSIjbG9jYXRpb24tdCtpIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJeXVtbXk3NzogewoJCQkJCQkJIiNzdG9ja2Rlc2MiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlmcnVpdGRheTogewoJCQkJCQkJIi5oYXZlIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJa2FvbGE6IHsKCQkJCQkJCSIjanNfZG9tZXR4dCI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWtqdDogewoJCQkJCQkJIi5ibGFjayI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCWppdW1laTogewoJCQkJCQkJIiNrdWN1bmluZm8gLmZvbnQxNCI6ICLml6DotKciCgkJCQkJCX0sCgkJCQkJCXdvbWFpOiB7CgkJCQkJCQkiLm5vYnV5X3RvcF90aXQiOiAi5ZWG5ZOB5bey5ZSu5a6M77yM5pqC5pe25peg6LSnIiwKCQkJCQkJCSIudW5zZWxsYWJsZV9yZWNvbW1lbmRfZGVzY3JpcHRpb24iOiAi5ZWG5ZOB5bey5ZSu5a6MIgoJCQkJCQl9LAoJCQkJCQlzZmJlc3Q6IHsKCQkJCQkJCSIjYXJyaXZhbF9ub3RpY2UiOiAi5Yiw6LSn6YCa55+lIiwKCQkJCQkJCSIjc3RvY2sgZm9udCI6ICLnvLrotKciLAoJCQkJCQkJIiNjYXJ0LWFkZC1idG4tc2YiOiAi5Yiw6LSnfOe8uui0pyIKCQkJCQkJfSwKCQkJCQkJbGVmZW5nOiB7CgkJCQkJCQkiLmRpc2V4cCBzcGFuLnN0aW1lIjogIuaXoOi0pyIKCQkJCQkJfSwKCQkJCQkJbGV5b3U6IHsKCQkJCQkJCSIjc3RvY2tTdGF0dXMiOiAi5peg6LSnIgoJCQkJCQl9LAoJCQkJCQlqaXV4aWFuOiB7CgkJCQkJCQkiI3Jlc3BOdWJzIjogIuaXoOi0pyIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaW5pdDogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gZSA9IGUgfHwgYS5wYWdlSW5mby5zaXRlTmFtZSwgdGhpcy5nZXRDaGVja0ludmVudG9yeShlKQoJCQkJCX0sCgkJCQkJZ2V0T25saW5lSW52ZW50b3J5OiBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gewoJCQkJCQkJCW9ubGluZTogbnVsbCwKCQkJCQkJCQlwYXR0ZXJuOiBudWxsCgkJCQkJCQl9LAoJCQkJCQkJaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gZS5yZXBsYWNlKC9bXlx1MDAwMC1cdTAwRkZdL2csIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGVzY2FwZShlKS5yZXBsYWNlKC8oJXUpKFx3ezR9KS9naSwgIlxcdSQyIikKCQkJCQkJCQl9KQoJCQkJCQkJfTsKCQkJCQkJdHJ5IHsKCQkJCQkJCWlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgdGhpcy5pbnZlbnRvcnlQYXR0ZXJuc1t0XSkgewoJCQkJCQkJCXZhciBvID0gdGhpcy5pbnZlbnRvcnlQYXR0ZXJuc1t0XTsKCQkJCQkJCQlmb3IgKHZhciByIGluIG8pIHRyeSB7CgkJCQkJCQkJCWlmIChlKHIpLmlzKCI6dmlzaWJsZSIpICYmIChuLm9ubGluZSA9IGUocikuaHRtbCgpLCBudWxsICE9PSBuLm9ubGluZSkpIHJldHVybiBuLm9ubGluZSA9IGkobi5vbmxpbmUpLCBuLnBhdHRlcm4gPSBpKG9bcl0pLCBuCgkJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKHMpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChzKSB7CgkJCQkJCQlhLmRlYnVnICYmIGNvbnNvbGUubG9nKHMpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIG4KCQkJCQl9LAoJCQkJCWdldENoZWNrSW52ZW50b3J5OiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gMSwKCQkJCQkJCW4gPSB0aGlzLmdldE9ubGluZUludmVudG9yeShlKSwKCQkJCQkJCWkgPSBuLm9ubGluZSwKCQkJCQkJCW8gPSBuLnBhdHRlcm47CgkJCQkJCXRyeSB7CgkJCQkJCQlpZiAobnVsbCAhPT0gaSAmJiAiIiAhPSBpICYmIG51bGwgIT09IG8pCgkJCQkJCQkJaWYgKG8uaW5kZXhPZigifCIpID49IDApIHsKCQkJCQkJCQkJdmFyIHIgPSBvLnNwbGl0KCJ8Iik7CgkJCQkJCQkJCWZvciAodmFyIHMgaW4gcikgaS5pbmRleE9mKHJbc10pID49IDAgJiYgKHQgPSAwKQoJCQkJCQkJCX0gZWxzZSBpLmluZGV4T2YobykgPj0gMCAmJiAodCA9IDApOwoJCQkJCQkJZWxzZSB0ID0gLTIKCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJYS5kZWJ1ZyAmJiBjb25zb2xlLmxvZyhsKQoJCQkJCQl9CgkJCQkJCXJldHVybiB0CgkJCQkJfQoJCQkJfQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDkpLAoJCQkJCXQgPSBuKDYwKSwKCQkJCQlpID0gbig2NSksCgkJCQkJbyA9IG4oNTcpLAoJCQkJCXIgPSBuKDU4KTsKCQkJCXJldHVybiB7CgkJCQkJdGltZU91dDogNSwKCQkJCQl0aW1lcjogbnVsbCwKCQkJCQlzZW5kVGltZXI6IG51bGwsCgkJCQkJaW52ZW50b3J5OiBudWxsLAoJCQkJCXByaWNlOiBudWxsLAoJCQkJCXNwZWNpYWxTZW5kRmxhZzogITEsCgkJCQkJaGFzUnVuOiAhMSwKCQkJCQlpbml0OiBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCF0aGlzLmhhc1J1bikgewoJCQkJCQkJdGhpcy5oYXNSdW4gPSAhMDsKCQkJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJCQl0ID0gMDsKCQkJCQkJCWUudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCQllLl9zZXRQcmljZSgpLCBlLl9zZXRJbnZlbnRvcnkoKSwgKyt0LCAoZS5zcGVjaWFsU2VuZEZsYWcgfHwgdCA+IGUudGltZU91dCB8fCAiLTIiICE9IGUuaW52ZW50b3J5ICYmICIwIiAhPSBlLnByaWNlKSAmJiAoZS5fdHJ5U2VuZE1vbml0b3JEYXRhKCksIGNsZWFySW50ZXJ2YWwoZS50aW1lcikpCgkJCQkJCQl9LCAxZTMpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCV90cnlTZW5kTW9uaXRvckRhdGE6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gMDsKCQkJCQkJZS5zZW5kVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCWlmICgrK3QsIHQgPiBlLnRpbWVPdXQgfHwgbnVsbCAhPSBhLnNhdmVfZHBfcXVlcnkpIHsKCQkJCQkJCQl2YXIgbiA9ICIiOwoJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCW4gPSAidGFvYmFvIiA9PSBhLnNpdGUgPyBhLnNhdmVfZHBfcXVlcnkuZXhhY3RfYXJyLnRhb2Jhb19zYW1lX2lkIDogYS5zYXZlX2RwX3F1ZXJ5Lm5vdy5ub3dfZHBfaWQKCQkJCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBpCgkJCQkJCQkJfQoJCQkJCQkJCWUuX3NlbmRNb25pdG9yRGF0YShuKSwgY2xlYXJJbnRlcnZhbChlLnNlbmRUaW1lcikKCQkJCQkJCX0KCQkJCQkJfSwgMWUzKQoJCQkJCX0sCgkJCQkJX3NlbmRNb25pdG9yRGF0YTogZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCQlvID0gbig2Nykuc3BlY2lhbEZpbHRlcigpOwoJCQkJCQlvIHx8IChudWxsID09IGkuaW52ZW50b3J5ICYmIChpLmludmVudG9yeSA9ICItMiIpLCBudWxsID09IGkucHJpY2UgJiYgKGkucHJpY2UgPSAiMCIpLCBlLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L21vbml0b3I/c2l0ZT0iICsgYS5zaXRlICsgIiZzdWJzaXRlX2lkPSIgKyBhLnN1YnNpdGVfaWQgKyAiJmRwX2lkPSIgKyB0ICsgIiZwcm92aW5jZV9pZD0iICsgYS5wcm92aW5jZV9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5kcC51cmwpICsgIiZwcmljZT0iICsgaS5wcmljZSArICImc3RvY2s9IiArIGkuaW52ZW50b3J5ICsgIiZyYXd1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpKQoJCQkJCX0sCgkJCQkJX3NldFByaWNlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJbiA9IGEuc2l0ZSwKCQkJCQkJCXIgPSBpLmdldFNpdGVJZChuKTsKCQkJCQkJciB8fCAociA9IDk5OTkpLCB0W3JdKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQgJiYgdCA+IDAgPyAoZS5wcmljZSA9IHQsIGEuZHAub2xkUHJpY2UgPSB0KSA6IGUucHJpY2UgPSBhLmRwLnByaWNlLCBlLnByaWNlIHx8IChlLnByaWNlID0gby5nZXRPbmxpbmVQcmljZShuKSksICJ0YW9iYW8iID09IG4gJiYgIjAiICE9IGUucHJpY2UgJiYgKGUuc3BlY2lhbFNlbmRGbGFnID0gITApCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlfc2V0SW52ZW50b3J5OiBmdW5jdGlvbigpIHsKCQkJCQkJdGhpcy5pbnZlbnRvcnkgPSByLmluaXQoYS5zaXRlKQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgoJCWZ1bmN0aW9uIGkoZSwgdCwgbikgewoJCQlmdW5jdGlvbiBpKCkgewoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CgkJCQkJdmFyIG8gPSBlW2ldLAoJCQkJCQlyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvKTsKCQkJCQlpZiAocikgcmV0dXJuIGEoci50ZXh0Q29udGVudCwgdCwgbikKCQkJCX0KCQkJCXJldHVybiAtMQoJCQl9CgkJCXJldHVybiB0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIsIiwgaQoJCX0KCgkJZnVuY3Rpb24gYShlLCB0LCBuKSB7CgkJCWlmICh0ID0gdCB8fCAiLiIsIG4gPSBuIHx8ICIsIiwgLTEgPT09IGUpIHJldHVybiAtMTsKCQkJaWYgKGUgJiYgKGUgPSBlLnRvU3RyaW5nKCkucmVwbGFjZShuLCAiIiksIHQgJiYgIi4iICE9PSB0ICYmIChlID0gZS5yZXBsYWNlKHQsICIuIikpLCBlID0gZS5tYXRjaCgvWzAtOS5dKy8pKSkgdHJ5IHsKCQkJCXJldHVybiBwYXJzZUZsb2F0KGVbMF0pCgkJCX0gY2F0Y2ggKGkpIHsKCQkJCXJldHVybiAtMQoJCQl9CgkJCXJldHVybiAtMQoJCX0KCgkJZnVuY3Rpb24gbyhlKSB7CgkJCWZ1bmN0aW9uIHQodCkgewoJCQkJZnVuY3Rpb24gaShlKSB7CgkJCQkJbig2MSkuc2VuZFByaUNoZWNrKFt7CgkJCQkJCXVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZiwKCQkJCQkJcHJpY2U6IGUsCgkJCQkJCWNyYzMyOiAiIgoJCQkJCX1dKSwgdChlKQoJCQkJfQoJCQkJdmFyIGEgPSBlKCk7IC0gMSA9PT0gYSA/IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJaShlKCkpCgkJCQl9LCAzZTMpIDogaShhKQoJCQl9CgkJCXJldHVybiB0CgkJfQoKCQlmdW5jdGlvbiByKGUpIHsKCQkJcmV0dXJuIG8oaShlKSkKCQl9CgkJdmFyIHMgPSB7fTsKCQlzWzFdID0gcihbIiNwcmljZWJsb2NrX2RlYWxwcmljZSIsICIjcHJpY2VibG9ja19zYWxlcHJpY2UiLCAiI3ByaWNlYmxvY2tfb3VycHJpY2UiLCAiI3RtbVN3YXRjaGVzIC5hLWJ1dHRvbi1pbm5lciAgLmEtY29sb3Itc2Vjb25kYXJ5IHNwYW4iLCAiI3NvbGRCeVRoaXJkUGFydHkgLm9mZmVyLXByaWNlIiwgIiNvbHBfZmVhdHVyZV9kaXYgLmEtY29sb3ItcHJpY2UiLCAiLmEtY29sb3ItcHJpY2UiXSksIHNbMl0gPSByKFsiI2RkLXByaWNlIiwgIiNkX3ByaWNlIl0pLCBzWzNdID0gcihbIiNqZC1wcmljZSIsICIucC1wcmljZSAucHJpY2UiLCAiI3ByaWNlIiwgIi5wcmljZSJdKSwgc1s0XSA9IG8oZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IGUucXVlcnlTZWxlY3RvcigiI29tSGlkZGVuUHJpY2UiKS52YWx1ZTsKCQkJcmV0dXJuIGEodCkKCQl9KSwgc1sxMF0gPSByKFsiI2RsX3NlbGxfcHJpY2UiXSksIHNbMTJdID0gcihbImRpdi5wcm9tb3Rpb24tY29udGFpbmVyID4gcDpudGgtY2hpbGQoMikiXSksIHNbMTNdID0gcihbIi5kaXR5LXByaWNlLWMiXSksIHNbMTRdID0gcihbIi5wcmljZTEuc2FsZVByaWNlX2JpZyJdKSwgc1sxN10gPSByKFsiLmxlZnRQcmljZSJdKSwgc1sxOF0gPSByKFsiLm1lc3NhZ2VfcHJpY2UiLCAiLm1lc3NhZ2VfdGl0bGVfbmFtZV9iIl0pLCBzWzE5XSA9IHIoWyIudGVodWlNb25leSJdKSwgc1syMV0gPSByKFsiI3Byb2RQcmljZUFqIl0pLCBzWzIyXSA9IHIoWyIjcHJvZHVjdF9wcmljZSJdKSwgc1syNF0gPSByKFsiLmQtcmVhbC1wcmljZSJdKSwgc1syNV0gPSByKFsiLm1haW5wcmljZSJdKSwgc1syOF0gPSByKFsiI3ByZFByaWNlIiwgIiNzYWxlUHJpY2UiXSksIHNbMzFdID0gcihbIiNwcmljZW5vdyIsICIjY3VycmVudF9wcmljZSIsICIjZGV0YWlsX3Byb21fcHJpY2UiLCAiIl0pLCBzWzMyXSA9IHIoWyIjYnV5UHJpY2UiXSksIHNbMzNdID0gcihbIiNsZXlvdWppYSIsICIuaXRlbV9sIC5mb250X251bSJdKSwgc1szNF0gPSByKFsiLnNlbFByaWNlIl0pLCBzWzM1XSA9IHIoWyIjcHJkX3ByaWNlX2RpdiJdKSwgc1s0MF0gPSByKFsiLkdkX3Nob3BfUHJpY2UgYiJdKSwgc1s0MV0gPSByKFsiLmpzLmpzaiBiIl0pLCBzWzQzXSA9IHIoWyIucHJpY2UiXSksIHNbNDVdID0gcihbIi5wcmljZSAuYWN0aW9uLXByaWNlIl0pLCBzWzUwXSA9IHIoWyJwcm9fcHJvbW90aW9uX3ByaWNlIiwgIiNwcm9fbWFsbF9wcmljZSJdKSwgc1s1MV0gPSByKFsiI1NHb29kc1ByaWNlIl0pLCBzWzU0XSA9IHIoWyIjbXByaWNlIl0pLCBzWzYwXSA9IHIoWyIjeHhqZyAucHJvX2J1eV9zZW4iLCAiI3h4amcgLnByb19idXlfZGlzIG9wdGlvbjpsYXN0LWNoaWxkIl0pLCBzWzYxXSA9IHIoWyIudGVodWlqaWEgaTpsYXN0LWNoaWxkIC50aGlzcHJpY2UiLCAiLnByaWNlTGlzdDpsYXN0LWNoaWxkIHNwYW4iXSksIHNbNjJdID0gcihbIi5pbmZvLW1haW4gLnByaWNlLW4gYiJdKSwgc1s2Nl0gPSByKFsiLllUUHJpY2UiXSksIHNbNzJdID0gcihbIi5wcmljZV9ub3ciLCAiIl0pLCBzWzczXSA9IHIoWyIjcHJvZHVjdFNob3dQcmljZSJdKSwgc1s3NV0gPSByKFsiLmZza19nb29kc19wcmljZSIsICIuZ2RfcHJpY2UiXSksIHNbODNdID0gcihbIi50bS1wcm9tby1wcmljZSAudG0tcHJpY2UiLCAiLnRtLXByaWNlIl0pLCBzWzg0XSA9IHIoWyIuYnV5X3ByaSIsICIuZHluYW1pYy1wcmljZSJdKSwgc1s4Nl0gPSByKFsiLnByaWNlX251bSIsICIuZGVhbF9hY2NvdXRfdHdvIiwgIi5qdW1laV9wcmljZSIsICIucHJpY2Vfbm93Il0pLCBzWzkzXSA9IHIoWyIjeWl0aWFuUHJpY2UiXSksIHNbOTRdID0gcihbIi5nb29kX3ByaWNlIl0pLCBzWzk3XSA9IHIoWyIjcHJpY2VfYmlnIGVtIiwgIi5GRkEgZW0iXSksIHNbOThdID0gcihbIi5wLXByaWNlIl0pLCBzWzk5XSA9IHIoWyIjc2hvcHByaWNlIl0pLCBzWzEwMF0gPSByKFsiI3NhbGVQcmljZVRleHQiXSksIHNbMTAxXSA9IHIoWyIubXlQcmljZSBlbSJdKSwgc1sxMDJdID0gcihbIiNqaWFnZSAubnVtYiJdKSwgc1sxMDNdID0gcihbIiNub3dQcmljZSBzdHJvbmciXSksIHNbMTA4XSA9IHIoWyIjc3BQcmljZSJdKSwgc1sxMDldID0gcihbIi5za3UtcHJpY2UiXSksIHNbMTEwXSA9IHIoWyIjYmstZC1wcmljZSJdKSwgc1sxMTVdID0gcihbIi5tcHJpY2UiLCAiLnBfbXAiXSksIHNbMTIzXSA9IHIoWyIjSl9Qcm9tb1ByaWNlTnVtIiwgIiNKX1N0clByaWNlIl0pLCBzWzEyNV0gPSByKFsiLmRQcmljZSJdKSwgc1sxMjZdID0gcihbIiNwcmljZS1zZiAucHJpY2UiXSksIHNbMTI3XSA9IHIoWyIjaW50cm9fcHJpY2UgLnByaWNlIl0pLCBzWzEyOF0gPSByKFsiI3ByaWNlIl0pLCBzWzEyOV0gPSByKFsiI0otc2FsZS1wcmljZSIsICIuSi1wcmljZSJdKSwgc1sxMzRdID0gcihbIiNwcm8tcHJpY2UiXSksIHNbMTM1XSA9IHIoWyIuZGVfaW5mb19wcmljZSJdKSwgc1sxMzhdID0gcihbIiNFQ1NfU0hPUFBSSUNFIl0pLCBzWzE0MF0gPSByKFsiLmdyb3VwZGV0YWlsX25vd3ByaWNlIiwgIi5kc2luZ2xlX25vd3ByaWNlIl0pLCBzWzE0MV0gPSByKFsiI2ppYW55aVByaWNlIl0pLCBzWzE0Ml0gPSByKFsiLnNwYXJlMDIiXSksIHNbMTQ1XSA9IHIoWyIjcGRwUHJpY2UgLmRpc2NvdW50IiwgIiNwZHBQcmljZSIsICIuZGlzY291Il0pLCBzWzE0Nl0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1sxNDddID0gcihbIiNwb3N0UHJpY2UiXSksIHNbMTUyXSA9IHIoWyIuZGV0YWlsLWl0ZW0tZ29sZCJdKSwgc1sxNTNdID0gcihbIiNnNV9wcmljZSJdKSwgc1sxNTRdID0gcihbIi5wcm9tb3RlX3ByaWNlIl0pLCBzWzE1NV0gPSByKFsiLmN1ci1wcmljZSJdKSwgc1sxNTZdID0gcihbIiNzZWNvb1ByaWNlSnMiXSksIHNbMTU3XSA9IHIoWyIjcHJvZF9wcmljZSJdKSwgc1sxNThdID0gcihbIi5wcmljZTI0Il0pLCBzWzE2NF0gPSByKFsiLmpnX2N1aG9uZyIsICIjbXlqZ2N1aG9uZyJdKSwgc1sxNjddID0gcihbIi5KX21pX2dvb2RzUHJpY2UiLCAiLm1vbmV5IiwgIi5KX2N1cnJlbnRQcmljZSIsICJKX3Byb1ByaWNlIiwgIi5wcmljZSJdKSwgc1sxNjhdID0gcihbIi5sZXR2X3ByaWNlIiwgIiNqc19wcmljZSJdKSwgc1sxNzRdID0gcihbIi5wcm8tcHJpY2UiXSksIHNbMTgwXSA9IHIoWyIjSl9wcm9kdWN0X3ZhbHVlIiwgIi5pbmZvLXByaWNlIl0pLCBzWzE4Ml0gPSByKFsiLmRldGFpbF9wcmljZSIsICIuY291cG9uX3ByaWNlIl0pLCBzWzE4NF0gPSByKFsiLnByb21vdGlvbi1wcmljZSAucHJpY2UiLCAiLnByaWNlIl0pLCBzWzE4OF0gPSByKFsiI2dvb2RzUHJpY2UiXSksIHNbMTk0XSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzE5NV0gPSByKFsiI2l0ZW1fcHJpY2UiXSksIHNbMTk2XSA9IHIoWyIucHJpY2Ugc3Ryb25nIl0pLCBzWzE5N10gPSByKFsiLm1zX3ByaWNlIHN0cm9uZyJdKSwgc1syMDJdID0gcihbIiNKX05vd1ByaWNlIl0pLCBzWzIwM10gPSByKFsiI0pfTm93UHJpY2UiXSksIHNbMjEwXSA9IHIoWyIjZ19wcmljZSJdKSwgc1syMTNdID0gcihbIiNvZmZlclByaWNlIl0pLCBzWzIyMV0gPSByKFsiLnByaWNlIl0pLCBzWzIyMl0gPSByKFsiI3JwcmljZSJdKSwgc1syMjNdID0gcihbIi5jdXJyZW50UHJpY2UiXSksIHNbMjI2XSA9IHIoWyIubWFpblByaWNlIl0pLCBzWzIyN10gPSByKFsiLnNhbGUtcHJpY2UiXSksIHNbMjI4XSA9IHNbMV0sIHNbMjI5XSA9IHNbMV0sIHNbMjMwXSA9IHIoWyIjcHJjSXN1bSJdKSwgc1syMzFdID0gcihbIi5wLWN1cnJlbnQtcHJpY2UgLnAtcHJpY2UiXSksIHNbMjMyXSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzIzM10gPSByKFsiLmpzLXBkcExvY2FsUHJpY2UiXSksIHNbMjM0XSA9IHIoWyIjc2FsZXByaWNlX3ZhbHVlIl0pLCBzWzIzNV0gPSByKFsiLmRldGFpbF90emggc3BhbiJdKSwgc1syMzZdID0gcihbIi5wcm9fcHJpY2Ugc3BhbiJdKSwgc1syMzddID0gcihbIi52aWV3LVNrdVByaWNlSW5mbyAucHJpY2UiLCAiLnZpZXctU2t1UHJpY2VJbmZvIGkiXSksIHNbMjM4XSA9IHIoWyIjcHJpY2VTbG90IC5wcmljZSJdKSwgc1syMzldID0gcihbIi5wcm9kdWN0LXByaWNlIl0pLCBzWzI0MV0gPSByKFsiLnByaWNlQmxvY2sgLnNhbGVQcmljZSIsICIucHJpY2VCbG9jayJdKSwgc1syNDJdID0gcihbIi5uZy1iaW5kaW5nLndhZy1ib2xkIl0pLCBzWzI0M10gPSByKFsiI2Rpc3BsYXlQcmljZSJdKSwgc1syNDRdID0gcihbIi5wcmljZS1tYWluLXByb2R1Y3QgLnByaWNlLWN1cnJlbnQiLCAiLnByaWNlLWN1cnJlbnQiXSksIHNbMjQ1XSA9IHIoWyIjZmluYWwtcHJpY2UiXSksIHNbMjQ2XSA9IG8oaShbIiNwcmljZWJsb2NrX2RlYWxwcmljZSIsICIjcHJpY2VibG9ja19vdXJwcmljZSIsICIjdG1tU3dhdGNoZXMgLmEtYnV0dG9uLWlubmVyICAuYS1jb2xvci1zZWNvbmRhcnkgc3BhbiIsICIjc29sZEJ5VGhpcmRQYXJ0eSAub2ZmZXItcHJpY2UiLCAiI29scF9mZWF0dXJlX2RpdiAuYS1jb2xvci1wcmljZSJdLCAiLCIsICIuIikpLCBzWzI0N10gPSByKFsiI3ByaWNpbmcgdGQuaGlnaGxpZ2h0Il0pLCBzWzI0OF0gPSByKFsiLnByb2R1Y3QtcHJpY2UgLnByaWNlIl0pLCBzWzI0OV0gPSByKFsiI2pzLXByb2R1Y3QtaW5mb3JtYXRpb24tcHJpY2UgLnByb2R1Y3QtY3VycmVudC1wcmljZSIsICIubWFpbi1wcm9kdWN0LWRldGFpbHMgLmNvbXBhcmUtcHJpY2VfX2Rpc3BsYXkiXSksIHNbMjUxXSA9IHIoWyIucHJvZHVjdC1wcmljZS1jb250YWluZXIgLnByaWNlLXNhbGVzICJdKSwgc1syNTJdID0gcihbIi5kZXRhaWwtcHJpY2UiLCAic19kaXNjb3VudHByaWNlbmV3IiwgIi5jdXRwcmljZXBvc2l0aW9uIl0pLCBzWzI1Nl0gPSByKFsiI3ByaWNlIl0pLCBzWzI1OV0gPSByKFsiI1ByaWNlIC5wcm9kdWN0UHJpY2UiXSksIHNbMjYwXSA9IHIoWyIjcHJvZHVjdFByaWNlIC5ub3dQcmljZSIsICIjcHJvZHVjdFByaWNlIl0pLCBzWzI2MV0gPSByKFsiI3BkcE1haW5QcmljZSAucE91clByaWNlTSIsICIjcGRwU3ViUHJpY2UgLnBSZXRhaWxQcmljZTpudGgtY2hpbGQoMikiLCAiLnBSZXRhaWxQcmljZSIsICIjcGRwTWFpblByaWNlIl0pLCBzWzI2M10gPSByKFsiLnByaWNlU2FsZSJdKSwgc1syNjRdID0gcihbIi5wcmljZS1zZXQiXSksIHNbMjY2XSA9IHNbMV0sIHNbMjY3XSA9IHIoWyIuZ29vZHMtZGF0YSAuZ29vZHMtcHJpY2Ugc3BhbiJdKSwgc1syNjhdID0gcihbIi5nb29kcy1wcmljZS1yMSBzdHJvbmciXSksIHNbMjY5XSA9IHIoWyIjcHJvZHVjdFJNQiJdKSwgc1syNzBdID0gcihbIi5qX1ByaWNlTnVtIiwgIi5wcmljZSJdKSwgc1syNzFdID0gcihbIi5wcmljZSIsICIucHJvZHVjdF9wcmljZV9jb250Il0pLCBzWzI3Ml0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1syNzNdID0gcihbIi5wcm9kdWN0X3RvcF9yIHNwYW4uZnMyMCJdKSwgc1syNzRdID0gcihbIiNqU2NhcmVQcmljZSIsICIuakZpcnN0UHJpY2UiXSksIHNbMjc1XSA9IHIoWyIucm1iLXByaWNlIl0pLCBzWzI3Nl0gPSByKFsiLlByaWNlIl0pLCBzWzI3N10gPSByKFsiI2N1cnJQcmljZSJdKSwgc1syNzldID0gcihbIi5wcm9kdWN0X3ByaWNlIiwgInByaWNlX3JtYiJdKSwgc1syODBdID0gcihbIiNnb29kc0N1cnJlbnRQcmljZSIsICIucHJkc2FsZSBzdHJvbmciXSksIHNbMjgxXSA9IHIoWyIjYnFQcmljZSIsICIucHJpY2Ugc3BhbiJdKSwgc1syODVdID0gcihbIi5wcmljZSAuY3VycmVudCJdKSwgc1syODZdID0gcihbIi5qLWl0ZW0tbm93LXByaWNlIl0pLCBzWzI4N10gPSByKFsnLnhwcmljZV92YWxbaXRlbXByb3A9Imxvd1ByaWNlIl0nXSksIHNbMjg4XSA9IHIoWyIuYWN0aW9uLXByaWNlIl0pLCBzWzI4OV0gPSByKFsiLmN1cnJlbnRfcHJpY2UiXSksIHNbMjkwXSA9IHIoWyIucHJpY2UiXSksIHNbMjkxXSA9IHIoWyIjcHJpY2VEaXYgLm5vd1ByaWNlIl0pLCBzWzI5Ml0gPSByKFsiLml0ZW0tYWN0UHJpY2UiXSksIHNbMjk0XSA9IHIoWyIjc2FsZVByaWNlU3BhbiJdKSwgc1syOTVdID0gcihbIi5wcmljZS1zZWxsIC5wcmljZS1udW0iXSksIHNbMjk5XSA9IHIoWyIucHJvX3ByaWNlIC5wcmljZSJdKSwgc1szMDBdID0gcihbIiNwcmljZURvbUlkIl0pLCBzWzMwNV0gPSByKFsiLmF1dG9TaGlwUHJpY2UiLCAiLnNpbmdsZVByaWNlIl0pLCBzWzMwNl0gPSByKFsiLnByb2R1Y3QtcHJpY2UgZGl2Il0pLCBzWzMxMV0gPSByKFsiLnByb2R1Y3QtZnVsbF9fcHJpY2UiLCAiLnNwcC1wcm9kdWN0X19taW5pLWJhZy1wcmljZS1zaXplIl0pLCBzWzMxM10gPSByKFsiI2RldGFpbHMtcHJpY2UiXSksIHNbMzI4XSA9IHIoWyIuZ29vZHNwcmljZSJdKSwgc1szMzBdID0gcihbIiN5b3VfcGF5LnByaWNlIiwgIi5wcmljZSJdKSwgc1szMzddID0gcihbIi5wcmljZSJdKSwgc1szMzhdID0gcihbIi5qcy1wcmljZSJdKSwgc1szNDBdID0gcihbIi5zaW5nbGVQcmljZSJdKSwgc1szNDFdID0gcihbIi5wcm9kdWN0LXByaWNlIC5wcmljZSJdKSwgc1szNDNdID0gcihbIi5ib3NlLXByaWNlX19wcmljZSJdKSwgc1szNDRdID0gcihbIi5pdGVtLXByaWNlIl0pLCBzWzM0NV0gPSByKFsiLnlwWW91UGF5Il0pLCBzWzM0N10gPSByKFsiI0ZsYXNoUHJpY2UiXSksIHNbMzQ4XSA9IHIoWyIuZ29vZHMtcHJpY2UgLnByaWNlMSJdKSwgc1szNDldID0gcihbIi5qLXJldGFpbC1wcmljZSJdKSwgc1szNTFdID0gcihbIi50bV9qZyAjRUNTX1NIT1BQUklDRSIsICIjRUNTX1NIT1BQUklDRSJdKSwgc1szNTJdID0gcihbIi5wcmljZS1iIC5uZXciXSksIHNbMzU0XSA9IHIoWyIuZGV0YWlsLWxhc3QtcHJpY2UiXSksIHNbMzU1XSA9IHIoWyIucHJpY2UtaXRlbS5jdXJyZW50IC52YWx1ZSJdKSwgc1szNTZdID0gcihbIi5tLXByaWNlIl0pLCBzWzM1N10gPSByKFsiLnByb2R1Y3QtcHJpY2UgLnByaWNlIl0pLCBzWzM2Ml0gPSByKFsiLkRldGFpbFByaWNlQ29udGFpbiAuUHJpY2VOb3ciXSksIHNbMzYzXSA9IHIoWyIuY3VycmVudC1wcmljZSJdKSwgc1szNjRdID0gcihbIi5wcmljZSJdKSwgc1szNjVdID0gc1syNDZdLCBzWzM2Nl0gPSBzWzFdLCBzWzM2N10gPSByKFsiLml0ZW1JbmZvIC5wcmljZSJdKSwgc1szNjhdID0gcihbIiNzYWxlUHJpY2VJZCJdKSwgc1szNjldID0gcihbIiNqZC1wcmljZSJdKSwgc1szNzBdID0gcihbIiNzYWxlcHJpY2UiLCAiI2thbHVsaVByaWNlIl0pLCBzWzM3MV0gPSByKFsnI3Nob3dfZ29vZHNfcHJpY2UgW25hbWU9Imdvb2RzX3JlYWxfcHJpY2UiXSddKSwgc1szNzJdID0gcihbIi5wcmljZSJdKSwgc1szNzNdID0gcihbIiNiYl9wcmljZSJdKSwgc1szNzRdID0gcihbIiNvcHIiXSksIHNbMzc2XSA9IHIoWyIjSmdvb2RzUHJpY2UiXSksIHNbMzc3XSA9IHIoWyIuYWN0aW9uLXByb19wcmljZSIsICJhY3Rpb24tcHJpY2UiLCAiLnByaWNlIl0pLCBzWzM3OF0gPSByKFsiLmpGaXJzdFByaWNlIl0pLCBzWzM3OV0gPSByKFsiLmFjdGlvbi1wcmljZSJdKSwgc1szODBdID0gcihbIi5ub3ctcHJpY2UiXSksIHNbMzgxXSA9IHIoWyIucHJpY2VBbmRTZXJ2aWNlIC5wcmljZSJdKSwgc1szODJdID0gcihbIi5zYWxlLXByaWNlIl0pLCBzWzM4NV0gPSByKFsiI3NhbGVQcmljZSJdKSwgc1szODZdID0gcihbIi5wcmljZS1ib3ggLnByaWNlLXByb2R1Y3QiXSksIHNbMzg3XSA9IHIoWyIuc3BhcmUwMl9wcmljZSJdKSwgc1szODhdID0gcihbIi5jdXJyZW50LXByaWNlIl0pLCBzWzM4OV0gPSByKFsiLnByaWNlLWluZm8gLmN1cnJlbnQtcHJpY2UiXSksIHNbMzkwXSA9IHIoWyIuc2hvcC1uYXR1cmUxIFtwcmljZV0iXSksIHNbMzkxXSA9IHIoWyIubS1wcmljZSJdKSwgc1szOTJdID0gcihbIi5ub3ctcHJpY2UiXSksIHNbMzkzXSA9IHIoWyIuY3VycmVudC1wcmljZSJdKSwgc1szOTRdID0gcihbIi5jdXJyZW50LXByaWNlIC5wcmljZS1udW1iZXIiXSksIHNbMzk1XSA9IHIoWyIucm1iLXByaWNlIl0pLCBzWzM5Nl0gPSByKFsiLm5vdyAucHJpY2UiXSksIHNbMzk3XSA9IHIoWyIuRGV0YWlsUHJpY2UgLlByaWNlTm93Il0pLCBzWzM5OF0gPSByKFsiLmxhc3RfcHJpY2VzIC5wcmljZSJdKSwgc1szOTldID0gcihbIi5wcmljZS1udW1iZXIiXSksIHNbNDAwXSA9IHIoWyIucHJvZHVjdC1wcm9wZXJ0eSAuY3VycmVudC1wcmljZSJdKSwgc1s0MDFdID0gcihbIi5wcm9kdWN0LXNob3AgLlByaWNlTm93Il0pLCBzWzQwMl0gPSByKFsiLnByaWNlLW51bWJlciJdKSwgc1s0MDNdID0gbyhpKFsiLnByaWNlLXByb2R1Y3RkZXNjIl0sICIsIiwgIi4iKSksIHNbNDA0XSA9IHIoWyIucHJpY2UtY3VycmVudCJdKSwgc1s0MDVdID0gcihbIi5wcmljZS1pbmZvIC5wcmljZSJdKSwgc1s0MDZdID0gcihbIi5kLXByaWNlIl0pLCBzWzQwN10gPSByKFsiLmdvb2RzLXByaWNlIl0pLCBzWzQwOF0gPSByKFsiI3Byb2R1Y3Qtc3VtbWFyeSAucHJpY2UiXSksIHNbNDA5XSA9IHIoWyIucHJpY2Vfc2FsZSJdKSwgc1s0MTBdID0gcihbIi5zYWxlUHJpY2UiLCAiLm5vd1ByaWNlIl0pLCBzWzQxMV0gPSByKFsiI3NrdVByaWNlIl0pLCBzWzQxMl0gPSByKFsiI2l0ZW0tcHJpY2UgLmZvbnQtYm9sZCIsICIjaXRlbS1wcmljZSJdKSwgc1s0MTNdID0gcihbIiNwcm9kdWN0UHJpY2VJbmZvIC5tX3ByaWNlIl0pLCBzWzQxNF0gPSByKFsiLndiLXByaWNlIHNwYW4iXSksIHNbNDE1XSA9IHIoWyIucHJvZHVjdC1wcmljZSAucHJpY2UiXSksIHNbNDE2XSA9IHIoWyIjcHJpY2UiXSksIHNbNDE3XSA9IHIoWyIuc3BlY2lhbC1wcmljZSAucHJpY2UiLCAiLnByaWNlIl0pLCBzWzQxOF0gPSByKFsiLmZpbmFsIiwgIi5oZXJlX3ByaWNlIHN0cm9uZyJdKSwgc1s0MTldID0gcihbIi5tYXJrZXQtcHJpY2UiXSksIHNbNDIwXSA9IHIoWyIjc2FsZVByaWNlIl0pLCBzWzQyM10gPSByKFsiLnByaWNlIl0pLCBzWzQyNF0gPSByKFsiLnByaWNlLWN1cnJlbnQiLCAiLnJlZ3VsYXItcHJpY2UiXSksIHNbNDI3XSA9IHIoWyIucmVkU2FsZVByaWNlIiwgIi5wcm9kdWN0LXByaWNlLWJpZyAucHJpY2Utd3JhcHBlciJdKSwgc1s0MjhdID0gcihbIi5tb25ldGFyeS1wcmljZS12YWx1ZSJdKSwgc1s0MjldID0gc1s0MjddLCBzWzQzMF0gPSByKFsiLm51bV9zcGFuIl0pLCBzWzQzMV0gPSByKFsiI21hbGxfcHJpY2UiXSksIHNbNDMyXSA9IHIoWyIjcHJpY2VfY3VycmVudCJdKSwgc1s0MzNdID0gcihbIi5hY3Rpb24tcHJpY2UiXSksIHNbNDM0XSA9IHIoWyIucHJpY2UiXSksIHNbNDM1XSA9IHIoWyIuZ29vZHNwcmljZSJdKSwgc1s5OTk5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZSgpCgkJfSwgZS5leHBvcnRzID0gcwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSwgYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBvLCByLCBzID0gbigxMSksCgkJCQlsID0gbig1NyksCgkJCQljID0gbigxMyksCgkJCQlkID0gbigyNiksCgkJCQlwID0gewoJCQkJCWNyY2FycjogW10KCQkJCX0sCgkJCQloID0gewoJCQkJCXlpaGFvZGlhbjogWwoJCQkJCQlbIi5wcm9JbWcgYS5pbWciLCAiLnByb1ByaWNlPmVtLm51bSJdCgkJCQkJXSwKCQkJCQlzdW5pbmc6IFsKCQkJCQkJWyIuaW1nLWJsb2NrIGEuc2VsbFBvaW50IiwgIi5yZXMtaW5mbyAucHJpY2UiXQoJCQkJCV0KCQkJCX0sCgkJCQl1ID0gewoJCQkJCXlpaGFvZGlhbjogMzEsCgkJCQkJc3VuaW5nOiAyNQoJCQkJfSwKCQkJCW0gPSB7CgkJCQkJeWloYW9kaWFuOiAiLmNsZWFyZml4PiNwbGlzdCIsCgkJCQkJc3VuaW5nOiAiLnNlYXJjaC1tYWluIgoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJZm9yICh2YXIgbyA9IFtdLCByID0gdChlKS5sZW5ndGgsIHMgPSAwOyByID4gczsgcysrKSB7CgkJCQkJCXZhciBsID0gdChlKS5lcShzKS5maW5kKG4pLmVxKDApLAoJCQkJCQkJYyA9IHQoZSkuZXEocykuZmluZChhKS5lcSgwKTsKCQkJCQkJaWYgKGwgJiYgYykgewoJCQkJCQkJdmFyIGQgPSBsLmF0dHIoImhyZWYiKSB8fCAiIiwKCQkJCQkJCQloID0gYy50ZXh0KCksCgkJCQkJCQkJdSA9IF8obCk7CgkJCQkJCQlpZiAoZyhkKSkgY29udGludWU7CgkJCQkJCQlpZiAoZCA9IGkoZCksIGQgJiYgaCAmJiB1KSB7CgkJCQkJCQkJaWYgKHAuY3JjYXJyLmluZGV4T2YgJiYgLTEgPT09IHAuY3JjYXJyLmluZGV4T2YodSkgJiYgIngiICE9PSB1KSBwLmNyY2Fyci5wdXNoKHUpOwoJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQlpZiAoIngiICE9PSB1KSBjb250aW51ZTsKCQkJCQkJCQkJdSA9ICIiCgkJCQkJCQkJfQoJCQkJCQkJCW8ucHVzaCh7CgkJCQkJCQkJCXVybDogZCwKCQkJCQkJCQkJcHJpY2U6IGgsCgkJCQkJCQkJCWNyYzMyOiB1CgkJCQkJCQkJfSkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUuaW5kZXhPZigiIiArIGEuZXh0TmFtZSkgPiAtMSA/ICEwIDogInlpaGFvZGlhbiIgPT0gYS5zaXRlICYmIChlLmluZGV4T2YoInRyYWNrZXIueWhkLmNvbSIpID4gLTEgfHwgLTEgPT0gZS5pbmRleE9mKCJpdGVtLnloZC5jb20iKSkgPyAhMCA6ICIzNjBidXkiID09IGEuc2l0ZSAmJiAtMSA9PSBlLmluZGV4T2YoIml0ZW0uamQuY29tIikgPyAhMCA6ICExCgkJCQl9LAoJCQkJaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgdCA9IGUuaW5kZXhPZigiIyIpID4gLTE7CgkJCQkJCXJldHVybiB0ICYmIChlID0gZS5zbGljZSgwLCB0KSksIDAgPT09IGUuaW5kZXhPZigiLy8iKSA/ICJodHRwOiIgKyBlIDogMCA9PT0gZS5pbmRleE9mKCIvIikgPyAiIiArIGxvY2F0aW9uLmhvc3QgKyBlIDogZQoJCQkJCX0KCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gIiI7CgkJCQkJc3dpdGNoIChhLnNpdGUpIHsKCQkJCQkJY2FzZSAieWloYW9kaWFuIjoKCQkJCQkJCXZhciBpID0gdChlKS5hdHRyKCJpZCIpLm1hdGNoKC9wZGxpbmsxXyhcZCspLyk7CgkJCQkJCQlpICYmIChuID0gaVsxXSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCW4gPSB0KGUpLnBhcmVudHMoIi53cmFwIikuZmluZCgiaW5wdXQuaGlkZW5JbmZvIikuYXR0cigiZGF0YXBybyIpLnNwbGl0KCJ8fCIpWzBdOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQluID0gIngiCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gaFthLnNpdGVdLCBpID0gZS5sZW5ndGgsIG8gPSAwOyBpID4gbzsgbysrKQoJCQkJCQlmb3IgKHZhciByID0gZVtvXSwgcyA9IDA7IHMgPCBuLmxlbmd0aDsgcysrKSB7CgkJCQkJCQl2YXIgbCA9IG5bc10sCgkJCQkJCQkJYyA9IHQociArICIgIiArIGxbMF0pLAoJCQkJCQkJCWQgPSB0KHIgKyAiICIgKyBsWzFdKTsKCQkJCQkJCWlmIChjLmxlbmd0aCAmJiBkLmxlbmd0aCkgcmV0dXJuIGYociwgbFswXSwgbFsxXSkKCQkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKDAgIT09IGUubGVuZ3RoKSB7CgkJCQkJCXZhciB0ID0gbC5nZXRTdWJTdGF0aW9uSWQoYS5kcC5zaXRlKSwKCQkJCQkJCWkgPSB7CgkJCQkJCQkJcHJvdmluY2VfaWQ6IHQsCgkJCQkJCQkJaW5mbzogZQoJCQkJCQkJfTsKCQkJCQkJZCgiZ2V0TGlzdEluZm9faXNfc2VuZCIgKyBhLnVuaW9uICsgIl9zaXRlIiArIGEuc2l0ZSksIGMubG9nKCJnZXRMaXN0SW5mb19pc19pbnRvIiksIGkgPSBuKDYzKS5nWmlwKGkpOwoJCQkJCQl2YXIgbyA9IHVbYS5zaXRlXSB8fCB1Lm5vd1NpdGUgfHwgcjsKCQkJCQkJaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkgdHJ5IHsKCQkJCQkJCXZhciBzID0gbmV3IFhNTEh0dHBSZXF1ZXN0OwoJCQkJCQkJcy5vcGVuKCJQT1NUIiwgYS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1zZW5kTGlzdEluZm8mc2l0ZV9pZD0iICsgbyArICImdT0iICsgYS51bmlvbiksIHMuc2VuZChpKSwgYy5sb2coIuWunuaXtuaKk+WPluWPkemAgeivt+axgiIpCgkJCQkJCX0gY2F0Y2ggKHApIHt9CgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQoIiIgKyBtW2Euc2l0ZV0pWzBdOwoJCQkJCWUgJiYgZS5hZGRFdmVudExpc3RlbmVyICYmIGUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NU3VidHJlZU1vZGlmaWVkIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChvKSwgbyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IHgocC5zZWxlY3RvcnMpOwoJCQkJCQkJMCAhPT0gZS5sZW5ndGggJiYgdyhlKQoJCQkJCQl9LCAxZTMpCgkJCQkJfSwgITEpCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl1Lm5vd1NpdGUgPSBlLCB3KHQpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCFsb2NhdGlvbi5ob3N0Lm1hdGNoKC9ebVwuLykpCgkJCQkJaWYgKGhbYS5zaXRlXSkgewoJCQkJCQl2YXIgZSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIGUgPSBzLmNoZWNrKCk7CgkJCQkJCQlyZXR1cm4gcC5zZWxlY3RvcnMgPSBlLCAhZSB8fCBlICYmICFlLmxlbmd0aCA/IHsKCQkJCQkJCQl2OiB2b2lkIDAKCQkJCQkJCX0gOiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIHQgPSB4KGUpOwoJCQkJCQkJCTAgIT09IHQubGVuZ3RoICYmICh3KHQpLCB2KCkpCgkJCQkJCQl9LCAxZTMpCgkJCQkJCX0oKTsKCQkJCQkJaWYgKCJvYmplY3QiID09IHR5cGVvZiBlKSByZXR1cm4gZS52CgkJCQkJfSBlbHNlIHRyeSB7CgkJCQkJCW4oNjUpLmluaXQoYikKCQkJCQl9IGNhdGNoICh0KSB7CgkJCQkJCWQoImxpc3RJbmZvRXJyb3I6IiArIEpTT04uc3RyaW5naWZ5KHQpKQoJCQkJCX0KCQkJfSwgZS5leHBvcnRzLnNlbmRQcmlDaGVjayA9IGZ1bmN0aW9uKGUpIHsKCQkJCXIgPSBuKDY1KS5nZXRTaXRlSWQoYS5zaXRlKSwgdyhlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDYyKSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZnVuY3Rpb24gbigpIHsKCQkJYyA9ICExLCByLmxlbmd0aCA/IGwgPSByLmNvbmNhdChsKSA6IGQgPSAtMSwgbC5sZW5ndGggJiYgaSgpCgkJfQoKCQlmdW5jdGlvbiBpKCkgewoJCQlpZiAoIWMpIHsKCQkJCXZhciBlID0gc2V0VGltZW91dChuKTsKCQkJCWMgPSAhMDsKCQkJCWZvciAodmFyIHQgPSBsLmxlbmd0aDsgdDspIHsKCQkJCQlmb3IgKHIgPSBsLCBsID0gW107ICsrZCA8IHQ7KSByICYmIHJbZF0ucnVuKCk7CgkJCQkJZCA9IC0xLCB0ID0gbC5sZW5ndGgKCQkJCX0KCQkJCXIgPSBudWxsLCBjID0gITEsIGNsZWFyVGltZW91dChlKQoJCQl9CgkJfQoKCQlmdW5jdGlvbiBhKGUsIHQpIHsKCQkJdGhpcy5mdW4gPSBlLCB0aGlzLmFycmF5ID0gdAoJCX0KCgkJZnVuY3Rpb24gbygpIHt9CgkJdmFyIHIsIHMgPSBlLmV4cG9ydHMgPSB7fSwKCQkJbCA9IFtdLAoJCQljID0gITEsCgkJCWQgPSAtMTsKCQlzLm5leHRUaWNrID0gZnVuY3Rpb24oZSkgewoJCQl2YXIgdCA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7CgkJCWlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkKCQkJCWZvciAodmFyIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB0W24gLSAxXSA9IGFyZ3VtZW50c1tuXTsKCQkJbC5wdXNoKG5ldyBhKGUsIHQpKSwgMSAhPT0gbC5sZW5ndGggfHwgYyB8fCBzZXRUaW1lb3V0KGksIDApCgkJfSwgYS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7CgkJCXRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpCgkJfSwgcy50aXRsZSA9ICJicm93c2VyIiwgcy5icm93c2VyID0gITAsIHMuZW52ID0ge30sIHMuYXJndiA9IFtdLCBzLnZlcnNpb24gPSAiIiwgcy52ZXJzaW9ucyA9IHt9LCBzLm9uID0gbywgcy5hZGRMaXN0ZW5lciA9IG8sIHMub25jZSA9IG8sIHMub2ZmID0gbywgcy5yZW1vdmVMaXN0ZW5lciA9IG8sIHMucmVtb3ZlQWxsTGlzdGVuZXJzID0gbywgcy5lbWl0ID0gbywgcy5iaW5kaW5nID0gZnVuY3Rpb24oZSkgewoJCQl0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIikKCQl9LCBzLmN3ZCA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gIi8iCgkJfSwgcy5jaGRpciA9IGZ1bmN0aW9uKGUpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKQoJCX0sIHMudW1hc2sgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIDAKCQl9Cgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCSJ1c2Ugc3RyaWN0IjsKCQl2YXIgaSA9IG4oNjQpOwoJCWUuZXhwb3J0cy5nWmlwID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gaS5nemlwKEpTT04uc3RyaW5naWZ5KGUpKQoJCX0sIGUuZXhwb3J0cy51bkd6aXAgPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBKU09OLnBhcnNlKGkudW5nemlwKGUpKQoJCX0KCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGksIGk7CgkJISBmdW5jdGlvbih0KSB7CgkJCWUuZXhwb3J0cyA9IHQoKQoJCX0oZnVuY3Rpb24oKSB7CgkJCXJldHVybiBmdW5jdGlvbiBlKHQsIG4sIGEpIHsKCQkJCWZ1bmN0aW9uIG8ocywgbCkgewoJCQkJCWlmICghbltzXSkgewoJCQkJCQlpZiAoIXRbc10pIHsKCQkJCQkJCXZhciBjID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSAmJiBpOwoJCQkJCQkJaWYgKCFsICYmIGMpIHJldHVybiBpKHMsICEwKTsKCQkJCQkJCWlmIChyKSByZXR1cm4gcihzLCAhMCk7CgkJCQkJCQl2YXIgZCA9IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciICsgcyArICInIik7CgkJCQkJCQl0aHJvdyBkLmNvZGUgPSAiTU9EVUxFX05PVF9GT1VORCIsIGQKCQkJCQkJfQoJCQkJCQl2YXIgcCA9IG5bc10gPSB7CgkJCQkJCQlleHBvcnRzOiB7fQoJCQkJCQl9OwoJCQkJCQl0W3NdWzBdLmNhbGwocC5leHBvcnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgbiA9IHRbc11bMV1bZV07CgkJCQkJCQlyZXR1cm4gbyhuID8gbiA6IGUpCgkJCQkJCX0sIHAsIHAuZXhwb3J0cywgZSwgdCwgbiwgYSkKCQkJCQl9CgkJCQkJcmV0dXJuIG5bc10uZXhwb3J0cwoJCQkJfQoJCQkJZm9yICh2YXIgciA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgJiYgaSwgcyA9IDA7IHMgPCBhLmxlbmd0aDsgcysrKSBvKGFbc10pOwoJCQkJcmV0dXJuIG8KCQkJfSh7CgkJCQkxOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJCWlmICghKHRoaXMgaW5zdGFuY2VvZiBpKSkgcmV0dXJuIG5ldyBpKGUpOwoJCQkJCQkJdGhpcy5vcHRpb25zID0gbC5hc3NpZ24oewoJCQkJCQkJCWxldmVsOiB4LAoJCQkJCQkJCW1ldGhvZDogdiwKCQkJCQkJCQljaHVua1NpemU6IDE2Mzg0LAoJCQkJCQkJCXdpbmRvd0JpdHM6IDE1LAoJCQkJCQkJCW1lbUxldmVsOiA4LAoJCQkJCQkJCXN0cmF0ZWd5OiB3LAoJCQkJCQkJCXRvOiAiIgoJCQkJCQkJfSwgZSB8fCB7fSk7CgkJCQkJCQl2YXIgdCA9IHRoaXMub3B0aW9uczsKCQkJCQkJCXQucmF3ICYmIHQud2luZG93Qml0cyA+IDAgPyB0LndpbmRvd0JpdHMgPSAtdC53aW5kb3dCaXRzIDogdC5nemlwICYmIHQud2luZG93Qml0cyA+IDAgJiYgdC53aW5kb3dCaXRzIDwgMTYgJiYgKHQud2luZG93Qml0cyArPSAxNiksIHRoaXMuZXJyID0gMCwgdGhpcy5tc2cgPSAiIiwgdGhpcy5lbmRlZCA9ICExLCB0aGlzLmNodW5rcyA9IFtdLCB0aGlzLnN0cm0gPSBuZXcgcCwgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7CgkJCQkJCQl2YXIgbiA9IHMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSwgdC5sZXZlbCwgdC5tZXRob2QsIHQud2luZG93Qml0cywgdC5tZW1MZXZlbCwgdC5zdHJhdGVneSk7CgkJCQkJCQlpZiAobiAhPT0gZikgdGhyb3cgbmV3IEVycm9yKGRbbl0pOwoJCQkJCQkJaWYgKHQuaGVhZGVyICYmIHMuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sIHQuaGVhZGVyKSwgdC5kaWN0aW9uYXJ5KSB7CgkJCQkJCQkJdmFyIGE7CgkJCQkJCQkJaWYgKGEgPSAic3RyaW5nIiA9PSB0eXBlb2YgdC5kaWN0aW9uYXJ5ID8gYy5zdHJpbmcyYnVmKHQuZGljdGlvbmFyeSkgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSBoLmNhbGwodC5kaWN0aW9uYXJ5KSA/IG5ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSkgOiB0LmRpY3Rpb25hcnksIG4gPSBzLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgYSksIG4gIT09IGYpIHRocm93IG5ldyBFcnJvcihkW25dKTsKCQkJCQkJCQl0aGlzLl9kaWN0X3NldCA9ICEwCgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSBuZXcgaSh0KTsKCQkJCQkJCWlmIChuLnB1c2goZSwgITApLCBuLmVycikgdGhyb3cgbi5tc2c7CgkJCQkJCQlyZXR1cm4gbi5yZXN1bHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbyhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQucmF3ID0gITAsIGEoZSwgdCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQuZ3ppcCA9ICEwLCBhKGUsIHQpCgkJCQkJCX0KCQkJCQkJdmFyIHMgPSBlKCIuL3psaWIvZGVmbGF0ZSIpLAoJCQkJCQkJbCA9IGUoIi4vdXRpbHMvY29tbW9uIiksCgkJCQkJCQljID0gZSgiLi91dGlscy9zdHJpbmdzIiksCgkJCQkJCQlkID0gZSgiLi96bGliL21lc3NhZ2VzIiksCgkJCQkJCQlwID0gZSgiLi96bGliL3pzdHJlYW0iKSwKCQkJCQkJCWggPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLAoJCQkJCQkJdSA9IDAsCgkJCQkJCQltID0gNCwKCQkJCQkJCWYgPSAwLAoJCQkJCQkJZyA9IDEsCgkJCQkJCQlfID0gMiwKCQkJCQkJCXggPSAtMSwKCQkJCQkJCXcgPSAwLAoJCQkJCQkJdiA9IDg7CgkJCQkJCWkucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMuc3RybSwKCQkJCQkJCQlvID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTsKCQkJCQkJCWlmICh0aGlzLmVuZGVkKSByZXR1cm4gITE7CgkJCQkJCQlpID0gdCA9PT0gfn50ID8gdCA6IHQgPT09ICEwID8gbSA6IHUsICJzdHJpbmciID09IHR5cGVvZiBlID8gYS5pbnB1dCA9IGMuc3RyaW5nMmJ1ZihlKSA6ICJbb2JqZWN0IEFycmF5QnVmZmVyXSIgPT09IGguY2FsbChlKSA/IGEuaW5wdXQgPSBuZXcgVWludDhBcnJheShlKSA6IGEuaW5wdXQgPSBlLCBhLm5leHRfaW4gPSAwLCBhLmF2YWlsX2luID0gYS5pbnB1dC5sZW5ndGg7CgkJCQkJCQlkbyB7CgkJCQkJCQkJaWYgKDAgPT09IGEuYXZhaWxfb3V0ICYmIChhLm91dHB1dCA9IG5ldyBsLkJ1ZjgobyksIGEubmV4dF9vdXQgPSAwLCBhLmF2YWlsX291dCA9IG8pLCBuID0gcy5kZWZsYXRlKGEsIGkpLCBuICE9PSBnICYmIG4gIT09IGYpIHJldHVybiB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsICExOwoJCQkJCQkJCSgwID09PSBhLmF2YWlsX291dCB8fCAwID09PSBhLmF2YWlsX2luICYmIChpID09PSBtIHx8IGkgPT09IF8pKSAmJiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50byA/IHRoaXMub25EYXRhKGMuYnVmMmJpbnN0cmluZyhsLnNocmlua0J1ZihhLm91dHB1dCwgYS5uZXh0X291dCkpKSA6IHRoaXMub25EYXRhKGwuc2hyaW5rQnVmKGEub3V0cHV0LCBhLm5leHRfb3V0KSkpCgkJCQkJCQl9IHdoaWxlICgoYS5hdmFpbF9pbiA+IDAgfHwgMCA9PT0gYS5hdmFpbF9vdXQpICYmIG4gIT09IGcpOwoJCQkJCQkJcmV0dXJuIGkgPT09IG0gPyAobiA9IHMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLCB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsIG4gPT09IGYpIDogaSA9PT0gXyA/ICh0aGlzLm9uRW5kKGYpLCBhLmF2YWlsX291dCA9IDAsICEwKSA6ICEwCgkJCQkJCX0sIGkucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXRoaXMuY2h1bmtzLnB1c2goZSkKCQkJCQkJfSwgaS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQllID09PSBmICYmICgic3RyaW5nIiA9PT0gdGhpcy5vcHRpb25zLnRvID8gdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCIiKSA6IHRoaXMucmVzdWx0ID0gbC5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuZXJyID0gZSwgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnCgkJCQkJCX0sIG4uRGVmbGF0ZSA9IGksIG4uZGVmbGF0ZSA9IGEsIG4uZGVmbGF0ZVJhdyA9IG8sIG4uZ3ppcCA9IHIKCQkJCQl9LCB7CgkJCQkJCSIuL3V0aWxzL2NvbW1vbiI6IDMsCgkJCQkJCSIuL3V0aWxzL3N0cmluZ3MiOiA0LAoJCQkJCQkiLi96bGliL2RlZmxhdGUiOiA4LAoJCQkJCQkiLi96bGliL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3psaWIvenN0cmVhbSI6IDE1CgkJCQkJfQoJCQkJXSwKCQkJCTI6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoZSkgewoJCQkJCQkJaWYgKCEodGhpcyBpbnN0YW5jZW9mIGkpKSByZXR1cm4gbmV3IGkoZSk7CgkJCQkJCQl0aGlzLm9wdGlvbnMgPSBzLmFzc2lnbih7CgkJCQkJCQkJY2h1bmtTaXplOiAxNjM4NCwKCQkJCQkJCQl3aW5kb3dCaXRzOiAwLAoJCQkJCQkJCXRvOiAiIgoJCQkJCQkJfSwgZSB8fCB7fSk7CgkJCQkJCQl2YXIgdCA9IHRoaXMub3B0aW9uczsKCQkJCQkJCXQucmF3ICYmIHQud2luZG93Qml0cyA+PSAwICYmIHQud2luZG93Qml0cyA8IDE2ICYmICh0LndpbmRvd0JpdHMgPSAtdC53aW5kb3dCaXRzLCAwID09PSB0LndpbmRvd0JpdHMgJiYgKHQud2luZG93Qml0cyA9IC0xNSkpLCAhKHQud2luZG93Qml0cyA+PSAwICYmIHQud2luZG93Qml0cyA8IDE2KSB8fCBlICYmIGUud2luZG93Qml0cyB8fCAodC53aW5kb3dCaXRzICs9IDMyKSwgdC53aW5kb3dCaXRzID4gMTUgJiYgdC53aW5kb3dCaXRzIDwgNDggJiYgMCA9PT0gKDE1ICYgdC53aW5kb3dCaXRzKSAmJiAodC53aW5kb3dCaXRzIHw9IDE1KSwgdGhpcy5lcnIgPSAwLCB0aGlzLm1zZyA9ICIiLCB0aGlzLmVuZGVkID0gITEsIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuc3RybSA9IG5ldyBwLCB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDsKCQkJCQkJCXZhciBuID0gci5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLCB0LndpbmRvd0JpdHMpOwoJCQkJCQkJaWYgKG4gIT09IGMuWl9PSykgdGhyb3cgbmV3IEVycm9yKGRbbl0pOwoJCQkJCQkJdGhpcy5oZWFkZXIgPSBuZXcgaCwgci5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSwgdGhpcy5oZWFkZXIpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSBuZXcgaSh0KTsKCQkJCQkJCWlmIChuLnB1c2goZSwgITApLCBuLmVycikgdGhyb3cgbi5tc2c7CgkJCQkJCQlyZXR1cm4gbi5yZXN1bHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbyhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gdCA9IHQgfHwge30sIHQucmF3ID0gITAsIGEoZSwgdCkKCQkJCQkJfQoJCQkJCQl2YXIgciA9IGUoIi4vemxpYi9pbmZsYXRlIiksCgkJCQkJCQlzID0gZSgiLi91dGlscy9jb21tb24iKSwKCQkJCQkJCWwgPSBlKCIuL3V0aWxzL3N0cmluZ3MiKSwKCQkJCQkJCWMgPSBlKCIuL3psaWIvY29uc3RhbnRzIiksCgkJCQkJCQlkID0gZSgiLi96bGliL21lc3NhZ2VzIiksCgkJCQkJCQlwID0gZSgiLi96bGliL3pzdHJlYW0iKSwKCQkJCQkJCWggPSBlKCIuL3psaWIvZ3poZWFkZXIiKSwKCQkJCQkJCXUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwoJCQkJCQlpLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8sIGQsIHAsIGggPSB0aGlzLnN0cm0sCgkJCQkJCQkJbSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemUsCgkJCQkJCQkJZiA9IHRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LAoJCQkJCQkJCWcgPSAhMTsKCQkJCQkJCWlmICh0aGlzLmVuZGVkKSByZXR1cm4gITE7CgkJCQkJCQlpID0gdCA9PT0gfn50ID8gdCA6IHQgPT09ICEwID8gYy5aX0ZJTklTSCA6IGMuWl9OT19GTFVTSCwgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBoLmlucHV0ID0gbC5iaW5zdHJpbmcyYnVmKGUpIDogIltvYmplY3QgQXJyYXlCdWZmZXJdIiA9PT0gdS5jYWxsKGUpID8gaC5pbnB1dCA9IG5ldyBVaW50OEFycmF5KGUpIDogaC5pbnB1dCA9IGUsIGgubmV4dF9pbiA9IDAsIGguYXZhaWxfaW4gPSBoLmlucHV0Lmxlbmd0aDsKCQkJCQkJCWRvIHsKCQkJCQkJCQlpZiAoMCA9PT0gaC5hdmFpbF9vdXQgJiYgKGgub3V0cHV0ID0gbmV3IHMuQnVmOChtKSwgaC5uZXh0X291dCA9IDAsIGguYXZhaWxfb3V0ID0gbSksIG4gPSByLmluZmxhdGUoaCwgYy5aX05PX0ZMVVNIKSwgbiA9PT0gYy5aX05FRURfRElDVCAmJiBmICYmIChwID0gInN0cmluZyIgPT0gdHlwZW9mIGYgPyBsLnN0cmluZzJidWYoZikgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSB1LmNhbGwoZikgPyBuZXcgVWludDhBcnJheShmKSA6IGYsIG4gPSByLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgcCkpLCBuID09PSBjLlpfQlVGX0VSUk9SICYmIGcgPT09ICEwICYmIChuID0gYy5aX09LLCBnID0gITEpLCBuICE9PSBjLlpfU1RSRUFNX0VORCAmJiBuICE9PSBjLlpfT0spIHJldHVybiB0aGlzLm9uRW5kKG4pLCB0aGlzLmVuZGVkID0gITAsICExOwoJCQkJCQkJCWgubmV4dF9vdXQgJiYgKDAgPT09IGguYXZhaWxfb3V0IHx8IG4gPT09IGMuWl9TVFJFQU1fRU5EIHx8IDAgPT09IGguYXZhaWxfaW4gJiYgKGkgPT09IGMuWl9GSU5JU0ggfHwgaSA9PT0gYy5aX1NZTkNfRkxVU0gpKSAmJiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50byA/IChhID0gbC51dGY4Ym9yZGVyKGgub3V0cHV0LCBoLm5leHRfb3V0KSwgbyA9IGgubmV4dF9vdXQgLSBhLCBkID0gbC5idWYyc3RyaW5nKGgub3V0cHV0LCBhKSwgaC5uZXh0X291dCA9IG8sIGguYXZhaWxfb3V0ID0gbSAtIG8sIG8gJiYgcy5hcnJheVNldChoLm91dHB1dCwgaC5vdXRwdXQsIGEsIG8sIDApLCB0aGlzLm9uRGF0YShkKSkgOiB0aGlzLm9uRGF0YShzLnNocmlua0J1ZihoLm91dHB1dCwgaC5uZXh0X291dCkpKSwgMCA9PT0gaC5hdmFpbF9pbiAmJiAwID09PSBoLmF2YWlsX291dCAmJiAoZyA9ICEwKQoJCQkJCQkJfSB3aGlsZSAoKGguYXZhaWxfaW4gPiAwIHx8IDAgPT09IGguYXZhaWxfb3V0KSAmJiBuICE9PSBjLlpfU1RSRUFNX0VORCk7CgkJCQkJCQlyZXR1cm4gbiA9PT0gYy5aX1NUUkVBTV9FTkQgJiYgKGkgPSBjLlpfRklOSVNIKSwgaSA9PT0gYy5aX0ZJTklTSCA/IChuID0gci5pbmZsYXRlRW5kKHRoaXMuc3RybSksIHRoaXMub25FbmQobiksIHRoaXMuZW5kZWQgPSAhMCwgbiA9PT0gYy5aX09LKSA6IGkgPT09IGMuWl9TWU5DX0ZMVVNIID8gKHRoaXMub25FbmQoYy5aX09LKSwgaC5hdmFpbF9vdXQgPSAwLCAhMCkgOiAhMAoJCQkJCQl9LCBpLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQl0aGlzLmNodW5rcy5wdXNoKGUpCgkJCQkJCX0sIGkucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZSA9PT0gYy5aX09LICYmICgic3RyaW5nIiA9PT0gdGhpcy5vcHRpb25zLnRvID8gdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCIiKSA6IHRoaXMucmVzdWx0ID0gcy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuZXJyID0gZSwgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnCgkJCQkJCX0sIG4uSW5mbGF0ZSA9IGksIG4uaW5mbGF0ZSA9IGEsIG4uaW5mbGF0ZVJhdyA9IG8sIG4udW5nemlwID0gYQoJCQkJCX0sIHsKCQkJCQkJIi4vdXRpbHMvY29tbW9uIjogMywKCQkJCQkJIi4vdXRpbHMvc3RyaW5ncyI6IDQsCgkJCQkJCSIuL3psaWIvY29uc3RhbnRzIjogNiwKCQkJCQkJIi4vemxpYi9nemhlYWRlciI6IDksCgkJCQkJCSIuL3psaWIvaW5mbGF0ZSI6IDExLAoJCQkJCQkiLi96bGliL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3psaWIvenN0cmVhbSI6IDE1CgkJCQkJfQoJCQkJXSwKCQkJCTM6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJdmFyIGkgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgVWludDhBcnJheSAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgVWludDE2QXJyYXkgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIEludDMyQXJyYXk7CgkJCQkJCW4uYXNzaWduID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZm9yICh2YXIgdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IHQubGVuZ3RoOykgewoJCQkJCQkJCXZhciBuID0gdC5zaGlmdCgpOwoJCQkJCQkJCWlmIChuKSB7CgkJCQkJCQkJCWlmICgib2JqZWN0IiAhPSB0eXBlb2YgbikgdGhyb3cgbmV3IFR5cGVFcnJvcihuICsgIm11c3QgYmUgbm9uLW9iamVjdCIpOwoJCQkJCQkJCQlmb3IgKHZhciBpIGluIG4pIG4uaGFzT3duUHJvcGVydHkoaSkgJiYgKGVbaV0gPSBuW2ldKQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlCgkJCQkJCX0sIG4uc2hyaW5rQnVmID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuIGUubGVuZ3RoID09PSB0ID8gZSA6IGUuc3ViYXJyYXkgPyBlLnN1YmFycmF5KDAsIHQpIDogKGUubGVuZ3RoID0gdCwgZSkKCQkJCQkJfTsKCQkJCQkJdmFyIGEgPSB7CgkJCQkJCQkJYXJyYXlTZXQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCQkJaWYgKHQuc3ViYXJyYXkgJiYgZS5zdWJhcnJheSkgcmV0dXJuIHZvaWQgZS5zZXQodC5zdWJhcnJheShuLCBuICsgaSksIGEpOwoJCQkJCQkJCQlmb3IgKHZhciBvID0gMDsgaSA+IG87IG8rKykgZVthICsgb10gPSB0W24gKyBvXQoJCQkJCQkJCX0sCgkJCQkJCQkJZmxhdHRlbkNodW5rczogZnVuY3Rpb24oZSkgewoJCQkJCQkJCQl2YXIgdCwgbiwgaSwgYSwgbywgcjsKCQkJCQkJCQkJZm9yIChpID0gMCwgdCA9IDAsIG4gPSBlLmxlbmd0aDsgbiA+IHQ7IHQrKykgaSArPSBlW3RdLmxlbmd0aDsKCQkJCQkJCQkJZm9yIChyID0gbmV3IFVpbnQ4QXJyYXkoaSksIGEgPSAwLCB0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKSBvID0gZVt0XSwgci5zZXQobywgYSksIGEgKz0gby5sZW5ndGg7CgkJCQkJCQkJCXJldHVybiByCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJYXJyYXlTZXQ6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCQkJZm9yICh2YXIgbyA9IDA7IGkgPiBvOyBvKyspIGVbYSArIG9dID0gdFtuICsgb10KCQkJCQkJCQl9LAoJCQkJCQkJCWZsYXR0ZW5DaHVua3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIFtdLmNvbmNhdC5hcHBseShbXSwgZSkKCQkJCQkJCQl9CgkJCQkJCQl9OwoJCQkJCQluLnNldFR5cGVkID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJZSA/IChuLkJ1ZjggPSBVaW50OEFycmF5LCBuLkJ1ZjE2ID0gVWludDE2QXJyYXksIG4uQnVmMzIgPSBJbnQzMkFycmF5LCBuLmFzc2lnbihuLCBhKSkgOiAobi5CdWY4ID0gQXJyYXksIG4uQnVmMTYgPSBBcnJheSwgbi5CdWYzMiA9IEFycmF5LCBuLmFzc2lnbihuLCBvKSkKCQkJCQkJfSwgbi5zZXRUeXBlZChpKQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJNDogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCQkJCQlpZiAoNjU1MzcgPiB0ICYmIChlLnN1YmFycmF5ICYmIHIgfHwgIWUuc3ViYXJyYXkgJiYgbykpIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGEuc2hyaW5rQnVmKGUsIHQpKTsKCQkJCQkJCWZvciAodmFyIG4gPSAiIiwgaSA9IDA7IHQgPiBpOyBpKyspIG4gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKTsKCQkJCQkJCXJldHVybiBuCgkJCQkJCX0KCQkJCQkJdmFyIGEgPSBlKCIuL2NvbW1vbiIpLAoJCQkJCQkJbyA9ICEwLAoJCQkJCQkJciA9ICEwOwoJCQkJCQl0cnkgewoJCQkJCQkJU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBbMF0pCgkJCQkJCX0gY2F0Y2ggKHMpIHsKCQkJCQkJCW8gPSAhMQoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQlTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KDEpKQoJCQkJCQl9IGNhdGNoIChzKSB7CgkJCQkJCQlyID0gITEKCQkJCQkJfQoJCQkJCQlmb3IgKHZhciBsID0gbmV3IGEuQnVmOCgyNTYpLCBjID0gMDsgMjU2ID4gYzsgYysrKSBsW2NdID0gYyA+PSAyNTIgPyA2IDogYyA+PSAyNDggPyA1IDogYyA+PSAyNDAgPyA0IDogYyA+PSAyMjQgPyAzIDogYyA+PSAxOTIgPyAyIDogMTsKCQkJCQkJbFsyNTRdID0gbFsyNTRdID0gMSwgbi5zdHJpbmcyYnVmID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQsIG4sIGksIG8sIHIsIHMgPSBlLmxlbmd0aCwKCQkJCQkJCQlsID0gMDsKCQkJCQkJCWZvciAobyA9IDA7IHMgPiBvOyBvKyspIG4gPSBlLmNoYXJDb2RlQXQobyksIDU1Mjk2ID09PSAoNjQ1MTIgJiBuKSAmJiBzID4gbyArIDEgJiYgKGkgPSBlLmNoYXJDb2RlQXQobyArIDEpLCA1NjMyMCA9PT0gKDY0NTEyICYgaSkgJiYgKG4gPSA2NTUzNiArIChuIC0gNTUyOTYgPDwgMTApICsgKGkgLSA1NjMyMCksIG8rKykpLCBsICs9IDEyOCA+IG4gPyAxIDogMjA0OCA+IG4gPyAyIDogNjU1MzYgPiBuID8gMyA6IDQ7CgkJCQkJCQlmb3IgKHQgPSBuZXcgYS5CdWY4KGwpLCByID0gMCwgbyA9IDA7IGwgPiByOyBvKyspIG4gPSBlLmNoYXJDb2RlQXQobyksIDU1Mjk2ID09PSAoNjQ1MTIgJiBuKSAmJiBzID4gbyArIDEgJiYgKGkgPSBlLmNoYXJDb2RlQXQobyArIDEpLCA1NjMyMCA9PT0gKDY0NTEyICYgaSkgJiYgKG4gPSA2NTUzNiArIChuIC0gNTUyOTYgPDwgMTApICsgKGkgLSA1NjMyMCksIG8rKykpLCAxMjggPiBuID8gdFtyKytdID0gbiA6IDIwNDggPiBuID8gKHRbcisrXSA9IDE5MiB8IG4gPj4+IDYsIHRbcisrXSA9IDEyOCB8IDYzICYgbikgOiA2NTUzNiA+IG4gPyAodFtyKytdID0gMjI0IHwgbiA+Pj4gMTIsIHRbcisrXSA9IDEyOCB8IG4gPj4+IDYgJiA2MywgdFtyKytdID0gMTI4IHwgNjMgJiBuKSA6ICh0W3IrK10gPSAyNDAgfCBuID4+PiAxOCwgdFtyKytdID0gMTI4IHwgbiA+Pj4gMTIgJiA2MywgdFtyKytdID0gMTI4IHwgbiA+Pj4gNiAmIDYzLCB0W3IrK10gPSAxMjggfCA2MyAmIG4pOwoJCQkJCQkJcmV0dXJuIHQKCQkJCQkJfSwgbi5idWYyYmluc3RyaW5nID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGkoZSwgZS5sZW5ndGgpCgkJCQkJCX0sIG4uYmluc3RyaW5nMmJ1ZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBuZXcgYS5CdWY4KGUubGVuZ3RoKSwgbiA9IDAsIGkgPSB0Lmxlbmd0aDsgaSA+IG47IG4rKykgdFtuXSA9IGUuY2hhckNvZGVBdChuKTsKCQkJCQkJCXJldHVybiB0CgkJCQkJCX0sIG4uYnVmMnN0cmluZyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCXZhciBuLCBhLCBvLCByLCBzID0gdCB8fCBlLmxlbmd0aCwKCQkJCQkJCQljID0gbmV3IEFycmF5KDIgKiBzKTsKCQkJCQkJCWZvciAoYSA9IDAsIG4gPSAwOyBzID4gbjspCgkJCQkJCQkJaWYgKG8gPSBlW24rK10sIDEyOCA+IG8pIGNbYSsrXSA9IG87CgkJCQkJCQkJZWxzZSBpZiAociA9IGxbb10sIHIgPiA0KSBjW2ErK10gPSA2NTUzMywgbiArPSByIC0gMTsKCQkJCQkJCWVsc2UgewoJCQkJCQkJCWZvciAobyAmPSAyID09PSByID8gMzEgOiAzID09PSByID8gMTUgOiA3OyByID4gMSAmJiBzID4gbjspIG8gPSBvIDw8IDYgfCA2MyAmIGVbbisrXSwgci0tOwoJCQkJCQkJCXIgPiAxID8gY1thKytdID0gNjU1MzMgOiA2NTUzNiA+IG8gPyBjW2ErK10gPSBvIDogKG8gLT0gNjU1MzYsIGNbYSsrXSA9IDU1Mjk2IHwgbyA+PiAxMCAmIDEwMjMsIGNbYSsrXSA9IDU2MzIwIHwgMTAyMyAmIG8pCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gaShjLCBhKQoJCQkJCQl9LCBuLnV0Zjhib3JkZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbjsKCQkJCQkJCWZvciAodCA9IHQgfHwgZS5sZW5ndGgsIHQgPiBlLmxlbmd0aCAmJiAodCA9IGUubGVuZ3RoKSwgbiA9IHQgLSAxOyBuID49IDAgJiYgMTI4ID09PSAoMTkyICYgZVtuXSk7KSBuLS07CgkJCQkJCQlyZXR1cm4gMCA+IG4gPyB0IDogMCA9PT0gbiA/IHQgOiBuICsgbFtlW25dXSA+IHQgPyBuIDogdAoJCQkJCQl9CgkJCQkJfSwgewoJCQkJCQkiLi9jb21tb24iOiAzCgkJCQkJfQoJCQkJXSwKCQkJCTU6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoZSwgdCwgbiwgaSkgewoJCQkJCQkJZm9yICh2YXIgYSA9IDY1NTM1ICYgZSB8IDAsIG8gPSBlID4+PiAxNiAmIDY1NTM1IHwgMCwgciA9IDA7IDAgIT09IG47KSB7CgkJCQkJCQkJciA9IG4gPiAyZTMgPyAyZTMgOiBuLCBuIC09IHI7CgkJCQkJCQkJZG8gYSA9IGEgKyB0W2krK10gfCAwLCBvID0gbyArIGEgfCAwOyB3aGlsZSAoLS1yKTsKCQkJCQkJCQlhICU9IDY1NTIxLCBvICU9IDY1NTIxCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gYSB8IG8gPDwgMTYgfCAwCgkJCQkJCX0KCQkJCQkJdC5leHBvcnRzID0gaQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJNjogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQl0LmV4cG9ydHMgPSB7CgkJCQkJCQlaX05PX0ZMVVNIOiAwLAoJCQkJCQkJWl9QQVJUSUFMX0ZMVVNIOiAxLAoJCQkJCQkJWl9TWU5DX0ZMVVNIOiAyLAoJCQkJCQkJWl9GVUxMX0ZMVVNIOiAzLAoJCQkJCQkJWl9GSU5JU0g6IDQsCgkJCQkJCQlaX0JMT0NLOiA1LAoJCQkJCQkJWl9UUkVFUzogNiwKCQkJCQkJCVpfT0s6IDAsCgkJCQkJCQlaX1NUUkVBTV9FTkQ6IDEsCgkJCQkJCQlaX05FRURfRElDVDogMiwKCQkJCQkJCVpfRVJSTk86IC0xLAoJCQkJCQkJWl9TVFJFQU1fRVJST1I6IC0yLAoJCQkJCQkJWl9EQVRBX0VSUk9SOiAtMywKCQkJCQkJCVpfQlVGX0VSUk9SOiAtNSwKCQkJCQkJCVpfTk9fQ09NUFJFU1NJT046IDAsCgkJCQkJCQlaX0JFU1RfU1BFRUQ6IDEsCgkJCQkJCQlaX0JFU1RfQ09NUFJFU1NJT046IDksCgkJCQkJCQlaX0RFRkFVTFRfQ09NUFJFU1NJT046IC0xLAoJCQkJCQkJWl9GSUxURVJFRDogMSwKCQkJCQkJCVpfSFVGRk1BTl9PTkxZOiAyLAoJCQkJCQkJWl9STEU6IDMsCgkJCQkJCQlaX0ZJWEVEOiA0LAoJCQkJCQkJWl9ERUZBVUxUX1NUUkFURUdZOiAwLAoJCQkJCQkJWl9CSU5BUlk6IDAsCgkJCQkJCQlaX1RFWFQ6IDEsCgkJCQkJCQlaX1VOS05PV046IDIsCgkJCQkJCQlaX0RFRkxBVEVEOiA4CgkJCQkJCX0KCQkJCQl9LCB7fQoJCQkJXSwKCQkJCTc6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCgkJCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJCQlmb3IgKHZhciBlLCB0ID0gW10sIG4gPSAwOyAyNTYgPiBuOyBuKyspIHsKCQkJCQkJCQllID0gbjsKCQkJCQkJCQlmb3IgKHZhciBpID0gMDsgOCA+IGk7IGkrKykgZSA9IDEgJiBlID8gMzk4ODI5MjM4NCBeIGUgPj4+IDEgOiBlID4+PiAxOwoJCQkJCQkJCXRbbl0gPSBlCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBhKGUsIHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhID0gbywKCQkJCQkJCQlyID0gaSArIG47CgkJCQkJCQllIF49IC0xOwoJCQkJCQkJZm9yICh2YXIgcyA9IGk7IHIgPiBzOyBzKyspIGUgPSBlID4+PiA4IF4gYVsyNTUgJiAoZSBeIHRbc10pXTsKCQkJCQkJCXJldHVybiAtMSBeIGUKCQkJCQkJfQoJCQkJCQl2YXIgbyA9IGkoKTsKCQkJCQkJdC5leHBvcnRzID0gYQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJODogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZS5tc2cgPSBxW3RdLCB0CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGEoZSkgewoJCQkJCQkJcmV0dXJuIChlIDw8IDEpIC0gKGUgPiA0ID8gOSA6IDApCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCQkJZm9yICh2YXIgdCA9IGUubGVuZ3RoOyAtLXQgPj0gMDspIGVbdF0gPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJCQkJdmFyIHQgPSBlLnN0YXRlLAoJCQkJCQkJCW4gPSB0LnBlbmRpbmc7CgkJCQkJCQluID4gZS5hdmFpbF9vdXQgJiYgKG4gPSBlLmF2YWlsX291dCksIDAgIT09IG4gJiYgKFQuYXJyYXlTZXQoZS5vdXRwdXQsIHQucGVuZGluZ19idWYsIHQucGVuZGluZ19vdXQsIG4sIGUubmV4dF9vdXQpLCBlLm5leHRfb3V0ICs9IG4sIHQucGVuZGluZ19vdXQgKz0gbiwgZS50b3RhbF9vdXQgKz0gbiwgZS5hdmFpbF9vdXQgLT0gbiwgdC5wZW5kaW5nIC09IG4sIDAgPT09IHQucGVuZGluZyAmJiAodC5wZW5kaW5nX291dCA9IDApKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCVAuX3RyX2ZsdXNoX2Jsb2NrKGUsIGUuYmxvY2tfc3RhcnQgPj0gMCA/IGUuYmxvY2tfc3RhcnQgOiAtMSwgZS5zdHJzdGFydCAtIGUuYmxvY2tfc3RhcnQsIHQpLCBlLmJsb2NrX3N0YXJ0ID0gZS5zdHJzdGFydCwgcihlLnN0cm0pCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCkgewoJCQkJCQkJZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGMoZSwgdCkgewoJCQkJCQkJZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0ID4+PiA4ICYgMjU1LCBlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXSA9IDI1NSAmIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gZChlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9IGUuYXZhaWxfaW47CgkJCQkJCQlyZXR1cm4gYSA+IGkgJiYgKGEgPSBpKSwgMCA9PT0gYSA/IDAgOiAoZS5hdmFpbF9pbiAtPSBhLCBULmFycmF5U2V0KHQsIGUuaW5wdXQsIGUubmV4dF9pbiwgYSwgbiksIDEgPT09IGUuc3RhdGUud3JhcCA/IGUuYWRsZXIgPSBJKGUuYWRsZXIsIHQsIGEsIG4pIDogMiA9PT0gZS5zdGF0ZS53cmFwICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCB0LCBhLCBuKSksIGUubmV4dF9pbiArPSBhLCBlLnRvdGFsX2luICs9IGEsIGEpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHAoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEgPSBlLm1heF9jaGFpbl9sZW5ndGgsCgkJCQkJCQkJbyA9IGUuc3Ryc3RhcnQsCgkJCQkJCQkJciA9IGUucHJldl9sZW5ndGgsCgkJCQkJCQkJcyA9IGUubmljZV9tYXRjaCwKCQkJCQkJCQlsID0gZS5zdHJzdGFydCA+IGUud19zaXplIC0gcGUgPyBlLnN0cnN0YXJ0IC0gKGUud19zaXplIC0gcGUpIDogMCwKCQkJCQkJCQljID0gZS53aW5kb3csCgkJCQkJCQkJZCA9IGUud19tYXNrLAoJCQkJCQkJCXAgPSBlLnByZXYsCgkJCQkJCQkJaCA9IGUuc3Ryc3RhcnQgKyBkZSwKCQkJCQkJCQl1ID0gY1tvICsgciAtIDFdLAoJCQkJCQkJCW0gPSBjW28gKyByXTsKCQkJCQkJCWUucHJldl9sZW5ndGggPj0gZS5nb29kX21hdGNoICYmIChhID4+PSAyKSwgcyA+IGUubG9va2FoZWFkICYmIChzID0gZS5sb29rYWhlYWQpOwoJCQkJCQkJZG8KCQkJCQkJCQlpZiAobiA9IHQsIGNbbiArIHJdID09PSBtICYmIGNbbiArIHIgLSAxXSA9PT0gdSAmJiBjW25dID09PSBjW29dICYmIGNbKytuXSA9PT0gY1tvICsgMV0pIHsKCQkJCQkJCQkJbyArPSAyLCBuKys7CgkJCQkJCQkJCWRvOyB3aGlsZSAoY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgY1srK29dID09PSBjWysrbl0gJiYgaCA+IG8pOwoJCQkJCQkJCQlpZiAoaSA9IGRlIC0gKGggLSBvKSwgbyA9IGggLSBkZSwgaSA+IHIpIHsKCQkJCQkJCQkJCWlmIChlLm1hdGNoX3N0YXJ0ID0gdCwgciA9IGksIGkgPj0gcykgYnJlYWs7CgkJCQkJCQkJCQl1ID0gY1tvICsgciAtIDFdLCBtID0gY1tvICsgcl0KCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCXdoaWxlICgodCA9IHBbdCAmIGRdKSA+IGwgJiYgMCAhPT0gLS1hKTsKCQkJCQkJCXJldHVybiByIDw9IGUubG9va2FoZWFkID8gciA6IGUubG9va2FoZWFkCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIgPSBlLndfc2l6ZTsKCQkJCQkJCWRvIHsKCQkJCQkJCQlpZiAoYSA9IGUud2luZG93X3NpemUgLSBlLmxvb2thaGVhZCAtIGUuc3Ryc3RhcnQsIGUuc3Ryc3RhcnQgPj0gciArIChyIC0gcGUpKSB7CgkJCQkJCQkJCVQuYXJyYXlTZXQoZS53aW5kb3csIGUud2luZG93LCByLCByLCAwKSwgZS5tYXRjaF9zdGFydCAtPSByLCBlLnN0cnN0YXJ0IC09IHIsIGUuYmxvY2tfc3RhcnQgLT0gciwgbiA9IGUuaGFzaF9zaXplLCB0ID0gbjsKCQkJCQkJCQkJZG8gaSA9IGUuaGVhZFstLXRdLCBlLmhlYWRbdF0gPSBpID49IHIgPyBpIC0gciA6IDA7IHdoaWxlICgtLW4pOwoJCQkJCQkJCQluID0gciwgdCA9IG47CgkJCQkJCQkJCWRvIGkgPSBlLnByZXZbLS10XSwgZS5wcmV2W3RdID0gaSA+PSByID8gaSAtIHIgOiAwOyB3aGlsZSAoLS1uKTsKCQkJCQkJCQkJYSArPSByCgkJCQkJCQkJfQoJCQkJCQkJCWlmICgwID09PSBlLnN0cm0uYXZhaWxfaW4pIGJyZWFrOwoJCQkJCQkJCWlmIChuID0gZChlLnN0cm0sIGUud2luZG93LCBlLnN0cnN0YXJ0ICsgZS5sb29rYWhlYWQsIGEpLCBlLmxvb2thaGVhZCArPSBuLCBlLmxvb2thaGVhZCArIGUuaW5zZXJ0ID49IGNlKQoJCQkJCQkJCQlmb3IgKG8gPSBlLnN0cnN0YXJ0IC0gZS5pbnNlcnQsIGUuaW5zX2ggPSBlLndpbmRvd1tvXSwgZS5pbnNfaCA9IChlLmluc19oIDw8IGUuaGFzaF9zaGlmdCBeIGUud2luZG93W28gKyAxXSkgJiBlLmhhc2hfbWFzazsgZS5pbnNlcnQgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tvICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgZS5wcmV2W28gJiBlLndfbWFza10gPSBlLmhlYWRbZS5pbnNfaF0sIGUuaGVhZFtlLmluc19oXSA9IG8sIG8rKywgZS5pbnNlcnQtLSwgIShlLmxvb2thaGVhZCArIGUuaW5zZXJ0IDwgY2UpKTspOwoJCQkJCQkJfSB3aGlsZSAoZS5sb29rYWhlYWQgPCBwZSAmJiAwICE9PSBlLnN0cm0uYXZhaWxfaW4pCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHUoZSwgdCkgewoJCQkJCQkJdmFyIG4gPSA2NTUzNTsKCQkJCQkJCWZvciAobiA+IGUucGVuZGluZ19idWZfc2l6ZSAtIDUgJiYgKG4gPSBlLnBlbmRpbmdfYnVmX3NpemUgLSA1KTs7KSB7CgkJCQkJCQkJaWYgKGUubG9va2FoZWFkIDw9IDEpIHsKCQkJCQkJCQkJaWYgKGgoZSksIDAgPT09IGUubG9va2FoZWFkICYmIHQgPT09IEUpIHJldHVybiB2ZTsKCQkJCQkJCQkJaWYgKDAgPT09IGUubG9va2FoZWFkKSBicmVhawoJCQkJCQkJCX0KCQkJCQkJCQllLnN0cnN0YXJ0ICs9IGUubG9va2FoZWFkLCBlLmxvb2thaGVhZCA9IDA7CgkJCQkJCQkJdmFyIGkgPSBlLmJsb2NrX3N0YXJ0ICsgbjsKCQkJCQkJCQlpZiAoKDAgPT09IGUuc3Ryc3RhcnQgfHwgZS5zdHJzdGFydCA+PSBpKSAmJiAoZS5sb29rYWhlYWQgPSBlLnN0cnN0YXJ0IC0gaSwgZS5zdHJzdGFydCA9IGksIHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIHZlOwoJCQkJCQkJCWlmIChlLnN0cnN0YXJ0IC0gZS5ibG9ja19zdGFydCA+PSBlLndfc2l6ZSAtIHBlICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkpIHJldHVybiB2ZQoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIGUuaW5zZXJ0ID0gMCwgdCA9PT0gRCA/IChzKGUsICEwKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCA/IHllIDoga2UpIDogZS5zdHJzdGFydCA+IGUuYmxvY2tfc3RhcnQgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSA/IHZlIDogdmUKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gbShlLCB0KSB7CgkJCQkJCQlmb3IgKHZhciBuLCBpOzspIHsKCQkJCQkJCQlpZiAoZS5sb29rYWhlYWQgPCBwZSkgewoJCQkJCQkJCQlpZiAoaChlKSwgZS5sb29rYWhlYWQgPCBwZSAmJiB0ID09PSBFKSByZXR1cm4gdmU7CgkJCQkJCQkJCWlmICgwID09PSBlLmxvb2thaGVhZCkgYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKG4gPSAwLCBlLmxvb2thaGVhZCA+PSBjZSAmJiAoZS5pbnNfaCA9IChlLmluc19oIDw8IGUuaGFzaF9zaGlmdCBeIGUud2luZG93W2Uuc3Ryc3RhcnQgKyBjZSAtIDFdKSAmIGUuaGFzaF9tYXNrLCBuID0gZS5wcmV2W2Uuc3Ryc3RhcnQgJiBlLndfbWFza10gPSBlLmhlYWRbZS5pbnNfaF0sIGUuaGVhZFtlLmluc19oXSA9IGUuc3Ryc3RhcnQpLCAwICE9PSBuICYmIGUuc3Ryc3RhcnQgLSBuIDw9IGUud19zaXplIC0gcGUgJiYgKGUubWF0Y2hfbGVuZ3RoID0gcChlLCBuKSksIGUubWF0Y2hfbGVuZ3RoID49IGNlKQoJCQkJCQkJCQlpZiAoaSA9IFAuX3RyX3RhbGx5KGUsIGUuc3Ryc3RhcnQgLSBlLm1hdGNoX3N0YXJ0LCBlLm1hdGNoX2xlbmd0aCAtIGNlKSwgZS5sb29rYWhlYWQgLT0gZS5tYXRjaF9sZW5ndGgsIGUubWF0Y2hfbGVuZ3RoIDw9IGUubWF4X2xhenlfbWF0Y2ggJiYgZS5sb29rYWhlYWQgPj0gY2UpIHsKCQkJCQkJCQkJCWUubWF0Y2hfbGVuZ3RoLS07CgkJCQkJCQkJCQlkbyBlLnN0cnN0YXJ0KyssIGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0OyB3aGlsZSAoMCAhPT0gLS1lLm1hdGNoX2xlbmd0aCk7CgkJCQkJCQkJCQllLnN0cnN0YXJ0KysKCQkJCQkJCQkJfSBlbHNlIGUuc3Ryc3RhcnQgKz0gZS5tYXRjaF9sZW5ndGgsIGUubWF0Y2hfbGVuZ3RoID0gMCwgZS5pbnNfaCA9IGUud2luZG93W2Uuc3Ryc3RhcnRdLCBlLmluc19oID0gKGUuaW5zX2ggPDwgZS5oYXNoX3NoaWZ0IF4gZS53aW5kb3dbZS5zdHJzdGFydCArIDFdKSAmIGUuaGFzaF9tYXNrOwoJCQkJCQkJCWVsc2UgaSA9IFAuX3RyX3RhbGx5KGUsIDAsIGUud2luZG93W2Uuc3Ryc3RhcnRdKSwgZS5sb29rYWhlYWQtLSwgZS5zdHJzdGFydCsrOyBpZiAoaSAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gdmUKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlLmluc2VydCA9IGUuc3Ryc3RhcnQgPCBjZSAtIDEgPyBlLnN0cnN0YXJ0IDogY2UgLSAxLCB0ID09PSBEID8gKHMoZSwgITApLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0ID8geWUgOiBrZSkgOiBlLmxhc3RfbGl0ICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgPyB2ZSA6IGJlCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGYoZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYTs7KSB7CgkJCQkJCQkJaWYgKGUubG9va2FoZWFkIDwgcGUpIHsKCQkJCQkJCQkJaWYgKGgoZSksIGUubG9va2FoZWFkIDwgcGUgJiYgdCA9PT0gRSkgcmV0dXJuIHZlOwoJCQkJCQkJCQlpZiAoMCA9PT0gZS5sb29rYWhlYWQpIGJyZWFrCgkJCQkJCQkJfQoJCQkJCQkJCWlmIChuID0gMCwgZS5sb29rYWhlYWQgPj0gY2UgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0KSwgZS5wcmV2X2xlbmd0aCA9IGUubWF0Y2hfbGVuZ3RoLCBlLnByZXZfbWF0Y2ggPSBlLm1hdGNoX3N0YXJ0LCBlLm1hdGNoX2xlbmd0aCA9IGNlIC0gMSwgMCAhPT0gbiAmJiBlLnByZXZfbGVuZ3RoIDwgZS5tYXhfbGF6eV9tYXRjaCAmJiBlLnN0cnN0YXJ0IC0gbiA8PSBlLndfc2l6ZSAtIHBlICYmIChlLm1hdGNoX2xlbmd0aCA9IHAoZSwgbiksIGUubWF0Y2hfbGVuZ3RoIDw9IDUgJiYgKGUuc3RyYXRlZ3kgPT09IFkgfHwgZS5tYXRjaF9sZW5ndGggPT09IGNlICYmIGUuc3Ryc3RhcnQgLSBlLm1hdGNoX3N0YXJ0ID4gNDA5NikgJiYgKGUubWF0Y2hfbGVuZ3RoID0gY2UgLSAxKSksIGUucHJldl9sZW5ndGggPj0gY2UgJiYgZS5tYXRjaF9sZW5ndGggPD0gZS5wcmV2X2xlbmd0aCkgewoJCQkJCQkJCQlhID0gZS5zdHJzdGFydCArIGUubG9va2FoZWFkIC0gY2UsIGkgPSBQLl90cl90YWxseShlLCBlLnN0cnN0YXJ0IC0gMSAtIGUucHJldl9tYXRjaCwgZS5wcmV2X2xlbmd0aCAtIGNlKSwgZS5sb29rYWhlYWQgLT0gZS5wcmV2X2xlbmd0aCAtIDEsIGUucHJldl9sZW5ndGggLT0gMjsKCQkJCQkJCQkJZG8gKytlLnN0cnN0YXJ0IDw9IGEgJiYgKGUuaW5zX2ggPSAoZS5pbnNfaCA8PCBlLmhhc2hfc2hpZnQgXiBlLndpbmRvd1tlLnN0cnN0YXJ0ICsgY2UgLSAxXSkgJiBlLmhhc2hfbWFzaywgbiA9IGUucHJldltlLnN0cnN0YXJ0ICYgZS53X21hc2tdID0gZS5oZWFkW2UuaW5zX2hdLCBlLmhlYWRbZS5pbnNfaF0gPSBlLnN0cnN0YXJ0KTsgd2hpbGUgKDAgIT09IC0tZS5wcmV2X2xlbmd0aCk7CgkJCQkJCQkJCWlmIChlLm1hdGNoX2F2YWlsYWJsZSA9IDAsIGUubWF0Y2hfbGVuZ3RoID0gY2UgLSAxLCBlLnN0cnN0YXJ0KyssIGkgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIHZlCgkJCQkJCQkJfSBlbHNlIGlmIChlLm1hdGNoX2F2YWlsYWJsZSkgewoJCQkJCQkJCQlpZiAoaSA9IFAuX3RyX3RhbGx5KGUsIDAsIGUud2luZG93W2Uuc3Ryc3RhcnQgLSAxXSksIGkgJiYgcyhlLCAhMSksIGUuc3Ryc3RhcnQrKywgZS5sb29rYWhlYWQtLSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgcmV0dXJuIHZlCgkJCQkJCQkJfSBlbHNlIGUubWF0Y2hfYXZhaWxhYmxlID0gMSwgZS5zdHJzdGFydCsrLCBlLmxvb2thaGVhZC0tCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gZS5tYXRjaF9hdmFpbGFibGUgJiYgKGkgPSBQLl90cl90YWxseShlLCAwLCBlLndpbmRvd1tlLnN0cnN0YXJ0IC0gMV0pLCBlLm1hdGNoX2F2YWlsYWJsZSA9IDApLCBlLmluc2VydCA9IGUuc3Ryc3RhcnQgPCBjZSAtIDEgPyBlLnN0cnN0YXJ0IDogY2UgLSAxLCB0ID09PSBEID8gKHMoZSwgITApLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0ID8geWUgOiBrZSkgOiBlLmxhc3RfbGl0ICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkgPyB2ZSA6IGJlCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGcoZSwgdCkgewoJCQkJCQkJZm9yICh2YXIgbiwgaSwgYSwgbywgciA9IGUud2luZG93OzspIHsKCQkJCQkJCQlpZiAoZS5sb29rYWhlYWQgPD0gZGUpIHsKCQkJCQkJCQkJaWYgKGgoZSksIGUubG9va2FoZWFkIDw9IGRlICYmIHQgPT09IEUpIHJldHVybiB2ZTsKCQkJCQkJCQkJaWYgKDAgPT09IGUubG9va2FoZWFkKSBicmVhawoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoZS5tYXRjaF9sZW5ndGggPSAwLCBlLmxvb2thaGVhZCA+PSBjZSAmJiBlLnN0cnN0YXJ0ID4gMCAmJiAoYSA9IGUuc3Ryc3RhcnQgLSAxLCBpID0gclthXSwgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0pKSB7CgkJCQkJCQkJCW8gPSBlLnN0cnN0YXJ0ICsgZGU7CgkJCQkJCQkJCWRvOyB3aGlsZSAoaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0gJiYgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBpID09PSByWysrYV0gJiYgaSA9PT0gclsrK2FdICYmIGkgPT09IHJbKythXSAmJiBvID4gYSk7CgkJCQkJCQkJCWUubWF0Y2hfbGVuZ3RoID0gZGUgLSAobyAtIGEpLCBlLm1hdGNoX2xlbmd0aCA+IGUubG9va2FoZWFkICYmIChlLm1hdGNoX2xlbmd0aCA9IGUubG9va2FoZWFkKQoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoZS5tYXRjaF9sZW5ndGggPj0gY2UgPyAobiA9IFAuX3RyX3RhbGx5KGUsIDEsIGUubWF0Y2hfbGVuZ3RoIC0gY2UpLCBlLmxvb2thaGVhZCAtPSBlLm1hdGNoX2xlbmd0aCwgZS5zdHJzdGFydCArPSBlLm1hdGNoX2xlbmd0aCwgZS5tYXRjaF9sZW5ndGggPSAwKSA6IChuID0gUC5fdHJfdGFsbHkoZSwgMCwgZS53aW5kb3dbZS5zdHJzdGFydF0pLCBlLmxvb2thaGVhZC0tLCBlLnN0cnN0YXJ0KyspLCBuICYmIChzKGUsICExKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCkpIHJldHVybiB2ZQoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIGUuaW5zZXJ0ID0gMCwgdCA9PT0gRCA/IChzKGUsICEwKSwgMCA9PT0gZS5zdHJtLmF2YWlsX291dCA/IHllIDoga2UpIDogZS5sYXN0X2xpdCAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpID8gdmUgOiBiZQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBfKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG47OykgewoJCQkJCQkJCWlmICgwID09PSBlLmxvb2thaGVhZCAmJiAoaChlKSwgMCA9PT0gZS5sb29rYWhlYWQpKSB7CgkJCQkJCQkJCWlmICh0ID09PSBFKSByZXR1cm4gdmU7CgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJfQoJCQkJCQkJCWlmIChlLm1hdGNoX2xlbmd0aCA9IDAsIG4gPSBQLl90cl90YWxseShlLCAwLCBlLndpbmRvd1tlLnN0cnN0YXJ0XSksIGUubG9va2FoZWFkLS0sIGUuc3Ryc3RhcnQrKywgbiAmJiAocyhlLCAhMSksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gdmUKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBlLmluc2VydCA9IDAsIHQgPT09IEQgPyAocyhlLCAhMCksIDAgPT09IGUuc3RybS5hdmFpbF9vdXQgPyB5ZSA6IGtlKSA6IGUubGFzdF9saXQgJiYgKHMoZSwgITEpLCAwID09PSBlLnN0cm0uYXZhaWxfb3V0KSA/IHZlIDogYmUKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geChlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCQl0aGlzLmdvb2RfbGVuZ3RoID0gZSwgdGhpcy5tYXhfbGF6eSA9IHQsIHRoaXMubmljZV9sZW5ndGggPSBuLCB0aGlzLm1heF9jaGFpbiA9IGksIHRoaXMuZnVuYyA9IGEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gdyhlKSB7CgkJCQkJCQllLndpbmRvd19zaXplID0gMiAqIGUud19zaXplLCBvKGUuaGVhZCksIGUubWF4X2xhenlfbWF0Y2ggPSBOW2UubGV2ZWxdLm1heF9sYXp5LCBlLmdvb2RfbWF0Y2ggPSBOW2UubGV2ZWxdLmdvb2RfbGVuZ3RoLCBlLm5pY2VfbWF0Y2ggPSBOW2UubGV2ZWxdLm5pY2VfbGVuZ3RoLCBlLm1heF9jaGFpbl9sZW5ndGggPSBOW2UubGV2ZWxdLm1heF9jaGFpbiwgZS5zdHJzdGFydCA9IDAsIGUuYmxvY2tfc3RhcnQgPSAwLCBlLmxvb2thaGVhZCA9IDAsIGUuaW5zZXJ0ID0gMCwgZS5tYXRjaF9sZW5ndGggPSBlLnByZXZfbGVuZ3RoID0gY2UgLSAxLCBlLm1hdGNoX2F2YWlsYWJsZSA9IDAsIGUuaW5zX2ggPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHYoKSB7CgkJCQkJCQl0aGlzLnN0cm0gPSBudWxsLCB0aGlzLnN0YXR1cyA9IDAsIHRoaXMucGVuZGluZ19idWYgPSBudWxsLCB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwLCB0aGlzLnBlbmRpbmdfb3V0ID0gMCwgdGhpcy5wZW5kaW5nID0gMCwgdGhpcy53cmFwID0gMCwgdGhpcy5nemhlYWQgPSBudWxsLCB0aGlzLmd6aW5kZXggPSAwLCB0aGlzLm1ldGhvZCA9IEssIHRoaXMubGFzdF9mbHVzaCA9IC0xLCB0aGlzLndfc2l6ZSA9IDAsIHRoaXMud19iaXRzID0gMCwgdGhpcy53X21hc2sgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMud2luZG93X3NpemUgPSAwLCB0aGlzLnByZXYgPSBudWxsLCB0aGlzLmhlYWQgPSBudWxsLCB0aGlzLmluc19oID0gMCwgdGhpcy5oYXNoX3NpemUgPSAwLCB0aGlzLmhhc2hfYml0cyA9IDAsIHRoaXMuaGFzaF9tYXNrID0gMCwgdGhpcy5oYXNoX3NoaWZ0ID0gMCwgdGhpcy5ibG9ja19zdGFydCA9IDAsIHRoaXMubWF0Y2hfbGVuZ3RoID0gMCwgdGhpcy5wcmV2X21hdGNoID0gMCwgdGhpcy5tYXRjaF9hdmFpbGFibGUgPSAwLCB0aGlzLnN0cnN0YXJ0ID0gMCwgdGhpcy5tYXRjaF9zdGFydCA9IDAsIHRoaXMubG9va2FoZWFkID0gMCwgdGhpcy5wcmV2X2xlbmd0aCA9IDAsIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDAsIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwLCB0aGlzLmxldmVsID0gMCwgdGhpcy5zdHJhdGVneSA9IDAsIHRoaXMuZ29vZF9tYXRjaCA9IDAsIHRoaXMubmljZV9tYXRjaCA9IDAsIHRoaXMuZHluX2x0cmVlID0gbmV3IFQuQnVmMTYoMiAqIHNlKSwgdGhpcy5keW5fZHRyZWUgPSBuZXcgVC5CdWYxNigyICogKDIgKiBvZSArIDEpKSwgdGhpcy5ibF90cmVlID0gbmV3IFQuQnVmMTYoMiAqICgyICogcmUgKyAxKSksIG8odGhpcy5keW5fbHRyZWUpLCBvKHRoaXMuZHluX2R0cmVlKSwgbyh0aGlzLmJsX3RyZWUpLCB0aGlzLmxfZGVzYyA9IG51bGwsIHRoaXMuZF9kZXNjID0gbnVsbCwgdGhpcy5ibF9kZXNjID0gbnVsbCwgdGhpcy5ibF9jb3VudCA9IG5ldyBULkJ1ZjE2KGxlICsgMSksIHRoaXMuaGVhcCA9IG5ldyBULkJ1ZjE2KDIgKiBhZSArIDEpLCBvKHRoaXMuaGVhcCksIHRoaXMuaGVhcF9sZW4gPSAwLCB0aGlzLmhlYXBfbWF4ID0gMCwgdGhpcy5kZXB0aCA9IG5ldyBULkJ1ZjE2KDIgKiBhZSArIDEpLCBvKHRoaXMuZGVwdGgpLCB0aGlzLmxfYnVmID0gMCwgdGhpcy5saXRfYnVmc2l6ZSA9IDAsIHRoaXMubGFzdF9saXQgPSAwLCB0aGlzLmRfYnVmID0gMCwgdGhpcy5vcHRfbGVuID0gMCwgdGhpcy5zdGF0aWNfbGVuID0gMCwgdGhpcy5tYXRjaGVzID0gMCwgdGhpcy5pbnNlcnQgPSAwLCB0aGlzLmJpX2J1ZiA9IDAsIHRoaXMuYmlfdmFsaWQgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGIoZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKGUudG90YWxfaW4gPSBlLnRvdGFsX291dCA9IDAsIGUuZGF0YV90eXBlID0gViwgdCA9IGUuc3RhdGUsIHQucGVuZGluZyA9IDAsIHQucGVuZGluZ19vdXQgPSAwLCB0LndyYXAgPCAwICYmICh0LndyYXAgPSAtdC53cmFwKSwgdC5zdGF0dXMgPSB0LndyYXAgPyB1ZSA6IHhlLCBlLmFkbGVyID0gMiA9PT0gdC53cmFwID8gMCA6IDEsIHQubGFzdF9mbHVzaCA9IEUsIFAuX3RyX2luaXQodCksIFIpIDogaShlLCAkKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB5KGUpIHsKCQkJCQkJCXZhciB0ID0gYihlKTsKCQkJCQkJCXJldHVybiB0ID09PSBSICYmIHcoZS5zdGF0ZSksIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gayhlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gMiAhPT0gZS5zdGF0ZS53cmFwID8gJCA6IChlLnN0YXRlLmd6aGVhZCA9IHQsIFIpIDogJAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB6KGUsIHQsIG4sIGEsIG8sIHIpIHsKCQkJCQkJCWlmICghZSkgcmV0dXJuICQ7CgkJCQkJCQl2YXIgcyA9IDE7CgkJCQkJCQlpZiAodCA9PT0gVSAmJiAodCA9IDYpLCAwID4gYSA/IChzID0gMCwgYSA9IC1hKSA6IGEgPiAxNSAmJiAocyA9IDIsIGEgLT0gMTYpLCAxID4gbyB8fCBvID4gUSB8fCBuICE9PSBLIHx8IDggPiBhIHx8IGEgPiAxNSB8fCAwID4gdCB8fCB0ID4gOSB8fCAwID4gciB8fCByID4gSikgcmV0dXJuIGkoZSwgJCk7CgkJCQkJCQk4ID09PSBhICYmIChhID0gOSk7CgkJCQkJCQl2YXIgbCA9IG5ldyB2OwoJCQkJCQkJcmV0dXJuIGUuc3RhdGUgPSBsLCBsLnN0cm0gPSBlLCBsLndyYXAgPSBzLCBsLmd6aGVhZCA9IG51bGwsIGwud19iaXRzID0gYSwgbC53X3NpemUgPSAxIDw8IGwud19iaXRzLCBsLndfbWFzayA9IGwud19zaXplIC0gMSwgbC5oYXNoX2JpdHMgPSBvICsgNywgbC5oYXNoX3NpemUgPSAxIDw8IGwuaGFzaF9iaXRzLCBsLmhhc2hfbWFzayA9IGwuaGFzaF9zaXplIC0gMSwgbC5oYXNoX3NoaWZ0ID0gfn4oKGwuaGFzaF9iaXRzICsgY2UgLSAxKSAvIGNlKSwgbC53aW5kb3cgPSBuZXcgVC5CdWY4KDIgKiBsLndfc2l6ZSksIGwuaGVhZCA9IG5ldyBULkJ1ZjE2KGwuaGFzaF9zaXplKSwgbC5wcmV2ID0gbmV3IFQuQnVmMTYobC53X3NpemUpLCBsLmxpdF9idWZzaXplID0gMSA8PCBvICsgNiwgbC5wZW5kaW5nX2J1Zl9zaXplID0gNCAqIGwubGl0X2J1ZnNpemUsIGwucGVuZGluZ19idWYgPSBuZXcgVC5CdWY4KGwucGVuZGluZ19idWZfc2l6ZSksIGwuZF9idWYgPSBsLmxpdF9idWZzaXplID4+IDEsIGwubF9idWYgPSAzICogbC5saXRfYnVmc2l6ZSwgbC5sZXZlbCA9IHQsIGwuc3RyYXRlZ3kgPSByLCBsLm1ldGhvZCA9IG4sIHkoZSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQkJCQlyZXR1cm4geihlLCB0LCBLLCBlZSwgdGUsIFopCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGooZSwgdCkgewoJCQkJCQkJdmFyIG4sIHMsIGQsIHA7CgkJCQkJCQlpZiAoIWUgfHwgIWUuc3RhdGUgfHwgdCA+IE0gfHwgMCA+IHQpIHJldHVybiBlID8gaShlLCAkKSA6ICQ7CgkJCQkJCQlpZiAocyA9IGUuc3RhdGUsICFlLm91dHB1dCB8fCAhZS5pbnB1dCAmJiAwICE9PSBlLmF2YWlsX2luIHx8IHMuc3RhdHVzID09PSB3ZSAmJiB0ICE9PSBEKSByZXR1cm4gaShlLCAwID09PSBlLmF2YWlsX291dCA/IEggOiAkKTsKCQkJCQkJCWlmIChzLnN0cm0gPSBlLCBuID0gcy5sYXN0X2ZsdXNoLCBzLmxhc3RfZmx1c2ggPSB0LCBzLnN0YXR1cyA9PT0gdWUpCgkJCQkJCQkJaWYgKDIgPT09IHMud3JhcCkgZS5hZGxlciA9IDAsIGwocywgMzEpLCBsKHMsIDEzOSksIGwocywgOCksIHMuZ3poZWFkID8gKGwocywgKHMuZ3poZWFkLnRleHQgPyAxIDogMCkgKyAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArIChzLmd6aGVhZC5leHRyYSA/IDQgOiAwKSArIChzLmd6aGVhZC5uYW1lID8gOCA6IDApICsgKHMuZ3poZWFkLmNvbW1lbnQgPyAxNiA6IDApKSwgbChzLCAyNTUgJiBzLmd6aGVhZC50aW1lKSwgbChzLCBzLmd6aGVhZC50aW1lID4+IDggJiAyNTUpLCBsKHMsIHMuZ3poZWFkLnRpbWUgPj4gMTYgJiAyNTUpLCBsKHMsIHMuZ3poZWFkLnRpbWUgPj4gMjQgJiAyNTUpLCBsKHMsIDkgPT09IHMubGV2ZWwgPyAyIDogcy5zdHJhdGVneSA+PSBHIHx8IHMubGV2ZWwgPCAyID8gNCA6IDApLCBsKHMsIDI1NSAmIHMuZ3poZWFkLm9zKSwgcy5nemhlYWQuZXh0cmEgJiYgcy5nemhlYWQuZXh0cmEubGVuZ3RoICYmIChsKHMsIDI1NSAmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCksIGwocywgcy5nemhlYWQuZXh0cmEubGVuZ3RoID4+IDggJiAyNTUpKSwgcy5nemhlYWQuaGNyYyAmJiAoZS5hZGxlciA9IEEoZS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nLCAwKSksIHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gbWUpIDogKGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgMCksIGwocywgOSA9PT0gcy5sZXZlbCA/IDIgOiBzLnN0cmF0ZWd5ID49IEcgfHwgcy5sZXZlbCA8IDIgPyA0IDogMCksIGwocywgemUpLCBzLnN0YXR1cyA9IHhlKTsKCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJdmFyIGggPSBLICsgKHMud19iaXRzIC0gOCA8PCA0KSA8PCA4LAoJCQkJCQkJCQkJdSA9IC0xOwoJCQkJCQkJCQl1ID0gcy5zdHJhdGVneSA+PSBHIHx8IHMubGV2ZWwgPCAyID8gMCA6IHMubGV2ZWwgPCA2ID8gMSA6IDYgPT09IHMubGV2ZWwgPyAyIDogMywgaCB8PSB1IDw8IDYsIDAgIT09IHMuc3Ryc3RhcnQgJiYgKGggfD0gaGUpLCBoICs9IDMxIC0gaCAlIDMxLCBzLnN0YXR1cyA9IHhlLCBjKHMsIGgpLCAwICE9PSBzLnN0cnN0YXJ0ICYmIChjKHMsIGUuYWRsZXIgPj4+IDE2KSwgYyhzLCA2NTUzNSAmIGUuYWRsZXIpKSwgZS5hZGxlciA9IDEKCQkJCQkJCQl9CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IG1lKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5leHRyYSkgewoJCQkJCQkJCQlmb3IgKGQgPSBzLnBlbmRpbmc7IHMuZ3ppbmRleCA8ICg2NTUzNSAmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkgJiYgKHMucGVuZGluZyAhPT0gcy5wZW5kaW5nX2J1Zl9zaXplIHx8IChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGQgJiYgKGUuYWRsZXIgPSBBKGUuYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGQsIGQpKSwgcihlKSwgZCA9IHMucGVuZGluZywgcy5wZW5kaW5nICE9PSBzLnBlbmRpbmdfYnVmX3NpemUpKTspIGwocywgMjU1ICYgcy5nemhlYWQuZXh0cmFbcy5nemluZGV4XSksIHMuZ3ppbmRleCsrOwoJCQkJCQkJCQlzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGQgJiYgKGUuYWRsZXIgPSBBKGUuYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGQsIGQpKSwgcy5nemluZGV4ID09PSBzLmd6aGVhZC5leHRyYS5sZW5ndGggJiYgKHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gZmUpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gZmU7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IGZlKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5uYW1lKSB7CgkJCQkJCQkJCWQgPSBzLnBlbmRpbmc7CgkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCWlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSAmJiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIHIoZSksIGQgPSBzLnBlbmRpbmcsIHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSkgewoJCQkJCQkJCQkJCXAgPSAxOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlwID0gcy5nemluZGV4IDwgcy5nemhlYWQubmFtZS5sZW5ndGggPyAyNTUgJiBzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspIDogMCwgbChzLCBwKQoJCQkJCQkJCQl9IHdoaWxlICgwICE9PSBwKTsKCQkJCQkJCQkJcy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIDAgPT09IHAgJiYgKHMuZ3ppbmRleCA9IDAsIHMuc3RhdHVzID0gZ2UpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gZ2U7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IGdlKQoJCQkJCQkJCWlmIChzLmd6aGVhZC5jb21tZW50KSB7CgkJCQkJCQkJCWQgPSBzLnBlbmRpbmc7CgkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCWlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSAmJiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIHIoZSksIGQgPSBzLnBlbmRpbmcsIHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSkgewoJCQkJCQkJCQkJCXAgPSAxOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlwID0gcy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGggPyAyNTUgJiBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspIDogMCwgbChzLCBwKQoJCQkJCQkJCQl9IHdoaWxlICgwICE9PSBwKTsKCQkJCQkJCQkJcy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBkICYmIChlLmFkbGVyID0gQShlLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBkLCBkKSksIDAgPT09IHAgJiYgKHMuc3RhdHVzID0gX2UpCgkJCQkJCQkJfSBlbHNlIHMuc3RhdHVzID0gX2U7CgkJCQkJCQlpZiAocy5zdGF0dXMgPT09IF9lICYmIChzLmd6aGVhZC5oY3JjID8gKHMucGVuZGluZyArIDIgPiBzLnBlbmRpbmdfYnVmX3NpemUgJiYgcihlKSwgcy5wZW5kaW5nICsgMiA8PSBzLnBlbmRpbmdfYnVmX3NpemUgJiYgKGwocywgMjU1ICYgZS5hZGxlciksIGwocywgZS5hZGxlciA+PiA4ICYgMjU1KSwgZS5hZGxlciA9IDAsIHMuc3RhdHVzID0geGUpKSA6IHMuc3RhdHVzID0geGUpLCAwICE9PSBzLnBlbmRpbmcpIHsKCQkJCQkJCQlpZiAocihlKSwgMCA9PT0gZS5hdmFpbF9vdXQpIHJldHVybiBzLmxhc3RfZmx1c2ggPSAtMSwgUgoJCQkJCQkJfSBlbHNlIGlmICgwID09PSBlLmF2YWlsX2luICYmIGEodCkgPD0gYShuKSAmJiB0ICE9PSBEKSByZXR1cm4gaShlLCBIKTsKCQkJCQkJCWlmIChzLnN0YXR1cyA9PT0gd2UgJiYgMCAhPT0gZS5hdmFpbF9pbikgcmV0dXJuIGkoZSwgSCk7CgkJCQkJCQlpZiAoMCAhPT0gZS5hdmFpbF9pbiB8fCAwICE9PSBzLmxvb2thaGVhZCB8fCB0ICE9PSBFICYmIHMuc3RhdHVzICE9PSB3ZSkgewoJCQkJCQkJCXZhciBtID0gcy5zdHJhdGVneSA9PT0gRyA/IF8ocywgdCkgOiBzLnN0cmF0ZWd5ID09PSBYID8gZyhzLCB0KSA6IE5bcy5sZXZlbF0uZnVuYyhzLCB0KTsKCQkJCQkJCQlpZiAoKG0gPT09IHllIHx8IG0gPT09IGtlKSAmJiAocy5zdGF0dXMgPSB3ZSksIG0gPT09IHZlIHx8IG0gPT09IHllKSByZXR1cm4gMCA9PT0gZS5hdmFpbF9vdXQgJiYgKHMubGFzdF9mbHVzaCA9IC0xKSwgUjsKCQkJCQkJCQlpZiAobSA9PT0gYmUgJiYgKHQgPT09IE8gPyBQLl90cl9hbGlnbihzKSA6IHQgIT09IE0gJiYgKFAuX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCAhMSksIHQgPT09IEwgJiYgKG8ocy5oZWFkKSwgMCA9PT0gcy5sb29rYWhlYWQgJiYgKHMuc3Ryc3RhcnQgPSAwLCBzLmJsb2NrX3N0YXJ0ID0gMCwgcy5pbnNlcnQgPSAwKSkpLCByKGUpLCAwID09PSBlLmF2YWlsX291dCkpIHJldHVybiBzLmxhc3RfZmx1c2ggPSAtMSwgUgoJCQkJCQkJfQoJCQkJCQkJcmV0dXJuIHQgIT09IEQgPyBSIDogcy53cmFwIDw9IDAgPyBGIDogKDIgPT09IHMud3JhcCA/IChsKHMsIDI1NSAmIGUuYWRsZXIpLCBsKHMsIGUuYWRsZXIgPj4gOCAmIDI1NSksIGwocywgZS5hZGxlciA+PiAxNiAmIDI1NSksIGwocywgZS5hZGxlciA+PiAyNCAmIDI1NSksIGwocywgMjU1ICYgZS50b3RhbF9pbiksIGwocywgZS50b3RhbF9pbiA+PiA4ICYgMjU1KSwgbChzLCBlLnRvdGFsX2luID4+IDE2ICYgMjU1KSwgbChzLCBlLnRvdGFsX2luID4+IDI0ICYgMjU1KSkgOiAoYyhzLCBlLmFkbGVyID4+PiAxNiksIGMocywgNjU1MzUgJiBlLmFkbGVyKSksIHIoZSksIHMud3JhcCA+IDAgJiYgKHMud3JhcCA9IC1zLndyYXApLCAwICE9PSBzLnBlbmRpbmcgPyBSIDogRikKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQyhlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAodCA9IGUuc3RhdGUuc3RhdHVzLCB0ICE9PSB1ZSAmJiB0ICE9PSBtZSAmJiB0ICE9PSBmZSAmJiB0ICE9PSBnZSAmJiB0ICE9PSBfZSAmJiB0ICE9PSB4ZSAmJiB0ICE9PSB3ZSA/IGkoZSwgJCkgOiAoZS5zdGF0ZSA9IG51bGwsIHQgPT09IHhlID8gaShlLCBXKSA6IFIpKSA6ICQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gUyhlLCB0KSB7CgkJCQkJCQl2YXIgbiwgaSwgYSwgciwgcywgbCwgYywgZCwgcCA9IHQubGVuZ3RoOwoJCQkJCQkJaWYgKCFlIHx8ICFlLnN0YXRlKSByZXR1cm4gJDsKCQkJCQkJCWlmIChuID0gZS5zdGF0ZSwgciA9IG4ud3JhcCwgMiA9PT0gciB8fCAxID09PSByICYmIG4uc3RhdHVzICE9PSB1ZSB8fCBuLmxvb2thaGVhZCkgcmV0dXJuICQ7CgkJCQkJCQlmb3IgKDEgPT09IHIgJiYgKGUuYWRsZXIgPSBJKGUuYWRsZXIsIHQsIHAsIDApKSwgbi53cmFwID0gMCwgcCA+PSBuLndfc2l6ZSAmJiAoMCA9PT0gciAmJiAobyhuLmhlYWQpLCBuLnN0cnN0YXJ0ID0gMCwgbi5ibG9ja19zdGFydCA9IDAsIG4uaW5zZXJ0ID0gMCksIGQgPSBuZXcgVC5CdWY4KG4ud19zaXplKSwgVC5hcnJheVNldChkLCB0LCBwIC0gbi53X3NpemUsIG4ud19zaXplLCAwKSwgdCA9IGQsIHAgPSBuLndfc2l6ZSksIHMgPSBlLmF2YWlsX2luLCBsID0gZS5uZXh0X2luLCBjID0gZS5pbnB1dCwgZS5hdmFpbF9pbiA9IHAsIGUubmV4dF9pbiA9IDAsIGUuaW5wdXQgPSB0LCBoKG4pOyBuLmxvb2thaGVhZCA+PSBjZTspIHsKCQkJCQkJCQlpID0gbi5zdHJzdGFydCwgYSA9IG4ubG9va2FoZWFkIC0gKGNlIC0gMSk7CgkJCQkJCQkJZG8gbi5pbnNfaCA9IChuLmluc19oIDw8IG4uaGFzaF9zaGlmdCBeIG4ud2luZG93W2kgKyBjZSAtIDFdKSAmIG4uaGFzaF9tYXNrLCBuLnByZXZbaSAmIG4ud19tYXNrXSA9IG4uaGVhZFtuLmluc19oXSwgbi5oZWFkW24uaW5zX2hdID0gaSwgaSsrOyB3aGlsZSAoLS1hKTsKCQkJCQkJCQluLnN0cnN0YXJ0ID0gaSwgbi5sb29rYWhlYWQgPSBjZSAtIDEsIGgobikKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBuLnN0cnN0YXJ0ICs9IG4ubG9va2FoZWFkLCBuLmJsb2NrX3N0YXJ0ID0gbi5zdHJzdGFydCwgbi5pbnNlcnQgPSBuLmxvb2thaGVhZCwgbi5sb29rYWhlYWQgPSAwLCBuLm1hdGNoX2xlbmd0aCA9IG4ucHJldl9sZW5ndGggPSBjZSAtIDEsIG4ubWF0Y2hfYXZhaWxhYmxlID0gMCwgZS5uZXh0X2luID0gbCwgZS5pbnB1dCA9IGMsIGUuYXZhaWxfaW4gPSBzLCBuLndyYXAgPSByLCBSCgkJCQkJCX0KCQkJCQkJdmFyIE4sIFQgPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCVAgPSBlKCIuL3RyZWVzIiksCgkJCQkJCQlJID0gZSgiLi9hZGxlcjMyIiksCgkJCQkJCQlBID0gZSgiLi9jcmMzMiIpLAoJCQkJCQkJcSA9IGUoIi4vbWVzc2FnZXMiKSwKCQkJCQkJCUUgPSAwLAoJCQkJCQkJTyA9IDEsCgkJCQkJCQlMID0gMywKCQkJCQkJCUQgPSA0LAoJCQkJCQkJTSA9IDUsCgkJCQkJCQlSID0gMCwKCQkJCQkJCUYgPSAxLAoJCQkJCQkJJCA9IC0yLAoJCQkJCQkJVyA9IC0zLAoJCQkJCQkJSCA9IC01LAoJCQkJCQkJVSA9IC0xLAoJCQkJCQkJWSA9IDEsCgkJCQkJCQlHID0gMiwKCQkJCQkJCVggPSAzLAoJCQkJCQkJSiA9IDQsCgkJCQkJCQlaID0gMCwKCQkJCQkJCVYgPSAyLAoJCQkJCQkJSyA9IDgsCgkJCQkJCQlRID0gOSwKCQkJCQkJCWVlID0gMTUsCgkJCQkJCQl0ZSA9IDgsCgkJCQkJCQluZSA9IDI5LAoJCQkJCQkJaWUgPSAyNTYsCgkJCQkJCQlhZSA9IGllICsgMSArIG5lLAoJCQkJCQkJb2UgPSAzMCwKCQkJCQkJCXJlID0gMTksCgkJCQkJCQlzZSA9IDIgKiBhZSArIDEsCgkJCQkJCQlsZSA9IDE1LAoJCQkJCQkJY2UgPSAzLAoJCQkJCQkJZGUgPSAyNTgsCgkJCQkJCQlwZSA9IGRlICsgY2UgKyAxLAoJCQkJCQkJaGUgPSAzMiwKCQkJCQkJCXVlID0gNDIsCgkJCQkJCQltZSA9IDY5LAoJCQkJCQkJZmUgPSA3MywKCQkJCQkJCWdlID0gOTEsCgkJCQkJCQlfZSA9IDEwMywKCQkJCQkJCXhlID0gMTEzLAoJCQkJCQkJd2UgPSA2NjYsCgkJCQkJCQl2ZSA9IDEsCgkJCQkJCQliZSA9IDIsCgkJCQkJCQl5ZSA9IDMsCgkJCQkJCQlrZSA9IDQsCgkJCQkJCQl6ZSA9IDM7CgkJCQkJCU4gPSBbbmV3IHgoMCwgMCwgMCwgMCwgdSksIG5ldyB4KDQsIDQsIDgsIDQsIG0pLCBuZXcgeCg0LCA1LCAxNiwgOCwgbSksIG5ldyB4KDQsIDYsIDMyLCAzMiwgbSksIG5ldyB4KDQsIDQsIDE2LCAxNiwgZiksIG5ldyB4KDgsIDE2LCAzMiwgMzIsIGYpLCBuZXcgeCg4LCAxNiwgMTI4LCAxMjgsIGYpLCBuZXcgeCg4LCAzMiwgMTI4LCAyNTYsIGYpLCBuZXcgeCgzMiwgMTI4LCAyNTgsIDEwMjQsIGYpLCBuZXcgeCgzMiwgMjU4LCAyNTgsIDQwOTYsIGYpXSwgbi5kZWZsYXRlSW5pdCA9IEIsIG4uZGVmbGF0ZUluaXQyID0geiwgbi5kZWZsYXRlUmVzZXQgPSB5LCBuLmRlZmxhdGVSZXNldEtlZXAgPSBiLCBuLmRlZmxhdGVTZXRIZWFkZXIgPSBrLCBuLmRlZmxhdGUgPSBqLCBuLmRlZmxhdGVFbmQgPSBDLCBuLmRlZmxhdGVTZXREaWN0aW9uYXJ5ID0gUywgbi5kZWZsYXRlSW5mbyA9ICJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIgoJCQkJCX0sIHsKCQkJCQkJIi4uL3V0aWxzL2NvbW1vbiI6IDMsCgkJCQkJCSIuL2FkbGVyMzIiOiA1LAoJCQkJCQkiLi9jcmMzMiI6IDcsCgkJCQkJCSIuL21lc3NhZ2VzIjogMTMsCgkJCQkJCSIuL3RyZWVzIjogMTQKCQkJCQl9CgkJCQldLAoJCQkJOTogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaSgpIHsKCQkJCQkJCXRoaXMudGV4dCA9IDAsIHRoaXMudGltZSA9IDAsIHRoaXMueGZsYWdzID0gMCwgdGhpcy5vcyA9IDAsIHRoaXMuZXh0cmEgPSBudWxsLCB0aGlzLmV4dHJhX2xlbiA9IDAsIHRoaXMubmFtZSA9ICIiLCB0aGlzLmNvbW1lbnQgPSAiIiwgdGhpcy5oY3JjID0gMCwgdGhpcy5kb25lID0gITEKCQkJCQkJfQoJCQkJCQl0LmV4cG9ydHMgPSBpCgkJCQkJfSwge30KCQkJCV0sCgkJCQkxMDogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoJCQkJCQl2YXIgaSA9IDMwLAoJCQkJCQkJYSA9IDEyOwoJCQkJCQl0LmV4cG9ydHMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQl2YXIgbiwgbywgciwgcywgbCwgYywgZCwgcCwgaCwgdSwgbSwgZiwgZywgXywgeCwgdywgdiwgYiwgeSwgaywgeiwgQiwgaiwgQywgUzsKCQkJCQkJCW4gPSBlLnN0YXRlLCBvID0gZS5uZXh0X2luLCBDID0gZS5pbnB1dCwgciA9IG8gKyAoZS5hdmFpbF9pbiAtIDUpLCBzID0gZS5uZXh0X291dCwgUyA9IGUub3V0cHV0LCBsID0gcyAtICh0IC0gZS5hdmFpbF9vdXQpLCBjID0gcyArIChlLmF2YWlsX291dCAtIDI1NyksIGQgPSBuLmRtYXgsIHAgPSBuLndzaXplLCBoID0gbi53aGF2ZSwgdSA9IG4ud25leHQsIG0gPSBuLndpbmRvdywgZiA9IG4uaG9sZCwgZyA9IG4uYml0cywgXyA9IG4ubGVuY29kZSwgeCA9IG4uZGlzdGNvZGUsIHcgPSAoMSA8PCBuLmxlbmJpdHMpIC0gMSwgdiA9ICgxIDw8IG4uZGlzdGJpdHMpIC0gMTsKCQkJCQkJCWU6IGRvIHsKCQkJCQkJCQkxNSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCwgZiArPSBDW28rK10gPDwgZywgZyArPSA4KSwgYiA9IF9bZiAmIHddOwoJCQkJCQkJCXQ6IGZvciAoOzspIHsKCQkJCQkJCQkJaWYgKHkgPSBiID4+PiAyNCwgZiA+Pj49IHksIGcgLT0geSwgeSA9IGIgPj4+IDE2ICYgMjU1LCAwID09PSB5KSBTW3MrK10gPSA2NTUzNSAmIGI7CgkJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQkJaWYgKCEoMTYgJiB5KSkgewoJCQkJCQkJCQkJCWlmICgwID09PSAoNjQgJiB5KSkgewoJCQkJCQkJCQkJCQliID0gX1soNjU1MzUgJiBiKSArIChmICYgKDEgPDwgeSkgLSAxKV07CgkJCQkJCQkJCQkJCWNvbnRpbnVlIHQKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJaWYgKDMyICYgeSkgewoJCQkJCQkJCQkJCQluLm1vZGUgPSBhOwoJCQkJCQkJCQkJCQlicmVhayBlCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsIG4ubW9kZSA9IGk7CgkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJayA9IDY1NTM1ICYgYiwgeSAmPSAxNSwgeSAmJiAoeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCksIGsgKz0gZiAmICgxIDw8IHkpIC0gMSwgZiA+Pj49IHksIGcgLT0geSksIDE1ID4gZyAmJiAoZiArPSBDW28rK10gPDwgZywgZyArPSA4LCBmICs9IENbbysrXSA8PCBnLCBnICs9IDgpLCBiID0geFtmICYgdl07CgkJCQkJCQkJCQluOiBmb3IgKDs7KSB7CgkJCQkJCQkJCQkJaWYgKHkgPSBiID4+PiAyNCwgZiA+Pj49IHksIGcgLT0geSwgeSA9IGIgPj4+IDE2ICYgMjU1LCAhKDE2ICYgeSkpIHsKCQkJCQkJCQkJCQkJaWYgKDAgPT09ICg2NCAmIHkpKSB7CgkJCQkJCQkJCQkJCQliID0geFsoNjU1MzUgJiBiKSArIChmICYgKDEgPDwgeSkgLSAxKV07CgkJCQkJCQkJCQkJCQljb250aW51ZSBuCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZSBjb2RlIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQlpZiAoeiA9IDY1NTM1ICYgYiwgeSAmPSAxNSwgeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCwgeSA+IGcgJiYgKGYgKz0gQ1tvKytdIDw8IGcsIGcgKz0gOCkpLCB6ICs9IGYgJiAoMSA8PCB5KSAtIDEsIHogPiBkKSB7CgkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJYnJlYWsgZQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQlpZiAoZiA+Pj49IHksIGcgLT0geSwgeSA9IHMgLSBsLCB6ID4geSkgewoJCQkJCQkJCQkJCQlpZiAoeSA9IHogLSB5LCB5ID4gaCAmJiBuLnNhbmUpIHsKCQkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaTsKCQkJCQkJCQkJCQkJCWJyZWFrIGUKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlpZiAoQiA9IDAsIGogPSBtLCAwID09PSB1KSB7CgkJCQkJCQkJCQkJCQlpZiAoQiArPSBwIC0geSwgayA+IHkpIHsKCQkJCQkJCQkJCQkJCQlrIC09IHk7CgkJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCQlCID0gcyAtIHosIGogPSBTCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0gZWxzZSBpZiAoeSA+IHUpIHsKCQkJCQkJCQkJCQkJCWlmIChCICs9IHAgKyB1IC0geSwgeSAtPSB1LCBrID4geSkgewoJCQkJCQkJCQkJCQkJCWsgLT0geTsKCQkJCQkJCQkJCQkJCQlkbyBTW3MrK10gPSBtW0IrK107IHdoaWxlICgtLXkpOwoJCQkJCQkJCQkJCQkJCWlmIChCID0gMCwgayA+IHUpIHsKCQkJCQkJCQkJCQkJCQkJeSA9IHUsIGsgLT0geTsKCQkJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCQkJQiA9IHMgLSB6LCBqID0gUwoJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJfSBlbHNlIGlmIChCICs9IHUgLSB5LCBrID4geSkgewoJCQkJCQkJCQkJCQkJayAtPSB5OwoJCQkJCQkJCQkJCQkJZG8gU1tzKytdID0gbVtCKytdOyB3aGlsZSAoLS15KTsKCQkJCQkJCQkJCQkJCUIgPSBzIC0geiwgaiA9IFMKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlmb3IgKDsgayA+IDI7KSBTW3MrK10gPSBqW0IrK10sIFNbcysrXSA9IGpbQisrXSwgU1tzKytdID0galtCKytdLCBrIC09IDM7CgkJCQkJCQkJCQkJCWsgJiYgKFNbcysrXSA9IGpbQisrXSwgayA+IDEgJiYgKFNbcysrXSA9IGpbQisrXSkpCgkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJQiA9IHMgLSB6OwoJCQkJCQkJCQkJCQlkbyBTW3MrK10gPSBTW0IrK10sIFNbcysrXSA9IFNbQisrXSwgU1tzKytdID0gU1tCKytdLCBrIC09IDM7IHdoaWxlIChrID4gMik7CgkJCQkJCQkJCQkJCWsgJiYgKFNbcysrXSA9IFNbQisrXSwgayA+IDEgJiYgKFNbcysrXSA9IFNbQisrXSkpCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQl9IHdoaWxlIChyID4gbyAmJiBjID4gcyk7CgkJCQkJCQlrID0gZyA+PiAzLCBvIC09IGssIGcgLT0gayA8PCAzLCBmICY9ICgxIDw8IGcpIC0gMSwgZS5uZXh0X2luID0gbywgZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfaW4gPSByID4gbyA/IDUgKyAociAtIG8pIDogNSAtIChvIC0gciksIGUuYXZhaWxfb3V0ID0gYyA+IHMgPyAyNTcgKyAoYyAtIHMpIDogMjU3IC0gKHMgLSBjKSwgbi5ob2xkID0gZiwgbi5iaXRzID0gZwoJCQkJCQl9CgkJCQkJfSwge30KCQkJCV0sCgkJCQkxMTogWwoJCQkJCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJInVzZSBzdHJpY3QiOwoKCQkJCQkJZnVuY3Rpb24gaShlKSB7CgkJCQkJCQlyZXR1cm4gKGUgPj4+IDI0ICYgMjU1KSArIChlID4+PiA4ICYgNjUyODApICsgKCg2NTI4MCAmIGUpIDw8IDgpICsgKCgyNTUgJiBlKSA8PCAyNCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gYSgpIHsKCQkJCQkJCXRoaXMubW9kZSA9IDAsIHRoaXMubGFzdCA9ICExLCB0aGlzLndyYXAgPSAwLCB0aGlzLmhhdmVkaWN0ID0gITEsIHRoaXMuZmxhZ3MgPSAwLCB0aGlzLmRtYXggPSAwLCB0aGlzLmNoZWNrID0gMCwgdGhpcy50b3RhbCA9IDAsIHRoaXMuaGVhZCA9IG51bGwsIHRoaXMud2JpdHMgPSAwLCB0aGlzLndzaXplID0gMCwgdGhpcy53aGF2ZSA9IDAsIHRoaXMud25leHQgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMuaG9sZCA9IDAsIHRoaXMuYml0cyA9IDAsIHRoaXMubGVuZ3RoID0gMCwgdGhpcy5vZmZzZXQgPSAwLCB0aGlzLmV4dHJhID0gMCwgdGhpcy5sZW5jb2RlID0gbnVsbCwgdGhpcy5kaXN0Y29kZSA9IG51bGwsIHRoaXMubGVuYml0cyA9IDAsIHRoaXMuZGlzdGJpdHMgPSAwLCB0aGlzLm5jb2RlID0gMCwgdGhpcy5ubGVuID0gMCwgdGhpcy5uZGlzdCA9IDAsIHRoaXMuaGF2ZSA9IDAsIHRoaXMubmV4dCA9IG51bGwsIHRoaXMubGVucyA9IG5ldyB4LkJ1ZjE2KDMyMCksIHRoaXMud29yayA9IG5ldyB4LkJ1ZjE2KDI4OCksIHRoaXMubGVuZHluID0gbnVsbCwgdGhpcy5kaXN0ZHluID0gbnVsbCwgdGhpcy5zYW5lID0gMCwgdGhpcy5iYWNrID0gMCwgdGhpcy53YXMgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKHQgPSBlLnN0YXRlLCBlLnRvdGFsX2luID0gZS50b3RhbF9vdXQgPSB0LnRvdGFsID0gMCwgZS5tc2cgPSAiIiwgdC53cmFwICYmIChlLmFkbGVyID0gMSAmIHQud3JhcCksIHQubW9kZSA9IEwsIHQubGFzdCA9IDAsIHQuaGF2ZWRpY3QgPSAwLCB0LmRtYXggPSAzMjc2OCwgdC5oZWFkID0gbnVsbCwgdC5ob2xkID0gMCwgdC5iaXRzID0gMCwgdC5sZW5jb2RlID0gdC5sZW5keW4gPSBuZXcgeC5CdWYzMihmZSksIHQuZGlzdGNvZGUgPSB0LmRpc3RkeW4gPSBuZXcgeC5CdWYzMihnZSksIHQuc2FuZSA9IDEsIHQuYmFjayA9IC0xLCBOKSA6IEkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAodCA9IGUuc3RhdGUsIHQud3NpemUgPSAwLCB0LndoYXZlID0gMCwgdC53bmV4dCA9IDAsIG8oZSkpIDogSQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCXZhciBuLCBpOwoJCQkJCQkJcmV0dXJuIGUgJiYgZS5zdGF0ZSA/IChpID0gZS5zdGF0ZSwgMCA+IHQgPyAobiA9IDAsIHQgPSAtdCkgOiAobiA9ICh0ID4+IDQpICsgMSwgNDggPiB0ICYmICh0ICY9IDE1KSksIHQgJiYgKDggPiB0IHx8IHQgPiAxNSkgPyBJIDogKG51bGwgIT09IGkud2luZG93ICYmIGkud2JpdHMgIT09IHQgJiYgKGkud2luZG93ID0gbnVsbCksIGkud3JhcCA9IG4sIGkud2JpdHMgPSB0LCByKGUpKSkgOiBJCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGk7CgkJCQkJCQlyZXR1cm4gZSA/IChpID0gbmV3IGEsIGUuc3RhdGUgPSBpLCBpLndpbmRvdyA9IG51bGwsIG4gPSBzKGUsIHQpLCBuICE9PSBOICYmIChlLnN0YXRlID0gbnVsbCksIG4pIDogSQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQkJCXJldHVybiBsKGUsIHhlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCQkJCWlmICh3ZSkgewoJCQkJCQkJCXZhciB0OwoJCQkJCQkJCWZvciAoZyA9IG5ldyB4LkJ1ZjMyKDUxMiksIF8gPSBuZXcgeC5CdWYzMigzMiksIHQgPSAwOyAxNDQgPiB0OykgZS5sZW5zW3QrK10gPSA4OwoJCQkJCQkJCWZvciAoOyAyNTYgPiB0OykgZS5sZW5zW3QrK10gPSA5OwoJCQkJCQkJCWZvciAoOyAyODAgPiB0OykgZS5sZW5zW3QrK10gPSA3OwoJCQkJCQkJCWZvciAoOyAyODggPiB0OykgZS5sZW5zW3QrK10gPSA4OwoJCQkJCQkJCWZvciAoeSh6LCBlLmxlbnMsIDAsIDI4OCwgZywgMCwgZS53b3JrLCB7CgkJCQkJCQkJCWJpdHM6IDkKCQkJCQkJCQl9KSwgdCA9IDA7IDMyID4gdDspIGUubGVuc1t0KytdID0gNTsKCQkJCQkJCQl5KEIsIGUubGVucywgMCwgMzIsIF8sIDAsIGUud29yaywgewoJCQkJCQkJCQliaXRzOiA1CgkJCQkJCQkJfSksIHdlID0gITEKCQkJCQkJCX0KCQkJCQkJCWUubGVuY29kZSA9IGcsIGUubGVuYml0cyA9IDksIGUuZGlzdGNvZGUgPSBfLCBlLmRpc3RiaXRzID0gNQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBwKGUsIHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhLCBvID0gZS5zdGF0ZTsKCQkJCQkJCXJldHVybiBudWxsID09PSBvLndpbmRvdyAmJiAoby53c2l6ZSA9IDEgPDwgby53Yml0cywgby53bmV4dCA9IDAsIG8ud2hhdmUgPSAwLCBvLndpbmRvdyA9IG5ldyB4LkJ1Zjgoby53c2l6ZSkpLCBpID49IG8ud3NpemUgPyAoeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIG8ud3NpemUsIG8ud3NpemUsIDApLCBvLnduZXh0ID0gMCwgby53aGF2ZSA9IG8ud3NpemUpIDogKGEgPSBvLndzaXplIC0gby53bmV4dCwgYSA+IGkgJiYgKGEgPSBpKSwgeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIGksIGEsIG8ud25leHQpLCBpIC09IGEsIGkgPyAoeC5hcnJheVNldChvLndpbmRvdywgdCwgbiAtIGksIGksIDApLCBvLnduZXh0ID0gaSwgby53aGF2ZSA9IG8ud3NpemUpIDogKG8ud25leHQgKz0gYSwgby53bmV4dCA9PT0gby53c2l6ZSAmJiAoby53bmV4dCA9IDApLCBvLndoYXZlIDwgby53c2l6ZSAmJiAoby53aGF2ZSArPSBhKSkpLCAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGEsIG8sIHIsIHMsIGwsIGMsIGgsIHUsIG0sIGYsIGcsIF8sIGZlLCBnZSwgX2UsIHhlLCB3ZSwgdmUsIGJlLCB5ZSwga2UsIHplLCBCZSwgamUgPSAwLAoJCQkJCQkJCUNlID0gbmV3IHguQnVmOCg0KSwKCQkJCQkJCQlTZSA9IFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XTsKCQkJCQkJCWlmICghZSB8fCAhZS5zdGF0ZSB8fCAhZS5vdXRwdXQgfHwgIWUuaW5wdXQgJiYgMCAhPT0gZS5hdmFpbF9pbikgcmV0dXJuIEk7CgkJCQkJCQluID0gZS5zdGF0ZSwgbi5tb2RlID09PSBYICYmIChuLm1vZGUgPSBKKSwgcyA9IGUubmV4dF9vdXQsIG8gPSBlLm91dHB1dCwgYyA9IGUuYXZhaWxfb3V0LCByID0gZS5uZXh0X2luLCBhID0gZS5pbnB1dCwgbCA9IGUuYXZhaWxfaW4sIGggPSBuLmhvbGQsIHUgPSBuLmJpdHMsIG0gPSBsLCBmID0gYywga2UgPSBOOwoJCQkJCQkJZTogZm9yICg7Oykgc3dpdGNoIChuLm1vZGUpIHsKCQkJCQkJCQljYXNlIEw6CgkJCQkJCQkJCWlmICgwID09PSBuLndyYXApIHsKCQkJCQkJCQkJCW4ubW9kZSA9IEo7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDIgJiBuLndyYXAgJiYgMzU2MTUgPT09IGgpIHsKCQkJCQkJCQkJCW4uY2hlY2sgPSAwLCBDZVswXSA9IDI1NSAmIGgsIENlWzFdID0gaCA+Pj4gOCAmIDI1NSwgbi5jaGVjayA9IHYobi5jaGVjaywgQ2UsIDIsIDApLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IEQ7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChuLmZsYWdzID0gMCwgbi5oZWFkICYmIChuLmhlYWQuZG9uZSA9ICExKSwgISgxICYgbi53cmFwKSB8fCAoKCgyNTUgJiBoKSA8PCA4KSArIChoID4+IDgpKSAlIDMxKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgoMTUgJiBoKSAhPT0gTykgewoJCQkJCQkJCQkJZS5tc2cgPSAidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKGggPj4+PSA0LCB1IC09IDQsIHllID0gKDE1ICYgaCkgKyA4LCAwID09PSBuLndiaXRzKSBuLndiaXRzID0geWU7CgkJCQkJCQkJCWVsc2UgaWYgKHllID4gbi53Yml0cykgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCB3aW5kb3cgc2l6ZSIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmRtYXggPSAxIDw8IHllLCBlLmFkbGVyID0gbi5jaGVjayA9IDEsIG4ubW9kZSA9IDUxMiAmIGggPyBZIDogWCwgaCA9IDAsIHUgPSAwOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlIEQ6CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4uZmxhZ3MgPSBoLCAoMjU1ICYgbi5mbGFncykgIT09IE8pIHsKCQkJCQkJCQkJCWUubXNnID0gInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICg1NzM0NCAmIG4uZmxhZ3MpIHsKCQkJCQkJCQkJCWUubXNnID0gInVua25vd24gaGVhZGVyIGZsYWdzIHNldCIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmhlYWQgJiYgKG4uaGVhZC50ZXh0ID0gaCA+PiA4ICYgMSksIDUxMiAmIG4uZmxhZ3MgJiYgKENlWzBdID0gMjU1ICYgaCwgQ2VbMV0gPSBoID4+PiA4ICYgMjU1LCBuLmNoZWNrID0gdihuLmNoZWNrLCBDZSwgMiwgMCkpLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IE07CgkJCQkJCQkJY2FzZSBNOgoJCQkJCQkJCQlmb3IgKDsgMzIgPiB1OykgewoJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGVhZCAmJiAobi5oZWFkLnRpbWUgPSBoKSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIENlWzJdID0gaCA+Pj4gMTYgJiAyNTUsIENlWzNdID0gaCA+Pj4gMjQgJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCA0LCAwKSksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gUjsKCQkJCQkJCQljYXNlIFI6CgkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5oZWFkICYmIChuLmhlYWQueGZsYWdzID0gMjU1ICYgaCwgbi5oZWFkLm9zID0gaCA+PiA4KSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCAyLCAwKSksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gRjsKCQkJCQkJCQljYXNlIEY6CgkJCQkJCQkJCWlmICgxMDI0ICYgbi5mbGFncykgewoJCQkJCQkJCQkJZm9yICg7IDE2ID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJbi5sZW5ndGggPSBoLCBuLmhlYWQgJiYgKG4uaGVhZC5leHRyYV9sZW4gPSBoKSwgNTEyICYgbi5mbGFncyAmJiAoQ2VbMF0gPSAyNTUgJiBoLCBDZVsxXSA9IGggPj4+IDggJiAyNTUsIG4uY2hlY2sgPSB2KG4uY2hlY2ssIENlLCAyLCAwKSksIGggPSAwLCB1ID0gMAoJCQkJCQkJCQl9IGVsc2Ugbi5oZWFkICYmIChuLmhlYWQuZXh0cmEgPSBudWxsKTsKCQkJCQkJCQkJbi5tb2RlID0gJDsKCQkJCQkJCQljYXNlICQ6CgkJCQkJCQkJCWlmICgxMDI0ICYgbi5mbGFncyAmJiAoZyA9IG4ubGVuZ3RoLCBnID4gbCAmJiAoZyA9IGwpLCBnICYmIChuLmhlYWQgJiYgKHllID0gbi5oZWFkLmV4dHJhX2xlbiAtIG4ubGVuZ3RoLCBuLmhlYWQuZXh0cmEgfHwgKG4uaGVhZC5leHRyYSA9IG5ldyBBcnJheShuLmhlYWQuZXh0cmFfbGVuKSksCgkJCQkJCQkJCQl4LmFycmF5U2V0KG4uaGVhZC5leHRyYSwgYSwgciwgZywgeWUpKSwgNTEyICYgbi5mbGFncyAmJiAobi5jaGVjayA9IHYobi5jaGVjaywgYSwgZywgcikpLCBsIC09IGcsIHIgKz0gZywgbi5sZW5ndGggLT0gZyksIG4ubGVuZ3RoKSkgYnJlYWsgZTsKCQkJCQkJCQkJbi5sZW5ndGggPSAwLCBuLm1vZGUgPSBXOwoJCQkJCQkJCWNhc2UgVzoKCQkJCQkJCQkJaWYgKDIwNDggJiBuLmZsYWdzKSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWcgPSAwOwoJCQkJCQkJCQkJZG8geWUgPSBhW3IgKyBnKytdLCBuLmhlYWQgJiYgeWUgJiYgbi5sZW5ndGggPCA2NTUzNiAmJiAobi5oZWFkLm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh5ZSkpOyB3aGlsZSAoeWUgJiYgbCA+IGcpOwoJCQkJCQkJCQkJaWYgKDUxMiAmIG4uZmxhZ3MgJiYgKG4uY2hlY2sgPSB2KG4uY2hlY2ssIGEsIGcsIHIpKSwgbCAtPSBnLCByICs9IGcsIHllKSBicmVhayBlCgkJCQkJCQkJCX0gZWxzZSBuLmhlYWQgJiYgKG4uaGVhZC5uYW1lID0gbnVsbCk7CgkJCQkJCQkJCW4ubGVuZ3RoID0gMCwgbi5tb2RlID0gSDsKCQkJCQkJCQljYXNlIEg6CgkJCQkJCQkJCWlmICg0MDk2ICYgbi5mbGFncykgewoJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQlnID0gMDsKCQkJCQkJCQkJCWRvIHllID0gYVtyICsgZysrXSwgbi5oZWFkICYmIHllICYmIG4ubGVuZ3RoIDwgNjU1MzYgJiYgKG4uaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoeWUpKTsgd2hpbGUgKHllICYmIGwgPiBnKTsKCQkJCQkJCQkJCWlmICg1MTIgJiBuLmZsYWdzICYmIChuLmNoZWNrID0gdihuLmNoZWNrLCBhLCBnLCByKSksIGwgLT0gZywgciArPSBnLCB5ZSkgYnJlYWsgZQoJCQkJCQkJCQl9IGVsc2Ugbi5oZWFkICYmIChuLmhlYWQuY29tbWVudCA9IG51bGwpOwoJCQkJCQkJCQluLm1vZGUgPSBVOwoJCQkJCQkJCWNhc2UgVToKCQkJCQkJCQkJaWYgKDUxMiAmIG4uZmxhZ3MpIHsKCQkJCQkJCQkJCWZvciAoOyAxNiA+IHU7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWlmIChoICE9PSAoNjU1MzUgJiBuLmNoZWNrKSkgewoJCQkJCQkJCQkJCWUubXNnID0gImhlYWRlciBjcmMgbWlzbWF0Y2giLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5oZWFkICYmIChuLmhlYWQuaGNyYyA9IG4uZmxhZ3MgPj4gOSAmIDEsIG4uaGVhZC5kb25lID0gITApLCBlLmFkbGVyID0gbi5jaGVjayA9IDAsIG4ubW9kZSA9IFg7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgWToKCQkJCQkJCQkJZm9yICg7IDMyID4gdTspIHsKCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJfQoJCQkJCQkJCQllLmFkbGVyID0gbi5jaGVjayA9IGkoaCksIGggPSAwLCB1ID0gMCwgbi5tb2RlID0gRzsKCQkJCQkJCQljYXNlIEc6CgkJCQkJCQkJCWlmICgwID09PSBuLmhhdmVkaWN0KSByZXR1cm4gZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfb3V0ID0gYywgZS5uZXh0X2luID0gciwgZS5hdmFpbF9pbiA9IGwsIG4uaG9sZCA9IGgsIG4uYml0cyA9IHUsIFA7CgkJCQkJCQkJCWUuYWRsZXIgPSBuLmNoZWNrID0gMSwgbi5tb2RlID0gWDsKCQkJCQkJCQljYXNlIFg6CgkJCQkJCQkJCWlmICh0ID09PSBDIHx8IHQgPT09IFMpIGJyZWFrIGU7CgkJCQkJCQkJY2FzZSBKOgoJCQkJCQkJCQlpZiAobi5sYXN0KSB7CgkJCQkJCQkJCQloID4+Pj0gNyAmIHUsIHUgLT0gNyAmIHUsIG4ubW9kZSA9IGNlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQlmb3IgKDsgMyA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJc3dpdGNoIChuLmxhc3QgPSAxICYgaCwgaCA+Pj49IDEsIHUgLT0gMSwgMyAmIGgpIHsKCQkJCQkJCQkJCWNhc2UgMDoKCQkJCQkJCQkJCQluLm1vZGUgPSBaOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAxOgoJCQkJCQkJCQkJCWlmIChkKG4pLCBuLm1vZGUgPSBuZSwgdCA9PT0gUykgewoJCQkJCQkJCQkJCQloID4+Pj0gMiwgdSAtPSAyOwoJCQkJCQkJCQkJCQlicmVhayBlCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAyOgoJCQkJCQkJCQkJCW4ubW9kZSA9IFE7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlIDM6CgkJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBibG9jayB0eXBlIiwgbi5tb2RlID0gaGUKCQkJCQkJCQkJfQoJCQkJCQkJCQloID4+Pj0gMiwgdSAtPSAyOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlIFo6CgkJCQkJCQkJCWZvciAoaCA+Pj49IDcgJiB1LCB1IC09IDcgJiB1OyAzMiA+IHU7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKCg2NTUzNSAmIGgpICE9PSAoaCA+Pj4gMTYgXiA2NTUzNSkpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4ubGVuZ3RoID0gNjU1MzUgJiBoLCBoID0gMCwgdSA9IDAsIG4ubW9kZSA9IFYsIHQgPT09IFMpIGJyZWFrIGU7CgkJCQkJCQkJY2FzZSBWOgoJCQkJCQkJCQluLm1vZGUgPSBLOwoJCQkJCQkJCWNhc2UgSzoKCQkJCQkJCQkJaWYgKGcgPSBuLmxlbmd0aCkgewoJCQkJCQkJCQkJaWYgKGcgPiBsICYmIChnID0gbCksIGcgPiBjICYmIChnID0gYyksIDAgPT09IGcpIGJyZWFrIGU7CgkJCQkJCQkJCQl4LmFycmF5U2V0KG8sIGEsIHIsIGcsIHMpLCBsIC09IGcsIHIgKz0gZywgYyAtPSBnLCBzICs9IGcsIG4ubGVuZ3RoIC09IGc7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ubW9kZSA9IFg7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgUToKCQkJCQkJCQkJZm9yICg7IDE0ID4gdTspIHsKCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5ubGVuID0gKDMxICYgaCkgKyAyNTcsIGggPj4+PSA1LCB1IC09IDUsIG4ubmRpc3QgPSAoMzEgJiBoKSArIDEsIGggPj4+PSA1LCB1IC09IDUsIG4ubmNvZGUgPSAoMTUgJiBoKSArIDQsIGggPj4+PSA0LCB1IC09IDQsIG4ubmxlbiA+IDI4NiB8fCBuLm5kaXN0ID4gMzApIHsKCQkJCQkJCQkJCWUubXNnID0gInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGF2ZSA9IDAsIG4ubW9kZSA9IGVlOwoJCQkJCQkJCWNhc2UgZWU6CgkJCQkJCQkJCWZvciAoOyBuLmhhdmUgPCBuLm5jb2RlOykgewoJCQkJCQkJCQkJZm9yICg7IDMgPiB1OykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQluLmxlbnNbU2Vbbi5oYXZlKytdXSA9IDcgJiBoLCBoID4+Pj0gMywgdSAtPSAzCgkJCQkJCQkJCX0KCQkJCQkJCQkJZm9yICg7IG4uaGF2ZSA8IDE5Oykgbi5sZW5zW1NlW24uaGF2ZSsrXV0gPSAwOwoJCQkJCQkJCQlpZiAobi5sZW5jb2RlID0gbi5sZW5keW4sIG4ubGVuYml0cyA9IDcsIHplID0gewoJCQkJCQkJCQkJYml0czogbi5sZW5iaXRzCgkJCQkJCQkJCX0sIGtlID0geShrLCBuLmxlbnMsIDAsIDE5LCBuLmxlbmNvZGUsIDAsIG4ud29yaywgemUpLCBuLmxlbmJpdHMgPSB6ZS5iaXRzLCBrZSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0Iiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4uaGF2ZSA9IDAsIG4ubW9kZSA9IHRlOwoJCQkJCQkJCWNhc2UgdGU6CgkJCQkJCQkJCWZvciAoOyBuLmhhdmUgPCBuLm5sZW4gKyBuLm5kaXN0OykgewoJCQkJCQkJCQkJZm9yICg7IGplID0gbi5sZW5jb2RlW2ggJiAoMSA8PCBuLmxlbmJpdHMpIC0gMV0sIGdlID0gamUgPj4+IDI0LCBfZSA9IGplID4+PiAxNiAmIDI1NSwgeGUgPSA2NTUzNSAmIGplLCAhKHUgPj0gZ2UpOykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoMTYgPiB4ZSkgaCA+Pj49IGdlLCB1IC09IGdlLCBuLmxlbnNbbi5oYXZlKytdID0geGU7CgkJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCQlpZiAoMTYgPT09IHhlKSB7CgkJCQkJCQkJCQkJCWZvciAoQmUgPSBnZSArIDI7IEJlID4gdTspIHsKCQkJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlpZiAoaCA+Pj49IGdlLCB1IC09IGdlLCAwID09PSBuLmhhdmUpIHsKCQkJCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJeWUgPSBuLmxlbnNbbi5oYXZlIC0gMV0sIGcgPSAzICsgKDMgJiBoKSwgaCA+Pj49IDIsIHUgLT0gMgoJCQkJCQkJCQkJCX0gZWxzZSBpZiAoMTcgPT09IHhlKSB7CgkJCQkJCQkJCQkJCWZvciAoQmUgPSBnZSArIDM7IEJlID4gdTspIHsKCQkJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQloID4+Pj0gZ2UsIHUgLT0gZ2UsIHllID0gMCwgZyA9IDMgKyAoNyAmIGgpLCBoID4+Pj0gMywgdSAtPSAzCgkJCQkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJCQkJZm9yIChCZSA9IGdlICsgNzsgQmUgPiB1OykgewoJCQkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCWggPj4+PSBnZSwgdSAtPSBnZSwgeWUgPSAwLCBnID0gMTEgKyAoMTI3ICYgaCksIGggPj4+PSA3LCB1IC09IDcKCQkJCQkJCQkJCQl9IGlmIChuLmhhdmUgKyBnID4gbi5ubGVuICsgbi5uZGlzdCkgewoJCQkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0Iiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWZvciAoOyBnLS07KSBuLmxlbnNbbi5oYXZlKytdID0geWUKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5tb2RlID09PSBoZSkgYnJlYWs7CgkJCQkJCQkJCWlmICgwID09PSBuLmxlbnNbMjU2XSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChuLmxlbmJpdHMgPSA5LCB6ZSA9IHsKCQkJCQkJCQkJCWJpdHM6IG4ubGVuYml0cwoJCQkJCQkJCQl9LCBrZSA9IHkoeiwgbi5sZW5zLCAwLCBuLm5sZW4sIG4ubGVuY29kZSwgMCwgbi53b3JrLCB6ZSksIG4ubGVuYml0cyA9IHplLmJpdHMsIGtlKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4uZGlzdGJpdHMgPSA2LCBuLmRpc3Rjb2RlID0gbi5kaXN0ZHluLCB6ZSA9IHsKCQkJCQkJCQkJCWJpdHM6IG4uZGlzdGJpdHMKCQkJCQkJCQkJfSwga2UgPSB5KEIsIG4ubGVucywgbi5ubGVuLCBuLm5kaXN0LCBuLmRpc3Rjb2RlLCAwLCBuLndvcmssIHplKSwgbi5kaXN0Yml0cyA9IHplLmJpdHMsIGtlKSB7CgkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKG4ubW9kZSA9IG5lLCB0ID09PSBTKSBicmVhayBlOwoJCQkJCQkJCWNhc2UgbmU6CgkJCQkJCQkJCW4ubW9kZSA9IGllOwoJCQkJCQkJCWNhc2UgaWU6CgkJCQkJCQkJCWlmIChsID49IDYgJiYgYyA+PSAyNTgpIHsKCQkJCQkJCQkJCWUubmV4dF9vdXQgPSBzLCBlLmF2YWlsX291dCA9IGMsIGUubmV4dF9pbiA9IHIsIGUuYXZhaWxfaW4gPSBsLCBuLmhvbGQgPSBoLCBuLmJpdHMgPSB1LCBiKGUsIGYpLCBzID0gZS5uZXh0X291dCwgbyA9IGUub3V0cHV0LCBjID0gZS5hdmFpbF9vdXQsIHIgPSBlLm5leHRfaW4sIGEgPSBlLmlucHV0LCBsID0gZS5hdmFpbF9pbiwgaCA9IG4uaG9sZCwgdSA9IG4uYml0cywgbi5tb2RlID09PSBYICYmIChuLmJhY2sgPSAtMSk7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWZvciAobi5iYWNrID0gMDsgamUgPSBuLmxlbmNvZGVbaCAmICgxIDw8IG4ubGVuYml0cykgLSAxXSwgZ2UgPSBqZSA+Pj4gMjQsIF9lID0gamUgPj4+IDE2ICYgMjU1LCB4ZSA9IDY1NTM1ICYgamUsICEodSA+PSBnZSk7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKF9lICYmIDAgPT09ICgyNDAgJiBfZSkpIHsKCQkJCQkJCQkJCWZvciAod2UgPSBnZSwgdmUgPSBfZSwgYmUgPSB4ZTsgamUgPSBuLmxlbmNvZGVbYmUgKyAoKGggJiAoMSA8PCB3ZSArIHZlKSAtIDEpID4+IHdlKV0sIGdlID0gamUgPj4+IDI0LCBfZSA9IGplID4+PiAxNiAmIDI1NSwgeGUgPSA2NTUzNSAmIGplLCAhKHUgPj0gd2UgKyBnZSk7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWggPj4+PSB3ZSwgdSAtPSB3ZSwgbi5iYWNrICs9IHdlCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKGggPj4+PSBnZSwgdSAtPSBnZSwgbi5iYWNrICs9IGdlLCBuLmxlbmd0aCA9IHhlLCAwID09PSBfZSkgewoJCQkJCQkJCQkJbi5tb2RlID0gbGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmICgzMiAmIF9lKSB7CgkJCQkJCQkJCQluLmJhY2sgPSAtMSwgbi5tb2RlID0gWDsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDY0ICYgX2UpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQluLmV4dHJhID0gMTUgJiBfZSwgbi5tb2RlID0gYWU7CgkJCQkJCQkJY2FzZSBhZToKCQkJCQkJCQkJaWYgKG4uZXh0cmEpIHsKCQkJCQkJCQkJCWZvciAoQmUgPSBuLmV4dHJhOyBCZSA+IHU7KSB7CgkJCQkJCQkJCQkJaWYgKDAgPT09IGwpIGJyZWFrIGU7CgkJCQkJCQkJCQkJbC0tLCBoICs9IGFbcisrXSA8PCB1LCB1ICs9IDgKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCW4ubGVuZ3RoICs9IGggJiAoMSA8PCBuLmV4dHJhKSAtIDEsIGggPj4+PSBuLmV4dHJhLCB1IC09IG4uZXh0cmEsIG4uYmFjayArPSBuLmV4dHJhCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi53YXMgPSBuLmxlbmd0aCwgbi5tb2RlID0gb2U7CgkJCQkJCQkJY2FzZSBvZToKCQkJCQkJCQkJZm9yICg7IGplID0gbi5kaXN0Y29kZVtoICYgKDEgPDwgbi5kaXN0Yml0cykgLSAxXSwgZ2UgPSBqZSA+Pj4gMjQsIF9lID0gamUgPj4+IDE2ICYgMjU1LCB4ZSA9IDY1NTM1ICYgamUsICEodSA+PSBnZSk7KSB7CgkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKDAgPT09ICgyNDAgJiBfZSkpIHsKCQkJCQkJCQkJCWZvciAod2UgPSBnZSwgdmUgPSBfZSwgYmUgPSB4ZTsgamUgPSBuLmRpc3Rjb2RlW2JlICsgKChoICYgKDEgPDwgd2UgKyB2ZSkgLSAxKSA+PiB3ZSldLCBnZSA9IGplID4+PiAyNCwgX2UgPSBqZSA+Pj4gMTYgJiAyNTUsIHhlID0gNjU1MzUgJiBqZSwgISh1ID49IHdlICsgZ2UpOykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQloID4+Pj0gd2UsIHUgLT0gd2UsIG4uYmFjayArPSB3ZQoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChoID4+Pj0gZ2UsIHUgLT0gZ2UsIG4uYmFjayArPSBnZSwgNjQgJiBfZSkgewoJCQkJCQkJCQkJZS5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZSBjb2RlIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ub2Zmc2V0ID0geGUsIG4uZXh0cmEgPSAxNSAmIF9lLCBuLm1vZGUgPSByZTsKCQkJCQkJCQljYXNlIHJlOgoJCQkJCQkJCQlpZiAobi5leHRyYSkgewoJCQkJCQkJCQkJZm9yIChCZSA9IG4uZXh0cmE7IEJlID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggKz0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJbi5vZmZzZXQgKz0gaCAmICgxIDw8IG4uZXh0cmEpIC0gMSwgaCA+Pj49IG4uZXh0cmEsIHUgLT0gbi5leHRyYSwgbi5iYWNrICs9IG4uZXh0cmEKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAobi5vZmZzZXQgPiBuLmRtYXgpIHsKCQkJCQkJCQkJCWUubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgbi5tb2RlID0gaGU7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCW4ubW9kZSA9IHNlOwoJCQkJCQkJCWNhc2Ugc2U6CgkJCQkJCQkJCWlmICgwID09PSBjKSBicmVhayBlOwoJCQkJCQkJCQlpZiAoZyA9IGYgLSBjLCBuLm9mZnNldCA+IGcpIHsKCQkJCQkJCQkJCWlmIChnID0gbi5vZmZzZXQgLSBnLCBnID4gbi53aGF2ZSAmJiBuLnNhbmUpIHsKCQkJCQkJCQkJCQllLm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsIG4ubW9kZSA9IGhlOwoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlnID4gbi53bmV4dCA/IChnIC09IG4ud25leHQsIF8gPSBuLndzaXplIC0gZykgOiBfID0gbi53bmV4dCAtIGcsIGcgPiBuLmxlbmd0aCAmJiAoZyA9IG4ubGVuZ3RoKSwgZmUgPSBuLndpbmRvdwoJCQkJCQkJCQl9IGVsc2UgZmUgPSBvLCBfID0gcyAtIG4ub2Zmc2V0LCBnID0gbi5sZW5ndGg7CgkJCQkJCQkJCWcgPiBjICYmIChnID0gYyksIGMgLT0gZywgbi5sZW5ndGggLT0gZzsKCQkJCQkJCQkJZG8gb1tzKytdID0gZmVbXysrXTsgd2hpbGUgKC0tZyk7CgkJCQkJCQkJCTAgPT09IG4ubGVuZ3RoICYmIChuLm1vZGUgPSBpZSk7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgbGU6CgkJCQkJCQkJCWlmICgwID09PSBjKSBicmVhayBlOwoJCQkJCQkJCQlvW3MrK10gPSBuLmxlbmd0aCwgYy0tLCBuLm1vZGUgPSBpZTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSBjZToKCQkJCQkJCQkJaWYgKG4ud3JhcCkgewoJCQkJCQkJCQkJZm9yICg7IDMyID4gdTspIHsKCQkJCQkJCQkJCQlpZiAoMCA9PT0gbCkgYnJlYWsgZTsKCQkJCQkJCQkJCQlsLS0sIGggfD0gYVtyKytdIDw8IHUsIHUgKz0gOAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaWYgKGYgLT0gYywgZS50b3RhbF9vdXQgKz0gZiwgbi50b3RhbCArPSBmLCBmICYmIChlLmFkbGVyID0gbi5jaGVjayA9IG4uZmxhZ3MgPyB2KG4uY2hlY2ssIG8sIGYsIHMgLSBmKSA6IHcobi5jaGVjaywgbywgZiwgcyAtIGYpKSwgZiA9IGMsIChuLmZsYWdzID8gaCA6IGkoaCkpICE9PSBuLmNoZWNrKSB7CgkJCQkJCQkJCQkJZS5tc2cgPSAiaW5jb3JyZWN0IGRhdGEgY2hlY2siLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5tb2RlID0gZGU7CgkJCQkJCQkJY2FzZSBkZToKCQkJCQkJCQkJaWYgKG4ud3JhcCAmJiBuLmZsYWdzKSB7CgkJCQkJCQkJCQlmb3IgKDsgMzIgPiB1OykgewoJCQkJCQkJCQkJCWlmICgwID09PSBsKSBicmVhayBlOwoJCQkJCQkJCQkJCWwtLSwgaCArPSBhW3IrK10gPDwgdSwgdSArPSA4CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoaCAhPT0gKDQyOTQ5NjcyOTUgJiBuLnRvdGFsKSkgewoJCQkJCQkJCQkJCWUubXNnID0gImluY29ycmVjdCBsZW5ndGggY2hlY2siLCBuLm1vZGUgPSBoZTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJaCA9IDAsIHUgPSAwCgkJCQkJCQkJCX0KCQkJCQkJCQkJbi5tb2RlID0gcGU7CgkJCQkJCQkJY2FzZSBwZToKCQkJCQkJCQkJa2UgPSBUOwoJCQkJCQkJCQlicmVhayBlOwoJCQkJCQkJCWNhc2UgaGU6CgkJCQkJCQkJCWtlID0gQTsKCQkJCQkJCQkJYnJlYWsgZTsKCQkJCQkJCQljYXNlIHVlOgoJCQkJCQkJCQlyZXR1cm4gcTsKCQkJCQkJCQljYXNlIG1lOgoJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCXJldHVybiBJCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gZS5uZXh0X291dCA9IHMsIGUuYXZhaWxfb3V0ID0gYywgZS5uZXh0X2luID0gciwgZS5hdmFpbF9pbiA9IGwsIG4uaG9sZCA9IGgsIG4uYml0cyA9IHUsIChuLndzaXplIHx8IGYgIT09IGUuYXZhaWxfb3V0ICYmIG4ubW9kZSA8IGhlICYmIChuLm1vZGUgPCBjZSB8fCB0ICE9PSBqKSkgJiYgcChlLCBlLm91dHB1dCwgZS5uZXh0X291dCwgZiAtIGUuYXZhaWxfb3V0KSA/IChuLm1vZGUgPSB1ZSwgcSkgOiAobSAtPSBlLmF2YWlsX2luLCBmIC09IGUuYXZhaWxfb3V0LCBlLnRvdGFsX2luICs9IG0sIGUudG90YWxfb3V0ICs9IGYsIG4udG90YWwgKz0gZiwgbi53cmFwICYmIGYgJiYgKGUuYWRsZXIgPSBuLmNoZWNrID0gbi5mbGFncyA/IHYobi5jaGVjaywgbywgZiwgZS5uZXh0X291dCAtIGYpIDogdyhuLmNoZWNrLCBvLCBmLCBlLm5leHRfb3V0IC0gZikpLCBlLmRhdGFfdHlwZSA9IG4uYml0cyArIChuLmxhc3QgPyA2NCA6IDApICsgKG4ubW9kZSA9PT0gWCA/IDEyOCA6IDApICsgKG4ubW9kZSA9PT0gbmUgfHwgbi5tb2RlID09PSBWID8gMjU2IDogMCksICgwID09PSBtICYmIDAgPT09IGYgfHwgdCA9PT0gaikgJiYga2UgPT09IE4gJiYgKGtlID0gRSksIGtlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB1KGUpIHsKCQkJCQkJCWlmICghZSB8fCAhZS5zdGF0ZSkgcmV0dXJuIEk7CgkJCQkJCQl2YXIgdCA9IGUuc3RhdGU7CgkJCQkJCQlyZXR1cm4gdC53aW5kb3cgJiYgKHQud2luZG93ID0gbnVsbCksIGUuc3RhdGUgPSBudWxsLCBOCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG0oZSwgdCkgewoJCQkJCQkJdmFyIG47CgkJCQkJCQlyZXR1cm4gZSAmJiBlLnN0YXRlID8gKG4gPSBlLnN0YXRlLCAwID09PSAoMiAmIG4ud3JhcCkgPyBJIDogKG4uaGVhZCA9IHQsIHQuZG9uZSA9ICExLCBOKSkgOiBJCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGYoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0Lmxlbmd0aDsKCQkJCQkJCXJldHVybiBlICYmIGUuc3RhdGUgPyAobiA9IGUuc3RhdGUsIDAgIT09IG4ud3JhcCAmJiBuLm1vZGUgIT09IEcgPyBJIDogbi5tb2RlID09PSBHICYmIChpID0gMSwgaSA9IHcoaSwgdCwgbywgMCksIGkgIT09IG4uY2hlY2spID8gQSA6IChhID0gcChlLCB0LCBvLCBvKSkgPyAobi5tb2RlID0gdWUsIHEpIDogKG4uaGF2ZWRpY3QgPSAxLCBOKSkgOiBJCgkJCQkJCX0KCQkJCQkJdmFyIGcsIF8sIHggPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCXcgPSBlKCIuL2FkbGVyMzIiKSwKCQkJCQkJCXYgPSBlKCIuL2NyYzMyIiksCgkJCQkJCQliID0gZSgiLi9pbmZmYXN0IiksCgkJCQkJCQl5ID0gZSgiLi9pbmZ0cmVlcyIpLAoJCQkJCQkJayA9IDAsCgkJCQkJCQl6ID0gMSwKCQkJCQkJCUIgPSAyLAoJCQkJCQkJaiA9IDQsCgkJCQkJCQlDID0gNSwKCQkJCQkJCVMgPSA2LAoJCQkJCQkJTiA9IDAsCgkJCQkJCQlUID0gMSwKCQkJCQkJCVAgPSAyLAoJCQkJCQkJSSA9IC0yLAoJCQkJCQkJQSA9IC0zLAoJCQkJCQkJcSA9IC00LAoJCQkJCQkJRSA9IC01LAoJCQkJCQkJTyA9IDgsCgkJCQkJCQlMID0gMSwKCQkJCQkJCUQgPSAyLAoJCQkJCQkJTSA9IDMsCgkJCQkJCQlSID0gNCwKCQkJCQkJCUYgPSA1LAoJCQkJCQkJJCA9IDYsCgkJCQkJCQlXID0gNywKCQkJCQkJCUggPSA4LAoJCQkJCQkJVSA9IDksCgkJCQkJCQlZID0gMTAsCgkJCQkJCQlHID0gMTEsCgkJCQkJCQlYID0gMTIsCgkJCQkJCQlKID0gMTMsCgkJCQkJCQlaID0gMTQsCgkJCQkJCQlWID0gMTUsCgkJCQkJCQlLID0gMTYsCgkJCQkJCQlRID0gMTcsCgkJCQkJCQllZSA9IDE4LAoJCQkJCQkJdGUgPSAxOSwKCQkJCQkJCW5lID0gMjAsCgkJCQkJCQlpZSA9IDIxLAoJCQkJCQkJYWUgPSAyMiwKCQkJCQkJCW9lID0gMjMsCgkJCQkJCQlyZSA9IDI0LAoJCQkJCQkJc2UgPSAyNSwKCQkJCQkJCWxlID0gMjYsCgkJCQkJCQljZSA9IDI3LAoJCQkJCQkJZGUgPSAyOCwKCQkJCQkJCXBlID0gMjksCgkJCQkJCQloZSA9IDMwLAoJCQkJCQkJdWUgPSAzMSwKCQkJCQkJCW1lID0gMzIsCgkJCQkJCQlmZSA9IDg1MiwKCQkJCQkJCWdlID0gNTkyLAoJCQkJCQkJX2UgPSAxNSwKCQkJCQkJCXhlID0gX2UsCgkJCQkJCQl3ZSA9ICEwOwoJCQkJCQluLmluZmxhdGVSZXNldCA9IHIsIG4uaW5mbGF0ZVJlc2V0MiA9IHMsIG4uaW5mbGF0ZVJlc2V0S2VlcCA9IG8sIG4uaW5mbGF0ZUluaXQgPSBjLCBuLmluZmxhdGVJbml0MiA9IGwsIG4uaW5mbGF0ZSA9IGgsIG4uaW5mbGF0ZUVuZCA9IHUsIG4uaW5mbGF0ZUdldEhlYWRlciA9IG0sIG4uaW5mbGF0ZVNldERpY3Rpb25hcnkgPSBmLCBuLmluZmxhdGVJbmZvID0gInBha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCkiCgkJCQkJfSwgewoJCQkJCQkiLi4vdXRpbHMvY29tbW9uIjogMywKCQkJCQkJIi4vYWRsZXIzMiI6IDUsCgkJCQkJCSIuL2NyYzMyIjogNywKCQkJCQkJIi4vaW5mZmFzdCI6IDEwLAoJCQkJCQkiLi9pbmZ0cmVlcyI6IDEyCgkJCQkJfQoJCQkJXSwKCQkJCTEyOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCXZhciBpID0gZSgiLi4vdXRpbHMvY29tbW9uIiksCgkJCQkJCQlhID0gMTUsCgkJCQkJCQlvID0gODUyLAoJCQkJCQkJciA9IDU5MiwKCQkJCQkJCXMgPSAwLAoJCQkJCQkJbCA9IDEsCgkJCQkJCQljID0gMiwKCQkJCQkJCWQgPSBbMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSwgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBdLAoJCQkJCQkJcCA9IFsxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE3LCAxOCwgMTgsIDE4LCAxOCwgMTksIDE5LCAxOSwgMTksIDIwLCAyMCwgMjAsIDIwLCAyMSwgMjEsIDIxLCAyMSwgMTYsIDcyLCA3OF0sCgkJCQkJCQloID0gWzEsIDIsIDMsIDQsIDUsIDcsIDksIDEzLCAxNywgMjUsIDMzLCA0OSwgNjUsIDk3LCAxMjksIDE5MywgMjU3LCAzODUsIDUxMywgNzY5LCAxMDI1LCAxNTM3LCAyMDQ5LCAzMDczLCA0MDk3LCA2MTQ1LCA4MTkzLCAxMjI4OSwgMTYzODUsIDI0NTc3LCAwLCAwXSwKCQkJCQkJCXUgPSBbMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTgsIDE4LCAxOSwgMTksIDIwLCAyMCwgMjEsIDIxLCAyMiwgMjIsIDIzLCAyMywgMjQsIDI0LCAyNSwgMjUsIDI2LCAyNiwgMjcsIDI3LCAyOCwgMjgsIDI5LCAyOSwgNjQsIDY0XTsKCQkJCQkJdC5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCwgbiwgbSwgZiwgZywgXywgeCkgewoJCQkJCQkJdmFyIHcsIHYsIGIsIHksIGssIHosIEIsIGosIEMsIFMgPSB4LmJpdHMsCgkJCQkJCQkJTiA9IDAsCgkJCQkJCQkJVCA9IDAsCgkJCQkJCQkJUCA9IDAsCgkJCQkJCQkJSSA9IDAsCgkJCQkJCQkJQSA9IDAsCgkJCQkJCQkJcSA9IDAsCgkJCQkJCQkJRSA9IDAsCgkJCQkJCQkJTyA9IDAsCgkJCQkJCQkJTCA9IDAsCgkJCQkJCQkJRCA9IDAsCgkJCQkJCQkJTSA9IG51bGwsCgkJCQkJCQkJUiA9IDAsCgkJCQkJCQkJRiA9IG5ldyBpLkJ1ZjE2KGEgKyAxKSwKCQkJCQkJCQkkID0gbmV3IGkuQnVmMTYoYSArIDEpLAoJCQkJCQkJCVcgPSBudWxsLAoJCQkJCQkJCUggPSAwOwoJCQkJCQkJZm9yIChOID0gMDsgYSA+PSBOOyBOKyspIEZbTl0gPSAwOwoJCQkJCQkJZm9yIChUID0gMDsgbSA+IFQ7IFQrKykgRlt0W24gKyBUXV0gKys7CgkJCQkJCQlmb3IgKEEgPSBTLCBJID0gYTsgSSA+PSAxICYmIDAgPT09IEZbSV07IEktLSk7CgkJCQkJCQlpZiAoQSA+IEkgJiYgKEEgPSBJKSwgMCA9PT0gSSkgcmV0dXJuIGZbZysrXSA9IDIwOTcxNTIwLCBmW2crK10gPSAyMDk3MTUyMCwgeC5iaXRzID0gMSwgMDsKCQkJCQkJCWZvciAoUCA9IDE7IEkgPiBQICYmIDAgPT09IEZbUF07IFArKyk7CgkJCQkJCQlmb3IgKFAgPiBBICYmIChBID0gUCksIE8gPSAxLCBOID0gMTsgYSA+PSBOOyBOKyspCgkJCQkJCQkJaWYgKE8gPDw9IDEsIE8gLT0gRltOXSwgMCA+IE8pIHJldHVybiAtMTsKCQkJCQkJCWlmIChPID4gMCAmJiAoZSA9PT0gcyB8fCAxICE9PSBJKSkgcmV0dXJuIC0xOwoJCQkJCQkJZm9yICgkWzFdID0gMCwgTiA9IDE7IGEgPiBOOyBOKyspICRbTiArIDFdID0gJFtOXSArIEZbTl07CgkJCQkJCQlmb3IgKFQgPSAwOyBtID4gVDsgVCsrKSAwICE9PSB0W24gKyBUXSAmJiAoX1skW3RbbiArIFRdXSArK10gPSBUKTsKCQkJCQkJCWlmIChlID09PSBzID8gKE0gPSBXID0gXywgeiA9IDE5KSA6IGUgPT09IGwgPyAoTSA9IGQsIFIgLT0gMjU3LCBXID0gcCwgSCAtPSAyNTcsIHogPSAyNTYpIDogKE0gPSBoLCBXID0gdSwgeiA9IC0xKSwgRCA9IDAsIFQgPSAwLCBOID0gUCwgayA9IGcsIHEgPSBBLCBFID0gMCwgYiA9IC0xLCBMID0gMSA8PCBBLCB5ID0gTCAtIDEsIGUgPT09IGwgJiYgTCA+IG8gfHwgZSA9PT0gYyAmJiBMID4gcikgcmV0dXJuIDE7CgkJCQkJCQlmb3IgKHZhciBVID0gMDs7KSB7CgkJCQkJCQkJVSsrLCBCID0gTiAtIEUsIF9bVF0gPCB6ID8gKGogPSAwLCBDID0gX1tUXSkgOiBfW1RdID4geiA/IChqID0gV1tIICsgX1tUXV0sIEMgPSBNW1IgKyBfW1RdXSkgOiAoaiA9IDk2LCBDID0gMCksIHcgPSAxIDw8IE4gLSBFLCB2ID0gMSA8PCBxLCBQID0gdjsKCQkJCQkJCQlkbyB2IC09IHcsIGZbayArIChEID4+IEUpICsgdl0gPSBCIDw8IDI0IHwgaiA8PCAxNiB8IEMgfCAwOyB3aGlsZSAoMCAhPT0gdik7CgkJCQkJCQkJZm9yICh3ID0gMSA8PCBOIC0gMTsgRCAmIHc7KSB3ID4+PSAxOwoJCQkJCQkJCWlmICgwICE9PSB3ID8gKEQgJj0gdyAtIDEsIEQgKz0gdykgOiBEID0gMCwgVCsrLCAwID09PSAtLUZbTl0pIHsKCQkJCQkJCQkJaWYgKE4gPT09IEkpIGJyZWFrOwoJCQkJCQkJCQlOID0gdFtuICsgX1tUXV0KCQkJCQkJCQl9CgkJCQkJCQkJaWYgKE4gPiBBICYmIChEICYgeSkgIT09IGIpIHsKCQkJCQkJCQkJZm9yICgwID09PSBFICYmIChFID0gQSksIGsgKz0gUCwgcSA9IE4gLSBFLCBPID0gMSA8PCBxOyBJID4gcSArIEUgJiYgKE8gLT0gRltxICsgRV0sICEoMCA+PSBPKSk7KSBxKyssIE8gPDw9IDE7CgkJCQkJCQkJCWlmIChMICs9IDEgPDwgcSwgZSA9PT0gbCAmJiBMID4gbyB8fCBlID09PSBjICYmIEwgPiByKSByZXR1cm4gMTsKCQkJCQkJCQkJYiA9IEQgJiB5LCBmW2JdID0gQSA8PCAyNCB8IHEgPDwgMTYgfCBrIC0gZyB8IDAKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gMCAhPT0gRCAmJiAoZltrICsgRF0gPSBOIC0gRSA8PCAyNCB8IDY0IDw8IDE2IHwgMCksIHguYml0cyA9IEEsIDAKCQkJCQkJfQoJCQkJCX0sIHsKCQkJCQkJIi4uL3V0aWxzL2NvbW1vbiI6IDMKCQkJCQl9CgkJCQldLAoJCQkJMTM6IFsKCQkJCQlmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJ1c2Ugc3RyaWN0IjsKCQkJCQkJdC5leHBvcnRzID0gewoJCQkJCQkJMjogIm5lZWQgZGljdGlvbmFyeSIsCgkJCQkJCQkxOiAic3RyZWFtIGVuZCIsCgkJCQkJCQkwOiAiIiwKCQkJCQkJCSItMSI6ICJmaWxlIGVycm9yIiwKCQkJCQkJCSItMiI6ICJzdHJlYW0gZXJyb3IiLAoJCQkJCQkJIi0zIjogImRhdGEgZXJyb3IiLAoJCQkJCQkJIi00IjogImluc3VmZmljaWVudCBtZW1vcnkiLAoJCQkJCQkJIi01IjogImJ1ZmZlciBlcnJvciIsCgkJCQkJCQkiLTYiOiAiaW5jb21wYXRpYmxlIHZlcnNpb24iCgkJCQkJCX0KCQkJCQl9LCB7fQoJCQkJXSwKCQkJCTE0OiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aDsgLS10ID49IDA7KSBlW3RdID0gMAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBhKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXRoaXMuc3RhdGljX3RyZWUgPSBlLCB0aGlzLmV4dHJhX2JpdHMgPSB0LCB0aGlzLmV4dHJhX2Jhc2UgPSBuLCB0aGlzLmVsZW1zID0gaSwgdGhpcy5tYXhfbGVuZ3RoID0gYSwgdGhpcy5oYXNfc3RyZWUgPSBlICYmIGUubGVuZ3RoCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIG8oZSwgdCkgewoJCQkJCQkJdGhpcy5keW5fdHJlZSA9IGUsIHRoaXMubWF4X2NvZGUgPSAwLCB0aGlzLnN0YXRfZGVzYyA9IHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJCQlyZXR1cm4gMjU2ID4gZSA/IGxlW2VdIDogbGVbMjU2ICsgKGUgPj4+IDcpXQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBzKGUsIHQpIHsKCQkJCQkJCWUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdID0gMjU1ICYgdCwgZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK10gPSB0ID4+PiA4ICYgMjU1CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGwoZSwgdCwgbikgewoJCQkJCQkJZS5iaV92YWxpZCA+IEogLSBuID8gKGUuYmlfYnVmIHw9IHQgPDwgZS5iaV92YWxpZCAmIDY1NTM1LCBzKGUsIGUuYmlfYnVmKSwgZS5iaV9idWYgPSB0ID4+IEogLSBlLmJpX3ZhbGlkLCBlLmJpX3ZhbGlkICs9IG4gLSBKKSA6IChlLmJpX2J1ZiB8PSB0IDw8IGUuYmlfdmFsaWQgJiA2NTUzNSwgZS5iaV92YWxpZCArPSBuKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBjKGUsIHQsIG4pIHsKCQkJCQkJCWwoZSwgblsyICogdF0sIG5bMiAqIHQgKyAxXSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gZChlLCB0KSB7CgkJCQkJCQl2YXIgbiA9IDA7CgkJCQkJCQlkbyBuIHw9IDEgJiBlLCBlID4+Pj0gMSwgbiA8PD0gMTsgd2hpbGUgKC0tdCA+IDApOwoJCQkJCQkJcmV0dXJuIG4gPj4+IDEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gcChlKSB7CgkJCQkJCQkxNiA9PT0gZS5iaV92YWxpZCA/IChzKGUsIGUuYmlfYnVmKSwgZS5iaV9idWYgPSAwLCBlLmJpX3ZhbGlkID0gMCkgOiBlLmJpX3ZhbGlkID49IDggJiYgKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdID0gMjU1ICYgZS5iaV9idWYsIGUuYmlfYnVmID4+PSA4LCBlLmJpX3ZhbGlkIC09IDgpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGgoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0LmR5bl90cmVlLAoJCQkJCQkJCWMgPSB0Lm1heF9jb2RlLAoJCQkJCQkJCWQgPSB0LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSwKCQkJCQkJCQlwID0gdC5zdGF0X2Rlc2MuaGFzX3N0cmVlLAoJCQkJCQkJCWggPSB0LnN0YXRfZGVzYy5leHRyYV9iaXRzLAoJCQkJCQkJCXUgPSB0LnN0YXRfZGVzYy5leHRyYV9iYXNlLAoJCQkJCQkJCW0gPSB0LnN0YXRfZGVzYy5tYXhfbGVuZ3RoLAoJCQkJCQkJCWYgPSAwOwoJCQkJCQkJZm9yIChvID0gMDsgWCA+PSBvOyBvKyspIGUuYmxfY291bnRbb10gPSAwOwoJCQkJCQkJZm9yIChsWzIgKiBlLmhlYXBbZS5oZWFwX21heF0gKyAxXSA9IDAsIG4gPSBlLmhlYXBfbWF4ICsgMTsgRyA+IG47IG4rKykgaSA9IGUuaGVhcFtuXSwgbyA9IGxbMiAqIGxbMiAqIGkgKyAxXSArIDFdICsgMSwgbyA+IG0gJiYgKG8gPSBtLCBmKyspLCBsWzIgKiBpICsgMV0gPSBvLCBpID4gYyB8fCAoZS5ibF9jb3VudFtvXSArKywgciA9IDAsIGkgPj0gdSAmJiAociA9IGhbaSAtIHVdKSwgcyA9IGxbMiAqIGldLCBlLm9wdF9sZW4gKz0gcyAqIChvICsgciksIHAgJiYgKGUuc3RhdGljX2xlbiArPSBzICogKGRbMiAqIGkgKyAxXSArIHIpKSk7CgkJCQkJCQlpZiAoMCAhPT0gZikgewoJCQkJCQkJCWRvIHsKCQkJCQkJCQkJZm9yIChvID0gbSAtIDE7IDAgPT09IGUuYmxfY291bnRbb107KSBvLS07CgkJCQkJCQkJCWUuYmxfY291bnRbb10gLS0sIGUuYmxfY291bnRbbyArIDFdICs9IDIsIGUuYmxfY291bnRbbV0gLS0sIGYgLT0gMgoJCQkJCQkJCX0gd2hpbGUgKGYgPiAwKTsKCQkJCQkJCQlmb3IgKG8gPSBtOyAwICE9PSBvOyBvLS0pCgkJCQkJCQkJCWZvciAoaSA9IGUuYmxfY291bnRbb107IDAgIT09IGk7KSBhID0gZS5oZWFwWy0tbl0sIGEgPiBjIHx8IChsWzIgKiBhICsgMV0gIT09IG8gJiYgKGUub3B0X2xlbiArPSAobyAtIGxbMiAqIGEgKyAxXSkgKiBsWzIgKiBhXSwgbFsyICogYSArIDFdID0gbyksIGktLSkKCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gdShlLCB0LCBuKSB7CgkJCQkJCQl2YXIgaSwgYSwgbyA9IG5ldyBBcnJheShYICsgMSksCgkJCQkJCQkJciA9IDA7CgkJCQkJCQlmb3IgKGkgPSAxOyBYID49IGk7IGkrKykgb1tpXSA9IHIgPSByICsgbltpIC0gMV0gPDwgMTsKCQkJCQkJCWZvciAoYSA9IDA7IHQgPj0gYTsgYSsrKSB7CgkJCQkJCQkJdmFyIHMgPSBlWzIgKiBhICsgMV07CgkJCQkJCQkJMCAhPT0gcyAmJiAoZVsyICogYV0gPSBkKG9bc10gKyssIHMpKQoJCQkJCQkJfQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBtKCkgewoJCQkJCQkJdmFyIGUsIHQsIG4sIGksIG8sIHIgPSBuZXcgQXJyYXkoWCArIDEpOwoJCQkJCQkJZm9yIChuID0gMCwgaSA9IDA7ICQgLSAxID4gaTsgaSsrKQoJCQkJCQkJCWZvciAoZGVbaV0gPSBuLCBlID0gMDsgZSA8IDEgPDwgdGVbaV07IGUrKykgY2VbbisrXSA9IGk7CgkJCQkJCQlmb3IgKGNlW24gLSAxXSA9IGksIG8gPSAwLCBpID0gMDsgMTYgPiBpOyBpKyspCgkJCQkJCQkJZm9yIChwZVtpXSA9IG8sIGUgPSAwOyBlIDwgMSA8PCBuZVtpXTsgZSsrKSBsZVtvKytdID0gaTsKCQkJCQkJCWZvciAobyA+Pj0gNzsgVSA+IGk7IGkrKykKCQkJCQkJCQlmb3IgKHBlW2ldID0gbyA8PCA3LCBlID0gMDsgZSA8IDEgPDwgbmVbaV0gLSA3OyBlKyspIGxlWzI1NiArIG8rK10gPSBpOwoJCQkJCQkJZm9yICh0ID0gMDsgWCA+PSB0OyB0KyspIHJbdF0gPSAwOwoJCQkJCQkJZm9yIChlID0gMDsgMTQzID49IGU7KSByZVsyICogZSArIDFdID0gOCwgZSsrLCByWzhdICsrOwoJCQkJCQkJZm9yICg7IDI1NSA+PSBlOykgcmVbMiAqIGUgKyAxXSA9IDksIGUrKywgcls5XSArKzsKCQkJCQkJCWZvciAoOyAyNzkgPj0gZTspIHJlWzIgKiBlICsgMV0gPSA3LCBlKyssIHJbN10gKys7CgkJCQkJCQlmb3IgKDsgMjg3ID49IGU7KSByZVsyICogZSArIDFdID0gOCwgZSsrLCByWzhdICsrOwoJCQkJCQkJZm9yICh1KHJlLCBIICsgMSwgciksIGUgPSAwOyBVID4gZTsgZSsrKSBzZVsyICogZSArIDFdID0gNSwgc2VbMiAqIGVdID0gZChlLCA1KTsKCQkJCQkJCWhlID0gbmV3IGEocmUsIHRlLCBXICsgMSwgSCwgWCksIHVlID0gbmV3IGEoc2UsIG5lLCAwLCBVLCBYKSwgbWUgPSBuZXcgYShuZXcgQXJyYXkoMCksIGllLCAwLCBZLCBaKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBmKGUpIHsKCQkJCQkJCXZhciB0OwoJCQkJCQkJZm9yICh0ID0gMDsgSCA+IHQ7IHQrKykgZS5keW5fbHRyZWVbMiAqIHRdID0gMDsKCQkJCQkJCWZvciAodCA9IDA7IFUgPiB0OyB0KyspIGUuZHluX2R0cmVlWzIgKiB0XSA9IDA7CgkJCQkJCQlmb3IgKHQgPSAwOyBZID4gdDsgdCsrKSBlLmJsX3RyZWVbMiAqIHRdID0gMDsKCQkJCQkJCWUuZHluX2x0cmVlWzIgKiBWXSA9IDEsIGUub3B0X2xlbiA9IGUuc3RhdGljX2xlbiA9IDAsIGUubGFzdF9saXQgPSBlLm1hdGNoZXMgPSAwCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGcoZSkgewoJCQkJCQkJZS5iaV92YWxpZCA+IDggPyBzKGUsIGUuYmlfYnVmKSA6IGUuYmlfdmFsaWQgPiAwICYmIChlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXSA9IGUuYmlfYnVmKSwgZS5iaV9idWYgPSAwLCBlLmJpX3ZhbGlkID0gMAoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBfKGUsIHQsIG4sIGkpIHsKCQkJCQkJCWcoZSksIGkgJiYgKHMoZSwgbiksIHMoZSwgfm4pKSwgSS5hcnJheVNldChlLnBlbmRpbmdfYnVmLCBlLndpbmRvdywgdCwgbiwgZS5wZW5kaW5nKSwgZS5wZW5kaW5nICs9IG4KCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geChlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYSA9IDIgKiB0LAoJCQkJCQkJCW8gPSAyICogbjsKCQkJCQkJCXJldHVybiBlW2FdIDwgZVtvXSB8fCBlW2FdID09PSBlW29dICYmIGlbdF0gPD0gaVtuXQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB3KGUsIHQsIG4pIHsKCQkJCQkJCWZvciAodmFyIGkgPSBlLmhlYXBbbl0sIGEgPSBuIDw8IDE7IGEgPD0gZS5oZWFwX2xlbiAmJiAoYSA8IGUuaGVhcF9sZW4gJiYgeCh0LCBlLmhlYXBbYSArIDFdLCBlLmhlYXBbYV0sIGUuZGVwdGgpICYmIGErKywgIXgodCwgaSwgZS5oZWFwW2FdLCBlLmRlcHRoKSk7KSBlLmhlYXBbbl0gPSBlLmhlYXBbYV0sIG4gPSBhLCBhIDw8PSAxOwoJCQkJCQkJZS5oZWFwW25dID0gaQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiB2KGUsIHQsIG4pIHsKCQkJCQkJCXZhciBpLCBhLCBvLCBzLCBkID0gMDsKCQkJCQkJCWlmICgwICE9PSBlLmxhc3RfbGl0KQoJCQkJCQkJCWRvIGkgPSBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZF0gPDwgOCB8IGUucGVuZGluZ19idWZbZS5kX2J1ZiArIDIgKiBkICsgMV0sIGEgPSBlLnBlbmRpbmdfYnVmW2UubF9idWYgKyBkXSwgZCsrLCAwID09PSBpID8gYyhlLCBhLCB0KSA6IChvID0gY2VbYV0sIGMoZSwgbyArIFcgKyAxLCB0KSwgcyA9IHRlW29dLCAwICE9PSBzICYmIChhIC09IGRlW29dLCBsKGUsIGEsIHMpKSwgaS0tLCBvID0gcihpKSwgYyhlLCBvLCBuKSwgcyA9IG5lW29dLCAwICE9PSBzICYmIChpIC09IHBlW29dLCBsKGUsIGksIHMpKSk7IHdoaWxlIChkIDwgZS5sYXN0X2xpdCk7CgkJCQkJCQljKGUsIFYsIHQpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIGIoZSwgdCkgewoJCQkJCQkJdmFyIG4sIGksIGEsIG8gPSB0LmR5bl90cmVlLAoJCQkJCQkJCXIgPSB0LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSwKCQkJCQkJCQlzID0gdC5zdGF0X2Rlc2MuaGFzX3N0cmVlLAoJCQkJCQkJCWwgPSB0LnN0YXRfZGVzYy5lbGVtcywKCQkJCQkJCQljID0gLTE7CgkJCQkJCQlmb3IgKGUuaGVhcF9sZW4gPSAwLCBlLmhlYXBfbWF4ID0gRywgbiA9IDA7IGwgPiBuOyBuKyspIDAgIT09IG9bMiAqIG5dID8gKGUuaGVhcFsrK2UuaGVhcF9sZW5dID0gYyA9IG4sIGUuZGVwdGhbbl0gPSAwKSA6IG9bMiAqIG4gKyAxXSA9IDA7CgkJCQkJCQlmb3IgKDsgZS5oZWFwX2xlbiA8IDI7KSBhID0gZS5oZWFwWysrZS5oZWFwX2xlbl0gPSAyID4gYyA/ICsrYyA6IDAsIG9bMiAqIGFdID0gMSwgZS5kZXB0aFthXSA9IDAsIGUub3B0X2xlbi0tLCBzICYmIChlLnN0YXRpY19sZW4gLT0gclsyICogYSArIDFdKTsKCQkJCQkJCWZvciAodC5tYXhfY29kZSA9IGMsIG4gPSBlLmhlYXBfbGVuID4+IDE7IG4gPj0gMTsgbi0tKSB3KGUsIG8sIG4pOwoJCQkJCQkJYSA9IGw7CgkJCQkJCQlkbyBuID0gZS5oZWFwWzFdLCBlLmhlYXBbMV0gPSBlLmhlYXBbZS5oZWFwX2xlbi0tXSwgdyhlLCBvLCAxKSwgaSA9IGUuaGVhcFsxXSwgZS5oZWFwWy0tZS5oZWFwX21heF0gPSBuLCBlLmhlYXBbLS1lLmhlYXBfbWF4XSA9IGksIG9bMiAqIGFdID0gb1syICogbl0gKyBvWzIgKiBpXSwgZS5kZXB0aFthXSA9IChlLmRlcHRoW25dID49IGUuZGVwdGhbaV0gPyBlLmRlcHRoW25dIDogZS5kZXB0aFtpXSkgKyAxLCBvWzIgKiBuICsgMV0gPSBvWzIgKiBpICsgMV0gPSBhLCBlLmhlYXBbMV0gPSBhKyssIHcoZSwgbywgMSk7IHdoaWxlIChlLmhlYXBfbGVuID49IDIpOwoJCQkJCQkJZS5oZWFwWy0tZS5oZWFwX21heF0gPSBlLmhlYXBbMV0sIGgoZSwgdCksIHUobywgYywgZS5ibF9jb3VudCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24geShlLCB0LCBuKSB7CgkJCQkJCQl2YXIgaSwgYSwgbyA9IC0xLAoJCQkJCQkJCXIgPSB0WzFdLAoJCQkJCQkJCXMgPSAwLAoJCQkJCQkJCWwgPSA3LAoJCQkJCQkJCWMgPSA0OwoJCQkJCQkJZm9yICgwID09PSByICYmIChsID0gMTM4LCBjID0gMyksIHRbMiAqIChuICsgMSkgKyAxXSA9IDY1NTM1LCBpID0gMDsgbiA+PSBpOyBpKyspIGEgPSByLCByID0gdFsyICogKGkgKyAxKSArIDFdLCArK3MgPCBsICYmIGEgPT09IHIgfHwgKGMgPiBzID8gZS5ibF90cmVlWzIgKiBhXSArPSBzIDogMCAhPT0gYSA/IChhICE9PSBvICYmIGUuYmxfdHJlZVsyICogYV0gKyssIGUuYmxfdHJlZVsyICogS10gKyspIDogMTAgPj0gcyA/IGUuYmxfdHJlZVsyICogUV0gKysgOiBlLmJsX3RyZWVbMiAqIGVlXSArKywgcyA9IDAsIG8gPSBhLCAwID09PSByID8gKGwgPSAxMzgsIGMgPSAzKSA6IGEgPT09IHIgPyAobCA9IDYsIGMgPSAzKSA6IChsID0gNywgYyA9IDQpKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBrKGUsIHQsIG4pIHsKCQkJCQkJCXZhciBpLCBhLCBvID0gLTEsCgkJCQkJCQkJciA9IHRbMV0sCgkJCQkJCQkJcyA9IDAsCgkJCQkJCQkJZCA9IDcsCgkJCQkJCQkJcCA9IDQ7CgkJCQkJCQlmb3IgKDAgPT09IHIgJiYgKGQgPSAxMzgsIHAgPSAzKSwgaSA9IDA7IG4gPj0gaTsgaSsrKQoJCQkJCQkJCWlmIChhID0gciwgciA9IHRbMiAqIChpICsgMSkgKyAxXSwgISgrK3MgPCBkICYmIGEgPT09IHIpKSB7CgkJCQkJCQkJCWlmIChwID4gcykgewoJCQkJCQkJCQkJZG8gYyhlLCBhLCBlLmJsX3RyZWUpOyB3aGlsZSAoMCAhPT0gLS1zKQoJCQkJCQkJCQl9IGVsc2UgMCAhPT0gYSA/IChhICE9PSBvICYmIChjKGUsIGEsIGUuYmxfdHJlZSksIHMtLSksIGMoZSwgSywgZS5ibF90cmVlKSwgbChlLCBzIC0gMywgMikpIDogMTAgPj0gcyA/IChjKGUsIFEsIGUuYmxfdHJlZSksIGwoZSwgcyAtIDMsIDMpKSA6IChjKGUsIGVlLCBlLmJsX3RyZWUpLCBsKGUsIHMgLSAxMSwgNykpOwoJCQkJCQkJCQlzID0gMCwgbyA9IGEsIDAgPT09IHIgPyAoZCA9IDEzOCwgcCA9IDMpIDogYSA9PT0gciA/IChkID0gNiwgcCA9IDMpIDogKGQgPSA3LCBwID0gNCkKCQkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIHooZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlmb3IgKHkoZSwgZS5keW5fbHRyZWUsIGUubF9kZXNjLm1heF9jb2RlKSwgeShlLCBlLmR5bl9kdHJlZSwgZS5kX2Rlc2MubWF4X2NvZGUpLCBiKGUsIGUuYmxfZGVzYyksIHQgPSBZIC0gMTsgdCA+PSAzICYmIDAgPT09IGUuYmxfdHJlZVsyICogYWVbdF0gKyAxXTsgdC0tKTsKCQkJCQkJCXJldHVybiBlLm9wdF9sZW4gKz0gMyAqICh0ICsgMSkgKyA1ICsgNSArIDQsIHQKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQihlLCB0LCBuLCBpKSB7CgkJCQkJCQl2YXIgYTsKCQkJCQkJCWZvciAobChlLCB0IC0gMjU3LCA1KSwgbChlLCBuIC0gMSwgNSksIGwoZSwgaSAtIDQsIDQpLCBhID0gMDsgaSA+IGE7IGErKykgbChlLCBlLmJsX3RyZWVbMiAqIGFlW2FdICsgMV0sIDMpOwoJCQkJCQkJayhlLCBlLmR5bl9sdHJlZSwgdCAtIDEpLCBrKGUsIGUuZHluX2R0cmVlLCBuIC0gMSkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gaihlKSB7CgkJCQkJCQl2YXIgdCwgbiA9IDQwOTM2MjQ0NDc7CgkJCQkJCQlmb3IgKHQgPSAwOyAzMSA+PSB0OyB0KyssIG4gPj4+PSAxKQoJCQkJCQkJCWlmICgxICYgbiAmJiAwICE9PSBlLmR5bl9sdHJlZVsyICogdF0pIHJldHVybiBxOwoJCQkJCQkJaWYgKDAgIT09IGUuZHluX2x0cmVlWzE4XSB8fCAwICE9PSBlLmR5bl9sdHJlZVsyMF0gfHwgMCAhPT0gZS5keW5fbHRyZWVbMjZdKSByZXR1cm4gRTsKCQkJCQkJCWZvciAodCA9IDMyOyBXID4gdDsgdCsrKQoJCQkJCQkJCWlmICgwICE9PSBlLmR5bl9sdHJlZVsyICogdF0pIHJldHVybiBFOwoJCQkJCQkJcmV0dXJuIHEKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gQyhlKSB7CgkJCQkJCQlmZSB8fCAobSgpLCBmZSA9ICEwKSwgZS5sX2Rlc2MgPSBuZXcgbyhlLmR5bl9sdHJlZSwgaGUpLCBlLmRfZGVzYyA9IG5ldyBvKGUuZHluX2R0cmVlLCB1ZSksIGUuYmxfZGVzYyA9IG5ldyBvKGUuYmxfdHJlZSwgbWUpLCBlLmJpX2J1ZiA9IDAsIGUuYmlfdmFsaWQgPSAwLCBmKGUpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIFMoZSwgdCwgbiwgaSkgewoJCQkJCQkJbChlLCAoTCA8PCAxKSArIChpID8gMSA6IDApLCAzKSwgXyhlLCB0LCBuLCAhMCkKCQkJCQkJfQoKCQkJCQkJZnVuY3Rpb24gTihlKSB7CgkJCQkJCQlsKGUsIEQgPDwgMSwgMyksIGMoZSwgViwgcmUpLCBwKGUpCgkJCQkJCX0KCgkJCQkJCWZ1bmN0aW9uIFQoZSwgdCwgbiwgaSkgewoJCQkJCQkJdmFyIGEsIG8sIHIgPSAwOwoJCQkJCQkJZS5sZXZlbCA+IDAgPyAoZS5zdHJtLmRhdGFfdHlwZSA9PT0gTyAmJiAoZS5zdHJtLmRhdGFfdHlwZSA9IGooZSkpLCBiKGUsIGUubF9kZXNjKSwgYihlLCBlLmRfZGVzYyksIHIgPSB6KGUpLCBhID0gZS5vcHRfbGVuICsgMyArIDcgPj4+IDMsIG8gPSBlLnN0YXRpY19sZW4gKyAzICsgNyA+Pj4gMywgYSA+PSBvICYmIChhID0gbykpIDogYSA9IG8gPSBuICsgNSwgYSA+PSBuICsgNCAmJiAtMSAhPT0gdCA/IFMoZSwgdCwgbiwgaSkgOiBlLnN0cmF0ZWd5ID09PSBBIHx8IG8gPT09IGEgPyAobChlLCAoRCA8PCAxKSArIChpID8gMSA6IDApLCAzKSwgdihlLCByZSwgc2UpKSA6IChsKGUsIChNIDw8IDEpICsgKGkgPyAxIDogMCksIDMpLCBCKGUsIGUubF9kZXNjLm1heF9jb2RlICsgMSwgZS5kX2Rlc2MubWF4X2NvZGUgKyAxLCByICsgMSksIHYoZSwgZS5keW5fbHRyZWUsIGUuZHluX2R0cmVlKSksIGYoZSksIGkgJiYgZyhlKQoJCQkJCQl9CgoJCQkJCQlmdW5jdGlvbiBQKGUsIHQsIG4pIHsKCQkJCQkJCXJldHVybiBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZS5sYXN0X2xpdF0gPSB0ID4+PiA4ICYgMjU1LCBlLnBlbmRpbmdfYnVmW2UuZF9idWYgKyAyICogZS5sYXN0X2xpdCArIDFdID0gMjU1ICYgdCwgZS5wZW5kaW5nX2J1ZltlLmxfYnVmICsgZS5sYXN0X2xpdF0gPSAyNTUgJiBuLCBlLmxhc3RfbGl0KyssIDAgPT09IHQgPyBlLmR5bl9sdHJlZVsyICogbl0gKysgOiAoZS5tYXRjaGVzKyssIHQtLSwgZS5keW5fbHRyZWVbMiAqIChjZVtuXSArIFcgKyAxKV0gKyssIGUuZHluX2R0cmVlWzIgKiByKHQpXSArKyksIGUubGFzdF9saXQgPT09IGUubGl0X2J1ZnNpemUgLSAxCgkJCQkJCX0KCQkJCQkJdmFyIEkgPSBlKCIuLi91dGlscy9jb21tb24iKSwKCQkJCQkJCUEgPSA0LAoJCQkJCQkJcSA9IDAsCgkJCQkJCQlFID0gMSwKCQkJCQkJCU8gPSAyLAoJCQkJCQkJTCA9IDAsCgkJCQkJCQlEID0gMSwKCQkJCQkJCU0gPSAyLAoJCQkJCQkJUiA9IDMsCgkJCQkJCQlGID0gMjU4LAoJCQkJCQkJJCA9IDI5LAoJCQkJCQkJVyA9IDI1NiwKCQkJCQkJCUggPSBXICsgMSArICQsCgkJCQkJCQlVID0gMzAsCgkJCQkJCQlZID0gMTksCgkJCQkJCQlHID0gMiAqIEggKyAxLAoJCQkJCQkJWCA9IDE1LAoJCQkJCQkJSiA9IDE2LAoJCQkJCQkJWiA9IDcsCgkJCQkJCQlWID0gMjU2LAoJCQkJCQkJSyA9IDE2LAoJCQkJCQkJUSA9IDE3LAoJCQkJCQkJZWUgPSAxOCwKCQkJCQkJCXRlID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDIsIDMsIDMsIDMsIDMsIDQsIDQsIDQsIDQsIDUsIDUsIDUsIDUsIDBdLAoJCQkJCQkJbmUgPSBbMCwgMCwgMCwgMCwgMSwgMSwgMiwgMiwgMywgMywgNCwgNCwgNSwgNSwgNiwgNiwgNywgNywgOCwgOCwgOSwgOSwgMTAsIDEwLCAxMSwgMTEsIDEyLCAxMiwgMTMsIDEzXSwKCQkJCQkJCWllID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDMsIDddLAoJCQkJCQkJYWUgPSBbMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNV0sCgkJCQkJCQlvZSA9IDUxMiwKCQkJCQkJCXJlID0gbmV3IEFycmF5KDIgKiAoSCArIDIpKTsKCQkJCQkJaShyZSk7CgkJCQkJCXZhciBzZSA9IG5ldyBBcnJheSgyICogVSk7CgkJCQkJCWkoc2UpOwoJCQkJCQl2YXIgbGUgPSBuZXcgQXJyYXkob2UpOwoJCQkJCQlpKGxlKTsKCQkJCQkJdmFyIGNlID0gbmV3IEFycmF5KEYgLSBSICsgMSk7CgkJCQkJCWkoY2UpOwoJCQkJCQl2YXIgZGUgPSBuZXcgQXJyYXkoJCk7CgkJCQkJCWkoZGUpOwoJCQkJCQl2YXIgcGUgPSBuZXcgQXJyYXkoVSk7CgkJCQkJCWkocGUpOwoJCQkJCQl2YXIgaGUsIHVlLCBtZSwgZmUgPSAhMTsKCQkJCQkJbi5fdHJfaW5pdCA9IEMsIG4uX3RyX3N0b3JlZF9ibG9jayA9IFMsIG4uX3RyX2ZsdXNoX2Jsb2NrID0gVCwgbi5fdHJfdGFsbHkgPSBQLCBuLl90cl9hbGlnbiA9IE4KCQkJCQl9LCB7CgkJCQkJCSIuLi91dGlscy9jb21tb24iOiAzCgkJCQkJfQoJCQkJXSwKCQkJCTE1OiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgoJCQkJCQlmdW5jdGlvbiBpKCkgewoJCQkJCQkJdGhpcy5pbnB1dCA9IG51bGwsIHRoaXMubmV4dF9pbiA9IDAsIHRoaXMuYXZhaWxfaW4gPSAwLCB0aGlzLnRvdGFsX2luID0gMCwgdGhpcy5vdXRwdXQgPSBudWxsLCB0aGlzLm5leHRfb3V0ID0gMCwgdGhpcy5hdmFpbF9vdXQgPSAwLCB0aGlzLnRvdGFsX291dCA9IDAsIHRoaXMubXNnID0gIiIsIHRoaXMuc3RhdGUgPSBudWxsLCB0aGlzLmRhdGFfdHlwZSA9IDIsIHRoaXMuYWRsZXIgPSAwCgkJCQkJCX0KCQkJCQkJdC5leHBvcnRzID0gaQoJCQkJCX0sIHt9CgkJCQldLAoJCQkJIi8iOiBbCgkJCQkJZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkidXNlIHN0cmljdCI7CgkJCQkJCXZhciBpID0gZSgiLi9saWIvdXRpbHMvY29tbW9uIikuYXNzaWduLAoJCQkJCQkJYSA9IGUoIi4vbGliL2RlZmxhdGUiKSwKCQkJCQkJCW8gPSBlKCIuL2xpYi9pbmZsYXRlIiksCgkJCQkJCQlyID0gZSgiLi9saWIvemxpYi9jb25zdGFudHMiKSwKCQkJCQkJCXMgPSB7fTsKCQkJCQkJaShzLCBhLCBvLCByKSwgdC5leHBvcnRzID0gcwoJCQkJCX0sIHsKCQkJCQkJIi4vbGliL2RlZmxhdGUiOiAxLAoJCQkJCQkiLi9saWIvaW5mbGF0ZSI6IDIsCgkJCQkJCSIuL2xpYi91dGlscy9jb21tb24iOiAzLAoJCQkJCQkiLi9saWIvemxpYi9jb25zdGFudHMiOiA2CgkJCQkJfQoJCQkJXQoJCQl9LCB7fSwgW10pKCIvIikKCQl9KQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIGkgPSB7CgkJCQkiXFwuamRcXC5jb20iOiAiMzYwYnV5IiwKCQkJCSJkYW5nZGFuZ1xcLmNvbSI6ICJkYW5nZGFuZyIsCgkJCQkidm1laVxcLmNvbSI6ICJ2bWVpIiwKCQkJCSJ0b290b29cXC5jbiI6ICJ0b290b28iLAoJCQkJInd3d1xcLnNwaWRlclxcLmNvbVxcLmNuIjogInNwaWRlciIsCgkJCQkiLio/Ym9xaWlcXC5jb20iOiAiYm9xaWkiLAoJCQkJInd3d1xcLjUxZGluXFwuY29tIjogIjUxZGluIiwKCQkJCSJ3d3dcXC5oYWl0dW5jdW5cXC5jb20iOiAiaGFpdHVuY3VuIiwKCQkJCSJ5dW5ob3VcXC5jb20iOiAieXVuaG91IiwKCQkJCSIuKj92aXBcXC5jb20iOiAidmlwIiwKCQkJCSJ3d3dcXC5tYWxsdnZcXC5jb20iOiAiaG9tZXZ2IiwKCQkJCSJyYXlpXFwuY24iOiAicmF5aSIsCgkJCQkid3d3XFwueWFvZmFuZ1xcLmNuIjogInlhb2ZhbmciLAoJCQkJInd3d1xcLmxpa2VmYWNlXFwuY29tIjogImxpa2VmYWNlIiwKCQkJCSJ3d3dcXC5ndW9waVxcLmNvbSI6ICJndW9waSIsCgkJCQkid3d3XFwubWVuZ2x1XFwuY29tIjogIm1lbmdsdSIsCgkJCQkiKC4qPylcXC5tMThcXC5jb20iOiAibTE4IiwKCQkJCSJcXC5lZmVpaHVcXC5jb20iOiAiZWZlaWh1IiwKCQkJCSIvL3d3d1xcLm1laVxcLmNvbS9zaWxvLy4qLWV2ZW50LWV2ZW50XFwuaHRtbCI6ICJtZWkiLAoJCQkJImJlbmxhaVxcLmNvbSI6ICJiZW5sYWkiLAoJCQkJIi8vd3d3XFwua2p0XFwuY29tIjogImtqdCIsCgkJCQkid3d3XFwua2p0XFwuY29tIjogImtqdCIsCgkJCQkiYmVzdGluZm9vZHMuY29tIjogImJlc3RpbmZvb2RzIiwKCQkJCSJcXC5qMVxcLmNvbSI6ICJqMSIsCgkJCQkieXVtbXk3N1xcLmNvbSI6ICJ5dW1teTc3IiwKCQkJCSJcXC4zNjBreHJcXC5jb20iOiAiMzYwa3hyIiwKCQkJCSJpdGVtXFwuZmVpbml1XFwuY29tIjogImZlaW5pdSIsCgkJCQkic2hvcFxcLmxlbm92b21vYmlsZVxcLmNvbSI6ICJsZW5vdm8iLAoJCQkJInN1cHV5XFwuY29tIjogInN1cHV5IiwKCQkJCSJzdXB1bWFsbFxcLmNvbSI6ICJzdXB1bWFsbCIsCgkJCQkieW9ob2J1eVxcLmNvbSI6ICJ5b2hvYnV5IiwKCQkJCSJtZjkxMFxcLmNvbSI6ICJtZjkxMCIsCgkJCQkic3VuZGFuXFwuY29tIjogInN1bmRhbiIsCgkJCQkiXFwudGFvM2NcXC5jb20iOiAidGFvM2MiLAoJCQkJImFpZGFpXFwuY29tIjogImFpZGFpIiwKCQkJCSJ4XFwuY29tXFwuY24iOiAieCIsCgkJCQkiZmVpZmVpXFwuKD86Y258Y29tKSI6ICJmZWlmZWkiLAoJCQkJImxvdm9cXC5jbiI6ICJsb3ZvIiwKCQkJCSJ5aW50YWlcXC5jb20iOiAieWludGFpIiwKCQkJCSJiYW5nZ29cXC5jb20iOiAiYmFuZ2dvIiwKCQkJCSI1bHV4XFwuY29tIjogIjVsdXgiLAoJCQkJImFtYXpvblxcLmRlIjogImFtYXpvbl9kZSIsCgkJCQkiXFwucGFpeGllXFwubmV0IjogInBhaXhpZSIsCgkJCQkiXFwuaGFuZHVcXC5jb20iOiAiaGFuZHUiLAoJCQkJIlxcLmdvdVxcLmNvbSI6ICJtNmdvIiwKCQkJCSJtaW5zaGVuZ2VjXFwuY29tIjogIm1pbnNoZW5nZWMiLAoJCQkJImxlbWFsbFxcLmNvbSI6ICJsZW1hbGwiLAoJCQkJIm9jalxcLmNvbVxcLmNuIjogIm9jaiIsCgkJCQkibmlrZVxcLmNvbSI6ICJuaWtlIiwKCQkJCSJzZmJlc3RcXC4oPzpoa3xjb20pIjogInNmYmVzdCIsCgkJCQkiXFwud2lueHVhblxcLmNvbSI6ICJ3aW54dWFuIiwKCQkJCSJcXC5zaG9waW5cXC5uZXQiOiAic2hvcGluIiwKCQkJCSJcXC5tYmFvYmFvXFwuY29tIjogIm1iYW9iYW8iLAoJCQkJInd3d1xcLnltYXRvdVxcLmNvbSI6ICJ5bWF0b3UiLAoJCQkJImNvb2NhYVxcLmNvbSI6ICJjb29jYWEiLAoJCQkJIjExMVxcLmNvbVxcLmNuIjogIjExMSIsCgkJCQkic2hvcFxcLmxlbm92b1xcLmNvbVxcLmNuIjogImxlbm92byIsCgkJCQkiZnJ1aXRkYXlcXC5jb20iOiAiZnJ1aXRkYXkiLAoJCQkJImFtYXpvblxcLmVzIjogImFtYXpvbiIsCgkJCQkibWVpY2lcXC5jb20iOiAibWVpY2kiLAoJCQkJImJlaWJlaVxcLmNvbSI6ICJiZWliZWkiLAoJCQkJImtlZWRlXFwuY29tIjogImtlZWRlIiwKCQkJCSJrZWRlXFwuY29tIjogImtlZWRlIiwKCQkJCSJ4aWppZS5jb20iOiAieGlqaWUiLAoJCQkJImNhbWVsLmNvbS5jbiI6ICJjYW1lbCIsCgkJCQkibWVpdHVhblxcLmNvbSI6ICJtZWl0dWFuIiwKCQkJCSJcXC5hbWF6b25cXC5jbiI6ICJhbWF6b24iLAoJCQkJIlxcLmFtYXpvblxcLmNvbSI6ICJhbWF6b25fdXMiLAoJCQkJImxlbm92b1xcLmNvbSI6ICJsZW5vdm8iLAoJCQkJImVhc2VleWVzXFwuY29tIjogImVhc2VleWVzIiwKCQkJCSJhaW1lclxcLmNvbVxcLmNuIjogImFpbWVyIiwKCQkJCSJzaG93am95XFwuY29tIjogInNob3dqb3kiLAoJCQkJInllc215d2luZVxcLmNvbSI6ICJ5ZXNteXdpbmUiLAoJCQkJInRpYW50aWFuXFwuY29tIjogInRpYW50aWFuIiwKCQkJCSJcXC5nYXBcXC5jbiI6ICJnYXAiLAoJCQkJIndhbmdmdWppbmdcXC5jb20iOiAid2FuZ2Z1amluZyIsCgkJCQkiXFwubWVpXFwuY29tIjogIm1laSIsCgkJCQkiYW1hem9uXFwuY2EiOiAiYW1hem9uX2NhIiwKCQkJCSJzZWNvb1xcLmNvbSI6ICJzZWNvbyIsCgkJCQkid3d3XFwubWV0YW9cXC5jb20iOiAibWV0YW8iLAoJCQkJIm1ldGFvXFwuY29tIjogIm1ldGFvIiwKCQkJCSJhbWF6b25cXC5jb21cXC5iciI6ICJhbWF6b24iLAoJCQkJImJhaXlhbmd3YW5nLmNvbSI6ICJiYWl5YW5nd2FuZyIsCgkJCQkiYm9va3V1XFwuY29tIjogImJvb2t1dSIsCgkJCQkiMTAweXVlXFwuY29tIjogIjEwMHl1ZSIsCgkJCQkibWVpbGVsZVxcLmNvbSI6ICJtZWlsZWxlIiwKCQkJCSJkMVxcLmNvbVxcLmNuIjogImQxIiwKCQkJCSJtXFwuZDFcXC5jbiI6ICJkMSIsCgkJCQkiLnRhcXUuY24iOiAidGFxdSIsCgkJCQkibGV0YW9cXC5jb20iOiAibGV0YW8iLAoJCQkJInd3d1xcLmthb2xhXFwuY29tIjogImthb2xhIiwKCQkJCSJsYW1pdVxcLmNvbSI6ICJsYW1pdSIsCgkJCQkiXFwudm1hbGxcXC5jb20iOiAidm1hbGwiLAoJCQkJIm1vcmVmb29kXFwuY29tIjogIm1vcmVmb29kIiwKCQkJCSJcXC54aWppLmNvbSI6ICJ4aWppIiwKCQkJCSJzaG9wXFwubGV0dlxcLmNvbSI6ICJsZW1hbGwiLAoJCQkJInZqaWFcXC5jb20iOiAidmppYSIsCgkJCQkic3RhcGxlc1xcLmNuIjogInN0YXBsZXMiLAoJCQkJIlxcLnptN1xcLmNuIjogInptNyIsCgkJCQkiXFwuKD86bW9vbmJhc2F8a29yaXJsfHJ1dGlzaGVyfHN1b3Jhbmd8YWxhdmVzfGluZzJpbmd8MC0xMDBzfHFqaGVyYnxtb250ZWFtb3IpXFwuY29tIjogIm1vb25iYXNhIiwKCQkJCSJmZW5ncXVcXC5jb20iOiAiZmVuZ3F1IiwKCQkJCSJiZXN0a2VlcFxcLmNuIjogImJlc3RrZWVwIiwKCQkJCSJvY2pcXC5rciI6ICJvY2oiLAoJCQkJImFtYXpvblxcLmNvXFwuanAiOiAiYW1hem9uX2pwIiwKCQkJCSJ6aGVuXFwuY29tIjogInpoZW4iLAoJCQkJIlxcLnhpdVxcLmNvbSI6ICJ4aXUiLAoJCQkJIihcXC4pP2hvbWV2dlxcLmNvbSI6ICJob21ldnYiLAoJCQkJImRhbGluZy5jb20iOiAiZGFsaW5nIiwKCQkJCSJhbWF6b25cXC5pbiI6ICJhbWF6b24iLAoJCQkJImZlaW5pdVxcLmNvbSI6ICJmZWluaXUiLAoJCQkJImppdW1laVxcLmNvbSI6ICJqaXVtZWkiLAoJCQkJInRhb3hpZVxcLmNvbSI6ICJ0YW94aWUiLAoJCQkJImFtYXpvblxcLml0IjogImFtYXpvbiIsCgkJCQkiemF6aGlwdVxcLmNvbSI6ICJ6YXpoaXB1IiwKCQkJCSJcXC5ibFxcLmNvbSI6ICJibCIsCgkJCQkiLio/YmxcXC5jb20iOiAiYmwiLAoJCQkJInlvdS4xNjMuY29tIjogInlvdTE2MyIsCgkJCQkibGluZ3NoaVxcLmNvbSI6ICJsaW5nc2hpIiwKCQkJCSJodWFcXC5jb20iOiAiaHVhIiwKCQkJCSJcXC5tNmdvXFwuY29tIjogIm02Z28iLAoJCQkJImxlZmVuZ1xcLmNvbSI6ICJsZWZlbmciLAoJCQkJIjM2MGthZFxcLmNvbSI6ICIzNjBrYWQiLAoJCQkJIlxcLjk5cmVhZFxcLmNvbSI6ICI5OXJlYWQiLAoJCQkJIlxcLm1pcWlcXC5jbiI6ICJtaXFpIiwKCQkJCSJxaW5xaW5iYWJ5XFwuY29tIjogInFpbnFpbmJhYnkiLAoJCQkJInZhbmNsXFwuY29tIjogInZhbmNsIiwKCQkJCSJcXC5qaXV4aWFuXFwuY29tIjogImppdXhpYW4iLAoJCQkJImppYWVcXC5jb20iOiAiamlhZSIsCgkJCQkibWlkZWFcXC5jb20iOiAibWlkZWEiLAoJCQkJImFtYXpvblxcLmNvbVxcLm14IjogImFtYXpvbiIsCgkJCQkieGlmdXF1YW5cXC5jb20iOiAieGlmdXF1YW4iLAoJCQkJImFtYXpvblxcLmNvbSI6ICJhbWF6b25fdXMiLAoJCQkJIndhbmdqaXVcXC5jb20iOiAid2FuZ2ppdSIsCgkJCQkiYW1hem9uXFwubmwiOiAiYW1hem9uIiwKCQkJCSJcXC5va2J1eVxcLmNvbSI6ICJva2J1eSIsCgkJCQkiYW1hem9uXFwuY29tXFwuYXUiOiAiYW1hem9uIiwKCQkJCSJzYXNhXFwuY29tIjogInNhc2EiLAoJCQkJIihcXC4pP3lpZ3VvXFwuY29tIjogInlpZ3VvIiwKCQkJCSJtdXlpbmd6aGlqaWFcXC5jb20iOiAibXV5aW5nemhpamlhIiwKCQkJCSIuKj96dWlwaW5cXC5jbiI6ICJ6dWlwaW4iLAoJCQkJIlxcLnpoaXdvXFwuY29tIjogInpoaXdvIiwKCQkJCSJzdG9yZVxcLmxvZ2l0ZWNoXFwuY29tXFwuY24iOiAibG9naXRlY2giLAoJCQkJIlxcLm5ld2VnZyhcXC5jb20pP1xcLmNuIjogIm5ld2VnZyIsCgkJCQkiZWZvdGlsZVxcLmNvbSI6ICJlZm90aWxlIiwKCQkJCSJcXC5vdWt1XFwuY29tIjogIm91a3UiLAoJCQkJIlxcLm5vNVxcLmNvbVxcLmNuIjogIm5vNSIsCgkJCQkiaGFpZXJqaW5nc2h1aVxcLmNvbSI6ICJoYWllcmppbmdzaHVpIiwKCQkJCSJ3d3dcXC5remozNjVcXC5jb20iOiAia3pqMzY1IiwKCQkJCSJ3Ymlhb1xcLmNuIjogIndiaWFvIiwKCQkJCSJcXC5sdXNlblxcLmNvbSI6ICJsdXNlbiIsCgkJCQkianVtZWlcXC5jb20iOiAianVtZWkiLAoJCQkJInhnZHFcXC5jb20iOiAieGdkcSIsCgkJCQkibWlhXFwuY29tIjogIm1peWFiYW9iZWkiLAoJCQkJIm1peWFiYW9iZWkuaGsiOiAibWl5YWJhb2JlaSIsCgkJCQkidWxlXFwuY29tIjogInVsZSIsCgkJCQkiXFwub2tocWJcXC5jb20iOiAib2tocWIiLAoJCQkJImppYW5rZVxcLmNvbSI6ICJqaWFua2UiLAoJCQkJIlxcLmp4ZHlmXFwuY29tIjogImp4ZHlmIiwKCQkJCSJ4dGVwXFwuY29tXFwuY24iOiAieHRlcCIsCgkJCQkiZ3VvamltYW1pLmNvbSI6ICJndW9qaW1hbWkiLAoJCQkJImVoYWllclxcLmNvbSI6ICJlaGFpZXIiLAoJCQkJImxieGNuXFwuY29tIjogImxieGNuIiwKCQkJCSJcXC5jYW1lbFxcLmNvbVxcLmNuIjogImNhbWVsIiwKCQkJCSIoPzp2aXZpYW58bGlua21hc2F8bWFzYW1hc28pXFwuKD86Y29tfGNuKSI6ICJtYXNhbWFzbyIsCgkJCQkibGlmZXZjLmNvbSI6ICJsaWZldmMiLAoJCQkJImNodW5zaHVpdGFuZ1xcLmNvbSI6ICJjaHVuc2h1aXRhbmciLAoJCQkJIlxcLmJvb2tzY2hpbmFcXC5jb20iOiAiYm9va3NjaGluYSIsCgkJCQkibGV5b3VcXC5jb21cXC5jbiI6ICJsZXlvdSIsCgkJCQkiXFwueW91Z291XFwuY29tIjogInlvdWdvdSIsCgkJCQkiYW1hem9uXFwuY29cXC51ayI6ICJhbWF6b25fdWsiLAoJCQkJImdqd1xcLmNvbSI6ICJnanciLAoJCQkJImxpbmluZ1xcLmNvbSI6ICJsaW5pbmciLAoJCQkJIlxcLnNcXC5jbiI6ICJzY24iLAoJCQkJImhpc2Vuc2VcXC5jb20iOiAiaGlzZW5zZSIsCgkJCQkiXFwuY2hpbmEtcHViXFwuY29tIjogImNoaW5hcHViIiwKCQkJCSJqdW1laWdsb2JhbFxcLmNvbSI6ICJqdW1laSIsCgkJCQkiXFwuKHhpYW8pP21pXFwuY29tIjogIm1pIiwKCQkJCSJcXC5zZXBob3JhXFwuY24iOiAic2VwaG9yYSIsCgkJCQkiamlueGlhbmcuY29tIjogImp4ZHlmIiwKCQkJCSJwdXJjb3R0b24uY29tIjogInB1cmNvdHRvbiIsCgkJCQkid3N0eC5jb20iOiAid3N0eCIsCgkJCQkiemhvbmdqaXUuY24iOiAiemhvbmdqaXUiLAoJCQkJInd3dy5rYWx1bGkuY29tIjogImthbHVsaSIsCgkJCQkibWFsbC50bzh0by5jb20iOiAidG84dG8iLAoJCQkJInd3dy5vcHBvc2hvcC5jbiI6ICJvcHBvc2hvcCIsCgkJCQkiYmFvYmVpZ2V6aS5jb20iOiAiYmFvYmVpZ2V6aSIsCgkJCQkid3d3Lm1hcmttYWxsLmNvbSI6ICJtYXJrbWFsbCIsCgkJCQkiaGFwcGlnb1xcLmNvbSI6ICJoYXBwaWdvIiwKCQkJCSJhb2xhaWdvXFwuY29tIjogImFvbGFpZ28iLAoJCQkJInNrZ1xcLmNvbSI6ICJza2ciLAoJCQkJImNvb2xwYWRcXC5jb20iOiAiY29vbHBhZCIsCgkJCQkiZGl4aW50b25nXFwuY29tIjogImRpeGludG9uZyIsCgkJCQkidml2b1xcLmNvbVxcLmNuIjogInZpdm8iLAoJCQkJImx1b2xhaVxcLmNuIjogImx1b2xhaSIsCgkJCQkiYW9teWdvZFxcLmNvbSI6ICJhb215Z29kIiwKCQkJCSJzdWFuanV6aVxcLmNvbSI6ICJzdWFuanV6aSIsCgkJCQkiZ2lvbmVlXFwuY29tIjogImdpb25lZSIsCgkJCQkieWFvMTIzXFwuY29tIjogInlhbzEyMyIsCgkJCQkidHVodVxcLmNuIjogInR1aHUiLAoJCQkJIndhbG1hcnRcXC5jb20iOiAid2FsbWFydCIsCgkJCQkidnNpZ29cXC5jbiI6ICJ2c2lnbyIsCgkJCQkibG9va2ZhbnRhc3RpY1xcLmNvbSI6ICJsb29rZmFudGFzdGljIiwKCQkJCSJhc2hmb3JkXFwuY29tIjogImFzaGZvcmQiLAoJCQkJInNob3Bib3BcXC5jb20iOiAic2hvcGJvcCIsCgkJCQkiNnBtXFwuY29tIjogIjZwbSIsCgkJCQkiYW1hem9uXFwuZnIiOiAiYW1hem9uX2ZyIiwKCQkJCSJzdW5pbmdcXC5jb20iOiAic3VuaW5nIiwKCQkJCSJnb21lLmNvbS5jbiI6ICJnb21lIiwKCQkJCSJ5aGQuY29tIjogInlpaGFvZGlhbiIKCQkJfSwKCQkJYSA9IHsKCQkJCWFtYXpvbjogMSwKCQkJCWRhbmdkYW5nOiAyLAoJCQkJIjM2MGJ1eSI6IDMsCgkJCQl6b2w6IDQsCgkJCQlmZ2xhZHk6IDUsCgkJCQlvdWt1OiA2LAoJCQkJbmV3ZWdnOiA3LAoJCQkJa2ltaXNzOiA4LAoJCQkJcmVkYmFieTogOSwKCQkJCW0xODogMTAsCgkJCQlzZXBob3JhOiAxMiwKCQkJCWxlZmVuZzogMTMsCgkJCQlzY246IDE0LAoJCQkJIjUxYnV5IjogMTUsCgkJCQltZW5nbHU6IDE2LAoJCQkJbW9vbmJhc2E6IDE3LAoJCQkJa2VlZGU6IDE4LAoJCQkJdmFuY2w6IDE5LAoJCQkJb2tidXk6IDIxLAoJCQkJbGV0YW86IDIyLAoJCQkJYnV5MDA3OiAyMywKCQkJCXRhb3hpZTogMjQsCgkJCQlzdW5pbmc6IDI1LAoJCQkJY29vODogMjYsCgkJCQlsdXNlbjogMjcsCgkJCQlnb21lOiAyOCwKCQkJCWRhemhvbmdkaWFucWk6IDI5LAoJCQkJeWloYW9kaWFuOiAzMSwKCQkJCXdvbWFpOiAzMiwKCQkJCWxleW91OiAzMywKCQkJCXNob3BpbjogMzQsCgkJCQl4aXU6IDM1LAoJCQkJbWJhb2JhbzogMzYsCgkJCQl2amlhOiAzNywKCQkJCSI3Y3YiOiAzOCwKCQkJCXFpbnFpbmJhYnk6IDM5LAoJCQkJY2h1bnNodWl0YW5nOiA0MCwKCQkJCXg6IDQxLAoJCQkJZ3VvcGk6IDQyLAoJCQkJbm81OiA0MywKCQkJCXNhc2E6IDQ1LAoJCQkJIjM2MGt4ciI6IDUwLAoJCQkJbTZnbzogNTEsCgkJCQlsaWtlZmFjZTogNTIsCgkJCQltb3JlZm9vZDogNTQsCgkJCQl5YW9mYW5nOiA1NiwKCQkJCSI5OXJlYWQiOiA1OSwKCQkJCWNoaW5hcHViOiA2MCwKCQkJCWJvb2tzY2hpbmE6IDYxLAoJCQkJd2lueHVhbjogNjIsCgkJCQllZmVpaHU6IDYzLAoJCQkJeWludGFpOiA2NiwKCQkJCWhhcHBpZ286IDcyLAoJCQkJZ2FwOiA3MywKCQkJCSI1bHV4IjogNzUsCgkJCQl0bWFsbDogODMsCgkJCQl0aWFudGlhbjogODQsCgkJCQl4aWppZTogODUsCgkJCQlqdW1laTogODYsCgkJCQl5b3Vnb3U6IDkzLAoJCQkJMTExOiA5NCwKCQkJCWppYW5rZTogOTcsCgkJCQltdXlpbmd6aGlqaWE6IDk4LAoJCQkJbGluZ3NoaTogOTksCgkJCQliYW5nZ286IDEwMCwKCQkJCXllc215d2luZTogMTAxLAoJCQkJaml1bWVpOiAxMDIsCgkJCQlqaXV4aWFuOiAxMDMsCgkJCQlnanc6IDEwOCwKCQkJCW9raHFiOiAxMDksCgkJCQlib29rdXU6IDExMCwKCQkJCXRhbzNjOiAxMTEsCgkJCQlkMTogMTE1LAoJCQkJcmF5aTogMTIwLAoJCQkJcGFpeGllOiAxMjIsCgkJCQl0YW9iYW86IDEyMywKCQkJCWhvbWV2djogMTI0LAoJCQkJanhkeWY6IDEyNSwKCQkJCXNmYmVzdDogMTI2LAoJCQkJYmVubGFpOiAxMjcsCgkJCQl0b290b286IDEyOCwKCQkJCXR1b3R1bzogMTI4LAoJCQkJdmlwOiAxMjksCgkJCQl2bWFsbDogMTM0LAoJCQkJbGVub3ZvOiAxMzUsCgkJCQlhcHBsZTogMTM2LAoJCQkJem03OiAxMzgsCgkJCQltaXFpOiAxMzksCgkJCQl6aGl3bzogMTQwLAoJCQkJajE6IDE0MSwKCQkJCXdhbmdqaXU6IDE0MiwKCQkJCWxhbWl1OiAxNDYsCgkJCQlhaW1lcjogMTQ3LAoJCQkJd2JpYW86IDE1MywKCQkJCWhhbmR1OiAxNTQsCgkJCQllaGFpZXI6IDE1NSwKCQkJCXNlY29vOiAxNTYsCgkJCQljYW1lbDogMTU3LAoJCQkJbWFzYW1hc286IDE1OCwKCQkJCXpoZW46IDE2MiwKCQkJCXhpZnVxdWFuOiAxNjQsCgkJCQltaTogMTY3LAoJCQkJbGVtYWxsOiAxNjgsCgkJCQltZWl0dWFuOiAxNzIsCgkJCQljdHJpcDogMTczLAoJCQkJeWlndW86IDE3NCwKCQkJCXl1bW15Nzc6IDE3NSwKCQkJCWZydWl0ZGF5OiAxNzgsCgkJCQlmZWluaXU6IDE4MCwKCQkJCWZlaWZlaTogMTgxLAoJCQkJenVpcGluOiAxODIsCgkJCQl5b2hvYnV5OiAxODQsCgkJCQlsdm1hbWE6IDE4NSwKCQkJCWJlc3RrZWVwOiAxODgsCgkJCQltZjkxMDogMTk0LAoJCQkJbWFya21hbGw6IDE5NCwKCQkJCW1peWFiYW9iZWk6IDE5NSwKCQkJCXVsZTogMTk2LAoJCQkJbWluc2hlbmdlYzogMTk3LAoJCQkJd2FuZ2Z1amluZzogMTk4LAoJCQkJbnVvbWk6IDE5OSwKCQkJCW1laWxlbGU6IDIwMSwKCQkJCW1vZ3VqaWU6IDIwMywKCQkJCWVsb25nOiAyMDYsCgkJCQlzdXB1bWFsbDogMjEwLAoJCQkJbHk6IDIxMSwKCQkJCWxpbmluZzogMjEzLAoJCQkJc3ByaW5ndG91cjogMjE1LAoJCQkJaGFpZXJqaW5nc2h1aTogMjE3LAoJCQkJY29vY2FhOiAyMTgsCgkJCQlsaWZldmM6IDIyMCwKCQkJCWt6ajM2NTogMjIyLAoJCQkJa2FvbGE6IDIyMywKCQkJCXltYXRvdTogMjI0LAoJCQkJbWV0YW86IDIyNSwKCQkJCWtqdDogMjI2LAoJCQkJbG9naXRlY2g6IDIyNywKCQkJCWFtYXpvbl91czogMjI4LAoJCQkJYW1hem9uX2pwOiAyMjksCgkJCQl4aWppOiAyMzIsCgkJCQluaWtlOiAyMzMsCgkJCQkiMzYwa2FkIjogMjM0LAoJCQkJbGJ4Y246IDIzNSwKCQkJCW1laWNpOiAyMzYsCgkJCQliZWliZWk6IDIzNywKCQkJCSI2cG0iOiAyMzgsCgkJCQlzaG9wYm9wOiAyNDEsCgkJCQlhbWF6b25fZGU6IDI0NiwKCQkJCWFzaGZvcmQ6IDI0NywKCQkJCWxvb2tmYW50YXN0aWM6IDI0OCwKCQkJCXZzaWdvOiAyNTIsCgkJCQkiMTAweXVlIjogMjU2LAoJCQkJYW1hem9uX3VrOiAyNjYsCgkJCQlkYWxpbmc6IDI2NywKCQkJCWZlbmdxdTogMjY4LAoJCQkJbWVpOiAyNjksCgkJCQlzaG93am95OiAyNzAsCgkJCQlvY2o6IDI3MSwKCQkJCXN1bmRhbjogMjcyLAoJCQkJZWFzZWV5ZXM6IDI3MywKCQkJCXl1bmhvdTogMjc0LAoJCQkJaGFpdHVuY3VuOiAyNzUsCgkJCQl3YWxtYXJ0OiAyNzYsCgkJCQl2bWVpOiAyNzcsCgkJCQlqZ2I6IDI3OCwKCQkJCSI1MWRpbiI6IDI3OSwKCQkJCWFpZGFpOiAyODAsCgkJCQlib3FpaTogMjgxLAoJCQkJdG91cnNmb3JmdW46IDI4MiwKCQkJCWx1bHV0cmlwOiAyODMsCgkJCQlzcGlkZXI6IDI4NCwKCQkJCWppYWU6IDI4NiwKCQkJCXphemhpcHU6IDI4NywKCQkJCXhnZHE6IDI4OCwKCQkJCXh0ZXA6IDI4OSwKCQkJCW1pZGVhOiAyOTAsCgkJCQlzdGFwbGVzOiAyOTEsCgkJCQllZm90aWxlOiAyOTIsCgkJCQlsb3ZvOiAyOTQsCgkJCQlodWE6IDI5NSwKCQkJCXpoZTgwMDogMjk2LAoJCQkJdHVodTogMjk5LAoJCQkJdGFxdTogMzEzLAoJCQkJYmw6IDM0NywKCQkJCWJlc3RpbmZvb2RzOiAzNDgsCgkJCQl5b3UxNjM6IDM0OSwKCQkJCWd1b2ppbWFtaTogMzUxLAoJCQkJYmFpeWFuZ3dhbmc6IDM1MiwKCQkJCWp1YW5waTogMzYwLAoJCQkJcHVyY290dG9uOiAzNjQsCgkJCQlhbWF6b25fZnI6IDM2NSwKCQkJCWFtYXpvbl9jYTogMzY2LAoJCQkJd3N0eDogMzY3LAoJCQkJaGlzZW5zZTogMzY4LAoJCQkJemhvbmdqaXU6IDM2OSwKCQkJCWthbHVsaTogMzcwLAoJCQkJdG84dG86IDM3MSwKCQkJCW9wcG9zaG9wOiAzNzIsCgkJCQliYW9iZWlnZXppOiAzNzMsCgkJCQl5YW8xMjM6IDM3NCwKCQkJCWdpb25lZTogMzc2LAoJCQkJc3Vhbmp1emk6IDM3NywKCQkJCWFvbXlnb2Q6IDM3OCwKCQkJCWx1b2xhaTogMzc5LAoJCQkJdml2bzogMzgwLAoJCQkJZGl4aW50b25nOiAzODEsCgkJCQljb29scGFkOiAzODIsCgkJCQlza2c6IDM4MywKCQkJCWFvbGFpZ286IDM4NQoJCQl9LAoJCQlvID0gewoJCQkJMDogIui0reeJqeWFmiIsCgkJCQkxOiAi5Lqa6ams6YCKIiwKCQkJCTI6ICLlvZPlvZPnvZEiLAoJCQkJMzogIuS6rOS4nOWVhuWfjiIsCgkJCQk0OiAi5Lit5YWz5p2R5Zyo57q/IiwKCQkJCTU6ICLpo47lsJrkvIrkurrnvZEiLAoJCQkJNjogIuasp+mFt+e9kSIsCgkJCQk3OiAi5paw6JuL5Lit5Zu9IiwKCQkJCTg6ICLpl7ronJznvZEiLAoJCQkJOTogIue6ouWtqeWtkCIsCgkJCQkxMDogIum6pue9kSIsCgkJCQkxMTogIuWUr+S8iuWVhuWfjiIsCgkJCQkxMjogIuS4neiKmeWFsCIsCgkJCQkxMzogIuS5kOicgue9kSIsCgkJCQkxNDogIuWQjemei+W6kyIsCgkJCQkxNTogIuaYk+i/hee9kSIsCgkJCQkxNjogIuaipumcsuaXtuWwmue9kSIsCgkJCQkxNzogIuaipuiKreiOjiIsCgkJCQkxODogIuWPr+W+l+ecvOmVnOe9kSIsCgkJCQkxOTogIuWHoeWuouivmuWTgSIsCgkJCQkyMDogIua3mOengC3nmb7kuL3pnovkuJoiLAoJCQkJMjE6ICLlpb3kuZDkubAiLAoJCQkJMjI6ICLkuZDmt5giLAoJCQkJMjM6ICLlpaXorq/ov5DliqjllYbln44iLAoJCQkJMjQ6ICLmt5jpnovnvZEiLAoJCQkJMjU6ICLoi4/lroHmmJPotK0iLAoJCQkJMjY6ICLlupPlt7TnvZEo5Zu9576OKSIsCgkJCQkyNzogIue7v+ajruaVsOeggSIsCgkJCQkyODogIuWbvee+juWcqOe6vyIsCgkJCQkyOTogIuWkp+S4reeUteWZqCIsCgkJCQkzMDogIuWbvee+juS9k+iCsiIsCgkJCQkzMTogIuS4gOWPt+W6lyIsCgkJCQkzMjogIuS4reeyruaIkeS5sOe9kSIsCgkJCQkzMzogIuS5kOWPi+WtleWptOerpSIsCgkJCQkzNDogIuS4iuWTgeaKmOaJoyIsCgkJCQkzNTogIui1sOengOe9kSIsCgkJCQkzNjogIum6puWMheWMhSIsCgkJCQkzNzogIlYrKOWHoeWuoikiLAoJCQkJMzg6ICLkuIPlvanosLciLAoJCQkJMzk6ICLkurLkurLlrp3otJ3llYbln44iLAoJCQkJNDA6ICLmmKXmsLTloIIiLAoJCQkJNDE6ICLmoZToibLmiJDkuroiLAoJCQkJNDI6ICLmnpznmq7nvZEiLAoJCQkJNDM6ICJObzXml7blsJrlub/lnLoiLAoJCQkJNDQ6ICJJRFNIRS5DT00iLAoJCQkJNDU6ICLpppnmuK/ojo7ojo4iLAoJCQkJNDY6ICJESEPkuK3lm70iLAoJCQkJNDc6ICLng6fljIXnvZEiLAoJCQkJNDg6ICLml6Xlhajpo58iLAoJCQkJNDk6ICLnrKzkuZ3lpKfpgZMiLAoJCQkJNTA6ICLlvIDlv4PkurrlpKfoja/miL8iLAoJCQkJNTE6ICLpuqbkuZDotK0iLAoJCQkJNTI6ICLmgqbnvo7kuL0iLAoJCQkJNTM6ICLmiqLpspznvZEiLAoJCQkJNTQ6ICLnjKvor5rpo5/lk4EiLAoJCQkJNTU6ICLogIDngrkxMDDnmb7otKfllYbln44iLAoJCQkJNTY6ICLoja/miL/nvZEiLAoJCQkJNTc6ICLkuK3lhbPmnZHlnKjnur/llYbln44iLAoJCQkJNTg6ICLkuL3lrrblrp3otJ0iLAoJCQkJNTk6ICI5Oee9keS4iuS5puWfjiIsCgkJCQk2MDogIuS6kuWKqOWHuueJiOe9kSIsCgkJCQk2MTogIuS4reWbveWbvuS5pue9kSIsCgkJCQk2MjogIuaWh+i9qee9kSIsCgkJCQk2MzogIumjnuiZjuS5kOi0rSIsCgkJCQk2NTogIuiHtOe+jue9kShTa2luU3RvcmUgQ2hpbmEpIiwKCQkJCTY2OiAi6ZO25rOw55m+6LSnIiwKCQkJCTY3OiAi6Laj546pIiwKCQkJCTY4OiAiVXJDb3NtZSIsCgkJCQk2OTogIuiNieiOk+e9kSIsCgkJCQk3MDogIumcsuWAqee9kSIsCgkJCQk3MTogIumFt+i/kOWKqCIsCgkJCQk3MjogIuW/q+S5kOi0rSIsCgkJCQk3MzogIkdBUOS4reWbvSIsCgkJCQk3NDogIuWmmeS5kOS5kOavjeWptOeUqOWTgeWVhuWfjiIsCgkJCQk3NTogIuesrOS6lOWkp+mBk+WlouS+iOWTgee9kSIsCgkJCQk3NjogIuWwj+S4u+S6uue9kSIsCgkJCQk3NzogIuWunOWutuWutuWxheWumOe9kSIsCgkJCQk3ODogIuaWsOS4g+WkqeeUteWZqOe9kSIsCgkJCQk3OTogIui+vuiKmeWmruWumOe9kSIsCgkJCQk4MDogIuWkquW5s+a0i+S6suWtkOe9kSIsCgkJCQk4MTogIuWkquW5s+a0i+WutuWxhee9kSIsCgkJCQk4MjogIue8pOi0ree9kSjnuqLlranlrZApIiwKCQkJCTgzOiAi5aSp54yrIiwKCQkJCTg0OiAi5aSp5aSp572RIiwKCQkJCTg1OiAi6KW/6KGX6L+Q5Yqo572RIiwKCQkJCTg2OiAi6IGa576O5LyY5ZOBIiwKCQkJCTg3OiAi5bCP54aK5Zyo57q/5ZWG5Z+OIiwKCQkJCTg4OiAi6I2J6I6T5rS+5YyW5aaG5ZOB5ZWG5Z+OIiwKCQkJCTg5OiAi5aSn6LSn5qCI572R5LiK6LaF5biCIiwKCQkJCTkwOiAi5ZCN5ZOB5omT5oqYIiwKCQkJCTkxOiAi5rS75Yqb6L6+5L+d5YGl5ZOB572RIiwKCQkJCTkyOiAiMTLngrnpm7bpo58iLAoJCQkJOTM6ICLkvJjotK3nvZEiLAoJCQkJOTQ6ICIx6I2v572RIiwKCQkJCTk1OiAi5a+86I2v572RKOS4iua1t+Wkjee+juWkp+iNr+aIvykiLAoJCQkJOTY6ICLng5/mgqbnvZEiLAoJCQkJOTc6ICLlgaXlrqLnvZEiLAoJCQkJOTg6ICLmr43lqbTkuYvlrrYiLAoJCQkJOTk6ICLkuK3lm73pm7bpo5/nvZEiLAoJCQkJMTAwOiAi6YKm6LSt572RIiwKCQkJCTEwMTogIuS5n+S5sOmFkiIsCgkJCQkxMDI6ICLphZLnvo7nvZEiLAoJCQkJMTAzOiAi6YWS5LuZ572RIiwKCQkJCTEwNDogIuaDoOWBpeW6t+WVhuWfjiIsCgkJCQkxMDU6ICLlt6XotLjlrrbnlLUiLAoJCQkJMTA2OiAi5ZCO546b54m5572R5LiK6LaF5biCIiwKCQkJCTEwNzogIuiZjuaJkeivhui0pyIsCgkJCQkxMDg6ICLotK3phZLnvZEiLAoJCQkJMTA5OiAi5Y2O5by65YyX5ZWG5Z+OIiwKCQkJCTExMDogIuWNmuW6k+S5puWfjiIsCgkJCQkxMTE6ICLpq5jpuL/llYbln44iLAoJCQkJMTEyOiAi6KW/5Y2VaWdvNSIsCgkJCQkxMTM6ICLmlrDkuJbnlYznmb7otKciLAoJCQkJMTE0OiAi5rGJ5YWJ55m+6LSnIiwKCQkJCTExNTogIkQx5LyY5bCaIiwKCQkJCTExNjogIuaYk+aWr+adpeemjyIsCgkJCQkxMTc6ICLkvJjmgqbnlJ/mtLsiLAoJCQkJMTE4OiAi5o+S5bqn572RIiwKCQkJCTExOTogIk9SQklT5Lit5Zu9IiwKCQkJCTEyMDogIumUkOaEj+e9kSIsCgkJCQkxMjE6ICLkvJgx5a6d6LSdIiwKCQkJCTEyMjogIuaLjemei+e9kSIsCgkJCQkxMjM6ICLmt5jlrp3nvZEiLAoJCQkJMTI0OiAi5Li65Li6572RIiwKCQkJCTEyNTogIumHkeixoee9kSIsCgkJCQkxMjY6ICLpobrkuLDkvJjpgIkiLAoJCQkJMTI3OiAi5pys5p2l55Sf5rS7IiwKCQkJCTEyODogIuayseayseW3peekviIsCgkJCQkxMjk6ICLllK/lk4HkvJoiLAoJCQkJMTMwOiAi6IGa5bCa572RIiwKCQkJCTEzMTogIuS/j+eJqeaChOivrSIsCgkJCQkxMzI6ICLlpKnlk4HnvZEiLAoJCQkJMTM0OiAi5Y2O5Li65ZWG5Z+OIiwKCQkJCTEzNTogIuiBlOaDs+WVhuWfjiIsCgkJCQkxMzY6ICLoi7nmnpzlrpjnvZEiLAoJCQkJMTM4OiAi5Y2T576O572RIiwKCQkJCTEzOTogIuexs+Wlh+e9kSIsCgkJCQkxNDA6ICLnn6XmiJHoja/lpoYiLAoJCQkJMTQxOiAi5YGl5LiA572RIiwKCQkJCTE0MjogIue9kemFkue9kSIsCgkJCQkxNDM6ICLmr5TluqblhYsiLAoJCQkJMTQ0OiAi6KOC5bib5pyN6aWwIiwKCQkJCTE0NTogIkVTUFJJVOS4reaWh+WumOe9kSIsCgkJCQkxNDY6ICLlhbDnvKrlhoXooaMiLAoJCQkJMTQ3OiAi54ix5oWV5a6Y572RIiwKCQkJCTE0ODogIuWNoeW9k+e9kSIsCgkJCQkxNDk6ICLkuL3lrZDnvo7lpoYiLAoJCQkJMTUwOiAi6bqm5b636b6ZIiwKCQkJCTE1MTogIlBCQee+juWmhiIsCgkJCQkxNTI6ICLlsJrlk4HnvZEiLAoJCQkJMTUzOiAi5LiH6KGo572RIiwKCQkJCTE1NDogIumfqemDveiho+iIjSIsCgkJCQkxNTU6ICLmtbflsJTllYbln44iLAoJCQkJMTU2OiAi5a+65bqT572RIiwKCQkJCTE1NzogIumqhumpvOWumOaWueWVhuWfjiIsCgkJCQkxNTg6ICLnjpvokKjnjpvntKIiLAoJCQkJMTU5OiAiTk9Q55S36KOFIiwKCQkJCTE2MDogIueJm+WwlOWumOe9kSIsCgkJCQkxNjE6ICLpq5jooZfnvZEiLAoJCQkJMTYyOiAi54+N5ZOB572RIiwKCQkJCTE2MzogIuaWr+azouW4neWNoSIsCgkJCQkxNjQ6ICLnmpnogqTms4kiLAoJCQkJMTY1OiAi57Gz57KS5YS/IiwKCQkJCTE2NzogIuWwj+exs+WVhuWfjiIsCgkJCQkxNjg6ICLkuZDop4bllYbln44iLAoJCQkJMTY5OiAi5aSa55yL6ZiF6K+7IiwKCQkJCTE3MDogIlFR572R6LStIiwKCQkJCTE3MTogIuWkp+S8l+eCueivhCIsCgkJCQkxNzI6ICLnvo7lm6IiLAoJCQkJMTczOiAi5pC656iL572RIiwKCQkJCTE3NDogIuaYk+aenOe9kSIsCgkJCQkxNzU6ICLnvo7lkbPkuIPkuIMiLAoJCQkJMTc4OiAi5aSp5aSp5p6c5ZutIiwKCQkJCTE3OTogIuiBmue+jua1t+Wklui0rSIsCgkJCQkxODA6ICLpo57niZvnvZEiLAoJCQkJMTgxOiAi6aOe6aOe5ZWG5Z+OIiwKCQkJCTE4MjogIumGieWTgeWVhuWfjiIsCgkJCQkxODM6ICLotJ3lpIfnvZEiLAoJCQkJMTg0OiAi5pyJ6LSnIiwKCQkJCTE4NTogIumptOWmiOWmiOaXhea4uOe9kSIsCgkJCQkxODY6ICLpnZLoipLmnpwiLAoJCQkJMTg3OiAi5LyY5b2p572RIiwKCQkJCTE4ODogIui3qOWig+a3mCIsCgkJCQkxODk6ICLljIXljIXmoJEiLAoJCQkJMTkwOiAi5ruh5bqn572RIiwKCQkJCTE5MTogIuS4gOWfjuS4gOWTgSIsCgkJCQkxOTI6ICLkuK3lm73otrPlvannvZEiLAoJCQkJMTkzOiAi5Y+R5b2p572RIiwKCQkJCTE5NDogIumprOWFi+WNjuiPsiIsCgkJCQkxOTU6ICLonJzoir0iLAoJCQkJMTk2OiAi6YKu5LmQ572RIiwKCQkJCTE5NzogIuawkeeUn+WVhuWfjiIsCgkJCQkxOTg6ICLnjovlupzkupXnvZHkuIrllYbln44iLAoJCQkJMTk5OiAi55m+5bqm57Ov57GzIiwKCQkJCTIwMDogIuWOu+WTquWEv+e9kSIsCgkJCQkyMDE6ICLnvo7kuZDkuZAiLAoJCQkJMjAyOiAi576O5Li96K+0IiwKCQkJCTIwMzogIuiYkeiPh+ihlyIsCgkJCQkyMDQ6ICLnqp3nqp3lm6IiLAoJCQkJMjA1OiAi6ZSm5rGf5LmL5pifIiwKCQkJCTIwNjogIuiJuum+meaXheihjOe9kSIsCgkJCQkyMDc6ICLluIPkuIHphZLlupciLAoJCQkJMjA4OiAi6IqS5p6c572RIiwKCQkJCTIwOTogIjUwMOW9qeelqOe9kSIsCgkJCQkyMTA6ICLpgJ/mma7llYbln44iLAoJCQkJMjExOiAi5ZCM56iL572RIiwKCQkJCTIxMzogIuadjuWugeWumOaWueWVhuWfjiIsCgkJCQkyMTQ6ICLmlrDkuJzmlrnlnKjnur8iLAoJCQkJMjE1OiAi5pil56eL5peF5ri4IiwKCQkJCTIxNjogIuawuOS5kOelqOWKoSIsCgkJCQkyMTc6ICLmtbflsJTlh4DmsLTllYbln44iLAoJCQkJMjE4OiAi6YW35byA5ZWG5Z+OIiwKCQkJCTIxOTogIumtheaXj+WcqOe6v+WVhuW6lyIsCgkJCQkyMjA6ICJMaWZlVkMiLAoJCQkJMjIxOiAi5Yqq5q+U5Lqa5a6Y572RIiwKCQkJCTIyMjogIuW6t+S5i+Wutue9keS4iuiNr+W6lyIsCgkJCQkyMjM6ICLogIPmi4nmtbfotK0iLAoJCQkJMjI0OiAi5rSL56CB5aS0IiwKCQkJCTIyNTogIuicnOa3mCIsCgkJCQkyMjY6ICLot6jlooPpgJoiLAoJCQkJMjI3OiAi572X5oqA5a6Y572RIiwKCQkJCTIyODogIuS6mumprOmAiue+juWbvSIsCgkJCQkyMjk6ICLkuprpqazpgIrml6XmnKwiLAoJCQkJMjMwOiAiZUJheSIsCgkJCQkyMzE6ICJBbGlFeHByZXNzIiwKCQkJCTIzMjogIuilv+mbhue9kSIsCgkJCQkyMzM6ICJOaWtlIiwKCQkJCTIzNDogIuW6t+eIseWkmue9keS4iuiNr+W6lyIsCgkJCQkyMzU6ICLogIHnmb7lp5PnvZHkuIroja/lupciLAoJCQkJMjM2OiAi576O6KW/5pe25bCaIiwKCQkJCTIzNzogIui0nei0nee9kSIsCgkJCQkyMzg6ICI2UE0iLAoJCQkJMjM5OiAiR05D576O5Zu95a6Y572RIiwKCQkJCTI0MDogIk1ZSEFCSVQiLAoJCQkJMjQxOiAiU0hPUEJPUCIsCgkJCQkyNDI6ICJXYWxncmVlbnMiLAoJCQkJMjQzOiAiU1RQIiwKCQkJCTI0NDogIue+juWbveaWsOibiyIsCgkJCQkyNDU6ICJKb21hc2hvcCIsCgkJCQkyNDY6ICLkuprpqazpgIrlvrflm70iLAoJCQkJMjQ3OiAiQXNoZm9yZCIsCgkJCQkyNDg6ICJMb29rRmFudGFzdGljIiwKCQkJCTI0OTogIlJFSSIsCgkJCQkyNTA6ICJpSGVyYiIsCgkJCQkyNTE6ICJDYXJ0ZXIncyIsCgkJCQkyNTI6ICLop4blrqLnnLzplZznvZEiLAoJCQkJMjUzOiAiRU5ELiIsCgkJCQkyNTQ6ICJDYW1wU2F2ZXIiLAoJCQkJMjU1OiAi5LmQ5aSp5Zu96ZmFIiwKCQkJCTI1NjogIueZvuaCpue9kSIsCgkJCQkyNTc6ICJXb290IiwKCQkJCTI1ODogIua1t+a3mOWfjiIsCgkJCQkyNTk6ICJKb2UncyBOQiBPdXRsZXQiLAoJCQkJMjYwOiAiRmluaXNoTGluZSIsCgkJCQkyNjE6ICJWaXRhY29zdCIsCgkJCQkyNjI6ICJHcm91cG9uIiwKCQkJCTI2MzogIk1hY3kncyIsCgkJCQkyNjQ6ICJNb29zZWphdyIsCgkJCQkyNjU6ICJHSUxUIiwKCQkJCTI2NjogIuS6mumprOmAiuiLseWbvSIsCgkJCQkyNjc6ICLovr7ku6QiLAoJCQkJMjY4OiAi5Liw6Laj5rW35reYIiwKCQkJCTI2OTogIumtheWKm+aDoCIsCgkJCQkyNzA6ICLlsJrlpobnvZEiLAoJCQkJMjcxOiAi5Lic5pa5Q0oiLAoJCQkJMjcyOiAi6aG655S1572R5LiK5ZWG5Z+OIiwKCQkJCTI3MzogIuaYk+inhue9kSIsCgkJCQkyNzQ6ICLkupHnjLTnvZEiLAoJCQkJMjc1OiAi5rW36LGa5p2RIiwKCQkJCTI3NjogIldhbG1hcnQiLAoJCQkJMjc3OiAi5ZSv576O576O5aaGIiwKCQkJCTI3ODogIumHkeeujeajkua1t+Wklui0rSIsCgkJCQkyNzk6ICLmiJHopoHorqIiLAoJCQkJMjgwOiAi54ix5oi0572RIiwKCQkJCTI4MTogIuazouWlh+WuoOeJqeWVhuWfjiIsCgkJCQkyODI6ICLpgJTpo47nvZEiLAoJCQkJMjgzOiAi6Lev6Lev6KGMIiwKCQkJCTI4NDogIuicmOibm+e9kSIsCgkJCQkyODU6ICLlvq7ova/kuK3lm70iLAoJCQkJMjg2OiAi5Yqg5oSP5paw5ZOBIiwKCQkJCTI4NzogIuadguW/l+mTuiIsCgkJCQkyODg6ICLlsI/ni5fnlLXlmagiLAoJCQkJMjg5OiAi54m55q2l5a6Y5pa55ZWG5Z+OIiwKCQkJCTI5MDogIue+jueahOWVhuWfjiIsCgkJCQkyOTE6ICLlj7Lms7DljZoiLAoJCQkJMjkyOiAi5pa55aSq5ZWG5Z+OIiwKCQkJCTI5MzogIui0neaAneWuoiIsCgkJCQkyOTQ6ICJMT1ZP5a6257q6IiwKCQkJCTI5NTogIuS4reWbvemynOiKseekvOWTgee9kSIsCgkJCQkyOTY6ICLmipg4MDAiLAoJCQkJMjk3OiAi5pq06aOOVFYiLAoJCQkJMjk4OiAi6YCU5a62572RIiwKCQkJCTI5OTogIumAlOiZjuWFu+i9pue9kSIsCgkJCQkzMDA6ICJIVEPlrpjmlrnllYbln44iLAoJCQkJMzAxOiAicm9zZW9ubHnlrpjnvZEiLAoJCQkJMzAyOiAi6J6NMzYwIiwKCQkJCTMwMzogIuS9oOaIkei0tyIsCgkJCQkzMDQ6ICJDb3NtZSBTaG9wcGluZyIsCgkJCQkzMDU6ICJEaWFwZXJzIiwKCQkJCTMwNjogIldpbmRlbG4uZGUiLAoJCQkJMzA3OiAiQmFieW5lby5kZSIsCgkJCQkzMDg6ICJFc2NlbnR1YWwiLAoJCQkJMzA5OiAiVGhlV2F0Y2hlcnkiLAoJCQkJMzEwOiAiU2FrcyBGaWZ0aCBBdmVudWUiLAoJCQkJMzExOiAiRXN0ZWUgTGF1ZGVyIiwKCQkJCTMxMjogIkJpYyBDYW1lcmEiLAoJCQkJMzEzOiAi5LuW6LajIiwKCQkJCTMxNDogIuept+a4uOe9kSIsCgkJCQkzMTU6ICLmvrPmlrDkvJjpgIkiLAoJCQkJMzE2OiAi5peg5Y2w6Imv5ZOBIiwKCQkJCTMxNzogIkdtYXJrZXQiLAoJCQkJMzE4OiAiMTHlj7fooZciLAoJCQkJMzE5OiAiU21hcnRiYXJnYWlucyIsCgkJCQkzMjA6ICLpm4XomY7ml6XmnKzllYbln44iLAoJCQkJMzIxOiAi5biD6bKB5piO5oi05bCUIiwKCQkJCTMyMjogIk1pa2lob3VzZSIsCgkJCQkzMjM6ICJUb3lzUlVz5pel5pys5a6Y572RIiwKCQkJCTMyNDogIkNvbWZvcnRGaXJzdCIsCgkJCQkzMjU6ICLph5Hlrp3otJ0iLAoJCQkJMzI2OiAiQWxiZWUgQmFieSIsCgkJCQkzMjc6ICJCYWJ5bWFya3QiLAoJCQkJMzI4OiAiVUdH5a6Y572RIiwKCQkJCTMyOTogIk5laW1hbiBNYXJjdXMiLAoJCQkJMzMwOiAiU2hvZWJ1eSIsCgkJCQkzMzE6ICJTenVsIiwKCQkJCTMzMjogIlRpbWV4IiwKCQkJCTMzMzogIktheSBKZXdlbGVycyIsCgkJCQkzMzQ6ICJlV2F0Y2hlcyIsCgkJCQkzMzU6ICJTd2Fyb3Zza2nnvo7lm73lrpjnvZEiLAoJCQkJMzM2OiAiV29ybGQgb2YgV2F0Y2hlcyIsCgkJCQkzMzc6ICJEYW5pZWwgV2VsbGluZ3RvbiIsCgkJCQkzMzg6ICJCZWF1dHkgQmF5IiwKCQkJCTMzOTogIkJlYXV0eS5jb20iLAoJCQkJMzQwOiAiQmVhdXR5IEJhciIsCgkJCQkzNDE6ICJTa2luU3RvcmUiLAoJCQkJMzQyOiAi5YWw6Iqd6Z+p5Zu95a6Y572RIiwKCQkJCTM0MzogIkJPU0Xnvo7lm73lrpjnvZEiLAoJCQkJMzQ0OiAiQmVzdCBCdXkiLAoJCQkJMzQ1OiAiQiZIIiwKCQkJCTM0NjogIue0ouWwvOaXpeacrOWumOe9kSIsCgkJCQkzNDc6ICLnmb7ogZQiLAoJCQkJMzQ4OiAi5rqQ5ZOB5LyY6LStIiwKCQkJCTM0OTogIue9keaYk+S4pemAiSIsCgkJCQkzNTA6ICLplKbmsZ/lm73pmYUiLAoJCQkJMzUxOiAi5Zu96ZmF5aaI5ZKqIiwKCQkJCTM1MjogIueZvua0i+WVhuWfjiIsCgkJCQkzNTM6ICLpgajmuLjnvZEiLAoJCQkJMzU0OiAiUm95IFlvdW5n5Lit5paH5a6Y572RIiwKCQkJCTM1NTogIk1lZGloZWFs5Lit5paH5a6Y572RIiwKCQkJCTM1NjogIjEwMDEgcGhhcm1hY2llc+S4reaWh+WumOe9kSIsCgkJCQkzNTc6ICJMb29rZmFudGFzdGlj5Lit5paH5a6Y572RIiwKCQkJCTM1OTogIuW8gOW/g+S/neS/nemZqee9kSIsCgkJCQkzNjA6ICLljbfnmq7nvZEiLAoJCQkJMzYxOiAiQm9va2luZy5jb20iLAoJCQkJMzYyOiAi5r6z5rSyUE/oja/miL/kuK3mloflrpjnvZEiLAoJCQkJMzYzOiAi5b635Zu9QkHkv53plZboja/miL/kuK3mlofnvZEiLAoJCQkJMzY0OiAi5YWo5qOJ5pe25LujIiwKCQkJCTM2NTogIuS6mumprOmAiuazleWbvSIsCgkJCQkzNjY6ICLkuprpqazpgIrliqDmi7/lpKciLAoJCQkJMzY3OiAi5aSW6K6+5aSp5LiLIiwKCQkJCTM2ODogIua1t+S/oeWVhuWfjiIsCgkJCQkzNjk6ICLkuK3phZLnvZEiLAoJCQkJMzcwOiAi5Y2h6Lev6YeMIiwKCQkJCTM3MTogIuWcn+W3tOWFlOWutuWxheWVhuWfjiIsCgkJCQkzNzI6ICJPUFBP5Zyo57q/5ZWG5Z+OIiwKCQkJCTM3MzogIuWunei0neagvOWtkCIsCgkJCQkzNzQ6ICLlm73oja/nvZEiLAoJCQkJMzc1OiAi55m+56iL5peF6KGM572RIiwKCQkJCTM3NjogIumHkeeri+aJi+acuuWumOe9kSIsCgkJCQkzNzc6ICLphbjmqZjlrZAiLAoJCQkJMzc4OiAi5aWl5Lmw5a625YWo55CD6LStIiwKCQkJCTM3OTogIue9l+iOseWumOaWueWVhuWfjiIsCgkJCQkzODA6ICJWSVZP5a6Y5pa55ZWG5Z+OIiwKCQkJCTM4MTogIui/quS/oemAmuWumOaWueWVhuWfjiIsCgkJCQkzODI6ICLphbfmtL7llYbln44iLAoJCQkJMzgzOiAiU0tH5a6Y572RIiwKCQkJCTM4NDogIueIseWlh+iJuiIsCgkJCQkzODU6ICLlpaXojrHotK0iLAoJCQkJMzg2OiAi5q+P5pel5LyY6bKcIiwKCQkJCTM4NzogIuWcg+elnui3qOWigyIsCgkJCQkzODg6ICJGZWVsdW5pcXVl5Lit5paH572RIiwKCQkJCTM4OTogIkNoZW1pc3QgRGlyZWN05Lit5paH572RIiwKCQkJCTM5MDogIk5ldCBQaGFybWFjeeS4reaWh+e9kSIsCgkJCQkzOTE6ICJQaGFybWFjeSA0IExlc3PkuK3mlofnvZEiLAoJCQkJMzkyOiAiUGhhcm1hY3kgRGlyZWN05Lit5paH572RIiwKCQkJCTM5MzogIkFtY2Fs5Lit5paH572RIiwKCQkJCTM5NDogIkxhIFJlZG91dGXkuK3mlofnvZEiLAoJCQkJMzk1OiAi5b635Zu9VUtB5LyY5Y2h5pyJ5py65Lit5paH572RIiwKCQkJCTM5NjogIkVyd2luIE11ZWxsZXLnqYbli5LlrrblsYXkuK3mlofnvZEiLAoJCQkJMzk3OiAiS2l3aSBEaXNjb3ZlcnnkuK3mlofnvZEiLAoJCQkJMzk4OiAiU3ByaW5nbGFuZeS4reaWh+e9kSIsCgkJCQkzOTk6ICLlvrflm71KQUtPLU/lqbTnq6XnlKjlk4HkuK3mlofnvZEiLAoJCQkJNDAwOiAiRWFzeVRveXPkuK3mlofnq5kiLAoJCQkJNDAxOiAi6Iux5Zu9VExD5Lit5paH572RIiwKCQkJCTQwMjogIuazleWbvUJN5b285rSL576O6aOfIiwKCQkJCTQwMzogIkRld2FyZW7lvrflm73ni67lrZDlrrbkuK3mlofnvZEiLAoJCQkJNDA0OiAiREPlvrflvI/lurfnur/kuIroja/miL/kuK3mloflrpjnvZEiLAoJCQkJNDA1OiAi6I235YWw5LmL5a625Lit5paH56uZIiwKCQkJCTQwNjogIumxv+mxvOe9kSIsCgkJCQk0MDc6ICJLaXdpU3RhcmNhcmXlrpjnvZEiLAoJCQkJNDA4OiAiWlVL6IGU5oOz5omL5py65ZWG5Z+OIiwKCQkJCTQwOTogIktpZWhsJ3Pnvo7lm73lrpjnvZEiLAoJCQkJNDEwOiAiWmFwcG9zIiwKCQkJCTQxMTogIkNPQUNI6JS76amw5Lit5Zu95a6Y572RIiwKCQkJCTQxMjogIllPT1jkuK3mloflrpjnvZEiLAoJCQkJNDEzOiAi6Z+p5Zu9MTHooZfkuK3mloflrpjnvZEiLAoJCQkJNDE0OiAi6Iux6LaF5rW35reYIiwKCQkJCTQxNTogIkhRaGFpci5jb20iLAoJCQkJNDE2OiAiS2F0ZSBTcGFkZSIsCgkJCQk0MTc6ICJWaXRhZnnkuK3mloflrpjnvZEiLAoJCQkJNDE4OiAi5LmQ5aSp572R6LStIiwKCQkJCTQxOTogIuWutuS5kOemj+e9keS4iuWVhuWfjiIsCgkJCQk0MjA6ICLojLbkuIPnvZEiLAoJCQkJNDIxOiAi5pmu5rO95aSn6I2v5oi/IiwKCQkJCTQyMjogIktvaGwncyIsCgkJCQk0MjM6ICJCb2R5IEJ1aWxkaW5nIiwKCQkJCTQyNDogIk5vcmRzdHJvbSIsCgkJCQk0MjU6ICJDb3N0Y28iLAoJCQkJNDI2OiAiVGFyZ2V0IiwKCQkJCTQyNzogIkttYXJ0IiwKCQkJCTQyODogIk92ZXJzdG9jayIsCgkJCQk0Mjk6ICJTZWFycyIsCgkJCQk0MzA6ICLogIHmnb/nlLXlmajlrpjmlrnllYbln44iLAoJCQkJNDMxOiAi54uX5rCR572R5ZWG5Z+OIiwKCQkJCTQzMjogIumjnuenkeWVhuWfjiIsCgkJCQk0MzM6ICLmrKfmma7nhafmmI4iLAoJCQkJNDM0OiAi5LiW55WM5am056ul572RIiwKCQkJCTQzNTogIuebiuS4sOWkp+iNr+aIvyIsCgkJCQk0MzY6ICLlpb3orqLnvZEiLAoJCQkJNDM3OiAi54ix5Zue5pS2IiwKCQkJCTQzODogIumHjuWFvea0viIsCgkJCQk0Mzk6ICLkuZ3niafljavmtbTlrpjmlrnllYbln44iLAoJCQkJNDQwOiAi5LiD5Yy554u85a6Y5pa55ZWG5Z+OIiwKCQkJCTQ0MTogIumTvuWutiIsCgkJCQk0NDI6ICLmiJHniLHmiJHlrrYiLAoJCQkJNDQzOiAi5YWt6Ze05oi/56eA5Zy6IiwKCQkJCTQ0NDogIuWFq+eZvuaWuee9keS4iuiNr+W6lyIsCgkJCQk0NDU6ICLkvJjpm4blk4EiLAoJCQkJNDQ2OiAi5Lmw5Y2W5a6dIiwKCQkJCTQ0NzogIuS8mOS8l+e9kSIsCgkJCQk0NDg6ICLniLHlurflm73lrr7lgaXlurfllYbln44iLAoJCQkJNDQ5OiAi57u05Lmf57qz6YWS5bqX5a6Y572RIiwKCQkJCTQ1MDogIk0nQ0FLRSIsCgkJCQk0NTE6ICLnvo7oibLllYbln44iLAoJCQkJNDUyOiAi6K+65b+D6JuL57OV5a6Y572RIiwKCQkJCTQ1MzogIueugOWNleWtpuS5oOe9kSIsCgkJCQk0NTQ6ICLnsr7ljY7lnKjnur8iLAoJCQkJNDU1OiAi5qGD6Iqx5Z2eIiwKCQkJCTQ1NjogIumSu+efs+Wwj+m4n+WumOe9kSIsCgkJCQk0NTc6ICLlurfnvo7lgaXlurfllYbln44iLAoJCQkJNDU4OiAi5L2Q5Y2h5LyK5a6Y572RIiwKCQkJCTQ1OTogIua3mOS5pue9kSIsCgkJCQk0NjA6ICLniLHkuYvosLciLAoJCQkJNDYxOiAi6ZOB5Y+L5peF6KGM572RIiwKCQkJCTQ2MjogIuiOhueUsOe9kSIsCgkJCQk0NjM6ICLlkbPlpJrnvo7lrpjnvZEiLAoJCQkJNDY0OiAi5p6X5riF6L2p5a6Y572RIiwKCQkJCTQ2NzogIue+juWbvei0reeJqee9kSIsCgkJCQk0Njg6ICLlk4HlsJrmsYciLAoJCQkJNDY5OiAi5p+S54mM5a6Y5pa55ZWG5Z+OIiwKCQkJCTQ3MDogIua4uOWkmuWkmuWuouagiCIsCgkJCQk0NzE6ICIxNjg45bmz5Lu357K+6YCJIiwKCQkJCTQ3MjogIuS8mOS4que9kSIsCgkJCQk0NzM6ICLlpKfmnLTnvZEiLAoJCQkJNDc0OiAi6JaH6K+65aic5a6Y572RIiwKCQkJCTQ3NTogIuiUmuiTneWbvuS5pue9kSIsCgkJCQk0NzY6ICLlsbHohInmiLflpJYiLAoJCQkJNDc3OiAi5L2V6YeR5piM5a6Y572RIiwKCQkJCTQ3ODogIuS5sOiMtue9kSIsCgkJCQk0Nzk6ICLkvJhl572RIiwKCQkJCTQ4MDogIjUxWU9V5peF5ri4572RIiwKCQkJCTQ4MTogIuWMl+WPkeWbvuS5pue9kSIsCgkJCQk0ODI6ICLmmbblk4HnvZEiLAoJCQkJNDgzOiAi5Y2O5L2X6I2v5oi/IiwKCQkJCTQ4NDogIuWogemUi+WVhuWfjiIsCgkJCQk0ODU6ICLor7rkuIDoia/lk4EiLAoJCQkJNDg2OiAi5ZKM6Iy2572RIiwKCQkJCTQ4NzogIuWkqeaXtuaxh+WumOe9kSIsCgkJCQk0ODg6ICLotqPnvZHllYbln44iLAoJCQkJNDg5OiAi6Jyc5p+a5peF6KGMIiwKCQkJCTQ5MDogIuWlveiNr+W4iOe9keS4iuiNr+W6lyIsCgkJCQk0OTE6ICJJRFjniLHlrprlrqIiLAoJCQkJNDkyOiAi5LyY6ZuFMTAwIiwKCQkJCTQ5MzogIlMmU+Wls+ijhSIsCgkJCQk0OTQ6ICLlgKnnoqfnvo7lm73lrpjnvZEiLAoJCQkJNDk1OiAi5Y2O5aSPZeW9kyIsCgkJCQk0OTY6ICJCcm9va3MgQnJvdGhlcnMiLAoJCQkJNDk3OiAi5qyn576O5reYIiwKCQkJCTQ5ODogIuWNsOmAmuWkqeS4iyIsCgkJCQk0OTk6ICLlk6XkvKbmr5Tkuprnvo7lm73lrpjnvZEiLAoJCQkJNTAwOiAiQkVTVOWFqOeQg+i0rSIsCgkJCQk1MDE6ICJOZXcgQmFsYW5jZee+juWbveWumOe9kSIsCgkJCQk1MDI6ICLkuIfpm4blrqIiLAoJCQkJNTAzOiAiQmFsbHnoi7Hlm73lrpjnvZEiLAoJCQkJNTA0OiAi5LiA5Zeo56ef6L2mIiwKCQkJCTUwNTogIuWYieWIqeaIkCIsCgkJCQk1MDY6ICLlpJrluoblsYvkuK3mloflrpjnvZEiLAoJCQkJNTA3OiAiRm9yZXZlciAyMSIsCgkJCQk1MDg6ICLmkannmbvlpKfpgZMiLAoJCQkJNTA5OiAi5pyo6bif55+t56efIiwKCQkJCTUxMDogIuacgOS8mua4uCIsCgkJCQk1MTE6ICLkuK3ljp/lnLDkuqciLAoJCQkJNTEyOiAiQm9iYmkgQnJvd27nvo7lm73lrpjnvZEiLAoJCQkJNTEzOiAiU3VwZXItaW4iLAoJCQkJNTE0OiAi5rGJ6LSt572RIiwKCQkJCTUxNTogIkxldmlz5b635Zu95a6Y572RIiwKCQkJCTUxNjogIuaWkOS5kEZJTEHlrpjmlrnllYbln44iLAoJCQkJNTE3OiAi5Yyh5aiB5Lit5Zu95a6Y5pa55ZWG5Z+OIiwKCQkJCTUxODogIk5leHTnvo7lm73lrpjnvZEiLAoJCQkJNTE5OiAiaVRyaXDniLHljrvml4XooYznvZEiLAoJCQkJNTIwOiAi5ouJ5omL572RIiwKCQkJCTUyMTogIuWFreS4sOWVhuWfjiIsCgkJCQk1MjI6ICLlkIzku4HloILlpKnnhLbmt5giLAoJCQkJNTIzOiAi5oiR6K6i6IqxIiwKCQkJCTUyNDogIkZvb2RpIiwKCQkJCTUyNTogIuS4reWbveajruael+mjn+WTgee9kSIsCgkJCQk1MjY6ICLpppnmuK/ljZPmgqbljJblpoblk4EiLAoJCQkJNTI3OiAi57u05LuW6LStIiwKCQkJCTUyODogIumHkea1t+mprOWVhuWfjiIsCgkJCQk1Mjk6ICLkuq7lgaXlpb3oja/miL8iLAoJCQkJNTMwOiAi5ZSx5ZCn55u05pKt6Ze0IiwKCQkJCTUzMTogIk9ha2xleee+juWbveWumOe9kSIsCgkJCQk1MzI6ICLpgLjooYznvZEiLAoJCQkJNTMzOiAiQ2xhcmtz576O5Zu95a6Y572RIiwKCQkJCTUzNDogIlN0YXJ3b29kIEhvdGVscyIsCgkJCQk1MzU6ICJNYXJyaW90dOS4h+ixque+juWbveWumOe9kSIsCgkJCQk1MzY6ICJZZXMgU3R5bGUiLAoJCQkJNTM3OiAiRXZpc3XkuK3mloflrpjnvZEiLAoJCQkJNTM4OiAiTGlmZSdzIEVhc3kiLAoJCQkJNTM5OiAi5a6g5a6g54aK5a6Y5pa55ZWG5Z+OIiwKCQkJCTU0MDogIjAwNjHmvrPmtLLliLbpgKAiLAoJCQkJNTQxOiAiS0vppoblhajnkIPotK0iLAoJCQkJNTQyOiAiU3R5bGUgTydDbG9jayIsCgkJCQk1NDM6ICLphY3lpLjlhajnkIPotK0iLAoJCQkJNTQ0OiAiQWlyIEZyYW5jZSIsCgkJCQk1NDU6ICJBY2NvciBIb3RlbHPkuK3mloflrpjnvZEiLAoJCQkJNTQ2OiAiU3BhY2UuTksiLAoJCQkJNTQ3OiAi5Zeo5Y6o5oi/IiwKCQkJCTU0ODogIlcgQ29uY2VwdCIsCgkJCQk1NDk6ICJHQU5U6Iux5Zu95a6Y572RIiwKCQkJCTU1MDogIkNBVCBGb290d2VhcuiLseWbveWumOe9kSIsCgkJCQk1NTE6ICJTYXVjb2556Iux5Zu95a6Y572RIiwKCQkJCTU1MjogIumAoOS9nOWutuWxhSIsCgkJCQk1NTM6ICLlsI/lpKnpuYXlrpjmlrnllYbln44iLAoJCQkJNTU0OiAiQ0FO55yL5bCa5ZWG5Z+OIiwKCQkJCTU1NTogIuaXtuWwmuaXpeiusCIsCgkJCQk1NTY6ICJHdWVzc+a+s+Wkp+WIqeS6muWumOe9kSIsCgkJCQk1NTc6ICJFdGloYWQgQWlyd2F5cyIsCgkJCQk1NTg6ICJGSUlM5ZWG5Z+OIiwKCQkJCTU1OTogIuWFjeeojuaYk+i0rSIsCgkJCQk1NjA6ICLnibnotK3npL4iLAoJCQkJNTYxOiAiV2lnZ2xl5Lit5paH5a6Y572RIiwKCQkJCTU2MjogIk1lbGlzc2HpppnmuK/lrpjnvZEiLAoJCQkJNTYzOiAi56eR5rKD5pav5a6Y5pa55ZWG5Z+OIiwKCQkJCTU2NDogIkNhbHZpbiBLbGVpbiIsCgkJCQk1NjU6ICJNRU1FQk9Y576O576O566xIiwKCQkJCTU2NjogIkhpbHRvbue+juWbveWumOe9kSIsCgkJCQk1Njc6ICJSZXZvbHZlIENsb3RoaW5nIiwKCQkJCTU2ODogIui1hOeUn+Wggue+juWbveWumOe9kSIsCgkJCQk1Njk6ICLlqIfpn7Xor5fnvo7lm73lrpjnvZEiLAoJCQkJNTcwOiAiU3RhcmJ1Y2tz576O5Zu95a6Y572RIiwKCQkJCTU3MTogIlJheS1CYW7nvo7lm73lrpjnvZEiLAoJCQkJNTcyOiAiUHVtYee+juWbveWumOe9kSIsCgkJCQk1NzM6ICJOYXV0aWNh576O5Zu95a6Y572RIiwKCQkJCTU3NDogIkxhIE1lcue+juWbveWumOe9kSIsCgkJCQk1NzU6ICJLaXBsaW5n576O5Zu95a6Y572RIiwKCQkJCTU3NjogIkp1cmxpcXVl576O5Zu95a6Y572RIiwKCQkJCTU3NzogIkh1c2ggUHVwcGllcyIsCgkJCQk1Nzg6ICJPcmlnaW5z576O5Zu95a6Y572RIiwKCQkJCTU3OTogIkZvbGxpIEZvbGxpZee+juWbveWumOe9kSIsCgkJCQk1ODA6ICJMJ09jY2l0YW5l576O5Zu95a6Y572RIiwKCQkJCTU4MTogIum6pueUsCIsCgkJCQk1ODI6ICLmg6Dmma7lrpjmlrnllYbln44iLAoJCQkJNTgzOiAi5Zu95aSn5Zyw5LqnIiwKCQkJCTU4NDogIummluWutuWVhuWfjiIsCgkJCQk1ODU6ICLpnZLlsptR5oi/572RIiwKCQkJCTU4NjogIuW5v+W3nuWutuWutumhuuaIv+S6p+e9kSIsCgkJCQk1ODc6ICLmna3lt57osarkuJbljY7pgqbmiL/kuqfnvZEiLAoJCQkJNTg4OiAiSGVhbHRoUG9zdCIsCgkJCQk1ODk6ICLmiL/lpKnkuIsiLAoJCQkJNTkwOiAi5qKm5oOz5Lmm5Z+OIiwKCQkJCTU5MTogIua1t+S8mOS4lue6qummhiIsCgkJCQk1OTI6ICLmiavotKfnibnljZYiLAoJCQkJNTkzOiAi54Ot5ouN572RIiwKCQkJCTU5NDogIuiaguiageefreennyIsCgkJCQk1OTU6ICLpk7bnpajnvZEiLAoJCQkJNTk2OiAi54ix6JmO5L+dIiwKCQkJCTU5NzogIkluY2FrZeWumOe9kSIsCgkJCQk1OTg6ICLogZrmmJ/nm7Tmkq0iLAoJCQkJNTk5OiAi6Im6572RIiwKCQkJCTYwMDogIuW6t+i+ieaXheihjOe9kSIsCgkJCQk2MDE6ICLlronpgILotK3mtbflpJbllYbln44iLAoJCQkJNjAyOiAi6Zy56Zuz54i454i45rW35reY5bmz5Y+wIiwKCQkJCTYwMzogIuWwj+eJm+WcqOe6vyIsCgkJCQk2MDQ6ICJBSEFWQSIsCgkJCQk2MDU6ICJGaWZ0aCIsCgkJCQk2MDY6ICJUaGUgV2F0Y2ggSHV0IiwKCQkJCTYwNzogIkJhYnlIYXZlbuS4reaWh+e9kSIsCgkJCQk2MDg6ICLnjqvkuL3nvZEiLAoJCQkJNjA5OiAiR2V0IFRoZSBMYWJlbCDkuK3mlofnvZEiLAoJCQkJNjEwOiAi5p2+5bGL55m+6LSn5Lit5paH572RIiwKCQkJCTYxMTogIlRpbWJlcmxhbmQiLAoJCQkJNjEyOiAiVG9wbWFuIiwKCQkJCTYxMzogIkhvbWVBd2F5IiwKCQkJCTYxNDogIkJlYXV0eSBFeHBlcnQiLAoJCQkJNjE1OiAi5rW36Jyc5Lil6YCJIiwKCQkJCTYxNjogIk1hbmtpbmQiLAoJCQkJNjE3OiAiVGhlIEh1dCIsCgkJCQk2MTg6ICJUb3BzaG9wIiwKCQkJCTYxOTogIk1hbWFsYWRlbiIsCgkJCQk2MjA6ICJUcmF2ZWxlciBzdG9yZSIsCgkJCQk2MjE6ICJUcmF2ZWx6b28iLAoJCQkJNjIyOiAiVU1JIENoaWxkcmVuJ3MgU2hvZXMiLAoJCQkJNjIzOiAi5paw56eA5Li9576O5Zu95a6Y572RIiwKCQkJCTYyNDogIkZlcnJhcmkgU3RvcmUiLAoJCQkJNjI1OiAiV2lsbGVyIFRyYXZlbCIsCgkJCQk2MjY6ICJVbmluZWVkIiwKCQkJCTYyNzogIkFjbmUgU3R1ZGlvc+S4reaWh+e9kSIsCgkJCQk2Mjg6ICJBZXJvcG9zdGFsZSIsCgkJCQk2Mjk6ICJBZ29kYeS4reaWh+ermSIsCgkJCQk2MzA6ICJBbGJhIE1vZGEiLAoJCQkJNjMxOiAiQWxsYmVhdXR5IiwKCQkJCTYzMjogIkFsbFNhaW50cyIsCgkJCQk2MzM6ICJBbGxzb2xlIiwKCQkJCTYzNDogIlVyYmFuIE91dGZpdHRlcnMiLAoJCQkJNjM1OiAiVml0YWJpb3RpY3MiLAoJCQkJNjM2OiAiQmVsbGUgTWFpc29uIiwKCQkJCTYzNzogIui0neeOsuWmg+e+juWbveWumOe9kSIsCgkJCQk2Mzg6ICJCSCBDb3NtZXRpY3MiLAoJCQkJNjM5OiAi576O6I6x5paw6Z2S5bm0IiwKCQkJCTY0MDogIlZpdGFtaW4gQmF5IiwKCQkJCTY0MTogIldhaXRyb3NlIiwKCQkJCTY0MjogIldvbGZvcmQiLAoJCQkJNjQzOiAiQm9vaG9vIiwKCQkJCTY0NDogIkJvb3RzLmNvbSIsCgkJCQk2NDU6ICJCcml0aXNoIENvcm5lciBTaG9wIiwKCQkJCTY0NjogIuWunOS6uui0tyIsCgkJCQk2NDc6ICLokKTnn7PllYbln44iLAoJCQkJNjQ4OiAiQ29nZ2xlcy5jb20iLAoJCQkJNjQ5OiAiQ29yc2V0IERlYWwiLAoJCQkJNjUwOiAiQ09UVE9OIE9OIiwKCQkJCTY1MTogIkNyb2Nz6Iux5Zu95a6Y572RIiwKCQkJCTY1MjogIkNSVUlTRSIsCgkJCQk2NTM6ICJEZWxs576O5Zu95a6Y572RIiwKCQkJCTY1NDogIkRlcm1zdG9yZSIsCgkJCQk2NTU6ICJEaXNuZXkgU3RvcmUiLAoJCQkJNjU2OiAiRG9yb3RoeSBQZXJraW5zIiwKCQkJCTY1NzogIueXmOeXmOW6t+WumOaWueWVhuWfjiIsCgkJCQk2NTg6ICLluqblgYflrqIiLAoJCQkJNjU5OiAiRHVuZSBMb25kb24iLAoJCQkJNjYwOiAiRWFzdGJheSIsCgkJCQk2NjE6ICJFYXN0IERhbmXkuK3mlofnvZEiLAoJCQkJNjYyOiAiWmFmdWwiLAoJCQkJNjYzOiAiWmF2dmkiLAoJCQkJNjY0OiAiRmVpbmtlaXQuZGUiLAoJCQkJNjY1OiAiZWlibWFya3QiLAoJCQkJNjY2OiAiQmVsbHVuYeS4reaWh+e9kSIsCgkJCQk2Njc6ICJFbWlyYXRlc+mYv+iBlOmFi+iIqiIsCgkJCQk2Njg6ICJFYXN0ZXJuIE1vdW50YWluIFNwb3J0cyIsCgkJCQk2Njk6ICJFVEVSTkEiLAoJCQkJNjcwOiAiRXVyYWlsIiwKCQkJCTY3MTogIkV4YW50ZSBEaWV0IiwKCQkJCTY3MjogIkV4cGVkaWEgVUsiLAoJCQkJNjczOiAiRkFMS0UiLAoJCQkJNjc0OiAiRmFtb3VzIEZvb3R3ZWFyIiwKCQkJCTY3NTogIkJvbnBvbnQiLAoJCQkJNjc2OiAiRm9yZW8iLAoJCQkJNjc3OiAi572R5L+hIiwKCQkJCTY3ODogIkZvcmV2ZXIgVW5pcXVlIiwKCQkJCTY3OTogIkZvcnppZXJpIiwKCQkJCTY4MDogIkZyZWUgQ291bnRyeSIsCgkJCQk2ODE6ICJDRVJSVVRJIDE4ODEiLAoJCQkJNjgyOiAiRnJlbmNoIENvbm5lY3Rpb24iLAoJCQkJNjgzOiAiR2lmdCBsYW5kIiwKCQkJCTY4NDogIkN1bHQgQmVhdXR5IiwKCQkJCTY4NTogIkZhbmN5IiwKCQkJCTY4NjogIktlbnQmQ3Vyd2VuIiwKCQkJCTY4NzogIkdyb3cgR29yZ2VvdXPkuK3mlofnvZEiLAoJCQkJNjg4OiAiS29yZWFuTWFsbOS4reaWh+ermSIsCgkJCQk2ODk6ICJTVFlMRUJPUC5jb20iLAoJCQkJNjkwOiAiSE9URUwgSU5GTyIsCgkJCQk2OTE6ICJIb3VzZSBvZiBGcmFzZXIiLAoJCQkJNjkyOiAi5oOg56ef6L2mIiwKCQkJCTY5MzogIlZpdGFtaW4gUGxhbmV0IiwKCQkJCTY5NDogIldvdyBNYWxsIiwKCQkJCTY5NTogIklXT09UIiwKCQkJCTY5NjogIuiusueptuWVhuWfjiIsCgkJCQk2OTc6ICJZQS1NQU4iLAoJCQkJNjk4OiAi5rW35L+d5L+d6ZmpIiwKCQkJCTY5OTogIkp1aWN5IENvdXR1cmUiLAoJCQkJNzAwOiAiS2Vua28iLAoJCQkJNzAxOiAiVGhlIGpld2VsIGh1dCIsCgkJCQk3MDI6ICJLSUtP576O5Zu95a6Y572RIiwKCQkJCTcwMzogIkxhbmNlciBTa2luY2FyZSIsCgkJCQk3MDQ6ICJMRUdPIHNob3AiLAoJCQkJNzA1OiAiTW9zcyBCcm9zIiwKCQkJCTcwNjogIkxvcmQgJiBUYXlsb3IiLAoJCQkJNzA3OiAiU3R5bGVuYW5kYeS4reaWh+e9kSIsCgkJCQk3MDg6ICLkurrljavmmbrnvZEiLAoJCQkJNzA5OiAi5pyJ6YGT57+76K+RIiwKCQkJCTcxMDogIkZpbHRoeSBGcmFncmFuY2UiLAoJCQkJNzExOiAi6bqm55+l572RIiwKCQkJCTcxMjogIk1hdGNoZXNGYXNoaW9uIiwKCQkJCTcxMzogIuadvuacrOa4hSIsCgkJCQk3MTQ6ICLnp7vliqjllYbooZciLAoJCQkJNzE1OiAiTWljcm9zb2Z0IFN0b3JlIiwKCQkJCTcxNjogIk1pbyBTa2luY2FyZeS4reaWh+ermSIsCgkJCQk3MTc6ICJNaXNzIFNlbGZyaWRnZSIsCgkJCQk3MTg6ICJNb3VudGFpbiBHZWFyIiwKCQkJCTcxOTogIjM2MOWlveiNryIsCgkJCQk3MjA6ICJNeSBCYWciLAoJCQkJNzIxOiAiTXlwcm90ZWluIiwKCQkJCTcyMjogIue+jumqkeaYk+i0reWVhuWfjiIsCgkJCQk3MjM6ICJNeXZpdGFtaW5zIiwKCQkJCTcyNDogIk5FVC1BLVBPUlRFUuS4reaWh+e9kSIsCgkJCQk3MjU6ICJOZXcgQmFsYW5jZeiLseWbveWumOe9kSIsCgkJCQk3MjY6ICLlj67lvZPlv6voja8iLAoJCQkJNzI3OiAiTmV3IExvb2siLAoJCQkJNzI4OiAi5Lit5Y2O5Lya6K6h572R5qChIiwKCQkJCTcyOTogIuW/hei/iOWumOe9kSIsCgkJCQk3MzA6ICLogJDlhYvpppnmuK/lrpjnvZEiLAoJCQkJNzMxOiAi6ICQ5YWL5be06KW/5a6Y572RIiwKCQkJCTczMjogIuaYoOWuouebtOaSrSIsCgkJCQk3MzM6ICJOZXcgWW9yayAmIENvbXBhbnkiLAoJCQkJNzM0OiAiT2FzaXPoi7Hlm73lrpjnvZEiLAoJCQkJNzM1OiAiT3JiaXR6IiwKCQkJCTczNjogIk9yY2hpcmEiLAoJCQkJNzM3OiAiT3JpZ2luc+iLseWbveWumOe9kSIsCgkJCQk3Mzg6ICJQZXRTbWFydCIsCgkJCQk3Mzk6ICLlkJvono3otLciLAoJCQkJNzQwOiAi5ZOq5ouN572RIiwKCQkJCTc0MTogIuagvOWKm+WumOaWueWVhuWfjiIsCgkJCQk3NDI6ICJQcm9CaWtlS2l0IiwKCQkJCTc0MzogIlFhdGFyIEFpcndheXPljaHloZTlsJToiKrnqboiLAoJCQkJNzQ0OiAiUmFkbGV56Iux5Zu95a6Y572RIiwKCQkJCTc0NTogIuWuieiBlOS/nemZqSIsCgkJCQk3NDY6ICJSYWxwaCBMYXVyZW4iLAoJCQkJNzQ3OiAiUmViZWNjYSBNaW5rb2ZmIiwKCQkJCTc0ODogIuS8mOexs+e9kSIsCgkJCQk3NDk6ICIyMUNha2UiLAoJCQkJNzUwOiAiUmVudGFsY2FyIiwKCQkJCTc1MTogIkRyLiBQaWVycmUgUmljYXVkIiwKCQkJCTc1MjogIlJvY2twb3J0IiwKCQkJCTc1MzogIlJ1ZWxhbGEiLAoJCQkJNzU0OiAiNTbkurrml4XmuLjnvZEiLAoJCQkJNzU1OiAiU2FrcyBGaWZ0aCBBdmVudWUgT0ZGIDVUSCIsCgkJCQk3NTY6ICLlronnurPloZTmi4kiLAoJCQkJNzU3OiAiU0MyNC5jb20iLAoJCQkJNzU4OiAi6L2m6YCf6YCS56ef6L2mIiwKCQkJCTc1OTogIlNIT0VTLkNPTSIsCgkJCQk3NjA6ICJTcHJpbmciLAoJCQkJNzYxOiAiU2ltcGx5IFN1cHBsZW1lbnRzIiwKCQkJCTc2MjogIuWunOWSjOi0reeJqSIsCgkJCQk3NjM6ICJGYXJmZXRjaOS4reaWh+e9kSIsCgkJCQk3NjQ6ICJTc2Vuc2UiLAoJCQkJNzY1OiAiU3RldmUgTWFkZGVuIiwKCQkJCTc2NjogIkZyZWUgUGVvcGxl5Lit5paH572RIiwKCQkJCTc2NzogIumrmOaQnOaYkyIsCgkJCQk3Njg6ICJpTW9tb2tv5Lit5paH572RIiwKCQkJCTc2OTogIua3mOixhiIsCgkJCQk3NzA6ICJNaWNoYWVsIEtvcnPkuK3mlofnvZEiLAoJCQkJNzcxOiAi5LiJ5L2z6LSt54mpIiwKCQkJCTc3MjogIuiBlOmHkeaJgCIsCgkJCQk3NzM6ICLlroXosYbnvZEiLAoJCQkJNzc0OiAi572R5piT5LqRIiwKCQkJCTc3NTogIuW+t+WbveiNr+aIv2Fwby5jb23kuK3mlofnvZEiLAoJCQkJNzc2OiAi6K+756eSIiwKCQkJCTc3NzogIuWlveS6q+WVhuWfjiIsCgkJCQk3Nzg6ICLopb/ni5flhajnkIPotK0iLAoJCQkJNzc5OiAi546p5ZOq572RIiwKCQkJCTc4MDogIue0q+mprOi0ouihjCIsCgkJCQk3ODE6ICLph5HnjKvpk7bnjKsiLAoJCQkJNzgyOiAi6Leo5aKD572RIiwKCQkJCTc4MzogIk1pbGxlbm5pdW0mQ29wdGhvcm5lIEhvdGVsc+S4reaWh+e9kSIsCgkJCQk3ODQ6ICJSZWVib256IiwKCQkJCTc4NTogIuiWh+e+jumTuiIsCgkJCQk3ODY6ICLkupTmtLLkvJrmtbfotK0iLAoJCQkJNzg3OiAi5oOg5a625pyJIiwKCQkJCTc4ODogIk1lbGkgTWVsb+S4reaWh+e9kSIsCgkJCQk3ODk6ICLlsI/otKLov7ciLAoJCQkJNzkwOiAiQXNoZm9yZOS4reaWh+e9kSIsCgkJCQk3OTE6ICLpn6nlm71DSk9ObWFydOS4reaWh+e9kSIsCgkJCQk3OTI6ICLnm4rpkrHnvZEiLAoJCQkJNzkzOiAiVEhFIEdSQU5E5Lit5paH5YWN56iO5bqXIiwKCQkJCTc5NDogIuasp+i/quWKnuWFrCIsCgkJCQk3OTU6ICLlpKnombnnvZHkuIrllYbln44iLAoJCQkJNzk2OiAi5Lul5bKt5YGl5bq35Z+OIiwKCQkJCTc5NzogIuWuoui3r+aXheihjCIsCgkJCQkxMDAxOiAi5Lqa6ams6YCK56ys5LiJ5pa5IiwKCQkJCTEwMDM6ICLkuqzkuJzmiYvmnLrnq68iLAoJCQkJMTAxNTogIuaYk+i/heWMl+S6rCIsCgkJCQkxMDI1OiAi6IuP5a6B5YyX5LqsIiwKCQkJCTEwMzE6ICLkuIDlj7flupfkuIrmtbciLAoJCQkJMTAzMjogIuS4reeyruaIkeS5sOe9keWNjuS4nCIsCgkJCQkxMTI0OiAi5Li65Li6572R5YyX5LqsIiwKCQkJCTExMjY6ICLpobrkuLDkuIrmtbciLAoJCQkJMjAwMzogIuS6rOS4nOW+ruS/oeerryIsCgkJCQkyMDE1OiAi5piT6L+F5bm/5LicIiwKCQkJCTIwMjU6ICLoi4/lroHlub/lt54iLAoJCQkJMjAzMTogIuS4gOWPt+W6l+W5v+S4nCIsCgkJCQkyMDMyOiAi5Lit57Ku5oiR5Lmw5Y2O5Y2XIiwKCQkJCTIxMjY6ICLpobrkuLDlub/lt54iLAoJCQkJMzAxNTogIuaYk+i/hea5luWMlyIsCgkJCQkzMDI1OiAi6IuP5a6B5oiQ6YO9IiwKCQkJCTMwMzE6ICLkuIDlj7flupfmuZbljJciLAoJCQkJNDAzMTogIuS4gOWPt+W6l+Wbm+W3nSIKCQkJfTsKCQllLmV4cG9ydHMuZ2V0U2l0ZUlkID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gYVtlXQoJCX0sIGUuZXhwb3J0cy5nZXRTaXRlTmFtZSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJcmV0dXJuIHQgfHwgKHQgPSBhW2VdKSwgb1t0XQoJCX07CgkJdmFyIHIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCXZhciBpID0gbig2NiksCgkJCQlvID0gLTE7CgkJCWlmICgobyA9IGFbZV0pICYmIGlbb10pIHsKCQkJCXZhciByID0gaVtvXShkb2N1bWVudCk7CgkJCQlyICYmIChyLndhaXQgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5fbGlua3MpLCB0KG8sIHIpCgkJCQl9LCA1NTAwKSA6IHQobywgcikpCgkJCX0KCQl9OwoJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0IGluIGkpCgkJCQlpZiAoZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUubWF0Y2godCkpIHsKCQkJCQlyKGlbdF0sIGUpOwoJCQkJCWJyZWFrCgkJCQl9CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIG4gPSB7CgkJCXRpbWVvdXQ6IDFlMywKCQkJcHJpY2VGb3JtYXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCXQgPSB0IHx8ICIuIiwgbiA9IG4gfHwgIiwiLCBlID0gIiIgKyBlOwoJCQkJdmFyIGkgPSBlLnJlcGxhY2UobiwgIiIpLnJlcGxhY2UodCwgIi4iKTsKCQkJCWlmIChpID0gaS5tYXRjaCgvWzAtOS5dKy8pKSB0cnkgewoJCQkJCXJldHVybiBwYXJzZUZsb2F0KGkpCgkJCQl9IGNhdGNoIChhKSB7CgkJCQkJcmV0dXJuIC0xCgkJCQl9CgkJCX0sCgkJCXRlbXBsYXRlOiBmdW5jdGlvbihlLCB0LCBpKSB7CgkJCQlmb3IgKHZhciBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSwgbyA9IFtdLCByID0gMDsgciA8IGEubGVuZ3RoOyArK3IpIHRyeSB7CgkJCQkJdmFyIHMgPSBhW3JdLnF1ZXJ5U2VsZWN0b3IodCkuaHJlZiwKCQkJCQkJbCA9IGFbcl0ucXVlcnlTZWxlY3RvcihpKS50ZXh0Q29udGVudC50cmltKCk7CgkJCQkJby5wdXNoKHsKCQkJCQkJdXJsOiBzLAoJCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihsKSwKCQkJCQkJY3JjMzI6ICIiCgkJCQkJfSkKCQkJCX0gY2F0Y2ggKGMpIHsKCQkJCQljb250aW51ZQoJCQkJfQoJCQkJcmV0dXJuIG8KCQkJfQoJCX07CgkJblsxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IFtdLCBpID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIucy1yZXN1bHQtaXRlbSIpLCBhID0gMDsgYSA8IGkubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQlmb3IgKHZhciBvID0gaVthXS5xdWVyeVNlbGVjdG9yKCIucy1hY2Nlc3MtaW1hZ2UiKTsgIW8ucGFyZW50Tm9kZS5ocmVmICYmIG8ucGFyZW50Tm9kZSAhPSBlLmJvZHk7KSBvID0gby5wYXJlbnROb2RlOwoJCQkJaWYgKG8ucGFyZW50Tm9kZSA9PSBlLmJvZHkpIGNvbnRpbnVlOwoJCQkJdmFyIHIgPSBvLnBhcmVudE5vZGUuaHJlZiwKCQkJCQlzID0gaVthXS5xdWVyeVNlbGVjdG9yKCJkaXY+LmEtc3BhY2luZy1taW5pPi5hLXNwYWNpbmctbm9uZT5hPnNwYW4iKTsKCQkJCXMgfHwgKHMgPSBpW2FdLnF1ZXJ5U2VsZWN0b3IoInNwYW4uYS1jb2xvci1wcmljZSIpKSwgdC5wdXNoKHsKCQkJCQl1cmw6IHIsCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIocy50ZXh0Q29udGVudCksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChsKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiB0CgkJfSwgblsyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJdmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiNzZWFyY2hfbmF0dXJlX3JnIGxpIik7CgkJCXQubGVuZ3RoIHx8ICh0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjY29udGVudCAuc2hvcF9ib3giKSksIHQubGVuZ3RoIHx8ICh0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIuc2hvcGxpc3Q+dWw+bGkiKSk7CgkJCWZvciAodmFyIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoImEucGljIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIucHJpY2U+c3BhbiIpLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKHMpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIGkKCQl9LCBuWzNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLm0tbGlzdCAuZ2wtd2FycD5saSIsICIucC1pbWc+YSIsICIucC1wcmljZSBlbStpIikKCQl9LCBuWzZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLml0ZW0tYmxvY2siLCAiYS5jdHItdHJhY2siLCAiYS5wcmljZSIpCgkJfSwgbls3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5tYWluIC5wcm9saXN0PmxpIiwgImEiLCAic3Bhbi5wcmljZSIpCgkJfSwgblsxMF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaXRlbSIsICJhLnRobWIiLCAiLnByYz5zdHJvbmciKQoJCX0sIG5bMTJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaFJlc3VsdExpc3REaXYgbGkiLCAiLnByb1BpYz5hIiwgIi5wcm9QcmljZSIpCgkJfSwgblsxM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcHJvZHVjdERpdkdyb3VwPi5wcnV3cmFwIiwgImEiLCAic3Bhbi5wcmljZSIpCgkJfSwgblsxNF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdF9saXN0PmRsIiwgImR0PmEiLCAiaS5wcmljZSIpCgkJfSwgblsxNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc21MaXN0PnVsPmxpIiwgIi5wcm8xNTUgYSIsICJzcGFuLm9mZiIpCgkJfSwgblsxN10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuY2hhcExpc3QgZGwiLCAiYSIsICJzcGFuPmZvbnQiKQoJCX0sIG5bMThdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dvb2RzUGFuZWwgbGlbY2xhc3NdIiwgImEiLCAiLmNsYXNzaWZ5X3ByaWNlPnNwYW4iKQoJCX0sIG5bMTldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3ZhbmNscHJvZHVjdHM+dWw+bGkiLCAiLnBpYyBhIiwgIi5TcHJpY2UiKQoJCX0sIG5bMjFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdsLWl0ZW0iLCAiLmdsLWltZz5hIiwgIi5va3ByaWNlIikKCQl9LCBuWzIyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9fbGlzdCB1bCBsaSIsICIucHJvX2ltZz5hIiwgIi5wcm9fcHJpY2UiKQoJCX0sIG5bMjRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2xpc3Q+dWw+bGkiLCAiLnBpYz5hIiwgIi5yZWFsLXByaWNlPmVtIikKCQl9LCBuWzI1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoImxpLnByb2R1Y3QiLCAiLnJlcy1vcHQgYTpmaXJzdC1jaGlsZCIsICIucHJpY2UiKQoJCX0sIG5bMjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnNob3dzIiwgImEiLCAiLm5ldyIpCgkJfSwgblsyOF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcHJvZHVjdC1ib3g+bGkiLCAiYS5pdGVtLWxpbmsiLCAiLnByaWNlIikKCQl9LCBuWzMxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNpdGVtU2VhcmNoTGlzdCAubW9kX3NlYXJjaF9wcm8iLCAiLnByb0ltZyBhIiwgIi5wcm9QcmljZSAubnVtIikKCQl9LCBuWzMzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9waWNMaXN0IC5wcm9kdWN0cyIsICIucGljPmEiLCAiLmRpc1ByaWNlIikKCQl9LCBuWzM0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jb250ZW50IHVsIGxpIiwgImEiLCAic3Ryb25nLnByaWNlIikKCQl9LCBuWzM1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pdGVtIiwgIi5waWM+YSIsICJzcGFuLnNob3dwcmljZSIpCgkJfSwgblszNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjanMtZ29vZHMtbGlzdD51bD5saSIsICJhIiwgInN0cm9uZy5yZWQiKQoJCX0sIG5bMzldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Byb2FjdGl2ZT5saSIsICIucHJvLWltZyBhIiwgIi5wcmljZSBiLmZvbnRZSGVpIikKCQl9LCBuWzQwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5MX2JveGxpc3QiLCAiZHQ+YSIsICIuTF9ybWJfeHVqIikKCQl9LCBuWzQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zX3Byb19saXN0IGxpIiwgIi5waWM+YSIsICIucHJpY2UiKQoJCX0sIG5bNDJdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjbWFpbl90YWJsZT50Ym9keT50ci5pbWcsI21haW5fdGFibGU+dGJvZHk+dHIucHJpY2UiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyBhICs9IDIpIHRyeSB7CgkJCQlmb3IgKHZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZCIpLCByID0gdFthICsgMV0ucXVlcnlTZWxlY3RvckFsbCgidGQiKSwgcyA9IDA7IHMgPCBvLmxlbmd0aDsgKytzKSB7CgkJCQkJdmFyIGwgPSBvW3NdLnF1ZXJ5U2VsZWN0b3IoImEiKS5ocmVmLAoJCQkJCQljID0gcltzXS5xdWVyeVNlbGVjdG9yKCJzcGFuLnByaWNlIikudGV4dENvbnRlbnQ7CgkJCQkJaS5wdXNoKHsKCQkJCQkJdXJsOiBsLAoJCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihjKSwKCQkJCQkJY3JjMzI6ICIiCgkJCQkJfSkKCQkJCX0KCQkJfSBjYXRjaCAoZCkgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bNDNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNwbGlzdD5kbCIsICJkdCBhIiwgIi5wcm8tcHJpY2U+c3Bhbj5zcGFuIikKCQl9LCBuWzQ1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNnYWxsZXJ5X3Nob3c+dWw+bGkiLCAiLmFycml2YWxzLXBpYyBhIiwgInNwYW4ucHJpY2UiKQoJCX0sIG5bNTFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnJlc3VsdD51bD5saSIsICJhLnBpY2EiLCAiLnByaWNlLWluZm8gc3Ryb25nIikKCQl9LCBuWzUyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoInVsLnRMc3QyIGxpIiwgImEudEltZyIsICJzcGFuLnRQcmMiKQoJCX0sIG5bNTRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzX2xpc3QiLCAiLmltZz5hIiwgJ3NwYW5bZGF0YXR5cGU9InByaWNlIl0nKQoJCX0sIG5bNTldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3Rfcl9saXN0IiwgImgxIGEiLCAiLmYtUHJpY2U6bGFzdC1jaGlsZCIpCgkJfSwgbls2MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc2VhcmNoX3Jlc3VsdCB0YWJsZSIsICIucmVzdWx0X25hbWUgYSIsICIuYm9va19kaXMgYiIpCgkJfSwgbls2MV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYm9va0NvbnRlbnQiLCAiLnRpdGxlaW4iLCAic3Bhbi5yZWQxMiIpCgkJfSwgbls2Ml0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbGlzdD5saSIsICIuaW1nIGEiLCAiLnByaWNlLW4iKQoJCX0sIG5bNjNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI0psaXN0PmxpIiwgIi51aV9waW1nPmEiLCAiLnVpX3BwcmljZV9lPmVtIikKCQl9LCBuWzY2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wLWxpc3RJbmZvIiwgIi5wLWxpc3RJbWdCaWcgYSIsICIucC1saXN0UHJpY2Ugc3Ryb25nIikKCQl9LCBuWzcyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zbF9saXN0X3VsPmxpIiwgIi5nb29kcy1waWM+YSIsICIuc2xfcHJpY2UxPnNwYW4iKQoJCX0sIG5bNzNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNhdGVnb3J5UHJvZHVjdEl0ZW0iLCAiLnByb2R1Y3QtaW1hZ2U+YSIsICIuc3BlY2lhbC1wcmljZSAucHJpY2U+LnByaWNlIikKCQl9LCBuWzc1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnN0YmxvY2tfYm9keT5kbD5kZCIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCJhIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIuY29jMmE2N2QiKS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50OwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgbls4NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucmdfc2xfbGlzdD51bD5saSIsICIubGlzdDEiLCAiLmxpc3QzPnNwYW4iKQoJCX0sIG5bODVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzX29uZSIsICIuY29tX2xpbmsiLCAiLnhqX2xpc3RfcHJvX3RleHQyPi54al9saXN0X3Byb190ZXh0MiIpCgkJfSwgbls4Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdHNfd3JhcD51bD5saSIsICIuc19sX3BpYz5hIiwgIi5zZWFyY2hfbGlzdF9wcmljZT5zcGFuIikKCQl9LCBuWzkzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9MaXN0PmxpIiwgImEiLCAiLnByaWNlX3NjPmVtPmkiKQoJCX0sIG5bOTRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWUuX2xpbmtzID0gbi50ZW1wbGF0ZSgiI2l0ZW1TZWFyY2hMaXN0PmxpIiwgIjpub3QoLm5vbmUpIGEiLCAiOm5vdCgubm9uZSkgLnByaWNlPnNwYW46Zmlyc3QtY2hpbGQiKQoJCQl9LCBuLnRpbWVvdXQpLCB7CgkJCQl3YWl0OiAhMAoJCQl9CgkJfSwgbls5N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvLWNvbj5saSIsICJhLnByby1jaGVjayIsICIucHJvLWJvdHh0IHNwYW4iKQoJCX0sIG5bOThdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWUuX2xpbmtzID0gbi50ZW1wbGF0ZSgiLmdvb2RzX2xpc3Q+bGkiLCAiYSIsICdzcGFuW2RhdGEtdHlwZT0icHJpY2UiXScpCgkJCX0sIG4udGltZW91dCksIHsKCQkJCXdhaXQ6ICEwCgkJCX0KCQl9LCBuWzk5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnNuYWNrX3dyYXA+dWw+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMTAwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5tYnNob3BfbGlzdFBkQ29uIiwgImEiLCAiLm1ic2hvcF9saXN0UGRUZXh0PmIiKQoJCX0sIG5bMTAxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5waWNsaXN0PmxpIiwgImEiLCAiLnByaWNlIHN0cm9uZyIpCgkJfSwgblsxMDJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmduX21fbGlzdF9hIiwgImEiLCAiLmduX21fbGlzdF9wcmljZSAuYj5zcGFuIikKCQl9LCBuWzEwM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvTGlzdFNlYXJjaD51bD5saSIsICJhIiwgIi5wcmljZSIpCgkJfSwgblsxMDhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLm1haW5fd3JhcD4ubWluX2luIiwgIi5wcm9kdWN0SW1nLXdyYXAgYSIsICIucHJvZHVjdFByaWNlPmVtPnN0cm9uZyIpCgkJfSwgblsxMDldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnJlc3VsdF9saXN0X2NvbnRhaW5lcj51bD5saSIsICIudGh1bWJfcGljdHVyZSBhIiwgIi5wcmljZV9pPmVtIikKCQl9LCBuWzExMF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYm9va3MtbGlzdCIsICJhIiwgIi5sbD5iIikKCQl9LCBuWzExNV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcl9saXN0IC5saWJveCIsICIuZ19zaW1nPmEiLCAiLmdfbXByaWNlIGZvbnQiKQoJCX0sIG5bMTIwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5Hb29kc1NlYXJjaFdyYXA+dGFibGU+dGJvZHk+dHI+dGQiLCAiLmdvb2RwaWM+YSIsICIucHJpY2UxIikKCQl9LCBuWzEyMl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvbGlzdD5saSIsICIucHJvYm94PmEiLCAiLmluZm8+YiIpCgkJfSwgblsxMjRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3RfcGljPi5pdGVtIiwgIi5nb29kcy1waWMgYSIsICIuc2FsZS1wcmljZSIpCgkJfSwgblsxMjVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaFBMaXN0PnVsPmxpIiwgIi5wSW1nIGEiLCAiLnByaWNlIikKCQl9LCBuWzEyNl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdC1hbGw+bGkiLCAiLnBpYyBhIiwgIi5wcmljZSBzdHJvbmciKQoJCX0sIG5bMTI3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNDb250ZW50PmRsIiwgIi5waWMgYSIsICJwLnByaWNlIikKCQl9LCBuWzEyOF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbGlzdF9nb29kc2xpc3Q+bGkiLCAiLnByb19pbWc+YSIsICIucHJvX3ByaWNlPmIiKQoJCX0sIG5bMTI5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNKX3NlYXJjaENhdExpc3Q+Lmdvb2RzLWxpc3QtaXRlbSIsICIuZ29vZHMtaW1hZ2U+YSIsICIucHJpY2UiKQoJCX0sIG5bMTM0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm8tbGlzdD51bD5saSIsICJhIiwgIi5wLXByaWNlPmIiKQoJCX0sIG5bMTM1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9kdWN0TGlzdD5saSIsICIuc2VhcmNoX3Byb19pbWciLCAiLnNlYXJjaF9wcm9fcHJpY2UiKQoJCX0sIG5bMTM4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kc190YWJsZV9saXN0PnVsPmxpIiwgIi5nX3RfbGlzdF9tPmEiLCAiLmdvb2RzX3RhYmxlX2xpc3QgLmZsIikKCQl9LCBuWzE0MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjYmZkX3Nob3dfZnU+bGkiLCAiLmdvb2RzX2ltZyBhIiwgIi5wcmljZV9kYXkiKQoJCX0sIG5bMTQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5saXN0c2VhcmNoLW9uZSIsICIubGlzdHNlYXJjaC16dGltZyBhIiwgIi5saXN0c2VhcmNoLXByaWNlPnNwYW4iKQoJCX0sIG5bMTQyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zaG9wX2xpc3RfaXRlbT51bD5saSIsICIucF9pIGEiLCAiLnBfbSIpCgkJfSwgblsxNDZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICIuZ29vZHMtcGljIGEiLCAiaW5zLnByaWNlIikKCQl9LCBuWzE0N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaW5mb1Nob3A+bGkiLCAiZGl2PmEiLCAic3Bhbi50cmFjayIpCgkJfSwgblsxNTNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3NlYXJjaF9nb29kc19saXN0PnVsPmxpIiwgImRkOm5vdChbY2xhc3NdKT5hIiwgImR0IC5zX3ByaWNlIikKCQl9LCBuWzE1NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjdGlsZSBsaSIsICIuYm94Q29udD5hIiwgIi5wcmljZSIpCgkJfSwgblsxNTVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2xpc3QtYm94PnVsPmxpIiwgImEiLCAiLnN0cm9uZy1wcmljZSIpCgkJfSwgblsxNTZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmNvbW1vZGl0eS1saXN0PmRsIiwgImEiLCAiLmRsX3ByaWNlPnNwYW4iKQoJCX0sIG5bMTU3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9fbGlzdF91bD5saSIsICJhIiwgIi5zYWxlUHJpY2UiKQoJCX0sIG5bMTU4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pbl9tYXNhOm5vdChbaWRdKSB1bD5saSIsICIuaW5fbWFzYV91cCBhIiwgIi5pbl9wcmljZT5lbT5zcGFuOm50aC1vZi10eXBlKDIpIikKCQl9LCBuWzE2NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIudWxsaXN0Y29udD5saSIsICJhIiwgInN0cm9uZyIpCgkJfSwgblsxNjddID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIuZ29vZHMtbGlzdD5kaXYiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMTY4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnJlc3VsdF9saXN0PmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcm9faW1nIGEiKS5nZXRBdHRyaWJ1dGUoImRhdGEtdXJsIiksCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByb19wcmljZT5zcGFuLnJlZCIpLnRleHRDb250ZW50LnRyaW0oKTsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCX0sIG5bMTc0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQllLl9saW5rcyA9IG4udGVtcGxhdGUoIi5wcm9kdWN0X2l0ZW0iLCAiLnBfaW1nIGEiLCAiLnByaWNlPnN0cm9uZyIpCgkJCX0sIG4udGltZW91dCksIHsKCQkJCXdhaXQ6ICEwCgkJCX0KCQl9LCBuWzE3OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZi1saXN0IC5sZWZ0cGFydD51bD5saSIsICJhIiwgIi5zLWluZm8+LnMtdW5pdCIpCgkJfSwgblsxODBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnUtbS1nb29kcz51bD5saSIsICIucC1pbWcuSl9wX2ltZyBhIiwgIi5KX25vd19wcmljZSIpCgkJfSwgblsxODJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnRlYV9wcm9kdWN0cyAucHJvZHVjdHNfYm94IiwgIi5wcm9faW1nPnNwYW4+YSIsICIuenBfcHJpY2U+c3BhbiIpCgkJfSwgblsxODRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzLWNvbnRhaW5lcj5kaXYuZ29vZC1pbmZvIiwgJ2FbaHJlZio9Iml0ZW0iXScsICIucHJpY2U+c3BhbjpsYXN0LWNoaWxkIikKCQl9LCBuWzE4OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdFRhYmxlPmxpIiwgImEiLCAiLmdvb2RzLXByaWNlIikKCQl9LCBuWzE5NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjSl9nb29kc0xpc3Q+dWw+bGkiLCAiYSIsICIucC1wcmljZT5zdHJvbmc+aSIpCgkJfSwgblsxOTVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLkxjb24uY29udGVudD5kaXYuYmxvY2siLCAiYSIsICdzcGFuW2lkXj0ic2FsZV9wcmljZSJdJykKCQl9LCBuWzE5Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJZS5fbGlua3MgPSBuLnRlbXBsYXRlKCIuZ29vZHNMaXN0QmxvY2s+dWw+bGkiLCAiLmltZz5hIiwgIi51bGVQcmljZT5zdHJvbmciKQoJCQl9LCBuLnRpbWVvdXQpLCB7CgkJCQl3YWl0OiAhMAoJCQl9CgkJfSwgblsxOTddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLml0ZW1MaXN0PmRpdi5wcm9kdWN0IiwgImEiLCAnZW1bbmFtZT0icHJpY2UiXScpCgkJfSwgblsyMDFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmxpc3QtZ29vZHM6Zmlyc3QtY2hpbGQ+bGkiLCAiYSIsICIuSlNfYXN5bmNfcHJpY2UiKQoJCX0sIG5bMjEwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiN1bF9jb250ZW50PmxpIiwgIi5saXN0X2dvb2RfaW1nPmEiLCAiLmxpc3RfZ29vZF9wcmljZV9uZXciKQoJCX0sIG5bMjEzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jYXRlX3NlYXJjaF9jb250ZW50IC5zZWxJdGVtIiwgImEiLCAiLmhwcmljZS5wcmljZSIpCgkJfSwgblsyMTddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RfbGlzdD5saSIsICJhIiwgImRpdj5iIikKCQl9LCBuWzIxOF0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiN0dl9saXN0PnVsPmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoImEiKS5ocmVmLnJlcGxhY2UoImdldCIsICJnb29kc0RldGFpbEJ1eSIpLAoJCQkJCXIgPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcm9kdWN0X3Nob3dfcmlnaHRfcHJpY2UiKS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjIwXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0UGljIiwgImEucHJvUGljIiwgIi5wcm9kdWN0UHJpY2UiKQoJCX0sIG5bMjIyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLmdvb2RzSXRlbT5saSIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCJhIikuaHJlZiwKCQkJCQlyID0gdFthXS5xdWVyeVNlbGVjdG9yKCIucHJpY2UiKS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50OwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyMjNdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Jlc3VsdD5saSIsICJhIiwgIi5jdXIiKQoJCX0sIG5bMjI0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNwcm9kdWN0LWxpc3QgPmxpIiwgImEucHJvZHVjdC1pbWciLCAiLnByaWNlIikKCQl9LCBuWzIyNV0gPSBmdW5jdGlvbihlKSB7CgkJCWlmIChlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zcGVjaWFsLXVsIikubGVuZ3RoKSByZXR1cm4gbi50ZW1wbGF0ZSgiLnNwZWNpYWwtdWw+bGkiLCAiYSIsICIucy1wcm9kdWN0LXNhbGUtcHJpY2UiKTsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnByb2QtbGlzdC5wcm9kLWNvbHMzLWxpc3Q6Zmlyc3QtY2hpbGQ+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlIikuY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjI2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9saXN0Lmxpc3Rob3Zlcj5saSIsICIuaW1nIGEiLCAiLnByaWNlLnByaWNlMTYiKQoJCX0sIG5bMjI3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0TGlzdC1saXN0LXVsPmxpIiwgIi5wLWltZyBhIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMjI4XSA9IG5bMV0sIG5bMjI5XSA9IG5bMV0sIG5bMjMyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nYWxsZXJ5LWdyaWQgdWw+bGkiLCAiYSIsICIuZ29vZHMtcHJpY2UgaW5zLnByaWNlIikKCQl9LCBuWzIzM10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZ3JpZC1pdGVtIiwgIi5ncmlkLWl0ZW0taW1hZ2UgYSIsICIucHJpY2VzPi5sb2NhbCIpCgkJfSwgblsyMzRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLlByb2R1Y3RsaXN0PmxpIiwgIi5waWM+YSIsICIucHJpIikKCQl9LCBuWzIzNV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuc2VhcmNoX2Nob2xpc3Q+dWw+bGkiLCAiLnVjb2xfcF9pbWc+YSIsICIudWNvbF9wX3dvZCBzcGFuOm50aC1jaGlsZCgxKSIpCgkJfSwgblsyMzZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI3Byb2R1Y3QtbGlzdD51bD5saSIsICJhIiwgIi5wcm9kdWN0X3AgLmNfcHVycGxlLCAucHJvZHVjdF9wIC5wcm9kdWN0X2FjdGl2ZSIpCgkJfSwgblsyMzddID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIudmlldy1JdGVtTGlzdEl0ZW0iKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IFt0W2FdLnF1ZXJ5U2VsZWN0b3IoIi5wcmljZS1pbnQiKS50ZXh0Q29udGVudC50cmltKCksIHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlLWRlY2ltYWwiKS50ZXh0Q29udGVudC50cmltKCldLmpvaW4oIiIpOwoJCQkJaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyMzhdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjc2VhcmNoUmVzdWx0cz5hIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByaWNlLTZwbSIpLnRleHRDb250ZW50LnRyaW0oKTsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBvLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHIpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocykgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMjQxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0LWxpc3Q+dWw+bGkiLCAiYS5waG90byIsICIucmV0YWlsLXByaWNlIikKCQl9LCBuWzI0Nl0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBbXSwgaSA9IGUucXVlcnlTZWxlY3RvckFsbCgiLnMtcmVzdWx0LWl0ZW0iKSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgKythKSB0cnkgewoJCQkJZm9yICh2YXIgbyA9IGlbYV0ucXVlcnlTZWxlY3RvcigiLnMtYWNjZXNzLWltYWdlIik7ICFvLnBhcmVudE5vZGUuaHJlZiAmJiBvLnBhcmVudE5vZGUgIT0gZS5ib2R5OykgbyA9IG8ucGFyZW50Tm9kZTsKCQkJCWlmIChvLnBhcmVudE5vZGUgPT0gZS5ib2R5KSBjb250aW51ZTsKCQkJCXZhciByID0gby5wYXJlbnROb2RlLmhyZWYsCgkJCQkJcyA9IGlbYV0ucXVlcnlTZWxlY3RvcigiZGl2Pi5hLXNwYWNpbmctbWluaT4uYS1zcGFjaW5nLW5vbmU+YT5zcGFuIik7CgkJCQlzIHx8IChzID0gaVthXS5xdWVyeVNlbGVjdG9yKCJzcGFuLmEtY29sb3ItcHJpY2UiKSksIHQucHVzaCh7CgkJCQkJdXJsOiByLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKHMudGV4dENvbnRlbnQsICIsIiwgIi4iKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKGwpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIHQKCQl9LCBuWzI0N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuYXV0b21hdGljU2Nyb2xsUHJvZHVjdHNMaXN0PmRpdiIsICJhIiwgIi5wcm9kdWN0LXByaWNlIikKCQl9LCBuWzI0OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjZGl2U2VhcmNoUmVzdWx0cz5kaXY+ZGl2IiwgIi5wcm9kdWN0LWltYWdlPmE6Zmlyc3QtY2hpbGQiLCAiLml0ZW1fcHJpY2UiKQoJCX0sIG5bMjUyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5zZWFyY2hfbHN0PnVsPmxpIiwgIi5OcHJvX2ltZz5hIiwgIi5zaWdvcHJpY2UiKQoJCX0sIG5bMjU2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5jb250LWdkPmxpIiwgImEiLCAiLm5ldy1wcmljZT5zcGFuOmZpcnN0LWNoaWxkIikKCQl9LCBuWzI2Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjcmVzdWx0c0NvbCB1bC5zLXJlc3VsdC1saXN0PmxpIiwgImEuYS1saW5rLW5vcm1hbCIsICIuYS1jb2xvci1wcmljZSIpCgkJfSwgblsyNjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnNlYXJjaGxpc3Q+dWw+bGkiLCAiYSIsICIubm93LXByaWNlIikKCQl9LCBuWzI2OF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdC0xLWxpc3Q+bGkiLCAiYSIsICJzdHJvbmciKQoJCX0sIG5bMjY5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNjb250ZW50RGl2PmRpdi5saXN0cHJvZHVjdCIsICJhIiwgInNwYW4ucmVkIikKCQl9LCBuWzI3MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIud2lkZ2V0LWJyaWNrLWl0ZW0iLCAiLmJyaWNrLXBpYyIsICIucHJpY2UiKQoJCX0sIG5bMjcxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbCgiLnB2X3Nob3BfbGlzdF9jb250ZW50Lm5vcm1hbF9saXN0IikubGVuZ3RoID8gbi50ZW1wbGF0ZSgiLnB2X3Nob3BfbGlzdF9jb250ZW50PmRpdi5pdGVtMSIsICJhIiwgIi5wcmljZT5lbSIpIDogbi50ZW1wbGF0ZSgiLml0ZW0xIiwgIi5pbWFnZSBhIiwgIi5wcmljZT5lbSIpCgkJfSwgblsyNzJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICIuZ29vZHMtcGljPmEiLCAiLnByaWNlIikKCQl9LCBuWzI3M10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuaXRlbVNlYXJjaFJlc3VsdC5ib3gtaXRlbXMtcmVzdWx0PnVsPmxpIiwgIi5pbWFnZXMgYSIsICIucHJpY2U+c3Ryb25nIikKCQl9LCBuWzI3NF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuZ29vZHMtbGlzdHM+ZGl2IiwgImEuZ29vZHMtaW1nIiwgIi5wLW5vcm1hbCIpCgkJfSwgblsyNzVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RzLWdyaWQ+bGkiLCAiYS5wcm9kdWN0LWltYWdlIiwgIi5yZWd1bGFyLXByaWNlIikKCQl9LCBuWzI3Nl0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjdGlsZS1jb250YWluZXI+ZGl2IiwgIi5qcy1wcm9kdWN0LXRpdGxlIiwgIi5wcmljZS1kaXNwbGF5IikKCQl9LCBuWzI3N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZHVjdF9saXN0LnByb2R1Y3RfbGlzdF92Mj51bD5saSIsICIucGljIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMjc5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNyZXN1bHQ+dWwiLCAiYS5pbWdfZmlndXJlIiwgIi5ib3V0aXF1ZV9wcmljZSIpCgkJfSwgblsyODBdID0gZnVuY3Rpb24oZSkgewoJCQlmb3IgKHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKCIjcHJvTnVtPmxpIiksIGkgPSBbXSwgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgKythKSB0cnkgewoJCQkJdmFyIG8gPSB0W2FdLnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZl49Ii9Qcm8iXScpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLnByb3ByaWNlIik7CgkJCQlyID0gci5jaGlsZE5vZGVzW3IuY2hpbGROb2Rlcy5sZW5ndGggLSAxXS50ZXh0Q29udGVudCwgaS5wdXNoKHsKCQkJCQl1cmw6IG8sCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIociksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblsyODFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3RfbGlzdD5saSIsICJhIiwgJ3N0cm9uZ1tpZF49InByaWNlYXQiXScpCgkJfSwgblsyODRdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKCIucnNsdEFsbCIpLmxlbmd0aCA/IG4udGVtcGxhdGUoIi5yc2x0QWxsPnVsPmxpIiwgImEiLCAiLnJlZDIiKSA6IGUucXVlcnlTZWxlY3RvckFsbCgiLnByb2R1Y2xiX2NwMSIpLmxlbmd0aCA/IG4udGVtcGxhdGUoIi5wcm9kdWNsYl9jcD4ucHJvZHVjbGJfY3AxIiwgImEiLCAiLmZvbnQxNF9yZWQiKSA6IG4udGVtcGxhdGUoIi5wcnN0Z2RsaXN0PmxpIiwgImEiLCAiLmYxOCIpCgkJfSwgblsyODZdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmotaXRlbS1saXN0LWxpIiwgIi5hLXBpYyIsICIuaXRlbS1wcmljZSIpCgkJfSwgblsyODddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2l0ZW1MaXN0PmxpIiwgImEiLCAiLm1vZF9wcmljZTpmaXJzdC1jaGlsZCIpCgkJfSwgblsyODhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2dhbGxlcnlfc2hvdyB1bD5saSIsICJhIiwgIi5nb29kcy1wcmljZSBpbnMiKQoJCX0sIG5bMjg5XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvcigiaWZyYW1lI20iKS5jb250ZW50V2luZG93LmRvY3VtZW50LCBpID0gdC5xdWVyeVNlbGVjdG9yQWxsKCIucHJvX2xpc3Q+bGkiKSwgYSA9IFtdLCBvID0gMDsgbyA8IGkubGVuZ3RoOyArK28pIHRyeSB7CgkJCQl2YXIgciA9IGlbb10ucXVlcnlTZWxlY3RvcigiLnByb19pbWciKS5ocmVmLAoJCQkJCXMgPSBpW29dLnF1ZXJ5U2VsZWN0b3IoIi5wcm9fcHJpY2U+c3Bhbj5iIikudGV4dENvbnRlbnQudHJpbSgpOwoJCQkJYS5wdXNoKHsKCQkJCQl1cmw6IHIsCgkJCQkJcHJpY2U6IG4ucHJpY2VGb3JtYXR0ZXIocyksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChsKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBhCgkJfSwgblsyOTBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmhwcm9kdWN0IiwgImEiLCAiLnByaWNlPmVtIikKCQl9LCBuWzI5MV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuY2dfbWFpbkNvbnRlbnQ+ZGl2LmNnX3BybyIsICJhIiwgIi5wcm9fcHJpY2U+c3Ryb25nIikKCQl9LCBuWzI5Ml0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucmVzdWx0PnVsPmxpIiwgImEiLCAiLml0ZW0tcHJpY2UiKQoJCX0sIG5bMjk0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9saXN0aXRlbXMiLCAiLmFkLWltYWdlLXdyYXBwZXIgYSIsICJiaWcuamlhY3UiKQoJCX0sIG5bMjk1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5ncmlkLWl0ZW0iLCAiLmltZy1ib3ggYSIsICIucHJpY2UtbnVtIikKCQl9LCBuWzI5OV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIuTGlzdCB0ciIsICJhLkRpc3BsYXlOYW1lIiwgIi5wcmljZT5zdHJvbmciKQoJCX0sIG5bMzEzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wLWxpc3Q+bGkucC1pdGVtIiwgIi5wLXBpYyBhIiwgIi5wLXByaWNlLWN1cnJlbnQiKQoJCX0sIG5bMzQ3XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm8tY2xhc3M+bGkiLCAiLnByby1pbWc+YSIsICIubW9uZXktZmwiKQoJCX0sIG5bMzQ4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5pdGVtcy1nYWxsZXJ5IiwgImEiLCAiLnByaWNlMSIpCgkJfSwgblszNDldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiI2otc2VhcmNoTGlzdD5saSIsICIuaGQ+YSIsICIucHJpY2U+c3BhbiIpCgkJfSwgblszNTFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdtZyIsICJhIiwgIi5zaG9wX3ByaWNlcyIpCgkJfSwgblszNTJdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmctZC11bD5saSIsICIucGljIiwgJ3NwYW5baWRePSJKZ29vZHNQcmljZSJdJykKCQl9LCBuWzE4MV0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5za3UtdWw+bGkiKSwgaSA9IFtdLCBhID0gMDsgYSA8IHQubGVuZ3RoOyArK2EpIHRyeSB7CgkJCQl2YXIgbyA9IHRbYV0ucXVlcnlTZWxlY3RvcigiYSIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLndzbC1wcmljZS5qLXdzbC1wcmljZSIpLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyKSwKCQkJCQljcmMzMjogIiIKCQkJCX0pCgkJCX0gY2F0Y2ggKHMpIHsKCQkJCWNvbnRpbnVlCgkJCX0KCQkJcmV0dXJuIGkKCQl9LCBuWzM2NF0gPSBmdW5jdGlvbihlKSB7CgkJCWZvciAodmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoIiNwcm9kdWN0UmVzdWx0TGlzdD5saSIpLCBpID0gW10sIGEgPSAiaHR0cDovL3d3dy5wdXJjb3R0b24uY29tIiwgbyA9IDA7IG8gPCB0Lmxlbmd0aDsgKytvKSB0cnkgewoJCQkJdmFyIHIgPSB0W29dLnF1ZXJ5U2VsZWN0b3IoJ2Fbb25jbGlja149InRvRGV0YWlsIl0nKSwKCQkJCQlzID0gci5nZXRBdHRyaWJ1dGUoIm9uY2xpY2siKS5tYXRjaCgvW1xkLV0rLylbMF0sCgkJCQkJbCA9IHMuc3Vic3RyKHMubGVuZ3RoIC0gMyksCgkJCQkJYyA9IGEgKyAiL2RldGFpbC8iICsgbCArICIvIiArIHMgKyAiLmh0bWwiLAoJCQkJCWQgPSB0W29dLnF1ZXJ5U2VsZWN0b3IoIi5hcHJpY2UiKS50ZXh0Q29udGVudDsKCQkJCWkucHVzaCh7CgkJCQkJdXJsOiBjLAoJCQkJCXByaWNlOiBuLnByaWNlRm9ybWF0dGVyKGQpLAoJCQkJCWNyYzMyOiAiIgoJCQkJfSkKCQkJfSBjYXRjaCAocCkgewoJCQkJY29udGludWUKCQkJfQoJCQlyZXR1cm4gaQoJCX0sIG5bMzY1XSA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgiI3MtcmVzdWx0cy1saXN0LWF0Zj5saSIpLCBpID0gW10sIGEgPSAwOyBhIDwgdC5sZW5ndGg7ICsrYSkgdHJ5IHsKCQkJCXZhciBvID0gdFthXS5xdWVyeVNlbGVjdG9yKCIuYS1saW5rLW5vcm1hbCIpLmhyZWYsCgkJCQkJciA9IHRbYV0ucXVlcnlTZWxlY3RvcigiLmEtY29sb3ItcHJpY2UiKS50ZXh0Q29udGVudC50cmltKCk7CgkJCQlpLnB1c2goewoJCQkJCXVybDogbywKCQkJCQlwcmljZTogbi5wcmljZUZvcm1hdHRlcihyLCAiLCIsICIuIiksCgkJCQkJY3JjMzI6ICIiCgkJCQl9KQoJCQl9IGNhdGNoIChzKSB7CgkJCQljb250aW51ZQoJCQl9CgkJCXJldHVybiBpCgkJfSwgblszNjZdID0gblsxXSwgblszNjddID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdvb2RzLWl0ZW0iLCAiLmZpZ3VyZS1pbWc+YSIsICIucHJpY2U+YiIpCgkJfSwgblszNjhdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnByb2R1Y3QtbGlzdD51bD5saSIsICJhIiwgIi5wcmljZT4ucmVkIikKCQl9LCBuWzM2OV0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIubGlzdC1oPmxpIiwgIi5wLWltZz5hIiwgIi5wLXByaWNlPnN0cm9uZyIpCgkJfSwgblszNzBdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnAtbC1ncmlkPnVsPmxpIiwgImEiLCAiLnByaWNlIC5yZWQiKQoJCX0sIG5bMzcxXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIiNnb29kc0xpc3Q6Zmlyc3QtY2hpbGQ+bGkiLCAiYSIsICIuY3VyX3ByaWMgLnByaV9tc2cgLmZfYXJpYWwiKQoJCX0sIG5bMzcyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5ncmlkLXNwZWNpYWw+LmJveCIsICJhIiwgIi5ib3gtcHJpY2Ugc3Ryb25nIikKCQl9LCBuWzM3M10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjbWFpbl9saXN0ID4gLnByb19pdGVtIiwgIi5wcm9faW5mb3JfaW1nIiwgIi5wcm9fcHJpY2UiKQoJCX0sIG5bMzc0XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5wcm9kdWN0LWxpc3Q+dWw+bGkiLCAiLml0ZW1zPmE6bnRoLWNoaWxkKDEpIiwgIi5vcHIiKQoJCX0sIG5bMzc2XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoInVsI0ptb2JpbGVMaXN0PmxpIiwgImEudWlfcGltZyIsICIudWlfcHByaWNlIikKCQl9LCBuWzM3N10gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIjZ2FsbGVyeV9zaG93IHVsPmxpIiwgIi5nb29kcy1waWM+YSIsICJpbnMucHJpY2UiKQoJCX0sIG5bMzc4XSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kcy1saXN0cz5kaXYiLCAiYS5nb29kcy1pbWciLCAiLmdvb2RzLXByaWNlPi5wLW5vcm1hbCIpCgkJfSwgblszNzldID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLmdhbGxlcnktZ3JpZD51bD5saSIsICIuZ29vZHMtcGljPmEiLCAiaW5zLnByaWNlIikKCQl9LCBuWzM4MF0gPSBmdW5jdGlvbihlKSB7CgkJCXJldHVybiBuLnRlbXBsYXRlKCIucHJvZC1saXN0PmxpIiwgImEiLCAicCIpCgkJfSwgblszODFdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLkdvb2RzTGlzdD5saSIsICJhIiwgIi5nb29kc3ByaWNlPnNwYW4iKQoJCX0sIG5bMzgyXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kcy11bC1ib3ggbGkiLCAiYSIsICIucHJpY2UiKQoJCX0sIG5bMzgzXSA9IGZ1bmN0aW9uKGUpIHsKCQkJcmV0dXJuIG4udGVtcGxhdGUoIi5nb29kc19saXN0LmNsZWFyZml4PmxpIiwgImEuZ2ltZyIsICJwLmdwcmljZSIpCgkJfSwgblszODVdID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbi50ZW1wbGF0ZSgiLnBybz51bD5saSIsICJkbD5kZDpudGgtY2hpbGQoMSk+YSIsICIudmFsYy1uPnNwYW46bnRoLWNoaWxkKDIpIikKCQl9LCBlLmV4cG9ydHMgPSBuCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBbIjM2MGJ1eSIsICJzdW5pbmciLCAiZ29tZSIsICJ5aWhhb2RpYW4iLCAiZGFuZ2RhbmciLCAia2FvbGEiXSwKCQkJCW8gPSBuKDU4KSwKCQkJCXIgPSBuKDI2KSwKCQkJCXMgPSBuKDkpLAoJCQkJbCA9IHsKCQkJCQkiMzYwYnV5IjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCgiLkotbW9yZS1wcm9tLWlucyIpLnRleHQoKSwKCQkJCQkJCW4gPSB0KCIuSi1wcm9tIGVtLmhsX3JlZF9iZyIpLnRleHQoKSwKCQkJCQkJCWkgPSB0KCIuSi1zdW1tYXJ5LXByaWNlIC5wLXByaWNlIikudGV4dCgpLnJlcGxhY2UoL1vvv6XCpVxzXSsvZywgIiIpLAoJCQkJCQkJYSA9IFtdOwoJCQkJCQlpZiAoKGUuaW5kZXhPZigi5ruh5YePIikgPiAtMSB8fCBuLmluZGV4T2YoIua7oeWHjyIpID4gLTEpICYmIGEucHVzaCgi5ruh5YePOiIgKyB0KCcuSi1wcm9tIGVtLmhsX3JlZF9iZzpjb250YWlucygi5ruh5YePIikgKyBlbS5obF9yZWQnKS50ZXh0KCkpLCAoZS5pbmRleE9mKCLlpJrkubDkvJjmg6AiKSA+IC0xIHx8IG4uaW5kZXhPZigi5aSa5Lmw5LyY5oOgIikgPiAtMSkgJiYgYS5wdXNoKCLlpJrkubDkvJjmg6A6IiArIHQoJy5KLXByb20gZW0uaGxfcmVkX2JnOmNvbnRhaW5zKCLlpJrkubDkvJjmg6AiKSArIGVtLmhsX3JlZCcpLnRleHQoKSksIHQoIiNzdW1tYXJ5LXF1YW4gLnF1YW4taXRlbSIpLnRleHQoKS5pbmRleE9mKCLlh48iKSA+IC0xKSB7CgkJCQkJCQl2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0KCIjc3VtbWFyeS1xdWFuIC5xdWFuLWl0ZW0iKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiB0KGUpLnRleHQoKS5yZXBsYWNlKC9ccy9nLCAiIikKCQkJCQkJCX0pLmpvaW4oIiwiKTsKCQkJCQkJCWEucHVzaCgi6aKG5Yi4OiIgKyBvKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcmljZTogaSwKCQkJCQkJCXByb21vOiBhLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlzdW5pbmc6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHQoIiN2b3VjaGVyVGl0bGUiKSwKCQkJCQkJCW4gPSBlLmZpbmQoImxhYmVsIikudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSwKCQkJCQkJCWkgPSAiIjsKCQkJCQkJaWYgKG4uaW5kZXhPZigi5ruh5YePIikgPiAtMSAmJiBlLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQlpID0gdCgiI3ZvdWNoZXJCb3giKS50ZXh0KCk7CgkJCQkJCQl2YXIgYSA9IHQoIiN2b3VjaGVyQm94IGEiKS50ZXh0KCk7CgkJCQkJCQlpID0gIua7oeWHjzoiICsgaS5yZXBsYWNlKGEsICIiKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcm9tbzogaQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnb21lOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIucHJkLXByb21vdGlvbnMtcmVkIiksCgkJCQkJCQluID0gZS5maW5kKCJsYWJlbCIpLnRleHQoKSwKCQkJCQkJCWkgPSBbXTsKCQkJCQkJcmV0dXJuIGUuaXMoIjp2aXNpYmxlIikgJiYgbi5pbmRleE9mKCLmu6Hlh48iKSA+IC0xICYmIGkucHVzaCgi5ruh5YePOiIgKyB0KCcucHJkLXByb21vdGlvbnMtcmVkIGxhYmVsOmNvbnRhaW5zKCLmu6Hlh48iKStzcGFuJykudGV4dCgpLnJlcGxhY2UoL1xzL2csICIiKSksIGUuaXMoIjp2aXNpYmxlIikgJiYgbi5pbmRleE9mKCLpooblirUiKSA+IC0xICYmIGkucHVzaCgi6aKG5Yq1OiIgKyB0KCcucHJkLXByb21vdGlvbnMtcmVkIGxhYmVsOmNvbnRhaW5zKCLpooblirUiKStiJykudGV4dCgpLnJlcGxhY2UoLyg/OuW3pui+uXzlj7PovrkpL2csICIiKSksIHsKCQkJCQkJCXByb21vOiBpLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHQoIiNwcm9tb3Rpb25fdGl0bGUiKSwKCQkJCQkJCW4gPSBbXSwKCQkJCQkJCWkgPSBlLmZpbmQoIi5saXN0IC5mbCBzcGFuLnN1YiIpLnRleHQoKTsKCQkJCQkJaWYgKGkuaW5kZXhPZigi5ruh5YePIikgPiAtMSAmJiBlLmZpbmQoIi5saXN0IC5mbCBzcGFuLnN1YiIpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgYSA9ICLmu6Hlh48iICsgdCgnI3Byb21vdGlvbl90aXRsZSAubGlzdCAuZmwgc3Bhbi5zdWI6Y29udGFpbnMoIua7oeWHjyIpKyBzcGFuLnRpdCcpLnRleHQoKTsKCQkJCQkJCW4ucHVzaChhKQoJCQkJCQl9CgkJCQkJCWlmIChpLmluZGV4T2YoIuaKmOaJoyIpID4gLTEgJiYgZS5maW5kKCIubGlzdCAuZmwgc3Bhbi5zdWIiKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdmFyIGEgPSAi5oqY5omjIiArIHQoJyNwcm9tb3Rpb25fdGl0bGUgLmxpc3QgLmZsIHNwYW4uc3ViOmNvbnRhaW5zKCLmipjmiaMiKSsgc3Bhbi50aXQnKS50ZXh0KCk7CgkJCQkJCQluLnB1c2goYSkKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJvbW86IG4uam9pbigiOyIpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWRhbmdkYW5nOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIjcHJvbW8tbGlzdCIpLAoJCQkJCQkJbiA9IFtdOwoJCQkJCQlpZiAoZS5maW5kKCdkaXYuY2xlYXJmaXggYjpjb250YWlucygi5ruh6aKd5YePIiknKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdmFyIGkgPSAi5ruh6aKd5YePOiIgKyB0KCcjcHJvbW8tbGlzdCBkaXYuY2xlYXJmaXggYjpjb250YWlucygi5ruh6aKd5YePIikrZGl2LnJ1bGUgc3BhbicpLnRleHQoKTsKCQkJCQkJCW4ucHVzaChpKQoJCQkJCQl9CgkJCQkJCWlmIChlLmZpbmQoJ2Rpdi5jbGVhcmZpeCBiOmNvbnRhaW5zKCLlupfpk7rkv4PplIAiKScpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgaSA9ICLlupfpk7rkv4PplIA6IiArIHQoJyNwcm9tby1saXN0IGRpdi5jbGVhcmZpeCBiOmNvbnRhaW5zKCLlupfpk7rkv4PplIAiKStkaXYucnVsZSBzcGFuJykudGV4dCgpOwoJCQkJCQkJbi5wdXNoKGkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXByb21vOiBuLmpvaW4oIjsiKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlrYW9sYTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gW107CgkJCQkJCWlmICh0KCcucHJvbW90aW9ud3JhcCAubS16ZC1wcnQgLm0tZHAtcHJ0LXRpdGxlOmNvbnRhaW5zKCLmu6Hpop3lh48iKScpLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQl2YXIgbiA9ICLmu6Hpop3lh486IiArIHQoJy5wcm9tb3Rpb253cmFwIC5tLXpkLXBydCAubS1kcC1wcnQtdGl0bGU6Y29udGFpbnMoIua7oemineWHjyIpK3NwYW4gYScpLnRleHQoKTsKCQkJCQkJCWUucHVzaChuKQoJCQkJCQl9CgkJCQkJCXJldHVybiB7CgkJCQkJCQlwcm9tbzogZS5qb2luKCI7IikKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gaS5kcCwKCQkJCQkJbiA9IGkuc2F2ZV9kcF9xdWVyeS5ub3csCgkJCQkJCWEgPSBsW2kuc2l0ZV0oKSwKCQkJCQkJbyA9IG4ucHJpY2UgfHwgdC5wcmljZTsKCQkJCQlvIHx8IChvID0gYS5wcmljZSk7CgkJCQkJdmFyIHIgPSB7CgkJCQkJCWRwX2lkOiBuLm5vd19kcF9pZCwKCQkJCQkJbmFtZTogdC5uYW1lLAoJCQkJCQlwcmljZTogbywKCQkJCQkJcHJvbW86IGEucHJvbW8sCgkJCQkJCXN0b2NrOiBlCgkJCQkJfTsKCQkJCQlyZXR1cm4gcgoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBpLmRwLAoJCQkJCQlvID0gaS5zYXZlX2RwX3F1ZXJ5Lm5vdywKCQkJCQkJciA9IG8ucHJpY2UgfHwgYS5wcmljZTsKCQkJCQlyIHx8IChyID0gdCgiLkotc3VtbWFyeS1wcmljZSAucC1wcmljZSIpLnRleHQoKS5yZXBsYWNlKC9b77+lwqVcc10rL2csICIiKSk7CgkJCQkJdmFyIGwgPSB3aW5kb3cucGFnZUNvbmZpZyAmJiB3aW5kb3cucGFnZUNvbmZpZy5wcm9kdWN0OwoJCQkJCWlmIChsKSB7CgkJCQkJCXZhciBjID0gYS5pdGVtSWQsCgkJCQkJCQlkID0gbC5zaG9wSWQsCgkJCQkJCQlwID0gbC52ZW5kZXJJZCwKCQkJCQkJCWggPSBsLmNhdC5qb2luKCIsIiksCgkJCQkJCQl1ID0gW10sCgkJCQkJCQltID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9jZC5qZC5jb20vcHJvbW90aW9uL3YyP3NrdUlkPSIgKyBjICsgIiZhcmVhPTFfNzJfMjc5OV8wJnNob3BJZD0iICsgZCArICImdmVuZGVySWQ9IiArIHAgKyAiJmNhdD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGgpOwoJCQkJCQlzLmdldFB1cmUobSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAodC5wcm9tLnBpY2tPbmVUYWcgJiYgdC5wcm9tLnBpY2tPbmVUYWcubGVuZ3RoID4gMCkgewoJCQkJCQkJCXZhciBpID0gdC5wcm9tLnBpY2tPbmVUYWcubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUuY29udGVudAoJCQkJCQkJCX0pLmpvaW4oIiwiKTsKCQkJCQkJCQl1LnB1c2godC5wcm9tLnBpY2tPbmVUYWdbMF0ubmFtZSArICI6IiArIGkpCgkJCQkJCQl9CgkJCQkJCQl2YXIgcyA9IHsKCQkJCQkJCQlkcF9pZDogby5ub3dfZHBfaWQsCgkJCQkJCQkJbmFtZTogYS5uYW1lLnRyaW0oKSwKCQkJCQkJCQlwcmljZTogciwKCQkJCQkJCQlwcm9tbzogdS5qb2luKCI7IiksCgkJCQkJCQkJc3RvY2s6IGUKCQkJCQkJCX07CgkJCQkJCQlzID0gSlNPTi5zdHJpbmdpZnkocyksIG4ocykKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiAic3VuaW5nIiA9PT0gaS5zaXRlICYmIHQoIiN0aW1lUGFuZWwgc3BhbiIpLnRleHQoKS5pbmRleE9mKCLlrprph5Hlm6IiKSA+IC0xICYmIHQoIiNtYWluUHJpY2UgLnByaWNlLXByb21vIHNwYW4iKS50ZXh0KCkuaW5kZXhPZigi5a6a6YeRIikgPiAtMSA/ICEwIDogIjM2MGJ1eSIgPT09IGkuc2l0ZSAmJiB0KCIjcGluZ291IC5zdW1tYXJ5LXByaWNlIikudGV4dCgpLmluZGV4T2YoIuWumumHkSIpID4gLTEgPyAhMCA6ICExCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB0cnkgewoJCQkJCQl2YXIgdCA9IG5ldyBYTUxIdHRwUmVxdWVzdDsKCQkJCQkJdC5vcGVuKCJQT1NUIiwgaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1zZW5kUHJvbW9zJnNpdGVfaWQ9IiArIGkuc2l0ZV9pZCArICImamZyb209aW50IiksIHQuc2VuZChlKSwgcigic2VuZFByb21vX3N1Y2Nlc3MiKQoJCQkJCX0gY2F0Y2ggKG4pIHt9CgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCFpLm5ld19leHRlbnNpb24gJiYgImx1eW91IiAhPSBpLmJ0eXBlICYmICFwKCkpIHsKCQkJCQl2YXIgZSA9IG8uaW5pdChpLnNpdGUpOwoJCQkJCWlmIChhLmluZGV4T2YoaS5zaXRlKSA+IC0xKQoJCQkJCQlpZiAoIjM2MGJ1eSIgPT0gaS5zaXRlKSBkKGUsIGgpOwoJCQkJCQllbHNlIHsKCQkJCQkJCXZhciB0ID0gYyhlKTsKCQkJCQkJCXQgPSBKU09OLnN0cmluZ2lmeSh0KSwgaCh0KQoJCQkJCQl9CgkJCQl9CgkJCX0sIGUuZXhwb3J0cy5zcGVjaWFsRmlsdGVyID0gcAoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC92ZXJzaW9uX3JlbWluZD9uZXdfdj0xIjsKCQkJCQlsLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCJnd2RfdmVyc2lvbiIsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpID0gbiAmJiBuLmd3ZF92ZXJzaW9uOwoJCQkJCQkJaSA+PSBlLnZlcnNpb24gfHwgMSA9PT0gZS5zaG93dmVyc2lvbiAmJiB0KGUpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQl2YXIgdCA9IG4oNjkpOwoJCQkJCWEuY2hyb21lX2V4dGVuc2lvbiAmJiAodCA9IHQucmVwbGFjZShuZXcgUmVnRXhwKCJodHRwOi8vczFcXC4iICsgYS5leHROYW1lICsgIlxcLmNvbS9pbWFnZXMiLCAiZyIpLCBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgiaW1hZ2VzIikpKSwgcygiYm9keSIpLmFwcGVuZChjLmNvbXBpbGUodCkoewoJCQkJCQl1cGRhdGU6IGUsCgkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyCgkJCQkJfSkpLCBpKCksIG8oZS52ZXJzaW9uKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJInJpZ2h0IiA9PT0gYS5zdHlsZSAmJiBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCksICJib3R0b20iID09PSBhLnN0eWxlICYmIHMoIiNnd2RfdmVyc2lvbiIpLmNzcygiYm90dG9tIiwgIjYwcHgiKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJCXMoIiNnd2RfdXBkYXRlX3RoZW4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsKCQkJCQkJCWd3ZF92ZXJzaW9uOiBlCgkJCQkJCX0pLCBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCkKCQkJCQl9KSwgcygiI2d3ZF91cGRhdGVfbm93Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoIiNnd2RfdmVyc2lvbiIpLmhpZGUoKQoJCQkJCX0pLCBzKCIjbmV2ZXJfcmVtaW5kIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7CgkJCQkJCQlnd2RfcmVtaW5kOiAibmV2ZXIiCgkJCQkJCX0pLCBzKCIjZ3dkX3ZlcnNpb24iKS5oaWRlKCkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJCXZhciB0ID0gbigyOCk7CgkJCQkJdC5vbihmdW5jdGlvbih0KSB7CgkJCQkJCSJnZXRfYnR5cGUiID09PSB0LnR5cGUgJiYgZSh0LnZhbHVlKQoJCQkJCX0pLCB0LnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0X2J0eXBlIgoJCQkJCX0pCgkJCQl9CgkJCQl2YXIgcyA9IG4oNiksCgkJCQkJbCA9IG4oOSksCgkJCQkJYyA9IG4oMTYpLAoJCQkJCWQgPSB7fTsKCQkJCXJldHVybiBkLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCQlyKGZ1bmN0aW9uKHQpIHsKCQkJCQkJImNocm9tZSIgPT09IHQgJiYgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCJnd2RfcmVtaW5kIiwgZnVuY3Rpb24odCkgewoJCQkJCQkJdmFyIG4gPSB0ICYmIHQuZ3dkX3JlbWluZDsKCQkJCQkJCSJuZXZlciIgIT09IG4gJiYgZSgpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sIGQKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkX3ZlcnNpb24iPlxuICA8cCBjbGFzcz0idmVyc2lvbl9oZWFkIj7otK3nianlhZrlj5HnjrDmlrDniYjmnKw8L3A+XG4gIDxkaXYgY2xhc3M9InZlcnNpb25fY29udGVudCI+XG4gICAgPHAgY2xhc3M9InZlcnNpb25fZGVzIj7or7TmmI7vvJp7e3VwZGF0ZS5kZXNjfX08L3A+XG4gICAgPGEgaWQ9Imd3ZF91cGRhdGVfbm93IiBocmVmPSJ7e3VwZGF0ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPjwvYT5cbiAgICA8YSBpZD0iZ3dkX3VwZGF0ZV90aGVuIj48L2E+XG4gICAgPGEgaWQ9Im5ldmVyX3JlbWluZCIgdGl0bGU9IueCueWHu+WQjuWwhuS4jeWGjeaPkOekuui0reeJqeWFmuaPkuS7tuWNh+e6pyI+5LiN5YaN5o+Q56S6PC9hPlxuICA8L2Rpdj4gICAgIFxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RfdmVyc2lvbntcbiAgICAgIHdpZHRoOiAyOTJweDtcbiAgICAgIGhlaWdodDogMTY4cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMXB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2JhYmFiYTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICByaWdodDogMnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTk5OTk5OTtcbiAgICB9XG4gICAgLnZlcnNpb25faGVhZHtcbiAgICAgIGhlaWdodDogMzhweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzOHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmZiNGYzO1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTFweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMXB4O1xuICAgIH1cbiAgICAudmVyc2lvbl9jb250ZW50IHB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2FlYWVhZTtcbiAgICAgIG1hcmdpbi10b3A6IDE3cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICAgIH1cbiAgICAudmVyc2lvbl9jb250ZW50IGF7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICB3aWR0aDogMTA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIGEjbmV2ZXJfcmVtaW5kIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZTtcbiAgICAgIHdpZHRoOiAzNHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDlweDtcbiAgICAgIGNvbG9yOiAjYWVhZWFlO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIGEjbmV2ZXJfcmVtaW5kOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC52ZXJzaW9uX251bXtcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICB9XG4gICAgI2d3ZF91cGRhdGVfbm93e1xuICAgICAgbWFyZ2luLWxlZnQ6IDE4cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2d3ZF91cGRhdGVfbm93LnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgICNnd2RfdXBkYXRlX25vdzpob3ZlcntcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9nd2RfdXBkYXRlX25vd19ob3Zlci5wbmdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAjZ3dkX3VwZGF0ZV90aGVue1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9nd2RfdXBkYXRlX3RoZW4ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgI2d3ZF91cGRhdGVfdGhlbjpob3ZlcntcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZ3dkX3VwZGF0ZV90aGVuX2hvdmVyLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gewoJCQkJdG9wOiAiY3NzLyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLW5ldzQuY3NzIiwKCQkJCWJvdHRvbTogImNzcy8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1ib3R0b20tbmV3NC5jc3MiCgkJCX07CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBlID0gZSB8fCAiIiwKCQkJCQlhID0gbG9jYXRpb24uaHJlZiwKCQkJCQlvID0gdC5zX3NlcnZlciArICIvY3NzL2Jyd2V4dC9pbWFnZXMuY3NzIiwKCQkJCQlyID0gISFhLm1hdGNoKC9eaHR0cCg/OnMpPzpcL1wvKFthLXpBLVowLTktX10rXC4pKih0bWFsbHx0YW9iYW8pXC4vKSAmJiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIm1ldGFbaHR0cC1lcXVpdj1Db250ZW50LVNlY3VyaXR5LVBvbGljeV0iKSwKCQkJCQlzID0gISFhLm1hdGNoKC9eaHR0cCg/OnMpPzpcL1wvd3d3XC52aXBcLmNvbS8pOwoJCQkJdC5uZXdfZXh0ZW5zaW9uID8gKGUgPSB0LnNfc2VydmVyICsgIi9jc3MvYnJ3ZXh0LyIgKyB0LnVfa2V5ICsgIi5taW4uY3NzIiwgbyA9IHQuc19zZXJ2ZXIgKyAiL2Nzcy9icndleHQvaW1hZ2VzXyIgKyB0LmV4dEJyYW5kICsgIi5jc3MiKSA6ICJjaHJvbWUiID09IHQuZnJvbV9kZXZpY2UgPyAoZSA9IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKGlbdC5zdHlsZV0gfHwgaVt0LmRlZmF1bHRfc3R5bGVdKSwgbyA9IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKCJjc3MvaW1hZ2VzLmNzcyIpKSA6ICIyMzQ1IiA9PSB0LmZyb21fZGV2aWNlID8gciB8fCBzID8gKGUgPSBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTChpW3Quc3R5bGVdIHx8IGlbdC5kZWZhdWx0X3N0eWxlXSksIG8gPSBjaHJvbWUuZXh0ZW5zaW9uLmdldFVSTCgiY3NzL2ltYWdlcy5jc3MiKSkgOiAoaS50b3AgPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1uZXc0LmNzcyIsIGkuYm90dG9tID0gImNzcy9icndleHQvIiArIHQuZXh0TmFtZSArICItbm90aWZpZXItYm90dG9tLW5ldzQuY3NzIiwgZSA9IHQuc19zZXJ2ZXIgKyAiLyIgKyBpW3Quc3R5bGVdICsgIj92PSIgKyB0LnZlcnNpb24pIDogImx1eW91IiA9PT0gdC5idHlwZSA/IChpLnRvcCA9ICJjc3MvYnJ3ZXh0LyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLW5ldy5jc3MiLCBpLmJvdHRvbSA9ICJjc3MvYnJ3ZXh0LyIgKyB0LmV4dE5hbWUgKyAiLW5vdGlmaWVyLWJvdHRvbS1uZXcuY3NzIikgOiAoaS50b3AgPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1uZXc0LmNzcyIsCgkJCQkJaS5ib3R0b20gPSAiY3NzL2Jyd2V4dC8iICsgdC5leHROYW1lICsgIi1ub3RpZmllci1ib3R0b20tbmV3NC5jc3MiKSwgdC5uZXdfZXh0ZW5zaW9uID8gZSA9IGUgKyAiP3Y9IiArIHQudmVyc2lvbiA6ICJjaHJvbWUiICE9IHQuZnJvbV9kZXZpY2UgJiYgIjIzNDUiICE9IHQuZnJvbV9kZXZpY2UgJiYgKGUgPSB0LnNfc2VydmVyICsgIi8iICsgaVt0LnN0eWxlXSArICI/dj0iICsgdC52ZXJzaW9uKSwgbigiaGVhZCIpLmFwcGVuZCgnPGxpbmsgdHlwZT0idGV4dC9jc3MiIGhyZWY9IicgKyBlICsgJyIgcmVsPSJzdHlsZXNoZWV0IiAvPicpLCBuKCJoZWFkIikuYXBwZW5kKCc8bGluayB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iJyArIG8gKyAiP3Y9IiArIHQudmVyc2lvbiArICciIHJlbD0ic3R5bGVzaGVldCIgLz4nKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIG4gPSB7fTsKCQllLmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oZSkgewoJCQlyZXR1cm4gbltlXQoJCX0sIGUuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCW5bZV0gPSB0CgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBuID0gewoJCQkJCWpzZHg6IFsiZmVpbml1IiwgImFwcGxlIl0sCgkJCQkJbmpjazogWyJmZWluaXUiLCAiYXBwbGUiXSwKCQkJCQl0bHhzOiBbImFwcGxlIl0sCgkJCQkJeGRqZjogWyJhcHBsZSJdLAoJCQkJCXpqZHg6IFsiYXBwbGUiXSwKCQkJCQlqeGR4OiBbImFwcGxlIl0sCgkJCQkJc2hjazogWyJhcHBsZSIsICJ2aXBzaG9wIiwgInlpaGFvZGlhbiIsICJmZWluaXUiLCAia2VlZGUiLCAiajEiLCAibGlmZXZjIiwgIm9jaiIsICJ0dWh1IiwgImxvZ2l0ZWNoIiwgInN0YXBsZXMiLCAiYmFuZ2dvIiwgImxvdm8iLCAiYWlkYWkiLCAidG84dG8iLCAiYmwiLCAieWFvMTIzIiwgImx1b2xhaSIsICJzdWFuanV6aSIsICJsdm1hbWEiLCAiZWFzZWV5ZXMiLCAieW9veCIsICJwdXpleWYiLCAiYWlodWlzaG91IiwgInRoZWJlYXN0c2hvcCIsICJtY2FrZSIsICJsZWNha2UiXSwKCQkJCQloYWd3OiBbImFwcGxlIl0sCgkJCQkJc2hsdDogWyJhcHBsZSJdLAoJCQkJCWJqbHQ6IFsiYXBwbGUiXQoJCQkJfSwKCQkJCWkgPSBbImx2bWFtYSIsICIzNjBidXkiLCAiMTYzIiwgImZlZWx1bmlxdWUiXSwKCQkJCWEgPSBbImVmb3RpbGUiXTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmICh0Lm5ld19leHRlbnNpb24gJiYgaS5pbmRleE9mKHQuc2l0ZSkgPiAtMSkgcmV0dXJuICEwOwoJCQkJaWYgKGEuaW5kZXhPZih0LnNpdGUpID4gLTEpIHJldHVybiAhMDsKCQkJCXZhciBlID0gblt0LmZyb21fZGV2aWNlXTsKCQkJCWlmIChlKSB7CgkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLmxlbmd0aDsgbysrKQoJCQkJCQlpZiAodC5zaXRlID09PSBlW29dKSByZXR1cm4gITA7CgkJCQkJcmV0dXJuICExCgkJCQl9CgkJCQlyZXR1cm4gITEKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKGUsIHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjYpLAoJCQkJYSA9IG4oMTMpOwoJCQllLmV4dGVuZCh7CgkJCQl0YWJfb3V0OiBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikuY3NzKCJjb2xvciIsICIiKSwgdCgiIyIgKyBlLmV4dE5hbWUgKyAiLW1haW4gLiIgKyBlLmV4dE5hbWUgKyAiLXRhYiIpLmNzcygiaGVpZ2h0IiwgMzYpLCB0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwgIiIpLCB0KCIjIiArIGUuZXh0TmFtZSArICItbWFpbiAuIiArIGUuZXh0TmFtZSArICItdGFiIikucmVtb3ZlQ2xhc3MoInRhYm1zX2hvdmVyIikKCQkJCX0sCgkJCQl0YWJfaW46IGZ1bmN0aW9uKHQpIHsKCQkJCQl0LmF0dHIoImNsYXNzIikgPT0gZS5leHROYW1lICsgIi10YWIiICYmICh0LmNzcygiY29sb3IiLCAiIzE3N0VFNSIpLCB0LmNzcygiaGVpZ2h0IiwgMzgpLCB0LmNzcygiYmFja2dyb3VuZC1jb2xvciIsICJ3aGl0ZSIpKQoJCQkJfSwKCQkJCWZpeFdpZHRoOiBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWNvbXBhcmUiKS53aWR0aCgiYXV0byIpOwoJCQkJCXZhciBuID0gcGFyc2VJbnQodCgiIyIgKyBlLmxvZ29OYW1lKS53aWR0aCgpKSwKCQkJCQkJaSA9IHBhcnNlSW50KHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItY29tcGFyZSIpLndpZHRoKCkpOwoJCQkJCShlLklFNiB8fCAiYW1hem9uIiA9PSBlLnNpdGUpICYmIGkgPiA4MDAgJiYgKGkgPSA4MDApOwoJCQkJCXZhciBhID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1pY29ucyIpLndpZHRoKCkpLAoJCQkJCQlvID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiKS53aWR0aCgpKSArIDEwMCwKCQkJCQkJciA9IHBhcnNlSW50KHQoIiNzZWFyY2hfd2Vic2l0ZSIpLndpZHRoKCkpLAoJCQkJCQlzID0gcGFyc2VGbG9hdCh0KCIjcmlnaHRfaW5mbyIpLndpZHRoKCkpIHx8IDEsCgkJCQkJCWwgPSB0aGlzLndpZHRoIC0gbiAtIGkgLSBhIC0gbyAtIHMsCgkJCQkJCWMgPSBsOwoJCQkJCWwgLT0gNDAsIGwgPiAzMDAgPyBsID0gMzAwIDogMTAwID4gbCAmJiAobCA9IDEwMCksIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtZm9ybSIpLmlzKCI6dmlzaWJsZSIpICYmIGMgLSB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLWZvcm0iKS5vdXRlcldpZHRoKCkgLSAxNjAgPiAwICYmIHQoIi5iMmMtaWNvbiwgLnRtYWxsLWljb24sIC50YW9iYW8taWNvbiwgIyIgKyBlLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCAxMDAgPj0gbCAmJiAodCgiLmIyYy1pY29uLCAudG1hbGwtaWNvbiwgLnRhb2Jhby1pY29uLCAjIiArIGUuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24sIC5yZXZpZXctaWNvbiwgIyIgKyBlLmV4dE5hbWUgKyAiLXByb21vdGlvbi1kcCwgIyIgKyBlLmV4dE5hbWUgKyAiLWFsc29fYnV5IikuaGlkZSgpLCBpID0gcGFyc2VJbnQodCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1jb21wYXJlIikud2lkdGgoKSksIGwgPSB0aGlzLndpZHRoIC0gbiAtIGkgLSBhIC0gbyksIGwgLT0gNDAsIGMgPiA0MjEgJiYgIXQoIiNwcm9tb19xdWFuX2J0biIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiNwcm9tb19xdWFuX2J0biIpLmxlbmd0aCA+IDAgJiYgKHQoIiNwcm9tb19xdWFuX2J0biIpLnNob3coKSwgYyAtPSAxMjEpLCBjID4gNDAwICYmICF0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5pcygiOnZpc2libGUiKSAmJiB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5zaG93KCksIGMgLT0gMTAwKSwgYyA+IDEzOSAmJiAhdCgiIyIgKyBlLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiMiICsgZS5leHRCcmFuZCArICJfemhpZGVtYWkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuc2hvdygpLCBjIC09IDEzOSksIGMgPiAxMTIgJiYgIXQoIiMiICsgZS5leHRCcmFuZCArICJfbG93cHJpIikuaXMoIjp2aXNpYmxlIikgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5sZW5ndGggPiAwICYmICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnNob3coKSwgYyAtPSAxMTIpLCBjID4gMTgxICYmICF0KCIjemRtX2ltZyIpLmlzKCI6dmlzaWJsZSIpICYmIHQoIiN6ZG1faW1nIikubGVuZ3RoID4gMCAmJiAodCgiI3pkbV9pbWciKS5zaG93KCksIGMgLT0gMTgxKSwgMTAwID4gbCA/IChsID0gMTAwLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWljb25zIikuaGlkZSgpLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmhpZGUoKSwgdCgiI3ZpcHNlYXJjaF9yZW1pbmQiKS5oaWRlKCkpIDogKGwgPiAzMDAgJiYgKGwgPSAzMDApLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmNzcygid2lkdGgiLCBsKS5zaG93KCksIHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItaWNvbnMiKS5zaG93KCksIHQoIiN2aXBzZWFyY2hfcmVtaW5kIikuc2hvdygpKSwgMjYwID4gYyA/ICh0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLXNlYXJjaCIpLmhpZGUoKSwgdCgiIyIgKyBlLmV4dE5hbWUgKyAiLWJhci1pY29ucyIpLmhpZGUoKSwgdCgiI3ZpcHNlYXJjaF9yZW1pbmQiKS5oaWRlKCkpIDogKHQoIiMiICsgZS5leHROYW1lICsgIi1iYXItc2VhcmNoIikuc2hvdygpLCB0KCIjIiArIGUuZXh0TmFtZSArICItYmFyLWljb25zIikuc2hvdygpLCB0KCIjdmlwc2VhcmNoX3JlbWluZCIpLnNob3coKSksIDAgPiBjICYmIHQoIiN6ZG1faW1nIikuaXMoIjp2aXNpYmxlIikgJiYgKHQoIiN6ZG1faW1nIikuaGlkZSgpLCBjICs9IHQoIiN6ZG1faW1nIikub3V0ZXJXaWR0aCgpKSwgMCA+IGMgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5pcygiOnZpc2libGUiKSAmJiAodCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5oaWRlKCksIGMgKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5vdXRlcldpZHRoKCkpLCAwID4gYyAmJiB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuaXMoIjp2aXNpYmxlIikgJiYgKHQoIiMiICsgZS5leHRCcmFuZCArICJfemhpZGVtYWkiKS5oaWRlKCksIGMgKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLm91dGVyV2lkdGgoKSksIDMwMCA+IGMgJiYgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9oaXN0b3J5IikuaXMoIjp2aXNpYmxlIikgJiYgKGMgKz0gMTAwLCB0KCIjIiArIGUuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5oaWRlKCkpLCAzMDAgPiBjICYmIHQoIiNwcm9tb19xdWFuX2J0biIpLmlzKCI6dmlzaWJsZSIpICYmIChjICs9IDEyMSwgdCgiI3Byb21vX3F1YW5fYnRuIikuaGlkZSgpKSwgIm1zaWUiID09IGUuYnJvd3Nlci5hZ2VudCAmJiBlLmJyb3dzZXIudmVyIDw9IDggPyAoZS5JRTggJiYgKCJkYW5nZGFuZyIgPT0gZS5zaXRlID8gdCgiIyIgKyBlLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuY3NzKCJ3aWR0aCIsIGwgLSByIC0gOCkgOiB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5jc3MoIndpZHRoIiwgbCAtIHIgLSAxKSksIGUuSUU3ICYmIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmNzcygid2lkdGgiLCBsIC0gciAtIDgpKSA6ICJkYW5nZGFuZyIgPT0gZS5zaXRlID8gdCgiIyIgKyBlLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuY3NzKCJ3aWR0aCIsIGwgLSByIC0gNikgOiB0KCIjIiArIGUuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5jc3MoIndpZHRoIiwgbCAtIHIgLSA2KSwgZS5JRTggJiYgInlvdWdvdSIgPT0gZS5zaXRlICYmIHQoIiMiICsgZS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmNzcygid2lkdGgiLCBsIC0gciAtIDgpLCB0KHdpbmRvdykudHJpZ2dlcigicmVTaG93UHJpY2VUcmVuZCIpCgkJCQl9LAoJCQkJaW5pdF9pdGVtX2xpc3Q6IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAobiA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBuID8gImFsbCIgOiBuLCAiYWxsIiAhPSBuKSB7CgkJCQkJCXZhciBpID0gdCgiIyIgKyBuICsgIi1pdGVtLWxpc3QiKS5jaGlsZHJlbigpOwoJCQkJCQllLnRvdGFsX251bVtuXSA9IGkubGVuZ3RoCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAodmFyIGEgPSAwOyBhIDwgZS5tb2R1bGVfbmFtZS5sZW5ndGg7IGErKykgdGhpcy5pbml0X2l0ZW1fbGlzdChlLm1vZHVsZV9uYW1lW2FdKQoJCQkJfSwKCQkJCXNldF9wYWdlX2FyZ3M6IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAobiA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBuID8gImFsbCIgOiBuLCAiYWxsIiAhPSBuKSB0KCIjIiArIG4gKyAiLWN1cnJlbnQtcGFnZSIpLmh0bWwoZS5wYWdlX25vd1tuXSksIHQoIiMiICsgbiArICItcGFnZS1udW0iKS5odG1sKGUucGFnZV90b3RhbFtuXSk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGUubW9kdWxlX25hbWUubGVuZ3RoOyBpKyspIHRoaXMuc2V0X3BhZ2VfYXJncyhlLm1vZHVsZV9uYW1lW2ldKQoJCQkJfSwKCQkJCXNldF9pdGVtX2FyZ3M6IGZ1bmN0aW9uKHQpIHsKCQkJCQl2YXIgaSA9IG4oNzQpLmluaXQoKTsKCQkJCQl0ID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQgPyAiYWxsIiA6IHQ7CgkJCQkJdmFyIGEgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKCQkJCQlpZiAoYSA9IDgwMCA+IGEgPyA4MDAgOiBhLCBlLnBhZ2Vfc2l6ZSA9IHBhcnNlSW50KChhIC0gaS50dXJucFcpIC8gMjg2KSwgZS5wYWdlX3NpemVfbWluaSA9IHBhcnNlSW50KChhIC0gMzEwKSAvIDI4NiksICJhbGwiICE9IHQpICJhbHNvX2J1eSIgPT0gdCB8fCAiYjJjX2Z1enp5IiA9PSB0IHx8ICJ0YW9iYW8iID09IHQgfHwgInRtYWxsIiA9PSB0IHx8ICJsb3dwcmkiID09IHQgfHwgInpoaWRlbWFpIiA9PSB0IHx8ICJzZWFyY2hsb3dwcmkiID09IHQgPyAoZS5wYWdlX25vd1t0XSA9IDEsIGUucGFnZV90b3RhbFt0XSA9IGUudG90YWxfbnVtW3RdICUgZS5wYWdlX3NpemUgPT0gMCA/IHBhcnNlSW50KGUudG90YWxfbnVtW3RdIC8gZS5wYWdlX3NpemUpIDogcGFyc2VJbnQoZS50b3RhbF9udW1bdF0gLyBlLnBhZ2Vfc2l6ZSkgKyAxKSA6IChlLnBhZ2Vfbm93W3RdID0gMSwgZS5wYWdlX3RvdGFsW3RdID0gZS50b3RhbF9udW1bdF0gJSBlLnBhZ2Vfc2l6ZV9taW5pID09IDAgPyBwYXJzZUludChlLnRvdGFsX251bVt0XSAvIGUucGFnZV9zaXplX21pbmkpIDogcGFyc2VJbnQoZS50b3RhbF9udW1bdF0gLyBlLnBhZ2Vfc2l6ZV9taW5pKSArIDEpOwoJCQkJCWVsc2UKCQkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLm1vZHVsZV9uYW1lLmxlbmd0aDsgbysrKSB0aGlzLnNldF9pdGVtX2FyZ3MoZS5tb2R1bGVfbmFtZVtvXSkKCQkJCX0sCgkJCQljaGFuZ2VfcGFnZTogZnVuY3Rpb24obiwgaSwgYSkgewoJCQkJCXZhciBvID0gZS5wYWdlX3NpemVfbWluaTsKCQkJCQkoImFsc29fYnV5IiA9PSBuIHx8ICJiMmNfZnV6enkiID09IG4gfHwgInRhb2JhbyIgPT0gbiB8fCAidG1hbGwiID09IG4gfHwgImxvd3ByaSIgPT0gbiB8fCAiemhpZGVtYWkiID09IG4gfHwgInNlYXJjaGxvd3ByaSIgPT0gbikgJiYgKG8gPSBlLnBhZ2Vfc2l6ZSksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBhID8gZS5wYWdlX25vd1tuXSA9IGEgPj0gMSAmJiBhIDw9IGUucGFnZV90b3RhbFtuXSA/IGEgOiAxIDogLTEgPT0gaSA/IGUucGFnZV9ub3dbbl0gPSAxID09IGUucGFnZV9ub3dbbl0gPyBlLnBhZ2VfdG90YWxbbl0gOiAtLWUucGFnZV9ub3dbbl0gOiAxID09IGkgJiYgKGUucGFnZV9ub3dbbl0gPSBlLnBhZ2Vfbm93W25dID09IGUucGFnZV90b3RhbFtuXSA/IDEgOiArK2UucGFnZV9ub3dbbl0pLCB0KCIjIiArIG4gKyAiLWN1cnJlbnQtcGFnZSIpLmh0bWwoZS5wYWdlX25vd1tuXSk7CgkJCQkJdmFyIHIgPSAoZS5wYWdlX25vd1tuXSAtIDEpICogbywKCQkJCQkJcyA9IGUucGFnZV9ub3dbbl0gKiBvOwoJCQkJCXMgPSBzID4gZS50b3RhbF9udW1bbl0gPyBlLnRvdGFsX251bVtuXSA6IHMsIHRoaXMubG9hZF9pbWFnZShuLCByLCBzKQoJCQkJfSwKCQkJCWNoZWNrX2FuaW1hdGU6IGZ1bmN0aW9uKCkgewoJCQkJCXRyeSB7CgkJCQkJCWlmICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgdCgiPGRpdj4iKS5hbmltYXRlKSByZXR1cm4gITEKCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0KCQkJCQlyZXR1cm4gITAKCQkJCX0sCgkJCQljaGVja19pbWFnZTogZnVuY3Rpb24obiwgaSwgYSkgewoJCQkJCXZhciBvID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEgfHwgIiIgPT0gYSB8fCBudWxsID09IGEgPyAxMDAgOiBhLAoJCQkJCQlyID0gbiwKCQkJCQkJcyA9IG5ldyBJbWFnZSwKCQkJCQkJbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpOwoJCQkJCSJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgZS5icm93c2VyLnZlciA8IDExID8gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCJjb21wbGV0ZSIgPT0gcy5yZWFkeVN0YXRlIHx8ICJsb2FkZWQiID09IHMucmVhZHlTdGF0ZSkgewoJCQkJCQkJaWYgKHMud2lkdGggPiAwICYmIHMuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gbyAvIHMud2lkdGggPCBvIC8gcy5oZWlnaHQgPyBvIC8gcy53aWR0aCA6IG8gLyBzLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAodCgiIyIgKyBpKS5jc3MoIndpZHRoIiwgcy53aWR0aCAqIGUpLCB0KCIjIiArIGkpLmNzcygiaGVpZ2h0Iiwgcy5oZWlnaHQgKiBlKSkgOiAodCgiIyIgKyBpKS5jc3MoIndpZHRoIiwgcy53aWR0aCksIHQoIiMiICsgaSkuY3NzKCJoZWlnaHQiLCBzLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQl0KCIjIiArIGkpLmF0dHIoInNyYyIsIG4pCgkJCQkJCX0KCQkJCQl9IDogcy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJMSA9PSBzLmNvbXBsZXRlICYmIHQoIiMiICsgaSkuYXR0cigic3JjIiwgbikKCQkJCQl9LCBzLm9uZXJyb3IgPSBmdW5jdGlvbihuKSB7CgkJCQkJCWwuc3JjID0gZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIsIHQobCkud2lkdGgobC5nZXRBdHRyaWJ1dGUoImRfd2lkdGgiKSB8fCAiOTBweCIpLCB0KGwpLmhlaWdodChsLmdldEF0dHJpYnV0ZSgiZF93aWR0aCIpIHx8ICI5MHB4IiksIGwuc2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsIiwgZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIpCgkJCQkJfSwgcy5zcmMgPSByCgkJCQl9LAoJCQkJZWRpdE9yaWdpbmFsOiBmdW5jdGlvbihuKSB7CgkJCQkJdChuKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQodGhpcyksCgkJCQkJCQlpID0gdCh0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQluLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBuLmF0dHIoInNyYyIpICYmIGUuY2hlY2tfaW1hZ2Uobi5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIGkpCgkJCQkJfSkKCQkJCX0sCgkJCQlsb2FkX2ltYWdlOiBmdW5jdGlvbihuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzLAoJCQkJCQlyID0gbmV3IE9iamVjdDsKCQkJCQlpZiAoci51c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLCByLmllID0gL21zaWUvLnRlc3Qoci51c2VyQWdlbnQpLCByLk1veiA9IC9nZWNrby8udGVzdChyLnVzZXJBZ2VudCksICJ1bmRlZmluZWQiID09IHR5cGVvZiBuKSByZXR1cm4gITE7CgkJCQkJdmFyIHMgPSB0KCIjIiArIG4gKyAiLWl0ZW0tbGlzdCBsaSIpLAoJCQkJCQlsID0gdCgiIyIgKyBuICsgIi1pdGVtLWxpc3QiKTsKCQkJCQlpZiAoci5pZSB8fCAhdGhpcy5jaGVja19hbmltYXRlKCkpIHsKCQkJCQkJdChzKS5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwoJCQkJCQlmb3IgKHZhciBjID0gaTsgYSA+IGM7IGMrKykgdCgiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIGMpLmNzcygiZGlzcGxheSIsICJibG9jayIpOwoJCQkJCQlmb3IgKHZhciBjID0gaTsgYSA+IGM7IGMrKykgewoJCQkJCQkJdmFyIGQgPSAiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIGMgKyAoIiAuIiArIGUuZXh0TmFtZSArICItbGF6eSIpOwoJCQkJCQkJby5lZGl0T3JpZ2luYWwoZCkKCQkJCQkJfQoJCQkJCX0gZWxzZSBsLmFuaW1hdGUoewoJCQkJCQlvcGFjaXR5OiAiMCIKCQkJCQl9LCAxMDAsICJzd2luZyIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KHMpLmNzcygiZGlzcGxheSIsICJub25lIik7CgkJCQkJCWZvciAodmFyIHIgPSBpOyBhID4gcjsgcisrKSB0KCIjIiArIG4gKyAiLXByb2QtaXRlbS0iICsgcikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIik7CgkJCQkJCWwuYW5pbWF0ZSh7CgkJCQkJCQlvcGFjaXR5OiAiMSIKCQkJCQkJfSwgMTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWZvciAodmFyIHQgPSBpOyBhID4gdDsgdCsrKSB7CgkJCQkJCQkJdmFyIHIgPSAiIyIgKyBuICsgIi1wcm9kLWl0ZW0tIiArIHQgKyAoIiAuIiArIGUuZXh0TmFtZSArICItbGF6eSIpOwoJCQkJCQkJCW8uZWRpdE9yaWdpbmFsKHIpCgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlzZXRQYWdlQXJnczogZnVuY3Rpb24obiwgaSkgewoJCQkJCXQoIiMiICsgbiArICI+bGkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQodGhpcykuZmluZCgiLiIgKyBlLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iKSwKCQkJCQkJCWEgPSBuLmxlbmd0aCwKCQkJCQkJCW8gPSBhICUgaSA9PSAwID8gcGFyc2VJbnQoYSAvIGkpIDogcGFyc2VJbnQoYSAvIGkpICsgMSwKCQkJCQkJCXIgPSAwLAoJCQkJCQkJcyA9IHQodGhpcykuZmluZCgiZW1baWRePXBhZ2Utbm93XSIpOwoJCQkJCQllLmxvYWRJbWFnZShuLCAwLCBpKSwgdCh0aGlzKS5maW5kKCIuIiArIGUuZXh0QnJhbmQgKyAiLWxlZnQiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJCWlmIChyID49IDApIHsKCQkJCQkJCQlyLS0sIDAgPiByICYmIChyID0gbyAtIDEpOwoJCQkJCQkJCWZvciAodmFyIHQgPSByICogaSwgbCA9IChyICsgMSkgKiBpLCBjID0gMDsgYSA+IGM7IGMrKykgYyA+PSB0ICYmIGwgPiBjID8gbi5lcShjKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKSA6IG4uZXEoYykuaGlkZSgpOwoJCQkJCQkJCWUubG9hZEltYWdlKG4sIHQsIGwpLCBzLnRleHQociArIDEpCgkJCQkJCQl9CgkJCQkJCX0pLCB0KHRoaXMpLmZpbmQoIi4iICsgZS5leHRCcmFuZCArICItcmlnaHQiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJCWlmIChvIC0gMSA+PSByKSB7CgkJCQkJCQkJcisrLCByID09IG8gJiYgKHIgPSAwKTsKCQkJCQkJCQlmb3IgKHZhciB0ID0gMCwgbCA9IHIgKiBpLCBjID0gKHIgKyAxKSAqIGk7IGEgPiB0OyB0KyspIHQgPj0gbCAmJiBjID4gdCA/IG4uZXEodCkuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikgOiBuLmVxKHQpLmhpZGUoKTsKCQkJCQkJCQllLmxvYWRJbWFnZShuLCBsLCBjKSwgcy50ZXh0KHIgKyAxKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9LAoJCQkJbG9hZEltYWdlOiBmdW5jdGlvbih0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSA5MDsKCQkJCQlhICYmIChvID0gYSk7CgkJCQkJZm9yICh2YXIgciA9IG47IGkgPiByOyByKyspIHsKCQkJCQkJdmFyIHMgPSB0LmVxKHIpLmZpbmQoImltZyIpLmVxKDApOwoJCQkJCQlzLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBzLmF0dHIoInNyYyIpICYmIGUuY2hlY2tJbWFnZShzLmF0dHIoImRhdGEtb3JpZ2luYWwiKSwgcywgbykKCQkJCQl9CgkJCQl9LAoJCQkJY2hlY2tJbWFnZTogZnVuY3Rpb24obiwgaSwgYSwgbykgewoJCQkJCXZhciByID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGEgfHwgIiIgPT0gYSB8fCBudWxsID09IGEgPyA5MCA6IGEsCgkJCQkJCXMgPSBuLAoJCQkJCQlsID0gbmV3IEltYWdlOwoJCQkJCSJtc2llIiA9PSBlLmJyb3dzZXIuYWdlbnQgJiYgZS5icm93c2VyLnZlciA8IDExID8gbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKCJjb21wbGV0ZSIgPT0gbC5yZWFkeVN0YXRlIHx8ICJsb2FkZWQiID09IGwucmVhZHlTdGF0ZSkgewoJCQkJCQkJaWYgKGwud2lkdGggPiAwICYmIGwuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCAqIGUpLCBpLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiBlKSkgOiAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCksIGkuY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQlpLmF0dHIoInNyYyIsIG4pCgkJCQkJCX0KCQkJCQl9IDogbC5vbmxvYWQgPSBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKDEgPT0gbC5jb21wbGV0ZSkgewoJCQkJCQkJaWYgKGwud2lkdGggPiAwICYmIGwuaGVpZ2h0ID4gMCkgewoJCQkJCQkJCXZhciBlID0gciAvIGwud2lkdGggPCByIC8gbC5oZWlnaHQgPyByIC8gbC53aWR0aCA6IHIgLyBsLmhlaWdodDsKCQkJCQkJCQkxID49IGUgPyAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCAqIGUpLCBpLmNzcygiaGVpZ2h0IiwgbC5oZWlnaHQgKiBlKSkgOiAoaS5jc3MoIndpZHRoIiwgbC53aWR0aCksIGkuY3NzKCJoZWlnaHQiLCBsLmhlaWdodCkpCgkJCQkJCQl9CgkJCQkJCQlpLmF0dHIoInNyYyIsIG4pLCBvICYmIG8oKQoJCQkJCQl9CgkJCQkJfSwgbC5vbmVycm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJCWkuYXR0cigic3JjIiwgZS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvZGVmYXVsdF9sb2FkX2ltYWdlLnBuZyIpLCBpLmF0dHIoImRhdGEtb3JpZ2luYWwiLCBlLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9kZWZhdWx0X2xvYWRfaW1hZ2UucG5nIiksIHQoaSkud2lkdGgoaS5hdHRyKCJkX3dpZHRoIikgfHwgIjkwcHgiKSwgdChpKS5oZWlnaHQoaS5hdHRyKCJkX2hlaWdodCIpIHx8ICI5MHB4IikKCQkJCQl9LCBsLnNyYyA9IHMKCQkJCX0sCgkJCQlnZXRGaXhlZFNob3dQcm9kdWN0TnVtOiBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gcGFyc2VJbnQoKGUud2lkdGggLSA2NikgLyAyMDApCgkJCQl9LAoJCQkJc2V0TW91c2VPdmVySGFuZGxlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG4gPSAibW91c2VlbnRlciIsCgkJCQkJCW8gPSAibW91c2VsZWF2ZSI7CgkJCQkJdCgiIiArIGUuZHZhbCkuZGVsZWdhdGUoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSwgZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIiwgbiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlLnRpbWVyMik7CgkJCQkJCXZhciBuID0gdCh0aGlzKS5wYXJlbnRzKCkuZXEoMCk7CgkJCQkJCXQodGhpcylbMF0uY2xhc3NOYW1lID09PSBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iICYmIChpKCJob3ZlcjptYWluOmNvbXBhcmUiKSwgYS5sb2coIuS4u+W3peWFt+agj+avlOS7t+m8oOagh+aCrOa1riIpKSwgdCh0aGlzKVswXS5jbGFzc05hbWUuaW5kZXhPZihlLmV4dEJyYW5kICsgIi10cmVuZCIpID4gLTEgJiYgKGkoImhvdmVyOm1haW46cHJpY2V0cmVuZCIpLCBhLmxvZygi5Li75bel5YW35qCP5Lu35qC86LaL5Yq/6byg5qCH5oKs5rWuIikpLCB0KCJkaXYuIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCksIHQoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLCBuLmNoaWxkcmVuKCJzcGFuLiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iKS5hZGRDbGFzcyhlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKSwgbi5jaGlsZHJlbigiZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikKCQkJCQl9KSwgdCgiIiArIGUuZHZhbCkuZGVsZWdhdGUoInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSwgZGl2LiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIiwgbywgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlLnRpbWVyMik7CgkJCQkJCXZhciBuID0gdCh0aGlzKS5wYXJlbnRzKCkuZXEoMCk7CgkJCQkJCWUudGltZXIyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW4uY2hpbGRyZW4oInNwYW4uIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLCBuLmNoaWxkcmVuKCJkaXYuIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCB0KCIiICsgZS5kdmFsKS5kZWxlZ2F0ZSgic3Bhbi4iICsgZS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIiwgImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQodGhpcykuYXR0cigiaHJlZiIpICYmIHdpbmRvdy5vcGVuKHQodGhpcykuYXR0cigiaHJlZiIpKQoJCQkJCX0pLCB0KCIiICsgZS5kdmFsKS5kZWxlZ2F0ZSgiIyIgKyBlLmV4dEJyYW5kICsgIl9mYXZvciwjIiArIGUuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCIsIG4sIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCJhLiIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0iKS5yZW1vdmVDbGFzcyhlLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKSwgdCgiIyIgKyBlLmV4dEJyYW5kICsgIl9mYXZvciIpLmFkZENsYXNzKGUuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIiksIHQoImRpdi4iICsgZS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCIpLmhpZGUoKSwgdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwiKS5zaG93KCksIGkoImhvdmVyOm1haW46ZmF2b3IiKSwgYS5sb2coIuS4u+W3peWFt+agj+aUtuiXj+Wkuem8oOagh+aCrOa1riIpCgkJCQkJfSksIHQoIiIgKyBlLmR2YWwpLmRlbGVnYXRlKCIjIiArIGUuZXh0QnJhbmQgKyAiX2Zhdm9yLCMiICsgZS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIiwgbywgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiMiICsgZS5leHRCcmFuZCArICJfZmF2b3IiKS5yZW1vdmVDbGFzcyhlLmV4dEJyYW5kICsgIl9mYXZvcl9ob3ZlciIpLCB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCIpLmhpZGUoKQoJCQkJCX0pCgkJCQl9LAoJCQkJZ2V0Rml4ZWRDb21wYXJlTnVtOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgbiA9IDMyMDsKCQkJCQkiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICItdHJlbmQiKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSAxMjApLCAiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICJfaGlzdG9yeSIpLmNzcygiZGlzcGxheSIpICYmIChuICs9IDExMiksICJibG9jayIgPT0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2giKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSAyMjApLCAiYmxvY2siID09IHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCIpLmNzcygiZGlzcGxheSIpICYmIChuICs9IHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCBzcGFuIikuZXEoMCkub3V0ZXJXaWR0aCgpKSwgImJsb2NrIiA9PSB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIikuY3NzKCJkaXNwbGF5IikgJiYgKG4gKz0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlLXRhb2JhbyBzcGFuIikuZXEoMCkub3V0ZXJXaWR0aCgpKSwgImJsb2NrIiA9PSB0KCIjIiArIGUuZXh0QnJhbmQgKyAiLW1vcmUiKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSA2MCksICJibG9jayIgPT0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1kb3ViYW4iKS5jc3MoImRpc3BsYXkiKSAmJiAobiArPSA4MCk7CgkJCQkJdmFyIGkgPSBlLndpZHRoIC0gbiwKCQkJCQkJYSA9IDA7CgkJCQkJcmV0dXJuIHQoIiMiICsgZS5leHRCcmFuZCArICItY29tcGFyZT5saSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCWUuSUU2IHx8IGUuSUU3IHx8IGUuSUU4IHx8IGUuSUU5IHx8IGUuSUUxMCB8fCBlLklFMTEgPyBpIC0gODAgPj0gdCh0aGlzKS5vdXRlcldpZHRoKCkgJiYgKGkgLT0gdCh0aGlzKS5vdXRlcldpZHRoKCksICsrYSkgOiBpID49IHQodGhpcykub3V0ZXJXaWR0aCgpICYmIChpIC09IHQodGhpcykub3V0ZXJXaWR0aCgpLCArK2EpCgkJCQkJfSksIGEKCQkJCX0sCgkJCQlhdXRvRml4V2lkdGg6IGZ1bmN0aW9uKGkpIHsKCQkJCQl2YXIgYSA9IG4oNzUpLAoJCQkJCQlvID0gbig4NyksCgkJCQkJCXIgPSB0KGUuZHZhbCksCgkJCQkJCXMgPSBpIHx8IHIuYXR0cigiYjJjIikgJiYgImZ1enp5IiA9PSByLmF0dHIoImIyYyIpOwoJCQkJCWlmIChzID0gITEsIDEgIT0gci5hdHRyKCJhdXRvIikpIHsKCQkJCQkJZS53aWR0aCA8IDFlMyA/IHQoIiMiICsgZS5leHRCcmFuZCArICItc2VhcmNoIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKSA6ICh0KCIjIiArIGUuZXh0QnJhbmQgKyAiLXNlYXJjaCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpLCAiYW1hem9uIiA9PSBlLnNpdGUgJiYgdCgiLiIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2gtaW5wdXQiKS5hZGRDbGFzcygiYW1hem9uX2hhbmsiKSk7CgkJCQkJCXZhciBsID0gdCgiIyIgKyBlLmV4dEJyYW5kICsgIi1jb21wYXJlPmxpIiksCgkJCQkJCQljID0gbC5sZW5ndGgsCgkJCQkJCQlkID0gZS5nZXRGaXhlZENvbXBhcmVOdW0oKTsKCQkJCQkJYyAtIGQgPj0gMiA/IHMgfHwgKHQoIiMiICsgZS5leHRCcmFuZCArICItc2VhcmNoIikuYXR0cigic2hvdyIsIDApLmhpZGUoKSwgZCA9IGUuZ2V0Rml4ZWRDb21wYXJlTnVtKCkpIDogZCAtIGMgPj0gMiAmJiAodCgiIyIgKyBlLmV4dEJyYW5kICsgIi1zZWFyY2giKS5hdHRyKCJzaG93IiwgMSkuc2hvdygpLCBkID0gZS5nZXRGaXhlZENvbXBhcmVOdW0oKSk7CgkJCQkJCWZvciAodmFyIHAgPSAwOyBjID4gcDsgcCsrKSBkID4gcCA/IGwuZXEocCkuc2hvdygpIDogbC5lcShwKS5oaWRlKCk7CgkJCQkJCWEuc2V0Qm90dG9tVmlld09mZnNldCgpLCBvLnNldEJvdHRvbVZpZXdPZmZzZXQoKQoJCQkJCX0KCQkJCX0sCgkJCQljaXJjbGVOb3RpY2U6IGZ1bmN0aW9uKG4sIGkpIHsKCQkJCQlpZiAobiB8fCBpKSB7CgkJCQkJCXZhciBhID0gIiI7CgkJCQkJCW4gJiYgKGEgKz0gIi4iICsgZS5leHRCcmFuZCArICItcXVhbiIsIGUuc2hvd19xdWFuID0gMSksIGkgJiYgKGEgKz0gIiIgPT09IGEgPyAiIiA6ICIsIiwgYSArPSAiLiIgKyBlLmV4dEJyYW5kICsgIi1jdSIsIGUuc2hvd19jdSA9IDEpLCAiIiAhPSBhICYmIHQoYSkuY3NzKCJwb3NpdGlvbiIsICJyZWxhdGl2ZSIpLmFwcGVuZCh0KCI8Yj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBlLmV4dEJyYW5kICsgIi1iZyAiICsgZS5leHRCcmFuZCArICItY3UtY2lyY2xlIgoJCQkJCQl9KSkKCQkJCQl9CgkJCQl9CgkJCX0pCgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gdm9pZCAwLAoJCQkJYSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJCW4gPSAyNjgsCgkJCQkJCWkgPSAxMzAsCgkJCQkJCWEgPSAzMDIsCgkJCQkJCW8gPSBlIC0gMiAqIGkgLSBhLAoJCQkJCQlyID0gcGFyc2VJbnQobyAvIG4pOwoJCQkJCXJldHVybiBvIC0gciAqIG4gKyA4MCA+IDI2OCAmJiAocisrLCBpID0gcGFyc2VJbnQoKGUgLSByICogbiAtIGEpIC8gMiksIG8gPSBlIC0gMiAqIGkgLSBhKSwgewoJCQkJCQlwcm9kdWN0VzogbywKCQkJCQkJdHVybnBXOiBpLAoJCQkJCQlzaG93TGlzdE51bTogcgoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAoaSkgcmV0dXJuIGk7CgkJCQl2YXIgZSA9IHQod2luZG93KS53aWR0aCgpLAoJCQkJCW8gPSAyNjgsCgkJCQkJciA9IDE0NywKCQkJCQlzID0gZSAtIDIgKiByLAoJCQkJCWwgPSBwYXJzZUludChzIC8gbyk7CgkJCQlzIC0gbCAqIG8gKyA5MiA+IDI2OCAmJiAobCsrLCByID0gcGFyc2VJbnQoKGUgLSBsICogbykgLyAyKSwgcyA9IGUgLSAyICogciksICJhbWF6b24iID09PSBuLnNpdGUgJiYgci0tOwoJCQkJdmFyIGMgPSBhKCk7CgkJCQlyZXR1cm4gaSA9IHsKCQkJCQlhbGxQcm9kdWN0VzogcywKCQkJCQl0dXJucFc6IHIsCgkJCQkJc2hvd0xpc3ROdW06IGwsCgkJCQkJYjJjUHJvZHVjdFc6IGMucHJvZHVjdFcsCgkJCQkJYjJjVHVybnBXOiBjLnR1cm5wVywKCQkJCQliMmNTaG93TGlzdE51bTogYy5zaG93TGlzdE51bQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuY2FsQm90dG9tQmFyID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHQoIiNiamRfbG9nbyIpLm91dGVyV2lkdGgoKSwKCQkJCQluID0gdCgiLmxlZnQtY29tcGFyZSIpLm91dGVyV2lkdGgoKSwKCQkJCQlpID0gdCgiLm5idC1hZGluZm8iKS5vdXRlcldpZHRoKCksCgkJCQkJYSA9IHQoIi5uYnQtY2xvc2UtYnRuIikub3V0ZXJXaWR0aCgpLAoJCQkJCW8gPSB0KCIucmlnaHQtaW5mbyIpLm91dGVyV2lkdGgoKSwKCQkJCQlyID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJcyA9IHIgLSAoZSArIG4gKyBpICsgYSArIG8gKyAxMTIgKyA5NCk7CgkJCQlyZXR1cm4gcwoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbig2KSwKCQkJCQl0ID0gbig5KSwKCQkJCQlpID0gbig3NiksCgkJCQkJbyA9IG4oNzcpOwoJCQkJcmV0dXJuIHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCBpKSB7CgkJCQkJCWlmIChudWxsICE9IGEuc2F2ZVRiUmVzRGF0YSkgcmV0dXJuIHZvaWQgdGhpcy5yZW5kZXJUYW9iYW9VSShhLnNhdmVUYlJlc0RhdGEpOwoJCQkJCQl2YXIgciA9IHRoaXMsCgkJCQkJCQlzID0gIjEiLAoJCQkJCQkJbCA9IGVbImNvZGUtc2VydmVyIl0sCgkJCQkJCQljID0gZS5leGFjdF9hcnIsCgkJCQkJCQlkID0gMTAwICogZS5ub3cucHJpY2U7CgkJCQkJCWQgfHwgKGQgPSAxMDAgKiBhLmRwLnByaWNlKSwgbCB8fCAobCA9IHt9LCBzID0gIjAiKTsKCQkJCQkJdmFyIHAgPSBbImFtYXpvbiIsICI2cG0iLCAiZWJheSJdOwoJCQkJCQlpZiAocC5pbmRleE9mKGEuc2l0ZSkgPiAtMSAmJiAoZCA9IDEwMCAqIGEuZHAucHJpY2UpLCAiYW1hem9uIiAhPSBhLnNpdGUgfHwgYy5icmFuZCB8fCAiMSIgPT09IGUubm93LnNpdGVfaWQpIHsKCQkJCQkJCXZhciBoID0gYS5zZXJ2ZXIgKyAiL2Jyd2V4dC90YnJlcz91bmlvbj0iICsgYS51bmlvbiArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYy51cmwpICsgIiZzaXRlPSIgKyBjLnNpdGUgKyAiJmlzYm49IiArIGMuaXNibiArICIma2V5d29yZHM9IiArIGVuY29kZVVSSUNvbXBvbmVudChjLmtleXdvcmRzKSArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChjLmJyYW5kKSArICImdHlwZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGMudHlwZSkgKyAiJnByaWNlPSIgKyBkICsgIiZjbGFzc19pZD0iICsgYy5jbGFzc19pZCArICImbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEuZHAubmFtZSkgKyAiJmNvZGVfYnJhbmRfaWQ9IiArIGwuYnJhbmRfaWQgKyAiJmNvZGVfY2xlYW5fdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChsLmNsZWFuX3RpdGxlKSArICImY29kZV9jb2RlPSIgKyBsLmNvZGUgKyAiJmNvZGVfZGlzcGxheV9icmFuZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuZGlzcGxheV9icmFuZCkgKyAiJmNvZGVfYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChsLmJyYW5kKSArICImY29kZV9jbGFzc19pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuY2xhc3NfaWQpICsgIiZjb2RlX3ByaWNlPSIgKyBlbmNvZGVVUklDb21wb25lbnQobC5wcmljZSkgKyAiJmNvZGVfc3BlYz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuc3BlYykgKyAiJmNvZGUtc2VydmVyPSIgKyBzOwoJCQkJCQkJdC5nZXQoaCkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlID8gby5nZXRVbmlxUGlkKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJYS5zYXZlVGJSZXNEYXRhID0gZSwgci5yZW5kZXJUYW9iYW9VSShlKSwgbig4NCkucmVuZGVyQnQoZSkKCQkJCQkJCQl9KSA6IG8uZ2V0SW1nU2VhcmNoKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJYS5zYXZlVGJSZXNEYXRhID0gZSwgci5yZW5kZXJUYW9iYW9VSShlKSwgbig4NCkucmVuZGVyQnQoZSkKCQkJCQkJCQl9KQoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJcmVuZGVyVGFvYmFvVUk6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0aGlzLAoJCQkJCQkJaSA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpOwoJCQkJCQluLnNob3dCb3R0b21WaWV3KCJ0bWFsbCIsIHQpLCBuLnNob3dCb3R0b21WaWV3KCJ0YW9iYW8iLCB0KSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLXRtYWxsIiwgaSksIGEuc2V0UGFnZUFyZ3MoYS5leHRCcmFuZCArICItY29tcGFyZS10YW9iYW8iLCBpKSwgbi5zZXRCb3R0b21WaWV3T2Zmc2V0KCksIGEuYXV0b0ZpeFdpZHRoKCksICIiID09IHQuc2VhcmNoLmtleXdvcmRzICYmICIiICE9IGEuZHAuaXNibiAmJiBlKCIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIpLnZhbChhLmRwLmlzYm4pLCAiIiAhPSB0LnNlYXJjaC5rZXl3b3JkcyAmJiBlKCIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIpLnZhbCh0LnNlYXJjaC5rZXl3b3JkcyksICJ2aXBzaG9wIiA9PT0gYS5zaXRlICYmIGUoIi4iICsgYS5leHRCcmFuZCArICItc2VhcmNoLWlucHV0IikudmFsKGEuZHAuY2F0X25hbWUpLCBlKHdpbmRvdykuYmluZCgicmVEcmF3VGFvYmFvQmFubmVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpOwoJCQkJCQkJbi5zaG93Qm90dG9tVmlldygidG1hbGwiLCB0KSwgbi5zaG93Qm90dG9tVmlldygidGFvYmFvIiwgdCksIGEuc2V0UGFnZUFyZ3MoYS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCIsIGUpLCBhLnNldFBhZ2VBcmdzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIiwgZSksIG4uc2V0Qm90dG9tVmlld09mZnNldCgpCgkJCQkJCX0pLCAxID09IGEucF9mb2xkICYmIGUoIi4iICsgYS5leHRCcmFuZCArICItY2xvc2UtbW9kdWxlIikuaGlkZSgpCgkJCQkJfSwKCQkJCQlzaG93Qm90dG9tVmlldzogZnVuY3Rpb24odCwgbikgewoJCQkJCQl2YXIgbyA9IGEuZ2V0Rml4ZWRTaG93UHJvZHVjdE51bSgpLAoJCQkJCQkJciA9ICIiOwoJCQkJCQlpZiAoInRtYWxsIiA9PSB0ID8gciA9ICLlpKnnjKvllYbln44iIDogInRhb2JhbyIgPT0gdCAmJiAociA9ICLmt5jlrp3nvZEiKSwgbi5zaXRlICYmIChyID0gIuWQjOexu+eDreWNliIpLCBuW3RdICYmIG5bdF0ubWluX3ByaWNlKSB7CgkJCQkJCQlpZiAoblt0XS5wcm9kdWN0Lmxlbmd0aCA+IDApIHsKCQkJCQkJCQl2YXIgcyA9IGkudGIoblt0XSk7CgkJCQkJCQkJaWYgKHMgaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuOwoJCQkJCQkJCWlmICgwID09PSBzLnByb2R1Y3QubGVuZ3RoKSByZXR1cm47CgkJCQkJCQkJdmFyIGwgPSBzLnByb2R1Y3RbMF0sCgkJCQkJCQkJCWMgPSBwYXJzZUludChzLnByb2R1Y3QubGVuZ3RoKSwKCQkJCQkJCQkJZCA9IGMgJSBvID09IDAgPyBwYXJzZUludChjIC8gbykgOiBwYXJzZUludChjIC8gbykgKyAxLAoJCQkJCQkJCQlwID0gZSgiPGxpPiIpOwoJCQkJCQkJCXAuYXBwZW5kKGUoIjxzcGFuPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIiwKCQkJCQkJCQkJaHJlZjogbC51cmwsCgkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQlzdHlsZTogImhlaWdodDoxMHB4O2Rpc3BsYXk6bm9uZTsiLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1pc3p3ZiIKCQkJCQkJCQl9KS5odG1sKCImbmJzcCIpKS5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIKCQkJCQkJCQl9KS5odG1sKCImeWVuOyIgKyBzLm1pbl9wcmljZSArIChzLm1heF9wcmljZSAhPSBzLm1pbl9wcmljZSA/ICJ+IiArIHMubWF4X3ByaWNlIDogIiIpKSkuYXBwZW5kKGUoIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItc3RvcmUiCgkJCQkJCQkJfSkudGV4dChyKSkuYXBwZW5kKGUoIjxwPiIsIHsKCQkJCQkJCQkJc3R5bGU6ICJoZWlnaHQ6MTBweDtkaXNwbGF5Om5vbmU7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXN6d2YiCgkJCQkJCQkJfSkuaHRtbCgiJm5ic3AiKSkpOwoJCQkJCQkJCXZhciBoID0gZSgiPGRpdj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwgcmUtIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwgIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiLAoJCQkJCQkJCQlzdHlsZTogImRpc3BsYXk6bm9uZTsiCgkJCQkJCQkJfSk7CgkJCQkJCQkJaC5hcHBlbmQoZSgiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlICIgKyBhLmV4dEJyYW5kICsgIi1oZWlnaHQtYXV0byAiICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHNwYW4+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWRlc2MiCgkJCQkJCQkJfSkudGV4dChyICsgIu+8muS4jeWQjOWNluWutui/kOi0ueS4jeWQjCIpKSk7CgkJCQkJCQkJZm9yICh2YXIgdSA9IGUoIjx1bD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCIKCQkJCQkJCQl9KSwgbSA9IDA7IGMgPiBtOyBtKyspIHsKCQkJCQkJCQkJdmFyIGYgPSBzLnByb2R1Y3RbbV07CgkJCQkJCQkJCXUuYXBwZW5kKGUoIjxsaT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0gIiArIChtICUgbyA9PSBvIC0gMSB8fCBtID09IGMgLSAxID8gYS5leHRCcmFuZCArICItbGFzdCIgOiAiIiksCgkJCQkJCQkJCQlzdHlsZTogImRpc3BsYXk6ICIgKyAobSA+PSBvID8gIm5vbmUiIDogImJsb2NrIikKCQkJCQkJCQkJfSkuYXBwZW5kKGUoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXBpYyIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuYXBwZW5kKGUoIjxpbWc+IiwgewoJCQkJCQkJCQkJc3JjOiBhLnNfc2VydmVyICsgIi9pbWFnZXMvZHBfZGVmYXVsdC5qcGciLAoJCQkJCQkJCQkJImRhdGEtb3JpZ2luYWwiOiBmLnBpY191cmwsCgkJCQkJCQkJCQl0aXRsZTogZi50aXRsZQoJCQkJCQkJCQl9KSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcm9kdWN0LXRpdGxlIiwKCQkJCQkJCQkJCWhyZWY6IGYudXJsLAoJCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCQkJCXRpdGxlOiBmLnRpdGxlCgkJCQkJCQkJCX0pLnRleHQoZi50aXRsZSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgZi5wcmljZSkpKQoJCQkJCQkJCX0KCQkJCQkJCQl2YXIgZyA9IGUoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi10Yi10bS1QYWdlVmlldyAiICsgYS5leHRCcmFuZCArICItYjJjLVBhZ2VWaWV3LWZpeGVkIgoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmIChnLmFwcGVuZChlKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUiLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDphdXRvOyIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPHNwYW4+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0Om5vbmU7cGFkZGluZy1sZWZ0OjEwcHg7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyIKCQkJCQkJCQl9KS5hcHBlbmQoZSgiPGVtPiIsIHsKCQkJCQkJCQkJaWQ6ICJwYWdlLW5vdy0iICsgdCwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2Utbm93IgoJCQkJCQkJCX0pLnRleHQoIjEiKSkuYXBwZW5kKCIvIikuYXBwZW5kKGUoIjxlbT4iLCB7CgkJCQkJCQkJCWlkOiAicGFnZS10b3RhbC0iICsgdCwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2UtdG90YWwiCgkJCQkJCQkJfSkudGV4dCgiMSIpKSkpLCBoLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLWxlZnQiCgkJCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1iZyBwYWdlLWFycm93IgoJCQkJCQkJCX0pKSkuYXBwZW5kKHUpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLXJpZ2h0IgoJCQkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItYmcgcGFnZS1hcnJvdyIKCQkJCQkJCQl9KSkpLmFwcGVuZChnKSwgcC5hcHBlbmQoaCksIGUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS0iICsgdCkuaHRtbCgiIikuYXBwZW5kKHApLCAxID09IGQpIHsKCQkJCQkJCQkJcC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtcHJldi1wYWdlIikuaGlkZSgpLCBwLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UiKS5oaWRlKCksIHAuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1iMmMtUGFnZVZpZXctZml4ZWQiKS5oaWRlKCksIHAuYXR0cigicGFnZXMiLCAxKSwgcC5hdHRyKCJsZW4iLCBjKTsKCQkJCQkJCQkJdmFyIF8gPSAyMDAgKiBjOwoJCQkJCQkJCQlwLmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoIndpZHRoIiwgXyArIDIpCgkJCQkJCQkJfSBlbHNlIHAuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygid2lkdGgiLCBhLndpZHRoIC0gMik7CgkJCQkJCQkJZSgiI3BhZ2UtdG90YWwtIiArIHQpLnRleHQoZCkKCQkJCQkJCX0KCQkJCQkJCWUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS0iICsgdCkuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikKCQkJCQkJfQoJCQkJCQllKCIjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdG1hbGwsIyIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLXRhb2JhbyIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQllKHRoaXMpLmZpbmQoImEuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSxhLiIgKyBhLmV4dEJyYW5kICsgIi1waWMsYS4iICsgYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSxhLiIgKyBhLmV4dEJyYW5kICsgIi1wcmljZSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCQkJZSh0aGlzKS5hdHRyKCJyZWwiLCAibm9yZWZlcnJlciIpLmF0dHIoImhyZWYiLCBlKHRoaXMpLmF0dHIoImhyZWYiKSArIGEudXQpCgkJCQkJCQl9KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJc2V0Qm90dG9tVmlld09mZnNldDogZnVuY3Rpb24oKSB7CgkJCQkJCWUoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZS10bWFsbCBsaSwjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtdGFvYmFvIGxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0ID0gZSh0aGlzKTsKCQkJCQkJCWlmICgiMSIgPT0gdC5hdHRyKCJwYWdlcyIpKSB7CgkJCQkJCQkJdmFyIG4gPSB0Lm9mZnNldCgpLmxlZnQsCgkJCQkJCQkJCWkgPSB0LndpZHRoKCksCgkJCQkJCQkJCW8gPSAyMDAgKiBwYXJzZUludCh0LmF0dHIoImxlbiIpKSwKCQkJCQkJCQkJciA9IG4gLSAobyAvIDIgLSBpIC8gMik7CgkJCQkJCQkJMCA+IHIgJiYgKHIgPSAwKTsKCQkJCQkJCQl2YXIgcyA9IGEud2lkdGggLSByOwoJCQkJCQkJCWEuSUU2ID8gKHIgPSBpIC8gMiAtIG8gLyAyLCAwID4gciArIG4gJiYgKHIgPSAtbiksIHQuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKSkgOiBzID4gbyA/ICh0LmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCByKSkgOiAodC5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJsZWZ0IiwgYS53aWR0aCAtIG8pLCB0LmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSBvKSkKCQkJCQkJCX0gZWxzZSBpZiAoYS5JRTYpIHsKCQkJCQkJCQl2YXIgbiA9IHQub2Zmc2V0KCkubGVmdCwKCQkJCQkJCQkJciA9IDAgLSBuOwoJCQkJCQkJCXQuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCByKSwgdC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig0MCk7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gW10sCgkJCQkJYSA9IHQuZHAucHJpY2UgfHwgMDsKCQkJCWlmICgiMTg5IiA9PT0gdC5zaXRlKSB7CgkJCQkJZm9yICh2YXIgbyA9IDA7IG8gPCBlLmxlbmd0aDsgbysrKSBpKGVbb10ucHJpY2UpID49IGEgJiYgbi5wdXNoKGVbb10pOwoJCQkJCXJldHVybiBuCgkJCQl9CgkJCQlyZXR1cm4gZQoJCQl9LCBlLmV4cG9ydHMudGIgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAoZSBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gZTsKCQkJCWZvciAodmFyIG4gPSBbXSwgYSA9IGUucHJvZHVjdCwgbyA9IHQuZHAucHJpY2UgfHwgMCwgciA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSBhW3JdLmltZ191cmwgJiYgIWFbcl0uaW1nX3VybC5tYXRjaCgvX1xkK3hcZCsvKSAmJiAoYVtyXS5pbWdfdXJsID0gYVtyXS5pbWdfdXJsICsgIl8xMDB4MTAwIiksIGFbcl0ucGljX3VybCAmJiAhYVtyXS5waWNfdXJsLm1hdGNoKC9fXGQreFxkKy8pICYmIChhW3JdLnBpY191cmwgPSBhW3JdLnBpY191cmwgKyAiXzEwMHgxMDAiKTsKCQkJCWlmICgiMTg5IiA9PT0gdC5zaXRlKSB7CgkJCQkJZm9yICh2YXIgciA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSBpKGFbcl0ucHJpY2UpID49IG8gJiYgbi5wdXNoKGFbcl0pOwoJCQkJCWUubWluX3ByaWNlID0gblswXSAmJiBuWzBdLnByaWNlLCBlLnByb2R1Y3QgPSBuCgkJCQl9CgkJCQlyZXR1cm4gZQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSBuKDc2KSwKCQkJCXMgPSBuKDc0KSwKCQkJCWwgPSBuKDc4KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlpZiAobnVsbCAhPSB0LnNhdmVfdGJyZXNfZGF0YSkgcmV0dXJuIHZvaWQgdGhpcy5yZW5kZXJUYnJlcyh0LnNhdmVfdGJyZXNfZGF0YSk7CgkJCQl2YXIgbiA9IHRoaXMsCgkJCQkJbyA9ICIxIiwKCQkJCQlyID0gZS5leGFjdF9hcnIsCgkJCQkJcyA9IGVbImNvZGUtc2VydmVyIl0sCgkJCQkJbCA9IDEwMCAqIGUubm93LnByaWNlOwoJCQkJbCB8fCAobCA9IDEwMCAqIHQuZHAucHJpY2UpLCBzIHx8IChzID0ge30sIG8gPSAiMCIpOwoJCQkJdmFyIGMgPSBbImFtYXpvbiIsICI2cG0iLCAiZWJheSJdOwoJCQkJaWYgKGMuaW5kZXhPZih0LnNpdGUpID4gLTEgJiYgKGwgPSAxMDAgKiB0LmRwLnByaWNlKSwgImFtYXpvbiIgIT0gdC5zaXRlIHx8IHIuYnJhbmQgfHwgIjEiID09PSBlLm5vdy5zaXRlX2lkKSB7CgkJCQkJdC5kcC5taW5fcHJpY2UgPSBwYXJzZUludCgxMDAgKiB0LmRwLm1pbl9wcmljZSksIHQuZHAubWF4X3ByaWNlID0gcGFyc2VJbnQoMTAwICogdC5kcC5tYXhfcHJpY2UpOwoJCQkJCXZhciBkID0gdC5zZXJ2ZXIgKyAiL2Jyd2V4dC90YnJlcz91bmlvbj0iICsgdC51bmlvbiArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoci51cmwpICsgIiZzaXRlPSIgKyByLnNpdGUgKyAiJmlzYm49IiArIHIuaXNibiArICIma2V5d29yZHM9IiArIGVuY29kZVVSSUNvbXBvbmVudChyLmtleXdvcmRzKSArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChyLmJyYW5kKSArICImdHlwZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHIudHlwZSkgKyAiJnByaWNlPSIgKyBsICsgIiZjbGFzc19pZD0iICsgci5jbGFzc19pZCArICImbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQuZHAubmFtZSkgKyAiJmNvZGVfYnJhbmRfaWQ9IiArIHMuYnJhbmRfaWQgKyAiJmNvZGVfY2xlYW5fdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmNsZWFuX3RpdGxlKSArICImY29kZV9jb2RlPSIgKyBzLmNvZGUgKyAiJmNvZGVfZGlzcGxheV9icmFuZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuZGlzcGxheV9icmFuZCkgKyAiJmNvZGVfYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmJyYW5kKSArICImY29kZV9jbGFzc19pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuY2xhc3NfaWQpICsgIiZjb2RlX3ByaWNlPSIgKyBlbmNvZGVVUklDb21wb25lbnQocy5wcmljZSkgKyAiJmNvZGVfc3BlYz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuc3BlYykgKyAiJmNvZGUtc2VydmVyPSIgKyBvOwoJCQkJCWEuZ2V0KGQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkidGFvYmFvIiA9PSB0LnNpdGUgfHwgInRtYWxsIiA9PSB0LnNpdGUgfHwgImFpLXRhb2JhbyIgPT0gdC5zaXRlID8gbi5nZXRVbmlxUGlkKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuc2F2ZV90YnJlc19kYXRhID0gZSwgbi5yZW5kZXJUYnJlcyhlKQoJCQkJCQl9KSA6IG4uZ2V0SW1nU2VhcmNoKGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuc2F2ZV90YnJlc19kYXRhID0gZSwgbi5yZW5kZXJUYnJlcyhlKQoJCQkJCQl9KQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCSJyaWdodCIgPT0gdC5zdHlsZSAmJiAoaSgiI3BsdC10bWFsbC1ibG9jayIpLmhpZGUoKSwgaSgiI3BsdC10YW9iYW8tYmxvY2siKS5oaWRlKCkpCgkJCQkJfSkKCQkJCX0KCQkJfSwgZS5leHBvcnRzLnJlbmRlclRicmVzID0gZnVuY3Rpb24oZSkgewoJCQkJZS50bWFsbCA9IHIudGIoZS50bWFsbCksIGUudGFvYmFvID0gci50YihlLnRhb2JhbyksICJ0b3AiID09IHQuc3R5bGUgJiYgKHRoaXMuc2hvd190YW9iYW9fcHJvZHVjdHNfdG9wKGUpLCB0LmZpeFdpZHRoKCkpCgkJCX0sIGUuZXhwb3J0cy5zaG93X3Rhb2Jhb19wcm9kdWN0c190b3AgPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgYSA9IHMuaW5pdCgpLAoJCQkJCXIgPSAi5pyA6L+R6ZSA6YePIjsKCQkJCWUuZnJvbV9zZWxmID09PSAhMCAmJiAociA9ICLmgLvplIDph48iKTsKCQkJCXZhciBjID0gbig3OSk7CgkJCQlpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUudG1hbGwubWluX3ByaWNlICYmIG51bGwgIT09IGUudG1hbGwubWluX3ByaWNlKSB7CgkJCQkJaWYgKDAgPT0gZS5zZWFyY2guaXNfZXhhY3QgJiYgdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID49IDApIHsKCQkJCQkJdmFyIGQgPSBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAiKS5odG1sKCk7CgkJCQkJCWQgPSBkLnJlcGxhY2UoL1x1NTkyOVx1NzMyYi9naSwgIuWkqeeMq+ebuOS8vOasviIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAiKS5odG1sKGQpCgkJCQkJfQoJCQkJCWwuaW5pdCgidG1hbGwiLCBlLnRtYWxsLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAgLmd3ZC1wcmljZSIpLmh0bWwoIiZ5ZW47IiArIGUudG1hbGwubWluX3ByaWNlKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRtYWxsLWRwIikuc2hvdygpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdG1hbGwtZHAtZGV0YWlsIikuYXBwZW5kKG8uY29tcGlsZShjKSh7CgkJCQkJCWRhdGE6IGUudG1hbGwucHJvZHVjdCwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCXdpZHRoOiBhLnR1cm5wVywKCQkJCQkJbGluazogZS50bWFsbC5tb3JlX2xpbmssCgkJCQkJCXNhbGVfdGxlOiByLAoJCQkJCQlhbGxQcm9kdWN0VzogYS5hbGxQcm9kdWN0VwoJCQkJCX0pKSwgaSgiI3RtYWxsLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl0LmNoYW5nZV9wYWdlKCJ0bWFsbCIsIC0xKQoJCQkJCX0pLCBpKCIjdG1hbGwtbmV4dC1wYWdlIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCXQuY2hhbmdlX3BhZ2UoInRtYWxsIiwgMSkKCQkJCQl9KQoJCQkJfQoJCQkJaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBlLnRhb2Jhby5taW5fcHJpY2UgJiYgbnVsbCAhPT0gZS50YW9iYW8ubWluX3ByaWNlKSB7CgkJCQkJaWYgKDAgPT0gZS5zZWFyY2guaXNfZXhhY3QgJiYgdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID49IDApIHsKCQkJCQkJdmFyIGQgPSBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikuaHRtbCgpOwoJCQkJCQlkID0gZC5yZXBsYWNlKC9cdTZkZDhcdTViOWQvZ2ksICLmt5jlrp3nm7jkvLzmrL4iKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcCIpLmh0bWwoZCkKCQkJCQl9CgkJCQkJdmFyIHAgPSBuKDgwKTsKCQkJCQlsLmluaXQoInRhb2JhbyIsIGUudGFvYmFvLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIC5nd2QtcHJpY2UiKS5odG1sKCImeWVuOyIgKyBlLnRhb2Jhby5taW5fcHJpY2UpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikuc2hvdygpLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwLWRldGFpbCIpLmFwcGVuZChvLmNvbXBpbGUocCkoewoJCQkJCQlkYXRhOiBlLnRhb2Jhby5wcm9kdWN0LAoJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJd2lkdGg6IGEudHVybnBXLAoJCQkJCQlsaW5rOiBlLnRhb2Jhby5tb3JlX2xpbmssCgkJCQkJCWFsbFByb2R1Y3RXOiBhLmFsbFByb2R1Y3RXCgkJCQkJfSkpLCBpKCIjdGFvYmFvLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQl0LmNoYW5nZV9wYWdlKCJ0YW9iYW8iLCAtMSkKCQkJCQl9KSwgaSgiI3Rhb2Jhby1uZXh0LXBhZ2UiKS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJdC5jaGFuZ2VfcGFnZSgidGFvYmFvIiwgMSkKCQkJCQl9KQoJCQkJfQoJCQkJInZpcHNob3AiID09PSB0LnNpdGUgPyBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS52YWwodC5kcC5jYXRfbmFtZSB8fCB0LnNhdmVfZHBfcXVlcnkubm93LmNvcmV3b3JkKSA6ICgiIiA9PSBlLnNlYXJjaC5rZXl3b3JkcyAmJiAiIiAhPSB0LmRwLmlzYm4gJiYgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikudmFsKHQuZHAuaXNibiksICIiICE9IGUuc2VhcmNoLmtleXdvcmRzICYmIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLnNlYXJjaC5rZXl3b3JkcykpLCB0LmluaXRfaXRlbV9saXN0KCJ0bWFsbCIpLCB0LnNldF9pdGVtX2FyZ3MoInRtYWxsIiksIHQuc2V0X3BhZ2VfYXJncygidG1hbGwiKSwgdC5sb2FkX2ltYWdlKCJ0bWFsbCIsIDAsIHQucGFnZV9zaXplKSwgdC5pbml0X2l0ZW1fbGlzdCgidGFvYmFvIiksIHQuc2V0X2l0ZW1fYXJncygidGFvYmFvIiksIHQuc2V0X3BhZ2VfYXJncygidGFvYmFvIiksIHQubG9hZF9pbWFnZSgidGFvYmFvIiwgMCwgdC5wYWdlX3NpemUpCgkJCX0sIGUuZXhwb3J0cy5nZXRJbWdTZWFyY2ggPSBmdW5jdGlvbihlLCBpKSB7CgkJCQl2YXIgYSA9IG4oODEpOwoJCQkJaWYgKGUgPSBhLmJ1aWxkQ29tbW9uKGUpLCAibHV5b3UiID09IHQuYnR5cGUpIHJldHVybiB2b2lkIGkoZSk7CgkJCQl2YXIgbyA9IG4oNzEpLAoJCQkJCXIgPSBvLmdldCgiZHBfZGF0YSIpICYmIG8uZ2V0KCJkcF9kYXRhIikuZXhhY3RfYXJyLmJyYW5kX2lkOwoJCQkJcmV0dXJuICIzNjBidXkiICE9IHQuc2l0ZSB8fCAhciB8fCBlLnRhb2Jhby5zb3J0ICYmIGUudG1hbGwuc29ydCA/IHZvaWQgbig4MikuaW5pdChmdW5jdGlvbih0KSB7CgkJCQkJdCA/IChlLnRtYWxsLnNvcnQgJiYgKGUudG1hbGwgPSB7fSksIHQudG1hbGwubGVuZ3RoID4gMCAmJiAoZS50bWFsbC5taW5fcHJpY2UgPSB0LnRtYWxsWzBdLnByaWNlLCBlLnRtYWxsLm1heF9wcmljZSA9IHQudG1hbGxbdC50bWFsbC5sZW5ndGggLSAxXS5wcmljZSwgZS50bWFsbC5zdG9yZSA9IHQudG1hbGwsIGUudG1hbGwucHJvZHVjdCA9IHQudG1hbGwpLCB0LnRhb2Jhby5sZW5ndGggPiAwICYmIChlLnRhb2Jhby5wcm9kdWN0ID0gdC50YW9iYW8sIGUudGFvYmFvLnN0b3JlID0gdC50YW9iYW8sIGUudGFvYmFvLm1pbl9wcmljZSA9IHQudGFvYmFvWzBdLnByaWNlLCBlLnRhb2Jhby5tYXhfcHJpY2UgPSB0LnRhb2Jhb1t0LnRhb2Jhby5sZW5ndGggLSAxXS5wcmljZSksIGUudG1hbGwubW9yZV9saW5rIHx8IChlLnRtYWxsLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBlLnRhb2Jhby5tb3JlX2xpbmsgfHwgKGUudGFvYmFvLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBpKGUpKSA6IGkoZSkKCQkJCX0pIDogdm9pZCBpKGUpCgkJCX0sIGUuZXhwb3J0cy5nZXRVbmlxUGlkID0gZnVuY3Rpb24oZSwgaSkgewoJCQkJdmFyIGEgPSBuKDgxKTsKCQkJCXJldHVybiBlID0gYS5idWlsZENvbW1vbihlKSwgImx1eW91IiA9PSB0LmJ0eXBlID8gdm9pZCBpKGUpIDogdm9pZCBuKDgzKS5nZXRUYW9iYW91bmlxRGF0YShmdW5jdGlvbih0KSB7CgkJCQkJdCA/IChlLnRtYWxsLnNvcnQgJiYgKGUudG1hbGwgPSB7fSksIHQudG1hbGwubGVuZ3RoID4gMCAmJiAoZS50bWFsbC5taW5fcHJpY2UgPSB0LnRtYWxsWzBdLnByaWNlLCBlLnRtYWxsLm1heF9wcmljZSA9IHQudG1hbGxbdC50bWFsbC5sZW5ndGggLSAxXS5wcmljZSwgZS50bWFsbC5zdG9yZSA9IHQudG1hbGwsIGUudG1hbGwucHJvZHVjdCA9IHQudG1hbGwpLCB0LnRhb2Jhby5sZW5ndGggPiAwICYmIChlLnRhb2Jhby5wcm9kdWN0ID0gdC50YW9iYW8sIGUudGFvYmFvLnN0b3JlID0gdC50YW9iYW8sIGUudGFvYmFvLm1pbl9wcmljZSA9IHQudGFvYmFvWzBdLnByaWNlLCBlLnRhb2Jhby5tYXhfcHJpY2UgPSB0LnRhb2Jhb1t0LnRhb2Jhby5sZW5ndGggLSAxXS5wcmljZSksIGUudG1hbGwubW9yZV9saW5rIHx8IChlLnRtYWxsLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBlLnRhb2Jhby5tb3JlX2xpbmsgfHwgKGUudGFvYmFvLm1vcmVfbGluayA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZS5zZWFyY2gua2V5d29yZHMgKyAiJnBpZD0iICsgZS5zZWFyY2gudW5pb24pLCBpKGUpKSA6IGkoZSkKCQkJCX0pCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIG4gPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHRbaV0ubnVtX2lpZCAmJiAodFtpXS5vbGRVcmwgPSB0W2ldLnVybCwgdFtpXS51cmwgPSAiaHR0cHM6Ly9icm93c2VyLmd3ZGFuZy5jb20vY291cG9uX3JlZGlyZWN0P2lkPSIgKyB0W2ldLm51bV9paWQgKyBuKQoJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIGksIGEpIHsKCQkJCWkgJiYgaSBpbnN0YW5jZW9mIEFycmF5ICYmICF0LmFsaVNpdGUgJiYgKGEgPSBhIHx8ICIiLCBuKGUsIGksIGEpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysIFxuICAgICAgPHNwYW4gY2xhc3M9ImN1cnJlbnQtcGFnZSIgaWQ9InRtYWxsLWN1cnJlbnQtcGFnZSI+PC9zcGFuPlxuICAgICAgIOmhte+8jOWFsSBcbiAgICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iIGlkPSJ0bWFsbC1wYWdlLW51bSI+PC9zcGFuPlxuICAgICAgICDpobVcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgdHVybi1wYWdlIiBzdHlsZT0ibGVmdDoxMHB4OyI+XG4gICAgICA8YSBpZD0idG1hbGwtcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBjbGFzcz0ibmV3Yi1iZyIgaHJlZj0iamF2YXNjcmlwdDoiPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8YSBocmVmPSJ7e2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0Yi1tb3JlbGluayI+54K55q2k5p+l55yL5YWo6YOo57uT5p6cPj48L2E+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIiBzdHlsZT0id2lkdGg6e3thbGxQcm9kdWN0V319cHgiPlxuICAgICAgPHVsIGlkPSJ0bWFsbC1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgICAgPGxpIGlkPSJ0bWFsbC1wcm9kLWl0ZW0te3skaW5kZXh9fSIgPlxuICAgICAgICAgICAgPGEgaWQ9ImltZy10bWFsbC17eyR2YWx1ZS5udW1faWlkfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InNtYWxsLWltZyIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L3RlbXBsYXRlL2F1Zy9pbWFnZXMvbmV3LzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLnBpY191cmx9fSIgaWQ9InRtYWxsLWltYWdlLXNtYWxsLXt7JHZhbHVlLm51bV9paWR9fSIgY2xhc3M9Imd3ZGFuZy1sYXp5Ij5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnd2QtcHJpY2UiPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImIyYy1wcmljZS1hIiAgaHJlZj0ie3skdmFsdWUudXJsfX0iPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InN0b3JlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzdG9yZSI+e3skdmFsdWUubmlja319PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iICBjbGFzcz0iZmVlcy1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmVlcyI+e3tzYWxlX3RsZX19e3skdmFsdWUudm9sdW1lfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InRpdGxlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmlnaHQtcGFnZSB0dXJuLXBhZ2UiPlxuICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDoiIGlkPSJ0bWFsbC1uZXh0LXBhZ2UiIGNsYXNzPSJuZXdiLWJnIiB0aXRsZT0i5LiL5LiA6aG1Ij48L2E+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RhbmctdG1hbGwtZHAtZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAudGFvYmFvLWNvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgd2lkdGg6IHt7d2lkdGh9fXB4O1xuICB9XG4gIDwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysIFxuICAgICAgPHNwYW4gY2xhc3M9ImN1cnJlbnQtcGFnZSIgaWQ9InRhb2Jhby1jdXJyZW50LXBhZ2UiPjwvc3Bhbj5cbiAgICAgICDpobXvvIzlhbEgXG4gICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtIiBpZD0idGFvYmFvLXBhZ2UtbnVtIj48L3NwYW4+XG4gICAgICAgIOmhtVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImxlZnQtcGFnZSB0dXJuLXBhZ2UiIHN0eWxlPSJsZWZ0OjEwcHg7Ij5cbiAgICAgIDxhIGlkPSJ0YW9iYW8tcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBjbGFzcz0ibmV3Yi1iZyIgaHJlZj0iamF2YXNjcmlwdDoiPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8YSBocmVmPSJ7e2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0Yi1tb3JlbGluayI+54K55q2k5p+l55yL5YWo6YOo57uT5p6cPj48L2E+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIiBzdHlsZT0id2lkdGg6e3thbGxQcm9kdWN0V319cHgiPlxuICAgICAgPHVsIGlkPSJ0YW9iYW8taXRlbS1saXN0Ij5cbiAgICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgICAgIDxsaSBpZD0idGFvYmFvLXByb2QtaXRlbS17eyRpbmRleH19IiA+XG4gICAgICAgICAgICA8YSBpZD0iaW1nLXRhb2Jhby17eyR2YWx1ZS5udW1faWlkfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InNtYWxsLWltZyIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L3RlbXBsYXRlL2F1Zy9pbWFnZXMvbmV3LzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLnBpY191cmx9fSIgaWQ9InRhb2Jhby1pbWFnZS1zbWFsbC17eyR2YWx1ZS5udW1faWlkfX0iIGNsYXNzPSJnd2RhbmctbGF6eSI+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ3dkLXByaWNlIj5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJiMmMtcHJpY2UtYSIgIGhyZWY9Int7JHZhbHVlLnVybH19Ij7CpXt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJzdG9yZS1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RvcmUiPnt7JHZhbHVlLml0ZW1fbG9jYXRpb259fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiAgY2xhc3M9ImZlZXMtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZlZXMiPuacgOi/kemUgOmHj3t7JHZhbHVlLnZvbHVtZX195Lu2PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ0aXRsZS1hIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57eyR2YWx1ZS50aXRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgdHVybi1wYWdlIj5cbiAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6IiBpZD0idGFvYmFvLW5leHQtcGFnZSIgY2xhc3M9Im5ld2ItYmciIHRpdGxlPSLkuIvkuIDpobUiPjwvYT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI2d3ZGFuZy10YW9iYW8tZHAtZGV0YWlsIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAudGFvYmFvLWNvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgd2lkdGg6IHt7d2lkdGh9fXB4O1xuICB9XG4gIDwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICJiMmMiLAoJCQkJCQlpID0gdC5zYXZlX2RwX3F1ZXJ5ICYmIHQuc2F2ZV9kcF9xdWVyeS5ub3cgJiYgdC5zYXZlX2RwX3F1ZXJ5Lm5vdy5jb3Jld29yZDsKCQkJCQlyZXR1cm4gdC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgdC5zaXRlLmluZGV4T2YoInRtYWxsIikgPiAtMSA/IGUucHVyZVVybCB8fCBlLnVybCA6IHQubmV3X2V4dGVuc2lvbiA/IGUucHVyZVVybCB8fCBlLnVybCA6ICJodHRwOi8vIiArIG4gKyAiLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9wcm9tb3Rpb24vbWlkZGxlcGFnZT9zb3VyY2U9IiArIGUuc291cmNlICsgIiZpbWdfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5pbWdfdXJsKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNob3BfbmFtZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuc2hvcF9uYW1lKSArICImc2FsZXM9IiArIGUuc2FsZXMgKyAiJmlkPSIgKyBlLmlkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCkgKyAiJmRpc2N1c3M9IiArIGUuZGlzY3VzcyArICImaXN0YW9iYW89IiArIGUuaXN0YW9iYW8gKyAiJmRwX2lkPSIgKyBlLmRwX2lkICsgIiZzaXRlX2lkPSIgKyBlLnNpdGVfaWQgKyAiJmtleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChpKQoJCQkJfSwKCQkJCWUuZXhwb3J0cy5idWlsZENvbW1vbiA9IGZ1bmN0aW9uKG4pIHsKCQkJCQlpZiAoIShuLnRtYWxsIGluc3RhbmNlb2YgQXJyYXkpKQoJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IG4udG1hbGwucHJvZHVjdC5sZW5ndGg7IGkrKykgewoJCQkJCQkJdmFyIGEgPSBuLnRtYWxsLnByb2R1Y3RbaV0sCgkJCQkJCQkJbyA9IHsKCQkJCQkJCQkJc291cmNlOiAiY29tbW9uIiwKCQkJCQkJCQkJaW1nX3VybDogYS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogYS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGEucHJpY2UsCgkJCQkJCQkJCXNob3BfbmFtZTogYS5uaWNrLAoJCQkJCQkJCQlzYWxlczogYS52b2x1bWUgfHwgIjAiLAoJCQkJCQkJCQlpZDogYS5udW1faWlkLAoJCQkJCQkJCQl1cmw6IGEudXJsLAoJCQkJCQkJCQlkaXNjdXNzOiBhLmNvbW1lbnRfY291bnQgfHwgIjAiLAoJCQkJCQkJCQlpc3Rhb2JhbzogIjAiLAoJCQkJCQkJCQlwdXJlVXJsOiAiaHR0cHM6Ly9kZXRhaWwudG1hbGwuY29tL2l0ZW0uaHRtP2lkPSIgKyBhLm51bV9paWQsCgkJCQkJCQkJCWRwX2lkOiB0Lm5vd19kcF9pZCwKCQkJCQkJCQkJc2l0ZV9pZDogdC5zaXRlX2lkCgkJCQkJCQkJfTsKCQkJCQkJCXQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEgPyBhLnVybCA9IG8ucHVyZVVybCA6IGEudXJsID0gZS5leHBvcnRzKG8pCgkJCQkJCX0KCQkJCQlpZiAoIShuLnRhb2JhbyBpbnN0YW5jZW9mIEFycmF5KSkKCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBuLnRhb2Jhby5wcm9kdWN0Lmxlbmd0aDsgaSsrKSB7CgkJCQkJCQl2YXIgYSA9IG4udGFvYmFvLnByb2R1Y3RbaV0sCgkJCQkJCQkJbyA9IHsKCQkJCQkJCQkJc291cmNlOiAiY29tbW9uIiwKCQkJCQkJCQkJaW1nX3VybDogYS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogYS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGEucHJpY2UsCgkJCQkJCQkJCXNob3BfbmFtZTogIiIsCgkJCQkJCQkJCXNhbGVzOiBhLnZvbHVtZSB8fCAiMCIsCgkJCQkJCQkJCWlkOiBhLm51bV9paWQsCgkJCQkJCQkJCXVybDogYS51cmwsCgkJCQkJCQkJCWRpc2N1c3M6IGEuY29tbWVudF9jb3VudCB8fCAiMCIsCgkJCQkJCQkJCWlzdGFvYmFvOiAiMSIsCgkJCQkJCQkJCXB1cmVVcmw6ICJodHRwczovL2l0ZW0udGFvYmFvLmNvbS9pdGVtLmh0bT9pZD0iICsgYS5udW1faWlkLAoJCQkJCQkJCQlkcF9pZDogdC5ub3dfZHBfaWQsCgkJCQkJCQkJCXNpdGVfaWQ6IHQuc2l0ZV9pZAoJCQkJCQkJCX07CgkJCQkJCQl0LnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCB0LnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xID8gYS51cmwgPSBvLnB1cmVVcmwgOiBhLnVybCA9IGUuZXhwb3J0cyhvKQoJCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDI4KSwKCQkJCW8gPSBuKDgxKSwKCQkJCXIgPSBuKDcxKSwKCQkJCXMgPSB2b2lkIDAsCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9ICExLAoJCQkJZCA9IDRlMywKCQkJCXAgPSAhMSwKCQkJCWggPSBbInZpcHNob3AiLCAibW9ndWppZSIsICJtZWlsaXNodW8iLCAiYW1hem9uIiwgInlvdWdvdSIsICJ5b2hvYnV5IiwgIjZwbSIsICJ5aW50YWkiLCAiYmFuZ2dvIiwgInhpdSIsICJ2YW5jbCIsICJzaG9wYm9wIiwgInNob3BpbiIsICJzIiwgIm1hc2FtYXNvIiwgInNlY29vIiwgIm1laSIsICJnYXAiLCAicGFpeGllIiwgIm1vb25iYXNhIiwgIm1laWNpIiwgIm1hY3lzIiwgIm15aGFiaXQiLCAiemhlbiIsICJnaWx0IiwgIm1iYW9iYW8iLCAid2FuZ2Z1amluZyIsICJsZXRhbyIsICJjYW1lbCIsICJoYW5kdSIsICJtZjkxMCIsICI1bHV4IiwgImQxIiwgInRhb3hpZSIsICJtMTgiLCAidGhld2F0Y2hlcnkiLCAiZXNjZW50dWFsIiwgImJpY2NhbWVyYSIsICJ6aGU4MDAiXTsKCQkJbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xICYmIC0xID09IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiY24iKSAmJiAoZCA9IDFlNCk7CgkJCXZhciB1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gW10sCgkJCQkJCW4gPSBbXSwKCQkJCQkJaSA9IFtdOwoJCQkJCXRyeSB7CgkJCQkJCXZhciBhID0gSlNPTi5wYXJzZShlKSwKCQkJCQkJCXIgPSBhLm1vZHMuaXRlbWxpc3QuZGF0YS5jb2xsZWN0aW9uczsKCQkJCQkJaWYgKDAgPT0gci5sZW5ndGgpIHJldHVybjsKCQkJCQkJaWYgKDIgPT0gci5sZW5ndGggJiYgIuWkluinguebuOS8vOWunei0nSIgPT0gclswXS50aXRsZSkKCQkJCQkJCWZvciAodmFyIGQgPSByWzBdLmF1Y3Rpb25zLCBwID0gZC5sZW5ndGggPiAyMCA/IDIwIDogZC5sZW5ndGgsIGggPSAwOyBwID4gaDsgaCsrKSB7CgkJCQkJCQkJdmFyIHUgPSB7fSwKCQkJCQkJCQkJZiA9ICIwLjAwIiA9PSBkW2hdLnZpZXdfZmVlID8gIuWMhemCriIgOiAiIjsKCQkJCQkJCQl1Lm5pY2sgPSBkW2hdLm5pY2ssIHUubnVtX2lpZCA9IGRbaF0ubmlkLCB1LnRpdGxlID0gZFtoXS50aXRsZSwgdS5wcmljZSA9IGRbaF0udmlld19wcmljZSwgdS5pdGVtX2xvY2F0aW9uID0gZFtoXS5pdGVtX2xvYywgdS5zdG9yZV9uYW1lID0gZFtoXS5uaWNrICsgZiwgdS5waWNfdXJsID0gImh0dHA6IiArIGRbaF0ucGljX3VybCwgdS52b2x1bWUgPSBkW2hdLnZpZXdfc2FsZXMucmVwbGFjZSgi5Lq65LuY5qy+IiwgIiIpLCB1LnBpY191cmwubWF0Y2goL2pwZ19bMC05XSt4WzAtOV0vKSB8fCAodS5waWNfdXJsID0gdS5waWNfdXJsLnJlcGxhY2UoLyhcLnBuZ3xcLmpwZykvLCAiJDFfMTAweDEwMC5qcGciKSk7CgkJCQkJCQkJdmFyIGcgPSB7CgkJCQkJCQkJCXNvdXJjZTogImltZ19zZWFyY2giLAoJCQkJCQkJCQlpbWdfdXJsOiAiaHR0cDoiICsgZFtoXS5waWNfdXJsLAoJCQkJCQkJCQl0aXRsZTogZFtoXS50aXRsZSwKCQkJCQkJCQkJcHJpY2U6IGRbaF0udmlld19wcmljZSwKCQkJCQkJCQkJc2hvcF9uYW1lOiBkW2hdLm5pY2sgKyBmLAoJCQkJCQkJCQlzYWxlczogZFtoXS52aWV3X3NhbGVzLnJlcGxhY2UoIuS6uuS7mOasviIsICIiKSwKCQkJCQkJCQkJaWQ6IGRbaF0ubmlkLAoJCQkJCQkJCQl1cmw6ICJodHRwczoiICsgZFtoXS5kZXRhaWxfdXJsLAoJCQkJCQkJCQlkaXNjdXNzOiBkW2hdLmNvbW1lbnRfY291bnQsCgkJCQkJCQkJCWlzdGFvYmFvOiBkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiMCIgOiAiMSIsCgkJCQkJCQkJCWRwX2lkOiBkW2hdLm5pZCArICItIiArIChkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEpID8gIjgzIiA6ICIxMjMiLAoJCQkJCQkJCQlzaXRlX2lkOiBkW2hdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiODMiIDogIjEyMyIKCQkJCQkJCQl9OwoJCQkJCQkJCXUudXJsID0gbyhnKSwgZFtoXS5kZXRhaWxfdXJsLmluZGV4T2YoImRldGFpbC50bWFsbC5jb20iKSA+IC0xID8gbi5wdXNoKHUpIDogdC5wdXNoKHUpCgkJCQkJCQl9IGVsc2UgaWYgKDEgPT0gci5sZW5ndGggJiYgIuaCqOWPr+iDveS8muWWnOasoiIgPT0gclswXS50aXRsZSB8fCAyID09IHIubGVuZ3RoICYmICLmgqjlj6/og73kvJrllpzmrKIiID09IHJbMV0udGl0bGUpCgkJCQkJCQkJZm9yICh2YXIgXyA9IHJbci5sZW5ndGggLSAxXS5hdWN0aW9ucywgaCA9IDA7IGggPCBfLmxlbmd0aDsgaCsrKSB7CgkJCQkJCQkJCXZhciB1ID0ge307CgkJCQkJCQkJCXUudXJsID0gImh0dHBzOiIgKyBfW2hdLmRldGFpbF91cmwsIHUucGljX3VybCA9IF9baF0ucGljX3VybCwgdS50aXRsZSA9IF9baF0udGl0bGUsIHUubnVtX2lpZCA9IF9baF0ubmlkLCB1LnByaWNlID0gX1toXS52aWV3X3ByaWNlLCB1LnZvbHVtZSA9IF9baF0udmlld19zYWxlcywgdS5uaWNrID0gX1toXS5uaWNrLCBpLnB1c2godSkKCQkJCQkJCQl9CgkJCQkJCQl0ID0gbSh0KSwgbiA9IG0obiksIHMgPSB7CgkJCQkJCQl0YW9iYW86IHQsCgkJCQkJCQl0bWFsbDogbiwKCQkJCQkJCWd1ZXNzZmF2b3I6IGkKCQkJCQkJfSwgbCAmJiAhYyAmJiAobChzKSwgYyA9ICEwKQoJCQkJCX0gY2F0Y2ggKHgpIHt9CgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZS5zb3J0ID8gZSA9IGUuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXJldHVybiBOdW1iZXIoZS5wcmljZSkgPiBOdW1iZXIodC5wcmljZSkgPyAxIDogTnVtYmVyKGUucHJpY2UpID09IE51bWJlcih0LnByaWNlKSA/IDAgOiAtMQoJCQkJCX0pIDogdm9pZCAwCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gewoJCQkJCQkiMzYwYnV5IjogIiNwcmV2aWV3IC5qcXpvb20gaW1nIiwKCQkJCQkJZ29tZTogIi5qcXpvb20gaW1nIiwKCQkJCQkJc3VuaW5nOiAiI2ltZ1pvb20gI2JpZ0ltYWdlIiwKCQkJCQkJeWloYW9kaWFuOiAiI0pfcHJvZEltZyIsCgkJCQkJCXZhbmNsOiAiI21pZGltZyIsCgkJCQkJCXNob3BpbjogIiN6b29tMSBpbWciLAoJCQkJCQlzZWNvbzogIi5qcXpvb20iLAoJCQkJCQltZWk6ICIjYmlnaW1nIiwKCQkJCQkJbWVpY2k6ICIuem9vbVBhZCBpbWciLAoJCQkJCQltYWN5czogIiNtYWluVmlld18xIiwKCQkJCQkJdGFveGllOiAiI3RfUHJldmlld0ltYWdlIGltZyIsCgkJCQkJCWQxOiAiLmdzX3JpZ2h0X3NwaW1nIGltZyIsCgkJCQkJCSI1bHV4IjogIi5jbG91ZHpvb20iLAoJCQkJCQltZjkxMDogIiNvcF9wcm9kdWN0X3pvb20gaW1nIiwKCQkJCQkJaGFuZHU6ICIjbWFzdGVySW1hZ2UiLAoJCQkJCQljYW1lbDogIiNpbWdfanF6b29tIiwKCQkJCQkJbGV0YW86ICIjc2ltZ291dGVyIGltZyIsCgkJCQkJCXdhbmdmdWppbmc6ICIuem9vbVBhZCAubGF6eS1waWMiLAoJCQkJCQl6aGVuOiAiI3pvb20xIC5hX21heF9waWMiLAoJCQkJCQlzaG9wYm9wOiAiI3Byb2R1Y3RJbWFnZSIsCgkJCQkJCXlvaG9idXk6ICIjaW1nLXNob3ciLAoJCQkJCQl0YW9iYW86ICIjSl9JbWdCb290aCIsCgkJCQkJCXRoZXdhdGNoZXJ5OiAiI2RldGFpbGltYWdlIiwKCQkJCQkJYW1hem9uOiAiI2FsdEltYWdlcyB1bCBsaSBpbWciLAoJCQkJCQltb2d1amllOiAiI2JvZHlfd3JhcCAuYmFubmVyX3Nob3cgLmZpbGxfaW1nIiwKCQkJCQkJZXNjZW50dWFsOiAiI3pvb20xIGltZyIsCgkJCQkJCWJpY2NhbWVyYTogIiNQUk9ELUNVUlJFTlQtSU1HIiwKCQkJCQkJemhlODAwOiAiI2RldGFpbCAuZGV0ZWlscGljIHVsIGxpIGltZyIsCgkJCQkJCXRtYWxsOiAiI0pfSW1nQm9vdGgiCgkJCQkJfTsKCQkJCQlpZiAoZVt0LnNpdGVdKSB7CgkJCQkJCXZhciBuID0gaShlW3Quc2l0ZV0pLmVxKDApLmF0dHIoInNyYyIpOwoJCQkJCQlpZiAoInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgbiAmJiBuLm1hdGNoKC9TUlswLTldKyxbMC05XSsvKSkgbiA9IG4ucmVwbGFjZSgvU1IoWzAtOV0rKVwsKFswLTldKykvLCAiU1IkMTAsJDIwIik7CgkJCQkJCWVsc2UgaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiYW1hem9uIikgPiAtMSkgcmV0dXJuICExOwoJCQkJCQlyZXR1cm4gbiAmJiAhbi5tYXRjaCgvKD86aHR0cDp8aHR0cHM6KS8pICYmIG4uaW5kZXhPZigiLy8iKSA+IC0xICYmIChuID0gImh0dHA6IiArIG4pLCAiemhlODAwIiA9PT0gdC5zaXRlICYmIChuID0gbi5yZXBsYWNlKCI1OHg1OC5qcGciLCAiMjIweDIyMC5qcGciKSksIG4KCQkJCQl9CgkJCQkJcmV0dXJuICExCgkJCQl9LAoJCQkJZyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGYoKTsKCQkJCQkoaC5pbmRleE9mKHQuc2l0ZSkgPiAtMSAmJiAid3d3LmFtYXpvbi5jbiIgIT0gbG9jYXRpb24uaG9zdCB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoIjE2ODgiKSA+IC0xIHx8IGUpICYmIChlID0gITAsIGEudHJpZ2dlcih7CgkJCQkJCXR5cGU6ICJnZXRUYW9iYW9JbWdJbmZvIiwKCQkJCQkJc3JjOiBuCgkJCQkJfSksIGEub24oZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoImdldFRhb2Jhb0ltZ0luZm8iID09IGUudHlwZSkgewoJCQkJCQkJdmFyIHQgPSBpKCIjZ3dkX2ltZ19pbmZvIikudGV4dCgpOwoJCQkJCQkJIiIgIT0gdCAmJiB1KHQpCgkJCQkJCX0KCQkJCQl9KSkKCQkJCX07CgkJCWUuZXhwb3J0cy5yZWFkeSA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCEoInRhb2JhbyIgPT0gdC5zaXRlIHx8ICJ0bWFsbCIgPT0gdC5zaXRlIHx8IHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xKSkgewoJCQkJCXZhciBlID0gci5nZXQoImRwX2RhdGEiKSwKCQkJCQkJbiA9IGUgJiYgZS5ub3cuY2xhc3NfaWQsCgkJCQkJCWkgPSBlICYmIGVbImNvZGUtc2VydmVyIl0uY29kZTsKCQkJCQkiYW1hem9uIiA9PT0gdC5zaXRlICYmIGkgfHwgKG4gJiYgKG4gPSBuLnNsaWNlKDAsIDIpKSwgKCIxMyIgPT0gbiB8fCAiMjQiID09IG4gfHwgIjFBIiA9PSBuIHx8ICIyMSIgPT0gbikgJiYgKHAgPSAhMCksIGcocCkpCgkJCQl9CgkJCX0sIGUuZXhwb3J0cy51bmlxUGlkR2V0SW1nID0gZnVuY3Rpb24oZSkgewoJCQkJZyghMCksIGwgPSBlCgkJCX0sIGUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJcmV0dXJuIHAgfHwgLTEgIT0gaC5pbmRleE9mKHQuc2l0ZSkgPyAocyA/IChlKHMpLCBjID0gITApIDogbCA9IGUsIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlsICYmIGMgPT09ICExICYmIChsKG51bGwpLCBjID0gITApCgkJCQl9LCBkKSkgOiB2b2lkIGUobnVsbCkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbigyOCksCgkJCQlyID0gbig4MSksCgkJCQlzID0gdm9pZCAwLAoJCQkJbCA9IHZvaWQgMCwKCQkJCWMgPSAhMSwKCQkJCWQgPSAyNTAwLAoJCQkJcCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoIiIgIT0gZSkgewoJCQkJCQl2YXIgbiA9IHQuc2VydmVyICsgIi9leHRlbnNpb24/YWM9Z2V0dW5pcXBpZCZuaWQ9IiArIGU7CgkJCQkJCWEuZ2V0KG4pLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQkJdCAmJiB0LnVuaXFpZCA/IGgoZSwgdC51bmlxaWQpIDogZigpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB7CgkJCQkJCW5pZDogZSwKCQkJCQkJdW5pcWlkOiB0CgkJCQkJfTsKCQkJCQlvLnRyaWdnZXIoewoJCQkJCQl0eXBlOiAiZ2V0VGFvYmFvdW5pcSIsCgkJCQkJCWluZm86IEpTT04uc3RyaW5naWZ5KG4pCgkJCQkJfSksIG8ub24oZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoImdldFRhb2Jhb3VuaXEiID09IGUudHlwZSkgewoJCQkJCQkJdmFyIHQgPSBpKCIjZ3dkX3VuaXFfaW5mbyIpLnRleHQoKTsKCQkJCQkJCSIiICE9IHQgJiYgbSh0KQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLnNvcnQgPyBlID0gZS5zb3J0KGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcmV0dXJuIE51bWJlcihlLnByaWNlKSA+IE51bWJlcih0LnByaWNlKSA/IDEgOiBOdW1iZXIoZS5wcmljZSkgPT0gTnVtYmVyKHQucHJpY2UpID8gMCA6IC0xCgkJCQkJfSkgOiB2b2lkIDAKCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCXRyeSB7CgkJCQkJCXZhciB0ID0gSlNPTi5wYXJzZShlKTsKCQkJCQkJdCA9IHQubW9kcy5yZWNpdGVtLmRhdGEuaXRlbXM7CgkJCQkJCXZhciBuID0gW10sCgkJCQkJCQlpID0gW107CgkJCQkJCWlmICghdCkgcmV0dXJuOwoJCQkJCQlmb3IgKHZhciBhID0gMCwgbyA9IHQubGVuZ3RoOyBvID4gYTsgYSsrKSB7CgkJCQkJCQl2YXIgZCA9IHt9LAoJCQkJCQkJCXAgPSAiMC4wMCIgPT0gdFthXS52aWV3X2ZlZSA/ICLljIXpgq4iIDogIiI7CgkJCQkJCQlkLm5pY2sgPSB0W2FdLm5pY2ssIGQubnVtX2lpZCA9IHRbYV0ubmlkLCBkLnRpdGxlID0gdFthXS50aXRsZSwgZC5wcmljZSA9IHRbYV0udmlld19wcmljZSwgZC5pdGVtX2xvY2F0aW9uID0gdFthXS5pdGVtX2xvYywgZC5zdG9yZV9uYW1lID0gdFthXS5uaWNrICsgcCwgZC5waWNfdXJsID0gImh0dHA6IiArIHRbYV0ucGljX3VybCwgZC52b2x1bWUgPSB0W2FdLnZpZXdfc2FsZXMucmVwbGFjZSgi5Lq65LuY5qy+IiwgIiIpOwoJCQkJCQkJdmFyIGggPSB7CgkJCQkJCQkJc291cmNlOiAic2FtZV9zdHlsZSIsCgkJCQkJCQkJaW1nX3VybDogImh0dHA6IiArIHRbYV0ucGljX3VybCwKCQkJCQkJCQl0aXRsZTogdFthXS50aXRsZSwKCQkJCQkJCQlwcmljZTogdFthXS52aWV3X3ByaWNlLAoJCQkJCQkJCXNob3BfbmFtZTogdFthXS5uaWNrICsgcCwKCQkJCQkJCQlzYWxlczogdFthXS52aWV3X3NhbGVzLnJlcGxhY2UoIuS6uuS7mOasviIsICIiKSwKCQkJCQkJCQlpZDogdFthXS5uaWQsCgkJCQkJCQkJdXJsOiAiaHR0cHM6IiArIHRbYV0uZGV0YWlsX3VybCwKCQkJCQkJCQlkaXNjdXNzOiB0W2FdLmNvbW1lbnRfY291bnQsCgkJCQkJCQkJaXN0YW9iYW86IHRbYV0uZGV0YWlsX3VybC5pbmRleE9mKCJkZXRhaWwudG1hbGwuY29tIikgPiAtMSA/ICIwIiA6ICIxIiwKCQkJCQkJCQlkcF9pZDogdFthXS5uaWQgKyAiLSIgKyAodFthXS5kZXRhaWxfdXJsLmluZGV4T2YoImRldGFpbC50bWFsbC5jb20iKSA+IC0xID8gIjgzIiA6ICIxMjMiKSwKCQkJCQkJCQlzaXRlX2lkOiB0W2FdLmRldGFpbF91cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsLmNvbSIpID4gLTEgPyAiODMiIDogIjEyMyIKCQkJCQkJCX07CgkJCQkJCQlkLnVybCA9IHIoaCksIHRbYV0uZGV0YWlsX3VybC5pbmRleE9mKCJkZXRhaWwudG1hbGwuY29tIikgPiAtMSA/IGkucHVzaChkKSA6IG4ucHVzaChkKQoJCQkJCQl9CgkJCQkJCW4gPSB1KG4pLCBpID0gdShpKSwgcyA9IHsKCQkJCQkJCXRhb2JhbzogbiwKCQkJCQkJCXRtYWxsOiBpCgkJCQkJCX0sIGwgJiYgIWMgJiYgKGwocyksIGMgPSAhMCkKCQkJCQl9IGNhdGNoIChtKSB7fQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IFsiNTA1MTAwMDIiLCAiNTAwMTIwMjkiLCAiNTAwMTM4NjQiLCAiNTAwMTEzOTciLCAiNTAwMTA0MDQiLCAiMTYyNSIsICI1MDAwNjg0MiIsICI1MDAwNjg0MyIsICIxNiIsICI1MDAxMTc0MCIsICI1MDAxMTY5OSIsICI1MDAwODE2NSIsICI1MDAwODE2MyIsICIzMCIsICI1MDAyMDg1NyIsICI1MDAyMDgwOCJdLAoJCQkJCQlpID0gdC5kcC5yb290X2lkOwoJCQkJCWkgJiYgZS5pbmRleE9mKGkpID4gLTEgPyAobig4MikudW5pcVBpZEdldEltZyhmdW5jdGlvbihlKSB7CgkJCQkJCWwgPyAobChlKSwgYyA9ICEwKSA6IHMgPSBlCgkJCQkJfSksIGQgPSA2ZTMpIDogZCA9IDEKCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRtYWxsIikgPiAtMSkgewoJCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYubWF0Y2goL1s/Jl1pZD0oWzAtOV0rKS8pOwoJCQkJCQllICYmIGUubGVuZ3RoICYmIChlID0gZVsxXSwgcChlKSkKCQkJCQl9CgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpICYmIG8udHJpZ2dlcih7CgkJCQkJdHlwZTogImdldF9ldGFvX2luZm8iCgkJCQl9KSwgKCJ0YW9iYW8iID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSkgJiYgZygpCgkJCX0sIGUuZXhwb3J0cy5nZXRUYW9iYW91bmlxRGF0YSA9IGZ1bmN0aW9uKGUpIHsKCQkJCXMgPyAoZShzKSwgYyA9ICEwKSA6IGwgPSBlLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCWwgJiYgYyA9PT0gITEgJiYgKGwobnVsbCksIGMgPSAhMCkKCQkJCX0sIGQpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDc0KSwKCQkJCXIgPSBuKDc4KSwKCQkJCXMgPSB7fSwKCQkJCWwgPSB7fSwKCQkJCWMgPSB2b2lkIDAsCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiLmNvbXBhcmUtbGlzdCIpLm9mZigpLCB0KCIubWFpbi1jb21wYXJlIC50cmlnaHQsIC5tYWluLWNvbXBhcmUgLnRsZWZ0Iikub2ZmKCksIHQoIi5jb21wYXJlLWJveCIpLm9mZigpLCB0KCIubWFpbi1jb21wYXJlIC50cmlnaHQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaWYgKHMubm93cGFnZSArIDEgIT09IHMucGFnZXMpIHsKCQkJCQkJCXMubm93cGFnZSsrLCB0KCIuY29tcGFyZS1saXN0PmxpIikuaGlkZSgpOwoJCQkJCQkJZm9yICh2YXIgZSA9IHMucGFnZU51bSAqIHMubm93cGFnZTsgZSA8IHMucGFnZU51bSAqIChzLm5vd3BhZ2UgKyAxKTsgZSsrKSB0KCIuY29tcGFyZS1saXN0PmxpIikuZXEoZSkuc2hvdygpOwoJCQkJCQkJMSA9PT0gcy5ub3dwYWdlICYmIHQoIi5tYWluLWNvbXBhcmUgLnRsZWZ0Iikuc2hvdygpLCBzLm5vd3BhZ2UgKyAxID09PSBzLnBhZ2VzICYmIHQoIi5tYWluLWNvbXBhcmUgLnRyaWdodCIpLmFkZENsYXNzKCJiamQtZ3JheSIpCgkJCQkJCX0KCQkJCQl9KSwgdCgiLm1haW4tY29tcGFyZSAudGxlZnQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcy5ub3dwYWdlLS0sIHQoIi5jb21wYXJlLWxpc3Q+bGkiKS5oaWRlKCk7CgkJCQkJCWZvciAodmFyIGUgPSBzLnBhZ2VOdW0gKiBzLm5vd3BhZ2U7IGUgPCBzLnBhZ2VOdW0gKiAocy5ub3dwYWdlICsgMSk7IGUrKykgdCgiLmNvbXBhcmUtbGlzdD5saSIpLmVxKGUpLnNob3coKTsKCQkJCQkJcy5ub3dwYWdlICsgMSA8IHMucGFnZXMgJiYgdCgiLm1haW4tY29tcGFyZSAudHJpZ2h0IikucmVtb3ZlQ2xhc3MoImJqZC1ncmF5IiksIDAgPT09IHMubm93cGFnZSAmJiB0KCIubWFpbi1jb21wYXJlIC50bGVmdCIpLmhpZGUoKQoJCQkJCX0pLCB0KCIuY29tcGFyZS1saXN0Iikub24oIm1vdXNlZW50ZXIiLCAibGkiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQoIi5jb21wYXJlLWxpc3Q+bGkiKS5yZW1vdmVDbGFzcygiYmFyLWl0ZW0taG92ZXIiKTsKCQkJCQkJdmFyIG4gPSB0KHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJdCh0aGlzKS5maW5kKCIuYnRjb20tZGV0YWlsIikubGVuZ3RoID4gMCA/IHQodGhpcykuZmluZCgiLmJ0Y29tLWRldGFpbCIpLnNob3coKSA6IG4gJiYgbShuLCB0KHRoaXMpKSwgdCh0aGlzKS5hZGRDbGFzcygiYmFyLWl0ZW0taG92ZXIiKQoJCQkJCX0pLCB0KCIuY29tcGFyZS1saXN0Iikub24oIm1vdXNlbGVhdmUiLCAibGkiLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gdGhpczsKCQkJCQkJdChuKS5yZW1vdmVDbGFzcygiYmFyLWl0ZW0taG92ZXIiKSwgdChuKS5maW5kKCIuYnRjb20tZGV0YWlsIikuaGlkZSgpCgkJCQkJfSksIHQoIi5jb21wYXJlLWJveCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdChlLnRhcmdldCkuaGFzQ2xhc3MoInR1cm5sZWZ0IikgPyBwKHQoZS50YXJnZXQpLCAtMSkgOiB0KGUudGFyZ2V0KS5oYXNDbGFzcygidHVybnJpZ2h0IikgJiYgcCh0KGUudGFyZ2V0KSwgMSkKCQkJCQl9KQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGkgPSB0KGUpLnBhcmVudCgpLnBhcmVudCgpLAoJCQkJCQlhID0gaS5maW5kKCIuYWxsLXByb2R1Y3RzIC5idGNvbS1saXN0IGxpIiksCgkJCQkJCW8gPSBhLmxlbmd0aCwKCQkJCQkJciA9IE51bWJlcihpLmZpbmQoIi5iamQtcGFnZXMgLmN1cnJlbnQtcGFnZSIpLnRleHQoKSksCgkJCQkJCXMgPSBOdW1iZXIoaS5maW5kKCIuYmpkLXBhZ2VzIC5wYWdlLW51bSIpLnRleHQoKSk7CgkJCQkJaS5maW5kKCIuYWxsLXByb2R1Y3RzIC5idGNvbS1saXN0IGxpIikuaGlkZSgpLCAxID09PSBuID8gcisrIDogLTEgPT09IG4gJiYgci0tLCAwID09PSByICYmIChyID0gcyksIHIgPT09IHMgKyAxICYmIChyID0gMSk7CgkJCQkJZm9yICh2YXIgbCA9IHIgKiBjLnNob3dMaXN0TnVtID4gbyA/IG8gOiByICogYy5zaG93TGlzdE51bSwgZCA9IChyIC0gMSkgKiBjLnNob3dMaXN0TnVtOyBsID4gZDsgZCsrKSB7CgkJCQkJCWEuZXEoZCkuc2hvdygpOwoJCQkJCQl2YXIgcCA9IGEuZXEoZCkuZmluZCgiLmNvbS1pdGVtLWltZyBpbWciKTsKCQkJCQkJaChwKQoJCQkJCX0KCQkJCQlpLmZpbmQoIi5iamQtcGFnZXMgLmN1cnJlbnQtcGFnZSIpLnRleHQocikKCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gZS5hdHRyKCJkYXRhLXNyYyIpOwoJCQkJCWlmIChuKSB7CgkJCQkJCXZhciBhID0gbmV3IEltYWdlOwoJCQkJCQlhLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJMSA9PSBhLmNvbXBsZXRlICYmIHQoZSkuYXR0cigic3JjIiwgbikuYXR0cigiZGF0YS1zcmMiLCBudWxsKQoJCQkJCQl9LCBhLm9uZXJyb3IgPSBmdW5jdGlvbihuKSB7CgkJCQkJCQl2YXIgYSA9IHQoZSlbMF07CgkJCQkJCQl0KGUpWzBdICYmIChhLnNyYyA9IGkuc19zZXJ2ZXIgKyAiL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci9ub19pbWcucG5nIiwgYS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwgaS5zX3NlcnZlciArICIvaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL25vX2ltZy5wbmciKSkKCQkJCQkJfSwgYS5zcmMgPSBuCgkJCQkJfQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKQoJCQkJCQlpZiAoZVtuXS5wcmljZSA9IE51bWJlcihlW25dLnByaWNlLnJlcGxhY2UoIiwiLCAiIikpLnRvRml4ZWQoMiksIGVbbl0uaW1nX3VybCB8fCAoZVtuXS5pbWdfdXJsID0gZVtuXS5waWNfdXJsKSwgZVtuXS5zaXRlX25hbWUgfHwgKGVbbl0uc2l0ZV9uYW1lID0gZVtuXS5uaWNrKSwgdCAmJiBlW25dLmltZ191cmwubWF0Y2goL19cZCt4XGQrLykpIHsKCQkJCQkJCXZhciBpID0gZVtuXS5pbWdfdXJsLm1hdGNoKC9fKFxkKyl4XGQrLyk7CgkJCQkJCQlpICYmIChpID0gTnVtYmVyKGlbMV0pLCBpID4gMjAwICYmIChlW25dLmltZ191cmwgPSBlW25dLmltZ191cmwgKyAiXzEwMHgxMDAiKSkKCQkJCQkJfSBlbHNlIHQgJiYgKGVbbl0uaW1nX3VybCA9IGVbbl0uaW1nX3VybCArICJfMTAweDEwMCIpOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKGUsIGkpIHsKCQkJCQl2YXIgbyA9IGxbZV0ubGVuZ3RoLAoJCQkJCQlyID0gdm9pZCAwOwoJCQkJCW8gPiBjLnNob3dMaXN0TnVtICYmIChyID0gITApOwoJCQkJCXZhciBzID0gTWF0aC5jZWlsKG8gLyBjLnNob3dMaXN0TnVtKSwKCQkJCQkJZCA9IG4oODUpLAoJCQkJCQlwID0gYS5jb21waWxlKGQpKHsKCQkJCQkJCWRhdGE6IGxbZV0sCgkJCQkJCQlzaG93cGFnZXM6IHIsCgkJCQkJCQlwcm93aWR0aDogYy5hbGxQcm9kdWN0VywKCQkJCQkJCXR1cm5wVzogYy50dXJucFcsCgkJCQkJCQlwYWdlczogcwoJCQkJCQl9KTsKCQkJCQl0KGkpLmFwcGVuZChwKTsKCQkJCQlmb3IgKHZhciB1ID0gMDsgdSA8IE1hdGgubWluKGMuc2hvd0xpc3ROdW0sIG8pOyB1KyspIHsKCQkJCQkJdmFyIG0gPSB0KGkpLmZpbmQoIi5idGNvbS1kZXRhaWwgbGkgLmNvbS1pdGVtLWltZyBpbWciKS5lcSh1KTsKCQkJCQkJaChtKQoJCQkJCX0KCQkJCQlyIHx8IGcobywgaSkKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICghKGkuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGkuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKSB7CgkJCQkJCXZhciByID0gNzI4LAoJCQkJCQkJYyA9IDk4LAoJCQkJCQkJcCA9IFtdLAoJCQkJCQkJaCA9IGUuc3RvcmUubGVuZ3RoLAoJCQkJCQkJbSA9IG8uY2FsQm90dG9tQmFyKCk7CgkJCQkJCW0gPj0gciArIGMgPyAocy5wYWdlTnVtID0gNywgcy5tYmFySXRlbVNob3dOdW0gPSBoID4gNyA/IDcgOiBoKSA6IChzLnBhZ2VOdW0gPSBwYXJzZUludCgobSAtIGMpIC8gMTA0KSwgcy5tYmFySXRlbVNob3dOdW0gPSBoID4gcy5wYWdlTnVtID8gcy5wYWdlTnVtIDogaCk7CgkJCQkJCWZvciAodmFyIGYgPSAwOyBmIDwgZS5zdG9yZS5sZW5ndGg7IGYrKykgcC5wdXNoKGUuc3RvcmVbZl0ucHJvZHVjdFswXSksIGxbZS5zdG9yZVtmXS5wcm9kdWN0WzBdLmRwX2lkXSA9IHUoZS5zdG9yZVtmXS5wcm9kdWN0KTsKCQkJCQkJcy5wYWdlcyA9IE1hdGguY2VpbChoIC8gcy5wYWdlTnVtKTsKCQkJCQkJdmFyIGcgPSBuKDg2KTsKCQkJCQkJdCgiLmNvbXBhcmUtbGlzdCIpLmFwcGVuZChhLmNvbXBpbGUoZykoewoJCQkJCQkJZGF0YTogcCwKCQkJCQkJCXBhZ2VOdW06IHMucGFnZU51bQoJCQkJCQl9KSksIHMubm93cGFnZSA9IDAsIHMudG90YWxTaXplID0gaCwgdCgiLmNvbXBhcmUtYm94IikuY3NzKCJ3aWR0aCIsIDEwNCAqIHMubWJhckl0ZW1TaG93TnVtICsgInB4IiksIDEgPT09IHMucGFnZXMgJiYgdCgiLm1iYXItdHVybnBhZ2UiKS5oaWRlKCksIGQoKQoJCQkJCX0KCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gdCh3aW5kb3cpLndpZHRoKCksCgkJCQkJCWEgPSBuLm9mZnNldCgpLmxlZnQsCgkJCQkJCW8gPSBuLm91dGVyV2lkdGgoKSwKCQkJCQkJciA9IG4uZmluZCgiLmJ0Y29tLWRldGFpbCIpLAoJCQkJCQlzID0gMjY4ICogZSArIDIsCgkJCQkJCWwgPSBhICsgbyAvIDIgLSBzIC8gMjsKCQkJCQkwID4gbCAmJiAobCA9IDApLCBsICsgcyA+IGkgJiYgKGwgPSBpIC0gcyAtIDIpLCByLmNzcygibGVmdCIsIGwgKyAicHgiKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKCFlLnByb2R1Y3QgfHwgZS5wcm9kdWN0ICYmIDAgPT09IGUucHJvZHVjdC5sZW5ndGgpIHJldHVybiBlOwoJCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IHt9LCBpID0gMDsgaSA8IGUucHJvZHVjdC5sZW5ndGg7IGkrKykgbltlLnByb2R1Y3RbaV0uc2l0ZV9uYW1lXSA/IG5bZS5wcm9kdWN0W2ldLnNpdGVfbmFtZV0ucHJvZHVjdC5wdXNoKGUucHJvZHVjdFtpXSkgOiBuW2UucHJvZHVjdFtpXS5zaXRlX25hbWVdID0gewoJCQkJCQlwcm9kdWN0OiBbZS5wcm9kdWN0W2ldXQoJCQkJCX07CgkJCQkJZm9yICh2YXIgYSBpbiBuKSBhICYmIHQucHVzaChuW2FdKTsKCQkJCQlyZXR1cm4gewoJCQkJCQlzdG9yZTogdAoJCQkJCX0KCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBpID0gbig4NiksCgkJCQkJCW8gPSAwOwoJCQkJCWlmIChlLnRtYWxsICYmIGUudG1hbGwucHJvZHVjdCkgewoJCQkJCQl2YXIgYyA9IHsKCQkJCQkJCWRwX2lkOiAidG1jb21wYXJlIiwKCQkJCQkJCXNpdGVfbmFtZTogIuWkqeeMq+WVhuWfjiIsCgkJCQkJCQlwcmljZTogZS50bWFsbC5taW5fcHJpY2UKCQkJCQkJfTsKCQkJCQkJci5pbml0KCJ0bWFsbCIsIGUudG1hbGwucHJvZHVjdCwgIiZjb2x1bW49YjJjIiksIGwudG1jb21wYXJlID0gdShlLnRtYWxsLnByb2R1Y3QsICEwKTsKCQkJCQkJdmFyIHAgPSB0KCIuY29tcGFyZS1saXN0PmxpIikuZXEoNSk7CgkJCQkJCTAgPT09IHAubGVuZ3RoICYmIChwID0gdCgiLmNvbXBhcmUtbGlzdD5saTpsYXN0LWNoaWxkIikpLCAwID09PSBwLmxlbmd0aCA/IHQoIi5jb21wYXJlLWxpc3QiKS5hcHBlbmQoYS5jb21waWxlKGkpKHsKCQkJCQkJCWRhdGE6IFtjXQoJCQkJCQl9KSkgOiBwLmFmdGVyKGEuY29tcGlsZShpKSh7CgkJCQkJCQlkYXRhOiBbY10KCQkJCQkJfSkpLCBvKysKCQkJCQl9CgkJCQkJaWYgKGUudGFvYmFvICYmIGUudGFvYmFvLnByb2R1Y3QpIHsKCQkJCQkJdmFyIGMgPSB7CgkJCQkJCQlkcF9pZDogInRiY29tcGFyZSIsCgkJCQkJCQlzaXRlX25hbWU6ICLmt5jlrp0iLAoJCQkJCQkJcHJpY2U6IGUudGFvYmFvLm1pbl9wcmljZQoJCQkJCQl9OwoJCQkJCQlyLmluaXQoInRhb2JhbyIsIGUudGFvYmFvLnByb2R1Y3QsICImY29sdW1uPWIyYyIpLCBsLnRiY29tcGFyZSA9IHUoZS50YW9iYW8ucHJvZHVjdCwgITApLCB0KCIuY29tcGFyZS1saXN0IikuYXBwZW5kKGEuY29tcGlsZShpKSh7CgkJCQkJCQlkYXRhOiBbY10KCQkJCQkJfSkpLCBvKysKCQkJCQl9CgkJCQkJcy50b3RhbFNpemUgPSBzLnRvdGFsU2l6ZSArIG87CgkJCQkJdmFyIGggPSBNYXRoLmNlaWwocy50b3RhbFNpemUgLyBzLnBhZ2VOdW0pOwoJCQkJCTEgIT09IHMucGFnZXMgJiYgcy5wYWdlcyA/IHMucGFnZXMgPSBoIDogKGggPiAxICYmICh0KCIubWJhci10dXJucGFnZS50cmlnaHQiKS5zaG93KCksIHMucGFnZXMgPSBoKSwgcy5tYmFySXRlbVNob3dOdW0gPSBzLnRvdGFsU2l6ZSA+IHMucGFnZU51bSA/IHMucGFnZU51bSA6IHMudG90YWxTaXplLCB0KCIuY29tcGFyZS1ib3giKS5jc3MoIndpZHRoIiwgMTA0ICogcy5tYmFySXRlbVNob3dOdW0gKyAicHgiKSwgdCgiLm1iYXItdHVybnBhZ2UiKS5oaWRlKCkpLCBkKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5yZW5kZXJCdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXgoZSkKCQkJfSwgZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQllLmIyYyAmJiBlLmIyYy5taW5fcHJpY2UgPyBmKGUuYjJjKSA6IGUuYjJjX2Z1enp5ICYmIChlLmIyYzIgPSBfKGUuYjJjX2Z1enp5KSwgZihlLmIyYzIpKSwgYyA9IG8uaW5pdCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJidGNvbS1kZXRhaWwiIHN0eWxlPSJ7e2lmIHNob3dwYWdlc319bGVmdDowcHg7d2lkdGg6MTAwJTt7ey9pZn19Ij5cbiAge3tpZiBzaG93cGFnZXN9fVxuICA8ZGl2IGNsYXNzPSJ0dXJucGFnZS1kaXYgdHVybnBhZ2UtbGVmdCIgc3R5bGU9IndpZHRoOnt7dHVybnBXfX1weDtoZWlnaHQ6IDEwMCU7Ij5cbiAgICA8c3BhbiBjbGFzcz0ibmJ0LWJnIHR1cm5sZWZ0Ij48L3NwYW4+XG4gIDwvZGl2PlxuICB7ey9pZn19XG4gIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyIgc3R5bGU9Int7aWYgc2hvd3BhZ2VzfX0gd2lkdGg6e3twcm93aWR0aH19cHg7IHt7L2lmfX0iPlxuICAgIDx1bCBjbGFzcz0iYnRjb20tbGlzdCI+XG4gICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgIDxsaSBjbGFzcz0iZHAtaW5kZXgte3skaW5kZXh9fSI+XG4gICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iY29tLWl0ZW0taW1nIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPSJodHRwOi8vczEuZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvMTIwLmdpZiIgZGF0YS1zcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iY29tLXByaWNlIj7vv6V7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNvbS1zdG9yZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgICAgICA8cCBjbGFzcz0iY29tLXRsZSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgPC91bD5cbiAgPC9kaXY+XG4gIHt7aWYgc2hvd3BhZ2VzfX1cbiAgPGRpdiBjbGFzcz0idHVybnBhZ2UtZGl2IHR1cm5wYWdlLXJpZ2h0IiBzdHlsZT0id2lkdGg6e3t0dXJucFd9fXB4O2hlaWdodDogMTAwJTsiPlxuICAgIDxzcGFuIGNsYXNzPSJuYnQtYmcgdHVybnJpZ2h0Ij48L3NwYW4+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJiamQtcGFnZXMiPlxuICAgICAg56ysJm5ic3A7XG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIj4xPC9zcGFuPlxuICAgICAgJm5ic3A76aG177yM5YWxXG4gICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iPnt7cGFnZXN9fTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhtVxuICA8L2Rpdj5cbiAge3svaWZ9fVxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAne3tlYWNoIGRhdGF9fVxuICA8bGkgY2xhc3M9ImluZGV4X3t7JGluZGV4fX0iIGRhdGEtaWQ9Int7JHZhbHVlLmRwX2lkfX0iPlxuICAgIDxkaXYgY2xhc3M9Iml0ZW0tYm94LWRldiI+XG4gICAgICA8c3BhbiBjbGFzcz0iY29tLWl0ZW0tcHJpIj7vv6V7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9ImNvbS1pdGVtLXN0b3JlIj57eyR2YWx1ZS5zaXRlX25hbWV9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlmdW5jdGlvbiB0KCkgewoJCQkJCQlmb3IgKHZhciB0ID0gZS5iMmMuc3RvcmUubGVuZ3RoLCBuID0gMDsgbiA8IGUuYjJjLnN0b3JlLmxlbmd0aDsgbisrKSBlLmIyYy5zdG9yZVtuXS5wcmljZSA9IGUuYjJjLnN0b3JlW25dLnByaWNlLnJlcGxhY2UoIiwiLCAiIiksIGUuYjJjLnN0b3JlW25dLnByb21vLmxlbmd0aCA+IDMgJiYgKGUuYjJjLnN0b3JlW25dLnByb21vMiA9IGUuYjJjLnN0b3JlW25dLnByb21vLnNsaWNlKDAsIDMpKTsKCQkJCQkJcmV0dXJuIGUuYjJjLnN0b3JlMiA9IGUuYjJjLnN0b3JlLnNsaWNlKDAsIDYpLCB0CgkJCQkJfQoJCQkJCXZhciBuID0gaC5pbml0KCk7CgkJCQkJaWYgKGUuYjJjLnByb2R1Y3QgPSBwKGUuYjJjLnByb2R1Y3QpLCAwICE9PSBlLmIyYy5wcm9kdWN0Lmxlbmd0aCkgewoJCQkJCQllLmIyYy5wcm9kdWN0WzBdID0gZyhlLmIyYy5wcm9kdWN0WzBdKSwgZS5iMmMubWluX3ByaWNlID0gZS5iMmMucHJvZHVjdFswXS5wcmljZS5yZXBsYWNlKCIsIiwgIiIpOwoJCQkJCQl2YXIgaSA9ICc8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9IicgKyBhLmV4dE5hbWUgKyAnLWIyYy1kcCIgY2xhc3M9IicgKyBhLmV4dE5hbWUgKyAnLXRhYiIgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImIyYy1pY29uIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7llYbln448L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibG93ZXN0ICcgKyBhLmV4dEJyYW5kICsgJy1wcmljZSI+JnllbjsnICsgZS5iMmMubWluX3ByaWNlICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+IjsKCQkJCQkJcygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaSk7CgkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgZS5iMmMucHJvZHVjdC5sZW5ndGg7IHIrKykgewoJCQkJCQkJdmFyIGwgPSBlLmIyYy5wcm9kdWN0W3JdOwoJCQkJCQkJaWYgKGwgPSBnKGwpLCBsLnByb21vID0gbyhsLnByb21vKSwgbC5wcm9tbyAmJiBsLnByb21vLmxlbmd0aCA+IDApIHsKCQkJCQkJCQlsLnByb21vZG9tID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgdSA9IDAsIG0gPSBsLnByb21vLmxlbmd0aDsgMyA+IHUgJiYgbSA+IHU7IHUrKykgewoJCQkJCQkJCQl2YXIgZiA9IGwucHJvbW9bdV07CgkJCQkJCQkJCWYuaGFzU2FtZSB8fCAobC5wcm9tb2RvbSArPSAnPHNwYW4gIHRpdGxlPSInICsgKGYuaGFzU2FtZVRpdGxlID8gZi5oYXNTYW1lVGl0bGUgOiBmLmRlc2MpICsgJyIgY2xhc3M9InByb21vX2ljb24gcHJvbW9faWNvbl8nICsgZi50eXBlICsgJyI+PC9zcGFuPicpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXZhciBfID0gdCgpOwoJCQkJCQlzKCIjIiArIGEuZXh0TmFtZSArICItbWFpbiIpLmFwcGVuZChjLmNvbXBpbGUoZCkoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWxlbjogXywKCQkJCQkJCWV4dE5hbWU6IGEuZXh0TmFtZSwKCQkJCQkJCXdpZHRoOiBuLmIyY1R1cm5wVywKCQkJCQkJCXByb2R1Y3RXOiBuLmIyY1Byb2R1Y3RXCgkJCQkJCX0pKSwgcygiIyIgKyBhLmV4dE5hbWUgKyAiLWIyYy1kcC1kZXRhaWwgbGkgaW1nLnN0b3JlIikub24oImVycm9yIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQlhLm5ld19leHRlbnNpb24gfHwgcyh0aGlzKS5hdHRyKCJzcmMiLCBhLmNfc2VydmVyICsgIi9mYXZpY29uLmljbyIpCgkJCQkJCX0pLCBzKCIjYjJjLXByZXYtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5jaGFuZ2VfcGFnZSgiYjJjIiwgLTEpCgkJCQkJCX0pLCBzKCIjYjJjLW5leHQtcGFnZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5jaGFuZ2VfcGFnZSgiYjJjIiwgMSkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJdmFyIHQgPSBoLmluaXQoKTsKCQkJCQlpZiAoZS5iMmNfZnV6enkucHJvZHVjdCA9IHAoZS5iMmNfZnV6enkucHJvZHVjdCksIDAgIT09IGUuYjJjX2Z1enp5LnByb2R1Y3QubGVuZ3RoKSB7CgkJCQkJCWUuYjJjX2Z1enp5LnByb2R1Y3RbMF0gPSBnKGUuYjJjX2Z1enp5LnByb2R1Y3RbMF0pLCBlLmIyY19mdXp6eS5taW5fcHJpY2UgPSBlLmIyY19mdXp6eS5wcm9kdWN0WzBdLnByaWNlOwoJCQkJCQl2YXIgaSA9ICc8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9IicgKyBhLmV4dE5hbWUgKyAnLWIyY19mdXp6eS1kcCIgY2xhc3M9IicgKyBhLmV4dE5hbWUgKyAnLXRhYiI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiMmMtaWNvbiBnd2RfYmciPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+5ZWG5Z+O55u45Ly85qy+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibG93ZXN0ICcgKyBhLmV4dEJyYW5kICsgJy1wcmljZSI+JnllbjsnICsgZS5iMmNfZnV6enkubWluX3ByaWNlICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYT4iOwoJCQkJCQlzKCIjIiArIGEuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChjLmNvbXBpbGUoaSkoKSk7CgkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgZS5iMmNfZnV6enkucHJvZHVjdC5sZW5ndGg7IHIrKykgewoJCQkJCQkJdmFyIGwgPSBlLmIyY19mdXp6eS5wcm9kdWN0W3JdOwoJCQkJCQkJaWYgKGwgPSBnKGwpLCBsLnByb21vID0gbyhsLnByb21vKSwgbC5wcm9tbyAmJiBsLnByb21vLmxlbmd0aCA+IDApIHsKCQkJCQkJCQlsLnByb21vZG9tID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgZCA9IDAsIHUgPSBsLnByb21vLmxlbmd0aDsgMyA+IGQgJiYgdSA+IGQ7IGQrKykgewoJCQkJCQkJCQl2YXIgbSA9IGwucHJvbW9bZF07CgkJCQkJCQkJCW0uaGFzU2FtZSB8fCAobC5wcm9tb2RvbSArPSAnPHNwYW4gdGl0bGU9IicgKyAobS5oYXNTYW1lVGl0bGUgPyBtLmhhc1NhbWVUaXRsZSA6IG0uZGVzYykgKyAnIiBjbGFzcz0icHJvbW9faWNvbiBwcm9tb19pY29uXycgKyBtLnR5cGUgKyAnIj48L3NwYW4+JykKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJdmFyIGYgPSBuKDg5KTsKCQkJCQkJcygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoYy5jb21waWxlKGYpKHsKCQkJCQkJCWRhdGE6IGUuYjJjX2Z1enp5LnByb2R1Y3QsCgkJCQkJCQlzX3NlcnZlcjogYS5zX3NlcnZlciwKCQkJCQkJCXdpZHRoOiB0LnR1cm5wVywKCQkJCQkJCXByb2R1Y3RXOiB0LmFsbFByb2R1Y3RXCgkJCQkJCX0pKSwgcygiI2IyY19mdXp6eS1wcmV2LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCWEuY2hhbmdlX3BhZ2UoImIyY19mdXp6eSIsIC0xKQoJCQkJCQl9KSwgcygiI2IyY19mdXp6eS1uZXh0LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCWEuY2hhbmdlX3BhZ2UoImIyY19mdXp6eSIsIDEpCgkJCQkJCX0pLCBzKCIjIiArIGEuZXh0TmFtZSArICItYjJjX2Z1enp5LWRwLWRldGFpbCIpLmFwcGVuZCgnPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj4nKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQl2YXIgdCA9IGUuYjJjOwoJCQkJCWUuYjJjMiAmJiAodCA9IGUuYjJjMik7CgkJCQkJdmFyIG4gPSBhLmdldEZpeGVkU2hvd1Byb2R1Y3ROdW0oKTsKCQkJCQlpZiAodC5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCXMoIiMiICsgYS5leHRCcmFuZCArICItY29tcGFyZSIpLmh0bWwoIiIpOwoJCQkJCQl0cnkgewoJCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCB0LnN0b3JlLmxlbmd0aDsgaSsrKSB7CgkJCQkJCQkJdmFyIHIgPSB0LnN0b3JlW2ldLAoJCQkJCQkJCQlsID0gci5wcm9kdWN0WzBdOwoJCQkJCQkJCWwgPSBnKGwpOwoJCQkJCQkJCXZhciBjID0gcGFyc2VJbnQoci5wcm9kdWN0Lmxlbmd0aCksCgkJCQkJCQkJCWQgPSBjICUgbiA9PSAwID8gcGFyc2VJbnQoYyAvIG4pIDogcGFyc2VJbnQoYyAvIG4pICsgMSwKCQkJCQkJCQkJcCA9IHMoIjxsaT4iKTsKCQkJCQkJCQlwLmFwcGVuZChzKCI8c3Bhbj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIsCgkJCQkJCQkJCWhyZWY6IGwudXJsLAoJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCQkJfSkuYXBwZW5kKHMoIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJpY2UiCgkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgbC5wcmljZSkpLmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXN0b3JlIgoJCQkJCQkJCX0pLnRleHQobC5zaXRlX25hbWUpKSk7CgkJCQkJCQkJdmFyIGggPSBzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCByZS0iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbCAiICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIsCgkJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lOyIKCQkJCQkJCQl9KTsKCQkJCQkJCQloLmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUgIiArIGEuZXh0QnJhbmQgKyAiLWhlaWdodC1hdXRvICIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIgoJCQkJCQkJCX0pLmFwcGVuZChzKCI8c3Bhbj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZGVzYyIKCQkJCQkJCQl9KS50ZXh0KGwuc2l0ZV9uYW1lICsgIu+8miIgKyByLmZlZSkpKTsKCQkJCQkJCQlmb3IgKHZhciB1ID0gcygiPHVsPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXRlbS1saXN0IgoJCQkJCQkJCX0pLCBtID0gMDsgYyA+IG07IG0rKykgewoJCQkJCQkJCQl2YXIgZiA9IHIucHJvZHVjdFttXTsKCQkJCQkJCQkJZiA9IGcoZiksIChmLnNpdGVfbmFtZS5pbmRleE9mKCLlvq7kv6Hnq68iKSA+IC0xIHx8IGYuc2l0ZV9uYW1lLmluZGV4T2YoIuenu+WKqOerryIpID4gLTEpICYmIChmLmlzT3RoZXJDbGllbnQgPSAhMCk7CgkJCQkJCQkJCXZhciBfID0gZi5yZXZfY250ID8gZi5yZXZfY250IDogMCwKCQkJCQkJCQkJCXggPSAiIjsKCQkJCQkJCQkJaWYgKGYucHJvbW8gPSBvKGYucHJvbW8pLCBmLnByb21vICYmIGYucHJvbW8ubGVuZ3RoID4gMCkKCQkJCQkJCQkJCWZvciAodmFyIHcgPSAwLCB2ID0gZi5wcm9tby5sZW5ndGg7IG4gPiB3ICYmIHYgPiB3OyB3KyspCgkJCQkJCQkJCQkJaWYgKCFmLnByb21vW3ddLmhhc1NhbWUpIHsKCQkJCQkJCQkJCQkJdmFyIGIgPSBmLnByb21vW3ddLmhhc1NhbWVUaXRsZSA/IGYucHJvbW9bd10uaGFzU2FtZVRpdGxlIDogZi5wcm9tb1t3XS5kZXNjOwoJCQkJCQkJCQkJCQl4ICs9ICc8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAiLWJnIHByb21vX2ljb24gcHJvbW9faWNvbl8iICsgZi5wcm9tb1t3XS50eXBlICsgJyIgdGl0bGU9IicgKyBiICsgJyI+Jm5ic3A8L3NwYW4+JwoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJdS5hcHBlbmQocygiPGxpPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWxpc3QtaXRlbSAiICsgKG0gJSBuID09IG4gLSAxIHx8IG0gPT0gYyAtIDEgPyBhLmV4dEJyYW5kICsgIi1sYXN0IiA6ICIiKSwKCQkJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTogIiArIChtID49IG4gPyAibm9uZSIgOiAiYmxvY2siKQoJCQkJCQkJCQl9KS5hcHBlbmQocygiPGE+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcGljIiwKCQkJCQkJCQkJCWhyZWY6IGYudXJsLAoJCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCQl9KS5hcHBlbmQocygiPGltZz4iLCB7CgkJCQkJCQkJCQlzcmM6IGEuc19zZXJ2ZXIgKyAiL2ltYWdlcy9kcF9kZWZhdWx0LmpwZyIsCgkJCQkJCQkJCQkiZGF0YS1vcmlnaW5hbCI6IGYuaW1nX3VybCwKCQkJCQkJCQkJCXRpdGxlOiBmLnRpdGxlCgkJCQkJCQkJCX0pKSkuYXBwZW5kKHMoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXByb2R1Y3QtdGl0bGUiLAoJCQkJCQkJCQkJaHJlZjogZi51cmwsCgkJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiLAoJCQkJCQkJCQkJdGl0bGU6IGYudGl0bGUKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxkaXY+IikudGV4dChmLnRpdGxlKSkpLmFwcGVuZChzKCI8ZGl2PiIpLmFwcGVuZChzKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcmljZSIsCgkJCQkJCQkJCQlocmVmOiBmLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJCQkJfSkuaHRtbCgiJnllbjsiICsgKGYucHJpY2Vfcm1iID8gZi5wcmljZV9ybWIgOiBmLnByaWNlKSkuYXBwZW5kKHgpKSkuYXBwZW5kKHMoIjxkaXY+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICJfcmV2X2NudCIKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxhPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb2R1Y3RfY29tbWVudF9hbW91bnQiLAoJCQkJCQkJCQkJaHJlZjogZi51cmwsCgkJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiLAoJCQkJCQkJCQkJdGl0bGU6IGYuaXNPdGhlckNsaWVudCA/IGYuc2l0ZV9uYW1lIDogIuWVhuWTgeivhOiuuuaVsCIKCQkJCQkJCQkJfSkuYXBwZW5kKHMoIjxzcGFuPiIpLnRleHQoZi5pc090aGVyQ2xpZW50ID8gZi5zaXRlX25hbWUgOiAwICE9IF8gPyAi6K+E6K665pWwOiIgKyBmLnJldl9jbnQgOiAiIikpKSkpCgkJCQkJCQkJfQoJCQkJCQkJCXZhciB5ID0gcygiPGRpdj4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWIyYy1QYWdlVmlldyAiICsgYS5leHRCcmFuZCArICItYjJjLVBhZ2VWaWV3LWZpeGVkIgoJCQkJCQkJCX0pOwoJCQkJCQkJCWlmICh5LmFwcGVuZChzKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUiLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDphdXRvOyIKCQkJCQkJCQl9KS5hcHBlbmQocygiPHNwYW4+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0Om5vbmU7cGFkZGluZy1sZWZ0OjEwcHg7IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyIKCQkJCQkJCQl9KS5hcHBlbmQocygiPGVtPiIsIHsKCQkJCQkJCQkJaWQ6ICJwYWdlLW5vdy0iICsgaSwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2Utbm93IgoJCQkJCQkJCX0pLnRleHQoIjEiKSkuYXBwZW5kKCIvIikuYXBwZW5kKHMoIjxlbT4iLCB7CgkJCQkJCQkJCWlkOiAicGFnZS10b3RhbC0iICsgaSwKCQkJCQkJCQkJImNsYXNzIjogInBhZ2UtdG90YWwiCgkJCQkJCQkJfSkudGV4dCgiMSIpKSkpLCBoLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLWxlZnQiCgkJCQkJCQkJfSkuYXBwZW5kKHMoIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1iZyBwYWdlLWFycm93IgoJCQkJCQkJCX0pKSkuYXBwZW5kKHUpLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1uZXh0LXBhZ2UgIiArIGEuZXh0QnJhbmQgKyAiLXJpZ2h0IgoJCQkJCQkJCX0pLmFwcGVuZChzKCI8ZGl2PiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItYmcgcGFnZS1hcnJvdyIKCQkJCQkJCQl9KSkpLmFwcGVuZCh5KSwgcC5hcHBlbmQoaCksIDEgPT0gZCkgewoJCQkJCQkJCQlwLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1wcmV2LXBhZ2UiKS5oaWRlKCksIHAuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLW5leHQtcGFnZSIpLmhpZGUoKSwgcC5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWIyYy1QYWdlVmlldy1maXhlZCIpLmhpZGUoKSwgcC5hdHRyKCJwYWdlcyIsIDEpLCBwLmF0dHIoImxlbiIsIGMpOwoJCQkJCQkJCQl2YXIgayA9IDIwMCAqIGM7CgkJCQkJCQkJCXAuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygid2lkdGgiLCBrICsgMikKCQkJCQkJCQl9IGVsc2UgcC5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJ3aWR0aCIsIGEud2lkdGggLSAyKTsKCQkJCQkJCQlzKCIjIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUiKS5hcHBlbmQocCksIHMoIiNwYWdlLXRvdGFsLSIgKyBpKS50ZXh0KGQpCgkJCQkJCQl9CgkJCQkJCX0gY2F0Y2ggKHopIHsKCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyB6CgkJCQkJCX0KCQkJCQl9CgkJCQkJcygiIyIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlIikuc2hvdygpCgkJCQl9CgoJCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQkJaWYgKCFlIHx8IGUgJiYgIWUubGVuZ3RoKSByZXR1cm4gZTsKCQkJCQlmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoOyBuID4gdDsgdCsrKQoJCQkJCQlpZiAoZVt0XSkKCQkJCQkJCWZvciAodmFyIGkgPSAxOyBuID4gaTsgaSsrKQoJCQkJCQkJCWlmIChlW3QgKyBpXSAmJiBlW3RdLnR5cGUgPT0gZVt0ICsgaV0udHlwZSkgewoJCQkJCQkJCQlpZiAoZVt0XS5oYXNTYW1lKSBjb250aW51ZTsKCQkJCQkJCQkJZVt0XS5oYXNTYW1lVGl0bGUgPSAoZVt0XS5oYXNTYW1lVGl0bGUgPyBlW3RdLmhhc1NhbWVUaXRsZSA6IGVbdF0uZGVzYykgKyAiICIgKyBlW3QgKyBpXS5kZXNjLCBlW3QgKyBpXS5oYXNTYW1lID0gITAKCQkJCQkJCQl9CgkJCQkJcmV0dXJuIGUKCQkJCX0KCgkJCQlmdW5jdGlvbiByKGUpIHsKCQkJCQl2YXIgdCA9IHt9LAoJCQkJCQluID0gZS5wcm9kdWN0OwoJCQkJCW4gPSBwKG4pOwoJCQkJCWZvciAodmFyIGkgaW4gbikKCQkJCQkJaWYgKCIxIiA9PSBuW2ldLm1vcmUpIHsKCQkJCQkJCXZhciBhID0gbltpXS5hbGw7CgkJCQkJCQlmb3IgKHZhciBvIGluIGEpIHsKCQkJCQkJCQl2YXIgciA9IGFbb10uc2l0ZV9uYW1lOwoJCQkJCQkJCW51bGwgPT0gdFtyXSAmJiAodFtyXSA9IFtdKSwgdFtyXS5wdXNoKGFbb10pCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2YXIgciA9IG5baV0uc2l0ZV9uYW1lOwoJCQkJCQkJbnVsbCA9PSB0W3JdICYmICh0W3JdID0gW10pLCB0W3JdLnB1c2gobltpXSkKCQkJCQkJfQoJCQkJCXZhciBzID0gewoJCQkJCQlzdG9yZTogW10KCQkJCQl9OwoJCQkJCWZvciAodmFyIGwgaW4gdCkKCQkJCQkJaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiB0W2xdWzBdLmZlZSkgewoJCQkJCQkJdmFyIGMgPSB7CgkJCQkJCQkJcHJvZHVjdDogdFtsXSwKCQkJCQkJCQlmZWU6IHRbbF1bMF0uZmVlCgkJCQkJCQl9OwoJCQkJCQkJcy5zdG9yZS5wdXNoKGMpCgkJCQkJCX0KCQkJCQlyZXR1cm4gcwoJCQkJfQoJCQkJdmFyIHMgPSBuKDYpLAoJCQkJCWwgPSB7fSwKCQkJCQljID0gbigxNiksCgkJCQkJZCA9IG4oODgpLAoJCQkJCXAgPSBuKDc2KSwKCQkJCQloID0gbig3NCksCgkJCQkJdSA9IHsKCQkJCQkJMjI4OiAiVVNEIiwKCQkJCQkJMjI5OiAiSlBZIiwKCQkJCQkJMjM4OiAiVVNEIiwKCQkJCQkJMjQ2OiAiRVVSIgoJCQkJCX0sCgkJCQkJbSA9IHsKCQkJCQkJMjI4OiAiJCIsCgkJCQkJCTIzODogIiQiLAoJCQkJCQkyMjk6ICLml6XlhYMiLAoJCQkJCQkyNDY6ICJFVVIiCgkJCQkJfSwKCQkJCQlmID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoIWUpIHJldHVybiBlOwoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIHQgPSBlLnNwbGl0KCIuIik7CgkJCQkJCQllID0gdFswXS5yZXBsYWNlKCIsIiwgIiIpLCBlID0gTnVtYmVyKGUpID4gOTk5OTkgPyB0WzBdIDogdFswXSArICIuIiArIHRbMV0KCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJcmV0dXJuIG4oMjYpKCJiMmNDb21wYXJlOmZpeGVkUHJpY2U6ZXJyb3IiKSwgZQoJCQkJCQl9CgkJCQkJCXJldHVybiBlCgkJCQkJfSwKCQkJCQlnID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZS5wcmljZV9ybWIpIHJldHVybiBlOwoJCQkJCQl2YXIgdCA9IG4oNDApOwoJCQkJCQlpZiAoIWUuZHBfaWQpIHJldHVybiBlOwoJCQkJCQl2YXIgaSA9IGUuZHBfaWQuc3BsaXQoIi0iKVsxXSwKCQkJCQkJCWEgPSBpICYmIHVbaV07CgkJCQkJCWlmICghYSkgcmV0dXJuIGU7CgkJCQkJCXZhciBvID0gdChlLnByaWNlLCBhKSwKCQkJCQkJCXIgPSBmKGUucHJpY2UpOwoJCQkJCQlyZXR1cm4gIjIyOSIgPT0gaSA/IGUucHJpY2Vfcm1iID0gbyArICgiKCIgKyByICsgbVtpXSArICIpIikgOiBlLnByaWNlX3JtYiA9IG8gKyAoIigiICsgbVtpXSArIHIgKyAiKSIpLCBlLnByaWNlID0gbywgZQoJCQkJCX07CgkJCQlyZXR1cm4gbC5pbml0ID0gZnVuY3Rpb24obiwgbykgewoJCQkJCWlmICghKGEuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGEuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKQoJCQkJCQlpZiAoImJvdHRvbSIgPT0gbykgewoJCQkJCQkJaWYgKG4uYjJjICYmIG4uYjJjLm1pbl9wcmljZSkgaShuKSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlIiwgYS5nZXRGaXhlZFNob3dQcm9kdWN0TnVtKCkpLCB0aGlzLnNldEJvdHRvbVZpZXdPZmZzZXQoKTsKCQkJCQkJCWVsc2UgaWYgKG4uYjJjX2Z1enp5KSB7CgkJCQkJCQkJdmFyIGwgPSB7fTsKCQkJCQkJCQlsLmIyYzIgPSByKG4uYjJjX2Z1enp5KSwgaShsKSwgYS5zZXRQYWdlQXJncyhhLmV4dEJyYW5kICsgIi1jb21wYXJlIiwgYS5nZXRGaXhlZFNob3dQcm9kdWN0TnVtKCkpLCB0aGlzLnNldEJvdHRvbVZpZXdPZmZzZXQoKSwgcygiLiIgKyBhLmV4dEJyYW5kICsgIi1iaSIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLWJpLWJnIikKCQkJCQkJCX0KCQkJCQkJCWEuY2lyY2xlTm90aWNlKG4ucXVhbiwgbi5wcm9tb3Rpb24pCgkJCQkJCX0gZWxzZSBuLmIyYyAmJiBuLmIyYy5taW5fcHJpY2UgPyBlKG4pIDogbi5iMmNfZnV6enkgJiYgdChuKQoJCQkJfSwgbC5zZXRCb3R0b21WaWV3T2Zmc2V0ID0gZnVuY3Rpb24oKSB7CgkJCQkJcygidWwuIiArIGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gcyh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5lcSgwKTsKCQkJCQkJaWYgKCIxIiA9PSBlLmF0dHIoInBhZ2VzIikpIHsKCQkJCQkJCXZhciB0ID0gZS5vZmZzZXQoKS5sZWZ0LAoJCQkJCQkJCW4gPSBlLndpZHRoKCksCgkJCQkJCQkJaSA9IDIwMCAqIHBhcnNlSW50KGUuYXR0cigibGVuIikpLAoJCQkJCQkJCW8gPSB0IC0gKGkgLyAyIC0gbiAvIDIpOwoJCQkJCQkJMCA+IG8gJiYgKG8gPSAwKTsKCQkJCQkJCXZhciByID0gYS53aWR0aCAtIG87CgkJCQkJCQlhLklFNiA/IChvID0gbiAvIDIgLSBpIC8gMiwgMCA+IG8gKyB0ICYmIChvID0gLXQpLCBlLmNoaWxkcmVuKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikuY3NzKCJsZWZ0IiwgbyksIGUuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIikuY3NzKCJsZWZ0IiwgMCkpIDogciA+IGkgPyAoZS5jaGlsZHJlbigiZGl2LiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIikuY3NzKCJsZWZ0IiwgbyksIGUuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlLWZpeGVkIikuY3NzKCJsZWZ0IiwgbykpIDogKGUuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSBpKSwgZS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCBhLndpZHRoIC0gaSkpCgkJCQkJCX0gZWxzZSBpZiAoYS5JRTYpIHsKCQkJCQkJCXZhciB0ID0gZS5vZmZzZXQoKS5sZWZ0LAoJCQkJCQkJCW8gPSAwIC0gdDsKCQkJCQkJCWUuY2hpbGRyZW4oImRpdi4iICsgYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC1maXhlZCIpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5jc3MoImxlZnQiLCBvKSwgZS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUtZml4ZWQiKS5jc3MoImxlZnQiLCAwKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sIGwKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHROYW1lfX0tYjJjLWRwLWRldGFpbCIgY2xhc3M9InBhbmVsIGd3ZF9jb21wYXJlIj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtd3JhcCI+XG4gICAgPGRpdiBjbGFzcz0icGFnZXMiPlxuICAgICAg56ysJm5ic3A7XG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIiBpZD0iYjJjLWN1cnJlbnQtcGFnZSI+MTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhte+8jOWFsVxuICAgICAgPHNwYW4gY2xhc3M9InBhZ2UtbnVtIiBpZD0iYjJjLXBhZ2UtbnVtIj40PC9zcGFuPlxuICAgICAgJm5ic3A76aG1XG4gICAgPC9kaXY+XG4gICAgPHVsIGNsYXNzPSJidXktbGlzdCI+XG4gICAgICA8bGk+PGI+5q2j5ZOB5ZWG5Z+O5Zyo5Y2W77yaPC9iPjwvbGk+XG4gICAgICB7e2VhY2ggZGF0YS5iMmMuc3RvcmUyfX1cbiAgICAgIDxsaT5cbiAgICAgICAgPGltZyBjbGFzcz0ic3RvcmUiIHNyYz0ie3skdmFsdWUuaWNvbl91cmx9fSI+XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3skdmFsdWUuZHBfaWR9fS93aGVyZV9idXkvP2Zyb209YnJvd3NlciN0YWJzIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9Imd3ZF90aXRsZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAge3tpZiAkdmFsdWUubW9yZT4xfX1cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20vZHB7eyR2YWx1ZS5kcF9pZH19L3doZXJlX2J1eS8/ZnJvbT1icm93c2VyI3RhYnMiIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9yZSI+KHt7JHZhbHVlLm1vcmV9fSnmrL48L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAge3svaWZ9fVxuICAgICAgICB7e2lmICR2YWx1ZS5wcm9tbzJ9fVxuICAgICAgICAgIHt7ZWFjaCAkdmFsdWUucHJvbW8yIGFzIGl0ZW19fVxuICAgICAgICAgICAgPGEgY2xhc3M9InByb21vX2ljb24gcHJvbW9faWNvbl97e2l0ZW0udHlwZX19IiB0aXRsZT0ie3tpdGVtLmRlc2N9fSIgdXJsPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS9kcHt7JHZhbHVlLmRwX2lkfX0vd2hlcmVfYnV5Lz9mcm9tPWJyb3dzZXIjdGFicyI+PC9hPlxuICAgICAgICAgIHt7L2VhY2h9fVxuICAgICAgICB7ey9pZn19XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3skdmFsdWUuZHBfaWR9fS93aGVyZV9idXkvP2Zyb209YnJvd3NlciN0YWJzIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InByaWNlIj4meWVuOyB7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAge3svZWFjaH19XG4gICAgICA8bGkgY2xhc3M9InNlZS1hbGwtbGlzdCI+XG4gICAgICAgIDxhIGhyZWY9Imh0dHA6Ly93d3cue3tleHROYW1lfX0uY29tL2Rwe3tkYXRhLm5vdy5kcF9pZH19L3doZXJlX2J1eS8/ZnJvbT1icm93c2VyJmNyYzY0PTEmbT1iMmMjdGFicyJ0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNob3ctYWxsIj7mn6XnnIvlhajpg6jllYblrrYoe3tsZW59fSk8L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgdHVybi1wYWdlIj5cbiAgICAgIDxhIGlkPSJiMmMtcHJldi1wYWdlIiB0YXJnZXQ9Il9zZWxmIiB0aXRsZT0i5LiK5LiA6aG1IiBocmVmPSJqYXZhc2NyaXB0OiIgY2xhc3M9Im5ld2ItYmciPjwvYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJhbGwtcHJvZHVjdHMiIHN0eWxlPSJ3aWR0aDp7e3Byb2R1Y3RXfX1weCI+XG4gICAgICA8dWwgaWQ9ImIyYy1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YS5iMmMucHJvZHVjdH19XG4gICAgICAgICAgPGxpIGlkPSJiMmMtcHJvZC1pdGVtLXt7JGluZGV4fX0iID5cbiAgICAgICAgICAgIDxhIGlkPSJpbWcte3skdmFsdWUuZHBfaWR9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ic21hbGwtaW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19IiBpZD0iZHAtaW1hZ2Utc21hbGwte3skdmFsdWUuZHBfaWR9fSIgY2xhc3M9Imd3ZGFuZy1sYXp5Ij5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnd2QtcHJpY2UiPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImIyYy1wcmljZS1hIiAgaHJlZj0ie3skdmFsdWUudXJsfX0iPsKle3skdmFsdWUucHJpY2Vfcm1iID8gJHZhbHVlLnByaWNlX3JtYiA6ICR2YWx1ZS5wcmljZX19PC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0ic3RvcmUtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InN0b3JlIj57eyR2YWx1ZS5zaXRlX25hbWV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD0ie3skdmFsdWUuZHBfaWR9fV9wcm9tb3Rpb24iPnt7IyR2YWx1ZS5wcm9tb2RvbX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iICBjbGFzcz0iZmVlcy1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmVlcyI+e3skdmFsdWUucmV2X2NudCA/ICgi6K+E6K665pWwOiIgKyB2YWx1ZS5yZXZfY250KSA6ICR2YWx1ZS5mZWUgfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InRpdGxlLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmlnaHQtcGFnZSB0dXJuLXBhZ2UiPlxuICAgICAgPGEgaWQ9ImIyYy1uZXh0LXBhZ2UiIHRpdGxlPSLkuIvkuIDpobUiIHRhcmdldD0iX3NlbGYiIGhyZWY9ImphdmFzY3JpcHQ6IiBjbGFzcz0ibmV3Yi1iZyI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZ3dkX2NvbXBhcmUgLnR1cm4tcGFnZSB7XG4gICAgICB3aWR0aDoge3t3aWR0aH19cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iZ3dkYW5nLWIyY19mdXp6eS1kcC1kZXRhaWwiIGNsYXNzPSJwYW5lbCBiMmNfZnV6enkiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC13cmFwIj5cbiAgICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgICDnrKwgXG4gICAgICA8c3BhbiBjbGFzcz0iY3VycmVudC1wYWdlIiBpZD0iYjJjX2Z1enp5LWN1cnJlbnQtcGFnZSI+PC9zcGFuPlxuICAgICAgIOmhte+8jOWFsSBcbiAgICAgICA8c3BhbiBjbGFzcz0icGFnZS1udW0iIGlkPSJiMmNfZnV6enktcGFnZS1udW0iPjwvc3Bhbj5cbiAgICAgICAg6aG1XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibGVmdC1wYWdlIHR1cm4tcGFnZSIgc3R5bGU9ImxlZnQ6MTBweDsiPlxuICAgICAgPGEgaWQ9ImIyY19mdXp6eS1wcmV2LXBhZ2UiIHRhcmdldD0iX3NlbGYiIHRpdGxlPSLkuIrkuIDpobUiIGNsYXNzPSJuZXdiLWJnIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyIgc3R5bGU9IndpZHRoOnt7cHJvZHVjdFd9fXB4Ij5cbiAgICAgIDx1bCBpZD0iYjJjX2Z1enp5LWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgaWQ9ImIyY19mdXp6eS1wcm9kLWl0ZW0te3skaW5kZXh9fSIgPlxuICAgICAgICAgICAgPGEgaWQ9ImltZy17eyR2YWx1ZS5kcF9pZH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJzbWFsbC1pbWciIGhyZWY9Int7JHZhbHVlLnVybH19Ij5cbiAgICAgICAgICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS90ZW1wbGF0ZS9hdWcvaW1hZ2VzL25ldy8xMjAuZ2lmIiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5pbWdfdXJsfX0iIGlkPSJmdXp6eS1pbWFnZS1zbWFsbC17eyR2YWx1ZS5kcF9pZH19IiBjbGFzcz0iZ3dkYW5nLWxhenkiPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9Imd3ZC1wcmljZSI+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iYjJjLXByaWNlLWEiICBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+wqV7eyR2YWx1ZS5wcmljZV9ybWIgPyAkdmFsdWUucHJpY2Vfcm1iIDogJHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJzdG9yZS1hIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic3RvcmUiPnt7JHZhbHVlLnNpdGVfbmFtZX19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ7eyR2YWx1ZS5kcF9pZH19X3Byb21vdGlvbiI+e3sjJHZhbHVlLnByb21vZG9tfX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgIGNsYXNzPSJmZWVzLWEiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmZWVzIj57eyR2YWx1ZS5yZXZfY250ID8gKCLor4TorrrmlbA6IiArIHZhbHVlLnJldl9jbnQpIDogJHZhbHVlLmZlZSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0idGl0bGUtYSI+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3skdmFsdWUudGl0bGV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIHt7L2VhY2h9fVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJyaWdodC1wYWdlIHR1cm4tcGFnZSI+XG4gICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OiIgaWQ9ImIyY19mdXp6eS1uZXh0LXBhZ2UiIGNsYXNzPSJuZXdiLWJnIiB0aXRsZT0i5LiL5LiA6aG1Ij48L2E+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICNnd2RhbmctYjJjX2Z1enp5LWRwLWRldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgLmIyY19mdXp6eSAudHVybi1wYWdlIHtcbiAgICB3aWR0aDoge3t3aWR0aH19cHg7XG4gIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbmV3IEltYWdlOwoJCQkJZS5zcmMgPSB0LnNlcnZlciArICIvdmlzaXQvP3ZlcnNpb249IiArIHQudmVyc2lvbiArICImZnJvbV9kZXZpY2U9IiArIHQuZnJvbV9kZXZpY2UgKyAiJmFjdGlvbj10ZXN0X3RvbmdqaSZyZWZlcj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnJlZmVycmVyKSArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbigxNiksCgkJCQlyID0gbig5MiksCgkJCQlzID0gbigxNyksCgkJCQlsID0gdm9pZCAwLAoJCQkJYyA9IHZvaWQgMCwKCQkJCWQgPSB7fSwKCQkJCXAgPSAhMCwKCQkJCWggPSB7fSwKCQkJCXUgPSB7CgkJCQkJbGlhbmppYTogewoJCQkJCQlsaXN0OiAiLnNlbGxMaXN0Q29udGVudCBsaSIsCgkJCQkJCWhyZWZpdGVtOiAiLmluZm8gLnRpdGxlIGEiLAoJCQkJCQlpbnNlcnRkb206ICIuc2VsbExpc3RDb250ZW50IGxpIgoJCQkJCX0sCgkJCQkJbGlhbmppYTI6IHsKCQkJCQkJbGlzdDogIiNqcy1lcnNob3VmYW5nTGlzdCAubS1saXN0PnVsPmxpIiwKCQkJCQkJaHJlZml0ZW06ICIucHJvcC10aXRsZSBhIiwKCQkJCQkJaW5zZXJ0ZG9tOiAiI2pzLWVyc2hvdWZhbmdMaXN0IC5tLWxpc3Q+dWw+bGkiCgkJCQkJfSwKCQkJCQkiNWk1aiI6IHsKCQkJCQkJbGlzdDogIiNleGNoYW5nZUxpc3QgLmxpc3QtYm9keT5saSIsCgkJCQkJCWhyZWZpdGVtOiAiYSIsCgkJCQkJCWluc2VydGRvbTogIiNleGNoYW5nZUxpc3QgLmxpc3QtYm9keT5saSIKCQkJCQl9LAoJCQkJCWNlbnRhbmV0OiB7CgkJCQkJCWxpc3Q6ICIuc2VjdGlvbi1ob3VzZWxpc3RzIC5ob3VzZS1pdGVtIiwKCQkJCQkJaHJlZml0ZW06ICIuaG91c2UtdGl0bGUgYSIsCgkJCQkJCWluc2VydGRvbTogIi5zZWN0aW9uLWhvdXNlbGlzdHMgLmhvdXNlLWl0ZW0iCgkJCQkJfSwKCQkJCQljZW50YW5ldDI6IHsKCQkJCQkJbGlzdDogIi5yZXN1bHQtbGlzdHMgLmhvdXNlLW1haW4gLmhvdXNlLWl0ZW0iLAoJCQkJCQlocmVmaXRlbTogIi5ob3VzZS10aXRsZSBhIiwKCQkJCQkJaW5zZXJ0ZG9tOiAiLnJlc3VsdC1saXN0cyAuaG91c2UtbWFpbiAuaG91c2UtaXRlbSIKCQkJCQl9CgkJCQl9LAoJCQkJbSA9IHsKCQkJCQlsaWFuamlhOiAiLmNvbnRlbnQ+LnByaWNlIiwKCQkJCQlsaWFuamlhMjogIi5ob3VzZUluZm8iLAoJCQkJCSI1aTVqIjogIi5ob3VzZS1pbmZvPmxpOmZpcnN0LWNoaWxkIiwKCQkJCQljZW50YW5ldDogIiNzaWRlZml4ZWRib3ggLmluZm90b3AiLAoJCQkJCWNlbnRhbmV0MjogIi5yb29tYmFzZS1pbmZvciAucm9vbWJhc2UtcHJpY2UiCgkJCQl9LAoJCQkJZiA9IHsKCQkJCQlsaWFuamlhOiA0NDEsCgkJCQkJIjVpNWoiOiA0NDIsCgkJCQkJY2VudGFuZXQ6IDUxMQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IFMoKSwKCQkJCQkJbiA9IHZvaWQgMDsKCQkJCQlpZiAoMiA9PSBlKSB7CgkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZjsKCQkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJCWNhc2UgImxpYW5qaWEiOgoJCQkJCQkJCW4gPSBpLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQluID0gaS5tYXRjaCgvXC8oW2EtejAtOV0rKSg/OiR8XD8pLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQkJbiA9IGkubWF0Y2goL1wvKFthLXowLTldKylcLmh0bWwvKVsxXQoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJdmFyIGEgPSBjOwoJCQkJCQlzd2l0Y2ggKHQuc2l0ZSkgewoJCQkJCQkJY2FzZSAibGlhbmppYSI6CgkJCQkJCQkJbiA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXJldHVybiBlLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV0KCQkJCQkJCQl9KS5qb2luKCIsIik7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQluID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUubWF0Y2goL1wvKFthLXowLTldKykoPzokfFw/KS8pWzFdCgkJCQkJCQkJfSkuam9pbigiLCIpOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQkJY2FzZSAiY2VudGFuZXQiOgoJCQkJCQkJCW4gPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCQlyZXR1cm4gZS5tYXRjaCgvXC8oW2EtejAtOV0rKVwuaHRtbC8pWzFdCgkJCQkJCQkJfSkuam9pbigiLCIpCgkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBmW3Quc2l0ZV07CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIG4gPSBnKCksCgkJCQkJCQlvID0gdC51X2hvdXNlICsgIi9hcGkvaG91c2VfY29sbGVjdGlvbj9hYz1leGlzdCZzaXRlX2lkPSIgKyBlICsgIiZob3VzZV9jb2RlPSIgKyBuOwoJCQkJCQlhLmdldChvKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWlmIChlICYmIGUuZXhpc3QpCgkJCQkJCQkJZm9yICh2YXIgdCA9IGkoIi5odC1wcmljZS1yZW1pbmQiKSwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7CgkJCQkJCQkJCXZhciBhID0gdC5lcShuKS5hdHRyKCJkYXRhLWlkIik7CgkJCQkJCQkJCWUuZXhpc3RbYV0gJiYgKHQuZXEobikuYWRkQ2xhc3MoImhhc3JlbWluZCIpLCB0LmVxKG4pLmZpbmQoInNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgdC5lcShuKS5hdHRyKCJkYXRhLWNvbGlkIiwgZS5leGlzdFthXSkpCgkJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmICghKGRbZV0gPj0gNCkpIHsKCQkJCQkJZFtlXSB8fCAoZFtlXSA9IDEpLCBkW2VdICsrOwoJCQkJCQl2YXIgaSA9IGZbdC5zaXRlXSwKCQkJCQkJCW8gPSB0LnVfaG91c2UgKyAiL2FwaS9ob3VzZV9jb2xsZWN0aW9uP2FjPWFkZCZzaXRlX2lkPSIgKyBpICsgIiZob3VzZV9jb2RlPSIgKyBlICsgIiZmcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJCQlhLmdldChvKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUgJiYgIuaUtuiXj+aIkOWKnyIgPT09IGUubXNnID8gbihlKSA6ICLor7flhYjnmbvlvZUiID09PSBlLm1zZyAmJiAobG9jYXRpb24uaHJlZiA9IGUubG9naW5VcmwpCgkJCQkJCX0pCgkJCQkJfQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGkgPSB0LnVfaG91c2UgKyAiL2FwaS9ob3VzZV9jb2xsZWN0aW9uP2FjPWRlbCZjb2xsZWN0aW9uX2lkPSIgKyBlOwoJCQkJCWEuZ2V0KGkpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmICLliKDpmaTmiJDlip8iID09PSBlLm1zZyAmJiBuKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMCwKCQkJCQkJdCA9IHZvaWQgMDsKCQkJCQlpKCIuaHQtdHJlbmQtZGVzYywgI2JkZXh0X21pbmliYXIgLmJkZXh0LXRvcHRhYnMiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGkodGhpcykucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoInRyZW5kLWJveC0xIik7CgkJCQkJCWlmICghZSkgewoJCQkJCQkJdmFyIHQgPSBpKHRoaXMpLnBhcmVudCgpLm5leHQoKS5maW5kKCIuaG91c2UtdHJlbmQtaW1nIiksCgkJCQkJCQkJbiA9IHQuYXR0cigiZGF0YS1zcmMiKSwKCQkJCQkJCQlhID0gdC5hdHRyKCJpZCIpOwoJCQkJCQkJMCA9PT0gdC5jaGlsZHJlbigpLmxlbmd0aCAmJiB5KG4sIGEpLCBpKHRoaXMpLmFkZENsYXNzKCJtc2hvdmVyIiksIGkodGhpcykucGFyZW50KCkubmV4dCgpLnNob3coKQoJCQkJCQl9CgkJCQkJfSksIGkoIi5odC10cmVuZC1kZXNjLCAjYmRleHRfbWluaWJhciAuYmRleHQtdG9wdGFicyIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKHQpLnBhcmVudCgpLm5leHQoKS5oaWRlKCksIGkodCkucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCQl9LCAzMDApCgkJCQkJfSksIGkoIi5ob3VzZXQtZGV0YWlsIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSksIGkoIi5ob3VzZXQtZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSh0aGlzKS5oaWRlKCksIGkoIi5odC10cmVuZC1kZXNjLCAjYmRleHRfbWluaWJhciIpLnJlbW92ZUNsYXNzKCJtc2hvdmVyIik7CgkJCQkJfSksIGkoIi5odC1wcmljZS1yZW1pbmQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJdCA9IGkodGhpcykuZmluZCgic3BhbiIpLnRleHQoKSwKCQkJCQkJCW4gPSBpKHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJaWYgKCLpmY3ku7fmj5DphpIiID09PSB0KSB4KG4sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWkoZSkuYWRkQ2xhc3MoImhhc3JlbWluZCIpLCBpKGUpLmZpbmQoInNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgaShlKS5hdHRyKCJkYXRhLWNvbGlkIiwgdC5jb2xsZWN0X2lkKQoJCQkJCQl9KTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgYSA9IGkodGhpcykuYXR0cigiZGF0YS1jb2xpZCIpOwoJCQkJCQkJdyhhLCBmdW5jdGlvbigpIHsKCQkJCQkJCQlpKGUpLmF0dHIoImRhdGEtY29saWQiLCBudWxsKSwgaShlKS5yZW1vdmVDbGFzcygiaGFzcmVtaW5kIiksIGkoZSkuZmluZCgic3BhbiIpLnRleHQoIumZjeS7t+aPkOmGkiIpCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfSksIGkoIi5odC1wcmljZS1yZW1pbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkwICE9IHMuZ2V0KCJzaG93X2xqZnFyY29kZSIpICYmIHAgJiYgaSh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCIuaHQtd3hxcmNvZGUiKS5zaG93KCkKCQkJCQl9KSwgaSgiLmh0LXByaWNlLXJlbWluZCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpczsKCQkJCQkJdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKGUpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5odC13eHFyY29kZSIpLmhpZGUoKQoJCQkJCQl9LCAxNTApCgkJCQkJfSksIGkoIi5odC13eHFyY29kZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dCh0KQoJCQkJCX0pLCBpKCIuaHQtd3hxcmNvZGUiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIuaHQtd3hxcmNvZGUiKS5oaWRlKCkKCQkJCQl9KSwgaSgiLmh0LXd4cXJjb2RlIC5odC13eC1zcDMiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiLmh0LXd4cXJjb2RlIikuaGlkZSgpLCBwID0gITEsIHIuc2V0dGluZ3MoInNldF9zaG93X2xqZnFyY29kZSIsICJzaG93X2xqZnFyY29kZSIsICIwIikKCQkJCQl9KSwgaSgiYm9keSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBpKGUudGFyZ2V0KSwKCQkJCQkJCW4gPSB0LnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5jb21tdW5pdHktcHJpY2UiKTsKCQkJCQkJdC5oYXNDbGFzcygiaG91c2UtdHJlbmQtYiIpID8gKG4uaGlkZSgpLCB0LnBhcmVudCgpLmZpbmQoInNwYW4iKS5yZW1vdmVDbGFzcygidHJlbmQtY2hvb3NlIiksIHQuYWRkQ2xhc3MoInRyZW5kLWNob29zZSIpKSA6IHQuaGFzQ2xhc3MoImNvbW11bml0eS10cmVuZC1iIikgJiYgKDAgPT09IG4uY2hpbGRyZW4oKS5sZW5ndGggPyBrKG4sIGZ1bmN0aW9uKCkgewoJCQkJCQkJdC5wYXJlbnQoKS5maW5kKCJzcGFuIikucmVtb3ZlQ2xhc3MoInRyZW5kLWNob29zZSIpLCB0LmFkZENsYXNzKCJ0cmVuZC1jaG9vc2UiKSwgbi5zaG93KCkKCQkJCQkJfSkgOiAodC5wYXJlbnQoKS5maW5kKCJzcGFuIikucmVtb3ZlQ2xhc3MoInRyZW5kLWNob29zZSIpLCB0LmFkZENsYXNzKCJ0cmVuZC1jaG9vc2UiKSwgbi5zaG93KCkpKQoJCQkJCX0pCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IE51bWJlcihlLmhvdXNlX2FyZWEpIHx8IDA7CgkJCQkJaWYgKHQpIHsKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLnByaWNlX2hpc3RvcnkubGVuZ3RoOyBuKyspIGUucHJpY2VfaGlzdG9yeVtuXVsxXSA9IE51bWJlcigoZS5wcmljZV9oaXN0b3J5W25dWzFdIC8gdCkudG9GaXhlZCgyKSk7CgkJCQkJCXJldHVybiBlCgkJCQkJfQoJCQkJfSwKCQkJCXkgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIGkgPSBlICsgIiZiYWNrX2Zvcm1hdD1yYXciOwoJCQkJCUMoaSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgaSA9IHQucmVwbGFjZSgiaG91c2UtdHJlbmQtIiwgIiIpOwoJCQkJCQloW2ldID0gZSwgbig5MykoewoJCQkJCQkJZWw6IHQsCgkJCQkJCQltYWluVHJlbmQ6ICEwLAoJCQkJCQkJbXNnOiBlCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBpID0gZS5hdHRyKCJkYXRhLXUiKSwKCQkJCQkJYSA9IGUuYXR0cigiaWQiKTsKCQkJCQlDKGksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIGkgPSBhLnJlcGxhY2UoImNvbW11bml0eS0iLCAiIik7CgkJCQkJCWlmIChoW2ldKSB7CgkJCQkJCQl2YXIgbyA9IGIoaFtpXSk7CgkJCQkJCQlvICYmIChlLnByaWNlX2hpc3RvcnkgPSBvLnByaWNlX2hpc3RvcnkpCgkJCQkJCX0KCQkJCQkJbig5MykoewoJCQkJCQkJZWw6IGEsCgkJCQkJCQltc2c6IGUKCQkJCQkJfSksIHQgJiYgdCgpCgkJCQkJfSkKCQkJCX0sCgkJCQl6ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBhID0gbig5NSk7CgkJCQkJImJhaWR1IiA9PT0gdC5mcm9tX2RldmljZSAmJiAoYSA9IG4oOTYpKTsKCQkJCQlmb3IgKHZhciByID0gdVtsXSwgcyA9IGkoci5saXN0KSwgYyA9IDA7IGMgPCBzLmxlbmd0aDsgYysrKSB7CgkJCQkJCXZhciBkID0gcy5lcShjKS5maW5kKHIuaHJlZml0ZW0pLAoJCQkJCQkJcCA9IGQuYXR0cigiaHJlZiIpOyAtIDEgPT09IHAuaW5kZXhPZigiaHR0cCIpICYmIChwID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArIHApOwoJCQkJCQl2YXIgaCA9IHZvaWQgMDsKCQkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJCWNhc2UgImxpYW5qaWEiOgoJCQkJCQkJCWggPSBwLm1hdGNoKC9cLyhbYS16MC05QS1aXSspXC5odG1sLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICI1aTVqIjoKCQkJCQkJCQloID0gcC5tYXRjaCgvXC8oW2EtejAtOV0rKSg/OiR8XD8pLylbMV07CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQkJaCA9IHAubWF0Y2goL1wvKFthLXowLTldKylcLmh0bWwvKVsxXQoJCQkJCQl9CgkJCQkJCXAgPSBlbmNvZGVVUklDb21wb25lbnQocCksIGUuZGF0YVtwXSAmJiBzLmVxKGMpLmFwcGVuZChvLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogZS5kYXRhW3BdLAoJCQkJCQkJc2VydmVyOiB0LnNlcnZlciwKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyLAoJCQkJCQkJaG91c2Vjb2RlOiBoCgkJCQkJCX0pKQoJCQkJCX0KCQkJCQlzZXRUaW1lb3V0KF8sIDUwMCksIHYoKQoJCQkJfSwKCQkJCUIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGEgPSBnKCksCgkJCQkJCXIgPSBtW2xdLAoJCQkJCQlzID0gbig5NSk7CgkJCQkJImJhaWR1IiA9PT0gdC5mcm9tX2RldmljZSAmJiAocyA9IG4oOTYpKTsKCQkJCQl2YXIgYyA9IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKTsKCQkJCQlpKHIpLmFmdGVyKG8uY29tcGlsZShzKSh7CgkJCQkJCWRhdGE6IGUuZGF0YVtjXSwKCQkJCQkJc2VydmVyOiB0LnNlcnZlciwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCXBhZ2V0eXBlOiAiZHBwYWdlIiwKCQkJCQkJaG91c2Vjb2RlOiBhCgkJCQkJfSkpLCB2KCksIHNldFRpbWVvdXQoXywgNTAwKQoJCQkJfSwKCQkJCWogPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB1W2xdLAoJCQkJCQluID0gdC5saXN0ICsgIiAiICsgdC5ocmVmaXRlbSwKCQkJCQkJYSA9IGxvY2F0aW9uLmhvc3Q7CgkJCQkJaWYgKGEuaW5kZXhPZigibGlhbmppYSIpID4gLTEgJiYgMiA9PT0gZSkgcmV0dXJuIGxvY2F0aW9uLmhyZWY7CgkJCQkJaWYgKGEuaW5kZXhPZigibGlhbmppYSIpID4gLTEpIHsKCQkJCQkJdmFyIG8gPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoaShuKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBpKGUpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXJldHVybiAodC5pbmRleE9mKCJodHRwIikgPiAtMSA/ICIiIDogImh0dHA6Ly8iICsgbG9jYXRpb24uaG9zdCkgKyB0CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYyA9IG8sIG8uam9pbigifHwiKQoJCQkJCX0KCQkJCQlpZiAoYS5pbmRleE9mKCI1aTVqIikgPiAtMSAmJiAyID09PSBlKSByZXR1cm4gbG9jYXRpb24uaHJlZjsKCQkJCQlpZiAoYS5pbmRleE9mKCI1aTVqIikgPiAtMSkgewoJCQkJCQl2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChpKCIjZXhjaGFuZ2VMaXN0IC5saXN0LWJvZHk+bGk+YSIpLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArIGkoZSkuYXR0cigiaHJlZiIpCgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gYyA9IG8sIG8uam9pbigifHwiKQoJCQkJCX0KCQkJCQlpZiAoYS5pbmRleE9mKCJjZW50YW5ldCIpID4gLTEgJiYgMiA9PT0gZSkgcmV0dXJuIGxvY2F0aW9uLmhyZWY7CgkJCQkJaWYgKGEuaW5kZXhPZigiY2VudGFuZXQiKSA+IC0xKSB7CgkJCQkJCXZhciBvID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGkobiksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgaShlKS5hdHRyKCJocmVmIikKCQkJCQkJfSk7CgkJCQkJCXJldHVybiBjID0gbywgby5qb2luKCJ8fCIpCgkJCQkJfQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJYS5nZXQoZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGxvY2F0aW9uLmhyZWYsCgkJCQkJCXQgPSAwLAoJCQkJCQluID0gbDsKCQkJCQlzd2l0Y2ggKG4pIHsKCQkJCQkJY2FzZSAibGlhbmppYSI6CgkJCQkJCQl0ID0gZS5tYXRjaCgvXGQrXC5odG1sLykgJiYgaSgiI3RvcEltZyIpLmxlbmd0aCA+IDAgPyAyIDogMTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJsaWFuamlhMiI6CgkJCQkJCQl0ID0gZS5tYXRjaCgvXGQrXC5odG1sLykgJiYgaSgiI2FsYnVtQmlnIikubGVuZ3RoID4gMCA/IDIgOiAxOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgIjVpNWoiOgoJCQkJCQkJZS5tYXRjaCgvZXhjaGFuZ2VcL1xkKyg/OiR8XD8pLykgJiYgaSgiLmJpZ0ltZyIpLmxlbmd0aCA+IDAgPyB0ID0gMiA6IGUubWF0Y2goL2V4Y2hhbmdlLykgJiYgKHQgPSAxKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJjZW50YW5ldCI6CgkJCQkJCQllLm1hdGNoKC9lcnNob3VmYW5nXC9bYS16MC05XStcLmh0bWwvKSAmJiBpKCIjcGljQm94IikubGVuZ3RoID4gMCA/IHQgPSAyIDogZS5tYXRjaCgvZXJzaG91ZmFuZy8pICYmICh0ID0gMSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiY2VudGFuZXQyIjoKCQkJCQkJCWUubWF0Y2goL2Vyc2hvdWZhbmdcL1thLXowLTldK1wuaHRtbC8pID8gdCA9IDIgOiBlLm1hdGNoKC9lcnNob3VmYW5nLykgJiYgKHQgPSAxKQoJCQkJCX0KCQkJCQlyZXR1cm4gdAoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IG4oOTcpOwoJCQkJCWkoImJvZHkiKS5hcHBlbmQoby5jb21waWxlKGUpKHsKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kCgkJCQkJfSkpLCBpKCJib2R5IikuYWRkQ2xhc3MoImhvdXNlXyIgKyBsKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmIChsID0gdC5zaXRlLCAibGlhbmppYSIgPT0gbCB8fCAiNWk1aiIgPT0gbCB8fCAiY2VudGFuZXQiID09IGwpIHsKCQkJCQkoInNoLmxpYW5qaWEuY29tIiA9PT0gbG9jYXRpb24uaG9zdCB8fCAic3UubGlhbmppYS5jb20iID09PSBsb2NhdGlvbi5ob3N0KSAmJiAobCA9ICJsaWFuamlhMiIpLCAic2guY2VudGFuZXQuY29tIiA9PT0gbG9jYXRpb24uaG9zdCAmJiAobCA9ICJjZW50YW5ldDIiKTsKCQkJCQl2YXIgZSA9IFMoKSwKCQkJCQkJbiA9IGooZSksCgkJCQkJCWkgPSB0LnNlcnZlciArICIvZXh0ZW5zaW9uL2hvdXNlVGlwP3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCTIgPT09IGUgPyBDKGksIEIpIDogQyhpLCB6KSwgTigpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlLCB0LCBuLCBpKSB7CgkJCQkJZnVuY3Rpb24gYSgpIHsKCQkJCQkJbyA+PSBuIHx8IChlKCkgPyB0KCkgOiAobysrLCBzZXRUaW1lb3V0KGEsIGkpKSkKCQkJCQl9CgkJCQkJdmFyIG8gPSAwOwoJCQkJCWEoKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoZSkgewoJCQkJCXZhciB0ID0gZSwKCQkJCQkJaSA9IG4oOSk7CgkJCQkJaS5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQ/dmVyc2lvbj0yJm9wPXNldF9wX2ZvbGQmcF9mb2xkPSIgKyB0KS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJYS5wX2ZvbGQgPSB0CgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQlyZXR1cm4gby5leHRlbmQoITAsIHt9LCBlKQoJCQkJfQoJCQkJdmFyIHIgPSBmdW5jdGlvbihlLCB0LCBpKSB7CgkJCQkJdmFyIG8gPSBuKDkpOwoJCQkJCW8uZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkPyIgKyAoInZlcnNpb249MiZvcD0iICsgZSArICImIiArIHQgKyAiPSIgKyBpKSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWFbdF0gPSBpCgkJCQkJfSkKCQkJCX07CgkJCQlyZXR1cm4gewoJCQkJCW1haW5iYXJmb2xkOiB0LAoJCQkJCXNldHRpbmdzOiByLAoJCQkJCXJldHJ5OiBlLAoJCQkJCWRlZXBDb3B5OiBpCgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IG5ldyBEYXRlKGUgLSAyODhlNSksCgkJCQkJCWkgPSBuLmdldEZ1bGxZZWFyKCk7CgkJCQkJKHQuSUU3IHx8IHQuSUU4KSAmJiAoaSA9IG4uZ2V0RnVsbFllYXIoKSk7CgkJCQkJdmFyIGEgPSBuLmdldE1vbnRoKCkgKyAxLAoJCQkJCQlvID0gbi5nZXREYXRlKCk7CgkJCQkJMTAgPiBhICYmIChhID0gIjAiICsgYSksIDEwID4gbyAmJiAobyA9ICIwIiArIG8pOwoJCQkJCXZhciByID0gaSArICIvIiArIGEgKyAiLyIgKyBvOwoJCQkJCXJldHVybiByCgkJCQl9LAoJCQkJYSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGggLSAxOyBuKyspIHsKCQkJCQkJdC5wdXNoKGVbbl0pOwoJCQkJCQl2YXIgaSA9IHBhcnNlSW50KChlW24gKyAxXVswXSAtIGVbbl1bMF0pIC8gODY0ZTUpOwoJCQkJCQlpZiAoaSA+PSAyKQoJCQkJCQkJZm9yICh2YXIgYSA9IDE7IGkgPiBhOyBhKyspIHQucHVzaChbZVtuXVswXSArIDg2NGU1ICogYSwgZVtuXVsxXV0pCgkJCQkJfQoJCQkJCXJldHVybiB0LnB1c2goZVtlLmxlbmd0aCAtIDFdKSwgdAoJCQkJfTsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdHJ5IHsKCQkJCQl2YXIgdCA9IHsKCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCXJlbmRlclRvOiBlLmVsLAoJCQkJCQkJdHlwZTogImxpbmUiLAoJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQltYXJnaW5MZWZ0OiAiNHB4IiwKCQkJCQkJCQlwYWRkaW5nTGVmdDogIjBweCIsCgkJCQkJCQkJbWFyZ2luVG9wOiAiMCIsCgkJCQkJCQkJcGFkZGluZ1RvcDogIjBweCIsCgkJCQkJCQkJbWFyZ2luQm90dG9tOiAiMHB4IiwKCQkJCQkJCQlwYWRkaW5nQm90dG9tOiAiMHB4IgoJCQkJCQkJfSwKCQkJCQkJCWV2ZW50czogewoJCQkJCQkJCWxvYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQltYXg6IHRoaXMueEF4aXNbMF0ubWF4ICsgODY0ZTYKCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCWNyZWRpdHM6IHsKCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCX0sCgkJCQkJCWNvbG9yczogWyIjZDE1MGYwIiwgIiNmMGI1MDciLCAiIzNlYmRmNyJdLAoJCQkJCQl0aXRsZTogewoJCQkJCQkJdGV4dDogZS50aXRsZSB8fCAiIiwKCQkJCQkJCXg6IC0yMCwKCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJY29sb3I6ICIjMmY3ZWQ4IgoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl4QXhpczogewoJCQkJCQkJdHlwZTogImRhdGV0aW1lIiwKCQkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCQkJZGF5OiAiJVkvJW0iLAoJCQkJCQkJCXdlZWs6ICIlWS8lbSIsCgkJCQkJCQkJbW9udGg6ICIlWS8lbSIKCQkJCQkJCX0sCgkJCQkJCQltaW5UaWNrSW50ZXJ2YWw6IDI1OTJlNiwKCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQljb2xvcjogInJlZCIsCgkJCQkJCQkJZGFzaFN0eWxlOiAibG9uZ2Rhc2hkb3QiLAoJCQkJCQkJCXZhbHVlOiAzLAoJCQkJCQkJCXdpZHRoOiAyCgkJCQkJCQl9XSwKCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJcm90YXRpb246IC0yNSwKCQkJCQkJCQl5OiAzMCwKCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQkJCQlmb250RmFtaWx5OiAiQXJpYWwiLAoJCQkJCQkJCQljb2xvcjogIiMzMjMzMzMiCgkJCQkJCQkJfSwKCQkJCQkJCQlhbGlnbjogImNlbnRlciIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeUF4aXM6IHsKCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJdGV4dDogIiIsCgkJCQkJCQkJcm90YXRpb246IDAsCgkJCQkJCQkJYWxpZ246ICJoaWdoIiwKCQkJCQkJCQl5OiAtMTYsCgkJCQkJCQkJeDogLTEyLAoJCQkJCQkJCW9mZnNldDogLTU1LAoJCQkJCQkJCW1hcmdpbjogMCwKCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQljb2xvcjogIiM1ODU4NTgiCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQl2YWx1ZTogMCwKCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQljb2xvcjogIiM4MDgwODAiCgkJCQkJCQl9XSwKCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDUwCgkJCQkJCX0sCgkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCXhEYXRlRm9ybWF0OiAiJVktJW0tJWQiLAoJCQkJCQkJc2hhcmVkOiAhMCwKCQkJCQkJCXZhbHVlRGVjaW1hbHM6IDIsCgkJCQkJCQl2YWx1ZVByZWZpeDogIiIsCgkJCQkJCQl1c2VIVE1MOiAhMCwKCQkJCQkJCXZhbHVlU3VmZml4OiAiIOS4hyIsCgkJCQkJCQlib3JkZXJDb2xvcjogIm5vbmUiLAoJCQkJCQkJcGFkZGluZzogMjAsCgkJCQkJCQlmb3JtYXR0ZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWZvciAodmFyIGUgPSBpKHRoaXMueCksIHQgPSAnPHRhYmxlIHN0eWxlPSJtYXJnaW4tbGVmdDoxMnB4Ij48dHI+PHRkIHdpZHRoPSIxMDAlIiBjb2xzcGFuPSI4IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyO2ZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtZmFtaWx5OiBBcmlhbDtmb250LXNpemU6MTRweCI+JyArIGUgKyAiPC90ZD48L3RkPjwvdHI+IiwgbiA9IDA7IG4gPCB0aGlzLnBvaW50cy5sZW5ndGg7IG4rKykgewoJCQkJCQkJCQl2YXIgYSA9IHBhcnNlRmxvYXQoTnVtYmVyKHRoaXMucG9pbnRzW25dLnkpLnRvRml4ZWQoMikpICsgIuS4hyI7CgkJCQkJCQkJCXQgKz0gJzx0cj48dGQgc3R5bGU9IndpZHRoOiA4MHB4OyB0ZXh0LWFsaWduOiBsZWZ0Ij48c3BhbiBzdHlsZT0iY29sb3I6ICcgKyB0aGlzLnBvaW50c1tuXS5wb2ludC5zZXJpZXMuY29sb3IgKyAnO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OmFyaWFsO2Zsb2F0Om5vbmU7bWFyZ2luLXJpZ2h0OjVweDsiPuKXjzwvc3Bhbj4nICsgdGhpcy5wb2ludHNbbl0ucG9pbnQuc2VyaWVzLm5hbWUgKyAnPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmctbGVmdDo0cHg7Ij4nICsgYSArICI8L3RkPjwvdHI+IgoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gdCArPSAiPC90YWJsZT4iCgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQlzZXJpZXM6IHsKCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJcmFkaXVzOiAxLAoJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJcmFkaXVzOiAyCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCWxpbmVXaWR0aDogMS41LAoJCQkJCQkJCXNoYWRvdzogITEsCgkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQlsaW5lV2lkdGg6IDEKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJbGVnZW5kOiB7CgkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCWJvcmRlcldpZHRoOiAwLAoJCQkJCQkJdmVydGljYWxBbGlnbjogInRvcCIsCgkJCQkJCQl4OiAyMjgsCgkJCQkJCQl5OiAtOCwKCQkJCQkJCWl0ZW1TdHlsZTogewoJCQkJCQkJCWNvbG9yOiAiIzU4NTg1OCIsCgkJCQkJCQkJZm9udFdlaWdodDogIm5vcm1hbCIsCgkJCQkJCQkJZm9udFNpemU6ICIxNHB4IiwKCQkJCQkJCQltYXJnaW5Cb3R0b206ICIwcHgiCgkJCQkJCQl9LAoJCQkJCQkJc3ltYm9sV2lkdGg6IDEyLAoJCQkJCQkJc3ltYm9sSGVpZ2h0OiAzLAoJCQkJCQkJaXRlbU1hcmdpbkJvdHRvbTogMCwKCQkJCQkJCWl0ZW1NYXJnaW5Ub3A6IDAsCgkJCQkJCQltYXJnaW46IDEyCgkJCQkJCX0sCgkJCQkJCXNlcmllczogW10KCQkJCQl9OwoJCQkJCXQudGl0bGUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQkJCQl2YXIgbyA9IGUubXNnOwoJCQkJCWlmIChlLm1haW5UcmVuZCkgdC5zZXJpZXNbMF0gPSB7CgkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQluYW1lOiAi5oi/5rqQ5Lu35qC86LWw5Yq/IiwKCQkJCQkJbWFya2VyOiB7CgkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCX0sCgkJCQkJCWRhdGE6IFtdCgkJCQkJfSwgdC5zZXJpZXNbMF0uZGF0YSA9IG8ucHJpY2VfaGlzdG9yeSwgdC5zZXJpZXNbMF0uZGF0YSA9IGEodC5zZXJpZXNbMF0uZGF0YSksIHQuY29sb3JzID0gWyIjM2ViZGY3Il0sIHQubGVnZW5kLmVuYWJsZWQgPSAhMTsKCQkJCQllbHNlIHsKCQkJCQkJdmFyIHIgPSAwLAoJCQkJCQkJcyA9IDAsCgkJCQkJCQlsID0gMCwKCQkJCQkJCWMgPSBbXTsKCQkJCQkJaWYgKG8ub25zYWxlLmxlbmd0aCA+IDEpIHsKCQkJCQkJCXQuc2VyaWVzW3JdID0gewoJCQkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQkJCW5hbWU6ICLmjILniYzljZXku7ciLAoJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCQkJfSwKCQkJCQkJCQlkYXRhOiBbXQoJCQkJCQkJfSwgcysrLCBsKyssIGMucHVzaCgiI2QxNTBmMCIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4OwoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGQgPCBlLm1zZy5vbnNhbGUubGVuZ3RoOyBkKyspIHsKCQkJCQkJCQl2YXIgcCA9IG5ldyBBcnJheSgyKTsKCQkJCQkJCQlwWzBdID0gMWUzICogZS5tc2cub25zYWxlW2RdWzBdLCBwWzFdID0gTWF0aC5yb3VuZCgxMDAgKiBlLm1zZy5vbnNhbGVbZF1bMV0pIC8gMTAwLCB0LnNlcmllc1tyXS5kYXRhLnB1c2gocCkKCQkJCQkJCX0KCQkJCQkJCXQuc2VyaWVzW3JdLmRhdGEgPSBhKHQuc2VyaWVzW3JdLmRhdGEpCgkJCQkJCX0KCQkJCQkJaWYgKG8uZGVhbHQubGVuZ3RoID4gMSkgewoJCQkJCQkJdC5zZXJpZXNbc10gPSB7CgkJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQkJbmFtZTogIuaIkOS6pOWNleS7tyIsCgkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIKCQkJCQkJCQl9LAoJCQkJCQkJCWRhdGE6IFtdCgkJCQkJCQl9LCBsKyssIGMucHVzaCgiI2YwYjUwNyIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4OwoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGQgPCBlLm1zZy5kZWFsdC5sZW5ndGg7IGQrKykgewoJCQkJCQkJCXZhciBwID0gbmV3IEFycmF5KDIpOwoJCQkJCQkJCXBbMF0gPSAxZTMgKiBlLm1zZy5kZWFsdFtkXVswXSwgcFsxXSA9IE1hdGgucm91bmQoMTAwICogZS5tc2cuZGVhbHRbZF1bMV0pIC8gMTAwLCB0LnNlcmllc1tzXS5kYXRhLnB1c2gocCkKCQkJCQkJCX0KCQkJCQkJCXQuc2VyaWVzW3NdLmRhdGEgPSBhKHQuc2VyaWVzW3NdLmRhdGEpCgkJCQkJCX0KCQkJCQkJby5wcmljZV9oaXN0b3J5Lmxlbmd0aCA+IDEgJiYgKHQuc2VyaWVzW2xdID0gewoJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQluYW1lOiAi5oi/5rqQ5Y2V5Lu3IiwKCQkJCQkJCWRhdGE6IFtdCgkJCQkJCX0sIGMucHVzaCgiIzNlYmRmNyIpLCB0LmxlZ2VuZC54ID0gdC5sZWdlbmQueCAtIDQ4LCB0LnNlcmllc1tsXS5kYXRhID0gYShlLm1zZy5wcmljZV9oaXN0b3J5KSksIHQueUF4aXMudGl0bGUudGV4dCA9ICLljZXkvY0o5LiHKSIsIHQuY29sb3JzID0gYwoJCQkJCX0KCQkJCQluZXcgbi5DaGFydCh0KQoJCQkJfSBjYXRjaCAoaCkge30KCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig5NCkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCSEgZnVuY3Rpb24oKSB7CgkJCWZ1bmN0aW9uIGEoZSwgdCkgewoJCQkJdmFyIG47CgkJCQllIHx8IChlID0ge30pOwoJCQkJZm9yIChuIGluIHQpIGVbbl0gPSB0W25dOwoJCQkJcmV0dXJuIGUKCQkJfQoKCQkJZnVuY3Rpb24gbygpIHsKCQkJCXZhciBlLCB0LCBuID0gYXJndW1lbnRzLAoJCQkJCWkgPSB7fSwKCQkJCQlhID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl2YXIgbiwgaTsKCQkJCQkJIm9iamVjdCIgIT0gdHlwZW9mIGUgJiYgKGUgPSB7fSk7CgkJCQkJCWZvciAoaSBpbiB0KSB0Lmhhc093blByb3BlcnR5KGkpICYmIChuID0gdFtpXSwgbiAmJiAib2JqZWN0IiA9PSB0eXBlb2YgbiAmJiAiW29iamVjdCBBcnJheV0iICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikgJiYgInJlbmRlclRvIiAhPT0gaSAmJiAibnVtYmVyIiAhPSB0eXBlb2Ygbi5ub2RlVHlwZSA/IGVbaV0gPSBhKGVbaV0gfHwge30sIG4pIDogZVtpXSA9IHRbaV0pOwoJCQkJCQlyZXR1cm4gZQoJCQkJCX07CgkJCQlmb3IgKG5bMF0gPT09ICEwICYmIChpID0gblsxXSwgbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4sIDIpKSwgdCA9IG4ubGVuZ3RoLCBlID0gMDsgdCA+IGU7IGUrKykgaSA9IGEoaSwgbltlXSk7CgkJCQlyZXR1cm4gaQoJCQl9CgoJCQlmdW5jdGlvbiByKGUsIHQpIHsKCQkJCXJldHVybiBwYXJzZUludChlLCB0IHx8IDEwKQoJCQl9CgoJCQlmdW5jdGlvbiBzKGUpIHsKCQkJCXJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZQoJCQl9CgoJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCXJldHVybiBlICYmICJvYmplY3QiID09IHR5cGVvZiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGMoZSkgewoJCQkJcmV0dXJuICJbb2JqZWN0IEFycmF5XSIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKQoJCQl9CgoJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCXJldHVybiAibnVtYmVyIiA9PSB0eXBlb2YgZQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCXJldHVybiBfZS5sb2coZSkgLyBfZS5MTjEwCgkJCX0KCgkJCWZ1bmN0aW9uIGgoZSkgewoJCQkJcmV0dXJuIF9lLnBvdygxMCwgZSkKCQkJfQoKCQkJZnVuY3Rpb24gdShlLCB0KSB7CgkJCQlmb3IgKHZhciBuID0gZS5sZW5ndGg7IG4tLTspCgkJCQkJaWYgKGVbbl0gPT09IHQpIHsKCQkJCQkJZS5zcGxpY2UobiwgMSk7CgkJCQkJCWJyZWFrCgkJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBtKGUpIHsKCQkJCXJldHVybiBlICE9PSBXICYmIG51bGwgIT09IGUKCQkJfQoKCQkJZnVuY3Rpb24gZihlLCB0LCBuKSB7CgkJCQl2YXIgaSwgYTsKCQkJCWlmIChzKHQpKSBtKG4pID8gZS5zZXRBdHRyaWJ1dGUodCwgbikgOiBlICYmIGUuZ2V0QXR0cmlidXRlICYmIChhID0gZS5nZXRBdHRyaWJ1dGUodCkpOwoJCQkJZWxzZSBpZiAobSh0KSAmJiBsKHQpKQoJCQkJCWZvciAoaSBpbiB0KSBlLnNldEF0dHJpYnV0ZShpLCB0W2ldKTsKCQkJCXJldHVybiBhCgkJCX0KCgkJCWZ1bmN0aW9uIGcoZSkgewoJCQkJcmV0dXJuIGMoZSkgPyBlIDogW2VdCgkJCX0KCgkJCWZ1bmN0aW9uIF8oKSB7CgkJCQl2YXIgZSwgdCwgbiA9IGFyZ3VtZW50cywKCQkJCQlpID0gbi5sZW5ndGg7CgkJCQlmb3IgKGUgPSAwOyBpID4gZTsgZSsrKQoJCQkJCWlmICh0ID0gbltlXSwgdCAhPT0gVyAmJiBudWxsICE9PSB0KSByZXR1cm4gdAoJCQl9CgoJCQlmdW5jdGlvbiB4KGUsIHQpIHsKCQkJCVRlICYmICFPZSAmJiB0ICYmIHQub3BhY2l0eSAhPT0gVyAmJiAodC5maWx0ZXIgPSAiYWxwaGEob3BhY2l0eT0iICsgMTAwICogdC5vcGFjaXR5ICsgIikiKSwgYShlLnN0eWxlLCB0KQoJCQl9CgoJCQlmdW5jdGlvbiB3KGUsIHQsIG4sIGksIG8pIHsKCQkJCXZhciByID0gZmUuY3JlYXRlRWxlbWVudChlKTsKCQkJCXJldHVybiB0ICYmIGEociwgdCksIG8gJiYgeChyLCB7CgkJCQkJcGFkZGluZzogMCwKCQkJCQlib3JkZXI6IFFlLAoJCQkJCW1hcmdpbjogMAoJCQkJfSksIG4gJiYgeChyLCBuKSwgaSAmJiBpLmFwcGVuZENoaWxkKHIpLCByCgkJCX0KCgkJCWZ1bmN0aW9uIHYoZSwgdCkgewoJCQkJdmFyIG4gPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gVwoJCQkJfTsKCQkJCXJldHVybiBuLnByb3RvdHlwZSA9IG5ldyBlLCBhKG4ucHJvdG90eXBlLCB0KSwgbgoJCQl9CgoJCQlmdW5jdGlvbiBiKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBhID0gbHQubnVtYmVyRm9ybWF0LAoJCQkJCW8gPSBHLmxhbmcsCgkJCQkJcyA9ICtlIHx8IDAsCgkJCQkJbCA9IC0xID09PSB0ID8gKHMudG9TdHJpbmcoKS5zcGxpdCgiLiIpWzFdIHx8ICIiKS5sZW5ndGggOiBpc05hTih0ID0ga2UodCkpID8gMiA6IHQsCgkJCQkJYyA9IHZvaWQgMCA9PT0gbiA/IG8uZGVjaW1hbFBvaW50IDogbiwKCQkJCQlkID0gdm9pZCAwID09PSBpID8gby50aG91c2FuZHNTZXAgOiBpLAoJCQkJCXAgPSAwID4gcyA/ICItIiA6ICIiLAoJCQkJCWggPSBTdHJpbmcocihzID0ga2UocykudG9GaXhlZChsKSkpLAoJCQkJCXUgPSBoLmxlbmd0aCA+IDMgPyBoLmxlbmd0aCAlIDMgOiAwOwoJCQkJcmV0dXJuIGEgIT09IGIgPyBhKGUsIHQsIG4sIGkpIDogcCArICh1ID8gaC5zdWJzdHIoMCwgdSkgKyBkIDogIiIpICsgaC5zdWJzdHIodSkucmVwbGFjZSgvKFxkezN9KSg/PVxkKS9nLCAiJDEiICsgZCkgKyAobCA/IGMgKyBrZShzIC0gaCkudG9GaXhlZChsKS5zbGljZSgyKSA6ICIiKQoJCQl9CgoJCQlmdW5jdGlvbiB5KGUsIHQpIHsKCQkJCXJldHVybiBuZXcgQXJyYXkoKHQgfHwgMikgKyAxIC0gU3RyaW5nKGUpLmxlbmd0aCkuam9pbigwKSArIGUKCQkJfQoKCQkJZnVuY3Rpb24gayhlLCB0LCBuKSB7CgkJCQl2YXIgaSA9IGVbdF07CgkJCQllW3RdID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwoJCQkJCXJldHVybiBlLnVuc2hpZnQoaSksIG4uYXBwbHkodGhpcywgZSkKCQkJCX0KCQkJfQoKCQkJZnVuY3Rpb24geihlLCB0KSB7CgkJCQl2YXIgbiwgaSA9IC9mJC8sCgkJCQkJYSA9IC9cLihbMC05XSkvLAoJCQkJCW8gPSBHLmxhbmc7CgkJCQlyZXR1cm4gaS50ZXN0KGUpID8gKG4gPSBlLm1hdGNoKGEpLCBuID0gbiA/IG5bMV0gOiAtMSwgbnVsbCAhPT0gdCAmJiAodCA9IGIodCwgbiwgby5kZWNpbWFsUG9pbnQsIGUuaW5kZXhPZigiLCIpID4gLTEgPyBvLnRob3VzYW5kc1NlcCA6ICIiKSkpIDogdCA9IFgoZSwgdCksIHQKCQkJfQoKCQkJZnVuY3Rpb24gQihlLCB0KSB7CgkJCQlmb3IgKHZhciBuLCBpLCBhLCBvLCByLCBzLCBsLCBjID0gInsiLCBkID0gITEsIHAgPSBbXTsgLSAxICE9PSAobCA9IGUuaW5kZXhPZihjKSk7KSB7CgkJCQkJaWYgKG4gPSBlLnNsaWNlKDAsIGwpLCBkKSB7CgkJCQkJCWZvciAoaSA9IG4uc3BsaXQoIjoiKSwgYSA9IGkuc2hpZnQoKS5zcGxpdCgiLiIpLCByID0gYS5sZW5ndGgsIHMgPSB0LCBvID0gMDsgciA+IG87IG8rKykgcyA9IHNbYVtvXV07CgkJCQkJCWkubGVuZ3RoICYmIChzID0geihpLmpvaW4oIjoiKSwgcykpLCBwLnB1c2gocykKCQkJCQl9IGVsc2UgcC5wdXNoKG4pOwoJCQkJCWUgPSBlLnNsaWNlKGwgKyAxKSwgZCA9ICFkLCBjID0gZCA/ICJ9IiA6ICJ7IgoJCQkJfQoJCQkJcmV0dXJuIHAucHVzaChlKSwgcC5qb2luKCIiKQoJCQl9CgoJCQlmdW5jdGlvbiBqKGUpIHsKCQkJCXJldHVybiBfZS5wb3coMTAsIHdlKF9lLmxvZyhlKSAvIF9lLkxOMTApKQoJCQl9CgoJCQlmdW5jdGlvbiBDKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBhLCBvOwoJCQkJZm9yIChuID0gXyhuLCAxKSwgYSA9IGUgLyBuLCB0IHx8ICh0ID0gWzEsIDIsIDIuNSwgNSwgMTBdLCBpID09PSAhMSAmJiAoMSA9PT0gbiA/IHQgPSBbMSwgMiwgNSwgMTBdIDogLjEgPj0gbiAmJiAodCA9IFsxIC8gbl0pKSksIG8gPSAwOyBvIDwgdC5sZW5ndGggJiYgKGUgPSB0W29dLCAhKGEgPD0gKHRbb10gKyAodFtvICsgMV0gfHwgdFtvXSkpIC8gMikpOyBvKyspOwoJCQkJcmV0dXJuIGUgKj0gbgoJCQl9CgoJCQlmdW5jdGlvbiBTKGUsIHQpIHsKCQkJCXZhciBuLCBpLCBhID0gZS5sZW5ndGg7CgkJCQlmb3IgKGkgPSAwOyBhID4gaTsgaSsrKSBlW2ldLnNzX2kgPSBpOwoJCQkJZm9yIChlLnNvcnQoZnVuY3Rpb24oZSwgaSkgewoJCQkJCXJldHVybiBuID0gdChlLCBpKSwgMCA9PT0gbiA/IGUuc3NfaSAtIGkuc3NfaSA6IG4KCQkJCX0pLCBpID0gMDsgYSA+IGk7IGkrKykgZGVsZXRlIGVbaV0uc3NfaQoJCQl9CgoJCQlmdW5jdGlvbiBOKGUpIHsKCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCwgbiA9IGVbMF07IHQtLTspIGVbdF0gPCBuICYmIChuID0gZVt0XSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiBUKGUpIHsKCQkJCWZvciAodmFyIHQgPSBlLmxlbmd0aCwgbiA9IGVbMF07IHQtLTspIGVbdF0gPiBuICYmIChuID0gZVt0XSk7CgkJCQlyZXR1cm4gbgoJCQl9CgoJCQlmdW5jdGlvbiBQKGUsIHQpIHsKCQkJCXZhciBuOwoJCQkJZm9yIChuIGluIGUpIGVbbl0gJiYgZVtuXSAhPT0gdCAmJiBlW25dLmRlc3Ryb3kgJiYgZVtuXS5kZXN0cm95KCksIGRlbGV0ZSBlW25dCgkJCX0KCgkJCWZ1bmN0aW9uIEkoZSkgewoJCQkJWSB8fCAoWSA9IHcoWWUpKSwgZSAmJiBZLmFwcGVuZENoaWxkKGUpLCBZLmlubmVySFRNTCA9ICIiCgkJCX0KCgkJCWZ1bmN0aW9uIEEoZSkgewoJCQkJcmV0dXJuIHBhcnNlRmxvYXQoZS50b1ByZWNpc2lvbigxNCkpCgkJCX0KCgkJCWZ1bmN0aW9uIHEoZSwgdCkgewoJCQkJSiA9IF8oZSwgdC5hbmltYXRpb24pCgkJCX0KCgkJCWZ1bmN0aW9uIEUoKSB7CgkJCQl2YXIgZSA9IEcuZ2xvYmFsLnVzZVVUQywKCQkJCQl0ID0gZSA/ICJnZXRVVEMiIDogImdldCIsCgkJCQkJbiA9IGUgPyAic2V0VVRDIiA6ICJzZXQiOwoJCQkJZWUgPSBHLmdsb2JhbC5EYXRlIHx8IHdpbmRvdy5EYXRlLCBuZSA9IDZlNCAqIChlICYmIEcuZ2xvYmFsLnRpbWV6b25lT2Zmc2V0IHx8IDApLCB0ZSA9IGUgPyBlZS5VVEMgOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJcmV0dXJuIG5ldyBlZShlLCB0LCBfKG4sIDEpLCBfKGksIDApLCBfKGEsIDApLCBfKG8sIDApKS5nZXRUaW1lKCkKCQkJCX0sIGllID0gdCArICJNaW51dGVzIiwgYWUgPSB0ICsgIkhvdXJzIiwgb2UgPSB0ICsgIkRheSIsIHJlID0gdCArICJEYXRlIiwgc2UgPSB0ICsgIk1vbnRoIiwgbGUgPSB0ICsgIkZ1bGxZZWFyIiwgY2UgPSBuICsgIk1pbnV0ZXMiLCBkZSA9IG4gKyAiSG91cnMiLCBwZSA9IG4gKyAiRGF0ZSIsIGhlID0gbiArICJNb250aCIsIHVlID0gbiArICJGdWxsWWVhciIKCQkJfQoKCQkJZnVuY3Rpb24gTyhlKSB7CgkJCQlyZXR1cm4gRyA9IG8oITAsIEcsIGUpLCBFKCksIEcKCQkJfQoKCQkJZnVuY3Rpb24gTCgpIHsKCQkJCXJldHVybiBHCgkJCX0KCgkJCWZ1bmN0aW9uIEQoKSB7fQoKCQkJZnVuY3Rpb24gTShlLCB0LCBuLCBpKSB7CgkJCQl0aGlzLmF4aXMgPSBlLCB0aGlzLnBvcyA9IHQsIHRoaXMudHlwZSA9IG4gfHwgIiIsIHRoaXMuaXNOZXcgPSAhMCwgbiB8fCBpIHx8IHRoaXMuYWRkTGFiZWwoKQoJCQl9CgoJCQlmdW5jdGlvbiBSKCkgewoJCQkJdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCQkJfQoKCQkJZnVuY3Rpb24gRigpIHsKCQkJCXRoaXMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCX0KCgkJCWZ1bmN0aW9uICQoZSwgdCwgbiwgaSwgYSkgewoJCQkJdmFyIG8gPSBlLmNoYXJ0LmludmVydGVkOwoJCQkJdGhpcy5heGlzID0gZSwgdGhpcy5pc05lZ2F0aXZlID0gbiwgdGhpcy5vcHRpb25zID0gdCwgdGhpcy54ID0gaSwgdGhpcy50b3RhbCA9IG51bGwsIHRoaXMucG9pbnRzID0ge30sIHRoaXMuc3RhY2sgPSBhLCB0aGlzLmFsaWduT3B0aW9ucyA9IHsKCQkJCQlhbGlnbjogdC5hbGlnbiB8fCAobyA/IG4gPyAibGVmdCIgOiAicmlnaHQiIDogImNlbnRlciIpLAoJCQkJCXZlcnRpY2FsQWxpZ246IHQudmVydGljYWxBbGlnbiB8fCAobyA/ICJtaWRkbGUiIDogbiA/ICJib3R0b20iIDogInRvcCIpLAoJCQkJCXk6IF8odC55LCBvID8gNCA6IG4gPyAxNCA6IC02KSwKCQkJCQl4OiBfKHQueCwgbyA/IG4gPyAtNiA6IDYgOiAwKQoJCQkJfSwgdGhpcy50ZXh0QWxpZ24gPSB0LnRleHRBbGlnbiB8fCAobyA/IG4gPyAicmlnaHQiIDogImxlZnQiIDogImNlbnRlciIpCgkJCX0KCQkJdmFyIFcsIEgsIFUsIFksIEcsIFgsIEosIFosIFYsIEssIFEsIGVlLCB0ZSwgbmUsIGllLCBhZSwgb2UsIHJlLCBzZSwgbGUsIGNlLCBkZSwgcGUsIGhlLCB1ZSwgbWUgPSBuKDYpLAoJCQkJZmUgPSBkb2N1bWVudCwKCQkJCWdlID0gd2luZG93LAoJCQkJX2UgPSBNYXRoLAoJCQkJeGUgPSBfZS5yb3VuZCwKCQkJCXdlID0gX2UuZmxvb3IsCgkJCQl2ZSA9IF9lLmNlaWwsCgkJCQliZSA9IF9lLm1heCwKCQkJCXllID0gX2UubWluLAoJCQkJa2UgPSBfZS5hYnMsCgkJCQl6ZSA9IF9lLmNvcywKCQkJCUJlID0gX2Uuc2luLAoJCQkJamUgPSBfZS5QSSwKCQkJCUNlID0gMiAqIGplIC8gMzYwLAoJCQkJU2UgPSBuYXZpZ2F0b3IudXNlckFnZW50LAoJCQkJTmUgPSBnZS5vcGVyYSwKCQkJCVRlID0gL21zaWUvaS50ZXN0KFNlKSAmJiAhTmUsCgkJCQlQZSA9IDggPT09IGZlLmRvY3VtZW50TW9kZSwKCQkJCUllID0gL0FwcGxlV2ViS2l0Ly50ZXN0KFNlKSwKCQkJCUFlID0gL0ZpcmVmb3gvLnRlc3QoU2UpLAoJCQkJcWUgPSAvKE1vYmlsZXxBbmRyb2lkfFdpbmRvd3MgUGhvbmUpLy50ZXN0KFNlKSwKCQkJCUVlID0gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwKCQkJCU9lID0gISFmZS5jcmVhdGVFbGVtZW50TlMgJiYgISFmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJzdmciKS5jcmVhdGVTVkdSZWN0LAoJCQkJTGUgPSBBZSAmJiBwYXJzZUludChTZS5zcGxpdCgiRmlyZWZveC8iKVsxXSwgMTApIDwgNCwKCQkJCURlID0gIU9lICYmICFUZSAmJiAhIWZlLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQsCgkJCQlNZSA9IHt9LAoJCQkJUmUgPSAwLAoJCQkJRmUgPSBmdW5jdGlvbigpIHsKCQkJCQlyZXR1cm4gVwoJCQkJfSwKCQkJCSRlID0gW10sCgkJCQlXZSA9IDAsCgkJCQlIZSA9ICJIaWdoY2hhcnRzIiwKCQkJCVVlID0gIjQuMC40IiwKCQkJCVllID0gImRpdiIsCgkJCQlHZSA9ICJhYnNvbHV0ZSIsCgkJCQlYZSA9ICJyZWxhdGl2ZSIsCgkJCQlKZSA9ICJoaWRkZW4iLAoJCQkJWmUgPSAiaGlnaGNoYXJ0cy0iLAoJCQkJVmUgPSAidmlzaWJsZSIsCgkJCQlLZSA9ICJweCIsCgkJCQlRZSA9ICJub25lIiwKCQkJCWV0ID0gIk0iLAoJCQkJdHQgPSAiTCIsCgkJCQludCA9IC9eWzAtOV0rJC8sCgkJCQlpdCA9ICIiLAoJCQkJYXQgPSAiaG92ZXIiLAoJCQkJb3QgPSAic2VsZWN0IiwKCQkJCXJ0ID0gInN0cm9rZS13aWR0aCIsCgkJCQlzdCA9IHt9LAoJCQkJbHQgPSB7fTsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBsdAoJCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpLCBYID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCWlmICghbSh0KSB8fCBpc05hTih0KSkgcmV0dXJuICJJbnZhbGlkIGRhdGUiOwoJCQkJCWUgPSBfKGUsICIlWS0lbS0lZCAlSDolTTolUyIpOwoJCQkJCXZhciBpLCBvID0gbmV3IGVlKHQgLSBuZSksCgkJCQkJCXIgPSBvW2FlXSgpLAoJCQkJCQlzID0gb1tvZV0oKSwKCQkJCQkJbCA9IG9bcmVdKCksCgkJCQkJCWMgPSBvW3NlXSgpLAoJCQkJCQlkID0gb1tsZV0oKSwKCQkJCQkJcCA9IEcubGFuZywKCQkJCQkJaCA9IHAud2Vla2RheXMsCgkJCQkJCXUgPSBhKHsKCQkJCQkJCWE6IGhbc10uc3Vic3RyKDAsIDMpLAoJCQkJCQkJQTogaFtzXSwKCQkJCQkJCWQ6IHkobCksCgkJCQkJCQllOiBsLAoJCQkJCQkJYjogcC5zaG9ydE1vbnRoc1tjXSwKCQkJCQkJCUI6IHAubW9udGhzW2NdLAoJCQkJCQkJbTogeShjICsgMSksCgkJCQkJCQl5OiBkLnRvU3RyaW5nKCkuc3Vic3RyKDIsIDIpLAoJCQkJCQkJWTogZCwKCQkJCQkJCUg6IHkociksCgkJCQkJCQlJOiB5KHIgJSAxMiB8fCAxMiksCgkJCQkJCQlsOiByICUgMTIgfHwgMTIsCgkJCQkJCQlNOiB5KG9baWVdKCkpLAoJCQkJCQkJcDogMTIgPiByID8gIkFNIiA6ICJQTSIsCgkJCQkJCQlQOiAxMiA+IHIgPyAiYW0iIDogInBtIiwKCQkJCQkJCVM6IHkoby5nZXRTZWNvbmRzKCkpLAoJCQkJCQkJTDogeSh4ZSh0ICUgMWUzKSwgMykKCQkJCQkJfSwgbHQuZGF0ZUZvcm1hdHMpOwoJCQkJCWZvciAoaSBpbiB1KQoJCQkJCQlmb3IgKDsgLSAxICE9PSBlLmluZGV4T2YoIiUiICsgaSk7KSBlID0gZS5yZXBsYWNlKCIlIiArIGksICJmdW5jdGlvbiIgPT0gdHlwZW9mIHVbaV0gPyB1W2ldKHQpIDogdVtpXSk7CgkJCQkJcmV0dXJuIG4gPyBlLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgZS5zdWJzdHIoMSkgOiBlCgkJCQl9LCBLID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gIkhpZ2hjaGFydHMgZXJyb3IgIyIgKyBlICsgIjogd3d3LmhpZ2hjaGFydHMuY29tL2Vycm9ycy8iICsgZTsKCQkJCQlpZiAodCkgdGhyb3cgbjsKCQkJCQlnZS5jb25zb2xlICYmIGNvbnNvbGUubG9nKG4pCgkJCQl9LCBWID0gewoJCQkJCW1pbGxpc2Vjb25kOiAxLAoJCQkJCXNlY29uZDogMWUzLAoJCQkJCW1pbnV0ZTogNmU0LAoJCQkJCWhvdXI6IDM2ZTUsCgkJCQkJZGF5OiA4NjRlNSwKCQkJCQl3ZWVrOiA2MDQ4ZTUsCgkJCQkJbW9udGg6IDI2Nzg0ZTUsCgkJCQkJeWVhcjogMzE1NTY5NTJlMwoJCQkJfSwgWiA9IHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXQgPSB0IHx8ICIiOwoJCQkJCQl2YXIgaSwgYSwgbywgciwgcywgbCA9IGUuc2hpZnQsCgkJCQkJCQljID0gdC5pbmRleE9mKCJDIikgPiAtMSwKCQkJCQkJCWQgPSBjID8gNyA6IDMsCgkJCQkJCQlwID0gdC5zcGxpdCgiICIpLAoJCQkJCQkJaCA9IFtdLmNvbmNhdChuKSwKCQkJCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJZm9yIChvID0gZS5sZW5ndGg7IG8tLTspIGVbb10gPT09IGV0ICYmIGUuc3BsaWNlKG8gKyAxLCAwLCBlW28gKyAxXSwgZVtvICsgMl0sIGVbbyArIDFdLCBlW28gKyAyXSkKCQkJCQkJCX07CgkJCQkJCWlmIChjICYmICh1KHApLCB1KGgpKSwgZS5pc0FyZWEgJiYgKHIgPSBwLnNwbGljZShwLmxlbmd0aCAtIDYsIDYpLCBzID0gaC5zcGxpY2UoaC5sZW5ndGggLSA2LCA2KSksIGwgPD0gaC5sZW5ndGggLyBkICYmIHAubGVuZ3RoID09PSBoLmxlbmd0aCkKCQkJCQkJCWZvciAoOyBsLS07KSBoID0gW10uY29uY2F0KGgpLnNwbGljZSgwLCBkKS5jb25jYXQoaCk7CgkJCQkJCWlmIChlLnNoaWZ0ID0gMCwgcC5sZW5ndGgpCgkJCQkJCQlmb3IgKGkgPSBoLmxlbmd0aDsgcC5sZW5ndGggPCBpOykgYSA9IFtdLmNvbmNhdChwKS5zcGxpY2UocC5sZW5ndGggLSBkLCBkKSwgYyAmJiAoYVtkIC0gNl0gPSBhW2QgLSAyXSwgYVtkIC0gNV0gPSBhW2QgLSAxXSksIHAgPSBwLmNvbmNhdChhKTsKCQkJCQkJcmV0dXJuIHIgJiYgKHAgPSBwLmNvbmNhdChyKSwgaCA9IGguY29uY2F0KHMpKSwgW3AsIGhdCgkJCQkJfSwKCQkJCQlzdGVwOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhLCBvID0gW10sCgkJCQkJCQlyID0gZS5sZW5ndGg7CgkJCQkJCWlmICgxID09PSBuKSBvID0gaTsKCQkJCQkJZWxzZSBpZiAociA9PT0gdC5sZW5ndGggJiYgMSA+IG4pCgkJCQkJCQlmb3IgKDsgci0tOykgYSA9IHBhcnNlRmxvYXQoZVtyXSksIG9bcl0gPSBpc05hTihhKSA/IGVbcl0gOiBuICogcGFyc2VGbG9hdCh0W3JdIC0gYSkgKyBhOwoJCQkJCQllbHNlIG8gPSB0OwoJCQkJCQlyZXR1cm4gbwoJCQkJCX0KCQkJCX0sCgkJCQlmdW5jdGlvbihlKSB7CgkJCQkJZ2UuSGlnaGNoYXJ0c0FkYXB0ZXIgPSBnZS5IaWdoY2hhcnRzQWRhcHRlciB8fCBlICYmIHsKCQkJCQkJaW5pdDogZnVuY3Rpb24odCkgewoJCQkJCQkJdmFyIG4gPSBlLmZ4OwoJCQkJCQkJZS5leHRlbmQoZS5lYXNpbmcsIHsKCQkJCQkJCQllYXNlT3V0UXVhZDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQkJCQlyZXR1cm4gLWkgKiAodCAvPSBhKSAqICh0IC0gMikgKyBuCgkJCQkJCQkJfQoJCQkJCQkJfSksIGUuZWFjaChbImN1ciIsICJfZGVmYXVsdCIsICJ3aWR0aCIsICJoZWlnaHQiLCAib3BhY2l0eSJdLCBmdW5jdGlvbih0LCBpKSB7CgkJCQkJCQkJdmFyIGEsIG8gPSBuLnN0ZXA7CgkJCQkJCQkJImN1ciIgPT09IGkgPyBvID0gbi5wcm90b3R5cGUgOiAiX2RlZmF1bHQiID09PSBpICYmIGUuVHdlZW4gJiYgKG8gPSBlLlR3ZWVuLnByb3BIb29rc1tpXSwgaSA9ICJzZXQiKSwgYSA9IG9baV0sIGEgJiYgKG9baV0gPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXZhciBuOwoJCQkJCQkJCQlyZXR1cm4gZSA9IHQgPyBlIDogdGhpcywgImFsaWduIiAhPT0gZS5wcm9wID8gKG4gPSBlLmVsZW0sIG4uYXR0ciA/IG4uYXR0cihlLnByb3AsICJjdXIiID09PSBpID8gVyA6IGUubm93KSA6IGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgOiB2b2lkIDAKCQkJCQkJCQl9KQoJCQkJCQkJfSksIGsoZS5jc3NIb29rcy5vcGFjaXR5LCAiZ2V0IiwgZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQkJCXJldHVybiB0LmF0dHIgPyB0Lm9wYWNpdHkgfHwgMCA6IGUuY2FsbCh0aGlzLCB0LCBuKQoJCQkJCQkJfSksIHRoaXMuYWRkQW5pbVNldHRlcigiZCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQl2YXIgbiwgaSA9IGUuZWxlbTsKCQkJCQkJCQllLnN0YXJ0ZWQgfHwgKG4gPSB0LmluaXQoaSwgaS5kLCBpLnRvRCksIGUuc3RhcnQgPSBuWzBdLCBlLmVuZCA9IG5bMV0sIGUuc3RhcnRlZCA9ICEwKSwgaS5hdHRyKCJkIiwgdC5zdGVwKGUuc3RhcnQsIGUuZW5kLCBlLnBvcywgaS50b0QpKQoJCQkJCQkJfSksIHRoaXMuZWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID8gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsIHQpCgkJCQkJCQl9IDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXZhciBuLCBpID0gZS5sZW5ndGg7CgkJCQkJCQkJZm9yIChuID0gMDsgaSA+IG47IG4rKykKCQkJCQkJCQkJaWYgKHQuY2FsbChlW25dLCBlW25dLCBuLCBlKSA9PT0gITEpIHJldHVybiBuCgkJCQkJCQl9LCBlLmZuLmhpZ2hjaGFydHMgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQl2YXIgZSwgdCwgbiwgaSA9ICJDaGFydCIsCgkJCQkJCQkJCWEgPSBhcmd1bWVudHM7CgkJCQkJCQkJcmV0dXJuIHRoaXNbMF0gJiYgKHMoYVswXSkgJiYgKGkgPSBhWzBdLCBhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSwgMSkpLCBlID0gYVswXSwgZSAhPT0gVyAmJiAoZS5jaGFydCA9IGUuY2hhcnQgfHwge30sIGUuY2hhcnQucmVuZGVyVG8gPSB0aGlzWzBdLCBuID0gbmV3IGx0W2ldKGUsIGFbMV0pLCB0ID0gdGhpcyksIGUgPT09IFcgJiYgKHQgPSAkZVtmKHRoaXNbMF0sICJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiKV0pKSwgdAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlhZGRBbmltU2V0dGVyOiBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQllLlR3ZWVuID8gZS5Ud2Vlbi5wcm9wSG9va3NbdF0gPSB7CgkJCQkJCQkJc2V0OiBuCgkJCQkJCQl9IDogZS5meC5zdGVwW3RdID0gbgoJCQkJCQl9LAoJCQkJCQlnZXRTY3JpcHQ6IGUuZ2V0U2NyaXB0LAoJCQkJCQlpbkFycmF5OiBlLmluQXJyYXksCgkJCQkJCWFkYXB0ZXJSdW46IGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJCXJldHVybiBlKHQpW25dKCkKCQkJCQkJfSwKCQkJCQkJZ3JlcDogZS5ncmVwLAoJCQkJCQltYXA6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCWZvciAodmFyIG4gPSBbXSwgaSA9IDAsIGEgPSBlLmxlbmd0aDsgYSA+IGk7IGkrKykgbltpXSA9IHQuY2FsbChlW2ldLCBlW2ldLCBpLCBlKTsKCQkJCQkJCXJldHVybiBuCgkJCQkJCX0sCgkJCQkJCW9mZnNldDogZnVuY3Rpb24odCkgewoJCQkJCQkJcmV0dXJuIGUodCkub2Zmc2V0KCkKCQkJCQkJfSwKCQkJCQkJYWRkRXZlbnQ6IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCWUodCkuYmluZChuLCBpKQoJCQkJCQl9LAoJCQkJCQlyZW1vdmVFdmVudDogZnVuY3Rpb24odCwgbiwgaSkgewoJCQkJCQkJdmFyIGEgPSBmZS5yZW1vdmVFdmVudExpc3RlbmVyID8gInJlbW92ZUV2ZW50TGlzdGVuZXIiIDogImRldGFjaEV2ZW50IjsKCQkJCQkJCWZlW2FdICYmIHQgJiYgIXRbYV0gJiYgKHRbYV0gPSBmdW5jdGlvbigpIHt9KSwgZSh0KS51bmJpbmQobiwgaSkKCQkJCQkJfSwKCQkJCQkJZmlyZUV2ZW50OiBmdW5jdGlvbih0LCBuLCBpLCBvKSB7CgkJCQkJCQl2YXIgciwgcyA9IGUuRXZlbnQobiksCgkJCQkJCQkJbCA9ICJkZXRhY2hlZCIgKyBuOwoJCQkJCQkJIVRlICYmIGkgJiYgKGRlbGV0ZSBpLmxheWVyWCwgZGVsZXRlIGkubGF5ZXJZLCBkZWxldGUgaS5yZXR1cm5WYWx1ZSksIGEocywgaSksIHRbbl0gJiYgKHRbbF0gPSB0W25dLCB0W25dID0gbnVsbCksIGUuZWFjaChbInByZXZlbnREZWZhdWx0IiwgInN0b3BQcm9wYWdhdGlvbiJdLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJdmFyIG4gPSBzW3RdOwoJCQkJCQkJCXNbdF0gPSBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdHJ5IHsKCQkJCQkJCQkJCW4uY2FsbChzKQoJCQkJCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCQkJCQkicHJldmVudERlZmF1bHQiID09PSB0ICYmIChyID0gITApCgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9KSwgZSh0KS50cmlnZ2VyKHMpLCB0W2xdICYmICh0W25dID0gdFtsXSwgdFtsXSA9IG51bGwpLCAhbyB8fCBzLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IHIgfHwgbyhzKQoJCQkJCQl9LAoJCQkJCQl3YXNoTW91c2VFdmVudDogZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIHQgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZTsKCQkJCQkJCXJldHVybiB0LnBhZ2VYID09PSBXICYmICh0LnBhZ2VYID0gZS5wYWdlWCwgdC5wYWdlWSA9IGUucGFnZVkpLCB0CgkJCQkJCX0sCgkJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKHQsIG4sIGkpIHsKCQkJCQkJCXZhciBhID0gZSh0KTsKCQkJCQkJCXQuc3R5bGUgfHwgKHQuc3R5bGUgPSB7fSksIG4uZCAmJiAodC50b0QgPSBuLmQsIG4uZCA9IDEpLCBhLnN0b3AoKSwgbi5vcGFjaXR5ICE9PSBXICYmIHQuYXR0ciAmJiAobi5vcGFjaXR5ICs9ICJweCIpLCB0Lmhhc0FuaW0gPSAxLCBhLmFuaW1hdGUobiwgaSkKCQkJCQkJfSwKCQkJCQkJc3RvcDogZnVuY3Rpb24odCkgewoJCQkJCQkJdC5oYXNBbmltICYmIGUodCkuc3RvcCgpCgkJCQkJCX0KCQkJCQl9CgkJCQl9KG1lKTsKCQkJdmFyIGN0ID0gZ2UuSGlnaGNoYXJ0c0FkYXB0ZXIsCgkJCQlkdCA9IGN0IHx8IHt9OwoJCQljdCAmJiBjdC5pbml0LmNhbGwoY3QsIFopOwoJCQl2YXIgcHQgPSBkdC5hZGFwdGVyUnVuLAoJCQkJaHQgPSBkdC5nZXRTY3JpcHQsCgkJCQl1dCA9IGR0LmluQXJyYXksCgkJCQltdCA9IGR0LmVhY2gsCgkJCQlmdCA9IGR0LmdyZXAsCgkJCQlndCA9IGR0Lm9mZnNldCwKCQkJCV90ID0gZHQubWFwLAoJCQkJeHQgPSBkdC5hZGRFdmVudCwKCQkJCXd0ID0gZHQucmVtb3ZlRXZlbnQsCgkJCQl2dCA9IGR0LmZpcmVFdmVudCwKCQkJCWJ0ID0gZHQud2FzaE1vdXNlRXZlbnQsCgkJCQl5dCA9IGR0LmFuaW1hdGUsCgkJCQlrdCA9IGR0LnN0b3AsCgkJCQl6dCA9IHsKCQkJCQllbmFibGVkOiAhMCwKCQkJCQl4OiAwLAoJCQkJCXk6IDE1LAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzYwNjA2MCIsCgkJCQkJCWN1cnNvcjogImRlZmF1bHQiLAoJCQkJCQlmb250U2l6ZTogIjExcHgiCgkJCQkJfQoJCQkJfTsKCQkJRyA9IHsKCQkJCWNvbG9yczogWyIjN2NiNWVjIiwgIiM0MzQzNDgiLCAiIzkwZWQ3ZCIsICIjZjdhMzVjIiwgIiM4MDg1ZTkiLCAiI2YxNWM4MCIsICIjZTRkMzU0IiwgIiM4MDg1ZTgiLCAiIzhkNDY1MyIsICIjOTFlOGUxIl0sCgkJCQlzeW1ib2xzOiBbImNpcmNsZSIsICJkaWFtb25kIiwgInNxdWFyZSIsICJ0cmlhbmdsZSIsICJ0cmlhbmdsZS1kb3duIl0sCgkJCQlsYW5nOiB7CgkJCQkJbG9hZGluZzogIkxvYWRpbmcuLi4iLAoJCQkJCW1vbnRoczogWyJKYW51YXJ5IiwgIkZlYnJ1YXJ5IiwgIk1hcmNoIiwgIkFwcmlsIiwgIk1heSIsICJKdW5lIiwgIkp1bHkiLCAiQXVndXN0IiwgIlNlcHRlbWJlciIsICJPY3RvYmVyIiwgIk5vdmVtYmVyIiwgIkRlY2VtYmVyIl0sCgkJCQkJc2hvcnRNb250aHM6IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXSwKCQkJCQl3ZWVrZGF5czogWyJTdW5kYXkiLCAiTW9uZGF5IiwgIlR1ZXNkYXkiLCAiV2VkbmVzZGF5IiwgIlRodXJzZGF5IiwgIkZyaWRheSIsICJTYXR1cmRheSJdLAoJCQkJCWRlY2ltYWxQb2ludDogIi4iLAoJCQkJCW51bWVyaWNTeW1ib2xzOiBbImsiLCAiTSIsICJHIiwgIlQiLCAiUCIsICJFIl0sCgkJCQkJcmVzZXRab29tOiAiUmVzZXQgem9vbSIsCgkJCQkJcmVzZXRab29tVGl0bGU6ICJSZXNldCB6b29tIGxldmVsIDE6MSIsCgkJCQkJdGhvdXNhbmRzU2VwOiAiLCIKCQkJCX0sCgkJCQlnbG9iYWw6IHsKCQkJCQl1c2VVVEM6ICEwLAoJCQkJCWNhbnZhc1Rvb2xzVVJMOiAiaHR0cDovL2NvZGUuaGlnaGNoYXJ0cy5jb20vNC4wLjQvbW9kdWxlcy9jYW52YXMtdG9vbHMuanMiLAoJCQkJCVZNTFJhZGlhbEdyYWRpZW50VVJMOiAiaHR0cDovL2NvZGUuaGlnaGNoYXJ0cy5jb20vNC4wLjQvZ2Z4L3ZtbC1yYWRpYWwtZ3JhZGllbnQucG5nIgoJCQkJfSwKCQkJCWNoYXJ0OiB7CgkJCQkJYm9yZGVyQ29sb3I6ICIjNDU3MkE3IiwKCQkJCQlib3JkZXJSYWRpdXM6IDAsCgkJCQkJZGVmYXVsdFNlcmllc1R5cGU6ICJsaW5lIiwKCQkJCQlpZ25vcmVIaWRkZW5TZXJpZXM6ICEwLAoJCQkJCXNwYWNpbmc6IFsxMCwgMTAsIDE1LCAxMF0sCgkJCQkJYmFja2dyb3VuZENvbG9yOiAiI0ZGRkZGRiIsCgkJCQkJcGxvdEJvcmRlckNvbG9yOiAiI0MwQzBDMCIsCgkJCQkJcmVzZXRab29tQnV0dG9uOiB7CgkJCQkJCXRoZW1lOiB7CgkJCQkJCQl6SW5kZXg6IDIwCgkJCQkJCX0sCgkJCQkJCXBvc2l0aW9uOiB7CgkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCXg6IC0xMCwKCQkJCQkJCXk6IDEwCgkJCQkJCX0KCQkJCQl9CgkJCQl9LAoJCQkJdGl0bGU6IHsKCQkJCQl0ZXh0OiAiQ2hhcnQgdGl0bGUiLAoJCQkJCWFsaWduOiAiY2VudGVyIiwKCQkJCQltYXJnaW46IDE1LAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWZvbnRTaXplOiAiMThweCIKCQkJCQl9CgkJCQl9LAoJCQkJc3VidGl0bGU6IHsKCQkJCQl0ZXh0OiAiIiwKCQkJCQlhbGlnbjogImNlbnRlciIsCgkJCQkJc3R5bGU6IHsKCQkJCQkJY29sb3I6ICIjNTU1NTU1IgoJCQkJCX0KCQkJCX0sCgkJCQlwbG90T3B0aW9uczogewoJCQkJCWxpbmU6IHsKCQkJCQkJYWxsb3dQb2ludFNlbGVjdDogITEsCgkJCQkJCXNob3dDaGVja2JveDogITEsCgkJCQkJCWFuaW1hdGlvbjogewoJCQkJCQkJZHVyYXRpb246IDFlMwoJCQkJCQl9LAoJCQkJCQlldmVudHM6IHt9LAoJCQkJCQlsaW5lV2lkdGg6IDIsCgkJCQkJCW1hcmtlcjogewoJCQkJCQkJbGluZVdpZHRoOiAwLAoJCQkJCQkJcmFkaXVzOiA0LAoJCQkJCQkJbGluZUNvbG9yOiAiI0ZGRkZGRiIsCgkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCQkJbGluZVdpZHRoUGx1czogMSwKCQkJCQkJCQkJcmFkaXVzUGx1czogMgoJCQkJCQkJCX0sCgkJCQkJCQkJc2VsZWN0OiB7CgkJCQkJCQkJCWZpbGxDb2xvcjogIiNGRkZGRkYiLAoJCQkJCQkJCQlsaW5lQ29sb3I6ICIjMDAwMDAwIiwKCQkJCQkJCQkJbGluZVdpZHRoOiAyCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlwb2ludDogewoJCQkJCQkJZXZlbnRzOiB7fQoJCQkJCQl9LAoJCQkJCQlkYXRhTGFiZWxzOiBvKHp0LCB7CgkJCQkJCQlhbGlnbjogImNlbnRlciIsCgkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJcmV0dXJuIG51bGwgPT09IHRoaXMueSA/ICIiIDogYih0aGlzLnksIC0xKQoJCQkJCQkJfSwKCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJib3R0b20iLAoJCQkJCQkJeTogMAoJCQkJCQl9KSwKCQkJCQkJY3JvcFRocmVzaG9sZDogMzAwLAoJCQkJCQlwb2ludFJhbmdlOiAwLAoJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJbGluZVdpZHRoUGx1czogMSwKCQkJCQkJCQltYXJrZXI6IHt9LAoJCQkJCQkJCWhhbG86IHsKCQkJCQkJCQkJc2l6ZTogMTAsCgkJCQkJCQkJCW9wYWNpdHk6IC4yNQoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQlzZWxlY3Q6IHsKCQkJCQkJCQltYXJrZXI6IHt9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXN0aWNreVRyYWNraW5nOiAhMCwKCQkJCQkJdHVyYm9UaHJlc2hvbGQ6IDFlMwoJCQkJCX0KCQkJCX0sCgkJCQlsYWJlbHM6IHsKCQkJCQlzdHlsZTogewoJCQkJCQlwb3NpdGlvbjogR2UsCgkJCQkJCWNvbG9yOiAiIzNFNTc2RiIKCQkJCQl9CgkJCQl9LAoJCQkJbGVnZW5kOiB7CgkJCQkJZW5hYmxlZDogITAsCgkJCQkJYWxpZ246ICJjZW50ZXIiLAoJCQkJCWxheW91dDogImhvcml6b250YWwiLAoJCQkJCWxhYmVsRm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMubmFtZQoJCQkJCX0sCgkJCQkJYm9yZGVyQ29sb3I6ICIjOTA5MDkwIiwKCQkJCQlib3JkZXJSYWRpdXM6IDAsCgkJCQkJbmF2aWdhdGlvbjogewoJCQkJCQlhY3RpdmVDb2xvcjogIiMyNzRiNmQiLAoJCQkJCQlpbmFjdGl2ZUNvbG9yOiAiI0NDQyIKCQkJCQl9LAoJCQkJCXNoYWRvdzogITEsCgkJCQkJaXRlbVN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWZvbnRTaXplOiAiMTJweCIsCgkJCQkJCWZvbnRXZWlnaHQ6ICJib2xkIgoJCQkJCX0sCgkJCQkJaXRlbUhvdmVyU3R5bGU6IHsKCQkJCQkJY29sb3I6ICIjMDAwIgoJCQkJCX0sCgkJCQkJaXRlbUhpZGRlblN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiI0NDQyIKCQkJCQl9LAoJCQkJCWl0ZW1DaGVja2JveFN0eWxlOiB7CgkJCQkJCXBvc2l0aW9uOiBHZSwKCQkJCQkJd2lkdGg6ICIxM3B4IiwKCQkJCQkJaGVpZ2h0OiAiMTNweCIKCQkJCQl9LAoJCQkJCXN5bWJvbFBhZGRpbmc6IDUsCgkJCQkJdmVydGljYWxBbGlnbjogImJvdHRvbSIsCgkJCQkJeDogMCwKCQkJCQl5OiAwLAoJCQkJCXRpdGxlOiB7CgkJCQkJCXN0eWxlOiB7CgkJCQkJCQlmb250V2VpZ2h0OiAiYm9sZCIKCQkJCQkJfQoJCQkJCX0KCQkJCX0sCgkJCQlsb2FkaW5nOiB7CgkJCQkJbGFiZWxTdHlsZTogewoJCQkJCQlmb250V2VpZ2h0OiAiYm9sZCIsCgkJCQkJCXBvc2l0aW9uOiBYZSwKCQkJCQkJdG9wOiAiNDUlIgoJCQkJCX0sCgkJCQkJc3R5bGU6IHsKCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIsCgkJCQkJCW9wYWNpdHk6IC41LAoJCQkJCQl0ZXh0QWxpZ246ICJjZW50ZXIiCgkJCQkJfQoJCQkJfSwKCQkJCXRvb2x0aXA6IHsKCQkJCQllbmFibGVkOiAhMCwKCQkJCQlhbmltYXRpb246IE9lLAoJCQkJCWJhY2tncm91bmRDb2xvcjogInJnYmEoMjQ5LCAyNDksIDI0OSwgLjg1KSIsCgkJCQkJYm9yZGVyV2lkdGg6IDEsCgkJCQkJYm9yZGVyUmFkaXVzOiAzLAoJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCW1pbGxpc2Vjb25kOiAiJUEsICViICVlLCAlSDolTTolUy4lTCIsCgkJCQkJCXNlY29uZDogIiVBLCAlYiAlZSwgJUg6JU06JVMiLAoJCQkJCQltaW51dGU6ICIlQSwgJWIgJWUsICVIOiVNIiwKCQkJCQkJaG91cjogIiVBLCAlYiAlZSwgJUg6JU0iLAoJCQkJCQlkYXk6ICIlQSwgJWIgJWUsICVZIiwKCQkJCQkJd2VlazogIldlZWsgZnJvbSAlQSwgJWIgJWUsICVZIiwKCQkJCQkJbW9udGg6ICIlQiAlWSIsCgkJCQkJCXllYXI6ICIlWSIKCQkJCQl9LAoJCQkJCWhlYWRlckZvcm1hdDogJzxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEwcHgiPntwb2ludC5rZXl9PC9zcGFuPjxici8+JywKCQkJCQlwb2ludEZvcm1hdDogJzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiB7c2VyaWVzLm5hbWV9OiA8Yj57cG9pbnQueX08L2I+PGJyLz4nLAoJCQkJCXNoYWRvdzogITAsCgkJCQkJc25hcDogcWUgPyAyNSA6IDEwLAoJCQkJCXN0eWxlOiB7CgkJCQkJCWNvbG9yOiAiIzMzMzMzMyIsCgkJCQkJCWN1cnNvcjogImRlZmF1bHQiLAoJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQlwYWRkaW5nOiAiOHB4IiwKCQkJCQkJd2hpdGVTcGFjZTogIm5vd3JhcCIKCQkJCQl9CgkJCQl9LAoJCQkJY3JlZGl0czogewoJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCXRleHQ6ICJIaWdoY2hhcnRzLmNvbSIsCgkJCQkJaHJlZjogImh0dHA6Ly93d3cuaGlnaGNoYXJ0cy5jb20iLAoJCQkJCXBvc2l0aW9uOiB7CgkJCQkJCWFsaWduOiAicmlnaHQiLAoJCQkJCQl4OiAtMTAsCgkJCQkJCXZlcnRpY2FsQWxpZ246ICJib3R0b20iLAoJCQkJCQl5OiAtNQoJCQkJCX0sCgkJCQkJc3R5bGU6IHsKCQkJCQkJY3Vyc29yOiAicG9pbnRlciIsCgkJCQkJCWNvbG9yOiAiIzkwOTA5MCIsCgkJCQkJCWZvbnRTaXplOiAiOXB4IgoJCQkJCX0KCQkJCX0KCQkJfTsKCQkJdmFyIEJ0ID0gRy5wbG90T3B0aW9ucywKCQkJCWp0ID0gQnQubGluZTsKCQkJRSgpOwoJCQl2YXIgQ3QgPSAvcmdiYVwoXHMqKFswLTldezEsM30pXHMqLFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldPyg/OlwuWzAtOV0rKT8pXHMqXCkvLAoJCQkJU3QgPSAvIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sCgkJCQlOdCA9IC9yZ2JcKFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqXCkvLAoJCQkJVHQgPSBmdW5jdGlvbihlKSB7CgkJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJCWUgJiYgZS5zdG9wcyA/IGwgPSBfdChlLnN0b3BzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gVHQoZVsxXSkKCQkJCQkJfSkgOiAocyA9IEN0LmV4ZWMoZSksIHMgPyBjID0gW3Ioc1sxXSksIHIoc1syXSksIHIoc1szXSksIHBhcnNlRmxvYXQoc1s0XSwgMTApXSA6IChzID0gU3QuZXhlYyhlKSwgcyA/IGMgPSBbcihzWzFdLCAxNiksIHIoc1syXSwgMTYpLCByKHNbM10sIDE2KSwgMV0gOiAocyA9IE50LmV4ZWMoZSksIHMgJiYgKGMgPSBbcihzWzFdKSwgcihzWzJdKSwgcihzWzNdKSwgMV0pKSkpCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBuKHQpIHsKCQkJCQkJdmFyIG47CgkJCQkJCXJldHVybiBsID8gKG4gPSBvKGUpLCBuLnN0b3BzID0gW10uY29uY2F0KG4uc3RvcHMpLCBtdChsLCBmdW5jdGlvbihlLCBpKSB7CgkJCQkJCQluLnN0b3BzW2ldID0gW24uc3RvcHNbaV1bMF0sIGUuZ2V0KHQpXQoJCQkJCQl9KSkgOiBuID0gYyAmJiAhaXNOYU4oY1swXSkgPyAicmdiIiA9PT0gdCA/ICJyZ2IoIiArIGNbMF0gKyAiLCIgKyBjWzFdICsgIiwiICsgY1syXSArICIpIiA6ICJhIiA9PT0gdCA/IGNbM10gOiAicmdiYSgiICsgYy5qb2luKCIsIikgKyAiKSIgOiBlLCBuCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBpKGUpIHsKCQkJCQkJaWYgKGwpIG10KGwsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQuYnJpZ2h0ZW4oZSkKCQkJCQkJfSk7CgkJCQkJCWVsc2UgaWYgKGQoZSkgJiYgMCAhPT0gZSkgewoJCQkJCQkJdmFyIHQ7CgkJCQkJCQlmb3IgKHQgPSAwOyAzID4gdDsgdCsrKSBjW3RdICs9IHIoMjU1ICogZSksIGNbdF0gPCAwICYmIChjW3RdID0gMCksIGNbdF0gPiAyNTUgJiYgKGNbdF0gPSAyNTUpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQl9CgoJCQkJCWZ1bmN0aW9uIGEoZSkgewoJCQkJCQlyZXR1cm4gY1szXSA9IGUsIHRoaXMKCQkJCQl9CgkJCQkJdmFyIHMsIGwsIGMgPSBbXTsKCQkJCQlyZXR1cm4gdChlKSwgewoJCQkJCQlnZXQ6IG4sCgkJCQkJCWJyaWdodGVuOiBpLAoJCQkJCQlyZ2JhOiBjLAoJCQkJCQlzZXRPcGFjaXR5OiBhCgkJCQkJfQoJCQkJfTsKCQkJRC5wcm90b3R5cGUgPSB7CgkJCQlvcGFjaXR5OiAxLAoJCQkJdGV4dFByb3BzOiBbImZvbnRTaXplIiwgImZvbnRXZWlnaHQiLCAiZm9udEZhbWlseSIsICJjb2xvciIsICJsaW5lSGVpZ2h0IiwgIndpZHRoIiwgInRleHREZWNvcmF0aW9uIiwgInRleHRTaGFkb3ciLCAiSGNUZXh0U3Ryb2tlIl0sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzOwoJCQkJCW4uZWxlbWVudCA9ICJzcGFuIiA9PT0gdCA/IHcodCkgOiBmZS5jcmVhdGVFbGVtZW50TlMoRWUsIHQpLCBuLnJlbmRlcmVyID0gZQoJCQkJfSwKCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IF8odCwgSiwgITApOwoJCQkJCXJldHVybiBrdCh0aGlzKSwgaSA/IChpID0gbyhpLCB7fSksIG4gJiYgKGkuY29tcGxldGUgPSBuKSwgeXQodGhpcywgZSwgaSkpIDogKHRoaXMuYXR0cihlKSwgbiAmJiBuKCkpLCB0aGlzCgkJCQl9LAoJCQkJY29sb3JHcmFkaWVudDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCByLCBzLCBsLCBkLCBwLCBoLCB1LCBmLCBnLCBfID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJeCA9IFtdOwoJCQkJCWlmIChlLmxpbmVhckdyYWRpZW50ID8gYSA9ICJsaW5lYXJHcmFkaWVudCIgOiBlLnJhZGlhbEdyYWRpZW50ICYmIChhID0gInJhZGlhbEdyYWRpZW50IiksIGEpIHsKCQkJCQkJciA9IGVbYV0sIHMgPSBfLmdyYWRpZW50cywgZCA9IGUuc3RvcHMsIHUgPSBuLnJhZGlhbFJlZmVyZW5jZSwgYyhyKSAmJiAoZVthXSA9IHIgPSB7CgkJCQkJCQl4MTogclswXSwKCQkJCQkJCXkxOiByWzFdLAoJCQkJCQkJeDI6IHJbMl0sCgkJCQkJCQl5MjogclszXSwKCQkJCQkJCWdyYWRpZW50VW5pdHM6ICJ1c2VyU3BhY2VPblVzZSIKCQkJCQkJfSksICJyYWRpYWxHcmFkaWVudCIgPT09IGEgJiYgdSAmJiAhbShyLmdyYWRpZW50VW5pdHMpICYmIChyID0gbyhyLCB7CgkJCQkJCQljeDogdVswXSAtIHVbMl0gLyAyICsgci5jeCAqIHVbMl0sCgkJCQkJCQljeTogdVsxXSAtIHVbMl0gLyAyICsgci5jeSAqIHVbMl0sCgkJCQkJCQlyOiByLnIgKiB1WzJdLAoJCQkJCQkJZ3JhZGllbnRVbml0czogInVzZXJTcGFjZU9uVXNlIgoJCQkJCQl9KSk7CgkJCQkJCWZvciAoZiBpbiByKSAiaWQiICE9PSBmICYmIHgucHVzaChmLCByW2ZdKTsKCQkJCQkJZm9yIChmIGluIGQpIHgucHVzaChkW2ZdKTsKCQkJCQkJeCA9IHguam9pbigiLCIpLCBzW3hdID8gZyA9IHNbeF0uYXR0cigiaWQiKSA6IChyLmlkID0gZyA9IFplICsgUmUrKywgc1t4XSA9IGwgPSBfLmNyZWF0ZUVsZW1lbnQoYSkuYXR0cihyKS5hZGQoXy5kZWZzKSwgbC5zdG9wcyA9IFtdLCBtdChkLCBmdW5jdGlvbihlKSB7CgkJCQkJCQl2YXIgdDsKCQkJCQkJCTAgPT09IGVbMV0uaW5kZXhPZigicmdiYSIpID8gKGkgPSBUdChlWzFdKSwgcCA9IGkuZ2V0KCJyZ2IiKSwgaCA9IGkuZ2V0KCJhIikpIDogKHAgPSBlWzFdLCBoID0gMSksIHQgPSBfLmNyZWF0ZUVsZW1lbnQoInN0b3AiKS5hdHRyKHsKCQkJCQkJCQlvZmZzZXQ6IGVbMF0sCgkJCQkJCQkJInN0b3AtY29sb3IiOiBwLAoJCQkJCQkJCSJzdG9wLW9wYWNpdHkiOiBoCgkJCQkJCQl9KS5hZGQobCksIGwuc3RvcHMucHVzaCh0KQoJCQkJCQl9KSksIG4uc2V0QXR0cmlidXRlKHQsICJ1cmwoIiArIF8udXJsICsgIiMiICsgZyArICIpIikKCQkJCQl9CgkJCQl9LAoJCQkJYXR0cjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvLCByID0gdGhpcy5lbGVtZW50LAoJCQkJCQlzID0gdGhpczsKCQkJCQlpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgdCAhPT0gVyAmJiAobiA9IGUsIGUgPSB7fSwgZVtuXSA9IHQpLCAic3RyaW5nIiA9PSB0eXBlb2YgZSkgcyA9ICh0aGlzW2UgKyAiR2V0dGVyIl0gfHwgdGhpcy5fZGVmYXVsdEdldHRlcikuY2FsbCh0aGlzLCBlLCByKTsKCQkJCQllbHNlIHsKCQkJCQkJZm9yIChuIGluIGUpIGkgPSBlW25dLCBvID0gITEsIHRoaXMuc3ltYm9sTmFtZSAmJiAvXih4fHl8d2lkdGh8aGVpZ2h0fHJ8c3RhcnR8ZW5kfGlubmVyUnxhbmNob3JYfGFuY2hvclkpLy50ZXN0KG4pICYmIChhIHx8ICh0aGlzLnN5bWJvbEF0dHIoZSksIGEgPSAhMCksIG8gPSAhMCksICF0aGlzLnJvdGF0aW9uIHx8ICJ4IiAhPT0gbiAmJiAieSIgIT09IG4gfHwgKHRoaXMuZG9UcmFuc2Zvcm0gPSAhMCksIG8gfHwgKHRoaXNbbiArICJTZXR0ZXIiXSB8fCB0aGlzLl9kZWZhdWx0U2V0dGVyKS5jYWxsKHRoaXMsIGksIG4sIHIpLCB0aGlzLnNoYWRvd3MgJiYgL14od2lkdGh8aGVpZ2h0fHZpc2liaWxpdHl8eHx5fGR8dHJhbnNmb3JtfGN4fGN5fHIpJC8udGVzdChuKSAmJiB0aGlzLnVwZGF0ZVNoYWRvd3MobiwgaSk7CgkJCQkJCXRoaXMuZG9UcmFuc2Zvcm0gJiYgKHRoaXMudXBkYXRlVHJhbnNmb3JtKCksIHRoaXMuZG9UcmFuc2Zvcm0gPSAhMSkKCQkJCQl9CgkJCQkJcmV0dXJuIHMKCQkJCX0sCgkJCQl1cGRhdGVTaGFkb3dzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbiA9IHRoaXMuc2hhZG93cywgaSA9IG4ubGVuZ3RoOyBpLS07KSBuW2ldLnNldEF0dHJpYnV0ZShlLCAiaGVpZ2h0IiA9PT0gZSA/IGJlKHQgLSAobltpXS5jdXRIZWlnaHQgfHwgMCksIDApIDogImQiID09PSBlID8gdGhpcy5kIDogdCkKCQkJCX0sCgkJCQlhZGRDbGFzczogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5lbGVtZW50LAoJCQkJCQluID0gZih0LCAiY2xhc3MiKSB8fCAiIjsKCQkJCQlyZXR1cm4gLTEgPT09IG4uaW5kZXhPZihlKSAmJiBmKHQsICJjbGFzcyIsIG4gKyAiICIgKyBlKSwgdGhpcwoJCQkJfSwKCQkJCXN5bWJvbEF0dHI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJbXQoWyJ4IiwgInkiLCAiciIsICJzdGFydCIsICJlbmQiLCAid2lkdGgiLCAiaGVpZ2h0IiwgImlubmVyUiIsICJhbmNob3JYIiwgImFuY2hvclkiXSwgZnVuY3Rpb24obikgewoJCQkJCQl0W25dID0gXyhlW25dLCB0W25dKQoJCQkJCX0pLCB0LmF0dHIoewoJCQkJCQlkOiB0LnJlbmRlcmVyLnN5bWJvbHNbdC5zeW1ib2xOYW1lXSh0LngsIHQueSwgdC53aWR0aCwgdC5oZWlnaHQsIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQljbGlwOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuYXR0cigiY2xpcC1wYXRoIiwgZSA/ICJ1cmwoIiArIHRoaXMucmVuZGVyZXIudXJsICsgIiMiICsgZS5pZCArICIpIiA6IFFlKQoJCQkJfSwKCQkJCWNyaXNwOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0ge30sCgkJCQkJCW8gPSBlLnN0cm9rZVdpZHRoIHx8IGkuc3Ryb2tlV2lkdGggfHwgMDsKCQkJCQluID0geGUobykgJSAyIC8gMiwgZS54ID0gd2UoZS54IHx8IGkueCB8fCAwKSArIG4sIGUueSA9IHdlKGUueSB8fCBpLnkgfHwgMCkgKyBuLCBlLndpZHRoID0gd2UoKGUud2lkdGggfHwgaS53aWR0aCB8fCAwKSAtIDIgKiBuKSwgZS5oZWlnaHQgPSB3ZSgoZS5oZWlnaHQgfHwgaS5oZWlnaHQgfHwgMCkgLSAyICogbiksIGUuc3Ryb2tlV2lkdGggPSBvOwoJCQkJCWZvciAodCBpbiBlKSBpW3RdICE9PSBlW3RdICYmIChpW3RdID0gYVt0XSA9IGVbdF0pOwoJCQkJCXJldHVybiBhCgkJCQl9LAoJCQkJY3NzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlzID0gby5zdHlsZXMsCgkJCQkJCWwgPSB7fSwKCQkJCQkJYyA9IG8uZWxlbWVudCwKCQkJCQkJZCA9ICIiLAoJCQkJCQlwID0gIXM7CgkJCQkJaWYgKGUgJiYgZS5jb2xvciAmJiAoZS5maWxsID0gZS5jb2xvciksIHMpCgkJCQkJCWZvciAobiBpbiBlKSBlW25dICE9PSBzW25dICYmIChsW25dID0gZVtuXSwgcCA9ICEwKTsKCQkJCQlpZiAocCkgewoJCQkJCQlpZiAodCA9IG8udGV4dFdpZHRoID0gZSAmJiBlLndpZHRoICYmICJ0ZXh0IiA9PT0gYy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmIHIoZS53aWR0aCksIHMgJiYgKGUgPSBhKHMsIGwpKSwgby5zdHlsZXMgPSBlLCB0ICYmIChEZSB8fCAhT2UgJiYgby5yZW5kZXJlci5mb3JFeHBvcnQpICYmIGRlbGV0ZSBlLndpZHRoLCBUZSAmJiAhT2UpIHgoby5lbGVtZW50LCBlKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQlpID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiAiLSIgKyB0LnRvTG93ZXJDYXNlKCkKCQkJCQkJCX07CgkJCQkJCQlmb3IgKG4gaW4gZSkgZCArPSBuLnJlcGxhY2UoLyhbQS1aXSkvZywgaSkgKyAiOiIgKyBlW25dICsgIjsiOwoJCQkJCQkJZihjLCAic3R5bGUiLCBkKQoJCQkJCQl9CgkJCQkJCXQgJiYgby5hZGRlZCAmJiBvLnJlbmRlcmVyLmJ1aWxkVGV4dChvKQoJCQkJCX0KCQkJCQlyZXR1cm4gbwoJCQkJfSwKCQkJCW9uOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5lbGVtZW50OwoJCQkJCXJldHVybiBVICYmICJjbGljayIgPT09IGUgPyAoaS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCW4udG91Y2hFdmVudEZpcmVkID0gZWUubm93KCksIGUucHJldmVudERlZmF1bHQoKSwgdC5jYWxsKGksIGUpCgkJCQkJfSwgaS5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewoJCQkJCQkoLTEgPT09IFNlLmluZGV4T2YoIkFuZHJvaWQiKSB8fCBlZS5ub3coKSAtIChuLnRvdWNoRXZlbnRGaXJlZCB8fCAwKSA+IDExMDApICYmIHQuY2FsbChpLCBlKQoJCQkJCX0pIDogaVsib24iICsgZV0gPSB0LCB0aGlzCgkJCQl9LAoJCQkJc2V0UmFkaWFsUmVmZXJlbmNlOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuZWxlbWVudC5yYWRpYWxSZWZlcmVuY2UgPSBlLCB0aGlzCgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMuYXR0cih7CgkJCQkJCXRyYW5zbGF0ZVg6IGUsCgkJCQkJCXRyYW5zbGF0ZVk6IHQKCQkJCQl9KQoJCQkJfSwKCQkJCWludmVydDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXJldHVybiBlLmludmVydGVkID0gITAsIGUudXBkYXRlVHJhbnNmb3JtKCksIGUKCQkJCX0sCgkJCQl1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQudHJhbnNsYXRlWCB8fCAwLAoJCQkJCQlpID0gdC50cmFuc2xhdGVZIHx8IDAsCgkJCQkJCWEgPSB0LnNjYWxlWCwKCQkJCQkJbyA9IHQuc2NhbGVZLAoJCQkJCQlyID0gdC5pbnZlcnRlZCwKCQkJCQkJcyA9IHQucm90YXRpb24sCgkJCQkJCWwgPSB0LmVsZW1lbnQ7CgkJCQkJciAmJiAobiArPSB0LmF0dHIoIndpZHRoIiksIGkgKz0gdC5hdHRyKCJoZWlnaHQiKSksIGUgPSBbInRyYW5zbGF0ZSgiICsgbiArICIsIiArIGkgKyAiKSJdLCByID8gZS5wdXNoKCJyb3RhdGUoOTApIHNjYWxlKC0xLDEpIikgOiBzICYmIGUucHVzaCgicm90YXRlKCIgKyBzICsgIiAiICsgKGwuZ2V0QXR0cmlidXRlKCJ4IikgfHwgMCkgKyAiICIgKyAobC5nZXRBdHRyaWJ1dGUoInkiKSB8fCAwKSArICIpIiksIChtKGEpIHx8IG0obykpICYmIGUucHVzaCgic2NhbGUoIiArIF8oYSwgMSkgKyAiICIgKyBfKG8sIDEpICsgIikiKSwgZS5sZW5ndGggJiYgbC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIGUuam9pbigiICIpKQoJCQkJfSwKCQkJCXRvRnJvbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5lbGVtZW50OwoJCQkJCXJldHVybiBlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZSksIHRoaXMKCQkJCX0sCgkJCQlhbGlnbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBsLCBjID0ge30sCgkJCQkJCWQgPSB0aGlzLnJlbmRlcmVyLAoJCQkJCQlwID0gZC5hbGlnbmVkT2JqZWN0czsKCQkJCQlyZXR1cm4gZSA/ICh0aGlzLmFsaWduT3B0aW9ucyA9IGUsIHRoaXMuYWxpZ25CeVRyYW5zbGF0ZSA9IHQsICghbiB8fCBzKG4pKSAmJiAodGhpcy5hbGlnblRvID0gbCA9IG4gfHwgInJlbmRlcmVyIiwgdShwLCB0aGlzKSwgcC5wdXNoKHRoaXMpLCBuID0gbnVsbCkpIDogKGUgPSB0aGlzLmFsaWduT3B0aW9ucywgdCA9IHRoaXMuYWxpZ25CeVRyYW5zbGF0ZSwgbCA9IHRoaXMuYWxpZ25UbyksIG4gPSBfKG4sIGRbbF0sIGQpLCBpID0gZS5hbGlnbiwgYSA9IGUudmVydGljYWxBbGlnbiwgbyA9IChuLnggfHwgMCkgKyAoZS54IHx8IDApLCByID0gKG4ueSB8fCAwKSArIChlLnkgfHwgMCksICgicmlnaHQiID09PSBpIHx8ICJjZW50ZXIiID09PSBpKSAmJiAobyArPSAobi53aWR0aCAtIChlLndpZHRoIHx8IDApKSAvIHsKCQkJCQkJcmlnaHQ6IDEsCgkJCQkJCWNlbnRlcjogMgoJCQkJCX1baV0pLCBjW3QgPyAidHJhbnNsYXRlWCIgOiAieCJdID0geGUobyksICgiYm90dG9tIiA9PT0gYSB8fCAibWlkZGxlIiA9PT0gYSkgJiYgKHIgKz0gKG4uaGVpZ2h0IC0gKGUuaGVpZ2h0IHx8IDApKSAvICh7CgkJCQkJCWJvdHRvbTogMSwKCQkJCQkJbWlkZGxlOiAyCgkJCQkJfVthXSB8fCAxKSksIGNbdCA/ICJ0cmFuc2xhdGVZIiA6ICJ5Il0gPSB4ZShyKSwgdGhpc1t0aGlzLnBsYWNlZCA/ICJhbmltYXRlIiA6ICJhdHRyIl0oYyksIHRoaXMucGxhY2VkID0gITAsIHRoaXMuYWxpZ25BdHRyID0gYywgdGhpcwoJCQkJfSwKCQkJCWdldEJCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpID0gdGhpcywKCQkJCQkJbyA9IGkuYkJveCwKCQkJCQkJciA9IGkucmVuZGVyZXIsCgkJCQkJCXMgPSBpLnJvdGF0aW9uLAoJCQkJCQlsID0gaS5lbGVtZW50LAoJCQkJCQljID0gaS5zdHlsZXMsCgkJCQkJCWQgPSBzICogQ2UsCgkJCQkJCXAgPSBpLnRleHRTdHI7CgkJCQkJaWYgKCgiIiA9PT0gcCB8fCBudC50ZXN0KHApKSAmJiAobiA9ICJudW0uIiArIHAudG9TdHJpbmcoKS5sZW5ndGggKyAoYyA/ICJ8IiArIGMuZm9udFNpemUgKyAifCIgKyBjLmZvbnRGYW1pbHkgOiAiIikpLCBuICYmIChvID0gci5jYWNoZVtuXSksICFvKSB7CgkJCQkJCWlmIChsLm5hbWVzcGFjZVVSSSA9PT0gRWUgfHwgci5mb3JFeHBvcnQpIHsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJbyA9IGwuZ2V0QkJveCA/IGEoe30sIGwuZ2V0QkJveCgpKSA6IHsKCQkJCQkJCQkJd2lkdGg6IGwub2Zmc2V0V2lkdGgsCgkJCQkJCQkJCWhlaWdodDogbC5vZmZzZXRIZWlnaHQKCQkJCQkJCQl9CgkJCQkJCQl9IGNhdGNoIChoKSB7fSghbyB8fCBvLndpZHRoIDwgMCkgJiYgKG8gPSB7CgkJCQkJCQkJd2lkdGg6IDAsCgkJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCQl9KQoJCQkJCQl9IGVsc2UgbyA9IGkuaHRtbEdldEJCb3goKTsKCQkJCQkJci5pc1NWRyAmJiAoZSA9IG8ud2lkdGgsIHQgPSBvLmhlaWdodCwgVGUgJiYgYyAmJiAiMTFweCIgPT09IGMuZm9udFNpemUgJiYgIjE2LjkiID09PSB0LnRvUHJlY2lzaW9uKDMpICYmIChvLmhlaWdodCA9IHQgPSAxNCksIHMgJiYgKG8ud2lkdGggPSBrZSh0ICogQmUoZCkpICsga2UoZSAqIHplKGQpKSwgby5oZWlnaHQgPSBrZSh0ICogemUoZCkpICsga2UoZSAqIEJlKGQpKSkpLCBpLmJCb3ggPSBvLCBuICYmIChyLmNhY2hlW25dID0gbykKCQkJCQl9CgkJCQkJcmV0dXJuIG8KCQkJCX0sCgkJCQlzaG93OiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgJiYgdGhpcy5lbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gRWUgPyB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJ2aXNpYmlsaXR5IikgOiB0aGlzLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBlID8gImluaGVyaXQiIDogVmUKCQkJCQl9KSwgdGhpcwoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiB0aGlzLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBKZQoJCQkJCX0pCgkJCQl9LAoJCQkJZmFkZU91dDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpczsKCQkJCQl0LmFuaW1hdGUoewoJCQkJCQlvcGFjaXR5OiAwCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogZSB8fCAxNTAsCgkJCQkJCWNvbXBsZXRlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXQuYXR0cih7CgkJCQkJCQkJeTogLTk5OTkKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWFkZDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCBzID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJbCA9IGUgfHwgcywKCQkJCQkJYyA9IGwuZWxlbWVudCB8fCBzLmJveCwKCQkJCQkJZCA9IHRoaXMuZWxlbWVudCwKCQkJCQkJcCA9IHRoaXMuekluZGV4OwoJCQkJCWlmIChlICYmICh0aGlzLnBhcmVudEdyb3VwID0gZSksIHRoaXMucGFyZW50SW52ZXJ0ZWQgPSBlICYmIGUuaW52ZXJ0ZWQsIHZvaWQgMCAhPT0gdGhpcy50ZXh0U3RyICYmIHMuYnVpbGRUZXh0KHRoaXMpLCBwICYmIChsLmhhbmRsZVogPSAhMCwgcCA9IHIocCkpLCBsLmhhbmRsZVopCgkJCQkJCWZvciAodCA9IGMuY2hpbGROb2RlcywgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKQoJCQkJCQkJaWYgKG4gPSB0W2FdLCBpID0gZihuLCAiekluZGV4IiksIG4gIT09IGQgJiYgKHIoaSkgPiBwIHx8ICFtKHApICYmIG0oaSkpKSB7CgkJCQkJCQkJYy5pbnNlcnRCZWZvcmUoZCwgbiksIG8gPSAhMDsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCXJldHVybiBvIHx8IGMuYXBwZW5kQ2hpbGQoZCksIHRoaXMuYWRkZWQgPSAhMCwgdGhpcy5vbkFkZCAmJiB0aGlzLm9uQWRkKCksIHRoaXMKCQkJCX0sCgkJCQlzYWZlUmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IGUucGFyZW50Tm9kZTsKCQkJCQl0ICYmIHQucmVtb3ZlQ2hpbGQoZSkKCQkJCX0sCgkJCQlkZXN0cm95OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmVsZW1lbnQgfHwge30sCgkJCQkJCW8gPSBpLnNoYWRvd3MsCgkJCQkJCXIgPSBpLnJlbmRlcmVyLmlzU1ZHICYmICJTUEFOIiA9PT0gYS5ub2RlTmFtZSAmJiBpLnBhcmVudEdyb3VwOwoJCQkJCWlmIChhLm9uY2xpY2sgPSBhLm9ubW91c2VvdXQgPSBhLm9ubW91c2VvdmVyID0gYS5vbm1vdXNlbW92ZSA9IGEucG9pbnQgPSBudWxsLCBrdChpKSwgaS5jbGlwUGF0aCAmJiAoaS5jbGlwUGF0aCA9IGkuY2xpcFBhdGguZGVzdHJveSgpKSwgaS5zdG9wcykgewoJCQkJCQlmb3IgKG4gPSAwOyBuIDwgaS5zdG9wcy5sZW5ndGg7IG4rKykgaS5zdG9wc1tuXSA9IGkuc3RvcHNbbl0uZGVzdHJveSgpOwoJCQkJCQlpLnN0b3BzID0gbnVsbAoJCQkJCX0KCQkJCQlmb3IgKGkuc2FmZVJlbW92ZUNoaWxkKGEpLCBvICYmIG10KG8sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaS5zYWZlUmVtb3ZlQ2hpbGQoZSkKCQkJCQl9KTsgciAmJiByLmRpdiAmJiAwID09PSByLmRpdi5jaGlsZE5vZGVzLmxlbmd0aDspIGUgPSByLnBhcmVudEdyb3VwLCBpLnNhZmVSZW1vdmVDaGlsZChyLmRpdiksIGRlbGV0ZSByLmRpdiwgciA9IGU7CgkJCQkJaS5hbGlnblRvICYmIHUoaS5yZW5kZXJlci5hbGlnbmVkT2JqZWN0cywgaSk7CgkJCQkJZm9yICh0IGluIGkpIGRlbGV0ZSBpW3RdOwoJCQkJCXJldHVybiBudWxsCgkJCQl9LAoJCQkJc2hhZG93OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8sIHIsIHMsIGwsIGMgPSBbXSwKCQkJCQkJZCA9IHRoaXMuZWxlbWVudDsKCQkJCQlpZiAoZSkgewoJCQkJCQlmb3IgKHIgPSBfKGUud2lkdGgsIDMpLCBzID0gKGUub3BhY2l0eSB8fCAuMTUpIC8gciwgbCA9IHRoaXMucGFyZW50SW52ZXJ0ZWQgPyAiKC0xLC0xKSIgOiAiKCIgKyBfKGUub2Zmc2V0WCwgMSkgKyAiLCAiICsgXyhlLm9mZnNldFksIDEpICsgIikiLCBpID0gMTsgciA+PSBpOyBpKyspIGEgPSBkLmNsb25lTm9kZSgwKSwgbyA9IDIgKiByICsgMSAtIDIgKiBpLCBmKGEsIHsKCQkJCQkJCWlzU2hhZG93OiAidHJ1ZSIsCgkJCQkJCQlzdHJva2U6IGUuY29sb3IgfHwgImJsYWNrIiwKCQkJCQkJCSJzdHJva2Utb3BhY2l0eSI6IHMgKiBpLAoJCQkJCQkJInN0cm9rZS13aWR0aCI6IG8sCgkJCQkJCQl0cmFuc2Zvcm06ICJ0cmFuc2xhdGUiICsgbCwKCQkJCQkJCWZpbGw6IFFlCgkJCQkJCX0pLCBuICYmIChmKGEsICJoZWlnaHQiLCBiZShmKGEsICJoZWlnaHQiKSAtIG8sIDApKSwgYS5jdXRIZWlnaHQgPSBvKSwgdCA/IHQuZWxlbWVudC5hcHBlbmRDaGlsZChhKSA6IGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgZCksIGMucHVzaChhKTsKCQkJCQkJdGhpcy5zaGFkb3dzID0gYwoJCQkJCX0KCQkJCQlyZXR1cm4gdGhpcwoJCQkJfSwKCQkJCXhHZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gImNpcmNsZSIgPT09IHRoaXMuZWxlbWVudC5ub2RlTmFtZSAmJiAoZSA9IHsKCQkJCQkJeDogImN4IiwKCQkJCQkJeTogImN5IgoJCQkJCX1bZV0gfHwgZSksIHRoaXMuX2RlZmF1bHRHZXR0ZXIoZSkKCQkJCX0sCgkJCQlfZGVmYXVsdEdldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gXyh0aGlzW2VdLCB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGUpIDogbnVsbCwgMCk7CgkJCQkJcmV0dXJuIC9eW1wtMC05XC5dKyQvLnRlc3QodCkgJiYgKHQgPSBwYXJzZUZsb2F0KHQpKSwgdAoJCQkJfSwKCQkJCWRTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllICYmIGUuam9pbiAmJiAoZSA9IGUuam9pbigiICIpKSwgLyhOYU58IHsyfXxeJCkvLnRlc3QoZSkgJiYgKGUgPSAiTSAwIDAiKSwgbi5zZXRBdHRyaWJ1dGUodCwgZSksIHRoaXNbdF0gPSBlCgkJCQl9LAoJCQkJZGFzaHN0eWxlU2V0dGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQ7CgkJCQkJaWYgKGUgPSBlICYmIGUudG9Mb3dlckNhc2UoKSkgewoJCQkJCQlmb3IgKGUgPSBlLnJlcGxhY2UoInNob3J0ZGFzaGRvdGRvdCIsICIzLDEsMSwxLDEsMSwiKS5yZXBsYWNlKCJzaG9ydGRhc2hkb3QiLCAiMywxLDEsMSIpLnJlcGxhY2UoInNob3J0ZG90IiwgIjEsMSwiKS5yZXBsYWNlKCJzaG9ydGRhc2giLCAiMywxLCIpLnJlcGxhY2UoImxvbmdkYXNoIiwgIjgsMywiKS5yZXBsYWNlKC9kb3QvZywgIjEsMywiKS5yZXBsYWNlKCJkYXNoIiwgIjQsMywiKS5yZXBsYWNlKC8sJC8sICIiKS5zcGxpdCgiLCIpLCB0ID0gZS5sZW5ndGg7IHQtLTspIGVbdF0gPSByKGVbdF0pICogdGhpc1sic3Ryb2tlLXdpZHRoIl07CgkJCQkJCWUgPSBlLmpvaW4oIiwiKS5yZXBsYWNlKCJOYU4iLCAibm9uZSIpLCB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IiwgZSkKCQkJCQl9CgkJCQl9LAoJCQkJYWxpZ25TZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIsIHsKCQkJCQkJbGVmdDogInN0YXJ0IiwKCQkJCQkJY2VudGVyOiAibWlkZGxlIiwKCQkJCQkJcmlnaHQ6ICJlbmQiCgkJCQkJfVtlXSkKCQkJCX0sCgkJCQlvcGFjaXR5U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdGhpc1t0XSA9IGUsIG4uc2V0QXR0cmlidXRlKHQsIGUpCgkJCQl9LAoJCQkJdGl0bGVTZXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGl0bGUiKVswXTsKCQkJCQl0IHx8ICh0ID0gZmUuY3JlYXRlRWxlbWVudE5TKEVlLCAidGl0bGUiKSwgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQpKSwgdC50ZXh0Q29udGVudCA9IF8oZSwgIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywgIiIpCgkJCQl9LAoJCQkJdGV4dFNldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCWUgIT09IHRoaXMudGV4dFN0ciAmJiAoZGVsZXRlIHRoaXMuYkJveCwgdGhpcy50ZXh0U3RyID0gZSwgdGhpcy5hZGRlZCAmJiB0aGlzLnJlbmRlcmVyLmJ1aWxkVGV4dCh0aGlzKSkKCQkJCX0sCgkJCQlmaWxsU2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJInN0cmluZyIgPT0gdHlwZW9mIGUgPyBuLnNldEF0dHJpYnV0ZSh0LCBlKSA6IGUgJiYgdGhpcy5jb2xvckdyYWRpZW50KGUsIHQsIG4pCgkJCQl9LAoJCQkJekluZGV4U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJbi5zZXRBdHRyaWJ1dGUodCwgZSksIHRoaXNbdF0gPSBlCgkJCQl9LAoJCQkJX2RlZmF1bHRTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQluLnNldEF0dHJpYnV0ZSh0LCBlKQoJCQkJfQoJCQl9LCBELnByb3RvdHlwZS55R2V0dGVyID0gRC5wcm90b3R5cGUueEdldHRlciwgRC5wcm90b3R5cGUudHJhbnNsYXRlWFNldHRlciA9IEQucHJvdG90eXBlLnRyYW5zbGF0ZVlTZXR0ZXIgPSBELnByb3RvdHlwZS5yb3RhdGlvblNldHRlciA9IEQucHJvdG90eXBlLnZlcnRpY2FsQWxpZ25TZXR0ZXIgPSBELnByb3RvdHlwZS5zY2FsZVhTZXR0ZXIgPSBELnByb3RvdHlwZS5zY2FsZVlTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl0aGlzW3RdID0gZSwgdGhpcy5kb1RyYW5zZm9ybSA9ICEwCgkJCX0sIEQucHJvdG90eXBlWyJzdHJva2Utd2lkdGhTZXR0ZXIiXSA9IEQucHJvdG90eXBlLnN0cm9rZVNldHRlciA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCXRoaXNbdF0gPSBlLCB0aGlzLnN0cm9rZSAmJiB0aGlzWyJzdHJva2Utd2lkdGgiXSA/ICh0aGlzLnN0cm9rZVdpZHRoID0gdGhpc1sic3Ryb2tlLXdpZHRoIl0sIEQucHJvdG90eXBlLmZpbGxTZXR0ZXIuY2FsbCh0aGlzLCB0aGlzLnN0cm9rZSwgInN0cm9rZSIsIG4pLCBuLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIiwgdGhpc1sic3Ryb2tlLXdpZHRoIl0pLCB0aGlzLmhhc1N0cm9rZSA9ICEwKSA6ICJzdHJva2Utd2lkdGgiID09PSB0ICYmIDAgPT09IGUgJiYgdGhpcy5oYXNTdHJva2UgJiYgKG4ucmVtb3ZlQXR0cmlidXRlKCJzdHJva2UiKSwgdGhpcy5oYXNTdHJva2UgPSAhMSkKCQkJfTsKCQkJdmFyIFB0ID0gZnVuY3Rpb24oKSB7CgkJCQl0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKQoJCQl9OwoJCQlQdC5wcm90b3R5cGUgPSB7CgkJCQlFbGVtZW50OiBELAoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGxvY2F0aW9uOwoJCQkJCW8gPSBsLmNyZWF0ZUVsZW1lbnQoInN2ZyIpLmF0dHIoewoJCQkJCQl2ZXJzaW9uOiAiMS4xIgoJCQkJCX0pLmNzcyh0aGlzLmdldFN0eWxlKGkpKSwgciA9IG8uZWxlbWVudCwgZS5hcHBlbmRDaGlsZChyKSwgLTEgPT09IGUuaW5uZXJIVE1MLmluZGV4T2YoInhtbG5zIikgJiYgZihyLCAieG1sbnMiLCBFZSksIGwuaXNTVkcgPSAhMCwgbC5ib3ggPSByLCBsLmJveFdyYXBwZXIgPSBvLCBsLmFsaWduZWRPYmplY3RzID0gW10sIGwudXJsID0gKEFlIHx8IEllKSAmJiBmZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpLmxlbmd0aCA/IGMuaHJlZi5yZXBsYWNlKC8jLio/JC8sICIiKS5yZXBsYWNlKC8oW1woJ1wpXSkvZywgIlxcJDEiKS5yZXBsYWNlKC8gL2csICIlMjAiKSA6ICIiLCBzID0gdGhpcy5jcmVhdGVFbGVtZW50KCJkZXNjIikuYWRkKCksIHMuZWxlbWVudC5hcHBlbmRDaGlsZChmZS5jcmVhdGVUZXh0Tm9kZSgiQ3JlYXRlZCB3aXRoICIgKyBIZSArICIgIiArIFVlKSksIGwuZGVmcyA9IHRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLmFkZCgpLCBsLmZvckV4cG9ydCA9IGEsIGwuZ3JhZGllbnRzID0ge30sIGwuY2FjaGUgPSB7fSwgbC5zZXRTaXplKHQsIG4sICExKTsKCQkJCQl2YXIgZCwgcDsKCQkJCQlBZSAmJiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAobC5zdWJQaXhlbEZpeCA9IGQgPSBmdW5jdGlvbigpIHsKCQkJCQkJeChlLCB7CgkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJdG9wOiAwCgkJCQkJCX0pLCBwID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgeChlLCB7CgkJCQkJCQlsZWZ0OiB2ZShwLmxlZnQpIC0gcC5sZWZ0ICsgS2UsCgkJCQkJCQl0b3A6IHZlKHAudG9wKSAtIHAudG9wICsgS2UKCQkJCQkJfSkKCQkJCQl9LCBkKCksIHh0KGdlLCAicmVzaXplIiwgZCkpCgkJCQl9LAoJCQkJZ2V0U3R5bGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5zdHlsZSA9IGEoewoJCQkJCQlmb250RmFtaWx5OiAnIkx1Y2lkYSBHcmFuZGUiLCAiTHVjaWRhIFNhbnMgVW5pY29kZSIsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLAoJCQkJCQlmb250U2l6ZTogIjEycHgiCgkJCQkJfSwgZSkKCQkJCX0sCgkJCQlpc0hpZGRlbjogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuICF0aGlzLmJveFdyYXBwZXIuZ2V0QkJveCgpLndpZHRoCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5kZWZzOwoJCQkJCXJldHVybiBlLmJveCA9IG51bGwsIGUuYm94V3JhcHBlciA9IGUuYm94V3JhcHBlci5kZXN0cm95KCksIFAoZS5ncmFkaWVudHMgfHwge30pLCBlLmdyYWRpZW50cyA9IG51bGwsIHQgJiYgKGUuZGVmcyA9IHQuZGVzdHJveSgpKSwgZS5zdWJQaXhlbEZpeCAmJiB3dChnZSwgInJlc2l6ZSIsIGUuc3ViUGl4ZWxGaXgpLCBlLmFsaWduZWRPYmplY3RzID0gbnVsbCwgbnVsbAoJCQkJfSwKCQkJCWNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IG5ldyB0aGlzLkVsZW1lbnQ7CgkJCQkJcmV0dXJuIHQuaW5pdCh0aGlzLCBlKSwgdAoJCQkJfSwKCQkJCWRyYXc6IGZ1bmN0aW9uKCkge30sCgkJCQlidWlsZFRleHQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0LCBuLCBpLCBhID0gZS5lbGVtZW50LCBvID0gdGhpcywgcyA9IG8uZm9yRXhwb3J0LCBsID0gXyhlLnRleHRTdHIsICIiKS50b1N0cmluZygpLCBjID0gLTEgIT09IGwuaW5kZXhPZigiPCIpLCBkID0gYS5jaGlsZE5vZGVzLCBwID0gZihhLCAieCIpLCBoID0gZS5zdHlsZXMsIHUgPSBlLnRleHRXaWR0aCwgbSA9IGggJiYgaC5saW5lSGVpZ2h0LCBnID0gaCAmJiBoLkhjVGV4dFN0cm9rZSwgdyA9IGQubGVuZ3RoLCB2ID0gZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gbSA/IHIobSkgOiBvLmZvbnRNZXRyaWNzKC8ocHh8ZW0pJC8udGVzdChlICYmIGUuc3R5bGUuZm9udFNpemUpID8gZS5zdHlsZS5mb250U2l6ZSA6IGggJiYgaC5mb250U2l6ZSB8fCBvLnN0eWxlLmZvbnRTaXplIHx8IDEyLCBlKS5oCgkJCQkJfTsgdy0tOykgYS5yZW1vdmVDaGlsZChkW3ddKTsKCQkJCQlyZXR1cm4gYyB8fCBnIHx8IC0xICE9PSBsLmluZGV4T2YoIiAiKSA/IChuID0gLzwuKnN0eWxlPSIoW14iXSspIi4qPi8sIGkgPSAvPC4qaHJlZj0iKGh0dHBbXiJdKykiLio+LywgdSAmJiAhZS5hZGRlZCAmJiB0aGlzLmJveC5hcHBlbmRDaGlsZChhKSwgdCA9IGMgPyBsLnJlcGxhY2UoLzwoYnxzdHJvbmcpPi9nLCAnPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQiPicpLnJlcGxhY2UoLzwoaXxlbSk+L2csICc8c3BhbiBzdHlsZT0iZm9udC1zdHlsZTppdGFsaWMiPicpLnJlcGxhY2UoLzxhL2csICI8c3BhbiIpLnJlcGxhY2UoLzxcLyhifHN0cm9uZ3xpfGVtfGEpPi9nLCAiPC9zcGFuPiIpLnNwbGl0KC88YnIuKj8+L2cpIDogW2xdLCAiIiA9PT0gdFt0Lmxlbmd0aCAtIDFdICYmIHQucG9wKCksIG10KHQsIGZ1bmN0aW9uKHQsIHIpIHsKCQkJCQkJdmFyIGwsIGMgPSAwOwoJCQkJCQl0ID0gdC5yZXBsYWNlKC88c3Bhbi9nLCAifHx8PHNwYW4iKS5yZXBsYWNlKC88XC9zcGFuPi9nLCAiPC9zcGFuPnx8fCIpLCBsID0gdC5zcGxpdCgifHx8IiksIG10KGwsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmICgiIiAhPT0gdCB8fCAxID09PSBsLmxlbmd0aCkgewoJCQkJCQkJCXZhciBkLCBtID0ge30sCgkJCQkJCQkJCWcgPSBmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJ0c3BhbiIpOwoJCQkJCQkJCWlmIChuLnRlc3QodCkgJiYgKGQgPSB0Lm1hdGNoKG4pWzFdLnJlcGxhY2UoLyg7fCB8Xiljb2xvcihbIDpdKS8sICIkMWZpbGwkMiIpLCBmKGcsICJzdHlsZSIsIGQpKSwgaS50ZXN0KHQpICYmICFzICYmIChmKGcsICJvbmNsaWNrIiwgJ2xvY2F0aW9uLmhyZWY9IicgKyB0Lm1hdGNoKGkpWzFdICsgJyInKSwgeChnLCB7CgkJCQkJCQkJCWN1cnNvcjogInBvaW50ZXIiCgkJCQkJCQkJfSkpLCB0ID0gKHQucmVwbGFjZSgvPCgufFxuKSo/Pi9nLCAiIikgfHwgIiAiKS5yZXBsYWNlKC8mbHQ7L2csICI8IikucmVwbGFjZSgvJmd0Oy9nLCAiPiIpLCAiICIgIT09IHQpIHsKCQkJCQkJCQkJaWYgKGcuYXBwZW5kQ2hpbGQoZmUuY3JlYXRlVGV4dE5vZGUodCkpLCBjID8gbS5keCA9IDAgOiByICYmIG51bGwgIT09IHAgJiYgKG0ueCA9IHApLCBmKGcsIG0pLCBhLmFwcGVuZENoaWxkKGcpLCAhYyAmJiByICYmICghT2UgJiYgcyAmJiB4KGcsIHsKCQkJCQkJCQkJCWRpc3BsYXk6ICJibG9jayIKCQkJCQkJCQkJfSksIGYoZywgImR5IiwgdihnKSkpLCB1KQoJCQkJCQkJCQkJZm9yICh2YXIgXywgdywgYiwgeSA9IHQucmVwbGFjZSgvKFteXF5dKS0vZywgIiQxLSAiKS5zcGxpdCgiICIpLCBrID0gbC5sZW5ndGggPiAxIHx8IHkubGVuZ3RoID4gMSAmJiAibm93cmFwIiAhPT0gaC53aGl0ZVNwYWNlLCB6ID0gaC5IY0hlaWdodCwgQiA9IFtdLCBqID0gdihnKSwgQyA9IDE7IGsgJiYgKHkubGVuZ3RoIHx8IEIubGVuZ3RoKTspIGRlbGV0ZSBlLmJCb3gsIGIgPSBlLmdldEJCb3goKSwgdyA9IGIud2lkdGgsICFPZSAmJiBvLmZvckV4cG9ydCAmJiAodyA9IG8ubWVhc3VyZVNwYW5XaWR0aChnLmZpcnN0Q2hpbGQuZGF0YSwgZS5zdHlsZXMpKSwgXyA9IHcgPiB1LCBfICYmIDEgIT09IHkubGVuZ3RoID8gKGcucmVtb3ZlQ2hpbGQoZy5maXJzdENoaWxkKSwgQi51bnNoaWZ0KHkucG9wKCkpKSA6ICh5ID0gQiwgQiA9IFtdLCB5Lmxlbmd0aCAmJiAoQysrLCB6ICYmIEMgKiBqID4geiA/ICh5ID0gWyIuLi4iXSwgZS5hdHRyKCJ0aXRsZSIsIGUudGV4dFN0cikpIDogKGcgPSBmZS5jcmVhdGVFbGVtZW50TlMoRWUsICJ0c3BhbiIpLCBmKGcsIHsKCQkJCQkJCQkJCQlkeTogaiwKCQkJCQkJCQkJCQl4OiBwCgkJCQkJCQkJCQl9KSwgZCAmJiBmKGcsICJzdHlsZSIsIGQpLCBhLmFwcGVuZENoaWxkKGcpKSksIHcgPiB1ICYmICh1ID0gdykpLCB5Lmxlbmd0aCAmJiBnLmFwcGVuZENoaWxkKGZlLmNyZWF0ZVRleHROb2RlKHkuam9pbigiICIpLnJlcGxhY2UoLy0gL2csICItIikpKTsKCQkJCQkJCQkJYysrCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0pLCB2b2lkIDApIDogdm9pZCBhLmFwcGVuZENoaWxkKGZlLmNyZWF0ZVRleHROb2RlKGwpKQoJCQkJfSwKCQkJCWJ1dHRvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgciwgcywgbCwgYywgZCkgewoJCQkJCXZhciBwLCBoLCB1LCBtLCBmLCBnLCBfID0gdGhpcy5sYWJlbChlLCB0LCBuLCBkLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAiYnV0dG9uIiksCgkJCQkJCXggPSAwLAoJCQkJCQl3ID0gewoJCQkJCQkJeDE6IDAsCgkJCQkJCQl5MTogMCwKCQkJCQkJCXgyOiAwLAoJCQkJCQkJeTI6IDEKCQkJCQkJfTsKCQkJCQlyZXR1cm4gciA9IG8oewoJCQkJCQkic3Ryb2tlLXdpZHRoIjogMSwKCQkJCQkJc3Ryb2tlOiAiI0NDQ0NDQyIsCgkJCQkJCWZpbGw6IHsKCQkJCQkJCWxpbmVhckdyYWRpZW50OiB3LAoJCQkJCQkJc3RvcHM6IFsKCQkJCQkJCQlbMCwgIiNGRUZFRkUiXSwKCQkJCQkJCQlbMSwgIiNGNkY2RjYiXQoJCQkJCQkJXQoJCQkJCQl9LAoJCQkJCQlyOiAyLAoJCQkJCQlwYWRkaW5nOiA1LAoJCQkJCQlzdHlsZTogewoJCQkJCQkJY29sb3I6ICJibGFjayIKCQkJCQkJfQoJCQkJCX0sIHIpLCB1ID0gci5zdHlsZSwgZGVsZXRlIHIuc3R5bGUsIHMgPSBvKHIsIHsKCQkJCQkJc3Ryb2tlOiAiIzY4QSIsCgkJCQkJCWZpbGw6IHsKCQkJCQkJCWxpbmVhckdyYWRpZW50OiB3LAoJCQkJCQkJc3RvcHM6IFsKCQkJCQkJCQlbMCwgIiNGRkYiXSwKCQkJCQkJCQlbMSwgIiNBQ0YiXQoJCQkJCQkJXQoJCQkJCQl9CgkJCQkJfSwgcyksIG0gPSBzLnN0eWxlLCBkZWxldGUgcy5zdHlsZSwgbCA9IG8ociwgewoJCQkJCQlzdHJva2U6ICIjNjhBIiwKCQkJCQkJZmlsbDogewoJCQkJCQkJbGluZWFyR3JhZGllbnQ6IHcsCgkJCQkJCQlzdG9wczogWwoJCQkJCQkJCVswLCAiIzlCRCJdLAoJCQkJCQkJCVsxLCAiI0NERiJdCgkJCQkJCQldCgkJCQkJCX0KCQkJCQl9LCBsKSwgZiA9IGwuc3R5bGUsIGRlbGV0ZSBsLnN0eWxlLCBjID0gbyhyLCB7CgkJCQkJCXN0eWxlOiB7CgkJCQkJCQljb2xvcjogIiNDQ0MiCgkJCQkJCX0KCQkJCQl9LCBjKSwgZyA9IGMuc3R5bGUsIGRlbGV0ZSBjLnN0eWxlLCB4dChfLmVsZW1lbnQsIFRlID8gIm1vdXNlb3ZlciIgOiAibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIF8uYXR0cihzKS5jc3MobSkKCQkJCQl9KSwgeHQoXy5lbGVtZW50LCBUZSA/ICJtb3VzZW91dCIgOiAibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIChwID0gW3IsIHMsIGxdW3hdLCBoID0gW3UsIG0sIGZdW3hdLCBfLmF0dHIocCkuY3NzKGgpKQoJCQkJCX0pLCBfLnNldFN0YXRlID0gZnVuY3Rpb24oZSkgewoJCQkJCQlfLnN0YXRlID0geCA9IGUsIGUgPyAyID09PSBlID8gXy5hdHRyKGwpLmNzcyhmKSA6IDMgPT09IGUgJiYgXy5hdHRyKGMpLmNzcyhnKSA6IF8uYXR0cihyKS5jc3ModSkKCQkJCQl9LCBfLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkzICE9PSB4ICYmIGkuY2FsbChfKQoJCQkJCX0pLmF0dHIocikuY3NzKGEoewoJCQkJCQljdXJzb3I6ICJkZWZhdWx0IgoJCQkJCX0sIHUpKQoJCQkJfSwKCQkJCWNyaXNwTGluZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiBlWzFdID09PSBlWzRdICYmIChlWzFdID0gZVs0XSA9IHhlKGVbMV0pIC0gdCAlIDIgLyAyKSwgZVsyXSA9PT0gZVs1XSAmJiAoZVsyXSA9IGVbNV0gPSB4ZShlWzJdKSArIHQgJSAyIC8gMiksIGUKCQkJCX0sCgkJCQlwYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCWZpbGw6IFFlCgkJCQkJfTsKCQkJCQlyZXR1cm4gYyhlKSA/IHQuZCA9IGUgOiBsKGUpICYmIGEodCwgZSksIHRoaXMuY3JlYXRlRWxlbWVudCgicGF0aCIpLmF0dHIodCkKCQkJCX0sCgkJCQljaXJjbGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IGwoZSkgPyBlIDogewoJCQkJCQkJeDogZSwKCQkJCQkJCXk6IHQsCgkJCQkJCQlyOiBuCgkJCQkJCX0sCgkJCQkJCWEgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoImNpcmNsZSIpOwoJCQkJCXJldHVybiBhLnhTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImN4IiwgZSkKCQkJCQl9LCBhLnlTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImN5IiwgZSkKCQkJCQl9LCBhLmF0dHIoaSkKCQkJCX0sCgkJCQlhcmM6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQl2YXIgcjsKCQkJCQlyZXR1cm4gbChlKSAmJiAodCA9IGUueSwgbiA9IGUuciwgaSA9IGUuaW5uZXJSLCBhID0gZS5zdGFydCwgbyA9IGUuZW5kLCBlID0gZS54KSwgciA9IHRoaXMuc3ltYm9sKCJhcmMiLCBlIHx8IDAsIHQgfHwgMCwgbiB8fCAwLCBuIHx8IDAsIHsKCQkJCQkJaW5uZXJSOiBpIHx8IDAsCgkJCQkJCXN0YXJ0OiBhIHx8IDAsCgkJCQkJCWVuZDogbyB8fCAwCgkJCQkJfSksIHIuciA9IG4sIHIKCQkJCX0sCgkJCQlyZWN0OiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhLCBvKSB7CgkJCQkJYSA9IGwoZSkgPyBlLnIgOiBhOwoJCQkJCXZhciByID0gdGhpcy5jcmVhdGVFbGVtZW50KCJyZWN0IiksCgkJCQkJCXMgPSBsKGUpID8gZSA6IGUgPT09IFcgPyB7fSA6IHsKCQkJCQkJCXg6IGUsCgkJCQkJCQl5OiB0LAoJCQkJCQkJd2lkdGg6IGJlKG4sIDApLAoJCQkJCQkJaGVpZ2h0OiBiZShpLCAwKQoJCQkJCQl9OwoJCQkJCXJldHVybiBvICE9PSBXICYmIChzLnN0cm9rZVdpZHRoID0gbywgcyA9IHIuY3Jpc3AocykpLCBhICYmIChzLnIgPSBhKSwgci5yU2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQlmKHRoaXMuZWxlbWVudCwgewoJCQkJCQkJcng6IGUsCgkJCQkJCQlyeTogZQoJCQkJCQl9KQoJCQkJCX0sIHIuYXR0cihzKQoJCQkJfSwKCQkJCXNldFNpemU6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmFsaWduZWRPYmplY3RzLAoJCQkJCQlvID0gYS5sZW5ndGg7CgkJCQkJZm9yIChpLndpZHRoID0gZSwgaS5oZWlnaHQgPSB0LCBpLmJveFdyYXBwZXJbXyhuLCAhMCkgPyAiYW5pbWF0ZSIgOiAiYXR0ciJdKHsKCQkJCQkJd2lkdGg6IGUsCgkJCQkJCWhlaWdodDogdAoJCQkJCX0pOyBvLS07KSBhW29dLmFsaWduKCkKCQkJCX0sCgkJCQlnOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoImciKTsKCQkJCQlyZXR1cm4gbShlKSA/IHQuYXR0cih7CgkJCQkJCSJjbGFzcyI6IFplICsgZQoJCQkJCX0pIDogdAoJCQkJfSwKCQkJCWltYWdlOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBvKSB7CgkJCQkJdmFyIHIsIHMgPSB7CgkJCQkJCXByZXNlcnZlQXNwZWN0UmF0aW86IFFlCgkJCQkJfTsKCQkJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYShzLCB7CgkJCQkJCXg6IHQsCgkJCQkJCXk6IG4sCgkJCQkJCXdpZHRoOiBpLAoJCQkJCQloZWlnaHQ6IG8KCQkJCQl9KSwgciA9IHRoaXMuY3JlYXRlRWxlbWVudCgiaW1hZ2UiKS5hdHRyKHMpLCByLmVsZW1lbnQuc2V0QXR0cmlidXRlTlMgPyByLmVsZW1lbnQuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCAiaHJlZiIsIGUpIDogci5lbGVtZW50LnNldEF0dHJpYnV0ZSgiaGMtc3ZnLWhyZWYiLCBlKSwgcgoJCQkJfSwKCQkJCXN5bWJvbDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgbywgcikgewoJCQkJCXZhciBzLCBsLCBjLCBkLCBwLCBoID0gdGhpcy5zeW1ib2xzW2VdLAoJCQkJCQl1ID0gaCAmJiBoKHhlKHQpLCB4ZShuKSwgaSwgbywgciksCgkJCQkJCW0gPSAvXnVybFwoKC4qPylcKSQvOwoJCQkJCXJldHVybiB1ID8gKHMgPSB0aGlzLnBhdGgodSksIGEocywgewoJCQkJCQlzeW1ib2xOYW1lOiBlLAoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuLAoJCQkJCQl3aWR0aDogaSwKCQkJCQkJaGVpZ2h0OiBvCgkJCQkJfSksIHIgJiYgYShzLCByKSkgOiBtLnRlc3QoZSkgJiYgKHAgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUuZWxlbWVudCAmJiAoZS5hdHRyKHsKCQkJCQkJCXdpZHRoOiB0WzBdLAoJCQkJCQkJaGVpZ2h0OiB0WzFdCgkJCQkJCX0pLCBlLmFsaWduQnlUcmFuc2xhdGUgfHwgZS50cmFuc2xhdGUoeGUoKGkgLSB0WzBdKSAvIDIpLCB4ZSgobyAtIHRbMV0pIC8gMikpKQoJCQkJCX0sIGMgPSBlLm1hdGNoKG0pWzFdLCBkID0gTWVbY10gfHwgciAmJiByLndpZHRoICYmIHIuaGVpZ2h0ICYmIFtyLndpZHRoLCByLmhlaWdodF0sIHMgPSB0aGlzLmltYWdlKGMpLmF0dHIoewoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuCgkJCQkJfSksIHMuaXNJbWcgPSAhMCwgZCA/IHAocywgZCkgOiAocy5hdHRyKHsKCQkJCQkJd2lkdGg6IDAsCgkJCQkJCWhlaWdodDogMAoJCQkJCX0pLCBsID0gdygiaW1nIiwgewoJCQkJCQlvbmxvYWQ6IGZ1bmN0aW9uKCkgewoJCQkJCQkJcChzLCBNZVtjXSA9IFt0aGlzLndpZHRoLCB0aGlzLmhlaWdodF0pCgkJCQkJCX0sCgkJCQkJCXNyYzogYwoJCQkJCX0pKSksIHMKCQkJCX0sCgkJCQlzeW1ib2xzOiB7CgkJCQkJY2lyY2xlOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhID0gLjE2NiAqIG47CgkJCQkJCXJldHVybiBbZXQsIGUgKyBuIC8gMiwgdCwgIkMiLCBlICsgbiArIGEsIHQsIGUgKyBuICsgYSwgdCArIGksIGUgKyBuIC8gMiwgdCArIGksICJDIiwgZSAtIGEsIHQgKyBpLCBlIC0gYSwgdCwgZSArIG4gLyAyLCB0LCAiWiJdCgkJCQkJfSwKCQkJCQlzcXVhcmU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJcmV0dXJuIFtldCwgZSwgdCwgdHQsIGUgKyBuLCB0LCBlICsgbiwgdCArIGksIGUsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQl0cmlhbmdsZTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlyZXR1cm4gW2V0LCBlICsgbiAvIDIsIHQsIHR0LCBlICsgbiwgdCArIGksIGUsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQkidHJpYW5nbGUtZG93biI6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJcmV0dXJuIFtldCwgZSwgdCwgdHQsIGUgKyBuLCB0LCBlICsgbiAvIDIsIHQgKyBpLCAiWiJdCgkJCQkJfSwKCQkJCQlkaWFtb25kOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXJldHVybiBbZXQsIGUgKyBuIC8gMiwgdCwgdHQsIGUgKyBuLCB0ICsgaSAvIDIsIGUgKyBuIC8gMiwgdCArIGksIGUsIHQgKyBpIC8gMiwgIloiXQoJCQkJCX0sCgkJCQkJYXJjOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCXZhciBvID0gYS5zdGFydCwKCQkJCQkJCXIgPSBhLnIgfHwgbiB8fCBpLAoJCQkJCQkJcyA9IGEuZW5kIC0gLjAwMSwKCQkJCQkJCWwgPSBhLmlubmVyUiwKCQkJCQkJCWMgPSBhLm9wZW4sCgkJCQkJCQlkID0gemUobyksCgkJCQkJCQlwID0gQmUobyksCgkJCQkJCQloID0gemUocyksCgkJCQkJCQl1ID0gQmUocyksCgkJCQkJCQltID0gYS5lbmQgLSBvIDwgamUgPyAwIDogMTsKCQkJCQkJcmV0dXJuIFtldCwgZSArIHIgKiBkLCB0ICsgciAqIHAsICJBIiwgciwgciwgMCwgbSwgMSwgZSArIHIgKiBoLCB0ICsgciAqIHUsIGMgPyBldCA6IHR0LCBlICsgbCAqIGgsIHQgKyBsICogdSwgIkEiLCBsLCBsLCAwLCBtLCAwLCBlICsgbCAqIGQsIHQgKyBsICogcCwgYyA/ICIiIDogIloiXQoJCQkJCX0sCgkJCQkJY2FsbG91dDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQl2YXIgbywgciA9IDYsCgkJCQkJCQlzID0gNiwKCQkJCQkJCWwgPSB5ZShhICYmIGEuciB8fCAwLCBuLCBpKSwKCQkJCQkJCWMgPSBsICsgcywKCQkJCQkJCWQgPSBhICYmIGEuYW5jaG9yWCwKCQkJCQkJCXAgPSBhICYmIGEuYW5jaG9yWSwKCQkJCQkJCWggPSB4ZShhLnN0cm9rZVdpZHRoIHx8IDApICUgMiAvIDI7CgkJCQkJCXJldHVybiBlICs9IGgsIHQgKz0gaCwgbyA9IFsiTSIsIGUgKyBsLCB0LCAiTCIsIGUgKyBuIC0gbCwgdCwgIkMiLCBlICsgbiwgdCwgZSArIG4sIHQsIGUgKyBuLCB0ICsgbCwgIkwiLCBlICsgbiwgdCArIGkgLSBsLCAiQyIsIGUgKyBuLCB0ICsgaSwgZSArIG4sIHQgKyBpLCBlICsgbiAtIGwsIHQgKyBpLCAiTCIsIGUgKyBsLCB0ICsgaSwgIkMiLCBlLCB0ICsgaSwgZSwgdCArIGksIGUsIHQgKyBpIC0gbCwgIkwiLCBlLCB0ICsgbCwgIkMiLCBlLCB0LCBlLCB0LCBlICsgbCwgdF0sIGQgJiYgZCA+IG4gJiYgcCA+IHQgKyBjICYmIHQgKyBpIC0gYyA+IHAgPyBvLnNwbGljZSgxMywgMywgIkwiLCBlICsgbiwgcCAtIHMsIGUgKyBuICsgciwgcCwgZSArIG4sIHAgKyBzLCBlICsgbiwgdCArIGkgLSBsKSA6IGQgJiYgMCA+IGQgJiYgcCA+IHQgKyBjICYmIHQgKyBpIC0gYyA+IHAgPyBvLnNwbGljZSgzMywgMywgIkwiLCBlLCBwICsgcywgZSAtIHIsIHAsIGUsIHAgLSBzLCBlLCB0ICsgbCkgOiBwICYmIHAgPiBpICYmIGQgPiBlICsgYyAmJiBlICsgbiAtIGMgPiBkID8gby5zcGxpY2UoMjMsIDMsICJMIiwgZCArIHMsIHQgKyBpLCBkLCB0ICsgaSArIHIsIGQgLSBzLCB0ICsgaSwgZSArIGwsIHQgKyBpKSA6IHAgJiYgMCA+IHAgJiYgZCA+IGUgKyBjICYmIGUgKyBuIC0gYyA+IGQgJiYgby5zcGxpY2UoMywgMywgIkwiLCBkIC0gcywgdCwgZCwgdCAtIHIsIGQgKyBzLCB0LCBuIC0gbCwgdCksIG8KCQkJCQl9CgkJCQl9LAoJCQkJY2xpcFJlY3Q6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbyA9IFplICsgUmUrKywKCQkJCQkJciA9IHRoaXMuY3JlYXRlRWxlbWVudCgiY2xpcFBhdGgiKS5hdHRyKHsKCQkJCQkJCWlkOiBvCgkJCQkJCX0pLmFkZCh0aGlzLmRlZnMpOwoJCQkJCXJldHVybiBhID0gdGhpcy5yZWN0KGUsIHQsIG4sIGksIDApLmFkZChyKSwgYS5pZCA9IG8sIGEuY2xpcFBhdGggPSByLCBhCgkJCQl9LAoJCQkJdGV4dDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvID0gdGhpcywKCQkJCQkJciA9IERlIHx8ICFPZSAmJiBvLmZvckV4cG9ydCwKCQkJCQkJcyA9IHt9OwoJCQkJCXJldHVybiBpICYmICFvLmZvckV4cG9ydCA/IG8uaHRtbChlLCB0LCBuKSA6IChzLnggPSBNYXRoLnJvdW5kKHQgfHwgMCksIG4gJiYgKHMueSA9IE1hdGgucm91bmQobikpLCAoZSB8fCAwID09PSBlKSAmJiAocy50ZXh0ID0gZSksIGEgPSBvLmNyZWF0ZUVsZW1lbnQoInRleHQiKS5hdHRyKHMpLCByICYmIGEuY3NzKHsKCQkJCQkJcG9zaXRpb246IEdlCgkJCQkJfSksIGkgfHwgKGEueFNldHRlciA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGksIGEsIG8gPSBuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0c3BhbiIpLAoJCQkJCQkJciA9IG4uZ2V0QXR0cmlidXRlKHQpOwoJCQkJCQlmb3IgKGEgPSAwOyBhIDwgby5sZW5ndGg7IGErKykgaSA9IG9bYV0sIGkuZ2V0QXR0cmlidXRlKHQpID09PSByICYmIGkuc2V0QXR0cmlidXRlKHQsIGUpOwoJCQkJCQluLnNldEF0dHJpYnV0ZSh0LCBlKQoJCQkJCX0pLCBhKQoJCQkJfSwKCQkJCWZvbnRNZXRyaWNzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZSA9IGUgfHwgdGhpcy5zdHlsZS5mb250U2l6ZSwgdCAmJiBnZS5nZXRDb21wdXRlZFN0eWxlICYmICh0ID0gdC5lbGVtZW50IHx8IHQsIGUgPSBnZS5nZXRDb21wdXRlZFN0eWxlKHQsICIiKS5mb250U2l6ZSksIGUgPSAvcHgvLnRlc3QoZSkgPyByKGUpIDogL2VtLy50ZXN0KGUpID8gMTIgKiBwYXJzZUZsb2F0KGUpIDogMTI7CgkJCQkJdmFyIG4gPSAyNCA+IGUgPyBlICsgNCA6IHhlKDEuMiAqIGUpLAoJCQkJCQlpID0geGUoLjggKiBuKTsKCQkJCQlyZXR1cm4gewoJCQkJCQloOiBuLAoJCQkJCQliOiBpLAoJCQkJCQlmOiBlCgkJCQkJfQoJCQkJfSwKCQkJCWxhYmVsOiBmdW5jdGlvbihlLCB0LCBuLCBpLCByLCBzLCBsLCBjLCBkKSB7CgkJCQkJZnVuY3Rpb24gcCgpIHsKCQkJCQkJdmFyIGUsIHQsIG4gPSBCLmVsZW1lbnQuc3R5bGU7CgkJCQkJCWcgPSAodm9pZCAwID09PSBfIHx8IHZvaWQgMCA9PT0geCB8fCB6LnN0eWxlcy50ZXh0QWxpZ24pICYmIEIudGV4dFN0ciAmJiBCLmdldEJCb3goKSwgei53aWR0aCA9IChfIHx8IGcud2lkdGggfHwgMCkgKyAyICogQyArIFMsIHouaGVpZ2h0ID0gKHggfHwgZy5oZWlnaHQgfHwgMCkgKyAyICogQywgYiA9IEMgKyBrLmZvbnRNZXRyaWNzKG4gJiYgbi5mb250U2l6ZSwgQikuYiwgeSAmJiAoZiB8fCAoZSA9IHhlKC1qICogQyksIHQgPSBjID8gLWIgOiAwLCB6LmJveCA9IGYgPSBpID8gay5zeW1ib2woaSwgZSwgdCwgei53aWR0aCwgei5oZWlnaHQsIFQpIDogay5yZWN0KGUsIHQsIHoud2lkdGgsIHouaGVpZ2h0LCAwLCBUW3J0XSksIGYuYXR0cigiZmlsbCIsIFFlKS5hZGQoeikpLCBmLmlzSW1nIHx8IGYuYXR0cihhKHsKCQkJCQkJCXdpZHRoOiB4ZSh6LndpZHRoKSwKCQkJCQkJCWhlaWdodDogeGUoei5oZWlnaHQpCgkJCQkJCX0sIFQpKSwgVCA9IG51bGwpCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiBoKCkgewoJCQkJCQl2YXIgZSwgdCA9IHouc3R5bGVzLAoJCQkJCQkJbiA9IHQgJiYgdC50ZXh0QWxpZ24sCgkJCQkJCQlpID0gUyArIEMgKiAoMSAtIGopOwoJCQkJCQllID0gYyA/IDAgOiBiLCBtKF8pICYmIGcgJiYgKCJjZW50ZXIiID09PSBuIHx8ICJyaWdodCIgPT09IG4pICYmIChpICs9IHsKCQkJCQkJCWNlbnRlcjogLjUsCgkJCQkJCQlyaWdodDogMQoJCQkJCQl9W25dICogKF8gLSBnLndpZHRoKSksIChpICE9PSBCLnggfHwgZSAhPT0gQi55KSAmJiAoQi5hdHRyKCJ4IiwgaSksIGUgIT09IFcgJiYgQi5hdHRyKCJ5IiwgZSkpLCBCLnggPSBpLCBCLnkgPSBlCgkJCQkJfQoKCQkJCQlmdW5jdGlvbiB1KGUsIHQpIHsKCQkJCQkJZiA/IGYuYXR0cihlLCB0KSA6IFRbZV0gPSB0CgkJCQkJfQoJCQkJCXZhciBmLCBnLCBfLCB4LCB3LCB2LCBiLCB5LCBrID0gdGhpcywKCQkJCQkJeiA9IGsuZyhkKSwKCQkJCQkJQiA9IGsudGV4dCgiIiwgMCwgMCwgbCkuYXR0cih7CgkJCQkJCQl6SW5kZXg6IDEKCQkJCQkJfSksCgkJCQkJCWogPSAwLAoJCQkJCQlDID0gMywKCQkJCQkJUyA9IDAsCgkJCQkJCU4gPSAwLAoJCQkJCQlUID0ge307CgkJCQkJei5vbkFkZCA9IGZ1bmN0aW9uKCkgewoJCQkJCQlCLmFkZCh6KSwgei5hdHRyKHsKCQkJCQkJCXRleHQ6IGUgfHwgMCA9PT0gZSA/IGUgOiAiIiwKCQkJCQkJCXg6IHQsCgkJCQkJCQl5OiBuCgkJCQkJCX0pLCBmICYmIG0ocikgJiYgei5hdHRyKHsKCQkJCQkJCWFuY2hvclg6IHIsCgkJCQkJCQlhbmNob3JZOiBzCgkJCQkJCX0pCgkJCQkJfSwgei53aWR0aFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJXyA9IGUKCQkJCQl9LCB6LmhlaWdodFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJeCA9IGUKCQkJCQl9LCB6LnBhZGRpbmdTZXR0ZXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCW0oZSkgJiYgZSAhPT0gQyAmJiAoQyA9IGUsIGgoKSkKCQkJCQl9LCB6LnBhZGRpbmdMZWZ0U2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQltKGUpICYmIGUgIT09IFMgJiYgKFMgPSBlLCBoKCkpCgkJCQkJfSwgei5hbGlnblNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaiA9IHsKCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQljZW50ZXI6IC41LAoJCQkJCQkJcmlnaHQ6IDEKCQkJCQkJfVtlXQoJCQkJCX0sIHoudGV4dFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAhPT0gVyAmJiBCLnRleHRTZXR0ZXIoZSksIHAoKSwgaCgpCgkJCQkJfSwgelsic3Ryb2tlLXdpZHRoU2V0dGVyIl0gPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUgJiYgKHkgPSAhMCksIE4gPSBlICUgMiAvIDIsIHUodCwgZSkKCQkJCQl9LCB6LnN0cm9rZVNldHRlciA9IHouZmlsbFNldHRlciA9IHouclNldHRlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJImZpbGwiID09PSB0ICYmIGUgJiYgKHkgPSAhMCksIHUodCwgZSkKCQkJCQl9LCB6LmFuY2hvclhTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXIgPSBlLCB1KHQsIGUgKyBOIC0gdykKCQkJCQl9LCB6LmFuY2hvcllTZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXMgPSBlLCB1KHQsIGUgLSB2KQoJCQkJCX0sIHoueFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJei54ID0gZSwgaiAmJiAoZSAtPSBqICogKChfIHx8IGcud2lkdGgpICsgQykpLCB3ID0geGUoZSksIHouYXR0cigidHJhbnNsYXRlWCIsIHcpCgkJCQkJfSwgei55U2V0dGVyID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2ID0gei55ID0geGUoZSksIHouYXR0cigidHJhbnNsYXRlWSIsIHYpCgkJCQkJfTsKCQkJCQl2YXIgUCA9IHouY3NzOwoJCQkJCXJldHVybiBhKHosIHsKCQkJCQkJY3NzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlpZiAoZSkgewoJCQkJCQkJCXZhciB0ID0ge307CgkJCQkJCQkJZSA9IG8oZSksIG10KHoudGV4dFByb3BzLCBmdW5jdGlvbihuKSB7CgkJCQkJCQkJCWVbbl0gIT09IFcgJiYgKHRbbl0gPSBlW25dLCBkZWxldGUgZVtuXSkKCQkJCQkJCQl9KSwgQi5jc3ModCkKCQkJCQkJCX0KCQkJCQkJCXJldHVybiBQLmNhbGwoeiwgZSkKCQkJCQkJfSwKCQkJCQkJZ2V0QkJveDogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCXdpZHRoOiBnLndpZHRoICsgMiAqIEMsCgkJCQkJCQkJaGVpZ2h0OiBnLmhlaWdodCArIDIgKiBDLAoJCQkJCQkJCXg6IGcueCAtIEMsCgkJCQkJCQkJeTogZy55IC0gQwoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlzaGFkb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiBmICYmIGYuc2hhZG93KGUpLCB6CgkJCQkJCX0sCgkJCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCQkJd3Qoei5lbGVtZW50LCAibW91c2VlbnRlciIpLCB3dCh6LmVsZW1lbnQsICJtb3VzZWxlYXZlIiksIEIgJiYgKEIgPSBCLmRlc3Ryb3koKSksIGYgJiYgKGYgPSBmLmRlc3Ryb3koKSksIEQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh6KSwgeiA9IGsgPSBwID0gaCA9IHUgPSBudWxsCgkJCQkJCX0KCQkJCQl9KQoJCQkJfQoJCQl9LCBIID0gUHQsIGEoRC5wcm90b3R5cGUsIHsKCQkJCWh0bWxDc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0LmVsZW1lbnQsCgkJCQkJCWkgPSBlICYmICJTUEFOIiA9PT0gbi50YWdOYW1lICYmIGUud2lkdGg7CgkJCQkJcmV0dXJuIGkgJiYgKGRlbGV0ZSBlLndpZHRoLCB0LnRleHRXaWR0aCA9IGksIHQudXBkYXRlVHJhbnNmb3JtKCkpLCB0LnN0eWxlcyA9IGEodC5zdHlsZXMsIGUpLCB4KHQuZWxlbWVudCwgZSksIHQKCQkJCX0sCgkJCQlodG1sR2V0QkJveDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5lbGVtZW50LAoJCQkJCQluID0gZS5iQm94OwoJCQkJCXJldHVybiBuIHx8ICgidGV4dCIgPT09IHQubm9kZU5hbWUgJiYgKHQuc3R5bGUucG9zaXRpb24gPSBHZSksIG4gPSBlLmJCb3ggPSB7CgkJCQkJCXg6IHQub2Zmc2V0TGVmdCwKCQkJCQkJeTogdC5vZmZzZXRUb3AsCgkJCQkJCXdpZHRoOiB0Lm9mZnNldFdpZHRoLAoJCQkJCQloZWlnaHQ6IHQub2Zmc2V0SGVpZ2h0CgkJCQkJfSksIG4KCQkJCX0sCgkJCQlodG1sVXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIXRoaXMuYWRkZWQpIHJldHVybiB2b2lkKHRoaXMuYWxpZ25PbkFkZCA9ICEwKTsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLnJlbmRlcmVyLAoJCQkJCQluID0gZS5lbGVtZW50LAoJCQkJCQlpID0gZS50cmFuc2xhdGVYIHx8IDAsCgkJCQkJCWEgPSBlLnRyYW5zbGF0ZVkgfHwgMCwKCQkJCQkJbyA9IGUueCB8fCAwLAoJCQkJCQlzID0gZS55IHx8IDAsCgkJCQkJCWwgPSBlLnRleHRBbGlnbiB8fCAibGVmdCIsCgkJCQkJCWMgPSB7CgkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJY2VudGVyOiAuNSwKCQkJCQkJCXJpZ2h0OiAxCgkJCQkJCX1bbF0sCgkJCQkJCWQgPSBlLnNoYWRvd3M7CgkJCQkJaWYgKHgobiwgewoJCQkJCQltYXJnaW5MZWZ0OiBpLAoJCQkJCQltYXJnaW5Ub3A6IGEKCQkJCQl9KSwgZCAmJiBtdChkLCBmdW5jdGlvbihlKSB7CgkJCQkJCXgoZSwgewoJCQkJCQkJbWFyZ2luTGVmdDogaSArIDEsCgkJCQkJCQltYXJnaW5Ub3A6IGEgKyAxCgkJCQkJCX0pCgkJCQkJfSksIGUuaW52ZXJ0ZWQgJiYgbXQobi5jaGlsZE5vZGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQuaW52ZXJ0Q2hpbGQoZSwgbikKCQkJCQl9KSwgIlNQQU4iID09PSBuLnRhZ05hbWUpIHsKCQkJCQkJdmFyIHAsIGgsIHUgPSBlLnJvdGF0aW9uLAoJCQkJCQkJZiA9IHIoZS50ZXh0V2lkdGgpLAoJCQkJCQkJZyA9IFt1LCBsLCBuLmlubmVySFRNTCwgZS50ZXh0V2lkdGhdLmpvaW4oIiwiKTsKCQkJCQkJZyAhPT0gZS5jVFQgJiYgKGggPSB0LmZvbnRNZXRyaWNzKG4uc3R5bGUuZm9udFNpemUpLmIsIG0odSkgJiYgZS5zZXRTcGFuUm90YXRpb24odSwgYywgaCksIHAgPSBfKGUuZWxlbVdpZHRoLCBuLm9mZnNldFdpZHRoKSwgcCA+IGYgJiYgL1sgXC1dLy50ZXN0KG4udGV4dENvbnRlbnQgfHwgbi5pbm5lclRleHQpICYmICh4KG4sIHsKCQkJCQkJCXdpZHRoOiBmICsgS2UsCgkJCQkJCQlkaXNwbGF5OiAiYmxvY2siLAoJCQkJCQkJd2hpdGVTcGFjZTogIm5vcm1hbCIKCQkJCQkJfSksIHAgPSBmKSwgZS5nZXRTcGFuQ29ycmVjdGlvbihwLCBoLCBjLCB1LCBsKSksIHgobiwgewoJCQkJCQkJbGVmdDogbyArIChlLnhDb3JyIHx8IDApICsgS2UsCgkJCQkJCQl0b3A6IHMgKyAoZS55Q29yciB8fCAwKSArIEtlCgkJCQkJCX0pLCBJZSAmJiAoaCA9IG4ub2Zmc2V0SGVpZ2h0KSwgZS5jVFQgPSBnCgkJCQkJfQoJCQkJfSwKCQkJCXNldFNwYW5Sb3RhdGlvbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0ge30sCgkJCQkJCWEgPSBUZSA/ICItbXMtdHJhbnNmb3JtIiA6IEllID8gIi13ZWJraXQtdHJhbnNmb3JtIiA6IEFlID8gIk1velRyYW5zZm9ybSIgOiBOZSA/ICItby10cmFuc2Zvcm0iIDogIiI7CgkJCQkJaVthXSA9IGkudHJhbnNmb3JtID0gInJvdGF0ZSgiICsgZSArICJkZWcpIiwgaVthICsgKEFlID8gIk9yaWdpbiIgOiAiLW9yaWdpbiIpXSA9IGkudHJhbnNmb3JtT3JpZ2luID0gMTAwICogdCArICIlICIgKyBuICsgInB4IiwgeCh0aGlzLmVsZW1lbnQsIGkpCgkJCQl9LAoJCQkJZ2V0U3BhbkNvcnJlY3Rpb246IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl0aGlzLnhDb3JyID0gLWUgKiBuLCB0aGlzLnlDb3JyID0gLXQKCQkJCX0KCQkJfSksIGEoUHQucHJvdG90eXBlLCB7CgkJCQlodG1sOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSwKCQkJCQkJbyA9IGkuZWxlbWVudCwKCQkJCQkJciA9IGkucmVuZGVyZXI7CgkJCQkJcmV0dXJuIGkudGV4dFNldHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAhPT0gby5pbm5lckhUTUwgJiYgZGVsZXRlIHRoaXMuYkJveCwgby5pbm5lckhUTUwgPSB0aGlzLnRleHRTdHIgPSBlCgkJCQkJfSwgaS54U2V0dGVyID0gaS55U2V0dGVyID0gaS5hbGlnblNldHRlciA9IGkucm90YXRpb25TZXR0ZXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCSJhbGlnbiIgPT09IHQgJiYgKHQgPSAidGV4dEFsaWduIiksIGlbdF0gPSBlLCBpLmh0bWxVcGRhdGVUcmFuc2Zvcm0oKQoJCQkJCX0sIGkuYXR0cih7CgkJCQkJCXRleHQ6IGUsCgkJCQkJCXg6IHhlKHQpLAoJCQkJCQl5OiB4ZShuKQoJCQkJCX0pLmNzcyh7CgkJCQkJCXBvc2l0aW9uOiBHZSwKCQkJCQkJd2hpdGVTcGFjZTogIm5vd3JhcCIsCgkJCQkJCWZvbnRGYW1pbHk6IHRoaXMuc3R5bGUuZm9udEZhbWlseSwKCQkJCQkJZm9udFNpemU6IHRoaXMuc3R5bGUuZm9udFNpemUKCQkJCQl9KSwgaS5jc3MgPSBpLmh0bWxDc3MsIHIuaXNTVkcgJiYgKGkuYWRkID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCwgbiwgcyA9IHIuYm94LnBhcmVudE5vZGUsCgkJCQkJCQlsID0gW107CgkJCQkJCWlmICh0aGlzLnBhcmVudEdyb3VwID0gZSwgZSkgewoJCQkJCQkJaWYgKHQgPSBlLmRpdiwgIXQpIHsKCQkJCQkJCQlmb3IgKG4gPSBlOyBuOykgbC5wdXNoKG4pLCBuID0gbi5wYXJlbnRHcm91cDsKCQkJCQkJCQltdChsLnJldmVyc2UoKSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCQl2YXIgbjsKCQkJCQkJCQkJdCA9IGUuZGl2ID0gZS5kaXYgfHwgdyhZZSwgewoJCQkJCQkJCQkJY2xhc3NOYW1lOiBmKGUuZWxlbWVudCwgImNsYXNzIikKCQkJCQkJCQkJfSwgewoJCQkJCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQkJCQkJbGVmdDogKGUudHJhbnNsYXRlWCB8fCAwKSArIEtlLAoJCQkJCQkJCQkJdG9wOiAoZS50cmFuc2xhdGVZIHx8IDApICsgS2UKCQkJCQkJCQkJfSwgdCB8fCBzKSwgbiA9IHQuc3R5bGUsIGEoZSwgewoJCQkJCQkJCQkJdHJhbnNsYXRlWFNldHRlcjogZnVuY3Rpb24odCwgaSkgewoJCQkJCQkJCQkJCW4ubGVmdCA9IHQgKyBLZSwgZVtpXSA9IHQsIGUuZG9UcmFuc2Zvcm0gPSAhMAoJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCXRyYW5zbGF0ZVlTZXR0ZXI6IGZ1bmN0aW9uKHQsIGkpIHsKCQkJCQkJCQkJCQluLnRvcCA9IHQgKyBLZSwgZVtpXSA9IHQsIGUuZG9UcmFuc2Zvcm0gPSAhMAoJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCXZpc2liaWxpdHlTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCQluW3RdID0gZQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9KQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB0ID0gczsKCQkJCQkJcmV0dXJuIHQuYXBwZW5kQ2hpbGQobyksIGkuYWRkZWQgPSAhMCwgaS5hbGlnbk9uQWRkICYmIGkuaHRtbFVwZGF0ZVRyYW5zZm9ybSgpLCBpCgkJCQkJfSksIGkKCQkJCX0KCQkJfSk7CgkJCXZhciBJdCwgQXQ7CgkJCWlmICghT2UgJiYgIURlKSB7CgkJCQlBdCA9IHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBbIjwiLCB0LCAnIGZpbGxlZD0iZiIgc3Ryb2tlZD0iZiInXSwKCQkJCQkJCWEgPSBbInBvc2l0aW9uOiAiLCBHZSwgIjsiXSwKCQkJCQkJCW8gPSB0ID09PSBZZTsKCQkJCQkJKCJzaGFwZSIgPT09IHQgfHwgbykgJiYgYS5wdXNoKCJsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7IiksIGEucHVzaCgidmlzaWJpbGl0eTogIiwgbyA/IEplIDogVmUpLCBpLnB1c2goJyBzdHlsZT0iJywgYS5qb2luKCIiKSwgJyIvPicpLCB0ICYmIChpID0gbyB8fCAic3BhbiIgPT09IHQgfHwgImltZyIgPT09IHQgPyBpLmpvaW4oIiIpIDogZS5wcmVwVk1MKGkpLCBuLmVsZW1lbnQgPSB3KGkpKSwgbi5yZW5kZXJlciA9IGUKCQkJCQl9LAoJCQkJCWFkZDogZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCQluID0gdC5yZW5kZXJlciwKCQkJCQkJCWkgPSB0LmVsZW1lbnQsCgkJCQkJCQlhID0gbi5ib3gsCgkJCQkJCQlvID0gZSAmJiBlLmludmVydGVkLAoJCQkJCQkJciA9IGUgPyBlLmVsZW1lbnQgfHwgZSA6IGE7CgkJCQkJCXJldHVybiBvICYmIG4uaW52ZXJ0Q2hpbGQoaSwgciksIHIuYXBwZW5kQ2hpbGQoaSksIHQuYWRkZWQgPSAhMCwgdC5hbGlnbk9uQWRkICYmICF0LmRlZmVyVXBkYXRlVHJhbnNmb3JtICYmIHQudXBkYXRlVHJhbnNmb3JtKCksIHQub25BZGQgJiYgdC5vbkFkZCgpLCB0CgkJCQkJfSwKCQkJCQl1cGRhdGVUcmFuc2Zvcm06IEQucHJvdG90eXBlLmh0bWxVcGRhdGVUcmFuc2Zvcm0sCgkJCQkJc2V0U3BhblJvdGF0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLnJvdGF0aW9uLAoJCQkJCQkJdCA9IHplKGUgKiBDZSksCgkJCQkJCQluID0gQmUoZSAqIENlKTsKCQkJCQkJeCh0aGlzLmVsZW1lbnQsIHsKCQkJCQkJCWZpbHRlcjogZSA/IFsicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9IiwgdCwgIiwgTTEyPSIsIC1uLCAiLCBNMjE9IiwgbiwgIiwgTTIyPSIsIHQsICIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSJdLmpvaW4oIiIpIDogUWUKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWdldFNwYW5Db3JyZWN0aW9uOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJCXZhciBvLCByID0gaSA/IHplKGkgKiBDZSkgOiAxLAoJCQkJCQkJcyA9IGkgPyBCZShpICogQ2UpIDogMCwKCQkJCQkJCWwgPSBfKHRoaXMuZWxlbUhlaWdodCwgdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCksCgkJCQkJCQljID0gYSAmJiAibGVmdCIgIT09IGE7CgkJCQkJCXRoaXMueENvcnIgPSAwID4gciAmJiAtZSwgdGhpcy55Q29yciA9IDAgPiBzICYmIC1sLCBvID0gMCA+IHIgKiBzLCB0aGlzLnhDb3JyICs9IHMgKiB0ICogKG8gPyAxIC0gbiA6IG4pLCB0aGlzLnlDb3JyIC09IHIgKiB0ICogKGkgPyBvID8gbiA6IDEgLSBuIDogMSksIGMgJiYgKHRoaXMueENvcnIgLT0gZSAqIG4gKiAoMCA+IHIgPyAtMSA6IDEpLCBpICYmICh0aGlzLnlDb3JyIC09IGwgKiBuICogKDAgPiBzID8gLTEgOiAxKSksIHgodGhpcy5lbGVtZW50LCB7CgkJCQkJCQl0ZXh0QWxpZ246IGEKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlwYXRoVG9WTUw6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZm9yICh2YXIgdCA9IGUubGVuZ3RoLCBuID0gW107IHQtLTspIGQoZVt0XSkgPyBuW3RdID0geGUoMTAgKiBlW3RdKSAtIDUgOiAiWiIgPT09IGVbdF0gPyBuW3RdID0gIngiIDogKG5bdF0gPSBlW3RdLCAhZS5pc0FyYyB8fCAid2EiICE9PSBlW3RdICYmICJhdCIgIT09IGVbdF0gfHwgKG5bdCArIDVdID09PSBuW3QgKyA3XSAmJiAoblt0ICsgN10gKz0gZVt0ICsgN10gPiBlW3QgKyA1XSA/IDEgOiAtMSksIG5bdCArIDZdID09PSBuW3QgKyA4XSAmJiAoblt0ICsgOF0gKz0gZVt0ICsgOF0gPiBlW3QgKyA2XSA/IDEgOiAtMSkpKTsKCQkJCQkJcmV0dXJuIG4uam9pbigiICIpIHx8ICJ4IgoJCQkJCX0sCgkJCQkJY2xpcDogZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCwgbiwgaSA9IHRoaXM7CgkJCQkJCXJldHVybiBlID8gKHQgPSBlLm1lbWJlcnMsIHUodCwgaSksIHQucHVzaChpKSwgaS5kZXN0cm95Q2xpcCA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdSh0LCBpKQoJCQkJCQl9LCBuID0gZS5nZXRDU1MoaSkpIDogKGkuZGVzdHJveUNsaXAgJiYgaS5kZXN0cm95Q2xpcCgpLCBuID0gewoJCQkJCQkJY2xpcDogUGUgPyAiaW5oZXJpdCIgOiAicmVjdChhdXRvKSIKCQkJCQkJfSksIGkuY3NzKG4pCgkJCQkJfSwKCQkJCQljc3M6IEQucHJvdG90eXBlLmh0bWxDc3MsCgkJCQkJc2FmZVJlbW92ZUNoaWxkOiBmdW5jdGlvbihlKSB7CgkJCQkJCWUucGFyZW50Tm9kZSAmJiBJKGUpCgkJCQkJfSwKCQkJCQlkZXN0cm95OiBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMuZGVzdHJveUNsaXAgJiYgdGhpcy5kZXN0cm95Q2xpcCgpLCBELnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpCgkJCQkJfSwKCQkJCQlvbjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gdGhpcy5lbGVtZW50WyJvbiIgKyBlXSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIGUgPSBnZS5ldmVudDsKCQkJCQkJCWUudGFyZ2V0ID0gZS5zcmNFbGVtZW50LCB0KGUpCgkJCQkJCX0sIHRoaXMKCQkJCQl9LAoJCQkJCWN1dE9mZlBhdGg6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdmFyIG47CgkJCQkJCXJldHVybiBlID0gZS5zcGxpdCgvWyAsXS8pLCBuID0gZS5sZW5ndGgsICg5ID09PSBuIHx8IDExID09PSBuKSAmJiAoZVtuIC0gNF0gPSBlW24gLSAyXSA9IHIoZVtuIC0gMl0pIC0gMTAgKiB0KSwgZS5qb2luKCIgIikKCQkJCQl9LAoJCQkJCXNoYWRvdzogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSwgbywgcywgbCwgYywgZCwgcCA9IFtdLAoJCQkJCQkJaCA9IHRoaXMuZWxlbWVudCwKCQkJCQkJCXUgPSB0aGlzLnJlbmRlcmVyLAoJCQkJCQkJbSA9IGguc3R5bGUsCgkJCQkJCQlmID0gaC5wYXRoOwoJCQkJCQlpZiAoZiAmJiAic3RyaW5nIiAhPSB0eXBlb2YgZi52YWx1ZSAmJiAoZiA9ICJ4IiksIGwgPSBmLCBlKSB7CgkJCQkJCQlmb3IgKGMgPSBfKGUud2lkdGgsIDMpLCBkID0gKGUub3BhY2l0eSB8fCAuMTUpIC8gYywgaSA9IDE7IDMgPj0gaTsgaSsrKSBzID0gMiAqIGMgKyAxIC0gMiAqIGksIG4gJiYgKGwgPSB0aGlzLmN1dE9mZlBhdGgoZi52YWx1ZSwgcyArIC41KSksIG8gPSBbJzxzaGFwZSBpc1NoYWRvdz0idHJ1ZSIgc3Ryb2tld2VpZ2h0PSInLCBzLCAnIiBmaWxsZWQ9ImZhbHNlIiBwYXRoPSInLCBsLCAnIiBjb29yZHNpemU9IjEwIDEwIiBzdHlsZT0iJywgaC5zdHlsZS5jc3NUZXh0LCAnIiAvPiddLCBhID0gdyh1LnByZXBWTUwobyksIG51bGwsIHsKCQkJCQkJCQlsZWZ0OiByKG0ubGVmdCkgKyBfKGUub2Zmc2V0WCwgMSksCgkJCQkJCQkJdG9wOiByKG0udG9wKSArIF8oZS5vZmZzZXRZLCAxKQoJCQkJCQkJfSksIG4gJiYgKGEuY3V0T2ZmID0gcyArIDEpLCBvID0gWyc8c3Ryb2tlIGNvbG9yPSInLCBlLmNvbG9yIHx8ICJibGFjayIsICciIG9wYWNpdHk9IicsIGQgKiBpLCAnIi8+J10sIHcodS5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCBhKSwgdCA/IHQuZWxlbWVudC5hcHBlbmRDaGlsZChhKSA6IGgucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgaCksIHAucHVzaChhKTsKCQkJCQkJCXRoaXMuc2hhZG93cyA9IHAKCQkJCQkJfQoJCQkJCQlyZXR1cm4gdGhpcwoJCQkJCX0sCgkJCQkJdXBkYXRlU2hhZG93czogRmUsCgkJCQkJc2V0QXR0cjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlQZSA/IHRoaXMuZWxlbWVudFtlXSA9IHQgOiB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGUsIHQpCgkJCQkJfSwKCQkJCQljbGFzc1NldHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCQl0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gZQoJCQkJCX0sCgkJCQkJZGFzaHN0eWxlU2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3Ryb2tlIilbMF0gfHwgdyh0aGlzLnJlbmRlcmVyLnByZXBWTUwoWyI8c3Ryb2tlLz4iXSksIG51bGwsIG51bGwsIG4pOwoJCQkJCQlpW3RdID0gZSB8fCAic29saWQiLCB0aGlzW3RdID0gZQoJCQkJCX0sCgkJCQkJZFNldHRlcjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSA9IHRoaXMuc2hhZG93czsKCQkJCQkJaWYgKGUgPSBlIHx8IFtdLCB0aGlzLmQgPSBlLmpvaW4gJiYgZS5qb2luKCIgIiksIG4ucGF0aCA9IGUgPSB0aGlzLnBhdGhUb1ZNTChlKSwgYSkKCQkJCQkJCWZvciAoaSA9IGEubGVuZ3RoOyBpLS07KSBhW2ldLnBhdGggPSBhW2ldLmN1dE9mZiA/IHRoaXMuY3V0T2ZmUGF0aChlLCBhW2ldLmN1dE9mZikgOiBlOwoJCQkJCQl0aGlzLnNldEF0dHIodCwgZSkKCQkJCQl9LAoJCQkJCWZpbGxTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSBuLm5vZGVOYW1lOwoJCQkJCQkiU1BBTiIgPT09IGkgPyBuLnN0eWxlLmNvbG9yID0gZSA6ICJJTUciICE9PSBpICYmIChuLmZpbGxlZCA9IGUgIT09IFFlLCB0aGlzLnNldEF0dHIoImZpbGxjb2xvciIsIHRoaXMucmVuZGVyZXIuY29sb3IoZSwgbiwgdCwgdGhpcykpKQoJCQkJCX0sCgkJCQkJb3BhY2l0eVNldHRlcjogRmUsCgkJCQkJcm90YXRpb25TZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSBuLnN0eWxlOwoJCQkJCQl0aGlzW3RdID0gaVt0XSA9IGUsIGkubGVmdCA9IC14ZShCZShlICogQ2UpICsgMSkgKyBLZSwgaS50b3AgPSB4ZSh6ZShlICogQ2UpKSArIEtlCgkJCQkJfSwKCQkJCQlzdHJva2VTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdGhpcy5zZXRBdHRyKCJzdHJva2Vjb2xvciIsIHRoaXMucmVuZGVyZXIuY29sb3IoZSwgbiwgdCkpCgkJCQkJfSwKCQkJCQkic3Ryb2tlLXdpZHRoU2V0dGVyIjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQluLnN0cm9rZWQgPSAhIWUsIHRoaXNbdF0gPSBlLCBkKGUpICYmIChlICs9IEtlKSwgdGhpcy5zZXRBdHRyKCJzdHJva2V3ZWlnaHQiLCBlKQoJCQkJCX0sCgkJCQkJdGl0bGVTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJdGhpcy5zZXRBdHRyKHQsIGUpCgkJCQkJfSwKCQkJCQl2aXNpYmlsaXR5U2V0dGVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCSJpbmhlcml0IiA9PT0gZSAmJiAoZSA9IFZlKSwgdGhpcy5zaGFkb3dzICYmIG10KHRoaXMuc2hhZG93cywgZnVuY3Rpb24obikgewoJCQkJCQkJbi5zdHlsZVt0XSA9IGUKCQkJCQkJfSksICJESVYiID09PSBuLm5vZGVOYW1lICYmIChlID0gZSA9PT0gSmUgPyAiLTk5OWVtIiA6IDAsIFBlIHx8IChuLnN0eWxlW3RdID0gZSA/IFZlIDogSmUpLCB0ID0gInRvcCIpLCBuLnN0eWxlW3RdID0gZQoJCQkJCX0sCgkJCQkJeFNldHRlcjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl0aGlzW3RdID0gZSwgIngiID09PSB0ID8gdCA9ICJsZWZ0IiA6ICJ5IiA9PT0gdCAmJiAodCA9ICJ0b3AiKSwgdGhpcy51cGRhdGVDbGlwcGluZyA/ICh0aGlzW3RdID0gZSwgdGhpcy51cGRhdGVDbGlwcGluZygpKSA6IG4uc3R5bGVbdF0gPSBlCgkJCQkJfSwKCQkJCQl6SW5kZXhTZXR0ZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJbi5zdHlsZVt0XSA9IGUKCQkJCQl9CgkJCQl9LCBsdC5WTUxFbGVtZW50ID0gQXQgPSB2KEQsIEF0KSwgQXQucHJvdG90eXBlLnlTZXR0ZXIgPSBBdC5wcm90b3R5cGUud2lkdGhTZXR0ZXIgPSBBdC5wcm90b3R5cGUuaGVpZ2h0U2V0dGVyID0gQXQucHJvdG90eXBlLnhTZXR0ZXI7CgkJCQl2YXIgcXQgPSB7CgkJCQkJRWxlbWVudDogQXQsCgkJCQkJaXNJRTg6IFNlLmluZGV4T2YoIk1TSUUgOC4wIikgPiAtMSwKCQkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBvLCByLCBzLCBsID0gdGhpczsKCQkJCQkJaWYgKGwuYWxpZ25lZE9iamVjdHMgPSBbXSwgbyA9IGwuY3JlYXRlRWxlbWVudChZZSkuY3NzKGEodGhpcy5nZXRTdHlsZShpKSwgewoJCQkJCQkJcG9zaXRpb246IFhlCgkJCQkJCX0pKSwgciA9IG8uZWxlbWVudCwgZS5hcHBlbmRDaGlsZChvLmVsZW1lbnQpLCBsLmlzVk1MID0gITAsIGwuYm94ID0gciwgbC5ib3hXcmFwcGVyID0gbywgbC5jYWNoZSA9IHt9LCBsLnNldFNpemUodCwgbiwgITEpLCAhZmUubmFtZXNwYWNlcy5oY3YpIHsKCQkJCQkJCWZlLm5hbWVzcGFjZXMuYWRkKCJoY3YiLCAidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiKSwgcyA9ICJoY3ZcXDpmaWxsLCBoY3ZcXDpwYXRoLCBoY3ZcXDpzaGFwZSwgaGN2XFw6c3Ryb2tleyBiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9ICI7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWZlLmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0ID0gcwoJCQkJCQkJfSBjYXRjaCAoYykgewoJCQkJCQkJCWZlLnN0eWxlU2hlZXRzWzBdLmNzc1RleHQgKz0gcwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlpc0hpZGRlbjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiAhdGhpcy5ib3gub2Zmc2V0V2lkdGgKCQkJCQl9LAoJCQkJCWNsaXBSZWN0OiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBvID0gdGhpcy5jcmVhdGVFbGVtZW50KCksCgkJCQkJCQlyID0gbChlKTsKCQkJCQkJcmV0dXJuIGEobywgewoJCQkJCQkJbWVtYmVyczogW10sCgkJCQkJCQlsZWZ0OiAociA/IGUueCA6IGUpICsgMSwKCQkJCQkJCXRvcDogKHIgPyBlLnkgOiB0KSArIDEsCgkJCQkJCQl3aWR0aDogKHIgPyBlLndpZHRoIDogbikgLSAxLAoJCQkJCQkJaGVpZ2h0OiAociA/IGUuaGVpZ2h0IDogaSkgLSAxLAoJCQkJCQkJZ2V0Q1NTOiBmdW5jdGlvbihlKSB7CgkJCQkJCQkJdmFyIHQgPSBlLmVsZW1lbnQsCgkJCQkJCQkJCW4gPSB0Lm5vZGVOYW1lLAoJCQkJCQkJCQlpID0gInNoYXBlIiA9PT0gbiwKCQkJCQkJCQkJbyA9IGUuaW52ZXJ0ZWQsCgkJCQkJCQkJCXIgPSB0aGlzLAoJCQkJCQkJCQlzID0gci50b3AgLSAoaSA/IHQub2Zmc2V0VG9wIDogMCksCgkJCQkJCQkJCWwgPSByLmxlZnQsCgkJCQkJCQkJCWMgPSBsICsgci53aWR0aCwKCQkJCQkJCQkJZCA9IHMgKyByLmhlaWdodCwKCQkJCQkJCQkJcCA9IHsKCQkJCQkJCQkJCWNsaXA6ICJyZWN0KCIgKyB4ZShvID8gbCA6IHMpICsgInB4LCIgKyB4ZShvID8gZCA6IGMpICsgInB4LCIgKyB4ZShvID8gYyA6IGQpICsgInB4LCIgKyB4ZShvID8gcyA6IGwpICsgInB4KSIKCQkJCQkJCQkJfTsKCQkJCQkJCQlyZXR1cm4gIW8gJiYgUGUgJiYgIkRJViIgPT09IG4gJiYgYShwLCB7CgkJCQkJCQkJCXdpZHRoOiBjICsgS2UsCgkJCQkJCQkJCWhlaWdodDogZCArIEtlCgkJCQkJCQkJfSksIHAKCQkJCQkJCX0sCgkJCQkJCQl1cGRhdGVDbGlwcGluZzogZnVuY3Rpb24oKSB7CgkJCQkJCQkJbXQoby5tZW1iZXJzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCWUuZWxlbWVudCAmJiBlLmNzcyhvLmdldENTUyhlKSkKCQkJCQkJCQl9KQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJY29sb3I6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQkJdmFyIGEsIG8sIHIsIHMgPSB0aGlzLAoJCQkJCQkJbCA9IC9ecmdiYS8sCgkJCQkJCQljID0gUWU7CgkJCQkJCWlmIChlICYmIGUubGluZWFyR3JhZGllbnQgPyByID0gImdyYWRpZW50IiA6IGUgJiYgZS5yYWRpYWxHcmFkaWVudCAmJiAociA9ICJwYXR0ZXJuIiksIHIpIHsKCQkJCQkJCXZhciBkLCBwLCBoLCB1LCBtLCBmLCBnLCBfLCB4LCB2LCBiLCB5LCBrID0gZS5saW5lYXJHcmFkaWVudCB8fCBlLnJhZGlhbEdyYWRpZW50LAoJCQkJCQkJCXogPSAiIiwKCQkJCQkJCQlCID0gZS5zdG9wcywKCQkJCQkJCQlqID0gW10sCgkJCQkJCQkJQyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvID0gWyc8ZmlsbCBjb2xvcnM9IicgKyBqLmpvaW4oIiwiKSArICciIG9wYWNpdHk9IicsIF8sICciIG86b3BhY2l0eTI9IicsIGcsICciIHR5cGU9IicsIHIsICciICcsIHosICdmb2N1cz0iMTAwJSIgbWV0aG9kPSJhbnkiIC8+J10sIHcocy5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCB0KQoJCQkJCQkJCX07CgkJCQkJCQlpZiAoYiA9IEJbMF0sIHkgPSBCW0IubGVuZ3RoIC0gMV0sIGJbMF0gPiAwICYmIEIudW5zaGlmdChbMCwgYlsxXV0pLCB5WzBdIDwgMSAmJiBCLnB1c2goWzEsIHlbMV1dKSwgbXQoQiwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCWwudGVzdChlWzFdKSA/IChhID0gVHQoZVsxXSksIGQgPSBhLmdldCgicmdiIiksIHAgPSBhLmdldCgiYSIpKSA6IChkID0gZVsxXSwgcCA9IDEpLCBqLnB1c2goMTAwICogZVswXSArICIlICIgKyBkKSwgdCA/IChfID0gcCwgeCA9IGQpIDogKGcgPSBwLCB2ID0gZCkKCQkJCQkJCX0pLCAiZmlsbCIgPT09IG4pCgkJCQkJCQkJaWYgKCJncmFkaWVudCIgPT09IHIpIGggPSBrLngxIHx8IGtbMF0gfHwgMCwgdSA9IGsueTEgfHwga1sxXSB8fCAwLCBtID0gay54MiB8fCBrWzJdIHx8IDAsIGYgPSBrLnkyIHx8IGtbM10gfHwgMCwgeiA9ICdhbmdsZT0iJyArICg5MCAtIDE4MCAqIF9lLmF0YW4oKGYgLSB1KSAvIChtIC0gaCkpIC8gamUpICsgJyInLCBDKCk7CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciBTLCBOID0gay5yLAoJCQkJCQkJCQkJVCA9IDIgKiBOLAoJCQkJCQkJCQkJUCA9IDIgKiBOLAoJCQkJCQkJCQkJSSA9IGsuY3gsCgkJCQkJCQkJCQlBID0gay5jeSwKCQkJCQkJCQkJCXEgPSB0LnJhZGlhbFJlZmVyZW5jZSwKCQkJCQkJCQkJCUUgPSBmdW5jdGlvbigpIHsKCQkJCQkJCQkJCQlxICYmIChTID0gaS5nZXRCQm94KCksIEkgKz0gKHFbMF0gLSBTLngpIC8gUy53aWR0aCAtIC41LCBBICs9IChxWzFdIC0gUy55KSAvIFMuaGVpZ2h0IC0gLjUsIFQgKj0gcVsyXSAvIFMud2lkdGgsIFAgKj0gcVsyXSAvIFMuaGVpZ2h0KSwgeiA9ICdzcmM9IicgKyBHLmdsb2JhbC5WTUxSYWRpYWxHcmFkaWVudFVSTCArICciIHNpemU9IicgKyBUICsgIiwiICsgUCArICciIG9yaWdpbj0iMC41LDAuNSIgcG9zaXRpb249IicgKyBJICsgIiwiICsgQSArICciIGNvbG9yMj0iJyArIHYgKyAnIiAnLCBDKCkKCQkJCQkJCQkJCX07CgkJCQkJCQkJCWkuYWRkZWQgPyBFKCkgOiBpLm9uQWRkID0gRSwgYyA9IHgKCQkJCQkJCQl9IGVsc2UgYyA9IGQKCQkJCQkJfSBlbHNlIGlmIChsLnRlc3QoZSkgJiYgIklNRyIgIT09IHQudGFnTmFtZSkgYSA9IFR0KGUpLCBvID0gWyI8IiwgbiwgJyBvcGFjaXR5PSInLCBhLmdldCgiYSIpLCAnIi8+J10sIHcodGhpcy5wcmVwVk1MKG8pLCBudWxsLCBudWxsLCB0KSwgYyA9IGEuZ2V0KCJyZ2IiKTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgTyA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik7CgkJCQkJCQlPLmxlbmd0aCAmJiAoT1swXS5vcGFjaXR5ID0gMSwgT1swXS50eXBlID0gInNvbGlkIiksIGMgPSBlCgkJCQkJCX0KCQkJCQkJcmV0dXJuIGMKCQkJCQl9LAoJCQkJCXByZXBWTUw6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSAiZGlzcGxheTppbmxpbmUtYmxvY2s7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCk7IiwKCQkJCQkJCW4gPSB0aGlzLmlzSUU4OwoJCQkJCQlyZXR1cm4gZSA9IGUuam9pbigiIiksIG4gPyAoZSA9IGUucmVwbGFjZSgiLz4iLCAnIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIgLz4nKSwgZSA9IC0xID09PSBlLmluZGV4T2YoJ3N0eWxlPSInKSA/IGUucmVwbGFjZSgiLz4iLCAnIHN0eWxlPSInICsgdCArICciIC8+JykgOiBlLnJlcGxhY2UoJ3N0eWxlPSInLCAnc3R5bGU9IicgKyB0KSkgOiBlID0gZS5yZXBsYWNlKCI8IiwgIjxoY3Y6IiksIGUKCQkJCQl9LAoJCQkJCXRleHQ6IFB0LnByb3RvdHlwZS5odG1sLAoJCQkJCXBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQljb29yZHNpemU6ICIxMCAxMCIKCQkJCQkJfTsKCQkJCQkJcmV0dXJuIGMoZSkgPyB0LmQgPSBlIDogbChlKSAmJiBhKHQsIGUpLCB0aGlzLmNyZWF0ZUVsZW1lbnQoInNoYXBlIikuYXR0cih0KQoJCQkJCX0sCgkJCQkJY2lyY2xlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCXZhciBpID0gdGhpcy5zeW1ib2woImNpcmNsZSIpOwoJCQkJCQlyZXR1cm4gbChlKSAmJiAobiA9IGUuciwgdCA9IGUueSwgZSA9IGUueCksIGkuaXNDaXJjbGUgPSAhMCwgaS5yID0gbiwgaS5hdHRyKHsKCQkJCQkJCXg6IGUsCgkJCQkJCQl5OiB0CgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlnOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0LCBuOwoJCQkJCQlyZXR1cm4gZSAmJiAobiA9IHsKCQkJCQkJCWNsYXNzTmFtZTogWmUgKyBlLAoJCQkJCQkJImNsYXNzIjogWmUgKyBlCgkJCQkJCX0pLCB0ID0gdGhpcy5jcmVhdGVFbGVtZW50KFllKS5hdHRyKG4pCgkJCQkJfSwKCQkJCQlpbWFnZTogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQl2YXIgbyA9IHRoaXMuY3JlYXRlRWxlbWVudCgiaW1nIikuYXR0cih7CgkJCQkJCQlzcmM6IGUKCQkJCQkJfSk7CgkJCQkJCXJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBvLmF0dHIoewoJCQkJCQkJeDogdCwKCQkJCQkJCXk6IG4sCgkJCQkJCQl3aWR0aDogaSwKCQkJCQkJCWhlaWdodDogYQoJCQkJCQl9KSwgbwoJCQkJCX0sCgkJCQkJY3JlYXRlRWxlbWVudDogZnVuY3Rpb24oZSkgewoJCQkJCQlyZXR1cm4gInJlY3QiID09PSBlID8gdGhpcy5zeW1ib2woZSkgOiBQdC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsIGUpCgkJCQkJfSwKCQkJCQlpbnZlcnRDaGlsZDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl2YXIgbiA9IHRoaXMsCgkJCQkJCQlpID0gdC5zdHlsZSwKCQkJCQkJCWEgPSAiSU1HIiA9PT0gZS50YWdOYW1lICYmIGUuc3R5bGU7CgkJCQkJCXgoZSwgewoJCQkJCQkJZmxpcDogIngiLAoJCQkJCQkJbGVmdDogcihpLndpZHRoKSAtIChhID8gcihhLnRvcCkgOiAxKSwKCQkJCQkJCXRvcDogcihpLmhlaWdodCkgLSAoYSA/IHIoYS5sZWZ0KSA6IDEpLAoJCQkJCQkJcm90YXRpb246IC05MAoJCQkJCQl9KSwgbXQoZS5jaGlsZE5vZGVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCQluLmludmVydENoaWxkKHQsIGUpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlzeW1ib2xzOiB7CgkJCQkJCWFyYzogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCQkJdmFyIG8sIHIgPSBhLnN0YXJ0LAoJCQkJCQkJCXMgPSBhLmVuZCwKCQkJCQkJCQlsID0gYS5yIHx8IG4gfHwgaSwKCQkJCQkJCQljID0gYS5pbm5lclIsCgkJCQkJCQkJZCA9IHplKHIpLAoJCQkJCQkJCXAgPSBCZShyKSwKCQkJCQkJCQloID0gemUocyksCgkJCQkJCQkJdSA9IEJlKHMpOwoJCQkJCQkJcmV0dXJuIHMgLSByID09PSAwID8gWyJ4Il0gOiAobyA9IFsid2EiLCBlIC0gbCwgdCAtIGwsIGUgKyBsLCB0ICsgbCwgZSArIGwgKiBkLCB0ICsgbCAqIHAsIGUgKyBsICogaCwgdCArIGwgKiB1XSwgYS5vcGVuICYmICFjICYmIG8ucHVzaCgiZSIsIGV0LCBlLCB0KSwgby5wdXNoKCJhdCIsIGUgLSBjLCB0IC0gYywgZSArIGMsIHQgKyBjLCBlICsgYyAqIGgsIHQgKyBjICogdSwgZSArIGMgKiBkLCB0ICsgYyAqIHAsICJ4IiwgImUiKSwgby5pc0FyYyA9ICEwLCBvKQoJCQkJCQl9LAoJCQkJCQljaXJjbGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXJldHVybiBhICYmIChuID0gaSA9IDIgKiBhLnIpLCBhICYmIGEuaXNDaXJjbGUgJiYgKGUgLT0gbiAvIDIsIHQgLT0gaSAvIDIpLCBbIndhIiwgZSwgdCwgZSArIG4sIHQgKyBpLCBlICsgbiwgdCArIGkgLyAyLCBlICsgbiwgdCArIGkgLyAyLCAiZSJdCgkJCQkJCX0sCgkJCQkJCXJlY3Q6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCQkJCXJldHVybiBQdC5wcm90b3R5cGUuc3ltYm9sc1ttKGEpICYmIGEuciA/ICJjYWxsb3V0IiA6ICJzcXVhcmUiXS5jYWxsKDAsIGUsIHQsIG4sIGksIGEpCgkJCQkJCX0KCQkJCQl9CgkJCQl9OwoJCQkJbHQuVk1MUmVuZGVyZXIgPSBJdCA9IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCQl9LCBJdC5wcm90b3R5cGUgPSBvKFB0LnByb3RvdHlwZSwgcXQpLCBIID0gSXQKCQkJfQoJCQlQdC5wcm90b3R5cGUubWVhc3VyZVNwYW5XaWR0aCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuLCBpID0gZmUuY3JlYXRlRWxlbWVudCgic3BhbiIpLAoJCQkJCWEgPSBmZS5jcmVhdGVUZXh0Tm9kZShlKTsKCQkJCXJldHVybiBpLmFwcGVuZENoaWxkKGEpLCB4KGksIHQpLCB0aGlzLmJveC5hcHBlbmRDaGlsZChpKSwgbiA9IGkub2Zmc2V0V2lkdGgsIEkoaSksIG4KCQkJfTsKCQkJdmFyIEV0LCBPdDsKCQkJRGUgJiYgKGx0LkNhblZHUmVuZGVyZXIgPSBFdCA9IGZ1bmN0aW9uKCkgewoJCQkJRWUgPSAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIKCQkJfSwgRXQucHJvdG90eXBlLnN5bWJvbHMgPSB7fSwgT3QgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJdmFyIGUsIG4gPSB0Lmxlbmd0aDsKCQkJCQlmb3IgKGUgPSAwOyBuID4gZTsgZSsrKSB0W2VdKCk7CgkJCQkJdCA9IFtdCgkJCQl9CgkJCQl2YXIgdCA9IFtdOwoJCQkJcmV0dXJuIHsKCQkJCQlwdXNoOiBmdW5jdGlvbihuLCBpKSB7CgkJCQkJCTAgPT09IHQubGVuZ3RoICYmIGh0KGksIGUpLCB0LnB1c2gobikKCQkJCQl9CgkJCQl9CgkJCX0oKSwgSCA9IEV0KSwgTS5wcm90b3R5cGUgPSB7CgkJCQlhZGRMYWJlbDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5heGlzLAoJCQkJCQlzID0gci5vcHRpb25zLAoJCQkJCQlsID0gci5jaGFydCwKCQkJCQkJYyA9IHIuaG9yaXosCgkJCQkJCXAgPSByLmNhdGVnb3JpZXMsCgkJCQkJCXUgPSByLm5hbWVzLAoJCQkJCQlmID0gby5wb3MsCgkJCQkJCWcgPSBzLmxhYmVscywKCQkJCQkJeCA9IGcucm90YXRpb24sCgkJCQkJCXcgPSByLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXYgPSBjICYmIHAgJiYgIWcuc3RlcCAmJiAhZy5zdGFnZ2VyTGluZXMgJiYgIWcucm90YXRpb24gJiYgbC5wbG90V2lkdGggLyB3Lmxlbmd0aCB8fCAhYyAmJiAobC5tYXJnaW5bM10gfHwgLjMzICogbC5jaGFydFdpZHRoKSwKCQkJCQkJYiA9IGYgPT09IHdbMF0sCgkJCQkJCXkgPSBmID09PSB3W3cubGVuZ3RoIC0gMV0sCgkJCQkJCWsgPSBwID8gXyhwW2ZdLCB1W2ZdLCBmKSA6IGYsCgkJCQkJCXogPSBvLmxhYmVsLAoJCQkJCQlCID0gdy5pbmZvOwoJCQkJCXIuaXNEYXRldGltZUF4aXMgJiYgQiAmJiAoaSA9IHMuZGF0ZVRpbWVMYWJlbEZvcm1hdHNbQi5oaWdoZXJSYW5rc1tmXSB8fCBCLnVuaXROYW1lXSksIG8uaXNGaXJzdCA9IGIsIG8uaXNMYXN0ID0geSwgZSA9IHIubGFiZWxGb3JtYXR0ZXIuY2FsbCh7CgkJCQkJCWF4aXM6IHIsCgkJCQkJCWNoYXJ0OiBsLAoJCQkJCQlpc0ZpcnN0OiBiLAoJCQkJCQlpc0xhc3Q6IHksCgkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXQ6IGksCgkJCQkJCXZhbHVlOiByLmlzTG9nID8gQShoKGspKSA6IGsKCQkJCQl9KSwgdCA9IHYgJiYgewoJCQkJCQl3aWR0aDogYmUoMSwgeGUodiAtIDIgKiAoZy5wYWRkaW5nIHx8IDEwKSkpICsgS2UKCQkJCQl9LCBtKHopID8geiAmJiB6LmF0dHIoewoJCQkJCQl0ZXh0OiBlCgkJCQkJfSkuY3NzKHQpIDogKG4gPSB7CgkJCQkJCWFsaWduOiByLmxhYmVsQWxpZ24KCQkJCQl9LCBkKHgpICYmIChuLnJvdGF0aW9uID0geCksIHYgJiYgZy5lbGxpcHNpcyAmJiAodC5IY0hlaWdodCA9IHIubGVuIC8gdy5sZW5ndGgpLCBvLmxhYmVsID0geiA9IG0oZSkgJiYgZy5lbmFibGVkID8gbC5yZW5kZXJlci50ZXh0KGUsIDAsIDAsIGcudXNlSFRNTCkuYXR0cihuKS5jc3MoYSh0LCBnLnN0eWxlKSkuYWRkKHIubGFiZWxHcm91cCkgOiBudWxsLCByLnRpY2tCYXNlbGluZSA9IGwucmVuZGVyZXIuZm9udE1ldHJpY3MoZy5zdHlsZS5mb250U2l6ZSwgeikuYiwgeCAmJiAyID09PSByLnNpZGUgJiYgKHIudGlja0Jhc2VsaW5lICo9IHplKHggKiBDZSkpKSwgby55T2Zmc2V0ID0geiA/IF8oZy55LCByLnRpY2tCYXNlbGluZSArICgyID09PSByLnNpZGUgPyA4IDogLSh6LmdldEJCb3goKS5oZWlnaHQgLyAyKSkpIDogMAoJCQkJfSwKCQkJCWdldExhYmVsU2l6ZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmxhYmVsLAoJCQkJCQl0ID0gdGhpcy5heGlzOwoJCQkJCXJldHVybiBlID8gZS5nZXRCQm94KClbdC5ob3JpeiA/ICJoZWlnaHQiIDogIndpZHRoIl0gOiAwCgkJCQl9LAoJCQkJZ2V0TGFiZWxTaWRlczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmxhYmVsLmdldEJCb3goKSwKCQkJCQkJdCA9IHRoaXMuYXhpcywKCQkJCQkJbiA9IHQuaG9yaXosCgkJCQkJCWkgPSB0Lm9wdGlvbnMsCgkJCQkJCWEgPSBpLmxhYmVscywKCQkJCQkJbyA9IG4gPyBlLndpZHRoIDogZS5oZWlnaHQsCgkJCQkJCXIgPSBuID8gYS54IC0gbyAqIHsKCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQljZW50ZXI6IC41LAoJCQkJCQkJcmlnaHQ6IDEKCQkJCQkJfVt0LmxhYmVsQWxpZ25dIDogMCwKCQkJCQkJcyA9IG4gPyBvICsgciA6IG87CgkJCQkJcmV0dXJuIFtyLCBzXQoJCQkJfSwKCQkJCWhhbmRsZU92ZXJmbG93OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGEsIG8sIHIsIHMgPSAhMCwKCQkJCQkJbCA9IHRoaXMuYXhpcywKCQkJCQkJYyA9IHRoaXMuaXNGaXJzdCwKCQkJCQkJZCA9IHRoaXMuaXNMYXN0LAoJCQkJCQlwID0gbC5ob3JpeiwKCQkJCQkJaCA9IHAgPyB0LnggOiB0LnksCgkJCQkJCXUgPSBsLnJldmVyc2VkLAoJCQkJCQltID0gbC50aWNrUG9zaXRpb25zLAoJCQkJCQlmID0gdGhpcy5nZXRMYWJlbFNpZGVzKCksCgkJCQkJCWcgPSBmWzBdLAoJCQkJCQlfID0gZlsxXSwKCQkJCQkJeCA9IHRoaXMubGFiZWwubGluZSwKCQkJCQkJdyA9IHggfHwgMCwKCQkJCQkJdiA9IGwubGFiZWxFZGdlLAoJCQkJCQliID0gbC5qdXN0aWZ5TGFiZWxzICYmIChjIHx8IGQpOwoJCQkJCWlmICh2W3ddID09PSBXIHx8IGggKyBnID4gdlt3XSA/IHZbd10gPSBoICsgXyA6IGIgfHwgKHMgPSAhMSksIGIpIHsKCQkJCQkJciA9IGwuanVzdGlmeVRvUGxvdCwgbiA9IHIgPyBsLnBvcyA6IDAsIGkgPSByID8gbiArIGwubGVuIDogbC5jaGFydC5jaGFydFdpZHRoOwoJCQkJCQlkbyBlICs9IGMgPyAxIDogLTEsIGEgPSBsLnRpY2tzW21bZV1dOyB3aGlsZSAobVtlXSAmJiAoIWEgfHwgIWEubGFiZWwgfHwgYS5sYWJlbC5saW5lICE9PSB4KSk7CgkJCQkJCW8gPSBhICYmIGEubGFiZWwueHkgJiYgYS5sYWJlbC54eS54ICsgYS5nZXRMYWJlbFNpZGVzKClbYyA/IDAgOiAxXSwgYyAmJiAhdSB8fCBkICYmIHUgPyBuID4gaCArIGcgJiYgKGggPSBuIC0gZywgYSAmJiBoICsgXyA+IG8gJiYgKHMgPSAhMSkpIDogaCArIF8gPiBpICYmIChoID0gaSAtIF8sIGEgJiYgbyA+IGggKyBnICYmIChzID0gITEpKSwgdC54ID0gaAoJCQkJCX0KCQkJCQlyZXR1cm4gcwoJCQkJfSwKCQkJCWdldFBvc2l0aW9uOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJdmFyIGEgPSB0aGlzLmF4aXMsCgkJCQkJCW8gPSBhLmNoYXJ0LAoJCQkJCQlyID0gaSAmJiBvLm9sZENoYXJ0SGVpZ2h0IHx8IG8uY2hhcnRIZWlnaHQ7CgkJCQkJcmV0dXJuIHsKCQkJCQkJeDogZSA/IGEudHJhbnNsYXRlKHQgKyBuLCBudWxsLCBudWxsLCBpKSArIGEudHJhbnNCIDogYS5sZWZ0ICsgYS5vZmZzZXQgKyAoYS5vcHBvc2l0ZSA/IChpICYmIG8ub2xkQ2hhcnRXaWR0aCB8fCBvLmNoYXJ0V2lkdGgpIC0gYS5yaWdodCAtIGEubGVmdCA6IDApLAoJCQkJCQl5OiBlID8gciAtIGEuYm90dG9tICsgYS5vZmZzZXQgLSAoYS5vcHBvc2l0ZSA/IGEuaGVpZ2h0IDogMCkgOiByIC0gYS50cmFuc2xhdGUodCArIG4sIG51bGwsIG51bGwsIGkpIC0gYS50cmFuc0IKCQkJCQl9CgkJCQl9LAoJCQkJZ2V0TGFiZWxQb3NpdGlvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbywgciwgcykgewoJCQkJCXZhciBsID0gdGhpcy5heGlzLAoJCQkJCQljID0gbC50cmFuc0EsCgkJCQkJCWQgPSBsLnJldmVyc2VkLAoJCQkJCQlwID0gbC5zdGFnZ2VyTGluZXM7CgkJCQkJcmV0dXJuIGUgPSBlICsgYS54IC0gKG8gJiYgaSA/IG8gKiBjICogKGQgPyAtMSA6IDEpIDogMCksIHQgPSB0ICsgdGhpcy55T2Zmc2V0IC0gKG8gJiYgIWkgPyBvICogYyAqIChkID8gMSA6IC0xKSA6IDApLCBwICYmIChuLmxpbmUgPSByIC8gKHMgfHwgMSkgJSBwLCB0ICs9IG4ubGluZSAqIChsLmxhYmVsT2Zmc2V0IC8gcCkpLCB7CgkJCQkJCXg6IGUsCgkJCQkJCXk6IHQKCQkJCQl9CgkJCQl9LAoJCQkJZ2V0TWFya1BhdGg6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQlyZXR1cm4gby5jcmlzcExpbmUoW2V0LCBlLCB0LCB0dCwgZSArIChhID8gMCA6IC1uKSwgdCArIChhID8gbiA6IDApXSwgaSkKCQkJCX0sCgkJCQlyZW5kZXI6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbywgciA9IHRoaXMsCgkJCQkJCXMgPSByLmF4aXMsCgkJCQkJCWwgPSBzLm9wdGlvbnMsCgkJCQkJCWMgPSBzLmNoYXJ0LAoJCQkJCQlkID0gYy5yZW5kZXJlciwKCQkJCQkJcCA9IHMuaG9yaXosCgkJCQkJCWggPSByLnR5cGUsCgkJCQkJCXUgPSByLmxhYmVsLAoJCQkJCQltID0gci5wb3MsCgkJCQkJCWYgPSBsLmxhYmVscywKCQkJCQkJZyA9IHIuZ3JpZExpbmUsCgkJCQkJCXggPSBoID8gaCArICJHcmlkIiA6ICJncmlkIiwKCQkJCQkJdyA9IGggPyBoICsgIlRpY2siIDogInRpY2siLAoJCQkJCQl2ID0gbFt4ICsgIkxpbmVXaWR0aCJdLAoJCQkJCQliID0gbFt4ICsgIkxpbmVDb2xvciJdLAoJCQkJCQl5ID0gbFt4ICsgIkxpbmVEYXNoU3R5bGUiXSwKCQkJCQkJayA9IGxbdyArICJMZW5ndGgiXSwKCQkJCQkJeiA9IGxbdyArICJXaWR0aCJdIHx8IDAsCgkJCQkJCUIgPSBsW3cgKyAiQ29sb3IiXSwKCQkJCQkJaiA9IGxbdyArICJQb3NpdGlvbiJdLAoJCQkJCQlDID0gci5tYXJrLAoJCQkJCQlTID0gZi5zdGVwLAoJCQkJCQlOID0gITAsCgkJCQkJCVQgPSBzLnRpY2ttYXJrT2Zmc2V0LAoJCQkJCQlQID0gci5nZXRQb3NpdGlvbihwLCBtLCBULCB0KSwKCQkJCQkJSSA9IFAueCwKCQkJCQkJQSA9IFAueSwKCQkJCQkJcSA9IHAgJiYgSSA9PT0gcy5wb3MgKyBzLmxlbiB8fCAhcCAmJiBBID09PSBzLnBvcyA/IC0xIDogMTsKCQkJCQluID0gXyhuLCAxKSwgdGhpcy5pc0FjdGl2ZSA9ICEwLCB2ICYmIChpID0gcy5nZXRQbG90TGluZVBhdGgobSArIFQsIHYgKiBxLCB0LCAhMCksIGcgPT09IFcgJiYgKG8gPSB7CgkJCQkJCXN0cm9rZTogYiwKCQkJCQkJInN0cm9rZS13aWR0aCI6IHYKCQkJCQl9LCB5ICYmIChvLmRhc2hzdHlsZSA9IHkpLCBoIHx8IChvLnpJbmRleCA9IDEpLCB0ICYmIChvLm9wYWNpdHkgPSAwKSwgci5ncmlkTGluZSA9IGcgPSB2ID8gZC5wYXRoKGkpLmF0dHIobykuYWRkKHMuZ3JpZEdyb3VwKSA6IG51bGwpLCAhdCAmJiBnICYmIGkgJiYgZ1tyLmlzTmV3ID8gImF0dHIiIDogImFuaW1hdGUiXSh7CgkJCQkJCWQ6IGksCgkJCQkJCW9wYWNpdHk6IG4KCQkJCQl9KSksIHogJiYgayAmJiAoImluc2lkZSIgPT09IGogJiYgKGsgPSAtayksIHMub3Bwb3NpdGUgJiYgKGsgPSAtayksIGEgPSByLmdldE1hcmtQYXRoKEksIEEsIGssIHogKiBxLCBwLCBkKSwgQyA/IEMuYW5pbWF0ZSh7CgkJCQkJCWQ6IGEsCgkJCQkJCW9wYWNpdHk6IG4KCQkJCQl9KSA6IHIubWFyayA9IGQucGF0aChhKS5hdHRyKHsKCQkJCQkJc3Ryb2tlOiBCLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogeiwKCQkJCQkJb3BhY2l0eTogbgoJCQkJCX0pLmFkZChzLmF4aXNHcm91cCkpLCB1ICYmICFpc05hTihJKSAmJiAodS54eSA9IFAgPSByLmdldExhYmVsUG9zaXRpb24oSSwgQSwgdSwgcCwgZiwgVCwgZSwgUyksIHIuaXNGaXJzdCAmJiAhci5pc0xhc3QgJiYgIV8obC5zaG93Rmlyc3RMYWJlbCwgMSkgfHwgci5pc0xhc3QgJiYgIXIuaXNGaXJzdCAmJiAhXyhsLnNob3dMYXN0TGFiZWwsIDEpID8gTiA9ICExIDogcy5pc1JhZGlhbCB8fCBmLnN0ZXAgfHwgZi5yb3RhdGlvbiB8fCB0IHx8IDAgPT09IG4gfHwgKE4gPSByLmhhbmRsZU92ZXJmbG93KGUsIFApKSwgUyAmJiBlICUgUyAmJiAoTiA9ICExKSwgTiAmJiAhaXNOYU4oUC55KSA/IChQLm9wYWNpdHkgPSBuLCB1W3IuaXNOZXcgPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKFApLCByLmlzTmV3ID0gITEpIDogdS5hdHRyKCJ5IiwgLTk5OTkpKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCVAodGhpcywgdGhpcy5heGlzKQoJCQkJfQoJCQl9LCBsdC5QbG90TGluZU9yQmFuZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXRoaXMuYXhpcyA9IGUsIHQgJiYgKHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuaWQgPSB0LmlkKQoJCQl9LCBsdC5QbG90TGluZU9yQmFuZC5wcm90b3R5cGUgPSB7CgkJCQlyZW5kZXI6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCByLCBzID0gdGhpcywKCQkJCQkJbCA9IHMuYXhpcywKCQkJCQkJYyA9IGwuaG9yaXosCgkJCQkJCWQgPSAobC5wb2ludFJhbmdlIHx8IDApIC8gMiwKCQkJCQkJaCA9IHMub3B0aW9ucywKCQkJCQkJdSA9IGgubGFiZWwsCgkJCQkJCWYgPSBzLmxhYmVsLAoJCQkJCQlnID0gaC53aWR0aCwKCQkJCQkJXyA9IGgudG8sCgkJCQkJCXggPSBoLmZyb20sCgkJCQkJCXcgPSBtKHgpICYmIG0oXyksCgkJCQkJCXYgPSBoLnZhbHVlLAoJCQkJCQliID0gaC5kYXNoU3R5bGUsCgkJCQkJCXkgPSBzLnN2Z0VsZW0sCgkJCQkJCWsgPSBbXSwKCQkJCQkJeiA9IGguY29sb3IsCgkJCQkJCUIgPSBoLnpJbmRleCwKCQkJCQkJaiA9IGguZXZlbnRzLAoJCQkJCQlDID0ge30sCgkJCQkJCVMgPSBsLmNoYXJ0LnJlbmRlcmVyOwoJCQkJCWlmIChsLmlzTG9nICYmICh4ID0gcCh4KSwgXyA9IHAoXyksIHYgPSBwKHYpKSwgZykgayA9IGwuZ2V0UGxvdExpbmVQYXRoKHYsIGcpLCBDID0gewoJCQkJCQlzdHJva2U6IHosCgkJCQkJCSJzdHJva2Utd2lkdGgiOiBnCgkJCQkJfSwgYiAmJiAoQy5kYXNoc3R5bGUgPSBiKTsKCQkJCQllbHNlIHsKCQkJCQkJaWYgKCF3KSByZXR1cm47CgkJCQkJCXggPSBiZSh4LCBsLm1pbiAtIGQpLCBfID0geWUoXywgbC5tYXggKyBkKSwgayA9IGwuZ2V0UGxvdEJhbmRQYXRoKHgsIF8sIGgpLCB6ICYmIChDLmZpbGwgPSB6KSwgaC5ib3JkZXJXaWR0aCAmJiAoQy5zdHJva2UgPSBoLmJvcmRlckNvbG9yLCBDWyJzdHJva2Utd2lkdGgiXSA9IGguYm9yZGVyV2lkdGgpCgkJCQkJfSBpZiAobShCKSAmJiAoQy56SW5kZXggPSBCKSwgeSkgayA/IHkuYW5pbWF0ZSh7CgkJCQkJCWQ6IGsKCQkJCQl9LCBudWxsLCB5Lm9uR2V0UGF0aCkgOiAoeS5oaWRlKCksIHkub25HZXRQYXRoID0gZnVuY3Rpb24oKSB7CgkJCQkJCXkuc2hvdygpCgkJCQkJfSwgZiAmJiAocy5sYWJlbCA9IGYgPSBmLmRlc3Ryb3koKSkpOwoJCQkJCWVsc2UgaWYgKGsgJiYgay5sZW5ndGggJiYgKHMuc3ZnRWxlbSA9IHkgPSBTLnBhdGgoaykuYXR0cihDKS5hZGQoKSwgaikpIHsKCQkJCQkJZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXkub24oZSwgZnVuY3Rpb24odCkgewoJCQkJCQkJCWpbZV0uYXBwbHkocywgW3RdKQoJCQkJCQkJfSkKCQkJCQkJfTsKCQkJCQkJZm9yICh0IGluIGopIGUodCkKCQkJCQl9CgkJCQkJcmV0dXJuIHUgJiYgbSh1LnRleHQpICYmIGsgJiYgay5sZW5ndGggJiYgbC53aWR0aCA+IDAgJiYgbC5oZWlnaHQgPiAwID8gKHUgPSBvKHsKCQkJCQkJYWxpZ246IGMgJiYgdyAmJiAiY2VudGVyIiwKCQkJCQkJeDogYyA/ICF3ICYmIDQgOiAxMCwKCQkJCQkJdmVydGljYWxBbGlnbjogIWMgJiYgdyAmJiAibWlkZGxlIiwKCQkJCQkJeTogYyA/IHcgPyAxNiA6IDEwIDogdyA/IDYgOiAtNCwKCQkJCQkJcm90YXRpb246IGMgJiYgIXcgJiYgOTAKCQkJCQl9LCB1KSwgZiB8fCAoQyA9IHsKCQkJCQkJYWxpZ246IHUudGV4dEFsaWduIHx8IHUuYWxpZ24sCgkJCQkJCXJvdGF0aW9uOiB1LnJvdGF0aW9uCgkJCQkJfSwgbShCKSAmJiAoQy56SW5kZXggPSBCKSwgcy5sYWJlbCA9IGYgPSBTLnRleHQodS50ZXh0LCAwLCAwLCB1LnVzZUhUTUwpLmF0dHIoQykuY3NzKHUuc3R5bGUpLmFkZCgpKSwgbiA9IFtrWzFdLCBrWzRdLCB3ID8ga1s2XSA6IGtbMV1dLCBpID0gW2tbMl0sIGtbNV0sIHcgPyBrWzddIDoga1syXV0sIGEgPSBOKG4pLCByID0gTihpKSwgZi5hbGlnbih1LCAhMSwgewoJCQkJCQl4OiBhLAoJCQkJCQl5OiByLAoJCQkJCQl3aWR0aDogVChuKSAtIGEsCgkJCQkJCWhlaWdodDogVChpKSAtIHIKCQkJCQl9KSwgZi5zaG93KCkpIDogZiAmJiBmLmhpZGUoKSwgcwoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXUodGhpcy5heGlzLnBsb3RMaW5lc0FuZEJhbmRzLCB0aGlzKSwgZGVsZXRlIHRoaXMuYXhpcywgUCh0aGlzKQoJCQkJfQoJCQl9LCBRID0gewoJCQkJZ2V0UGxvdEJhbmRQYXRoOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLmdldFBsb3RMaW5lUGF0aCh0KSwKCQkJCQkJaSA9IHRoaXMuZ2V0UGxvdExpbmVQYXRoKGUpOwoJCQkJCXJldHVybiBpICYmIG4gPyBpLnB1c2gobls0XSwgbls1XSwgblsxXSwgblsyXSkgOiBpID0gbnVsbCwgaQoJCQkJfSwKCQkJCWFkZFBsb3RCYW5kOiBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIHRoaXMuYWRkUGxvdEJhbmRPckxpbmUoZSwgInBsb3RCYW5kcyIpCgkJCQl9LAoJCQkJYWRkUGxvdExpbmU6IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gdGhpcy5hZGRQbG90QmFuZE9yTGluZShlLCAicGxvdExpbmVzIikKCQkJCX0sCgkJCQlhZGRQbG90QmFuZE9yTGluZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gbmV3IGx0LlBsb3RMaW5lT3JCYW5kKHRoaXMsIGUpLnJlbmRlcigpLAoJCQkJCQlpID0gdGhpcy51c2VyT3B0aW9uczsKCQkJCQlyZXR1cm4gbiAmJiAodCAmJiAoaVt0XSA9IGlbdF0gfHwgW10sIGlbdF0ucHVzaChlKSksIHRoaXMucGxvdExpbmVzQW5kQmFuZHMucHVzaChuKSksIG4KCQkJCX0sCgkJCQlyZW1vdmVQbG90QmFuZE9yTGluZTogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSB0aGlzLnBsb3RMaW5lc0FuZEJhbmRzLCBuID0gdGhpcy5vcHRpb25zLCBpID0gdGhpcy51c2VyT3B0aW9ucywgYSA9IHQubGVuZ3RoOyBhLS07KSB0W2FdLmlkID09PSBlICYmIHRbYV0uZGVzdHJveSgpOwoJCQkJCW10KFtuLnBsb3RMaW5lcyB8fCBbXSwgaS5wbG90TGluZXMgfHwgW10sIG4ucGxvdEJhbmRzIHx8IFtdLCBpLnBsb3RCYW5kcyB8fCBbXV0sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJZm9yIChhID0gdC5sZW5ndGg7IGEtLTspIHRbYV0uaWQgPT09IGUgJiYgdSh0LCB0W2FdKQoJCQkJCX0pCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlID0gewoJCQkJZGVmYXVsdE9wdGlvbnM6IHsKCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQltaWxsaXNlY29uZDogIiVIOiVNOiVTLiVMIiwKCQkJCQkJc2Vjb25kOiAiJUg6JU06JVMiLAoJCQkJCQltaW51dGU6ICIlSDolTSIsCgkJCQkJCWhvdXI6ICIlSDolTSIsCgkJCQkJCWRheTogIiVlLiAlYiIsCgkJCQkJCXdlZWs6ICIlZS4gJWIiLAoJCQkJCQltb250aDogIiViICcleSIsCgkJCQkJCXllYXI6ICIlWSIKCQkJCQl9LAoJCQkJCWVuZE9uVGljazogITEsCgkJCQkJZ3JpZExpbmVDb2xvcjogIiNDMEMwQzAiLAoJCQkJCWxhYmVsczogenQsCgkJCQkJbGluZUNvbG9yOiAiI0MwRDBFMCIsCgkJCQkJbGluZVdpZHRoOiAxLAoJCQkJCW1pblBhZGRpbmc6IC4wMSwKCQkJCQltYXhQYWRkaW5nOiAuMDEsCgkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI0UwRTBFMCIsCgkJCQkJbWlub3JHcmlkTGluZVdpZHRoOiAxLAoJCQkJCW1pbm9yVGlja0NvbG9yOiAiI0EwQTBBMCIsCgkJCQkJbWlub3JUaWNrTGVuZ3RoOiAyLAoJCQkJCW1pbm9yVGlja1Bvc2l0aW9uOiAib3V0c2lkZSIsCgkJCQkJc3RhcnRPZldlZWs6IDEsCgkJCQkJc3RhcnRPblRpY2s6ICExLAoJCQkJCXRpY2tDb2xvcjogIiNDMEQwRTAiLAoJCQkJCXRpY2tMZW5ndGg6IDEwLAoJCQkJCXRpY2ttYXJrUGxhY2VtZW50OiAiYmV0d2VlbiIsCgkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDEwMCwKCQkJCQl0aWNrUG9zaXRpb246ICJvdXRzaWRlIiwKCQkJCQl0aWNrV2lkdGg6IDEsCgkJCQkJdGl0bGU6IHsKCQkJCQkJYWxpZ246ICJtaWRkbGUiLAoJCQkJCQlzdHlsZTogewoJCQkJCQkJY29sb3I6ICIjNzA3MDcwIgoJCQkJCQl9CgkJCQkJfSwKCQkJCQl0eXBlOiAibGluZWFyIgoJCQkJfSwKCQkJCWRlZmF1bHRZQXhpc09wdGlvbnM6IHsKCQkJCQllbmRPblRpY2s6ICEwLAoJCQkJCWdyaWRMaW5lV2lkdGg6IDEsCgkJCQkJdGlja1BpeGVsSW50ZXJ2YWw6IDcyLAoJCQkJCXNob3dMYXN0TGFiZWw6ICEwLAoJCQkJCWxhYmVsczogewoJCQkJCQl4OiAtOCwKCQkJCQkJeTogMwoJCQkJCX0sCgkJCQkJbGluZVdpZHRoOiAwLAoJCQkJCW1heFBhZGRpbmc6IC4wNSwKCQkJCQltaW5QYWRkaW5nOiAuMDUsCgkJCQkJc3RhcnRPblRpY2s6ICEwLAoJCQkJCXRpY2tXaWR0aDogMCwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogMjcwLAoJCQkJCQl0ZXh0OiAiVmFsdWVzIgoJCQkJCX0sCgkJCQkJc3RhY2tMYWJlbHM6IHsKCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQlyZXR1cm4gYih0aGlzLnRvdGFsLCAtMSkKCQkJCQkJfSwKCQkJCQkJc3R5bGU6IHp0LnN0eWxlCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRMZWZ0QXhpc09wdGlvbnM6IHsKCQkJCQlsYWJlbHM6IHsKCQkJCQkJeDogLTE1LAoJCQkJCQl5OiBudWxsCgkJCQkJfSwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogMjcwCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRSaWdodEF4aXNPcHRpb25zOiB7CgkJCQkJbGFiZWxzOiB7CgkJCQkJCXg6IDE1LAoJCQkJCQl5OiBudWxsCgkJCQkJfSwKCQkJCQl0aXRsZTogewoJCQkJCQlyb3RhdGlvbjogOTAKCQkJCQl9CgkJCQl9LAoJCQkJZGVmYXVsdEJvdHRvbUF4aXNPcHRpb25zOiB7CgkJCQkJbGFiZWxzOiB7CgkJCQkJCXg6IDAsCgkJCQkJCXk6IG51bGwKCQkJCQl9LAoJCQkJCXRpdGxlOiB7CgkJCQkJCXJvdGF0aW9uOiAwCgkJCQkJfQoJCQkJfSwKCQkJCWRlZmF1bHRUb3BBeGlzT3B0aW9uczogewoJCQkJCWxhYmVsczogewoJCQkJCQl4OiAwLAoJCQkJCQl5OiAtMTUKCQkJCQl9LAoJCQkJCXRpdGxlOiB7CgkJCQkJCXJvdGF0aW9uOiAwCgkJCQkJfQoJCQkJfSwKCQkJCWluaXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuaXNYLAoJCQkJCQlpID0gdGhpczsKCQkJCQlpLmhvcml6ID0gZS5pbnZlcnRlZCA/ICFuIDogbiwgaS5pc1hBeGlzID0gbiwgaS5jb2xsID0gbiA/ICJ4QXhpcyIgOiAieUF4aXMiLCBpLm9wcG9zaXRlID0gdC5vcHBvc2l0ZSwgaS5zaWRlID0gdC5zaWRlIHx8IChpLmhvcml6ID8gaS5vcHBvc2l0ZSA/IDAgOiAyIDogaS5vcHBvc2l0ZSA/IDEgOiAzKSwgaS5zZXRPcHRpb25zKHQpOwoJCQkJCXZhciBhID0gdGhpcy5vcHRpb25zLAoJCQkJCQlvID0gYS50eXBlLAoJCQkJCQlyID0gImRhdGV0aW1lIiA9PT0gbzsKCQkJCQlpLmxhYmVsRm9ybWF0dGVyID0gYS5sYWJlbHMuZm9ybWF0dGVyIHx8IGkuZGVmYXVsdExhYmVsRm9ybWF0dGVyLCBpLnVzZXJPcHRpb25zID0gdCwgaS5taW5QaXhlbFBhZGRpbmcgPSAwLCBpLmNoYXJ0ID0gZSwgaS5yZXZlcnNlZCA9IGEucmV2ZXJzZWQsIGkuem9vbUVuYWJsZWQgPSBhLnpvb21FbmFibGVkICE9PSAhMSwgaS5jYXRlZ29yaWVzID0gYS5jYXRlZ29yaWVzIHx8ICJjYXRlZ29yeSIgPT09IG8sIGkubmFtZXMgPSBbXSwgaS5pc0xvZyA9ICJsb2dhcml0aG1pYyIgPT09IG8sIGkuaXNEYXRldGltZUF4aXMgPSByLCBpLmlzTGlua2VkID0gbShhLmxpbmtlZFRvKSwgaS50aWNrbWFya09mZnNldCA9IGkuY2F0ZWdvcmllcyAmJiAiYmV0d2VlbiIgPT09IGEudGlja21hcmtQbGFjZW1lbnQgJiYgMSA9PT0gXyhhLnRpY2tJbnRlcnZhbCwgMSkgPyAuNSA6IDAsIGkudGlja3MgPSB7fSwgaS5sYWJlbEVkZ2UgPSBbXSwgaS5taW5vclRpY2tzID0ge30sIGkucGxvdExpbmVzQW5kQmFuZHMgPSBbXSwgaS5hbHRlcm5hdGVCYW5kcyA9IHt9LCBpLmxlbiA9IDAsIGkubWluUmFuZ2UgPSBpLnVzZXJNaW5SYW5nZSA9IGEubWluUmFuZ2UgfHwgYS5tYXhab29tLCBpLnJhbmdlID0gYS5yYW5nZSwgaS5vZmZzZXQgPSBhLm9mZnNldCB8fCAwLCBpLnN0YWNrcyA9IHt9LCBpLm9sZFN0YWNrcyA9IHt9LCBpLm1heCA9IG51bGwsIGkubWluID0gbnVsbCwgaS5jcm9zc2hhaXIgPSBfKGEuY3Jvc3NoYWlyLCBnKGUub3B0aW9ucy50b29sdGlwLmNyb3NzaGFpcnMpW24gPyAwIDogMV0sICExKTsKCQkJCQl2YXIgcywgbCA9IGkub3B0aW9ucy5ldmVudHM7IC0gMSA9PT0gdXQoaSwgZS5heGVzKSAmJiAobiAmJiAhdGhpcy5pc0NvbG9yQXhpcyA/IGUuYXhlcy5zcGxpY2UoZS54QXhpcy5sZW5ndGgsIDAsIGkpIDogZS5heGVzLnB1c2goaSksIGVbaS5jb2xsXS5wdXNoKGkpKSwgaS5zZXJpZXMgPSBpLnNlcmllcyB8fCBbXSwgZS5pbnZlcnRlZCAmJiBuICYmIGkucmV2ZXJzZWQgPT09IFcgJiYgKGkucmV2ZXJzZWQgPSAhMCksIGkucmVtb3ZlUGxvdEJhbmQgPSBpLnJlbW92ZVBsb3RCYW5kT3JMaW5lLCBpLnJlbW92ZVBsb3RMaW5lID0gaS5yZW1vdmVQbG90QmFuZE9yTGluZTsKCQkJCQlmb3IgKHMgaW4gbCkgeHQoaSwgcywgbFtzXSk7CgkJCQkJaS5pc0xvZyAmJiAoaS52YWwybGluID0gcCwgaS5saW4ydmFsID0gaCkKCQkJCX0sCgkJCQlzZXRPcHRpb25zOiBmdW5jdGlvbihlKSB7CgkJCQkJdGhpcy5vcHRpb25zID0gbyh0aGlzLmRlZmF1bHRPcHRpb25zLCB0aGlzLmlzWEF4aXMgPyB7fSA6IHRoaXMuZGVmYXVsdFlBeGlzT3B0aW9ucywgW3RoaXMuZGVmYXVsdFRvcEF4aXNPcHRpb25zLCB0aGlzLmRlZmF1bHRSaWdodEF4aXNPcHRpb25zLCB0aGlzLmRlZmF1bHRCb3R0b21BeGlzT3B0aW9ucywgdGhpcy5kZWZhdWx0TGVmdEF4aXNPcHRpb25zXVt0aGlzLnNpZGVdLCBvKEdbdGhpcy5jb2xsXSwgZSkpCgkJCQl9LAoJCQkJZGVmYXVsdExhYmVsRm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiA9IHRoaXMuYXhpcywKCQkJCQkJaSA9IHRoaXMudmFsdWUsCgkJCQkJCWEgPSBuLmNhdGVnb3JpZXMsCgkJCQkJCW8gPSB0aGlzLmRhdGVUaW1lTGFiZWxGb3JtYXQsCgkJCQkJCXIgPSBHLmxhbmcubnVtZXJpY1N5bWJvbHMsCgkJCQkJCXMgPSByICYmIHIubGVuZ3RoLAoJCQkJCQlsID0gbi5vcHRpb25zLmxhYmVscy5mb3JtYXQsCgkJCQkJCWMgPSBuLmlzTG9nID8gaSA6IG4udGlja0ludGVydmFsOwoJCQkJCWlmIChsKSB0ID0gQihsLCB0aGlzKTsKCQkJCQllbHNlIGlmIChhKSB0ID0gaTsKCQkJCQllbHNlIGlmIChvKSB0ID0gWChvLCBpKTsKCQkJCQllbHNlIGlmIChzICYmIGMgPj0gMWUzKQoJCQkJCQlmb3IgKDsgcy0tICYmIHQgPT09IFc7KSBlID0gTWF0aC5wb3coMWUzLCBzICsgMSksIGMgPj0gZSAmJiBudWxsICE9PSByW3NdICYmICh0ID0gYihpIC8gZSwgLTEpICsgcltzXSk7CgkJCQkJcmV0dXJuIHQgPT09IFcgJiYgKHQgPSBrZShpKSA+PSAxZTQgPyBiKGksIDApIDogYihpLCAtMSwgVywgIiIpKSwgdAoJCQkJfSwKCQkJCWdldFNlcmllc0V4dHJlbWVzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0OwoJCQkJCWUuaGFzVmlzaWJsZVNlcmllcyA9ICExLCBlLmRhdGFNaW4gPSBlLmRhdGFNYXggPSBlLmlnbm9yZU1pblBhZGRpbmcgPSBlLmlnbm9yZU1heFBhZGRpbmcgPSBudWxsLCBlLmJ1aWxkU3RhY2tzICYmIGUuYnVpbGRTdGFja3MoKSwgbXQoZS5zZXJpZXMsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJaWYgKG4udmlzaWJsZSB8fCAhdC5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcykgewoJCQkJCQkJdmFyIGksIGEsIG8sIHIgPSBuLm9wdGlvbnMsCgkJCQkJCQkJcyA9IHIudGhyZXNob2xkOwoJCQkJCQkJZS5oYXNWaXNpYmxlU2VyaWVzID0gITAsIGUuaXNMb2cgJiYgMCA+PSBzICYmIChzID0gbnVsbCksIGUuaXNYQXhpcyA/IChpID0gbi54RGF0YSwgaS5sZW5ndGggJiYgKGUuZGF0YU1pbiA9IHllKF8oZS5kYXRhTWluLCBpWzBdKSwgTihpKSksIGUuZGF0YU1heCA9IGJlKF8oZS5kYXRhTWF4LCBpWzBdKSwgVChpKSkpKSA6IChuLmdldEV4dHJlbWVzKCksIG8gPSBuLmRhdGFNYXgsIGEgPSBuLmRhdGFNaW4sIG0oYSkgJiYgbShvKSAmJiAoZS5kYXRhTWluID0geWUoXyhlLmRhdGFNaW4sIGEpLCBhKSwgZS5kYXRhTWF4ID0gYmUoXyhlLmRhdGFNYXgsIG8pLCBvKSksIG0ocykgJiYgKGUuZGF0YU1pbiA+PSBzID8gKGUuZGF0YU1pbiA9IHMsIGUuaWdub3JlTWluUGFkZGluZyA9ICEwKSA6IGUuZGF0YU1heCA8IHMgJiYgKGUuZGF0YU1heCA9IHMsIGUuaWdub3JlTWF4UGFkZGluZyA9ICEwKSkpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCXRyYW5zbGF0ZTogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbykgewoJCQkJCXZhciByLCBzID0gdGhpcywKCQkJCQkJbCA9IDEsCgkJCQkJCWMgPSAwLAoJCQkJCQlwID0gaSA/IHMub2xkVHJhbnNBIDogcy50cmFuc0EsCgkJCQkJCWggPSBpID8gcy5vbGRNaW4gOiBzLm1pbiwKCQkJCQkJdSA9IHMubWluUGl4ZWxQYWRkaW5nLAoJCQkJCQltID0gKHMub3B0aW9ucy5vcmRpbmFsIHx8IHMuaXNMb2cgJiYgYSkgJiYgcy5saW4ydmFsOwoJCQkJCXJldHVybiBwIHx8IChwID0gcy50cmFuc0EpLCBuICYmIChsICo9IC0xLCBjID0gcy5sZW4pLCBzLnJldmVyc2VkICYmIChsICo9IC0xLCBjIC09IGwgKiAocy5zZWN0b3IgfHwgcy5sZW4pKSwgdCA/IChlID0gZSAqIGwgKyBjLCBlIC09IHUsIHIgPSBlIC8gcCArIGgsIG0gJiYgKHIgPSBzLmxpbjJ2YWwocikpKSA6IChtICYmIChlID0gcy52YWwybGluKGUpKSwgImJldHdlZW4iID09PSBvICYmIChvID0gLjUpLCByID0gbCAqIChlIC0gaCkgKiBwICsgYyArIGwgKiB1ICsgKGQobykgPyBwICogbyAqIHMucG9pbnRSYW5nZSA6IDApKSwgcgoJCQkJfSwKCQkJCXRvUGl4ZWxzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJcmV0dXJuIHRoaXMudHJhbnNsYXRlKGUsICExLCAhdGhpcy5ob3JpeiwgbnVsbCwgITApICsgKHQgPyAwIDogdGhpcy5wb3MpCgkJCQl9LAoJCQkJdG9WYWx1ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXJldHVybiB0aGlzLnRyYW5zbGF0ZShlIC0gKHQgPyAwIDogdGhpcy5wb3MpLCAhMCwgIXRoaXMuaG9yaXosIG51bGwsICEwKQoJCQkJfSwKCQkJCWdldFBsb3RMaW5lUGF0aDogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSkgewoJCQkJCXZhciBvLCByLCBzLCBsLCBjLCBkID0gdGhpcywKCQkJCQkJcCA9IGQuY2hhcnQsCgkJCQkJCWggPSBkLmxlZnQsCgkJCQkJCXUgPSBkLnRvcCwKCQkJCQkJbSA9IG4gJiYgcC5vbGRDaGFydEhlaWdodCB8fCBwLmNoYXJ0SGVpZ2h0LAoJCQkJCQlmID0gbiAmJiBwLm9sZENoYXJ0V2lkdGggfHwgcC5jaGFydFdpZHRoLAoJCQkJCQlnID0gZC50cmFuc0I7CgkJCQkJcmV0dXJuIGEgPSBfKGEsIGQudHJhbnNsYXRlKGUsIG51bGwsIG51bGwsIG4pKSwgbyA9IHMgPSB4ZShhICsgZyksIHIgPSBsID0geGUobSAtIGEgLSBnKSwgaXNOYU4oYSkgPyBjID0gITAgOiBkLmhvcml6ID8gKHIgPSB1LAoJCQkJCQlsID0gbSAtIGQuYm90dG9tLCAoaCA+IG8gfHwgbyA+IGggKyBkLndpZHRoKSAmJiAoYyA9ICEwKSkgOiAobyA9IGgsIHMgPSBmIC0gZC5yaWdodCwgKHUgPiByIHx8IHIgPiB1ICsgZC5oZWlnaHQpICYmIChjID0gITApKSwgYyAmJiAhaSA/IG51bGwgOiBwLnJlbmRlcmVyLmNyaXNwTGluZShbZXQsIG8sIHIsIHR0LCBzLCBsXSwgdCB8fCAxKQoJCQkJfSwKCQkJCWdldExpbmVhclRpY2tQb3NpdGlvbnM6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQl2YXIgaSwgYSwgbyA9IEEod2UodCAvIGUpICogZSksCgkJCQkJCXIgPSBBKHZlKG4gLyBlKSAqIGUpLAoJCQkJCQlzID0gW107CgkJCQkJaWYgKHQgPT09IG4gJiYgZCh0KSkgcmV0dXJuIFt0XTsKCQkJCQlmb3IgKGkgPSBvOyByID49IGkgJiYgKHMucHVzaChpKSwgaSA9IEEoaSArIGUpLCBpICE9PSBhKTspIGEgPSBpOwoJCQkJCXJldHVybiBzCgkJCQl9LAoJCQkJZ2V0TWlub3JUaWNrUG9zaXRpb25zOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLm9wdGlvbnMsCgkJCQkJCW8gPSBpLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXIgPSBpLm1pbm9yVGlja0ludGVydmFsLAoJCQkJCQlzID0gW107CgkJCQkJaWYgKGkuaXNMb2cpCgkJCQkJCWZvciAobiA9IG8ubGVuZ3RoLCB0ID0gMTsgbiA+IHQ7IHQrKykgcyA9IHMuY29uY2F0KGkuZ2V0TG9nVGlja1Bvc2l0aW9ucyhyLCBvW3QgLSAxXSwgb1t0XSwgITApKTsKCQkJCQllbHNlIGlmIChpLmlzRGF0ZXRpbWVBeGlzICYmICJhdXRvIiA9PT0gYS5taW5vclRpY2tJbnRlcnZhbCkgcyA9IHMuY29uY2F0KGkuZ2V0VGltZVRpY2tzKGkubm9ybWFsaXplVGltZVRpY2tJbnRlcnZhbChyKSwgaS5taW4sIGkubWF4LCBhLnN0YXJ0T2ZXZWVrKSksIHNbMF0gPCBpLm1pbiAmJiBzLnNoaWZ0KCk7CgkJCQkJZWxzZQoJCQkJCQlmb3IgKGUgPSBpLm1pbiArIChvWzBdIC0gaS5taW4pICUgcjsgZSA8PSBpLm1heDsgZSArPSByKSBzLnB1c2goZSk7CgkJCQkJcmV0dXJuIHMKCQkJCX0sCgkJCQlhZGp1c3RGb3JNaW5SYW5nZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQljID0gbC5vcHRpb25zLAoJCQkJCQlkID0gbC5taW4sCgkJCQkJCXAgPSBsLm1heCwKCQkJCQkJaCA9IGwuZGF0YU1heCAtIGwuZGF0YU1pbiA+PSBsLm1pblJhbmdlOwoJCQkJCWlmIChsLmlzWEF4aXMgJiYgbC5taW5SYW5nZSA9PT0gVyAmJiAhbC5pc0xvZyAmJiAobShjLm1pbikgfHwgbShjLm1heCkgPyBsLm1pblJhbmdlID0gbnVsbCA6IChtdChsLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQlmb3IgKGEgPSBlLnhEYXRhLCBvID0gZS54SW5jcmVtZW50ID8gMSA6IGEubGVuZ3RoIC0gMSwgbiA9IG87IG4gPiAwOyBuLS0pIGkgPSBhW25dIC0gYVtuIC0gMV0sICh0ID09PSBXIHx8IHQgPiBpKSAmJiAodCA9IGkpCgkJCQkJfSksIGwubWluUmFuZ2UgPSB5ZSg1ICogdCwgbC5kYXRhTWF4IC0gbC5kYXRhTWluKSkpLCBwIC0gZCA8IGwubWluUmFuZ2UpIHsKCQkJCQkJdmFyIHUgPSBsLm1pblJhbmdlOwoJCQkJCQllID0gKHUgLSBwICsgZCkgLyAyLCByID0gW2QgLSBlLCBfKGMubWluLCBkIC0gZSldLCBoICYmIChyWzJdID0gbC5kYXRhTWluKSwgZCA9IFQociksIHMgPSBbZCArIHUsIF8oYy5tYXgsIGQgKyB1KV0sIGggJiYgKHNbMl0gPSBsLmRhdGFNYXgpLCBwID0gTihzKSwgdSA+IHAgLSBkICYmIChyWzBdID0gcCAtIHUsIHJbMV0gPSBfKGMubWluLCBwIC0gdSksIGQgPSBUKHIpKQoJCQkJCX0KCQkJCQlsLm1pbiA9IGQsIGwubWF4ID0gcAoJCQkJfSwKCQkJCXNldEF4aXNUcmFuc2xhdGlvbjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkubWF4IC0gaS5taW4sCgkJCQkJCW8gPSBpLmF4aXNQb2ludFJhbmdlIHx8IDAsCgkJCQkJCXIgPSAwLAoJCQkJCQlsID0gMCwKCQkJCQkJYyA9IGkubGlua2VkUGFyZW50LAoJCQkJCQlkID0gISFpLmNhdGVnb3JpZXMsCgkJCQkJCXAgPSBpLnRyYW5zQTsKCQkJCQkoaS5pc1hBeGlzIHx8IGQgfHwgbykgJiYgKGMgPyAociA9IGMubWluUG9pbnRPZmZzZXQsIGwgPSBjLnBvaW50UmFuZ2VQYWRkaW5nKSA6IG10KGkuc2VyaWVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gZCA/IDEgOiBpLmlzWEF4aXMgPyBlLnBvaW50UmFuZ2UgOiBpLmF4aXNQb2ludFJhbmdlIHx8IDAsCgkJCQkJCQljID0gZS5vcHRpb25zLnBvaW50UGxhY2VtZW50LAoJCQkJCQkJcCA9IGUuY2xvc2VzdFBvaW50UmFuZ2U7CgkJCQkJCW4gPiBhICYmIChuID0gMCksIG8gPSBiZShvLCBuKSwgciA9IGJlKHIsIHMoYykgPyAwIDogbiAvIDIpLCBsID0gYmUobCwgIm9uIiA9PT0gYyA/IDAgOiBuKSwgIWUubm9TaGFyZWRUb29sdGlwICYmIG0ocCkgJiYgKHQgPSBtKHQpID8geWUodCwgcCkgOiBwKQoJCQkJCX0pLCBuID0gaS5vcmRpbmFsU2xvcGUgJiYgdCA/IGkub3JkaW5hbFNsb3BlIC8gdCA6IDEsIGkubWluUG9pbnRPZmZzZXQgPSByICo9IG4sIGkucG9pbnRSYW5nZVBhZGRpbmcgPSBsICo9IG4sIGkucG9pbnRSYW5nZSA9IHllKG8sIGEpLCBpLmNsb3Nlc3RQb2ludFJhbmdlID0gdCksIGUgJiYgKGkub2xkVHJhbnNBID0gcCksIGkudHJhbnNsYXRpb25TbG9wZSA9IGkudHJhbnNBID0gcCA9IGkubGVuIC8gKGEgKyBsIHx8IDEpLCBpLnRyYW5zQiA9IGkuaG9yaXogPyBpLmxlZnQgOiBpLmJvdHRvbSwgaS5taW5QaXhlbFBhZGRpbmcgPSBwICogcgoJCQkJfSwKCQkJCXNldFRpY2tQb3NpdGlvbnM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSwgbyA9IHRoaXMsCgkJCQkJCXIgPSBvLmNoYXJ0LAoJCQkJCQlzID0gby5vcHRpb25zLAoJCQkJCQlsID0gcy5zdGFydE9uVGljaywKCQkJCQkJYyA9IHMuZW5kT25UaWNrLAoJCQkJCQloID0gby5pc0xvZywKCQkJCQkJdSA9IG8uaXNEYXRldGltZUF4aXMsCgkJCQkJCWYgPSBvLmlzWEF4aXMsCgkJCQkJCWcgPSBvLmlzTGlua2VkLAoJCQkJCQl4ID0gby5vcHRpb25zLnRpY2tQb3NpdGlvbmVyLAoJCQkJCQl3ID0gcy5tYXhQYWRkaW5nLAoJCQkJCQl2ID0gcy5taW5QYWRkaW5nLAoJCQkJCQliID0gcy50aWNrSW50ZXJ2YWwsCgkJCQkJCXkgPSBzLm1pblRpY2tJbnRlcnZhbCwKCQkJCQkJayA9IHMudGlja1BpeGVsSW50ZXJ2YWwsCgkJCQkJCXogPSBvLmNhdGVnb3JpZXM7CgkJCQkJaWYgKGcgPyAoby5saW5rZWRQYXJlbnQgPSByW28uY29sbF1bcy5saW5rZWRUb10sIG4gPSBvLmxpbmtlZFBhcmVudC5nZXRFeHRyZW1lcygpLCBvLm1pbiA9IF8obi5taW4sIG4uZGF0YU1pbiksIG8ubWF4ID0gXyhuLm1heCwgbi5kYXRhTWF4KSwgcy50eXBlICE9PSBvLmxpbmtlZFBhcmVudC5vcHRpb25zLnR5cGUgJiYgSygxMSwgMSkpIDogKG8ubWluID0gXyhvLnVzZXJNaW4sIHMubWluLCBvLmRhdGFNaW4pLCBvLm1heCA9IF8oby51c2VyTWF4LCBzLm1heCwgby5kYXRhTWF4KSksIGggJiYgKCFlICYmIHllKG8ubWluLCBfKG8uZGF0YU1pbiwgby5taW4pKSA8PSAwICYmIEsoMTAsIDEpLCBvLm1pbiA9IEEocChvLm1pbikpLCBvLm1heCA9IEEocChvLm1heCkpKSwgby5yYW5nZSAmJiBtKG8ubWF4KSAmJiAoby51c2VyTWluID0gby5taW4gPSBiZShvLm1pbiwgby5tYXggLSBvLnJhbmdlKSwgby51c2VyTWF4ID0gby5tYXgsIG8ucmFuZ2UgPSBudWxsKSwgby5iZWZvcmVQYWRkaW5nICYmIG8uYmVmb3JlUGFkZGluZygpLCBvLmFkanVzdEZvck1pblJhbmdlKCksIHogfHwgby5heGlzUG9pbnRSYW5nZSB8fCBvLnVzZVBlcmNlbnRhZ2UgfHwgZyB8fCAhbShvLm1pbikgfHwgIW0oby5tYXgpIHx8ICh0ID0gby5tYXggLSBvLm1pbiwgdCAmJiAobShzLm1pbikgfHwgbShvLnVzZXJNaW4pIHx8ICF2IHx8ICEoby5kYXRhTWluIDwgMCkgJiYgby5pZ25vcmVNaW5QYWRkaW5nIHx8IChvLm1pbiAtPSB0ICogdiksIG0ocy5tYXgpIHx8IG0oby51c2VyTWF4KSB8fCAhdyB8fCAhKG8uZGF0YU1heCA+IDApICYmIG8uaWdub3JlTWF4UGFkZGluZyB8fCAoby5tYXggKz0gdCAqIHcpKSksIGQocy5mbG9vcikgJiYgKG8ubWluID0gYmUoby5taW4sIHMuZmxvb3IpKSwgZChzLmNlaWxpbmcpICYmIChvLm1heCA9IHllKG8ubWF4LCBzLmNlaWxpbmcpKSwgby5taW4gPT09IG8ubWF4IHx8IHZvaWQgMCA9PT0gby5taW4gfHwgdm9pZCAwID09PSBvLm1heCA/IG8udGlja0ludGVydmFsID0gMSA6IGcgJiYgIWIgJiYgayA9PT0gby5saW5rZWRQYXJlbnQub3B0aW9ucy50aWNrUGl4ZWxJbnRlcnZhbCA/IG8udGlja0ludGVydmFsID0gby5saW5rZWRQYXJlbnQudGlja0ludGVydmFsIDogKG8udGlja0ludGVydmFsID0gXyhiLCB6ID8gMSA6IChvLm1heCAtIG8ubWluKSAqIGsgLyBiZShvLmxlbiwgaykpLCAhbShiKSAmJiBvLmxlbiA8IGsgJiYgIXRoaXMuaXNSYWRpYWwgJiYgIXRoaXMuaXNMb2cgJiYgIXogJiYgbCAmJiBjICYmIChhID0gITAsIG8udGlja0ludGVydmFsIC89IDQpKSwgZiAmJiAhZSAmJiBtdChvLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnByb2Nlc3NEYXRhKG8ubWluICE9PSBvLm9sZE1pbiB8fCBvLm1heCAhPT0gby5vbGRNYXgpCgkJCQkJfSksIG8uc2V0QXhpc1RyYW5zbGF0aW9uKCEwKSwgby5iZWZvcmVTZXRUaWNrUG9zaXRpb25zICYmIG8uYmVmb3JlU2V0VGlja1Bvc2l0aW9ucygpLCBvLnBvc3RQcm9jZXNzVGlja0ludGVydmFsICYmIChvLnRpY2tJbnRlcnZhbCA9IG8ucG9zdFByb2Nlc3NUaWNrSW50ZXJ2YWwoby50aWNrSW50ZXJ2YWwpKSwgby5wb2ludFJhbmdlICYmIChvLnRpY2tJbnRlcnZhbCA9IGJlKG8ucG9pbnRSYW5nZSwgby50aWNrSW50ZXJ2YWwpKSwgIWIgJiYgby50aWNrSW50ZXJ2YWwgPCB5ICYmIChvLnRpY2tJbnRlcnZhbCA9IHkpLCB1IHx8IGggfHwgYiB8fCAoby50aWNrSW50ZXJ2YWwgPSBDKG8udGlja0ludGVydmFsLCBudWxsLCBqKG8udGlja0ludGVydmFsKSwgXyhzLmFsbG93RGVjaW1hbHMsICEoby50aWNrSW50ZXJ2YWwgPiAxICYmIG8udGlja0ludGVydmFsIDwgNSAmJiBvLm1heCA+IDFlMyAmJiBvLm1heCA8IDk5OTkpKSkpLCBvLm1pbm9yVGlja0ludGVydmFsID0gImF1dG8iID09PSBzLm1pbm9yVGlja0ludGVydmFsICYmIG8udGlja0ludGVydmFsID8gby50aWNrSW50ZXJ2YWwgLyA1IDogcy5taW5vclRpY2tJbnRlcnZhbCwgby50aWNrUG9zaXRpb25zID0gaSA9IHMudGlja1Bvc2l0aW9ucyA/IFtdLmNvbmNhdChzLnRpY2tQb3NpdGlvbnMpIDogeCAmJiB4LmFwcGx5KG8sIFtvLm1pbiwgby5tYXhdKSwgaSB8fCAoIW8ub3JkaW5hbFBvc2l0aW9ucyAmJiAoby5tYXggLSBvLm1pbikgLyBvLnRpY2tJbnRlcnZhbCA+IGJlKDIgKiBvLmxlbiwgMjAwKSAmJiBLKDE5LCAhMCksIGkgPSB1ID8gby5nZXRUaW1lVGlja3Moby5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsKG8udGlja0ludGVydmFsLCBzLnVuaXRzKSwgby5taW4sIG8ubWF4LCBzLnN0YXJ0T2ZXZWVrLCBvLm9yZGluYWxQb3NpdGlvbnMsIG8uY2xvc2VzdFBvaW50UmFuZ2UsICEwKSA6IGggPyBvLmdldExvZ1RpY2tQb3NpdGlvbnMoby50aWNrSW50ZXJ2YWwsIG8ubWluLCBvLm1heCkgOiBvLmdldExpbmVhclRpY2tQb3NpdGlvbnMoby50aWNrSW50ZXJ2YWwsIG8ubWluLCBvLm1heCksIGEgJiYgaS5zcGxpY2UoMSwgaS5sZW5ndGggLSAyKSwgby50aWNrUG9zaXRpb25zID0gaSksICFnKSB7CgkJCQkJCXZhciBCLCBTID0gaVswXSwKCQkJCQkJCU4gPSBpW2kubGVuZ3RoIC0gMV0sCgkJCQkJCQlUID0gby5taW5Qb2ludE9mZnNldCB8fCAwOwoJCQkJCQlsID8gby5taW4gPSBTIDogby5taW4gLSBUID4gUyAmJiBpLnNoaWZ0KCksIGMgPyBvLm1heCA9IE4gOiBvLm1heCArIFQgPCBOICYmIGkucG9wKCksIDAgPT09IGkubGVuZ3RoICYmIG0oUykgJiYgaS5wdXNoKChOICsgUykgLyAyKSwgMSA9PT0gaS5sZW5ndGggJiYgKEIgPSBrZShvLm1heCkgPiAxZTEzID8gMSA6IC4wMDEsIG8ubWluIC09IEIsIG8ubWF4ICs9IEIpCgkJCQkJfQoJCQkJfSwKCQkJCXNldE1heFRpY2tzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMuY2hhcnQsCgkJCQkJCXQgPSBlLm1heFRpY2tzIHx8IHt9LAoJCQkJCQluID0gdGhpcy50aWNrUG9zaXRpb25zLAoJCQkJCQlpID0gdGhpcy5fbWF4VGlja3NLZXkgPSBbdGhpcy5jb2xsLCB0aGlzLnBvcywgdGhpcy5sZW5dLmpvaW4oIi0iKTsKCQkJCQkhdGhpcy5pc0xpbmtlZCAmJiAhdGhpcy5pc0RhdGV0aW1lQXhpcyAmJiBuICYmIG4ubGVuZ3RoID4gKHRbaV0gfHwgMCkgJiYgdGhpcy5vcHRpb25zLmFsaWduVGlja3MgIT09ICExICYmICh0W2ldID0gbi5sZW5ndGgpLCBlLm1heFRpY2tzID0gdAoJCQkJfSwKCQkJCWFkanVzdFRpY2tBbW91bnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQsCgkJCQkJCW4gPSBlLl9tYXhUaWNrc0tleSwKCQkJCQkJaSA9IGUudGlja1Bvc2l0aW9ucywKCQkJCQkJYSA9IHQubWF4VGlja3M7CgkJCQkJaWYgKGEgJiYgYVtuXSAmJiAhZS5pc0RhdGV0aW1lQXhpcyAmJiAhZS5jYXRlZ29yaWVzICYmICFlLmlzTGlua2VkICYmIGUub3B0aW9ucy5hbGlnblRpY2tzICE9PSAhMSAmJiB0aGlzLm1pbiAhPT0gVykgewoJCQkJCQl2YXIgbywgciA9IGUudGlja0Ftb3VudCwKCQkJCQkJCXMgPSBpLmxlbmd0aDsKCQkJCQkJaWYgKGUudGlja0Ftb3VudCA9IG8gPSBhW25dLCBvID4gcykgewoJCQkJCQkJZm9yICg7IGkubGVuZ3RoIDwgbzspIGkucHVzaChBKGlbaS5sZW5ndGggLSAxXSArIGUudGlja0ludGVydmFsKSk7CgkJCQkJCQllLnRyYW5zQSAqPSAocyAtIDEpIC8gKG8gLSAxKSwgZS5tYXggPSBpW2kubGVuZ3RoIC0gMV0KCQkJCQkJfQoJCQkJCQltKHIpICYmIG8gIT09IHIgJiYgKGUuaXNEaXJ0eSA9ICEwKQoJCQkJCX0KCQkJCX0sCgkJCQlzZXRTY2FsZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5zdGFja3M7CgkJCQkJaWYgKGEub2xkTWluID0gYS5taW4sIGEub2xkTWF4ID0gYS5tYXgsIGEub2xkQXhpc0xlbmd0aCA9IGEubGVuLCBhLnNldEF4aXNTaXplKCksIGkgPSBhLmxlbiAhPT0gYS5vbGRBeGlzTGVuZ3RoLCBtdChhLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQkoZS5pc0RpcnR5RGF0YSB8fCBlLmlzRGlydHkgfHwgZS54QXhpcy5pc0RpcnR5KSAmJiAobiA9ICEwKQoJCQkJCX0pLCBpIHx8IG4gfHwgYS5pc0xpbmtlZCB8fCBhLmZvcmNlUmVkcmF3IHx8IGEudXNlck1pbiAhPT0gYS5vbGRVc2VyTWluIHx8IGEudXNlck1heCAhPT0gYS5vbGRVc2VyTWF4KSB7CgkJCQkJCWlmICghYS5pc1hBeGlzKQoJCQkJCQkJZm9yIChlIGluIG8pCgkJCQkJCQkJZm9yICh0IGluIG9bZV0pIG9bZV1bdF0udG90YWwgPSBudWxsLCBvW2VdW3RdLmN1bSA9IDA7CgkJCQkJCWEuZm9yY2VSZWRyYXcgPSAhMSwgYS5nZXRTZXJpZXNFeHRyZW1lcygpLCBhLnNldFRpY2tQb3NpdGlvbnMoKSwgYS5vbGRVc2VyTWluID0gYS51c2VyTWluLCBhLm9sZFVzZXJNYXggPSBhLnVzZXJNYXgsIGEuaXNEaXJ0eSB8fCAoYS5pc0RpcnR5ID0gaSB8fCBhLm1pbiAhPT0gYS5vbGRNaW4gfHwgYS5tYXggIT09IGEub2xkTWF4KQoJCQkJCX0gZWxzZSBpZiAoIWEuaXNYQXhpcykgewoJCQkJCQlhLm9sZFN0YWNrcyAmJiAobyA9IGEuc3RhY2tzID0gYS5vbGRTdGFja3MpOwoJCQkJCQlmb3IgKGUgaW4gbykKCQkJCQkJCWZvciAodCBpbiBvW2VdKSBvW2VdW3RdLmN1bSA9IG9bZV1bdF0udG90YWwKCQkJCQl9CgkJCQkJYS5zZXRNYXhUaWNrcygpCgkJCQl9LAoJCQkJc2V0RXh0cmVtZXM6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIG8pIHsKCQkJCQl2YXIgciA9IHRoaXMsCgkJCQkJCXMgPSByLmNoYXJ0OwoJCQkJCW4gPSBfKG4sICEwKSwgbyA9IGEobywgewoJCQkJCQltaW46IGUsCgkJCQkJCW1heDogdAoJCQkJCX0pLCB2dChyLCAic2V0RXh0cmVtZXMiLCBvLCBmdW5jdGlvbigpIHsKCQkJCQkJci51c2VyTWluID0gZSwgci51c2VyTWF4ID0gdCwgci5ldmVudEFyZ3MgPSBvLCByLmlzRGlydHlFeHRyZW1lcyA9ICEwLCBuICYmIHMucmVkcmF3KGkpCgkJCQkJfSkKCQkJCX0sCgkJCQl6b29tOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0aGlzLmRhdGFNaW4sCgkJCQkJCWkgPSB0aGlzLmRhdGFNYXgsCgkJCQkJCWEgPSB0aGlzLm9wdGlvbnM7CgkJCQkJcmV0dXJuIHRoaXMuYWxsb3dab29tT3V0c2lkZSB8fCAobShuKSAmJiBlIDw9IHllKG4sIF8oYS5taW4sIG4pKSAmJiAoZSA9IFcpLCBtKGkpICYmIHQgPj0gYmUoaSwgXyhhLm1heCwgaSkpICYmICh0ID0gVykpLCB0aGlzLmRpc3BsYXlCdG4gPSBlICE9PSBXIHx8IHQgIT09IFcsIHRoaXMuc2V0RXh0cmVtZXMoZSwgdCwgITEsIFcsIHsKCQkJCQkJdHJpZ2dlcjogInpvb20iCgkJCQkJfSksICEwCgkJCQl9LAoJCQkJc2V0QXhpc1NpemU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMub3B0aW9ucywKCQkJCQkJbiA9IHQub2Zmc2V0TGVmdCB8fCAwLAoJCQkJCQlpID0gdC5vZmZzZXRSaWdodCB8fCAwLAoJCQkJCQlhID0gdGhpcy5ob3JpeiwKCQkJCQkJbyA9IF8odC53aWR0aCwgZS5wbG90V2lkdGggLSBuICsgaSksCgkJCQkJCXIgPSBfKHQuaGVpZ2h0LCBlLnBsb3RIZWlnaHQpLAoJCQkJCQlzID0gXyh0LnRvcCwgZS5wbG90VG9wKSwKCQkJCQkJbCA9IF8odC5sZWZ0LCBlLnBsb3RMZWZ0ICsgbiksCgkJCQkJCWMgPSAvJSQvOwoJCQkJCWMudGVzdChyKSAmJiAociA9IHBhcnNlSW50KHIsIDEwKSAvIDEwMCAqIGUucGxvdEhlaWdodCksIGMudGVzdChzKSAmJiAocyA9IHBhcnNlSW50KHMsIDEwKSAvIDEwMCAqIGUucGxvdEhlaWdodCArIGUucGxvdFRvcCksIHRoaXMubGVmdCA9IGwsIHRoaXMudG9wID0gcywgdGhpcy53aWR0aCA9IG8sIHRoaXMuaGVpZ2h0ID0gciwgdGhpcy5ib3R0b20gPSBlLmNoYXJ0SGVpZ2h0IC0gciAtIHMsIHRoaXMucmlnaHQgPSBlLmNoYXJ0V2lkdGggLSBvIC0gbCwgdGhpcy5sZW4gPSBiZShhID8gbyA6IHIsIDApLCB0aGlzLnBvcyA9IGEgPyBsIDogcwoJCQkJfSwKCQkJCWdldEV4dHJlbWVzOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmlzTG9nOwoJCQkJCXJldHVybiB7CgkJCQkJCW1pbjogdCA/IEEoaChlLm1pbikpIDogZS5taW4sCgkJCQkJCW1heDogdCA/IEEoaChlLm1heCkpIDogZS5tYXgsCgkJCQkJCWRhdGFNaW46IGUuZGF0YU1pbiwKCQkJCQkJZGF0YU1heDogZS5kYXRhTWF4LAoJCQkJCQl1c2VyTWluOiBlLnVzZXJNaW4sCgkJCQkJCXVzZXJNYXg6IGUudXNlck1heAoJCQkJCX0KCQkJCX0sCgkJCQlnZXRUaHJlc2hvbGQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0LmlzTG9nLAoJCQkJCQlpID0gbiA/IGgodC5taW4pIDogdC5taW4sCgkJCQkJCWEgPSBuID8gaCh0Lm1heCkgOiB0Lm1heDsKCQkJCQlyZXR1cm4gaSA+IGUgfHwgbnVsbCA9PT0gZSA/IGUgPSBpIDogZSA+IGEgJiYgKGUgPSBhKSwgdC50cmFuc2xhdGUoZSwgMCwgMSwgMCwgMSkKCQkJCX0sCgkJCQlhdXRvTGFiZWxBbGlnbjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gKF8oZSwgMCkgLSA5MCAqIHRoaXMuc2lkZSArIDcyMCkgJSAzNjA7CgkJCQkJcmV0dXJuIHQgPSBuID4gMTUgJiYgMTY1ID4gbiA/ICJyaWdodCIgOiBuID4gMTk1ICYmIDM0NSA+IG4gPyAibGVmdCIgOiAiY2VudGVyIgoJCQkJfSwKCQkJCWdldE9mZnNldDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIGYsIGcgPSB0aGlzLAoJCQkJCQl4ID0gZy5jaGFydCwKCQkJCQkJdyA9IHgucmVuZGVyZXIsCgkJCQkJCXYgPSBnLm9wdGlvbnMsCgkJCQkJCWIgPSBnLnRpY2tQb3NpdGlvbnMsCgkJCQkJCXkgPSBnLnRpY2tzLAoJCQkJCQlrID0gZy5ob3JpeiwKCQkJCQkJeiA9IGcuc2lkZSwKCQkJCQkJQiA9IHguaW52ZXJ0ZWQgPyBbMSwgMCwgMywgMl1bel0gOiB6LAoJCQkJCQlqID0gMCwKCQkJCQkJQyA9IDAsCgkJCQkJCVMgPSB2LnRpdGxlLAoJCQkJCQlOID0gdi5sYWJlbHMsCgkJCQkJCVQgPSAwLAoJCQkJCQlQID0geC5heGlzT2Zmc2V0LAoJCQkJCQlJID0geC5jbGlwT2Zmc2V0LAoJCQkJCQlBID0gWy0xLCAxLCAxLCAtMV1bel0sCgkJCQkJCXEgPSAxLAoJCQkJCQlFID0gXyhOLm1heFN0YWdnZXJMaW5lcywgNSk7CgkJCQkJaWYgKGcuaGFzRGF0YSA9IGUgPSBnLmhhc1Zpc2libGVTZXJpZXMgfHwgbShnLm1pbikgJiYgbShnLm1heCkgJiYgISFiLCBnLnNob3dBeGlzID0gdCA9IGUgfHwgXyh2LnNob3dFbXB0eSwgITApLCBnLnN0YWdnZXJMaW5lcyA9IGcuaG9yaXogJiYgTi5zdGFnZ2VyTGluZXMsIGcuYXhpc0dyb3VwIHx8IChnLmdyaWRHcm91cCA9IHcuZygiZ3JpZCIpLmF0dHIoewoJCQkJCQl6SW5kZXg6IHYuZ3JpZFpJbmRleCB8fCAxCgkJCQkJfSkuYWRkKCksIGcuYXhpc0dyb3VwID0gdy5nKCJheGlzIikuYXR0cih7CgkJCQkJCXpJbmRleDogdi56SW5kZXggfHwgMgoJCQkJCX0pLmFkZCgpLCBnLmxhYmVsR3JvdXAgPSB3LmcoImF4aXMtbGFiZWxzIikuYXR0cih7CgkJCQkJCXpJbmRleDogTi56SW5kZXggfHwgNwoJCQkJCX0pLmFkZENsYXNzKFplICsgZy5jb2xsLnRvTG93ZXJDYXNlKCkgKyAiLWxhYmVscyIpLmFkZCgpKSwgZSB8fCBnLmlzTGlua2VkKSB7CgkJCQkJCWlmIChnLmxhYmVsQWxpZ24gPSBfKE4uYWxpZ24gfHwgZy5hdXRvTGFiZWxBbGlnbihOLnJvdGF0aW9uKSksIG10KGIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXlbZV0gPyB5W2VdLmFkZExhYmVsKCkgOiB5W2VdID0gbmV3IE0oZywgZSkKCQkJCQkJfSksIGcuaG9yaXogJiYgIWcuc3RhZ2dlckxpbmVzICYmIEUgJiYgIU4ucm90YXRpb24pIHsKCQkJCQkJCWZvciAociA9IGcucmV2ZXJzZWQgPyBbXS5jb25jYXQoYikucmV2ZXJzZSgpIDogYjsgRSA+IHE7KSB7CgkJCQkJCQkJZm9yIChzID0gW10sIGwgPSAhMSwgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSBjID0gcltvXSwgZCA9IHlbY10ubGFiZWwgJiYgeVtjXS5sYWJlbC5nZXRCQm94KCksIGggPSBkID8gZC53aWR0aCA6IDAsIHUgPSBvICUgcSwgaCAmJiAocCA9IGcudHJhbnNsYXRlKGMpLCBzW3VdICE9PSBXICYmIHAgPCBzW3VdICYmIChsID0gITApLCBzW3VdID0gcCArIGgpOwoJCQkJCQkJCWlmICghbCkgYnJlYWs7CgkJCQkJCQkJcSsrCgkJCQkJCQl9CgkJCQkJCQlxID4gMSAmJiAoZy5zdGFnZ2VyTGluZXMgPSBxKQoJCQkJCQl9CgkJCQkJCW10KGIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCSgwID09PSB6IHx8IDIgPT09IHogfHwgewoJCQkJCQkJCTE6ICJsZWZ0IiwKCQkJCQkJCQkzOiAicmlnaHQiCgkJCQkJCQl9W3pdID09PSBnLmxhYmVsQWxpZ24pICYmIChUID0gYmUoeVtlXS5nZXRMYWJlbFNpemUoKSwgVCkpCgkJCQkJCX0pLCBnLnN0YWdnZXJMaW5lcyAmJiAoVCAqPSBnLnN0YWdnZXJMaW5lcywgZy5sYWJlbE9mZnNldCA9IFQpCgkJCQkJfSBlbHNlCgkJCQkJCWZvciAoYSBpbiB5KSB5W2FdLmRlc3Ryb3koKSwgZGVsZXRlIHlbYV07CgkJCQkJUyAmJiBTLnRleHQgJiYgUy5lbmFibGVkICE9PSAhMSAmJiAoZy5heGlzVGl0bGUgfHwgKGcuYXhpc1RpdGxlID0gdy50ZXh0KFMudGV4dCwgMCwgMCwgUy51c2VIVE1MKS5hdHRyKHsKCQkJCQkJekluZGV4OiA3LAoJCQkJCQlyb3RhdGlvbjogUy5yb3RhdGlvbiB8fCAwLAoJCQkJCQlhbGlnbjogUy50ZXh0QWxpZ24gfHwgewoJCQkJCQkJbG93OiAibGVmdCIsCgkJCQkJCQltaWRkbGU6ICJjZW50ZXIiLAoJCQkJCQkJaGlnaDogInJpZ2h0IgoJCQkJCQl9W1MuYWxpZ25dCgkJCQkJfSkuYWRkQ2xhc3MoWmUgKyB0aGlzLmNvbGwudG9Mb3dlckNhc2UoKSArICItdGl0bGUiKS5jc3MoUy5zdHlsZSkuYWRkKGcuYXhpc0dyb3VwKSwgZy5heGlzVGl0bGUuaXNOZXcgPSAhMCksIHQgJiYgKGogPSBnLmF4aXNUaXRsZS5nZXRCQm94KClbayA/ICJoZWlnaHQiIDogIndpZHRoIl0sIG4gPSBTLm9mZnNldCwgQyA9IG0obikgPyAwIDogXyhTLm1hcmdpbiwgayA/IDUgOiAxMCkpLCBnLmF4aXNUaXRsZVt0ID8gInNob3ciIDogImhpZGUiXSgpKSwgZy5vZmZzZXQgPSBBICogXyh2Lm9mZnNldCwgUFt6XSksIGYgPSAyID09PSB6ID8gZy50aWNrQmFzZWxpbmUgOiAwLCBpID0gVCArIEMgKyAoVCAmJiBBICogKGsgPyBfKE4ueSwgZy50aWNrQmFzZWxpbmUgKyA4KSA6IE4ueCkgLSBmKSwgZy5heGlzVGl0bGVNYXJnaW4gPSBfKG4sIGkpLCBQW3pdID0gYmUoUFt6XSwgZy5heGlzVGl0bGVNYXJnaW4gKyBqICsgQSAqIGcub2Zmc2V0LCBpKSwgSVtCXSA9IGJlKElbQl0sIDIgKiB3ZSh2LmxpbmVXaWR0aCAvIDIpKQoJCQkJfSwKCQkJCWdldExpbmVQYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0LAoJCQkJCQluID0gdGhpcy5vcHBvc2l0ZSwKCQkJCQkJaSA9IHRoaXMub2Zmc2V0LAoJCQkJCQlhID0gdGhpcy5ob3JpeiwKCQkJCQkJbyA9IHRoaXMubGVmdCArIChuID8gdGhpcy53aWR0aCA6IDApICsgaSwKCQkJCQkJciA9IHQuY2hhcnRIZWlnaHQgLSB0aGlzLmJvdHRvbSAtIChuID8gdGhpcy5oZWlnaHQgOiAwKSArIGk7CgkJCQkJcmV0dXJuIG4gJiYgKGUgKj0gLTEpLCB0LnJlbmRlcmVyLmNyaXNwTGluZShbZXQsIGEgPyB0aGlzLmxlZnQgOiBvLCBhID8gciA6IHRoaXMudG9wLCB0dCwgYSA/IHQuY2hhcnRXaWR0aCAtIHRoaXMucmlnaHQgOiBvLCBhID8gciA6IHQuY2hhcnRIZWlnaHQgLSB0aGlzLmJvdHRvbV0sIGUpCgkJCQl9LAoJCQkJZ2V0VGl0bGVQb3NpdGlvbjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLmhvcml6LAoJCQkJCQl0ID0gdGhpcy5sZWZ0LAoJCQkJCQluID0gdGhpcy50b3AsCgkJCQkJCWkgPSB0aGlzLmxlbiwKCQkJCQkJYSA9IHRoaXMub3B0aW9ucy50aXRsZSwKCQkJCQkJbyA9IGUgPyB0IDogbiwKCQkJCQkJcyA9IHRoaXMub3Bwb3NpdGUsCgkJCQkJCWwgPSB0aGlzLm9mZnNldCwKCQkJCQkJYyA9IHIoYS5zdHlsZS5mb250U2l6ZSB8fCAxMiksCgkJCQkJCWQgPSB7CgkJCQkJCQlsb3c6IG8gKyAoZSA/IDAgOiBpKSwKCQkJCQkJCW1pZGRsZTogbyArIGkgLyAyLAoJCQkJCQkJaGlnaDogbyArIChlID8gaSA6IDApCgkJCQkJCX1bYS5hbGlnbl0sCgkJCQkJCXAgPSAoZSA/IG4gKyB0aGlzLmhlaWdodCA6IHQpICsgKGUgPyAxIDogLTEpICogKHMgPyAtMSA6IDEpICogdGhpcy5heGlzVGl0bGVNYXJnaW4gKyAoMiA9PT0gdGhpcy5zaWRlID8gYyA6IDApOwoJCQkJCXJldHVybiB7CgkJCQkJCXg6IGUgPyBkIDogcCArIChzID8gdGhpcy53aWR0aCA6IDApICsgbCArIChhLnggfHwgMCksCgkJCQkJCXk6IGUgPyBwIC0gKHMgPyB0aGlzLmhlaWdodCA6IDApICsgbCA6IGQgKyAoYS55IHx8IDApCgkJCQkJfQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5ob3JpeiwKCQkJCQkJciA9IGEucmV2ZXJzZWQsCgkJCQkJCXMgPSBhLmNoYXJ0LAoJCQkJCQlsID0gcy5yZW5kZXJlciwKCQkJCQkJYyA9IGEub3B0aW9ucywKCQkJCQkJZCA9IGEuaXNMb2csCgkJCQkJCXAgPSBhLmlzTGlua2VkLAoJCQkJCQl1ID0gYS50aWNrUG9zaXRpb25zLAoJCQkJCQlmID0gYS5heGlzVGl0bGUsCgkJCQkJCWcgPSBhLnRpY2tzLAoJCQkJCQlfID0gYS5taW5vclRpY2tzLAoJCQkJCQl4ID0gYS5hbHRlcm5hdGVCYW5kcywKCQkJCQkJdyA9IGMuc3RhY2tMYWJlbHMsCgkJCQkJCXYgPSBjLmFsdGVybmF0ZUdyaWRDb2xvciwKCQkJCQkJYiA9IGEudGlja21hcmtPZmZzZXQsCgkJCQkJCXkgPSBjLmxpbmVXaWR0aCwKCQkJCQkJayA9IHMuaGFzUmVuZGVyZWQsCgkJCQkJCXogPSBrICYmIG0oYS5vbGRNaW4pICYmICFpc05hTihhLm9sZE1pbiksCgkJCQkJCUIgPSBhLmhhc0RhdGEsCgkJCQkJCWogPSBhLnNob3dBeGlzLAoJCQkJCQlDID0gYy5sYWJlbHMub3ZlcmZsb3csCgkJCQkJCVMgPSBhLmp1c3RpZnlMYWJlbHMgPSBvICYmIEMgIT09ICExOwoJCQkJCWEubGFiZWxFZGdlLmxlbmd0aCA9IDAsIGEuanVzdGlmeVRvUGxvdCA9ICJqdXN0aWZ5IiA9PT0gQywgbXQoW2csIF8sIHhdLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0OwoJCQkJCQlmb3IgKHQgaW4gZSkgZVt0XS5pc0FjdGl2ZSA9ICExCgkJCQkJfSksIChCIHx8IHApICYmIChhLm1pbm9yVGlja0ludGVydmFsICYmICFhLmNhdGVnb3JpZXMgJiYgbXQoYS5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgZnVuY3Rpb24oZSkgewoJCQkJCQlfW2VdIHx8IChfW2VdID0gbmV3IE0oYSwgZSwgIm1pbm9yIikpLCB6ICYmIF9bZV0uaXNOZXcgJiYgX1tlXS5yZW5kZXIobnVsbCwgITApLCBfW2VdLnJlbmRlcihudWxsLCAhMSwgMSkKCQkJCQl9KSwgdS5sZW5ndGggJiYgKGUgPSB1LnNsaWNlKCksIChvICYmIHIgfHwgIW8gJiYgIXIpICYmIGUucmV2ZXJzZSgpLCBTICYmIChlID0gZS5zbGljZSgxKS5jb25jYXQoW2VbMF1dKSksIG10KGUsIGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJUyAmJiAobiA9IG4gPT09IGUubGVuZ3RoIC0gMSA/IDAgOiBuICsgMSksICghcCB8fCB0ID49IGEubWluICYmIHQgPD0gYS5tYXgpICYmIChnW3RdIHx8IChnW3RdID0gbmV3IE0oYSwgdCkpLCB6ICYmIGdbdF0uaXNOZXcgJiYgZ1t0XS5yZW5kZXIobiwgITAsIC4xKSwgZ1t0XS5yZW5kZXIobikpCgkJCQkJfSksIGIgJiYgMCA9PT0gYS5taW4gJiYgKGdbLTFdIHx8IChnWy0xXSA9IG5ldyBNKGEsIC0xLCBudWxsLCAhMCkpLCBnWy0xXS5yZW5kZXIoLTEpKSksIHYgJiYgbXQodSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQl0ICUgMiA9PT0gMCAmJiBlIDwgYS5tYXggJiYgKHhbZV0gfHwgKHhbZV0gPSBuZXcgbHQuUGxvdExpbmVPckJhbmQoYSkpLCBuID0gZSArIGIsIGkgPSB1W3QgKyAxXSAhPT0gVyA/IHVbdCArIDFdICsgYiA6IGEubWF4LCB4W2VdLm9wdGlvbnMgPSB7CgkJCQkJCQlmcm9tOiBkID8gaChuKSA6IG4sCgkJCQkJCQl0bzogZCA/IGgoaSkgOiBpLAoJCQkJCQkJY29sb3I6IHYKCQkJCQkJfSwgeFtlXS5yZW5kZXIoKSwgeFtlXS5pc0FjdGl2ZSA9ICEwKQoJCQkJCX0pLCBhLl9hZGRlZFBsb3RMQiB8fCAobXQoKGMucGxvdExpbmVzIHx8IFtdKS5jb25jYXQoYy5wbG90QmFuZHMgfHwgW10pLCBmdW5jdGlvbihlKSB7CgkJCQkJCWEuYWRkUGxvdEJhbmRPckxpbmUoZSkKCQkJCQl9KSwgYS5fYWRkZWRQbG90TEIgPSAhMCkpLCBtdChbZywgXywgeF0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQsIG4sIGkgPSBbXSwKCQkJCQkJCWEgPSBKID8gSi5kdXJhdGlvbiB8fCA1MDAgOiAwLAoJCQkJCQkJbyA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWZvciAobiA9IGkubGVuZ3RoOyBuLS07KSBlW2lbbl1dICYmICFlW2lbbl1dLmlzQWN0aXZlICYmIChlW2lbbl1dLmRlc3Ryb3koKSwgZGVsZXRlIGVbaVtuXV0pCgkJCQkJCQl9OwoJCQkJCQlmb3IgKHQgaW4gZSkgZVt0XS5pc0FjdGl2ZSB8fCAoZVt0XS5yZW5kZXIodCwgITEsIDApLCBlW3RdLmlzQWN0aXZlID0gITEsIGkucHVzaCh0KSk7CgkJCQkJCWUgIT09IHggJiYgcy5oYXNSZW5kZXJlZCAmJiBhID8gYSAmJiBzZXRUaW1lb3V0KG8sIGEpIDogbygpCgkJCQkJfSksIHkgJiYgKHQgPSBhLmdldExpbmVQYXRoKHkpLCBhLmF4aXNMaW5lID8gYS5heGlzTGluZS5hbmltYXRlKHsKCQkJCQkJZDogdAoJCQkJCX0pIDogYS5heGlzTGluZSA9IGwucGF0aCh0KS5hdHRyKHsKCQkJCQkJc3Ryb2tlOiBjLmxpbmVDb2xvciwKCQkJCQkJInN0cm9rZS13aWR0aCI6IHksCgkJCQkJCXpJbmRleDogNwoJCQkJCX0pLmFkZChhLmF4aXNHcm91cCksIGEuYXhpc0xpbmVbaiA/ICJzaG93IiA6ICJoaWRlIl0oKSksIGYgJiYgaiAmJiAoZltmLmlzTmV3ID8gImF0dHIiIDogImFuaW1hdGUiXShhLmdldFRpdGxlUG9zaXRpb24oKSksIGYuaXNOZXcgPSAhMSksIHcgJiYgdy5lbmFibGVkICYmIGEucmVuZGVyU3RhY2tUb3RhbHMoKSwgYS5pc0RpcnR5ID0gITEKCQkJCX0sCgkJCQlyZWRyYXc6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMucmVuZGVyKCksIG10KHRoaXMucGxvdExpbmVzQW5kQmFuZHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5yZW5kZXIoKQoJCQkJCX0pLCBtdCh0aGlzLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgPSAhMAoJCQkJCX0pCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkuc3RhY2tzLAoJCQkJCQlvID0gaS5wbG90TGluZXNBbmRCYW5kczsKCQkJCQllIHx8IHd0KGkpOwoJCQkJCWZvciAodCBpbiBhKSBQKGFbdF0pLCBhW3RdID0gbnVsbDsKCQkJCQlmb3IgKG10KFtpLnRpY2tzLCBpLm1pbm9yVGlja3MsIGkuYWx0ZXJuYXRlQmFuZHNdLCBmdW5jdGlvbihlKSB7CgkJCQkJCVAoZSkKCQkJCQl9KSwgbiA9IG8ubGVuZ3RoOyBuLS07KSBvW25dLmRlc3Ryb3koKTsKCQkJCQltdChbInN0YWNrVG90YWxHcm91cCIsICJheGlzTGluZSIsICJheGlzVGl0bGUiLCAiYXhpc0dyb3VwIiwgImNyb3NzIiwgImdyaWRHcm91cCIsICJsYWJlbEdyb3VwIl0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaVtlXSAmJiAoaVtlXSA9IGlbZV0uZGVzdHJveSgpKQoJCQkJCX0pLCB0aGlzLmNyb3NzICYmIHRoaXMuY3Jvc3MuZGVzdHJveSgpCgkJCQl9LAoJCQkJZHJhd0Nyb3NzaGFpcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCWlmICh0aGlzLmNyb3NzaGFpcikgewoJCQkJCQlpZiAoKG0odCkgfHwgIV8odGhpcy5jcm9zc2hhaXIuc25hcCwgITApKSA9PT0gITEpIHJldHVybiB2b2lkIHRoaXMuaGlkZUNyb3NzaGFpcigpOwoJCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMuY3Jvc3NoYWlyLAoJCQkJCQkJbyA9IGEuYW5pbWF0aW9uOwoJCQkJCQlpZiAoXyhhLnNuYXAsICEwKSA/IG0odCkgJiYgKGkgPSB0aGlzLmNoYXJ0LmludmVydGVkICE9IHRoaXMuaG9yaXogPyB0LnBsb3RYIDogdGhpcy5sZW4gLSB0LnBsb3RZKSA6IGkgPSB0aGlzLmhvcml6ID8gZS5jaGFydFggLSB0aGlzLnBvcyA6IHRoaXMubGVuIC0gZS5jaGFydFkgKyB0aGlzLnBvcywgbiA9IHRoaXMuaXNSYWRpYWwgPyB0aGlzLmdldFBsb3RMaW5lUGF0aCh0aGlzLmlzWEF4aXMgPyB0LnggOiBfKHQuc3RhY2tZLCB0LnkpKSA6IHRoaXMuZ2V0UGxvdExpbmVQYXRoKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGkpLCBudWxsID09PSBuKSByZXR1cm4gdm9pZCB0aGlzLmhpZGVDcm9zc2hhaXIoKTsKCQkJCQkJaWYgKHRoaXMuY3Jvc3MpIHRoaXMuY3Jvc3MuYXR0cih7CgkJCQkJCQl2aXNpYmlsaXR5OiBWZQoJCQkJCQl9KVtvID8gImFuaW1hdGUiIDogImF0dHIiXSh7CgkJCQkJCQlkOiBuCgkJCQkJCX0sIG8pOwoJCQkJCQllbHNlIHsKCQkJCQkJCXZhciByID0gewoJCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBhLndpZHRoIHx8IDEsCgkJCQkJCQkJc3Ryb2tlOiBhLmNvbG9yIHx8ICIjQzBDMEMwIiwKCQkJCQkJCQl6SW5kZXg6IGEuekluZGV4IHx8IDIKCQkJCQkJCX07CgkJCQkJCQlhLmRhc2hTdHlsZSAmJiAoci5kYXNoc3R5bGUgPSBhLmRhc2hTdHlsZSksIHRoaXMuY3Jvc3MgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLnBhdGgobikuYXR0cihyKS5hZGQoKQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwKCQkJCWhpZGVDcm9zc2hhaXI6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuY3Jvc3MgJiYgdGhpcy5jcm9zcy5oaWRlKCkKCQkJCX0KCQkJfSwgYShSLnByb3RvdHlwZSwgUSksIFIucHJvdG90eXBlLmdldFRpbWVUaWNrcyA9IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCXZhciBvLCByLCBzID0gW10sCgkJCQkJbCA9IHt9LAoJCQkJCWMgPSBHLmdsb2JhbC51c2VVVEMsCgkJCQkJZCA9IG5ldyBlZSh0IC0gbmUpLAoJCQkJCXAgPSBlLnVuaXRSYW5nZSwKCQkJCQloID0gZS5jb3VudDsKCQkJCWlmIChtKHQpKSB7CgkJCQkJcCA+PSBWLnNlY29uZCAmJiAoZC5zZXRNaWxsaXNlY29uZHMoMCksIGQuc2V0U2Vjb25kcyhwID49IFYubWludXRlID8gMCA6IGggKiB3ZShkLmdldFNlY29uZHMoKSAvIGgpKSksIHAgPj0gVi5taW51dGUgJiYgZFtjZV0ocCA+PSBWLmhvdXIgPyAwIDogaCAqIHdlKGRbaWVdKCkgLyBoKSksIHAgPj0gVi5ob3VyICYmIGRbZGVdKHAgPj0gVi5kYXkgPyAwIDogaCAqIHdlKGRbYWVdKCkgLyBoKSksIHAgPj0gVi5kYXkgJiYgZFtwZV0ocCA+PSBWLm1vbnRoID8gMSA6IGggKiB3ZShkW3JlXSgpIC8gaCkpLCBwID49IFYubW9udGggJiYgKGRbaGVdKHAgPj0gVi55ZWFyID8gMCA6IGggKiB3ZShkW3NlXSgpIC8gaCkpLCByID0gZFtsZV0oKSksIHAgPj0gVi55ZWFyICYmIChyIC09IHIgJSBoLCBkW3VlXShyKSksIHAgPT09IFYud2VlayAmJiBkW3BlXShkW3JlXSgpIC0gZFtvZV0oKSArIF8oaSwgMSkpLCBvID0gMSwgbmUgJiYgKGQgPSBuZXcgZWUoZC5nZXRUaW1lKCkgKyBuZSkpLCByID0gZFtsZV0oKTsKCQkJCQlmb3IgKHZhciB1ID0gZC5nZXRUaW1lKCksIGYgPSBkW3NlXSgpLCBnID0gZFtyZV0oKSwgeCA9IChWLmRheSArIChjID8gbmUgOiA2MCAqIGQuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDFlMykpICUgVi5kYXk7IG4gPiB1Oykgcy5wdXNoKHUpLCBwID09PSBWLnllYXIgPyB1ID0gdGUociArIG8gKiBoLCAwKSA6IHAgPT09IFYubW9udGggPyB1ID0gdGUociwgZiArIG8gKiBoKSA6IGMgfHwgcCAhPT0gVi5kYXkgJiYgcCAhPT0gVi53ZWVrID8gdSArPSBwICogaCA6IHUgPSB0ZShyLCBmLCBnICsgbyAqIGggKiAocCA9PT0gVi5kYXkgPyAxIDogNykpLCBvKys7CgkJCQkJcy5wdXNoKHUpLCBtdChmdChzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBwIDw9IFYuaG91ciAmJiBlICUgVi5kYXkgPT09IHgKCQkJCQl9KSwgZnVuY3Rpb24oZSkgewoJCQkJCQlsW2VdID0gImRheSIKCQkJCQl9KQoJCQkJfQoJCQkJcmV0dXJuIHMuaW5mbyA9IGEoZSwgewoJCQkJCWhpZ2hlclJhbmtzOiBsLAoJCQkJCXRvdGFsUmFuZ2U6IHAgKiBoCgkJCQl9KSwgcwoJCQl9LCBSLnByb3RvdHlwZS5ub3JtYWxpemVUaW1lVGlja0ludGVydmFsID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJdmFyIG4sIGksIGEgPSB0IHx8IFsKCQkJCQkJWyJtaWxsaXNlY29uZCIsIFsxLCAyLCA1LCAxMCwgMjAsIDI1LCA1MCwgMTAwLCAyMDAsIDUwMF1dLAoJCQkJCQlbInNlY29uZCIsIFsxLCAyLCA1LCAxMCwgMTUsIDMwXV0sCgkJCQkJCVsibWludXRlIiwgWzEsIDIsIDUsIDEwLCAxNSwgMzBdXSwKCQkJCQkJWyJob3VyIiwgWzEsIDIsIDMsIDQsIDYsIDgsIDEyXV0sCgkJCQkJCVsiZGF5IiwgWzEsIDJdXSwKCQkJCQkJWyJ3ZWVrIiwgWzEsIDJdXSwKCQkJCQkJWyJtb250aCIsIFsxLCAyLCAzLCA0LCA2XV0sCgkJCQkJCVsieWVhciIsIG51bGxdCgkJCQkJXSwKCQkJCQlvID0gYVthLmxlbmd0aCAtIDFdLAoJCQkJCXIgPSBWW29bMF1dLAoJCQkJCXMgPSBvWzFdOwoJCQkJZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspCgkJCQkJaWYgKG8gPSBhW2ldLCByID0gVltvWzBdXSwgcyA9IG9bMV0sIGFbaSArIDFdKSB7CgkJCQkJCXZhciBsID0gKHIgKiBzW3MubGVuZ3RoIC0gMV0gKyBWW2FbaSArIDFdWzBdXSkgLyAyOwoJCQkJCQlpZiAobCA+PSBlKSBicmVhawoJCQkJCX0KCQkJCXJldHVybiByID09PSBWLnllYXIgJiYgNSAqIHIgPiBlICYmIChzID0gWzEsIDIsIDVdKSwgbiA9IEMoZSAvIHIsIHMsICJ5ZWFyIiA9PT0gb1swXSA/IGJlKGooZSAvIHIpLCAxKSA6IDEpLCB7CgkJCQkJdW5pdFJhbmdlOiByLAoJCQkJCWNvdW50OiBuLAoJCQkJCXVuaXROYW1lOiBvWzBdCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlLmdldExvZ1RpY2tQb3NpdGlvbnMgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQl2YXIgYSA9IHRoaXMsCgkJCQkJbyA9IGEub3B0aW9ucywKCQkJCQlyID0gYS5sZW4sCgkJCQkJcyA9IFtdOwoJCQkJaWYgKGkgfHwgKGEuX21pbm9yQXV0b0ludGVydmFsID0gbnVsbCksIGUgPj0gLjUpIGUgPSB4ZShlKSwgcyA9IGEuZ2V0TGluZWFyVGlja1Bvc2l0aW9ucyhlLCB0LCBuKTsKCQkJCWVsc2UgaWYgKGUgPj0gLjA4KSB7CgkJCQkJdmFyIGwsIGMsIGQsIHUsIG0sIGYsIGcsIHggPSB3ZSh0KTsKCQkJCQlmb3IgKGwgPSBlID4gLjMgPyBbMSwgMiwgNF0gOiBlID4gLjE1ID8gWzEsIDIsIDQsIDYsIDhdIDogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLCBjID0geDsgbiArIDEgPiBjICYmICFnOyBjKyspCgkJCQkJCWZvciAodSA9IGwubGVuZ3RoLCBkID0gMDsgdSA+IGQgJiYgIWc7IGQrKykgbSA9IHAoaChjKSAqIGxbZF0pLCBtID4gdCAmJiAoIWkgfHwgbiA+PSBmKSAmJiBmICE9PSBXICYmIHMucHVzaChmKSwgZiA+IG4gJiYgKGcgPSAhMCksIGYgPSBtCgkJCQl9IGVsc2UgewoJCQkJCXZhciB3ID0gaCh0KSwKCQkJCQkJdiA9IGgobiksCgkJCQkJCWIgPSBvW2kgPyAibWlub3JUaWNrSW50ZXJ2YWwiIDogInRpY2tJbnRlcnZhbCJdLAoJCQkJCQl5ID0gImF1dG8iID09PSBiID8gbnVsbCA6IGIsCgkJCQkJCWsgPSBvLnRpY2tQaXhlbEludGVydmFsIC8gKGkgPyA1IDogMSksCgkJCQkJCXogPSBpID8gciAvIGEudGlja1Bvc2l0aW9ucy5sZW5ndGggOiByOwoJCQkJCWUgPSBfKHksIGEuX21pbm9yQXV0b0ludGVydmFsLCAodiAtIHcpICogayAvICh6IHx8IDEpKSwgZSA9IEMoZSwgbnVsbCwgaihlKSksIHMgPSBfdChhLmdldExpbmVhclRpY2tQb3NpdGlvbnMoZSwgdywgdiksIHApLCBpIHx8IChhLl9taW5vckF1dG9JbnRlcnZhbCA9IGUgLyA1KQoJCQkJfQoJCQkJcmV0dXJuIGkgfHwgKGEudGlja0ludGVydmFsID0gZSksIHMKCQkJfTsKCQkJdmFyIEx0ID0gbHQuVG9vbHRpcCA9IGZ1bmN0aW9uKCkgewoJCQkJdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykKCQkJfTsKCQkJTHQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdC5ib3JkZXJXaWR0aCwKCQkJCQkJaSA9IHQuc3R5bGUsCgkJCQkJCWEgPSByKGkucGFkZGluZyk7CgkJCQkJdGhpcy5jaGFydCA9IGUsIHRoaXMub3B0aW9ucyA9IHQsIHRoaXMuY3Jvc3NoYWlycyA9IFtdLCB0aGlzLm5vdyA9IHsKCQkJCQkJeDogMCwKCQkJCQkJeTogMAoJCQkJCX0sIHRoaXMuaXNIaWRkZW4gPSAhMCwgdGhpcy5sYWJlbCA9IGUucmVuZGVyZXIubGFiZWwoIiIsIDAsIDAsIHQuc2hhcGUgfHwgImNhbGxvdXQiLCBudWxsLCBudWxsLCB0LnVzZUhUTUwsIG51bGwsICJ0b29sdGlwIikuYXR0cih7CgkJCQkJCXBhZGRpbmc6IGEsCgkJCQkJCWZpbGw6IHQuYmFja2dyb3VuZENvbG9yLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogbiwKCQkJCQkJcjogdC5ib3JkZXJSYWRpdXMsCgkJCQkJCXpJbmRleDogOAoJCQkJCX0pLmNzcyhpKS5jc3MoewoJCQkJCQlwYWRkaW5nOiAwCgkJCQkJfSkuYWRkKCkuYXR0cih7CgkJCQkJCXk6IC05OTk5CgkJCQkJfSksIERlIHx8IHRoaXMubGFiZWwuc2hhZG93KHQuc2hhZG93KSwgdGhpcy5zaGFyZWQgPSB0LnNoYXJlZAoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMubGFiZWwgJiYgKHRoaXMubGFiZWwgPSB0aGlzLmxhYmVsLmRlc3Ryb3koKSksIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lciksIGNsZWFyVGltZW91dCh0aGlzLnRvb2x0aXBUaW1lb3V0KQoJCQkJfSwKCQkJCW1vdmU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgbyA9IHRoaXMsCgkJCQkJCXIgPSBvLm5vdywKCQkJCQkJcyA9IG8ub3B0aW9ucy5hbmltYXRpb24gIT09ICExICYmICFvLmlzSGlkZGVuICYmIChrZShlIC0gci54KSA+IDEgfHwga2UodCAtIHIueSkgPiAxKSwKCQkJCQkJbCA9IG8uZm9sbG93UG9pbnRlciB8fCBvLmxlbiA+IDE7CgkJCQkJYShyLCB7CgkJCQkJCXg6IHMgPyAoMiAqIHIueCArIGUpIC8gMyA6IGUsCgkJCQkJCXk6IHMgPyAoci55ICsgdCkgLyAyIDogdCwKCQkJCQkJYW5jaG9yWDogbCA/IFcgOiBzID8gKDIgKiByLmFuY2hvclggKyBuKSAvIDMgOiBuLAoJCQkJCQlhbmNob3JZOiBsID8gVyA6IHMgPyAoci5hbmNob3JZICsgaSkgLyAyIDogaQoJCQkJCX0pLCBvLmxhYmVsLmF0dHIociksIHMgJiYgKGNsZWFyVGltZW91dCh0aGlzLnRvb2x0aXBUaW1lb3V0KSwgdGhpcy50b29sdGlwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCW8gJiYgby5tb3ZlKGUsIHQsIG4sIGkpCgkJCQkJfSwgMzIpKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHRoaXM7CgkJCQkJY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKSwgdGhpcy5pc0hpZGRlbiB8fCAodCA9IHRoaXMuY2hhcnQuaG92ZXJQb2ludHMsIHRoaXMuaGlkZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJbi5sYWJlbC5mYWRlT3V0KCksIG4uaXNIaWRkZW4gPSAhMAoJCQkJCX0sIF8oZSwgdGhpcy5vcHRpb25zLmhpZGVEZWxheSwgNTAwKSksIHQgJiYgbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLnNldFN0YXRlKCkKCQkJCQl9KSwgdGhpcy5jaGFydC5ob3ZlclBvaW50cyA9IG51bGwpCgkJCQl9LAoJCQkJZ2V0QW5jaG9yOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIGEgPSB0aGlzLmNoYXJ0LAoJCQkJCQlvID0gYS5pbnZlcnRlZCwKCQkJCQkJciA9IGEucGxvdFRvcCwKCQkJCQkJcyA9IDAsCgkJCQkJCWwgPSAwOwoJCQkJCXJldHVybiBlID0gZyhlKSwgbiA9IGVbMF0udG9vbHRpcFBvcywgdGhpcy5mb2xsb3dQb2ludGVyICYmIHQgJiYgKHQuY2hhcnRYID09PSBXICYmICh0ID0gYS5wb2ludGVyLm5vcm1hbGl6ZSh0KSksIG4gPSBbdC5jaGFydFggLSBhLnBsb3RMZWZ0LCB0LmNoYXJ0WSAtIHJdKSwgbiB8fCAobXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlpID0gZS5zZXJpZXMueUF4aXMsIHMgKz0gZS5wbG90WCwgbCArPSAoZS5wbG90TG93ID8gKGUucGxvdExvdyArIGUucGxvdEhpZ2gpIC8gMiA6IGUucGxvdFkpICsgKCFvICYmIGkgPyBpLnRvcCAtIHIgOiAwKQoJCQkJCX0pLCBzIC89IGUubGVuZ3RoLCBsIC89IGUubGVuZ3RoLCBuID0gW28gPyBhLnBsb3RXaWR0aCAtIGwgOiBzLCB0aGlzLnNoYXJlZCAmJiAhbyAmJiBlLmxlbmd0aCA+IDEgJiYgdCA/IHQuY2hhcnRZIC0gciA6IG8gPyBhLnBsb3RIZWlnaHQgLSBzIDogbF0pLCBfdChuLCB4ZSkKCQkJCX0sCgkJCQlnZXRQb3NpdGlvbjogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpcy5jaGFydCwKCQkJCQkJbyA9IHRoaXMuZGlzdGFuY2UsCgkJCQkJCXIgPSB7fSwKCQkJCQkJcyA9IFsieSIsIGEuY2hhcnRIZWlnaHQsIHQsIG4ucGxvdFkgKyBhLnBsb3RUb3BdLAoJCQkJCQlsID0gWyJ4IiwgYS5jaGFydFdpZHRoLCBlLCBuLnBsb3RYICsgYS5wbG90TGVmdF0sCgkJCQkJCWMgPSBuLnR0QmVsb3cgfHwgYS5pbnZlcnRlZCAmJiAhbi5uZWdhdGl2ZSB8fCAhYS5pbnZlcnRlZCAmJiBuLm5lZ2F0aXZlLAoJCQkJCQlkID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJdmFyIGEgPSBpIC0gbyA+IG4sCgkJCQkJCQkJcyA9IHQgPiBpICsgbyArIG4sCgkJCQkJCQkJbCA9IGkgLSBvIC0gbiwKCQkJCQkJCQlkID0gaSArIG87CgkJCQkJCQlpZiAoYyAmJiBzKSByW2VdID0gZDsKCQkJCQkJCWVsc2UgaWYgKCFjICYmIGEpIHJbZV0gPSBsOwoJCQkJCQkJZWxzZSBpZiAoYSkgcltlXSA9IGw7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQlpZiAoIXMpIHJldHVybiAhMTsKCQkJCQkJCQlyW2VdID0gZAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlwID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQkJcmV0dXJuIG8gPiBpIHx8IGkgPiB0IC0gbyA/ICExIDogdm9pZChuIC8gMiA+IGkgPyByW2VdID0gMSA6IGkgPiB0IC0gbiAvIDIgPyByW2VdID0gdCAtIG4gLSAyIDogcltlXSA9IGkgLSBuIC8gMikKCQkJCQkJfSwKCQkJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciB0ID0gczsKCQkJCQkJCXMgPSBsLCBsID0gdCwgaSA9IGUKCQkJCQkJfSwKCQkJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJZC5hcHBseSgwLCBzKSAhPT0gITEgPyBwLmFwcGx5KDAsIGwpICE9PSAhMSB8fCBpIHx8IChoKCEwKSwgdSgpKSA6IGkgPyByLnggPSByLnkgPSAwIDogKGgoITApLCB1KCkpCgkJCQkJCX07CgkJCQkJcmV0dXJuIChhLmludmVydGVkIHx8IHRoaXMubGVuID4gMSkgJiYgaCgpLCB1KCksIHIKCQkJCX0sCgkJCQlkZWZhdWx0Rm9ybWF0dGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLnBvaW50cyB8fCBnKHRoaXMpLAoJCQkJCQlpID0gblswXS5zZXJpZXM7CgkJCQkJcmV0dXJuIHQgPSBbZS50b29sdGlwSGVhZGVyRm9ybWF0dGVyKG5bMF0pXSwgbXQobiwgZnVuY3Rpb24oZSkgewoJCQkJCQlpID0gZS5zZXJpZXMsIHQucHVzaChpLnRvb2x0aXBGb3JtYXR0ZXIgJiYgaS50b29sdGlwRm9ybWF0dGVyKGUpIHx8IGUucG9pbnQudG9vbHRpcEZvcm1hdHRlcihpLnRvb2x0aXBPcHRpb25zLnBvaW50Rm9ybWF0KSkKCQkJCQl9KSwgdC5wdXNoKGUub3B0aW9ucy5mb290ZXJGb3JtYXQgfHwgIiIpLCB0LmpvaW4oIiIpCgkJCQl9LAoJCQkJcmVmcmVzaDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwuY2hhcnQsCgkJCQkJCWQgPSBsLmxhYmVsLAoJCQkJCQlwID0gbC5vcHRpb25zLAoJCQkJCQloID0ge30sCgkJCQkJCXUgPSBbXSwKCQkJCQkJbSA9IHAuZm9ybWF0dGVyIHx8IGwuZGVmYXVsdEZvcm1hdHRlciwKCQkJCQkJZiA9IGMuaG92ZXJQb2ludHMsCgkJCQkJCXggPSBsLnNoYXJlZDsKCQkJCQljbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpLCBsLmZvbGxvd1BvaW50ZXIgPSBnKGUpWzBdLnNlcmllcy50b29sdGlwT3B0aW9ucy5mb2xsb3dQb2ludGVyLCBhID0gbC5nZXRBbmNob3IoZSwgdCksIG4gPSBhWzBdLCBpID0gYVsxXSwgIXggfHwgZS5zZXJpZXMgJiYgZS5zZXJpZXMubm9TaGFyZWRUb29sdGlwID8gaCA9IGUuZ2V0TGFiZWxDb25maWcoKSA6IChjLmhvdmVyUG9pbnRzID0gZSwgZiAmJiBtdChmLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U3RhdGUoKQoJCQkJCX0pLCBtdChlLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U3RhdGUoYXQpLCB1LnB1c2goZS5nZXRMYWJlbENvbmZpZygpKQoJCQkJCX0pLCBoID0gewoJCQkJCQl4OiBlWzBdLmNhdGVnb3J5LAoJCQkJCQl5OiBlWzBdLnkKCQkJCQl9LCBoLnBvaW50cyA9IHUsIHRoaXMubGVuID0gdS5sZW5ndGgsIGUgPSBlWzBdKSwgbyA9IG0uY2FsbChoLCBsKSwgcyA9IGUuc2VyaWVzLCB0aGlzLmRpc3RhbmNlID0gXyhzLnRvb2x0aXBPcHRpb25zLmRpc3RhbmNlLCAxNiksIG8gPT09ICExID8gdGhpcy5oaWRlKCkgOiAobC5pc0hpZGRlbiAmJiAoa3QoZCksIGQuYXR0cigib3BhY2l0eSIsIDEpLnNob3coKSksIGQuYXR0cih7CgkJCQkJCXRleHQ6IG8KCQkJCQl9KSwgciA9IHAuYm9yZGVyQ29sb3IgfHwgZS5jb2xvciB8fCBzLmNvbG9yIHx8ICIjNjA2MDYwIiwgZC5hdHRyKHsKCQkJCQkJc3Ryb2tlOiByCgkJCQkJfSksIGwudXBkYXRlUG9zaXRpb24oewoJCQkJCQlwbG90WDogbiwKCQkJCQkJcGxvdFk6IGksCgkJCQkJCW5lZ2F0aXZlOiBlLm5lZ2F0aXZlLAoJCQkJCQl0dEJlbG93OiBlLnR0QmVsb3cKCQkJCQl9KSwgdGhpcy5pc0hpZGRlbiA9ICExKSwgdnQoYywgInRvb2x0aXBSZWZyZXNoIiwgewoJCQkJCQl0ZXh0OiBvLAoJCQkJCQl4OiBuICsgYy5wbG90TGVmdCwKCQkJCQkJeTogaSArIGMucGxvdFRvcCwKCQkJCQkJYm9yZGVyQ29sb3I6IHIKCQkJCQl9KQoJCQkJfSwKCQkJCXVwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0LAoJCQkJCQluID0gdGhpcy5sYWJlbCwKCQkJCQkJaSA9ICh0aGlzLm9wdGlvbnMucG9zaXRpb25lciB8fCB0aGlzLmdldFBvc2l0aW9uKS5jYWxsKHRoaXMsIG4ud2lkdGgsIG4uaGVpZ2h0LCBlKTsKCQkJCQl0aGlzLm1vdmUoeGUoaS54KSwgeGUoaS55KSwgZS5wbG90WCArIHQucGxvdExlZnQsIGUucGxvdFkgKyB0LnBsb3RUb3ApCgkJCQl9LAoJCQkJdG9vbHRpcEhlYWRlckZvcm1hdHRlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gZS5zZXJpZXMsCgkJCQkJCWkgPSBuLnRvb2x0aXBPcHRpb25zLAoJCQkJCQlhID0gaS5kYXRlVGltZUxhYmVsRm9ybWF0cywKCQkJCQkJbyA9IGkueERhdGVGb3JtYXQsCgkJCQkJCXIgPSBuLnhBeGlzLAoJCQkJCQlzID0gciAmJiAiZGF0ZXRpbWUiID09PSByLm9wdGlvbnMudHlwZSAmJiBkKGUua2V5KSwKCQkJCQkJbCA9IGkuaGVhZGVyRm9ybWF0LAoJCQkJCQljID0gciAmJiByLmNsb3Nlc3RQb2ludFJhbmdlOwoJCQkJCWlmIChzICYmICFvKSB7CgkJCQkJCWlmIChjKSB7CgkJCQkJCQlmb3IgKHQgaW4gVikKCQkJCQkJCQlpZiAoVlt0XSA+PSBjIHx8IFZbdF0gPD0gVi5kYXkgJiYgZS5rZXkgJSBWW3RdID4gMCkgewoJCQkJCQkJCQlvID0gYVt0XTsKCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQl9CgkJCQkJCX0gZWxzZSBvID0gYS5kYXk7CgkJCQkJCW8gPSBvIHx8IGEueWVhcgoJCQkJCX0KCQkJCQlyZXR1cm4gcyAmJiBvICYmIChsID0gbC5yZXBsYWNlKCJ7cG9pbnQua2V5fSIsICJ7cG9pbnQua2V5OiIgKyBvICsgIn0iKSksIEIobCwgewoJCQkJCQlwb2ludDogZSwKCQkJCQkJc2VyaWVzOiBuCgkJCQkJfSkKCQkJCX0KCQkJfTsKCQkJdmFyIER0OwoJCQlVID0gZmUuZG9jdW1lbnRFbGVtZW50Lm9udG91Y2hzdGFydCAhPT0gVzsKCQkJdmFyIE10ID0gbHQuUG9pbnRlciA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXRoaXMuaW5pdChlLCB0KQoJCQl9OwoJCQlpZiAoTXQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCBhID0gdC5jaGFydCwKCQkJCQkJbyA9IGEuZXZlbnRzLAoJCQkJCQlyID0gRGUgPyAiIiA6IGEuem9vbVR5cGUsCgkJCQkJCXMgPSBlLmludmVydGVkOwoJCQkJCXRoaXMub3B0aW9ucyA9IHQsIHRoaXMuY2hhcnQgPSBlLCB0aGlzLnpvb21YID0gbiA9IC94Ly50ZXN0KHIpLCB0aGlzLnpvb21ZID0gaSA9IC95Ly50ZXN0KHIpLCB0aGlzLnpvb21Ib3IgPSBuICYmICFzIHx8IGkgJiYgcywgdGhpcy56b29tVmVydCA9IGkgJiYgIXMgfHwgbiAmJiBzLCB0aGlzLmhhc1pvb20gPSBuIHx8IGksIHRoaXMucnVuQ2hhcnRDbGljayA9IG8gJiYgISFvLmNsaWNrLCB0aGlzLnBpbmNoRG93biA9IFtdLCB0aGlzLmxhc3RWYWxpZFRvdWNoID0ge30sIGx0LlRvb2x0aXAgJiYgdC50b29sdGlwLmVuYWJsZWQgJiYgKGUudG9vbHRpcCA9IG5ldyBMdChlLCB0LnRvb2x0aXApLCB0aGlzLmZvbGxvd1RvdWNoTW92ZSA9IHQudG9vbHRpcC5mb2xsb3dUb3VjaE1vdmUpLCB0aGlzLnNldERPTUV2ZW50cygpCgkJCQl9LAoJCQkJbm9ybWFsaXplOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIG87CgkJCQkJcmV0dXJuIGUgPSBlIHx8IHdpbmRvdy5ldmVudCwgZSA9IGJ0KGUpLCBlLnRhcmdldCB8fCAoZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQpLCBvID0gZS50b3VjaGVzID8gZS50b3VjaGVzLmxlbmd0aCA/IGUudG91Y2hlcy5pdGVtKDApIDogZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUsIHQgfHwgKHRoaXMuY2hhcnRQb3NpdGlvbiA9IHQgPSBndCh0aGlzLmNoYXJ0LmNvbnRhaW5lcikpLCBvLnBhZ2VYID09PSBXID8gKG4gPSBiZShlLngsIGUuY2xpZW50WCAtIHQubGVmdCksIGkgPSBlLnkpIDogKG4gPSBvLnBhZ2VYIC0gdC5sZWZ0LCBpID0gby5wYWdlWSAtIHQudG9wKSwgYShlLCB7CgkJCQkJCWNoYXJ0WDogeGUobiksCgkJCQkJCWNoYXJ0WTogeGUoaSkKCQkJCQl9KQoJCQkJfSwKCQkJCWdldENvb3JkaW5hdGVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCXhBeGlzOiBbXSwKCQkJCQkJeUF4aXM6IFtdCgkJCQkJfTsKCQkJCQlyZXR1cm4gbXQodGhpcy5jaGFydC5heGVzLCBmdW5jdGlvbihuKSB7CgkJCQkJCXRbbi5pc1hBeGlzID8gInhBeGlzIiA6ICJ5QXhpcyJdLnB1c2goewoJCQkJCQkJYXhpczogbiwKCQkJCQkJCXZhbHVlOiBuLnRvVmFsdWUoZVtuLmhvcml6ID8gImNoYXJ0WCIgOiAiY2hhcnRZIl0pCgkJCQkJCX0pCgkJCQkJfSksIHQKCQkJCX0sCgkJCQlnZXRJbmRleDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydDsKCQkJCQlyZXR1cm4gdC5pbnZlcnRlZCA/IHQucGxvdEhlaWdodCArIHQucGxvdFRvcCAtIGUuY2hhcnRZIDogZS5jaGFydFggLSB0LnBsb3RMZWZ0CgkJCQl9LAoJCQkJcnVuUG9pbnRBY3Rpb25zOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMgPSB0aGlzLAoJCQkJCQlsID0gcy5jaGFydCwKCQkJCQkJYyA9IGwuc2VyaWVzLAoJCQkJCQlkID0gbC50b29sdGlwLAoJCQkJCQlwID0gbC5ob3ZlclBvaW50LAoJCQkJCQloID0gbC5ob3ZlclNlcmllcywKCQkJCQkJdSA9IGwuY2hhcnRXaWR0aCwKCQkJCQkJbSA9IHMuZ2V0SW5kZXgoZSk7CgkJCQkJaWYgKGQgJiYgcy5vcHRpb25zLnRvb2x0aXAuc2hhcmVkICYmICghaCB8fCAhaC5ub1NoYXJlZFRvb2x0aXApKSB7CgkJCQkJCWZvciAoaSA9IFtdLCBhID0gYy5sZW5ndGgsIG8gPSAwOyBhID4gbzsgbysrKSBjW29dLnZpc2libGUgJiYgY1tvXS5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcgIT09ICExICYmICFjW29dLm5vU2hhcmVkVG9vbHRpcCAmJiBjW29dLnNpbmd1bGFyVG9vbHRpcHMgIT09ICEwICYmIGNbb10udG9vbHRpcFBvaW50cy5sZW5ndGggJiYgKG4gPSBjW29dLnRvb2x0aXBQb2ludHNbbV0sIG4gJiYgbi5zZXJpZXMgJiYgKG4uX2Rpc3QgPSBrZShtIC0gbi5jbGllbnRYKSwgdSA9IHllKHUsIG4uX2Rpc3QpLCBpLnB1c2gobikpKTsKCQkJCQkJZm9yIChhID0gaS5sZW5ndGg7IGEtLTspIGlbYV0uX2Rpc3QgPiB1ICYmIGkuc3BsaWNlKGEsIDEpOwoJCQkJCQlpLmxlbmd0aCAmJiBpWzBdLmNsaWVudFggIT09IHMuaG92ZXJYICYmIChkLnJlZnJlc2goaSwgZSksIHMuaG92ZXJYID0gaVswXS5jbGllbnRYKQoJCQkJCX0KCQkJCQl0ID0gaCAmJiBoLnRvb2x0aXBPcHRpb25zLmZvbGxvd1BvaW50ZXIsIGggJiYgaC50cmFja2VyICYmICF0ID8gKG4gPSBoLnRvb2x0aXBQb2ludHNbbV0sIG4gJiYgbiAhPT0gcCAmJiBuLm9uTW91c2VPdmVyKGUpKSA6IGQgJiYgdCAmJiAhZC5pc0hpZGRlbiAmJiAociA9IGQuZ2V0QW5jaG9yKFt7fV0sIGUpLCBkLnVwZGF0ZVBvc2l0aW9uKHsKCQkJCQkJcGxvdFg6IHJbMF0sCgkJCQkJCXBsb3RZOiByWzFdCgkJCQkJfSkpLCBkICYmICFzLl9vbkRvY3VtZW50TW91c2VNb3ZlICYmIChzLl9vbkRvY3VtZW50TW91c2VNb3ZlID0gZnVuY3Rpb24oZSkgewoJCQkJCQkkZVtEdF0gJiYgJGVbRHRdLnBvaW50ZXIub25Eb2N1bWVudE1vdXNlTW92ZShlKQoJCQkJCX0sIHh0KGZlLCAibW91c2Vtb3ZlIiwgcy5fb25Eb2N1bWVudE1vdXNlTW92ZSkpLCBtdChsLmF4ZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdC5kcmF3Q3Jvc3NoYWlyKGUsIF8obiwgcCkpCgkJCQkJfSkKCQkJCX0sCgkJCQlyZXNldDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uY2hhcnQsCgkJCQkJCWEgPSBpLmhvdmVyU2VyaWVzLAoJCQkJCQlvID0gaS5ob3ZlclBvaW50LAoJCQkJCQlyID0gaS50b29sdGlwLAoJCQkJCQlzID0gciAmJiByLnNoYXJlZCA/IGkuaG92ZXJQb2ludHMgOiBvOwoJCQkJCWUgPSBlICYmIHIgJiYgcywgZSAmJiBnKHMpWzBdLnBsb3RYID09PSBXICYmIChlID0gITEpLCBlID8gKHIucmVmcmVzaChzKSwgbyAmJiBvLnNldFN0YXRlKG8uc3RhdGUsICEwKSkgOiAobyAmJiBvLm9uTW91c2VPdXQoKSwgYSAmJiBhLm9uTW91c2VPdXQoKSwgciAmJiByLmhpZGUodCksIG4uX29uRG9jdW1lbnRNb3VzZU1vdmUgJiYgKHd0KGZlLCAibW91c2Vtb3ZlIiwgbi5fb25Eb2N1bWVudE1vdXNlTW92ZSksIG4uX29uRG9jdW1lbnRNb3VzZU1vdmUgPSBudWxsKSwgbXQoaS5heGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuaGlkZUNyb3NzaGFpcigpCgkJCQkJfSksIG4uaG92ZXJYID0gbnVsbCkKCQkJCX0sCgkJCQlzY2FsZUdyb3VwczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpID0gdGhpcy5jaGFydDsKCQkJCQltdChpLnNlcmllcywgZnVuY3Rpb24oYSkgewoJCQkJCQluID0gZSB8fCBhLmdldFBsb3RCb3goKSwgYS54QXhpcyAmJiBhLnhBeGlzLnpvb21FbmFibGVkICYmIChhLmdyb3VwLmF0dHIobiksIGEubWFya2VyR3JvdXAgJiYgKGEubWFya2VyR3JvdXAuYXR0cihuKSwgYS5tYXJrZXJHcm91cC5jbGlwKHQgPyBpLmNsaXBSZWN0IDogbnVsbCkpLCBhLmRhdGFMYWJlbHNHcm91cCAmJiBhLmRhdGFMYWJlbHNHcm91cC5hdHRyKG4pKQoJCQkJCX0pLCBpLmNsaXBSZWN0LmF0dHIodCB8fCBpLmNsaXBCb3gpCgkJCQl9LAoJCQkJZHJhZ1N0YXJ0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0OwoJCQkJCXQubW91c2VJc0Rvd24gPSBlLnR5cGUsIHQuY2FuY2VsQ2xpY2sgPSAhMSwgdC5tb3VzZURvd25YID0gdGhpcy5tb3VzZURvd25YID0gZS5jaGFydFgsIHQubW91c2VEb3duWSA9IHRoaXMubW91c2VEb3duWSA9IGUuY2hhcnRZCgkJCQl9LAoJCQkJZHJhZzogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcy5jaGFydCwKCQkJCQkJYSA9IGkub3B0aW9ucy5jaGFydCwKCQkJCQkJbyA9IGUuY2hhcnRYLAoJCQkJCQlyID0gZS5jaGFydFksCgkJCQkJCXMgPSB0aGlzLnpvb21Ib3IsCgkJCQkJCWwgPSB0aGlzLnpvb21WZXJ0LAoJCQkJCQljID0gaS5wbG90TGVmdCwKCQkJCQkJZCA9IGkucGxvdFRvcCwKCQkJCQkJcCA9IGkucGxvdFdpZHRoLAoJCQkJCQloID0gaS5wbG90SGVpZ2h0LAoJCQkJCQl1ID0gdGhpcy5tb3VzZURvd25YLAoJCQkJCQltID0gdGhpcy5tb3VzZURvd25ZLAoJCQkJCQlmID0gYS5wYW5LZXkgJiYgZVthLnBhbktleSArICJLZXkiXTsKCQkJCQljID4gbyA/IG8gPSBjIDogbyA+IGMgKyBwICYmIChvID0gYyArIHApLCBkID4gciA/IHIgPSBkIDogciA+IGQgKyBoICYmIChyID0gZCArIGgpLCB0aGlzLmhhc0RyYWdnZWQgPSBNYXRoLnNxcnQoTWF0aC5wb3codSAtIG8sIDIpICsgTWF0aC5wb3cobSAtIHIsIDIpKSwgdGhpcy5oYXNEcmFnZ2VkID4gMTAgJiYgKHQgPSBpLmlzSW5zaWRlUGxvdCh1IC0gYywgbSAtIGQpLCBpLmhhc0NhcnRlc2lhblNlcmllcyAmJiAodGhpcy56b29tWCB8fCB0aGlzLnpvb21ZKSAmJiB0ICYmICFmICYmICh0aGlzLnNlbGVjdGlvbk1hcmtlciB8fCAodGhpcy5zZWxlY3Rpb25NYXJrZXIgPSBpLnJlbmRlcmVyLnJlY3QoYywgZCwgcyA/IDEgOiBwLCBsID8gMSA6IGgsIDApLmF0dHIoewoJCQkJCQlmaWxsOiBhLnNlbGVjdGlvbk1hcmtlckZpbGwgfHwgInJnYmEoNjksMTE0LDE2NywwLjI1KSIsCgkJCQkJCXpJbmRleDogNwoJCQkJCX0pLmFkZCgpKSksIHRoaXMuc2VsZWN0aW9uTWFya2VyICYmIHMgJiYgKG4gPSBvIC0gdSwgdGhpcy5zZWxlY3Rpb25NYXJrZXIuYXR0cih7CgkJCQkJCXdpZHRoOiBrZShuKSwKCQkJCQkJeDogKG4gPiAwID8gMCA6IG4pICsgdQoJCQkJCX0pKSwgdGhpcy5zZWxlY3Rpb25NYXJrZXIgJiYgbCAmJiAobiA9IHIgLSBtLCB0aGlzLnNlbGVjdGlvbk1hcmtlci5hdHRyKHsKCQkJCQkJaGVpZ2h0OiBrZShuKSwKCQkJCQkJeTogKG4gPiAwID8gMCA6IG4pICsgbQoJCQkJCX0pKSwgdCAmJiAhdGhpcy5zZWxlY3Rpb25NYXJrZXIgJiYgYS5wYW5uaW5nICYmIGkucGFuKGUsIGEucGFubmluZykpCgkJCQl9LAoJCQkJZHJvcDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydCwKCQkJCQkJbiA9IHRoaXMuaGFzUGluY2hlZDsKCQkJCQlpZiAodGhpcy5zZWxlY3Rpb25NYXJrZXIpIHsKCQkJCQkJdmFyIGksIG8gPSB7CgkJCQkJCQkJeEF4aXM6IFtdLAoJCQkJCQkJCXlBeGlzOiBbXSwKCQkJCQkJCQlvcmlnaW5hbEV2ZW50OiBlLm9yaWdpbmFsRXZlbnQgfHwgZQoJCQkJCQkJfSwKCQkJCQkJCXIgPSB0aGlzLnNlbGVjdGlvbk1hcmtlciwKCQkJCQkJCXMgPSByLmF0dHIgPyByLmF0dHIoIngiKSA6IHIueCwKCQkJCQkJCWwgPSByLmF0dHIgPyByLmF0dHIoInkiKSA6IHIueSwKCQkJCQkJCWMgPSByLmF0dHIgPyByLmF0dHIoIndpZHRoIikgOiByLndpZHRoLAoJCQkJCQkJZCA9IHIuYXR0ciA/IHIuYXR0cigiaGVpZ2h0IikgOiByLmhlaWdodDsKCQkJCQkJKHRoaXMuaGFzRHJhZ2dlZCB8fCBuKSAmJiAobXQodC5heGVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAodC56b29tRW5hYmxlZCkgewoJCQkJCQkJCXZhciBuID0gdC5ob3JpeiwKCQkJCQkJCQkJYSA9ICJ0b3VjaGVuZCIgPT09IGUudHlwZSA/IHQubWluUGl4ZWxQYWRkaW5nIDogMCwKCQkJCQkJCQkJciA9IHQudG9WYWx1ZSgobiA/IHMgOiBsKSArIGEpLAoJCQkJCQkJCQlwID0gdC50b1ZhbHVlKChuID8gcyArIGMgOiBsICsgZCkgLSBhKTsKCQkJCQkJCQlpc05hTihyKSB8fCBpc05hTihwKSB8fCAob1t0LmNvbGxdLnB1c2goewoJCQkJCQkJCQlheGlzOiB0LAoJCQkJCQkJCQltaW46IHllKHIsIHApLAoJCQkJCQkJCQltYXg6IGJlKHIsIHApCgkJCQkJCQkJfSksIGkgPSAhMCkKCQkJCQkJCX0KCQkJCQkJfSksIGkgJiYgdnQodCwgInNlbGVjdGlvbiIsIG8sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXQuem9vbShhKGUsIG4gPyB7CgkJCQkJCQkJYW5pbWF0aW9uOiAhMQoJCQkJCQkJfSA6IG51bGwpKQoJCQkJCQl9KSksIHRoaXMuc2VsZWN0aW9uTWFya2VyID0gdGhpcy5zZWxlY3Rpb25NYXJrZXIuZGVzdHJveSgpLCBuICYmIHRoaXMuc2NhbGVHcm91cHMoKQoJCQkJCX0KCQkJCQl0ICYmICh4KHQuY29udGFpbmVyLCB7CgkJCQkJCWN1cnNvcjogdC5fY3Vyc29yCgkJCQkJfSksIHQuY2FuY2VsQ2xpY2sgPSB0aGlzLmhhc0RyYWdnZWQgPiAxMCwgdC5tb3VzZUlzRG93biA9IHRoaXMuaGFzRHJhZ2dlZCA9IHRoaXMuaGFzUGluY2hlZCA9ICExLCB0aGlzLnBpbmNoRG93biA9IFtdKQoJCQkJfSwKCQkJCW9uQ29udGFpbmVyTW91c2VEb3duOiBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IHRoaXMubm9ybWFsaXplKGUpLCBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5kcmFnU3RhcnQoZSkKCQkJCX0sCgkJCQlvbkRvY3VtZW50TW91c2VVcDogZnVuY3Rpb24oZSkgewoJCQkJCSRlW0R0XSAmJiAkZVtEdF0ucG9pbnRlci5kcm9wKGUpCgkJCQl9LAoJCQkJb25Eb2N1bWVudE1vdXNlTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5jaGFydCwKCQkJCQkJbiA9IHRoaXMuY2hhcnRQb3NpdGlvbiwKCQkJCQkJaSA9IHQuaG92ZXJTZXJpZXM7CgkJCQkJZSA9IHRoaXMubm9ybWFsaXplKGUsIG4pLCBuICYmIGkgJiYgIXRoaXMuaW5DbGFzcyhlLnRhcmdldCwgImhpZ2hjaGFydHMtdHJhY2tlciIpICYmICF0LmlzSW5zaWRlUGxvdChlLmNoYXJ0WCAtIHQucGxvdExlZnQsIGUuY2hhcnRZIC0gdC5wbG90VG9wKSAmJiB0aGlzLnJlc2V0KCkKCQkJCX0sCgkJCQlvbkNvbnRhaW5lck1vdXNlTGVhdmU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gJGVbRHRdOwoJCQkJCWUgJiYgKGUucG9pbnRlci5yZXNldCgpLCBlLnBvaW50ZXIuY2hhcnRQb3NpdGlvbiA9IG51bGwpCgkJCQl9LAoJCQkJb25Db250YWluZXJNb3VzZU1vdmU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQ7CgkJCQkJRHQgPSB0LmluZGV4LCBlID0gdGhpcy5ub3JtYWxpemUoZSksIGUucmV0dXJuVmFsdWUgPSAhMSwgIm1vdXNlZG93biIgPT09IHQubW91c2VJc0Rvd24gJiYgdGhpcy5kcmFnKGUpLCAhdGhpcy5pbkNsYXNzKGUudGFyZ2V0LCAiaGlnaGNoYXJ0cy10cmFja2VyIikgJiYgIXQuaXNJbnNpZGVQbG90KGUuY2hhcnRYIC0gdC5wbG90TGVmdCwgZS5jaGFydFkgLSB0LnBsb3RUb3ApIHx8IHQub3Blbk1lbnUgfHwgdGhpcy5ydW5Qb2ludEFjdGlvbnMoZSkKCQkJCX0sCgkJCQlpbkNsYXNzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJZm9yICh2YXIgbjsgZTspIHsKCQkJCQkJaWYgKG4gPSBmKGUsICJjbGFzcyIpKSB7CgkJCQkJCQlpZiAoLTEgIT09IG4uaW5kZXhPZih0KSkgcmV0dXJuICEwOwoJCQkJCQkJaWYgKC0xICE9PSBuLmluZGV4T2YoWmUgKyAiY29udGFpbmVyIikpIHJldHVybiAhMQoJCQkJCQl9CgkJCQkJCWUgPSBlLnBhcmVudE5vZGUKCQkJCQl9CgkJCQl9LAoJCQkJb25UcmFja2VyTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQuaG92ZXJTZXJpZXMsCgkJCQkJCW4gPSBlLnJlbGF0ZWRUYXJnZXQgfHwgZS50b0VsZW1lbnQsCgkJCQkJCWkgPSBuICYmIG4ucG9pbnQgJiYgbi5wb2ludC5zZXJpZXM7CgkJCQkJIXQgfHwgdC5vcHRpb25zLnN0aWNreVRyYWNraW5nIHx8IHRoaXMuaW5DbGFzcyhuLCBaZSArICJ0b29sdGlwIikgfHwgaSA9PT0gdCB8fCB0Lm9uTW91c2VPdXQoKQoJCQkJfSwKCQkJCW9uQ29udGFpbmVyQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuY2hhcnQsCgkJCQkJCW4gPSB0LmhvdmVyUG9pbnQsCgkJCQkJCWkgPSB0LnBsb3RMZWZ0LAoJCQkJCQlvID0gdC5wbG90VG9wOwoJCQkJCWUgPSB0aGlzLm5vcm1hbGl6ZShlKSwgZS5jYW5jZWxCdWJibGUgPSAhMCwgdC5jYW5jZWxDbGljayB8fCAobiAmJiB0aGlzLmluQ2xhc3MoZS50YXJnZXQsIFplICsgInRyYWNrZXIiKSA/ICh2dChuLnNlcmllcywgImNsaWNrIiwgYShlLCB7CgkJCQkJCXBvaW50OiBuCgkJCQkJfSkpLCB0LmhvdmVyUG9pbnQgJiYgbi5maXJlUG9pbnRFdmVudCgiY2xpY2siLCBlKSkgOiAoYShlLCB0aGlzLmdldENvb3JkaW5hdGVzKGUpKSwgdC5pc0luc2lkZVBsb3QoZS5jaGFydFggLSBpLCBlLmNoYXJ0WSAtIG8pICYmIHZ0KHQsICJjbGljayIsIGUpKSkKCQkJCX0sCgkJCQlzZXRET01FdmVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQuY29udGFpbmVyOwoJCQkJCXQub25tb3VzZWRvd24gPSBmdW5jdGlvbih0KSB7CgkJCQkJCWUub25Db250YWluZXJNb3VzZURvd24odCkKCQkJCQl9LCB0Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyTW91c2VNb3ZlKHQpCgkJCQkJfSwgdC5vbmNsaWNrID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyQ2xpY2sodCkKCQkJCQl9LCB4dCh0LCAibW91c2VsZWF2ZSIsIGUub25Db250YWluZXJNb3VzZUxlYXZlKSwgMSA9PT0gV2UgJiYgeHQoZmUsICJtb3VzZXVwIiwgZS5vbkRvY3VtZW50TW91c2VVcCksIFUgJiYgKHQub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24odCkgewoJCQkJCQllLm9uQ29udGFpbmVyVG91Y2hTdGFydCh0KQoJCQkJCX0sIHQub250b3VjaG1vdmUgPSBmdW5jdGlvbih0KSB7CgkJCQkJCWUub25Db250YWluZXJUb3VjaE1vdmUodCkKCQkJCQl9LCAxID09PSBXZSAmJiB4dChmZSwgInRvdWNoZW5kIiwgZS5vbkRvY3VtZW50VG91Y2hFbmQpKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlOwoJCQkJCXd0KHRoaXMuY2hhcnQuY29udGFpbmVyLCAibW91c2VsZWF2ZSIsIHRoaXMub25Db250YWluZXJNb3VzZUxlYXZlKSwgV2UgfHwgKHd0KGZlLCAibW91c2V1cCIsIHRoaXMub25Eb2N1bWVudE1vdXNlVXApLCB3dChmZSwgInRvdWNoZW5kIiwgdGhpcy5vbkRvY3VtZW50VG91Y2hFbmQpKSwgY2xlYXJJbnRlcnZhbCh0aGlzLnRvb2x0aXBUaW1lb3V0KTsKCQkJCQlmb3IgKGUgaW4gdGhpcykgdGhpc1tlXSA9IG51bGwKCQkJCX0KCQkJfSwgYShsdC5Qb2ludGVyLnByb3RvdHlwZSwgewoJCQkJcGluY2hUcmFuc2xhdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEsIG8pIHsKCQkJCQkodGhpcy56b29tSG9yIHx8IHRoaXMucGluY2hIb3IpICYmIHRoaXMucGluY2hUcmFuc2xhdGVEaXJlY3Rpb24oITAsIGUsIHQsIG4sIGksIGEsIG8pLCAodGhpcy56b29tVmVydCB8fCB0aGlzLnBpbmNoVmVydCkgJiYgdGhpcy5waW5jaFRyYW5zbGF0ZURpcmVjdGlvbighMSwgZSwgdCwgbiwgaSwgYSwgbykKCQkJCX0sCgkJCQlwaW5jaFRyYW5zbGF0ZURpcmVjdGlvbjogZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbywgciwgcykgewoJCQkJCXZhciBsLCBjLCBkLCBwLCBoLCB1LCBtID0gdGhpcy5jaGFydCwKCQkJCQkJZiA9IGUgPyAieCIgOiAieSIsCgkJCQkJCWcgPSBlID8gIlgiIDogIlkiLAoJCQkJCQlfID0gImNoYXJ0IiArIGcsCgkJCQkJCXggPSBlID8gIndpZHRoIiA6ICJoZWlnaHQiLAoJCQkJCQl3ID0gbVsicGxvdCIgKyAoZSA/ICJMZWZ0IiA6ICJUb3AiKV0sCgkJCQkJCXYgPSBzIHx8IDEsCgkJCQkJCWIgPSBtLmludmVydGVkLAoJCQkJCQl5ID0gbS5ib3VuZHNbZSA/ICJoIiA6ICJ2Il0sCgkJCQkJCWsgPSAxID09PSB0Lmxlbmd0aCwKCQkJCQkJeiA9IHRbMF1bX10sCgkJCQkJCUIgPSBuWzBdW19dLAoJCQkJCQlqID0gIWsgJiYgdFsxXVtfXSwKCQkJCQkJQyA9ICFrICYmIG5bMV1bX10sCgkJCQkJCVMgPSBmdW5jdGlvbigpIHsKCQkJCQkJCSFrICYmIGtlKHogLSBqKSA+IDIwICYmICh2ID0gcyB8fCBrZShCIC0gQykgLyBrZSh6IC0gaikpLCBkID0gKHcgLSBCKSAvIHYgKyB6LCBsID0gbVsicGxvdCIgKyAoZSA/ICJXaWR0aCIgOiAiSGVpZ2h0IildIC8gdgoJCQkJCQl9OwoJCQkJCVMoKSwgYyA9IGQsIGMgPCB5Lm1pbiA/IChjID0geS5taW4sIHAgPSAhMCkgOiBjICsgbCA+IHkubWF4ICYmIChjID0geS5tYXggLSBsLCBwID0gITApLCBwID8gKEIgLT0gLjggKiAoQiAtIHJbZl1bMF0pLCBrIHx8IChDIC09IC44ICogKEMgLSByW2ZdWzFdKSksIFMoKSkgOiByW2ZdID0gW0IsIENdLCBiIHx8IChvW2ZdID0gZCAtIHcsIG9beF0gPSBsKSwgdSA9IGIgPyBlID8gInNjYWxlWSIgOiAic2NhbGVYIiA6ICJzY2FsZSIgKyBnLCBoID0gYiA/IDEgLyB2IDogdiwgYVt4XSA9IGwsIGFbZl0gPSBjLCBpW3VdID0gdiwgaVsidHJhbnNsYXRlIiArIGddID0gaCAqIHcgKyAoQiAtIGggKiB6KQoJCQkJfSwKCQkJCXBpbmNoOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5jaGFydCwKCQkJCQkJaSA9IHQucGluY2hEb3duLAoJCQkJCQlvID0gdC5mb2xsb3dUb3VjaE1vdmUsCgkJCQkJCXIgPSBlLnRvdWNoZXMsCgkJCQkJCXMgPSByLmxlbmd0aCwKCQkJCQkJbCA9IHQubGFzdFZhbGlkVG91Y2gsCgkJCQkJCWMgPSB0Lmhhc1pvb20sCgkJCQkJCWQgPSB0LnNlbGVjdGlvbk1hcmtlciwKCQkJCQkJcCA9IHt9LAoJCQkJCQloID0gMSA9PT0gcyAmJiAodC5pbkNsYXNzKGUudGFyZ2V0LCBaZSArICJ0cmFja2VyIikgJiYgbi5ydW5UcmFja2VyQ2xpY2sgfHwgdC5ydW5DaGFydENsaWNrKSwKCQkJCQkJdSA9IHt9OwoJCQkJCSFjICYmICFvIHx8IGggfHwgZS5wcmV2ZW50RGVmYXVsdCgpLCBfdChyLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiB0Lm5vcm1hbGl6ZShlKQoJCQkJCX0pLCAidG91Y2hzdGFydCIgPT09IGUudHlwZSA/IChtdChyLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWlbdF0gPSB7CgkJCQkJCQljaGFydFg6IGUuY2hhcnRYLAoJCQkJCQkJY2hhcnRZOiBlLmNoYXJ0WQoJCQkJCQl9CgkJCQkJfSksIGwueCA9IFtpWzBdLmNoYXJ0WCwgaVsxXSAmJiBpWzFdLmNoYXJ0WF0sIGwueSA9IFtpWzBdLmNoYXJ0WSwgaVsxXSAmJiBpWzFdLmNoYXJ0WV0sIG10KG4uYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZS56b29tRW5hYmxlZCkgewoJCQkJCQkJdmFyIHQgPSBuLmJvdW5kc1tlLmhvcml6ID8gImgiIDogInYiXSwKCQkJCQkJCQlpID0gZS5taW5QaXhlbFBhZGRpbmcsCgkJCQkJCQkJYSA9IGUudG9QaXhlbHMoXyhlLm9wdGlvbnMubWluLCBlLmRhdGFNaW4pKSwKCQkJCQkJCQlvID0gZS50b1BpeGVscyhfKGUub3B0aW9ucy5tYXgsIGUuZGF0YU1heCkpLAoJCQkJCQkJCXIgPSB5ZShhLCBvKSwKCQkJCQkJCQlzID0gYmUoYSwgbyk7CgkJCQkJCQl0Lm1pbiA9IHllKGUucG9zLCByIC0gaSksIHQubWF4ID0gYmUoZS5wb3MgKyBlLmxlbiwgcyArIGkpCgkJCQkJCX0KCQkJCQl9KSwgdC5yZXMgPSAhMCkgOiBpLmxlbmd0aCAmJiAoZCB8fCAodC5zZWxlY3Rpb25NYXJrZXIgPSBkID0gYSh7CgkJCQkJCWRlc3Ryb3k6IEZlCgkJCQkJfSwgbi5wbG90Qm94KSksIHQucGluY2hUcmFuc2xhdGUoaSwgciwgcCwgZCwgdSwgbCksIHQuaGFzUGluY2hlZCA9IGMsIHQuc2NhbGVHcm91cHMocCwgdSksICFjICYmIG8gJiYgMSA9PT0gcyA/IHRoaXMucnVuUG9pbnRBY3Rpb25zKHQubm9ybWFsaXplKGUpKSA6IHQucmVzICYmICh0LnJlcyA9ICExLCB0aGlzLnJlc2V0KCExLCAwKSkpCgkJCQl9LAoJCQkJb25Db250YWluZXJUb3VjaFN0YXJ0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLmNoYXJ0OwoJCQkJCUR0ID0gdC5pbmRleCwgMSA9PT0gZS50b3VjaGVzLmxlbmd0aCA/IChlID0gdGhpcy5ub3JtYWxpemUoZSksIHQuaXNJbnNpZGVQbG90KGUuY2hhcnRYIC0gdC5wbG90TGVmdCwgZS5jaGFydFkgLSB0LnBsb3RUb3ApID8gKHRoaXMucnVuUG9pbnRBY3Rpb25zKGUpLCB0aGlzLnBpbmNoKGUpKSA6IHRoaXMucmVzZXQoKSkgOiAyID09PSBlLnRvdWNoZXMubGVuZ3RoICYmIHRoaXMucGluY2goZSkKCQkJCX0sCgkJCQlvbkNvbnRhaW5lclRvdWNoTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCSgxID09PSBlLnRvdWNoZXMubGVuZ3RoIHx8IDIgPT09IGUudG91Y2hlcy5sZW5ndGgpICYmIHRoaXMucGluY2goZSkKCQkJCX0sCgkJCQlvbkRvY3VtZW50VG91Y2hFbmQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkkZVtEdF0gJiYgJGVbRHRdLnBvaW50ZXIuZHJvcChlKQoJCQkJfQoJCQl9KSwgZ2UuUG9pbnRlckV2ZW50IHx8IGdlLk1TUG9pbnRlckV2ZW50KSB7CgkJCQl2YXIgUnQgPSB7fSwKCQkJCQlGdCA9ICEhZ2UuUG9pbnRlckV2ZW50LAoJCQkJCSR0ID0gZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0ID0gW107CgkJCQkJCXQuaXRlbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXJldHVybiB0aGlzW2VdCgkJCQkJCX07CgkJCQkJCWZvciAoZSBpbiBSdCkgUnQuaGFzT3duUHJvcGVydHkoZSkgJiYgdC5wdXNoKHsKCQkJCQkJCXBhZ2VYOiBSdFtlXS5wYWdlWCwKCQkJCQkJCXBhZ2VZOiBSdFtlXS5wYWdlWSwKCQkJCQkJCXRhcmdldDogUnRbZV0udGFyZ2V0CgkJCQkJCX0pOwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0sCgkJCQkJV3QgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJCXZhciBhOwoJCQkJCQllID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsICJ0b3VjaCIgIT09IGUucG9pbnRlclR5cGUgJiYgZS5wb2ludGVyVHlwZSAhPT0gZS5NU1BPSU5URVJfVFlQRV9UT1VDSCB8fCAhJGVbRHRdIHx8IChpKGUpLCBhID0gJGVbRHRdLnBvaW50ZXIsIGFbdF0oewoJCQkJCQkJdHlwZTogbiwKCQkJCQkJCXRhcmdldDogZS5jdXJyZW50VGFyZ2V0LAoJCQkJCQkJcHJldmVudERlZmF1bHQ6IEZlLAoJCQkJCQkJdG91Y2hlczogJHQoKQoJCQkJCQl9KSkKCQkJCQl9OwoJCQkJYShNdC5wcm90b3R5cGUsIHsKCQkJCQlvbkNvbnRhaW5lclBvaW50ZXJEb3duOiBmdW5jdGlvbihlKSB7CgkJCQkJCVd0KGUsICJvbkNvbnRhaW5lclRvdWNoU3RhcnQiLCAidG91Y2hzdGFydCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCVJ0W2UucG9pbnRlcklkXSA9IHsKCQkJCQkJCQlwYWdlWDogZS5wYWdlWCwKCQkJCQkJCQlwYWdlWTogZS5wYWdlWSwKCQkJCQkJCQl0YXJnZXQ6IGUuY3VycmVudFRhcmdldAoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJb25Db250YWluZXJQb2ludGVyTW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCQlXdChlLCAib25Db250YWluZXJUb3VjaE1vdmUiLCAidG91Y2htb3ZlIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJUnRbZS5wb2ludGVySWRdID0gewoJCQkJCQkJCXBhZ2VYOiBlLnBhZ2VYLAoJCQkJCQkJCXBhZ2VZOiBlLnBhZ2VZCgkJCQkJCQl9LCBSdFtlLnBvaW50ZXJJZF0udGFyZ2V0IHx8IChSdFtlLnBvaW50ZXJJZF0udGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJb25Eb2N1bWVudFBvaW50ZXJVcDogZnVuY3Rpb24oZSkgewoJCQkJCQlXdChlLCAib25Db250YWluZXJUb3VjaEVuZCIsICJ0b3VjaGVuZCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWRlbGV0ZSBSdFtlLnBvaW50ZXJJZF0KCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJhdGNoTVNFdmVudHM6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSh0aGlzLmNoYXJ0LmNvbnRhaW5lciwgRnQgPyAicG9pbnRlcmRvd24iIDogIk1TUG9pbnRlckRvd24iLCB0aGlzLm9uQ29udGFpbmVyUG9pbnRlckRvd24pLCBlKHRoaXMuY2hhcnQuY29udGFpbmVyLCBGdCA/ICJwb2ludGVybW92ZSIgOiAiTVNQb2ludGVyTW92ZSIsIHRoaXMub25Db250YWluZXJQb2ludGVyTW92ZSksIGUoZmUsIEZ0ID8gInBvaW50ZXJ1cCIgOiAiTVNQb2ludGVyVXAiLCB0aGlzLm9uRG9jdW1lbnRQb2ludGVyVXApCgkJCQkJfQoJCQkJfSksIGsoTXQucHJvdG90eXBlLCAiaW5pdCIsIGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllLmNhbGwodGhpcywgdCwgbiksICh0aGlzLmhhc1pvb20gfHwgdGhpcy5mb2xsb3dUb3VjaE1vdmUpICYmIHgodC5jb250YWluZXIsIHsKCQkJCQkJIi1tcy10b3VjaC1hY3Rpb24iOiBRZSwKCQkJCQkJInRvdWNoLWFjdGlvbiI6IFFlCgkJCQkJfSkKCQkJCX0pLCBrKE10LnByb3RvdHlwZSwgInNldERPTUV2ZW50cyIsIGZ1bmN0aW9uKGUpIHsKCQkJCQllLmFwcGx5KHRoaXMpLCAodGhpcy5oYXNab29tIHx8IHRoaXMuZm9sbG93VG91Y2hNb3ZlKSAmJiB0aGlzLmJhdGNoTVNFdmVudHMoeHQpCgkJCQl9KSwgayhNdC5wcm90b3R5cGUsICJkZXN0cm95IiwgZnVuY3Rpb24oZSkgewoJCQkJCXRoaXMuYmF0Y2hNU0V2ZW50cyh3dCksIGUuY2FsbCh0aGlzKQoJCQkJfSkKCQkJfQoJCQl2YXIgSHQgPSBsdC5MZWdlbmQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQl0aGlzLmluaXQoZSwgdCkKCQkJfTsKCQkJSHQucHJvdG90eXBlID0gewoJCQkJaW5pdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IHQuaXRlbVN0eWxlLAoJCQkJCQlhID0gXyh0LnBhZGRpbmcsIDgpLAoJCQkJCQlyID0gdC5pdGVtTWFyZ2luVG9wIHx8IDA7CgkJCQkJdGhpcy5vcHRpb25zID0gdCwgdC5lbmFibGVkICYmIChuLml0ZW1TdHlsZSA9IGksIG4uaXRlbUhpZGRlblN0eWxlID0gbyhpLCB0Lml0ZW1IaWRkZW5TdHlsZSksIG4uaXRlbU1hcmdpblRvcCA9IHIsIG4ucGFkZGluZyA9IGEsIG4uaW5pdGlhbEl0ZW1YID0gYSwgbi5pbml0aWFsSXRlbVkgPSBhIC0gNSwgbi5tYXhJdGVtV2lkdGggPSAwLCBuLmNoYXJ0ID0gZSwgbi5pdGVtSGVpZ2h0ID0gMCwgbi5sYXN0TGluZUhlaWdodCA9IDAsIG4uc3ltYm9sV2lkdGggPSBfKHQuc3ltYm9sV2lkdGgsIDE2KSwgbi5wYWdlcyA9IFtdLCBuLnJlbmRlcigpLCB4dChuLmNoYXJ0LCAiZW5kUmVzaXplIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4ucG9zaXRpb25DaGVja2JveGVzKCkKCQkJCQl9KSkKCQkJCX0sCgkJCQljb2xvcml6ZUl0ZW06IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSwgYSA9IHRoaXMsCgkJCQkJCW8gPSBhLm9wdGlvbnMsCgkJCQkJCXIgPSBlLmxlZ2VuZEl0ZW0sCgkJCQkJCXMgPSBlLmxlZ2VuZExpbmUsCgkJCQkJCWwgPSBlLmxlZ2VuZFN5bWJvbCwKCQkJCQkJYyA9IGEuaXRlbUhpZGRlblN0eWxlLmNvbG9yLAoJCQkJCQlkID0gdCA/IG8uaXRlbVN0eWxlLmNvbG9yIDogYywKCQkJCQkJcCA9IHQgPyBlLmxlZ2VuZENvbG9yIHx8IGUuY29sb3IgfHwgIiNDQ0MiIDogYywKCQkJCQkJaCA9IGUub3B0aW9ucyAmJiBlLm9wdGlvbnMubWFya2VyLAoJCQkJCQl1ID0gewoJCQkJCQkJZmlsbDogcAoJCQkJCQl9OwoJCQkJCWlmIChyICYmIHIuY3NzKHsKCQkJCQkJZmlsbDogZCwKCQkJCQkJY29sb3I6IGQKCQkJCQl9KSwgcyAmJiBzLmF0dHIoewoJCQkJCQlzdHJva2U6IHAKCQkJCQl9KSwgbCkgewoJCQkJCQlpZiAoaCAmJiBsLmlzTWFya2VyKSB7CgkJCQkJCQl1LnN0cm9rZSA9IHAsIGggPSBlLmNvbnZlcnRBdHRyaWJzKGgpOwoJCQkJCQkJZm9yIChuIGluIGgpIGkgPSBoW25dLCBpICE9PSBXICYmICh1W25dID0gaSkKCQkJCQkJfQoJCQkJCQlsLmF0dHIodSkKCQkJCQl9CgkJCQl9LAoJCQkJcG9zaXRpb25JdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gbi5zeW1ib2xQYWRkaW5nLAoJCQkJCQlhID0gIW4ucnRsLAoJCQkJCQlvID0gZS5fbGVnZW5kSXRlbVBvcywKCQkJCQkJciA9IG9bMF0sCgkJCQkJCXMgPSBvWzFdLAoJCQkJCQlsID0gZS5jaGVja2JveDsKCQkJCQllLmxlZ2VuZEdyb3VwICYmIGUubGVnZW5kR3JvdXAudHJhbnNsYXRlKGEgPyByIDogdC5sZWdlbmRXaWR0aCAtIHIgLSAyICogaSAtIDQsIHMpLCBsICYmIChsLnggPSByLCBsLnkgPSBzKQoJCQkJfSwKCQkJCWRlc3Ryb3lJdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBlLmNoZWNrYm94OwoJCQkJCW10KFsibGVnZW5kSXRlbSIsICJsZWdlbmRMaW5lIiwgImxlZ2VuZFN5bWJvbCIsICJsZWdlbmRHcm91cCJdLCBmdW5jdGlvbih0KSB7CgkJCQkJCWVbdF0gJiYgKGVbdF0gPSBlW3RdLmRlc3Ryb3koKSkKCQkJCQl9KSwgdCAmJiBJKGUuY2hlY2tib3gpCgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5ncm91cCwKCQkJCQkJbiA9IGUuYm94OwoJCQkJCW4gJiYgKGUuYm94ID0gbi5kZXN0cm95KCkpLCB0ICYmIChlLmdyb3VwID0gdC5kZXN0cm95KCkpCgkJCQl9LAoJCQkJcG9zaXRpb25DaGVja2JveGVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLmdyb3VwLmFsaWduQXR0ciwKCQkJCQkJaSA9IHRoaXMuY2xpcEhlaWdodCB8fCB0aGlzLmxlZ2VuZEhlaWdodDsKCQkJCQluICYmICh0ID0gbi50cmFuc2xhdGVZLCBtdCh0aGlzLmFsbEl0ZW1zLCBmdW5jdGlvbihhKSB7CgkJCQkJCXZhciBvLCByID0gYS5jaGVja2JveDsKCQkJCQkJciAmJiAobyA9IHQgKyByLnkgKyAoZSB8fCAwKSArIDMsIHgociwgewoJCQkJCQkJbGVmdDogbi50cmFuc2xhdGVYICsgYS5jaGVja2JveE9mZnNldCArIHIueCAtIDIwICsgS2UsCgkJCQkJCQl0b3A6IG8gKyBLZSwKCQkJCQkJCWRpc3BsYXk6IG8gPiB0IC0gNiAmJiB0ICsgaSAtIDYgPiBvID8gIiIgOiBRZQoJCQkJCQl9KSkKCQkJCQl9KSkKCQkJCX0sCgkJCQlyZW5kZXJUaXRsZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSB0aGlzLnBhZGRpbmcsCgkJCQkJCWkgPSB0LnRpdGxlLAoJCQkJCQlhID0gMDsKCQkJCQlpLnRleHQgJiYgKHRoaXMudGl0bGUgfHwgKHRoaXMudGl0bGUgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLmxhYmVsKGkudGV4dCwgbiAtIDMsIG4gLSA0LCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAibGVnZW5kLXRpdGxlIikuYXR0cih7CgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmNzcyhpLnN0eWxlKS5hZGQodGhpcy5ncm91cCkpLCBlID0gdGhpcy50aXRsZS5nZXRCQm94KCksIGEgPSBlLmhlaWdodCwgdGhpcy5vZmZzZXRXaWR0aCA9IGUud2lkdGgsIHRoaXMuY29udGVudEdyb3VwLmF0dHIoewoJCQkJCQl0cmFuc2xhdGVZOiBhCgkJCQkJfSkpLCB0aGlzLnRpdGxlSGVpZ2h0ID0gYQoJCQkJfSwKCQkJCXJlbmRlckl0ZW06IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXMsCgkJCQkJCXIgPSBhLmNoYXJ0LAoJCQkJCQlzID0gci5yZW5kZXJlciwKCQkJCQkJbCA9IGEub3B0aW9ucywKCQkJCQkJYyA9ICJob3Jpem9udGFsIiA9PT0gbC5sYXlvdXQsCgkJCQkJCWQgPSBhLnN5bWJvbFdpZHRoLAoJCQkJCQlwID0gbC5zeW1ib2xQYWRkaW5nLAoJCQkJCQloID0gYS5pdGVtU3R5bGUsCgkJCQkJCXUgPSBhLml0ZW1IaWRkZW5TdHlsZSwKCQkJCQkJbSA9IGEucGFkZGluZywKCQkJCQkJZiA9IGMgPyBfKGwuaXRlbURpc3RhbmNlLCAyMCkgOiAwLAoJCQkJCQlnID0gIWwucnRsLAoJCQkJCQl4ID0gbC53aWR0aCwKCQkJCQkJdyA9IGwuaXRlbU1hcmdpbkJvdHRvbSB8fCAwLAoJCQkJCQl2ID0gYS5pdGVtTWFyZ2luVG9wLAoJCQkJCQliID0gYS5pbml0aWFsSXRlbVgsCgkJCQkJCXkgPSBlLmxlZ2VuZEl0ZW0sCgkJCQkJCWsgPSBlLnNlcmllcyAmJiBlLnNlcmllcy5kcmF3TGVnZW5kU3ltYm9sID8gZS5zZXJpZXMgOiBlLAoJCQkJCQl6ID0gay5vcHRpb25zLAoJCQkJCQlqID0gYS5jcmVhdGVDaGVja2JveEZvckl0ZW0gJiYgeiAmJiB6LnNob3dDaGVja2JveCwKCQkJCQkJQyA9IGwudXNlSFRNTDsKCQkJCQl5IHx8IChlLmxlZ2VuZEdyb3VwID0gcy5nKCJsZWdlbmQtaXRlbSIpLmF0dHIoewoJCQkJCQl6SW5kZXg6IDEKCQkJCQl9KS5hZGQoYS5zY3JvbGxHcm91cCksIGUubGVnZW5kSXRlbSA9IHkgPSBzLnRleHQobC5sYWJlbEZvcm1hdCA/IEIobC5sYWJlbEZvcm1hdCwgZSkgOiBsLmxhYmVsRm9ybWF0dGVyLmNhbGwoZSksIGcgPyBkICsgcCA6IC1wLCBhLmJhc2VsaW5lIHx8IDAsIEMpLmNzcyhvKGUudmlzaWJsZSA/IGggOiB1KSkuYXR0cih7CgkJCQkJCWFsaWduOiBnID8gImxlZnQiIDogInJpZ2h0IiwKCQkJCQkJekluZGV4OiAyCgkJCQkJfSkuYWRkKGUubGVnZW5kR3JvdXApLCBhLmJhc2VsaW5lIHx8IChhLmJhc2VsaW5lID0gcy5mb250TWV0cmljcyhoLmZvbnRTaXplLCB5KS5mICsgMyArIHYsIHkuYXR0cigieSIsIGEuYmFzZWxpbmUpKSwgay5kcmF3TGVnZW5kU3ltYm9sKGEsIGUpLCBhLnNldEl0ZW1FdmVudHMgJiYgYS5zZXRJdGVtRXZlbnRzKGUsIHksIEMsIGgsIHUpLCBhLmNvbG9yaXplSXRlbShlLCBlLnZpc2libGUpLCBqICYmIGEuY3JlYXRlQ2hlY2tib3hGb3JJdGVtKGUpKSwgbiA9IHkuZ2V0QkJveCgpLCBpID0gZS5jaGVja2JveE9mZnNldCA9IGwuaXRlbVdpZHRoIHx8IGUubGVnZW5kSXRlbVdpZHRoIHx8IGQgKyBwICsgbi53aWR0aCArIGYgKyAoaiA/IDIwIDogMCksIGEuaXRlbUhlaWdodCA9IHQgPSB4ZShlLmxlZ2VuZEl0ZW1IZWlnaHQgfHwgbi5oZWlnaHQpLCBjICYmIGEuaXRlbVggLSBiICsgaSA+ICh4IHx8IHIuY2hhcnRXaWR0aCAtIDIgKiBtIC0gYiAtIGwueCkgJiYgKGEuaXRlbVggPSBiLCBhLml0ZW1ZICs9IHYgKyBhLmxhc3RMaW5lSGVpZ2h0ICsgdywgYS5sYXN0TGluZUhlaWdodCA9IDApLCBhLm1heEl0ZW1XaWR0aCA9IGJlKGEubWF4SXRlbVdpZHRoLCBpKSwgYS5sYXN0SXRlbVkgPSB2ICsgYS5pdGVtWSArIHcsIGEubGFzdExpbmVIZWlnaHQgPSBiZSh0LCBhLmxhc3RMaW5lSGVpZ2h0KSwgZS5fbGVnZW5kSXRlbVBvcyA9IFthLml0ZW1YLCBhLml0ZW1ZXSwgYyA/IGEuaXRlbVggKz0gaSA6IChhLml0ZW1ZICs9IHYgKyB0ICsgdywgYS5sYXN0TGluZUhlaWdodCA9IHQpLCBhLm9mZnNldFdpZHRoID0geCB8fCBiZSgoYyA/IGEuaXRlbVggLSBiIC0gZiA6IGkpICsgbSwgYS5vZmZzZXRXaWR0aCkKCQkJCX0sCgkJCQlnZXRBbGxJdGVtczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBbXTsKCQkJCQlyZXR1cm4gbXQodGhpcy5jaGFydC5zZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0Lm9wdGlvbnM7CgkJCQkJCV8obi5zaG93SW5MZWdlbmQsIG0obi5saW5rZWRUbykgPyAhMSA6IFcsICEwKSAmJiAoZSA9IGUuY29uY2F0KHQubGVnZW5kSXRlbXMgfHwgKCJwb2ludCIgPT09IG4ubGVnZW5kVHlwZSA/IHQuZGF0YSA6IHQpKSkKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWwgPSBvLmdyb3VwLAoJCQkJCQljID0gby5ib3gsCgkJCQkJCWQgPSBvLm9wdGlvbnMsCgkJCQkJCXAgPSBvLnBhZGRpbmcsCgkJCQkJCWggPSBkLmJvcmRlcldpZHRoLAoJCQkJCQl1ID0gZC5iYWNrZ3JvdW5kQ29sb3I7CgkJCQkJby5pdGVtWCA9IG8uaW5pdGlhbEl0ZW1YLCBvLml0ZW1ZID0gby5pbml0aWFsSXRlbVksIG8ub2Zmc2V0V2lkdGggPSAwLCBvLmxhc3RJdGVtWSA9IDAsIGwgfHwgKG8uZ3JvdXAgPSBsID0gcy5nKCJsZWdlbmQiKS5hdHRyKHsKCQkJCQkJekluZGV4OiA3CgkJCQkJfSkuYWRkKCksIG8uY29udGVudEdyb3VwID0gcy5nKCkuYXR0cih7CgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmFkZChsKSwgby5zY3JvbGxHcm91cCA9IHMuZygpLmFkZChvLmNvbnRlbnRHcm91cCkpLCBvLnJlbmRlclRpdGxlKCksIGUgPSBvLmdldEFsbEl0ZW1zKCksIFMoZSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gKGUub3B0aW9ucyAmJiBlLm9wdGlvbnMubGVnZW5kSW5kZXggfHwgMCkgLSAodC5vcHRpb25zICYmIHQub3B0aW9ucy5sZWdlbmRJbmRleCB8fCAwKQoJCQkJCX0pLCBkLnJldmVyc2VkICYmIGUucmV2ZXJzZSgpLCBvLmFsbEl0ZW1zID0gZSwgby5kaXNwbGF5ID0gdCA9ICEhZS5sZW5ndGgsIG10KGUsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJby5yZW5kZXJJdGVtKGUpCgkJCQkJfSksIG4gPSBkLndpZHRoIHx8IG8ub2Zmc2V0V2lkdGgsIGkgPSBvLmxhc3RJdGVtWSArIG8ubGFzdExpbmVIZWlnaHQgKyBvLnRpdGxlSGVpZ2h0LCBpID0gby5oYW5kbGVPdmVyZmxvdyhpKSwgKGggfHwgdSkgJiYgKG4gKz0gcCwgaSArPSBwLCBjID8gbiA+IDAgJiYgaSA+IDAgJiYgKGNbYy5pc05ldyA/ICJhdHRyIiA6ICJhbmltYXRlIl0oYy5jcmlzcCh7CgkJCQkJCXdpZHRoOiBuLAoJCQkJCQloZWlnaHQ6IGkKCQkJCQl9KSksIGMuaXNOZXcgPSAhMSkgOiAoby5ib3ggPSBjID0gcy5yZWN0KDAsIDAsIG4sIGksIGQuYm9yZGVyUmFkaXVzLCBoIHx8IDApLmF0dHIoewoJCQkJCQlzdHJva2U6IGQuYm9yZGVyQ29sb3IsCgkJCQkJCSJzdHJva2Utd2lkdGgiOiBoIHx8IDAsCgkJCQkJCWZpbGw6IHUgfHwgUWUKCQkJCQl9KS5hZGQobCkuc2hhZG93KGQuc2hhZG93KSwgYy5pc05ldyA9ICEwKSwgY1t0ID8gInNob3ciIDogImhpZGUiXSgpKSwgby5sZWdlbmRXaWR0aCA9IG4sIG8ubGVnZW5kSGVpZ2h0ID0gaSwgbXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlvLnBvc2l0aW9uSXRlbShlKQoJCQkJCX0pLCB0ICYmIGwuYWxpZ24oYSh7CgkJCQkJCXdpZHRoOiBuLAoJCQkJCQloZWlnaHQ6IGkKCQkJCQl9LCBkKSwgITAsICJzcGFjaW5nQm94IiksIHIuaXNSZXNpemluZyB8fCB0aGlzLnBvc2l0aW9uQ2hlY2tib3hlcygpCgkJCQl9LAoJCQkJaGFuZGxlT3ZlcmZsb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSB0aGlzLmNoYXJ0LAoJCQkJCQlvID0gYS5yZW5kZXJlciwKCQkJCQkJciA9IHRoaXMub3B0aW9ucywKCQkJCQkJcyA9IHIueSwKCQkJCQkJbCA9ICJ0b3AiID09PSByLnZlcnRpY2FsQWxpZ24sCgkJCQkJCWMgPSBhLnNwYWNpbmdCb3guaGVpZ2h0ICsgKGwgPyAtcyA6IHMpIC0gdGhpcy5wYWRkaW5nLAoJCQkJCQlkID0gci5tYXhIZWlnaHQsCgkJCQkJCXAgPSB0aGlzLmNsaXBSZWN0LAoJCQkJCQloID0gci5uYXZpZ2F0aW9uLAoJCQkJCQl1ID0gXyhoLmFuaW1hdGlvbiwgITApLAoJCQkJCQltID0gaC5hcnJvd1NpemUgfHwgMTIsCgkJCQkJCWYgPSB0aGlzLm5hdiwKCQkJCQkJZyA9IHRoaXMucGFnZXMsCgkJCQkJCXggPSB0aGlzLmFsbEl0ZW1zOwoJCQkJCXJldHVybiAiaG9yaXpvbnRhbCIgPT09IHIubGF5b3V0ICYmIChjIC89IDIpLCBkICYmIChjID0geWUoYywgZCkpLCBnLmxlbmd0aCA9IDAsIGUgPiBjICYmICFyLnVzZUhUTUwgPyAodGhpcy5jbGlwSGVpZ2h0ID0gdCA9IGJlKGMgLSAyMCAtIHRoaXMudGl0bGVIZWlnaHQgLSB0aGlzLnBhZGRpbmcsIDApLCB0aGlzLmN1cnJlbnRQYWdlID0gXyh0aGlzLmN1cnJlbnRQYWdlLCAxKSwgdGhpcy5mdWxsSGVpZ2h0ID0gZSwgbXQoeCwgZnVuY3Rpb24oZSwgaSkgewoJCQkJCQl2YXIgYSA9IGUuX2xlZ2VuZEl0ZW1Qb3NbMV0sCgkJCQkJCQlvID0geGUoZS5sZWdlbmRJdGVtLmdldEJCb3goKS5oZWlnaHQpLAoJCQkJCQkJciA9IGcubGVuZ3RoOwoJCQkJCQkoIXIgfHwgYSAtIGdbciAtIDFdID4gdCAmJiAobiB8fCBhKSAhPT0gZ1tyIC0gMV0pICYmIChnLnB1c2gobiB8fCBhKSwgcisrKSwgaSA9PT0geC5sZW5ndGggLSAxICYmIGEgKyBvIC0gZ1tyIC0gMV0gPiB0ICYmIGcucHVzaChhKSwgYSAhPT0gbiAmJiAobiA9IGEpCgkJCQkJfSksIHAgfHwgKHAgPSBpLmNsaXBSZWN0ID0gby5jbGlwUmVjdCgwLCB0aGlzLnBhZGRpbmcsIDk5OTksIDApLCBpLmNvbnRlbnRHcm91cC5jbGlwKHApKSwgcC5hdHRyKHsKCQkJCQkJaGVpZ2h0OiB0CgkJCQkJfSksIGYgfHwgKHRoaXMubmF2ID0gZiA9IG8uZygpLmF0dHIoewoJCQkJCQl6SW5kZXg6IDEKCQkJCQl9KS5hZGQodGhpcy5ncm91cCksIHRoaXMudXAgPSBvLnN5bWJvbCgidHJpYW5nbGUiLCAwLCAwLCBtLCBtKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJaS5zY3JvbGwoLTEsIHUpCgkJCQkJfSkuYWRkKGYpLCB0aGlzLnBhZ2VyID0gby50ZXh0KCIiLCAxNSwgMTApLmNzcyhoLnN0eWxlKS5hZGQoZiksIHRoaXMuZG93biA9IG8uc3ltYm9sKCJ0cmlhbmdsZS1kb3duIiwgMCwgMCwgbSwgbSkub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWkuc2Nyb2xsKDEsIHUpCgkJCQkJfSkuYWRkKGYpKSwgaS5zY3JvbGwoMCksIGUgPSBjKSA6IGYgJiYgKHAuYXR0cih7CgkJCQkJCWhlaWdodDogYS5jaGFydEhlaWdodAoJCQkJCX0pLCBmLmhpZGUoKSwgdGhpcy5zY3JvbGxHcm91cC5hdHRyKHsKCQkJCQkJdHJhbnNsYXRlWTogMQoJCQkJCX0pLCB0aGlzLmNsaXBIZWlnaHQgPSAwKSwgZQoJCQkJfSwKCQkJCXNjcm9sbDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpID0gdGhpcy5wYWdlcywKCQkJCQkJYSA9IGkubGVuZ3RoLAoJCQkJCQlvID0gdGhpcy5jdXJyZW50UGFnZSArIGUsCgkJCQkJCXIgPSB0aGlzLmNsaXBIZWlnaHQsCgkJCQkJCXMgPSB0aGlzLm9wdGlvbnMubmF2aWdhdGlvbiwKCQkJCQkJbCA9IHMuYWN0aXZlQ29sb3IsCgkJCQkJCWMgPSBzLmluYWN0aXZlQ29sb3IsCgkJCQkJCWQgPSB0aGlzLnBhZ2VyLAoJCQkJCQlwID0gdGhpcy5wYWRkaW5nOwoJCQkJCW8gPiBhICYmIChvID0gYSksIG8gPiAwICYmICh0ICE9PSBXICYmIHEodCwgdGhpcy5jaGFydCksIHRoaXMubmF2LmF0dHIoewoJCQkJCQl0cmFuc2xhdGVYOiBwLAoJCQkJCQl0cmFuc2xhdGVZOiByICsgdGhpcy5wYWRkaW5nICsgNyArIHRoaXMudGl0bGVIZWlnaHQsCgkJCQkJCXZpc2liaWxpdHk6IFZlCgkJCQkJfSksIHRoaXMudXAuYXR0cih7CgkJCQkJCWZpbGw6IDEgPT09IG8gPyBjIDogbAoJCQkJCX0pLmNzcyh7CgkJCQkJCWN1cnNvcjogMSA9PT0gbyA/ICJkZWZhdWx0IiA6ICJwb2ludGVyIgoJCQkJCX0pLCBkLmF0dHIoewoJCQkJCQl0ZXh0OiBvICsgIi8iICsgYQoJCQkJCX0pLCB0aGlzLmRvd24uYXR0cih7CgkJCQkJCXg6IDE4ICsgdGhpcy5wYWdlci5nZXRCQm94KCkud2lkdGgsCgkJCQkJCWZpbGw6IG8gPT09IGEgPyBjIDogbAoJCQkJCX0pLmNzcyh7CgkJCQkJCWN1cnNvcjogbyA9PT0gYSA/ICJkZWZhdWx0IiA6ICJwb2ludGVyIgoJCQkJCX0pLCBuID0gLWlbbyAtIDFdICsgdGhpcy5pbml0aWFsSXRlbVksIHRoaXMuc2Nyb2xsR3JvdXAuYW5pbWF0ZSh7CgkJCQkJCXRyYW5zbGF0ZVk6IG4KCQkJCQl9KSwgdGhpcy5jdXJyZW50UGFnZSA9IG8sIHRoaXMucG9zaXRpb25DaGVja2JveGVzKG4pKQoJCQkJfQoJCQl9OwoJCQl2YXIgVXQgPSBsdC5MZWdlbmRTeW1ib2xNaXhpbiA9IHsKCQkJCWRyYXdSZWN0YW5nbGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGUub3B0aW9ucy5zeW1ib2xIZWlnaHQgfHwgMTI7CgkJCQkJdC5sZWdlbmRTeW1ib2wgPSB0aGlzLmNoYXJ0LnJlbmRlcmVyLnJlY3QoMCwgZS5iYXNlbGluZSAtIDUgLSBuIC8gMiwgZS5zeW1ib2xXaWR0aCwgbiwgZS5vcHRpb25zLnN5bWJvbFJhZGl1cyB8fCAwKS5hdHRyKHsKCQkJCQkJekluZGV4OiAzCgkJCQkJfSkuYWRkKHQubGVnZW5kR3JvdXApCgkJCQl9LAoJCQkJZHJhd0xpbmVNYXJrZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSwgYSA9IHRoaXMub3B0aW9ucywKCQkJCQkJbyA9IGEubWFya2VyLAoJCQkJCQlyID0gZS5vcHRpb25zLAoJCQkJCQlzID0gZS5zeW1ib2xXaWR0aCwKCQkJCQkJbCA9IHRoaXMuY2hhcnQucmVuZGVyZXIsCgkJCQkJCWMgPSB0aGlzLmxlZ2VuZEdyb3VwLAoJCQkJCQlkID0gZS5iYXNlbGluZSAtIHhlKC4zICogbC5mb250TWV0cmljcyhyLml0ZW1TdHlsZS5mb250U2l6ZSwgdGhpcy5sZWdlbmRJdGVtKS5iKTsKCQkJCQlhLmxpbmVXaWR0aCAmJiAoaSA9IHsKCQkJCQkJInN0cm9rZS13aWR0aCI6IGEubGluZVdpZHRoCgkJCQkJfSwgYS5kYXNoU3R5bGUgJiYgKGkuZGFzaHN0eWxlID0gYS5kYXNoU3R5bGUpLCB0aGlzLmxlZ2VuZExpbmUgPSBsLnBhdGgoW2V0LCAwLCBkLCB0dCwgcywgZF0pLmF0dHIoaSkuYWRkKGMpKSwgbyAmJiBvLmVuYWJsZWQgIT09ICExICYmICh0ID0gby5yYWRpdXMsIHRoaXMubGVnZW5kU3ltYm9sID0gbiA9IGwuc3ltYm9sKHRoaXMuc3ltYm9sLCBzIC8gMiAtIHQsIGQgLSB0LCAyICogdCwgMiAqIHQpLmFkZChjKSwgbi5pc01hcmtlciA9ICEwKQoJCQkJfQoJCQl9OwoJCQkoL1RyaWRlbnRcLzdcLjAvLnRlc3QoU2UpIHx8IEFlKSAmJiBrKEh0LnByb3RvdHlwZSwgInBvc2l0aW9uSXRlbSIsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXZhciBuID0gdGhpcywKCQkJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkJCXQuX2xlZ2VuZEl0ZW1Qb3MgJiYgZS5jYWxsKG4sIHQpCgkJCQkJfTsKCQkJCWkoKSwgc2V0VGltZW91dChpKQoJCQl9KSwgRi5wcm90b3R5cGUgPSB7CgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSBlLnNlcmllczsKCQkJCQllLnNlcmllcyA9IG51bGwsIG4gPSBvKEcsIGUpLCBuLnNlcmllcyA9IGUuc2VyaWVzID0gaSwgdGhpcy51c2VyT3B0aW9ucyA9IGU7CgkJCQkJdmFyIGEgPSBuLmNoYXJ0OwoJCQkJCXRoaXMubWFyZ2luID0gdGhpcy5zcGxhc2hBcnJheSgibWFyZ2luIiwgYSksIHRoaXMuc3BhY2luZyA9IHRoaXMuc3BsYXNoQXJyYXkoInNwYWNpbmciLCBhKTsKCQkJCQl2YXIgciA9IGEuZXZlbnRzOwoJCQkJCXRoaXMuYm91bmRzID0gewoJCQkJCQloOiB7fSwKCQkJCQkJdjoge30KCQkJCQl9LCB0aGlzLmNhbGxiYWNrID0gdCwgdGhpcy5pc1Jlc2l6aW5nID0gMCwgdGhpcy5vcHRpb25zID0gbiwgdGhpcy5heGVzID0gW10sIHRoaXMuc2VyaWVzID0gW10sIHRoaXMuaGFzQ2FydGVzaWFuU2VyaWVzID0gYS5zaG93QXhlczsKCQkJCQl2YXIgcywgbCA9IHRoaXM7CgkJCQkJaWYgKGwuaW5kZXggPSAkZS5sZW5ndGgsICRlLnB1c2gobCksIFdlKyssIGEucmVmbG93ICE9PSAhMSAmJiB4dChsLCAibG9hZCIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsLmluaXRSZWZsb3coKQoJCQkJCX0pLCByKQoJCQkJCQlmb3IgKHMgaW4gcikgeHQobCwgcywgcltzXSk7CgkJCQkJbC54QXhpcyA9IFtdLCBsLnlBeGlzID0gW10sIGwuYW5pbWF0aW9uID0gRGUgPyAhMSA6IF8oYS5hbmltYXRpb24sICEwKSwgbC5wb2ludENvdW50ID0gbC5jb2xvckNvdW50ZXIgPSBsLnN5bWJvbENvdW50ZXIgPSAwLCBsLmZpcnN0UmVuZGVyKCkKCQkJCX0sCgkJCQlpbml0U2VyaWVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5vcHRpb25zLmNoYXJ0LAoJCQkJCQlhID0gZS50eXBlIHx8IGkudHlwZSB8fCBpLmRlZmF1bHRTZXJpZXNUeXBlLAoJCQkJCQlvID0gc3RbYV07CgkJCQkJcmV0dXJuIG8gfHwgSygxNywgITApLCB0ID0gbmV3IG8sIHQuaW5pdCh0aGlzLCBlKSwgdAoJCQkJfSwKCQkJCWlzSW5zaWRlUGxvdDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gbiA/IHQgOiBlLAoJCQkJCQlhID0gbiA/IGUgOiB0OwoJCQkJCXJldHVybiBpID49IDAgJiYgaSA8PSB0aGlzLnBsb3RXaWR0aCAmJiBhID49IDAgJiYgYSA8PSB0aGlzLnBsb3RIZWlnaHQKCQkJCX0sCgkJCQlhZGp1c3RUaWNrQW1vdW50czogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmNoYXJ0LmFsaWduVGlja3MgIT09ICExICYmIG10KHRoaXMuYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmFkanVzdFRpY2tBbW91bnQoKQoJCQkJCX0pLCB0aGlzLm1heFRpY2tzID0gbnVsbAoJCQkJfSwKCQkJCXJlZHJhdzogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBvID0gdGhpcywKCQkJCQkJciA9IG8uYXhlcywKCQkJCQkJcyA9IG8uc2VyaWVzLAoJCQkJCQlsID0gby5wb2ludGVyLAoJCQkJCQljID0gby5sZWdlbmQsCgkJCQkJCWQgPSBvLmlzRGlydHlMZWdlbmQsCgkJCQkJCXAgPSBvLmhhc0NhcnRlc2lhblNlcmllcywKCQkJCQkJaCA9IG8uaXNEaXJ0eUJveCwKCQkJCQkJdSA9IHMubGVuZ3RoLAoJCQkJCQltID0gdSwKCQkJCQkJZiA9IG8ucmVuZGVyZXIsCgkJCQkJCWcgPSBmLmlzSGlkZGVuKCksCgkJCQkJCV8gPSBbXTsKCQkJCQlmb3IgKHEoZSwgbyksIGcgJiYgby5jbG9uZVJlbmRlclRvKCksIG8ubGF5T3V0VGl0bGVzKCk7IG0tLTspCgkJCQkJCWlmIChpID0gc1ttXSwgaS5vcHRpb25zLnN0YWNraW5nICYmICh0ID0gITAsIGkuaXNEaXJ0eSkpIHsKCQkJCQkJCW4gPSAhMDsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQlpZiAobikKCQkJCQkJZm9yIChtID0gdTsgbS0tOykgaSA9IHNbbV0sIGkub3B0aW9ucy5zdGFja2luZyAmJiAoaS5pc0RpcnR5ID0gITApOwoJCQkJCW10KHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ICYmICJwb2ludCIgPT09IGUub3B0aW9ucy5sZWdlbmRUeXBlICYmIChkID0gITApCgkJCQkJfSksIGQgJiYgYy5vcHRpb25zLmVuYWJsZWQgJiYgKGMucmVuZGVyKCksIG8uaXNEaXJ0eUxlZ2VuZCA9ICExKSwgdCAmJiBvLmdldFN0YWNrcygpLCBwICYmIChvLmlzUmVzaXppbmcgfHwgKG8ubWF4VGlja3MgPSBudWxsLCBtdChyLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0U2NhbGUoKQoJCQkJCX0pKSwgby5hZGp1c3RUaWNrQW1vdW50cygpKSwgby5nZXRNYXJnaW5zKCksIHAgJiYgKG10KHIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ICYmIChoID0gITApCgkJCQkJfSksIG10KHIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5RXh0cmVtZXMgJiYgKGUuaXNEaXJ0eUV4dHJlbWVzID0gITEsIF8ucHVzaChmdW5jdGlvbigpIHsKCQkJCQkJCXZ0KGUsICJhZnRlclNldEV4dHJlbWVzIiwgYShlLmV2ZW50QXJncywgZS5nZXRFeHRyZW1lcygpKSksIGRlbGV0ZSBlLmV2ZW50QXJncwoJCQkJCQl9KSksIChoIHx8IHQpICYmIGUucmVkcmF3KCkKCQkJCQl9KSksIGggJiYgby5kcmF3Q2hhcnRCb3goKSwgbXQocywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgJiYgZS52aXNpYmxlICYmICghZS5pc0NhcnRlc2lhbiB8fCBlLnhBeGlzKSAmJiBlLnJlZHJhdygpCgkJCQkJfSksIGwgJiYgbC5yZXNldCghMCksIGYuZHJhdygpLCB2dChvLCAicmVkcmF3IiksIGcgJiYgby5jbG9uZVJlbmRlclRvKCEwKSwgbXQoXywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmNhbGwoKQoJCQkJCX0pCgkJCQl9LAoJCQkJZ2V0OiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEgPSB0aGlzLAoJCQkJCQlvID0gYS5heGVzLAoJCQkJCQlyID0gYS5zZXJpZXM7CgkJCQkJZm9yICh0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspCgkJCQkJCWlmIChvW3RdLm9wdGlvbnMuaWQgPT09IGUpIHJldHVybiBvW3RdOwoJCQkJCWZvciAodCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKQoJCQkJCQlpZiAoclt0XS5vcHRpb25zLmlkID09PSBlKSByZXR1cm4gclt0XTsKCQkJCQlmb3IgKHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykKCQkJCQkJZm9yIChpID0gclt0XS5wb2ludHMgfHwgW10sIG4gPSAwOyBuIDwgaS5sZW5ndGg7IG4rKykKCQkJCQkJCWlmIChpW25dLmlkID09PSBlKSByZXR1cm4gaVtuXTsKCQkJCQlyZXR1cm4gbnVsbAoJCQkJfSwKCQkJCWdldEF4ZXM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IHRoaXMub3B0aW9ucywKCQkJCQkJYSA9IGkueEF4aXMgPSBnKGkueEF4aXMgfHwge30pLAoJCQkJCQlvID0gaS55QXhpcyA9IGcoaS55QXhpcyB8fCB7fSk7CgkJCQkJbXQoYSwgZnVuY3Rpb24oZSwgdCkgewoJCQkJCQllLmluZGV4ID0gdCwgZS5pc1ggPSAhMAoJCQkJCX0pLCBtdChvLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCWUuaW5kZXggPSB0CgkJCQkJfSksIGUgPSBhLmNvbmNhdChvKSwgbXQoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQl0ID0gbmV3IFIobiwgZSkKCQkJCQl9KSwgbi5hZGp1c3RUaWNrQW1vdW50cygpCgkJCQl9LAoJCQkJZ2V0U2VsZWN0ZWRQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gW107CgkJCQkJcmV0dXJuIG10KHRoaXMuc2VyaWVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCWUgPSBlLmNvbmNhdChmdCh0LnBvaW50cyB8fCBbXSwgZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuc2VsZWN0ZWQKCQkJCQkJfSkpCgkJCQkJfSksIGUKCQkJCX0sCgkJCQlnZXRTZWxlY3RlZFNlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuIGZ0KHRoaXMuc2VyaWVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlLnNlbGVjdGVkCgkJCQkJfSkKCQkJCX0sCgkJCQlnZXRTdGFja3M6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQltdChlLnlBeGlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc3RhY2tzICYmIGUuaGFzVmlzaWJsZVNlcmllcyAmJiAoZS5vbGRTdGFja3MgPSBlLnN0YWNrcykKCQkJCQl9KSwgbXQoZS5zZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJIXQub3B0aW9ucy5zdGFja2luZyB8fCB0LnZpc2libGUgIT09ICEwICYmIGUub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMgIT09ICExIHx8ICh0LnN0YWNrS2V5ID0gdC50eXBlICsgXyh0Lm9wdGlvbnMuc3RhY2ssICIiKSkKCQkJCQl9KQoJCQkJfSwKCQkJCXNldFRpdGxlOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIHIgPSB0aGlzLAoJCQkJCQlzID0gci5vcHRpb25zOwoJCQkJCWkgPSBzLnRpdGxlID0gbyhzLnRpdGxlLCBlKSwgYSA9IHMuc3VidGl0bGUgPSBvKHMuc3VidGl0bGUsIHQpLCBtdChbCgkJCQkJCVsidGl0bGUiLCBlLCBpXSwKCQkJCQkJWyJzdWJ0aXRsZSIsIHQsIGFdCgkJCQkJXSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGVbMF0sCgkJCQkJCQluID0gclt0XSwKCQkJCQkJCWkgPSBlWzFdLAoJCQkJCQkJYSA9IGVbMl07CgkJCQkJCW4gJiYgaSAmJiAoclt0XSA9IG4gPSBuLmRlc3Ryb3koKSksIGEgJiYgYS50ZXh0ICYmICFuICYmIChyW3RdID0gci5yZW5kZXJlci50ZXh0KGEudGV4dCwgMCwgMCwgYS51c2VIVE1MKS5hdHRyKHsKCQkJCQkJCWFsaWduOiBhLmFsaWduLAoJCQkJCQkJImNsYXNzIjogWmUgKyB0LAoJCQkJCQkJekluZGV4OiBhLnpJbmRleCB8fCA0CgkJCQkJCX0pLmNzcyhhLnN0eWxlKS5hZGQoKSkKCQkJCQl9KSwgci5sYXlPdXRUaXRsZXMobikKCQkJCX0sCgkJCQlsYXlPdXRUaXRsZXM6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IDAsCgkJCQkJCWkgPSB0aGlzLnRpdGxlLAoJCQkJCQlvID0gdGhpcy5zdWJ0aXRsZSwKCQkJCQkJciA9IHRoaXMub3B0aW9ucywKCQkJCQkJcyA9IHIudGl0bGUsCgkJCQkJCWwgPSByLnN1YnRpdGxlLAoJCQkJCQljID0gdGhpcy5yZW5kZXJlciwKCQkJCQkJZCA9IHRoaXMuc3BhY2luZ0JveC53aWR0aCAtIDQ0OwoJCQkJCWkgJiYgKGkuY3NzKHsKCQkJCQkJd2lkdGg6IChzLndpZHRoIHx8IGQpICsgS2UKCQkJCQl9KS5hbGlnbihhKHsKCQkJCQkJeTogYy5mb250TWV0cmljcyhzLnN0eWxlLmZvbnRTaXplLCBpKS5iIC0gMwoJCQkJCX0sIHMpLCAhMSwgInNwYWNpbmdCb3giKSwgcy5mbG9hdGluZyB8fCBzLnZlcnRpY2FsQWxpZ24gfHwgKG4gPSBpLmdldEJCb3goKS5oZWlnaHQpKSwgbyAmJiAoby5jc3MoewoJCQkJCQl3aWR0aDogKGwud2lkdGggfHwgZCkgKyBLZQoJCQkJCX0pLmFsaWduKGEoewoJCQkJCQl5OiBuICsgKHMubWFyZ2luIC0gMTMpICsgYy5mb250TWV0cmljcyhzLnN0eWxlLmZvbnRTaXplLCBvKS5iCgkJCQkJfSwgbCksICExLCAic3BhY2luZ0JveCIpLCBsLmZsb2F0aW5nIHx8IGwudmVydGljYWxBbGlnbiB8fCAobiA9IHZlKG4gKyBvLmdldEJCb3goKS5oZWlnaHQpKSksIHQgPSB0aGlzLnRpdGxlT2Zmc2V0ICE9PSBuLCB0aGlzLnRpdGxlT2Zmc2V0ID0gbiwgIXRoaXMuaXNEaXJ0eUJveCAmJiB0ICYmICh0aGlzLmlzRGlydHlCb3ggPSB0LCB0aGlzLmhhc1JlbmRlcmVkICYmIF8oZSwgITApICYmIHRoaXMuaXNEaXJ0eUJveCAmJiB0aGlzLnJlZHJhdygpKQoJCQkJfSwKCQkJCWdldENoYXJ0U2l6ZTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLmNoYXJ0LAoJCQkJCQluID0gdC53aWR0aCwKCQkJCQkJaSA9IHQuaGVpZ2h0LAoJCQkJCQlhID0gZS5yZW5kZXJUb0Nsb25lIHx8IGUucmVuZGVyVG87CgkJCQkJbShuKSB8fCAoZS5jb250YWluZXJXaWR0aCA9IHB0KGEsICJ3aWR0aCIpKSwgbShpKSB8fCAoZS5jb250YWluZXJIZWlnaHQgPSBwdChhLCAiaGVpZ2h0IikpLCBlLmNoYXJ0V2lkdGggPSBiZSgwLCBuIHx8IGUuY29udGFpbmVyV2lkdGggfHwgNjAwKSwgZS5jaGFydEhlaWdodCA9IGJlKDAsIF8oaSwgZS5jb250YWluZXJIZWlnaHQgPiAxOSA/IGUuY29udGFpbmVySGVpZ2h0IDogNDAwKSkKCQkJCX0sCgkJCQljbG9uZVJlbmRlclRvOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLnJlbmRlclRvQ2xvbmUsCgkJCQkJCW4gPSB0aGlzLmNvbnRhaW5lcjsKCQkJCQllID8gdCAmJiAodGhpcy5yZW5kZXJUby5hcHBlbmRDaGlsZChuKSwgSSh0KSwgZGVsZXRlIHRoaXMucmVuZGVyVG9DbG9uZSkgOiAobiAmJiBuLnBhcmVudE5vZGUgPT09IHRoaXMucmVuZGVyVG8gJiYgdGhpcy5yZW5kZXJUby5yZW1vdmVDaGlsZChuKSwgdGhpcy5yZW5kZXJUb0Nsb25lID0gdCA9IHRoaXMucmVuZGVyVG8uY2xvbmVOb2RlKDApLCB4KHQsIHsKCQkJCQkJcG9zaXRpb246IEdlLAoJCQkJCQl0b3A6ICItOTk5OXB4IiwKCQkJCQkJZGlzcGxheTogImJsb2NrIgoJCQkJCX0pLCB0LnN0eWxlLnNldFByb3BlcnR5ICYmIHQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCAiYmxvY2siLCAiaW1wb3J0YW50IiksIGZlLmJvZHkuYXBwZW5kQ2hpbGQodCksIG4gJiYgdC5hcHBlbmRDaGlsZChuKSkKCQkJCX0sCgkJCQlnZXRDb250YWluZXI6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBvLCBsLCBjID0gdGhpcywKCQkJCQkJZCA9IGMub3B0aW9ucy5jaGFydCwKCQkJCQkJcCA9ICJkYXRhLWhpZ2hjaGFydHMtY2hhcnQiOwoJCQkJCWMucmVuZGVyVG8gPSBpID0gZC5yZW5kZXJUbywgbCA9IFplICsgUmUrKywgcyhpKSAmJiAoYy5yZW5kZXJUbyA9IGkgPSBmZS5nZXRFbGVtZW50QnlJZChpKSksIGkgfHwgSygxMywgITApLCBvID0gcihmKGksIHApKSwgIWlzTmFOKG8pICYmICRlW29dICYmICRlW29dLmhhc1JlbmRlcmVkICYmICRlW29dLmRlc3Ryb3koKSwgZihpLCBwLCBjLmluZGV4KSwgaS5pbm5lckhUTUwgPSAiIiwgZC5za2lwQ2xvbmUgfHwgaS5vZmZzZXRXaWR0aCB8fCBjLmNsb25lUmVuZGVyVG8oKSwgYy5nZXRDaGFydFNpemUoKSwgdCA9IGMuY2hhcnRXaWR0aCwgbiA9IGMuY2hhcnRIZWlnaHQsIGMuY29udGFpbmVyID0gZSA9IHcoWWUsIHsKCQkJCQkJY2xhc3NOYW1lOiBaZSArICJjb250YWluZXIiICsgKGQuY2xhc3NOYW1lID8gIiAiICsgZC5jbGFzc05hbWUgOiAiIiksCgkJCQkJCWlkOiBsCgkJCQkJfSwgYSh7CgkJCQkJCXBvc2l0aW9uOiBYZSwKCQkJCQkJb3ZlcmZsb3c6IEplLAoJCQkJCQl3aWR0aDogdCArIEtlLAoJCQkJCQloZWlnaHQ6IG4gKyBLZSwKCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCWxpbmVIZWlnaHQ6ICJub3JtYWwiLAoJCQkJCQl6SW5kZXg6IDAsCgkJCQkJCSItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IiOiAicmdiYSgwLDAsMCwwKSIKCQkJCQl9LCBkLnN0eWxlKSwgYy5yZW5kZXJUb0Nsb25lIHx8IGkpLCBjLl9jdXJzb3IgPSBlLnN0eWxlLmN1cnNvciwgYy5yZW5kZXJlciA9IGQuZm9yRXhwb3J0ID8gbmV3IFB0KGUsIHQsIG4sIGQuc3R5bGUsICEwKSA6IG5ldyBIKGUsIHQsIG4sIGQuc3R5bGUpLCBEZSAmJiBjLnJlbmRlcmVyLmNyZWF0ZShjLCBlLCB0LCBuKQoJCQkJfSwKCQkJCWdldE1hcmdpbnM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc3BhY2luZywKCQkJCQkJaSA9IHQubGVnZW5kLAoJCQkJCQlhID0gdC5tYXJnaW4sCgkJCQkJCW8gPSB0Lm9wdGlvbnMubGVnZW5kLAoJCQkJCQlyID0gXyhvLm1hcmdpbiwgMjApLAoJCQkJCQlzID0gby54LAoJCQkJCQlsID0gby55LAoJCQkJCQljID0gby5hbGlnbiwKCQkJCQkJZCA9IG8udmVydGljYWxBbGlnbiwKCQkJCQkJcCA9IHQudGl0bGVPZmZzZXQ7CgkJCQkJdC5yZXNldE1hcmdpbnMoKSwgZSA9IHQuYXhpc09mZnNldCwgcCAmJiAhbShhWzBdKSAmJiAodC5wbG90VG9wID0gYmUodC5wbG90VG9wLCBwICsgdC5vcHRpb25zLnRpdGxlLm1hcmdpbiArIG5bMF0pKSwgaS5kaXNwbGF5ICYmICFvLmZsb2F0aW5nICYmICgicmlnaHQiID09PSBjID8gbShhWzFdKSB8fCAodC5tYXJnaW5SaWdodCA9IGJlKHQubWFyZ2luUmlnaHQsIGkubGVnZW5kV2lkdGggLSBzICsgciArIG5bMV0pKSA6ICJsZWZ0IiA9PT0gYyA/IG0oYVszXSkgfHwgKHQucGxvdExlZnQgPSBiZSh0LnBsb3RMZWZ0LCBpLmxlZ2VuZFdpZHRoICsgcyArIHIgKyBuWzNdKSkgOiAidG9wIiA9PT0gZCA/IG0oYVswXSkgfHwgKHQucGxvdFRvcCA9IGJlKHQucGxvdFRvcCwgaS5sZWdlbmRIZWlnaHQgKyBsICsgciArIG5bMF0pKSA6ICJib3R0b20iID09PSBkICYmIChtKGFbMl0pIHx8ICh0Lm1hcmdpbkJvdHRvbSA9IGJlKHQubWFyZ2luQm90dG9tLCBpLmxlZ2VuZEhlaWdodCAtIGwgKyByICsgblsyXSkpKSksIHQuZXh0cmFCb3R0b21NYXJnaW4gJiYgKHQubWFyZ2luQm90dG9tICs9IHQuZXh0cmFCb3R0b21NYXJnaW4pLCB0LmV4dHJhVG9wTWFyZ2luICYmICh0LnBsb3RUb3AgKz0gdC5leHRyYVRvcE1hcmdpbiksIHQuaGFzQ2FydGVzaWFuU2VyaWVzICYmIG10KHQuYXhlcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmdldE9mZnNldCgpCgkJCQkJfSksIG0oYVszXSkgfHwgKHQucGxvdExlZnQgKz0gZVszXSksIG0oYVswXSkgfHwgKHQucGxvdFRvcCArPSBlWzBdKSwgbShhWzJdKSB8fCAodC5tYXJnaW5Cb3R0b20gKz0gZVsyXSksIG0oYVsxXSkgfHwgKHQubWFyZ2luUmlnaHQgKz0gZVsxXSksIHQuc2V0Q2hhcnRTaXplKCkKCQkJCX0sCgkJCQlyZWZsb3c6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSB0Lm9wdGlvbnMuY2hhcnQsCgkJCQkJCWkgPSB0LnJlbmRlclRvLAoJCQkJCQlhID0gbi53aWR0aCB8fCBwdChpLCAid2lkdGgiKSwKCQkJCQkJbyA9IG4uaGVpZ2h0IHx8IHB0KGksICJoZWlnaHQiKSwKCQkJCQkJciA9IGUgPyBlLnRhcmdldCA6IGdlLAoJCQkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmNvbnRhaW5lciAmJiAodC5zZXRTaXplKGEsIG8sICExKSwgdC5oYXNVc2VyU2l6ZSA9IG51bGwpCgkJCQkJCX07CgkJCQkJdC5oYXNVc2VyU2l6ZSB8fCAhYSB8fCAhbyB8fCByICE9PSBnZSAmJiByICE9PSBmZSB8fCAoKGEgIT09IHQuY29udGFpbmVyV2lkdGggfHwgbyAhPT0gdC5jb250YWluZXJIZWlnaHQpICYmIChjbGVhclRpbWVvdXQodC5yZWZsb3dUaW1lb3V0KSwgZSA/IHQucmVmbG93VGltZW91dCA9IHNldFRpbWVvdXQocywgMTAwKSA6IHMoKSksIHQuY29udGFpbmVyV2lkdGggPSBhLCB0LmNvbnRhaW5lckhlaWdodCA9IG8pCgkJCQl9LAoJCQkJaW5pdFJlZmxvdzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZnVuY3Rpb24odCkgewoJCQkJCQkJZS5yZWZsb3codCkKCQkJCQkJfTsKCQkJCQl4dChnZSwgInJlc2l6ZSIsIHQpLCB4dChlLCAiZGVzdHJveSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl3dChnZSwgInJlc2l6ZSIsIHQpCgkJCQkJfSkKCQkJCX0sCgkJCQlzZXRTaXplOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEsIG8sIHIgPSB0aGlzOwoJCQkJCXIuaXNSZXNpemluZyArPSAxLCBvID0gZnVuY3Rpb24oKSB7CgkJCQkJCXIgJiYgdnQociwgImVuZFJlc2l6ZSIsIG51bGwsIGZ1bmN0aW9uKCkgewoJCQkJCQkJci5pc1Jlc2l6aW5nIC09IDEKCQkJCQkJfSkKCQkJCQl9LCBxKG4sIHIpLCByLm9sZENoYXJ0SGVpZ2h0ID0gci5jaGFydEhlaWdodCwgci5vbGRDaGFydFdpZHRoID0gci5jaGFydFdpZHRoLCBtKGUpICYmIChyLmNoYXJ0V2lkdGggPSBpID0gYmUoMCwgeGUoZSkpLCByLmhhc1VzZXJTaXplID0gISFpKSwgbSh0KSAmJiAoci5jaGFydEhlaWdodCA9IGEgPSBiZSgwLCB4ZSh0KSkpLCAoSiA/IHl0IDogeCkoci5jb250YWluZXIsIHsKCQkJCQkJd2lkdGg6IGkgKyBLZSwKCQkJCQkJaGVpZ2h0OiBhICsgS2UKCQkJCQl9LCBKKSwgci5zZXRDaGFydFNpemUoITApLCByLnJlbmRlcmVyLnNldFNpemUoaSwgYSwgbiksIHIubWF4VGlja3MgPSBudWxsLCBtdChyLmF4ZXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5pc0RpcnR5ID0gITAsIGUuc2V0U2NhbGUoKQoJCQkJCX0pLCBtdChyLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLmlzRGlydHkgPSAhMAoJCQkJCX0pLCByLmlzRGlydHlMZWdlbmQgPSAhMCwgci5pc0RpcnR5Qm94ID0gITAsIHIubGF5T3V0VGl0bGVzKCksIHIuZ2V0TWFyZ2lucygpLCByLnJlZHJhdyhuKSwgci5vbGRDaGFydEhlaWdodCA9IG51bGwsIHZ0KHIsICJyZXNpemUiKSwgSiA9PT0gITEgPyBvKCkgOiBzZXRUaW1lb3V0KG8sIEogJiYgSi5kdXJhdGlvbiB8fCA1MDApCgkJCQl9LAoJCQkJc2V0Q2hhcnRTaXplOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQljID0gbC5pbnZlcnRlZCwKCQkJCQkJZCA9IGwucmVuZGVyZXIsCgkJCQkJCXAgPSBsLmNoYXJ0V2lkdGgsCgkJCQkJCWggPSBsLmNoYXJ0SGVpZ2h0LAoJCQkJCQl1ID0gbC5vcHRpb25zLmNoYXJ0LAoJCQkJCQltID0gbC5zcGFjaW5nLAoJCQkJCQlmID0gbC5jbGlwT2Zmc2V0OwoJCQkJCWwucGxvdExlZnQgPSBpID0geGUobC5wbG90TGVmdCksIGwucGxvdFRvcCA9IGEgPSB4ZShsLnBsb3RUb3ApLCBsLnBsb3RXaWR0aCA9IG8gPSBiZSgwLCB4ZShwIC0gaSAtIGwubWFyZ2luUmlnaHQpKSwgbC5wbG90SGVpZ2h0ID0gciA9IGJlKDAsIHhlKGggLSBhIC0gbC5tYXJnaW5Cb3R0b20pKSwgbC5wbG90U2l6ZVggPSBjID8gciA6IG8sIGwucGxvdFNpemVZID0gYyA/IG8gOiByLCBsLnBsb3RCb3JkZXJXaWR0aCA9IHUucGxvdEJvcmRlcldpZHRoIHx8IDAsIGwuc3BhY2luZ0JveCA9IGQuc3BhY2luZ0JveCA9IHsKCQkJCQkJeDogbVszXSwKCQkJCQkJeTogbVswXSwKCQkJCQkJd2lkdGg6IHAgLSBtWzNdIC0gbVsxXSwKCQkJCQkJaGVpZ2h0OiBoIC0gbVswXSAtIG1bMl0KCQkJCQl9LCBsLnBsb3RCb3ggPSBkLnBsb3RCb3ggPSB7CgkJCQkJCXg6IGksCgkJCQkJCXk6IGEsCgkJCQkJCXdpZHRoOiBvLAoJCQkJCQloZWlnaHQ6IHIKCQkJCQl9LCBzID0gMiAqIHdlKGwucGxvdEJvcmRlcldpZHRoIC8gMiksIHQgPSB2ZShiZShzLCBmWzNdKSAvIDIpLCBuID0gdmUoYmUocywgZlswXSkgLyAyKSwgbC5jbGlwQm94ID0gewoJCQkJCQl4OiB0LAoJCQkJCQl5OiBuLAoJCQkJCQl3aWR0aDogd2UobC5wbG90U2l6ZVggLSBiZShzLCBmWzFdKSAvIDIgLSB0KSwKCQkJCQkJaGVpZ2h0OiBiZSgwLCB3ZShsLnBsb3RTaXplWSAtIGJlKHMsIGZbMl0pIC8gMiAtIG4pKQoJCQkJCX0sIGUgfHwgbXQobC5heGVzLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0QXhpc1NpemUoKSwgZS5zZXRBeGlzVHJhbnNsYXRpb24oKQoJCQkJCX0pCgkJCQl9LAoJCQkJcmVzZXRNYXJnaW5zOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLnNwYWNpbmcsCgkJCQkJCW4gPSBlLm1hcmdpbjsKCQkJCQllLnBsb3RUb3AgPSBfKG5bMF0sIHRbMF0pLCBlLm1hcmdpblJpZ2h0ID0gXyhuWzFdLCB0WzFdKSwgZS5tYXJnaW5Cb3R0b20gPSBfKG5bMl0sIHRbMl0pLCBlLnBsb3RMZWZ0ID0gXyhuWzNdLCB0WzNdKSwgZS5heGlzT2Zmc2V0ID0gWzAsIDAsIDAsIDBdLCBlLmNsaXBPZmZzZXQgPSBbMCwgMCwgMCwgMF0KCQkJCX0sCgkJCQlkcmF3Q2hhcnRCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IG4ub3B0aW9ucy5jaGFydCwKCQkJCQkJYSA9IG4ucmVuZGVyZXIsCgkJCQkJCW8gPSBuLmNoYXJ0V2lkdGgsCgkJCQkJCXIgPSBuLmNoYXJ0SGVpZ2h0LAoJCQkJCQlzID0gbi5jaGFydEJhY2tncm91bmQsCgkJCQkJCWwgPSBuLnBsb3RCYWNrZ3JvdW5kLAoJCQkJCQljID0gbi5wbG90Qm9yZGVyLAoJCQkJCQlkID0gbi5wbG90QkdJbWFnZSwKCQkJCQkJcCA9IGkuYm9yZGVyV2lkdGggfHwgMCwKCQkJCQkJaCA9IGkuYmFja2dyb3VuZENvbG9yLAoJCQkJCQl1ID0gaS5wbG90QmFja2dyb3VuZENvbG9yLAoJCQkJCQltID0gaS5wbG90QmFja2dyb3VuZEltYWdlLAoJCQkJCQlmID0gaS5wbG90Qm9yZGVyV2lkdGggfHwgMCwKCQkJCQkJZyA9IG4ucGxvdExlZnQsCgkJCQkJCV8gPSBuLnBsb3RUb3AsCgkJCQkJCXggPSBuLnBsb3RXaWR0aCwKCQkJCQkJdyA9IG4ucGxvdEhlaWdodCwKCQkJCQkJdiA9IG4ucGxvdEJveCwKCQkJCQkJYiA9IG4uY2xpcFJlY3QsCgkJCQkJCXkgPSBuLmNsaXBCb3g7CgkJCQkJZSA9IHAgKyAoaS5zaGFkb3cgPyA4IDogMCksIChwIHx8IGgpICYmIChzID8gcy5hbmltYXRlKHMuY3Jpc3AoewoJCQkJCQl3aWR0aDogbyAtIGUsCgkJCQkJCWhlaWdodDogciAtIGUKCQkJCQl9KSkgOiAodCA9IHsKCQkJCQkJZmlsbDogaCB8fCBRZQoJCQkJCX0sIHAgJiYgKHQuc3Ryb2tlID0gaS5ib3JkZXJDb2xvciwgdFsic3Ryb2tlLXdpZHRoIl0gPSBwKSwgbi5jaGFydEJhY2tncm91bmQgPSBhLnJlY3QoZSAvIDIsIGUgLyAyLCBvIC0gZSwgciAtIGUsIGkuYm9yZGVyUmFkaXVzLCBwKS5hdHRyKHQpLmFkZENsYXNzKFplICsgImJhY2tncm91bmQiKS5hZGQoKS5zaGFkb3coaS5zaGFkb3cpKSksIHUgJiYgKGwgPyBsLmFuaW1hdGUodikgOiBuLnBsb3RCYWNrZ3JvdW5kID0gYS5yZWN0KGcsIF8sIHgsIHcsIDApLmF0dHIoewoJCQkJCQlmaWxsOiB1CgkJCQkJfSkuYWRkKCkuc2hhZG93KGkucGxvdFNoYWRvdykpLCBtICYmIChkID8gZC5hbmltYXRlKHYpIDogbi5wbG90QkdJbWFnZSA9IGEuaW1hZ2UobSwgZywgXywgeCwgdykuYWRkKCkpLCBiID8gYi5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHkud2lkdGgsCgkJCQkJCWhlaWdodDogeS5oZWlnaHQKCQkJCQl9KSA6IG4uY2xpcFJlY3QgPSBhLmNsaXBSZWN0KHkpLCBmICYmIChjID8gYy5hbmltYXRlKGMuY3Jpc3AoewoJCQkJCQl4OiBnLAoJCQkJCQl5OiBfLAoJCQkJCQl3aWR0aDogeCwKCQkJCQkJaGVpZ2h0OiB3LAoJCQkJCQlzdHJva2VXaWR0aDogLWYKCQkJCQl9KSkgOiBuLnBsb3RCb3JkZXIgPSBhLnJlY3QoZywgXywgeCwgdywgMCwgLWYpLmF0dHIoewoJCQkJCQlzdHJva2U6IGkucGxvdEJvcmRlckNvbG9yLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogZiwKCQkJCQkJZmlsbDogUWUsCgkJCQkJCXpJbmRleDogMQoJCQkJCX0pLmFkZCgpKSwgbi5pc0RpcnR5Qm94ID0gITEKCQkJCX0sCgkJCQlwcm9wRnJvbVNlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5vcHRpb25zLmNoYXJ0LAoJCQkJCQlvID0gaS5vcHRpb25zLnNlcmllczsKCQkJCQltdChbImludmVydGVkIiwgImFuZ3VsYXIiLCAicG9sYXIiXSwgZnVuY3Rpb24ocikgewoJCQkJCQlmb3IgKGUgPSBzdFthLnR5cGUgfHwgYS5kZWZhdWx0U2VyaWVzVHlwZV0sIG4gPSBpW3JdIHx8IGFbcl0gfHwgZSAmJiBlLnByb3RvdHlwZVtyXSwgdCA9IG8gJiYgby5sZW5ndGg7ICFuICYmIHQtLTspIGUgPSBzdFtvW3RdLnR5cGVdLCBlICYmIGUucHJvdG90eXBlW3JdICYmIChuID0gITApOwoJCQkJCQlpW3JdID0gbgoJCQkJCX0pCgkJCQl9LAoJCQkJbGlua1NlcmllczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5zZXJpZXM7CgkJCQkJbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLmxpbmtlZFNlcmllcy5sZW5ndGggPSAwCgkJCQkJfSksIG10KHQsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIG4gPSB0Lm9wdGlvbnMubGlua2VkVG87CgkJCQkJCXMobikgJiYgKG4gPSAiOnByZXZpb3VzIiA9PT0gbiA/IGUuc2VyaWVzW3QuaW5kZXggLSAxXSA6IGUuZ2V0KG4pLCBuICYmIChuLmxpbmtlZFNlcmllcy5wdXNoKHQpLCB0LmxpbmtlZFBhcmVudCA9IG4pKQoJCQkJCX0pCgkJCQl9LAoJCQkJcmVuZGVyU2VyaWVzOiBmdW5jdGlvbigpIHsKCQkJCQltdCh0aGlzLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnRyYW5zbGF0ZSgpLCBlLnNldFRvb2x0aXBQb2ludHMgJiYgZS5zZXRUb29sdGlwUG9pbnRzKCksIGUucmVuZGVyKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXJlbmRlckxhYmVsczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLmxhYmVsczsKCQkJCQl0Lml0ZW1zICYmIG10KHQuaXRlbXMsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJdmFyIGkgPSBhKHQuc3R5bGUsIG4uc3R5bGUpLAoJCQkJCQkJbyA9IHIoaS5sZWZ0KSArIGUucGxvdExlZnQsCgkJCQkJCQlzID0gcihpLnRvcCkgKyBlLnBsb3RUb3AgKyAxMjsKCQkJCQkJZGVsZXRlIGkubGVmdCwgZGVsZXRlIGkudG9wLCBlLnJlbmRlcmVyLnRleHQobi5odG1sLCBvLCBzKS5hdHRyKHsKCQkJCQkJCXpJbmRleDogMgoJCQkJCQl9KS5jc3MoaSkuYWRkKCkKCQkJCQl9KQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5heGVzLAoJCQkJCQluID0gZS5yZW5kZXJlciwKCQkJCQkJaSA9IGUub3B0aW9uczsKCQkJCQllLnNldFRpdGxlKCksIGUubGVnZW5kID0gbmV3IEh0KGUsIGkubGVnZW5kKSwgZS5nZXRTdGFja3MoKSwgbXQodCwgZnVuY3Rpb24oZSkgewoJCQkJCQllLnNldFNjYWxlKCkKCQkJCQl9KSwgZS5nZXRNYXJnaW5zKCksIGUubWF4VGlja3MgPSBudWxsLCBtdCh0LCBmdW5jdGlvbihlKSB7CgkJCQkJCWUuc2V0VGlja1Bvc2l0aW9ucyghMCksIGUuc2V0TWF4VGlja3MoKQoJCQkJCX0pLCBlLmFkanVzdFRpY2tBbW91bnRzKCksIGUuZ2V0TWFyZ2lucygpLCBlLmRyYXdDaGFydEJveCgpLCBlLmhhc0NhcnRlc2lhblNlcmllcyAmJiBtdCh0LCBmdW5jdGlvbihlKSB7CgkJCQkJCWUucmVuZGVyKCkKCQkJCQl9KSwgZS5zZXJpZXNHcm91cCB8fCAoZS5zZXJpZXNHcm91cCA9IG4uZygic2VyaWVzLWdyb3VwIikuYXR0cih7CgkJCQkJCXpJbmRleDogMwoJCQkJCX0pLmFkZCgpKSwgZS5yZW5kZXJTZXJpZXMoKSwgZS5yZW5kZXJMYWJlbHMoKSwgZS5zaG93Q3JlZGl0cyhpLmNyZWRpdHMpLCBlLmhhc1JlbmRlcmVkID0gITAKCQkJCX0sCgkJCQlzaG93Q3JlZGl0czogZnVuY3Rpb24oZSkgewoJCQkJCWUuZW5hYmxlZCAmJiAhdGhpcy5jcmVkaXRzICYmICh0aGlzLmNyZWRpdHMgPSB0aGlzLnJlbmRlcmVyLnRleHQoZS50ZXh0LCAwLCAwKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJZS5ocmVmICYmIChsb2NhdGlvbi5ocmVmID0gZS5ocmVmKQoJCQkJCX0pLmF0dHIoewoJCQkJCQlhbGlnbjogZS5wb3NpdGlvbi5hbGlnbiwKCQkJCQkJekluZGV4OiA4CgkJCQkJfSkuY3NzKGUuc3R5bGUpLmFkZCgpLmFsaWduKGUucG9zaXRpb24pKQoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuYXhlcywKCQkJCQkJaSA9IHQuc2VyaWVzLAoJCQkJCQlhID0gdC5jb250YWluZXIsCgkJCQkJCW8gPSBhICYmIGEucGFyZW50Tm9kZTsKCQkJCQlmb3IgKHZ0KHQsICJkZXN0cm95IiksICRlW3QuaW5kZXhdID0gVywgV2UtLSwgdC5yZW5kZXJUby5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtaGlnaGNoYXJ0cy1jaGFydCIpLCB3dCh0KSwgZSA9IG4ubGVuZ3RoOyBlLS07KSBuW2VdID0gbltlXS5kZXN0cm95KCk7CgkJCQkJZm9yIChlID0gaS5sZW5ndGg7IGUtLTspIGlbZV0gPSBpW2VdLmRlc3Ryb3koKTsKCQkJCQltdChbInRpdGxlIiwgInN1YnRpdGxlIiwgImNoYXJ0QmFja2dyb3VuZCIsICJwbG90QmFja2dyb3VuZCIsICJwbG90QkdJbWFnZSIsICJwbG90Qm9yZGVyIiwgInNlcmllc0dyb3VwIiwgImNsaXBSZWN0IiwgImNyZWRpdHMiLCAicG9pbnRlciIsICJzY3JvbGxlciIsICJyYW5nZVNlbGVjdG9yIiwgImxlZ2VuZCIsICJyZXNldFpvb21CdXR0b24iLCAidG9vbHRpcCIsICJyZW5kZXJlciJdLCBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciBuID0gdFtlXTsKCQkJCQkJbiAmJiBuLmRlc3Ryb3kgJiYgKHRbZV0gPSBuLmRlc3Ryb3koKSkKCQkJCQl9KSwgYSAmJiAoYS5pbm5lckhUTUwgPSAiIiwgd3QoYSksIG8gJiYgSShhKSk7CgkJCQkJZm9yIChlIGluIHQpIGRlbGV0ZSB0W2VdCgkJCQl9LAoJCQkJaXNSZWFkeVRvUmVuZGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJcmV0dXJuICFPZSAmJiBnZSA9PSBnZS50b3AgJiYgImNvbXBsZXRlIiAhPT0gZmUucmVhZHlTdGF0ZSB8fCBEZSAmJiAhZ2UuY2FudmcgPyAoRGUgPyBPdC5wdXNoKGZ1bmN0aW9uKCkgewoJCQkJCQllLmZpcnN0UmVuZGVyKCkKCQkJCQl9LCBlLm9wdGlvbnMuZ2xvYmFsLmNhbnZhc1Rvb2xzVVJMKSA6IGZlLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKCQkJCQkJZmUuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGUuZmlyc3RSZW5kZXIpLCAiY29tcGxldGUiID09PSBmZS5yZWFkeVN0YXRlICYmIGUuZmlyc3RSZW5kZXIoKQoJCQkJCX0pLCAhMSkgOiAhMAoJCQkJfSwKCQkJCWZpcnN0UmVuZGVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLm9wdGlvbnMsCgkJCQkJCW4gPSBlLmNhbGxiYWNrOwoJCQkJCWUuaXNSZWFkeVRvUmVuZGVyKCkgJiYgKGUuZ2V0Q29udGFpbmVyKCksIHZ0KGUsICJpbml0IiksIGUucmVzZXRNYXJnaW5zKCksIGUuc2V0Q2hhcnRTaXplKCksIGUucHJvcEZyb21TZXJpZXMoKSwgZS5nZXRBeGVzKCksIG10KHQuc2VyaWVzIHx8IFtdLCBmdW5jdGlvbih0KSB7CgkJCQkJCWUuaW5pdFNlcmllcyh0KQoJCQkJCX0pLCBlLmxpbmtTZXJpZXMoKSwgdnQoZSwgImJlZm9yZVJlbmRlciIpLCBsdC5Qb2ludGVyICYmIChlLnBvaW50ZXIgPSBuZXcgTXQoZSwgdCkpLCBlLnJlbmRlcigpLCBlLnJlbmRlcmVyLmRyYXcoKSwgbiAmJiBuLmFwcGx5KGUsIFtlXSksIG10KGUuY2FsbGJhY2tzLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQuYXBwbHkoZSwgW2VdKQoJCQkJCX0pLCBlLmNsb25lUmVuZGVyVG8oITApLCB2dChlLCAibG9hZCIpKQoJCQkJfSwKCQkJCXNwbGFzaEFycmF5OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSB0W2VdLAoJCQkJCQlpID0gbChuKSA/IG4gOiBbbiwgbiwgbiwgbl07CgkJCQkJcmV0dXJuIFtfKHRbZSArICJUb3AiXSwgaVswXSksIF8odFtlICsgIlJpZ2h0Il0sIGlbMV0pLCBfKHRbZSArICJCb3R0b20iXSwgaVsyXSksIF8odFtlICsgIkxlZnQiXSwgaVszXSldCgkJCQl9CgkJCX0sIEYucHJvdG90eXBlLmNhbGxiYWNrcyA9IFtdOwoJCQl2YXIgWXQgPSBsdC5DZW50ZXJlZFNlcmllc01peGluID0gewoJCQkJCWdldENlbnRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0LCBuID0gdGhpcy5vcHRpb25zLAoJCQkJCQkJaSA9IHRoaXMuY2hhcnQsCgkJCQkJCQlhID0gMiAqIChuLnNsaWNlZE9mZnNldCB8fCAwKSwKCQkJCQkJCW8gPSBpLnBsb3RXaWR0aCAtIDIgKiBhLAoJCQkJCQkJcyA9IGkucGxvdEhlaWdodCAtIDIgKiBhLAoJCQkJCQkJbCA9IG4uY2VudGVyLAoJCQkJCQkJYyA9IFtfKGxbMF0sICI1MCUiKSwgXyhsWzFdLCAiNTAlIiksIG4uc2l6ZSB8fCAiMTAwJSIsIG4uaW5uZXJTaXplIHx8IDBdLAoJCQkJCQkJZCA9IHllKG8sIHMpOwoJCQkJCQlyZXR1cm4gX3QoYywgZnVuY3Rpb24obiwgaSkgewoJCQkJCQkJcmV0dXJuIHQgPSAvJSQvLnRlc3QobiksIGUgPSAyID4gaSB8fCAyID09PSBpICYmIHQsICh0ID8gW28sIHMsIGQsIGRdW2ldICogcihuKSAvIDEwMCA6IG4pICsgKGUgPyBhIDogMCkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LAoJCQkJR3QgPSBmdW5jdGlvbigpIHt9OwoJCQlHdC5wcm90b3R5cGUgPSB7CgkJCQlpbml0OiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJdmFyIGksIGEgPSB0aGlzOwoJCQkJCXJldHVybiBhLnNlcmllcyA9IGUsIGEuYXBwbHlPcHRpb25zKHQsIG4pLCBhLnBvaW50QXR0ciA9IHt9LCBlLm9wdGlvbnMuY29sb3JCeVBvaW50ICYmIChpID0gZS5vcHRpb25zLmNvbG9ycyB8fCBlLmNoYXJ0Lm9wdGlvbnMuY29sb3JzLCBhLmNvbG9yID0gYS5jb2xvciB8fCBpW2UuY29sb3JDb3VudGVyKytdLCBlLmNvbG9yQ291bnRlciA9PT0gaS5sZW5ndGggJiYgKGUuY29sb3JDb3VudGVyID0gMCkpLCBlLmNoYXJ0LnBvaW50Q291bnQrKywgYQoJCQkJfSwKCQkJCWFwcGx5T3B0aW9uczogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uc2VyaWVzLAoJCQkJCQlvID0gaS5vcHRpb25zLnBvaW50VmFsS2V5IHx8IGkucG9pbnRWYWxLZXk7CgkJCQkJcmV0dXJuIGUgPSBHdC5wcm90b3R5cGUub3B0aW9uc1RvT2JqZWN0LmNhbGwodGhpcywgZSksIGEobiwgZSksIG4ub3B0aW9ucyA9IG4ub3B0aW9ucyA/IGEobi5vcHRpb25zLCBlKSA6IGUsIG8gJiYgKG4ueSA9IG5bb10pLCBuLnggPT09IFcgJiYgaSAmJiAobi54ID0gdCA9PT0gVyA/IGkuYXV0b0luY3JlbWVudCgpIDogdCksIG4KCQkJCX0sCgkJCQlvcHRpb25zVG9PYmplY3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHt9LAoJCQkJCQlpID0gdGhpcy5zZXJpZXMsCgkJCQkJCWEgPSBpLnBvaW50QXJyYXlNYXAgfHwgWyJ5Il0sCgkJCQkJCW8gPSBhLmxlbmd0aCwKCQkJCQkJciA9IDAsCgkJCQkJCXMgPSAwOwoJCQkJCWlmICgibnVtYmVyIiA9PSB0eXBlb2YgZSB8fCBudWxsID09PSBlKSBuW2FbMF1dID0gZTsKCQkJCQllbHNlIGlmIChjKGUpKQoJCQkJCQlmb3IgKGUubGVuZ3RoID4gbyAmJiAodCA9IHR5cGVvZiBlWzBdLCAic3RyaW5nIiA9PT0gdCA/IG4ubmFtZSA9IGVbMF0gOiAibnVtYmVyIiA9PT0gdCAmJiAobi54ID0gZVswXSksIHIrKyk7IG8gPiBzOykgblthW3MrK11dID0gZVtyKytdOwoJCQkJCWVsc2UgIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgKG4gPSBlLCBlLmRhdGFMYWJlbHMgJiYgKGkuX2hhc1BvaW50TGFiZWxzID0gITApLCBlLm1hcmtlciAmJiAoaS5faGFzUG9pbnRNYXJrZXJzID0gITApKTsKCQkJCQlyZXR1cm4gbgoJCQkJfSwKCQkJCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc2VyaWVzLAoJCQkJCQlpID0gbi5jaGFydCwKCQkJCQkJYSA9IGkuaG92ZXJQb2ludHM7CgkJCQkJaS5wb2ludENvdW50LS0sIGEgJiYgKHQuc2V0U3RhdGUoKSwgdShhLCB0KSwgYS5sZW5ndGggfHwgKGkuaG92ZXJQb2ludHMgPSBudWxsKSksIHQgPT09IGkuaG92ZXJQb2ludCAmJiB0Lm9uTW91c2VPdXQoKSwgKHQuZ3JhcGhpYyB8fCB0LmRhdGFMYWJlbCkgJiYgKHd0KHQpLCB0LmRlc3Ryb3lFbGVtZW50cygpKSwgdC5sZWdlbmRJdGVtICYmIGkubGVnZW5kLmRlc3Ryb3lJdGVtKHQpOwoJCQkJCWZvciAoZSBpbiB0KSB0W2VdID0gbnVsbAoJCQkJfSwKCQkJCWRlc3Ryb3lFbGVtZW50czogZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSwgdCA9IHRoaXMsIG4gPSBbImdyYXBoaWMiLCAiZGF0YUxhYmVsIiwgImRhdGFMYWJlbFVwcGVyIiwgImdyb3VwIiwgImNvbm5lY3RvciIsICJzaGFkb3dHcm91cCJdLCBpID0gNjsgaS0tOykgZSA9IG5baV0sIHRbZV0gJiYgKHRbZV0gPSB0W2VdLmRlc3Ryb3koKSkKCQkJCX0sCgkJCQlnZXRMYWJlbENvbmZpZzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXJldHVybiB7CgkJCQkJCXg6IGUuY2F0ZWdvcnksCgkJCQkJCXk6IGUueSwKCQkJCQkJa2V5OiBlLm5hbWUgfHwgZS5jYXRlZ29yeSwKCQkJCQkJc2VyaWVzOiBlLnNlcmllcywKCQkJCQkJcG9pbnQ6IGUsCgkJCQkJCXBlcmNlbnRhZ2U6IGUucGVyY2VudGFnZSwKCQkJCQkJdG90YWw6IGUudG90YWwgfHwgZS5zdGFja1RvdGFsCgkJCQkJfQoJCQkJfSwKCQkJCXRvb2x0aXBGb3JtYXR0ZXI6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMuc2VyaWVzLAoJCQkJCQluID0gdC50b29sdGlwT3B0aW9ucywKCQkJCQkJaSA9IF8obi52YWx1ZURlY2ltYWxzLCAiIiksCgkJCQkJCWEgPSBuLnZhbHVlUHJlZml4IHx8ICIiLAoJCQkJCQlvID0gbi52YWx1ZVN1ZmZpeCB8fCAiIjsKCQkJCQlyZXR1cm4gbXQodC5wb2ludEFycmF5TWFwIHx8IFsieSJdLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQgPSAie3BvaW50LiIgKyB0LCAoYSB8fCBvKSAmJiAoZSA9IGUucmVwbGFjZSh0ICsgIn0iLCBhICsgdCArICJ9IiArIG8pKSwgZSA9IGUucmVwbGFjZSh0ICsgIn0iLCB0ICsgIjosLiIgKyBpICsgImZ9IikKCQkJCQl9KSwgQihlLCB7CgkJCQkJCXBvaW50OiB0aGlzLAoJCQkJCQlzZXJpZXM6IHRoaXMuc2VyaWVzCgkJCQkJfSkKCQkJCX0sCgkJCQlmaXJlUG9pbnRFdmVudDogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpID0gdGhpcywKCQkJCQkJYSA9IHRoaXMuc2VyaWVzLAoJCQkJCQlvID0gYS5vcHRpb25zOwoJCQkJCShvLnBvaW50LmV2ZW50c1tlXSB8fCBpLm9wdGlvbnMgJiYgaS5vcHRpb25zLmV2ZW50cyAmJiBpLm9wdGlvbnMuZXZlbnRzW2VdKSAmJiB0aGlzLmltcG9ydEV2ZW50cygpLCAiY2xpY2siID09PSBlICYmIG8uYWxsb3dQb2ludFNlbGVjdCAmJiAobiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaS5zZWxlY3QobnVsbCwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5KQoJCQkJCX0pLCB2dCh0aGlzLCBlLCB0LCBuKQoJCQkJfQoJCQl9OwoJCQl2YXIgWHQgPSBmdW5jdGlvbigpIHt9OwoJCQlYdC5wcm90b3R5cGUgPSB7CgkJCQlpc0NhcnRlc2lhbjogITAsCgkJCQl0eXBlOiAibGluZSIsCgkJCQlwb2ludENsYXNzOiBHdCwKCQkJCXNvcnRlZDogITAsCgkJCQlyZXF1aXJlU29ydGluZzogITAsCgkJCQlwb2ludEF0dHJUb09wdGlvbnM6IHsKCQkJCQlzdHJva2U6ICJsaW5lQ29sb3IiLAoJCQkJCSJzdHJva2Utd2lkdGgiOiAibGluZVdpZHRoIiwKCQkJCQlmaWxsOiAiZmlsbENvbG9yIiwKCQkJCQlyOiAicmFkaXVzIgoJCQkJfSwKCQkJCWF4aXNUeXBlczogWyJ4QXhpcyIsICJ5QXhpcyJdLAoJCQkJY29sb3JDb3VudGVyOiAwLAoJCQkJcGFyYWxsZWxBcnJheXM6IFsieCIsICJ5Il0sCgkJCQlpbml0OiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gZS5zZXJpZXMsCgkJCQkJCXMgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gXyhlLm9wdGlvbnMuaW5kZXgsIGUuX2kpIC0gXyh0Lm9wdGlvbnMuaW5kZXgsIHQuX2kpCgkJCQkJCX07CgkJCQkJby5jaGFydCA9IGUsIG8ub3B0aW9ucyA9IHQgPSBvLnNldE9wdGlvbnModCksIG8ubGlua2VkU2VyaWVzID0gW10sIG8uYmluZEF4ZXMoKSwgYShvLCB7CgkJCQkJCW5hbWU6IHQubmFtZSwKCQkJCQkJc3RhdGU6IGl0LAoJCQkJCQlwb2ludEF0dHI6IHt9LAoJCQkJCQl2aXNpYmxlOiB0LnZpc2libGUgIT09ICExLAoJCQkJCQlzZWxlY3RlZDogdC5zZWxlY3RlZCA9PT0gITAKCQkJCQl9KSwgRGUgJiYgKHQuYW5pbWF0aW9uID0gITEpLCBpID0gdC5ldmVudHM7CgkJCQkJZm9yIChuIGluIGkpIHh0KG8sIG4sIGlbbl0pOwoJCQkJCShpICYmIGkuY2xpY2sgfHwgdC5wb2ludCAmJiB0LnBvaW50LmV2ZW50cyAmJiB0LnBvaW50LmV2ZW50cy5jbGljayB8fCB0LmFsbG93UG9pbnRTZWxlY3QpICYmIChlLnJ1blRyYWNrZXJDbGljayA9ICEwKSwgby5nZXRDb2xvcigpLCBvLmdldFN5bWJvbCgpLCBtdChvLnBhcmFsbGVsQXJyYXlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCW9bZSArICJEYXRhIl0gPSBbXQoJCQkJCX0pLCBvLnNldERhdGEodC5kYXRhLCAhMSksIG8uaXNDYXJ0ZXNpYW4gJiYgKGUuaGFzQ2FydGVzaWFuU2VyaWVzID0gITApLCByLnB1c2gobyksIG8uX2kgPSByLmxlbmd0aCAtIDEsIFMociwgcyksIHRoaXMueUF4aXMgJiYgUyh0aGlzLnlBeGlzLnNlcmllcywgcyksIG10KHIsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5pbmRleCA9IHQsIGUubmFtZSA9IGUubmFtZSB8fCAiU2VyaWVzICIgKyAodCArIDEpCgkJCQkJfSkKCQkJCX0sCgkJCQliaW5kQXhlczogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gdC5jaGFydDsKCQkJCQltdCh0LmF4aXNUeXBlcyB8fCBbXSwgZnVuY3Rpb24oYSkgewoJCQkJCQltdChpW2FdLCBmdW5jdGlvbihpKSB7CgkJCQkJCQllID0gaS5vcHRpb25zLCAoblthXSA9PT0gZS5pbmRleCB8fCBuW2FdICE9PSBXICYmIG5bYV0gPT09IGUuaWQgfHwgblthXSA9PT0gVyAmJiAwID09PSBlLmluZGV4KSAmJiAoaS5zZXJpZXMucHVzaCh0KSwgdFthXSA9IGksIGkuaXNEaXJ0eSA9ICEwKQoJCQkJCQl9KSwgdFthXSB8fCB0Lm9wdGlvbmFsQXhpcyA9PT0gYSB8fCBLKDE4LCAhMCkKCQkJCQl9KQoJCQkJfSwKCQkJCXVwZGF0ZVBhcmFsbGVsQXJyYXlzOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBlLnNlcmllcywKCQkJCQkJaSA9IGFyZ3VtZW50cywKCQkJCQkJYSA9ICJudW1iZXIiID09IHR5cGVvZiB0ID8gZnVuY3Rpb24oaSkgewoJCQkJCQkJdmFyIGEgPSAieSIgPT09IGkgJiYgbi50b1lEYXRhID8gbi50b1lEYXRhKGUpIDogZVtpXTsKCQkJCQkJCW5baSArICJEYXRhIl1bdF0gPSBhCgkJCQkJCX0gOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlBcnJheS5wcm90b3R5cGVbdF0uYXBwbHkobltlICsgIkRhdGEiXSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaSwgMikpCgkJCQkJCX07CgkJCQkJbXQobi5wYXJhbGxlbEFycmF5cywgYSkKCQkJCX0sCgkJCQlhdXRvSW5jcmVtZW50OiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLm9wdGlvbnMsCgkJCQkJCW4gPSBlLnhJbmNyZW1lbnQ7CgkJCQkJcmV0dXJuIG4gPSBfKG4sIHQucG9pbnRTdGFydCwgMCksIGUucG9pbnRJbnRlcnZhbCA9IF8oZS5wb2ludEludGVydmFsLCB0LnBvaW50SW50ZXJ2YWwsIDEpLCBlLnhJbmNyZW1lbnQgPSBuICsgZS5wb2ludEludGVydmFsLCBuCgkJCQl9LAoJCQkJZ2V0U2VnbWVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IC0xLAoJCQkJCQlpID0gW10sCgkJCQkJCWEgPSB0LnBvaW50cywKCQkJCQkJbyA9IGEubGVuZ3RoOwoJCQkJCWlmIChvKQoJCQkJCQlpZiAodC5vcHRpb25zLmNvbm5lY3ROdWxscykgewoJCQkJCQkJZm9yIChlID0gbzsgZS0tOykgbnVsbCA9PT0gYVtlXS55ICYmIGEuc3BsaWNlKGUsIDEpOwoJCQkJCQkJYS5sZW5ndGggJiYgKGkgPSBbYV0pCgkJCQkJCX0gZWxzZSBtdChhLCBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQludWxsID09PSBlLnkgPyAodCA+IG4gKyAxICYmIGkucHVzaChhLnNsaWNlKG4gKyAxLCB0KSksIG4gPSB0KSA6IHQgPT09IG8gLSAxICYmIGkucHVzaChhLnNsaWNlKG4gKyAxLCB0ICsgMSkpCgkJCQkJCX0pOwoJCQkJCXQuc2VnbWVudHMgPSBpCgkJCQl9LAoJCQkJc2V0T3B0aW9uczogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuID0gdGhpcy5jaGFydCwKCQkJCQkJaSA9IG4ub3B0aW9ucywKCQkJCQkJYSA9IGkucGxvdE9wdGlvbnMsCgkJCQkJCXIgPSBuLnVzZXJPcHRpb25zIHx8IHt9LAoJCQkJCQlzID0gci5wbG90T3B0aW9ucyB8fCB7fSwKCQkJCQkJbCA9IGFbdGhpcy50eXBlXTsKCQkJCQlyZXR1cm4gdGhpcy51c2VyT3B0aW9ucyA9IGUsIHQgPSBvKGwsIGEuc2VyaWVzLCBlKSwgdGhpcy50b29sdGlwT3B0aW9ucyA9IG8oRy50b29sdGlwLCBHLnBsb3RPcHRpb25zW3RoaXMudHlwZV0udG9vbHRpcCwgci50b29sdGlwLCBzLnNlcmllcyAmJiBzLnNlcmllcy50b29sdGlwLCBzW3RoaXMudHlwZV0gJiYgc1t0aGlzLnR5cGVdLnRvb2x0aXAsIGUudG9vbHRpcCksIG51bGwgPT09IGwubWFya2VyICYmIGRlbGV0ZSB0Lm1hcmtlciwgdAoJCQkJfSwKCQkJCWdldEN5Y2xpYzogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpcy51c2VyT3B0aW9ucywKCQkJCQkJbyA9ICJfIiArIGUgKyAiSW5kZXgiLAoJCQkJCQlyID0gZSArICJDb3VudGVyIjsKCQkJCQl0IHx8IChtKGFbb10pID8gaSA9IGFbb10gOiAoYVtvXSA9IGkgPSB0aGlzLmNoYXJ0W3JdICUgbi5sZW5ndGgsIHRoaXMuY2hhcnRbcl0gKz0gMSksIHQgPSBuW2ldKSwgdGhpc1tlXSA9IHQKCQkJCX0sCgkJCQlnZXRDb2xvcjogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmNvbG9yQnlQb2ludCB8fCB0aGlzLmdldEN5Y2xpYygiY29sb3IiLCB0aGlzLm9wdGlvbnMuY29sb3IgfHwgQnRbdGhpcy50eXBlXS5jb2xvciwgdGhpcy5jaGFydC5vcHRpb25zLmNvbG9ycykKCQkJCX0sCgkJCQlnZXRTeW1ib2w6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcHRpb25zLm1hcmtlcjsKCQkJCQl0aGlzLmdldEN5Y2xpYygic3ltYm9sIiwgZS5zeW1ib2wsIHRoaXMuY2hhcnQub3B0aW9ucy5zeW1ib2xzKSwgL151cmwvLnRlc3QodGhpcy5zeW1ib2wpICYmIChlLnJhZGl1cyA9IDApCgkJCQl9LAoJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd0xpbmVNYXJrZXIsCgkJCQlzZXREYXRhOiBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJdmFyIGEsIG8sIHIsIGwgPSB0aGlzLAoJCQkJCQlwID0gbC5wb2ludHMsCgkJCQkJCWggPSBwICYmIHAubGVuZ3RoIHx8IDAsCgkJCQkJCXUgPSBsLm9wdGlvbnMsCgkJCQkJCW0gPSBsLmNoYXJ0LAoJCQkJCQlmID0gbnVsbCwKCQkJCQkJZyA9IGwueEF4aXMsCgkJCQkJCXggPSBnICYmICEhZy5jYXRlZ29yaWVzLAoJCQkJCQl3ID0gbC50b29sdGlwUG9pbnRzLAoJCQkJCQl2ID0gdS50dXJib1RocmVzaG9sZCwKCQkJCQkJYiA9IHRoaXMueERhdGEsCgkJCQkJCXkgPSB0aGlzLnlEYXRhLAoJCQkJCQlrID0gbC5wb2ludEFycmF5TWFwLAoJCQkJCQl6ID0gayAmJiBrLmxlbmd0aDsKCQkJCQlpZiAoZSA9IGUgfHwgW10sIGEgPSBlLmxlbmd0aCwgdCA9IF8odCwgITApLCBpID09PSAhMSB8fCAhYSB8fCBoICE9PSBhIHx8IGwuY3JvcHBlZCB8fCBsLmhhc0dyb3VwZWREYXRhKSB7CgkJCQkJCWlmIChsLnhJbmNyZW1lbnQgPSBudWxsLCBsLnBvaW50UmFuZ2UgPSB4ID8gMSA6IHUucG9pbnRSYW5nZSwgbC5jb2xvckNvdW50ZXIgPSAwLCBtdCh0aGlzLnBhcmFsbGVsQXJyYXlzLCBmdW5jdGlvbihlKSB7CgkJCQkJCQlsW2UgKyAiRGF0YSJdLmxlbmd0aCA9IDAKCQkJCQkJfSksIHYgJiYgYSA+IHYpIHsKCQkJCQkJCWZvciAobyA9IDA7IG51bGwgPT09IGYgJiYgYSA+IG87KSBmID0gZVtvXSwgbysrOwoJCQkJCQkJaWYgKGQoZikpIHsKCQkJCQkJCQl2YXIgQiA9IF8odS5wb2ludFN0YXJ0LCAwKSwKCQkJCQkJCQkJaiA9IF8odS5wb2ludEludGVydmFsLCAxKTsKCQkJCQkJCQlmb3IgKG8gPSAwOyBhID4gbzsgbysrKSBiW29dID0gQiwgeVtvXSA9IGVbb10sIEIgKz0gajsKCQkJCQkJCQlsLnhJbmNyZW1lbnQgPSBCCgkJCQkJCQl9IGVsc2UgaWYgKGMoZikpCgkJCQkJCQkJaWYgKHopCgkJCQkJCQkJCWZvciAobyA9IDA7IGEgPiBvOyBvKyspIHIgPSBlW29dLCBiW29dID0gclswXSwgeVtvXSA9IHIuc2xpY2UoMSwgeiArIDEpOwoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJZm9yIChvID0gMDsgYSA+IG87IG8rKykgciA9IGVbb10sIGJbb10gPSByWzBdLCB5W29dID0gclsxXTsKCQkJCQkJCWVsc2UgSygxMikKCQkJCQkJfSBlbHNlCgkJCQkJCQlmb3IgKG8gPSAwOyBhID4gbzsgbysrKSBlW29dICE9PSBXICYmIChyID0gewoJCQkJCQkJCXNlcmllczogbAoJCQkJCQkJfSwgbC5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkociwgW2Vbb11dKSwgbC51cGRhdGVQYXJhbGxlbEFycmF5cyhyLCBvKSwgeCAmJiByLm5hbWUgJiYgKGcubmFtZXNbci54XSA9IHIubmFtZSkpOwoJCQkJCQlmb3IgKHMoeVswXSkgJiYgSygxNCwgITApLCBsLmRhdGEgPSBbXSwgbC5vcHRpb25zLmRhdGEgPSBlLCBvID0gaDsgby0tOykgcFtvXSAmJiBwW29dLmRlc3Ryb3kgJiYgcFtvXS5kZXN0cm95KCk7CgkJCQkJCXcgJiYgKHcubGVuZ3RoID0gMCksIGcgJiYgKGcubWluUmFuZ2UgPSBnLnVzZXJNaW5SYW5nZSksIGwuaXNEaXJ0eSA9IGwuaXNEaXJ0eURhdGEgPSBtLmlzRGlydHlCb3ggPSAhMCwgbiA9ICExCgkJCQkJfSBlbHNlIG10KGUsIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJcFt0XS51cGRhdGUoZSwgITEsIG51bGwsICExKQoJCQkJCX0pOwoJCQkJCXQgJiYgbS5yZWRyYXcobikKCQkJCX0sCgkJCQlwcm9jZXNzRGF0YTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzLCBsLCBjID0gdGhpcywKCQkJCQkJZCA9IGMueERhdGEsCgkJCQkJCXAgPSBjLnlEYXRhLAoJCQkJCQloID0gZC5sZW5ndGgsCgkJCQkJCXUgPSAwLAoJCQkJCQltID0gYy54QXhpcywKCQkJCQkJZiA9IGMub3B0aW9ucywKCQkJCQkJZyA9IGYuY3JvcFRocmVzaG9sZCwKCQkJCQkJXyA9IDAsCgkJCQkJCXggPSBjLmlzQ2FydGVzaWFuOwoJCQkJCWlmICh4ICYmICFjLmlzRGlydHkgJiYgIW0uaXNEaXJ0eSAmJiAhYy55QXhpcy5pc0RpcnR5ICYmICFlKSByZXR1cm4gITE7CgkJCQkJZm9yIChtICYmIChyID0gbS5nZXRFeHRyZW1lcygpLCBzID0gci5taW4sIGwgPSByLm1heCksIHggJiYgYy5zb3J0ZWQgJiYgKCFnIHx8IGggPiBnIHx8IGMuZm9yY2VDcm9wKSAmJiAoZFtoIC0gMV0gPCBzIHx8IGRbMF0gPiBsID8gKGQgPSBbXSwgcCA9IFtdKSA6IChkWzBdIDwgcyB8fCBkW2ggLSAxXSA+IGwpICYmICh0ID0gdGhpcy5jcm9wRGF0YShjLnhEYXRhLCBjLnlEYXRhLCBzLCBsKSwgZCA9IHQueERhdGEsIHAgPSB0LnlEYXRhLCB1ID0gdC5zdGFydCwgbiA9ICEwLCBfID0gZC5sZW5ndGgpKSwgbyA9IGQubGVuZ3RoIC0gMTsgbyA+PSAwOyBvLS0pIGkgPSBkW29dIC0gZFtvIC0gMV0sICFuICYmIGRbb10gPiBzICYmIGRbb10gPCBsICYmIF8rKywgaSA+IDAgJiYgKGEgPT09IFcgfHwgYSA+IGkpID8gYSA9IGkgOiAwID4gaSAmJiBjLnJlcXVpcmVTb3J0aW5nICYmIEsoMTUpOwoJCQkJCWMuY3JvcHBlZCA9IG4sIGMuY3JvcFN0YXJ0ID0gdSwgYy5wcm9jZXNzZWRYRGF0YSA9IGQsIGMucHJvY2Vzc2VkWURhdGEgPSBwLCBjLmFjdGl2ZVBvaW50Q291bnQgPSBfLCBudWxsID09PSBmLnBvaW50UmFuZ2UgJiYgKGMucG9pbnRSYW5nZSA9IGEgfHwgMSksIGMuY2xvc2VzdFBvaW50UmFuZ2UgPSBhCgkJCQl9LAoJCQkJY3JvcERhdGE6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbyA9IGUubGVuZ3RoLAoJCQkJCQlyID0gMCwKCQkJCQkJcyA9IG8sCgkJCQkJCWwgPSBfKHRoaXMuY3JvcFNob3VsZGVyLCAxKTsKCQkJCQlmb3IgKGEgPSAwOyBvID4gYTsgYSsrKQoJCQkJCQlpZiAoZVthXSA+PSBuKSB7CgkJCQkJCQlyID0gYmUoMCwgYSAtIGwpOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCWZvciAoOyBvID4gYTsgYSsrKQoJCQkJCQlpZiAoZVthXSA+IGkpIHsKCQkJCQkJCXMgPSBhICsgbDsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQlyZXR1cm4gewoJCQkJCQl4RGF0YTogZS5zbGljZShyLCBzKSwKCQkJCQkJeURhdGE6IHQuc2xpY2UociwgcyksCgkJCQkJCXN0YXJ0OiByLAoJCQkJCQllbmQ6IHMKCQkJCQl9CgkJCQl9LAoJCQkJZ2VuZXJhdGVQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gdGhpcywKCQkJCQkJbyA9IGEub3B0aW9ucywKCQkJCQkJciA9IG8uZGF0YSwKCQkJCQkJcyA9IGEuZGF0YSwKCQkJCQkJbCA9IGEucHJvY2Vzc2VkWERhdGEsCgkJCQkJCWMgPSBhLnByb2Nlc3NlZFlEYXRhLAoJCQkJCQlkID0gYS5wb2ludENsYXNzLAoJCQkJCQlwID0gbC5sZW5ndGgsCgkJCQkJCWggPSBhLmNyb3BTdGFydCB8fCAwLAoJCQkJCQl1ID0gYS5oYXNHcm91cGVkRGF0YSwKCQkJCQkJbSA9IFtdOwoJCQkJCWlmICghcyAmJiAhdSkgewoJCQkJCQl2YXIgZiA9IFtdOwoJCQkJCQlmLmxlbmd0aCA9IHIubGVuZ3RoLCBzID0gYS5kYXRhID0gZgoJCQkJCX0KCQkJCQlmb3IgKGkgPSAwOyBwID4gaTsgaSsrKSB0ID0gaCArIGksIHUgPyBtW2ldID0gKG5ldyBkKS5pbml0KGEsIFtsW2ldXS5jb25jYXQoZyhjW2ldKSkpIDogKHNbdF0gPyBuID0gc1t0XSA6IHJbdF0gIT09IFcgJiYgKHNbdF0gPSBuID0gKG5ldyBkKS5pbml0KGEsIHJbdF0sIGxbaV0pKSwgbVtpXSA9IG4pLCBtW2ldLmluZGV4ID0gdDsKCQkJCQlpZiAocyAmJiAocCAhPT0gKGUgPSBzLmxlbmd0aCkgfHwgdSkpCgkJCQkJCWZvciAoaSA9IDA7IGUgPiBpOyBpKyspIGkgIT09IGggfHwgdSB8fCAoaSArPSBwKSwgc1tpXSAmJiAoc1tpXS5kZXN0cm95RWxlbWVudHMoKSwgc1tpXS5wbG90WCA9IFcpOwoJCQkJCWEuZGF0YSA9IHMsIGEucG9pbnRzID0gbQoJCQkJfSwKCQkJCWdldEV4dHJlbWVzOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQgPSB0aGlzLnhBeGlzLAoJCQkJCQlwID0gdGhpcy55QXhpcywKCQkJCQkJaCA9IHRoaXMucHJvY2Vzc2VkWERhdGEsCgkJCQkJCXUgPSBbXSwKCQkJCQkJbSA9IDAsCgkJCQkJCWYgPSBkLmdldEV4dHJlbWVzKCksCgkJCQkJCWcgPSBmLm1pbiwKCQkJCQkJeCA9IGYubWF4OwoJCQkJCWZvciAoZSA9IGUgfHwgdGhpcy5zdGFja2VkWURhdGEgfHwgdGhpcy5wcm9jZXNzZWRZRGF0YSwgdCA9IGUubGVuZ3RoLCBsID0gMDsgdCA+IGw7IGwrKykKCQkJCQkJaWYgKHIgPSBoW2xdLCBzID0gZVtsXSwgbiA9IG51bGwgIT09IHMgJiYgcyAhPT0gVyAmJiAoIXAuaXNMb2cgfHwgcy5sZW5ndGggfHwgcyA+IDApLCBpID0gdGhpcy5nZXRFeHRyZW1lc0Zyb21BbGwgfHwgdGhpcy5jcm9wcGVkIHx8IChoW2wgKyAxXSB8fCByKSA+PSBnICYmIChoW2wgLSAxXSB8fCByKSA8PSB4LCBuICYmIGkpCgkJCQkJCQlpZiAoYyA9IHMubGVuZ3RoKQoJCQkJCQkJCWZvciAoOyBjLS07KSBudWxsICE9PSBzW2NdICYmICh1W20rK10gPSBzW2NdKTsKCQkJCQkJCWVsc2UgdVttKytdID0gczsKCQkJCQl0aGlzLmRhdGFNaW4gPSBfKGEsIE4odSkpLCB0aGlzLmRhdGFNYXggPSBfKG8sIFQodSkpCgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbigpIHsKCQkJCQl0aGlzLnByb2Nlc3NlZFhEYXRhIHx8IHRoaXMucHJvY2Vzc0RhdGEoKSwgdGhpcy5nZW5lcmF0ZVBvaW50cygpOwoJCQkJCXZhciBlLCB0ID0gdGhpcywKCQkJCQkJbiA9IHQub3B0aW9ucywKCQkJCQkJaSA9IG4uc3RhY2tpbmcsCgkJCQkJCWEgPSB0LnhBeGlzLAoJCQkJCQlvID0gYS5jYXRlZ29yaWVzLAoJCQkJCQlyID0gdC55QXhpcywKCQkJCQkJcyA9IHQucG9pbnRzLAoJCQkJCQlsID0gcy5sZW5ndGgsCgkJCQkJCWMgPSAhIXQubW9kaWZ5VmFsdWUsCgkJCQkJCXAgPSBuLnBvaW50UGxhY2VtZW50LAoJCQkJCQloID0gImJldHdlZW4iID09PSBwIHx8IGQocCksCgkJCQkJCXUgPSBuLnRocmVzaG9sZDsKCQkJCQlmb3IgKGUgPSAwOyBsID4gZTsgZSsrKSB7CgkJCQkJCXZhciBmLCBnLCB4ID0gc1tlXSwKCQkJCQkJCXcgPSB4LngsCgkJCQkJCQl2ID0geC55LAoJCQkJCQkJYiA9IHgubG93LAoJCQkJCQkJeSA9IGkgJiYgci5zdGFja3NbKHQubmVnU3RhY2tzICYmIHUgPiB2ID8gIi0iIDogIiIpICsgdC5zdGFja0tleV07CgkJCQkJCXIuaXNMb2cgJiYgMCA+PSB2ICYmICh4LnkgPSB2ID0gbnVsbCwgSygxMCkpLCB4LnBsb3RYID0gYS50cmFuc2xhdGUodywgMCwgMCwgMCwgMSwgcCwgImZsYWdzIiA9PT0gdGhpcy50eXBlKSwgaSAmJiB0LnZpc2libGUgJiYgeSAmJiB5W3ddICYmIChmID0geVt3XSwgZyA9IGYucG9pbnRzW3QuaW5kZXggKyAiLCIgKyBlXSwgYiA9IGdbMF0sIHYgPSBnWzFdLCAwID09PSBiICYmIChiID0gXyh1LCByLm1pbikpLCByLmlzTG9nICYmIDAgPj0gYiAmJiAoYiA9IG51bGwpLCB4LnRvdGFsID0geC5zdGFja1RvdGFsID0gZi50b3RhbCwgeC5wZXJjZW50YWdlID0gZi50b3RhbCAmJiB4LnkgLyBmLnRvdGFsICogMTAwLCB4LnN0YWNrWSA9IHYsIGYuc2V0T2Zmc2V0KHQucG9pbnRYT2Zmc2V0IHx8IDAsIHQuYmFyVyB8fCAwKSksIHgueUJvdHRvbSA9IG0oYikgPyByLnRyYW5zbGF0ZShiLCAwLCAxLCAwLCAxKSA6IG51bGwsIGMgJiYgKHYgPSB0Lm1vZGlmeVZhbHVlKHYsIHgpKSwgeC5wbG90WSA9ICJudW1iZXIiID09IHR5cGVvZiB2ICYmIHYgIT09IDEgLyAwID8gci50cmFuc2xhdGUodiwgMCwgMSwgMCwgMSkgOiBXLCB4LmNsaWVudFggPSBoID8gYS50cmFuc2xhdGUodywgMCwgMCwgMCwgMSkgOiB4LnBsb3RYLCB4Lm5lZ2F0aXZlID0geC55IDwgKHUgfHwgMCksIHguY2F0ZWdvcnkgPSBvICYmIG9beC54XSAhPT0gVyA/IG9beC54XSA6IHgueAoJCQkJCX0KCQkJCQl0LmdldFNlZ21lbnRzKCkKCQkJCX0sCgkJCQlhbmltYXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWMgPSBvLm9wdGlvbnMuYW5pbWF0aW9uLAoJCQkJCQlkID0gby5jbGlwQm94IHx8IHIuY2xpcEJveCwKCQkJCQkJcCA9IHIuaW52ZXJ0ZWQ7CgkJCQkJYyAmJiAhbChjKSAmJiAoYyA9IEJ0W28udHlwZV0uYW5pbWF0aW9uKSwgaSA9IFsiX3NoYXJlZENsaXAiLCBjLmR1cmF0aW9uLCBjLmVhc2luZywgZC5oZWlnaHRdLmpvaW4oIiwiKSwgZSA/ICh0ID0gcltpXSwgbiA9IHJbaSArICJtIl0sIHQgfHwgKHJbaV0gPSB0ID0gcy5jbGlwUmVjdChhKGQsIHsKCQkJCQkJd2lkdGg6IDAKCQkJCQl9KSksIHJbaSArICJtIl0gPSBuID0gcy5jbGlwUmVjdCgtOTksIHAgPyAtci5wbG90TGVmdCA6IC1yLnBsb3RUb3AsIDk5LCBwID8gci5jaGFydFdpZHRoIDogci5jaGFydEhlaWdodCkpLCBvLmdyb3VwLmNsaXAodCksIG8ubWFya2VyR3JvdXAuY2xpcChuKSwgby5zaGFyZWRDbGlwS2V5ID0gaSkgOiAodCA9IHJbaV0sIHQgJiYgdC5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHIucGxvdFNpemVYCgkJCQkJfSwgYyksIHJbaSArICJtIl0gJiYgcltpICsgIm0iXS5hbmltYXRlKHsKCQkJCQkJd2lkdGg6IHIucGxvdFNpemVYICsgOTkKCQkJCQl9LCBjKSwgby5hbmltYXRlID0gbnVsbCkKCQkJCX0sCgkJCQlhZnRlckFuaW1hdGU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMuc2hhcmVkQ2xpcEtleSwKCQkJCQkJbiA9IHRoaXMuZ3JvdXAsCgkJCQkJCWkgPSB0aGlzLmNsaXBCb3g7CgkJCQkJbiAmJiB0aGlzLm9wdGlvbnMuY2xpcCAhPT0gITEgJiYgKHQgJiYgaSB8fCBuLmNsaXAoaSA/IGUucmVuZGVyZXIuY2xpcFJlY3QoaSkgOiBlLmNsaXBSZWN0KSwgdGhpcy5tYXJrZXJHcm91cC5jbGlwKCkpLCB2dCh0aGlzLCAiYWZ0ZXJBbmltYXRlIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQgJiYgZVt0XSAmJiAoaSB8fCAoZVt0XSA9IGVbdF0uZGVzdHJveSgpKSwgZVt0ICsgIm0iXSAmJiAoZVt0ICsgIm0iXSA9IGVbdCArICJtIl0uZGVzdHJveSgpKSkKCQkJCQl9LCAxMDApCgkJCQl9LAoJCQkJZHJhd1BvaW50czogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUsIG0gPSB0aGlzLAoJCQkJCQlmID0gbS5wb2ludHMsCgkJCQkJCWcgPSBtLmNoYXJ0LAoJCQkJCQl4ID0gbS5vcHRpb25zLAoJCQkJCQl3ID0geC5tYXJrZXIsCgkJCQkJCXYgPSBtLnBvaW50QXR0clsiIl0sCgkJCQkJCWIgPSBtLm1hcmtlckdyb3VwLAoJCQkJCQl5ID0gXyh3LmVuYWJsZWQsICFtLnJlcXVpcmVTb3J0aW5nIHx8IG0uYWN0aXZlUG9pbnRDb3VudCA8IC41ICogbS54QXhpcy5sZW4gLyB3LnJhZGl1cyk7CgkJCQkJaWYgKHcuZW5hYmxlZCAhPT0gITEgfHwgbS5faGFzUG9pbnRNYXJrZXJzKQoJCQkJCQlmb3IgKGkgPSBmLmxlbmd0aDsgaS0tOykgbyA9IGZbaV0sIHQgPSB3ZShvLnBsb3RYKSwgbiA9IG8ucGxvdFksIGMgPSBvLmdyYXBoaWMsIGQgPSBvLm1hcmtlciB8fCB7fSwgcCA9ICEhby5tYXJrZXIsIGggPSB5ICYmIGQuZW5hYmxlZCA9PT0gVyB8fCBkLmVuYWJsZWQsIHUgPSBnLmlzSW5zaWRlUGxvdCh4ZSh0KSwgbiwgZy5pbnZlcnRlZCksIGggJiYgbiAhPT0gVyAmJiAhaXNOYU4obikgJiYgbnVsbCAhPT0gby55ID8gKGUgPSBvLnBvaW50QXR0cltvLnNlbGVjdGVkID8gb3QgOiBpdF0gfHwgdiwgciA9IGUuciwgcyA9IF8oZC5zeW1ib2wsIG0uc3ltYm9sKSwgbCA9IDAgPT09IHMuaW5kZXhPZigidXJsIiksIGMgPyBjW3UgPyAic2hvdyIgOiAiaGlkZSJdKCEwKS5hbmltYXRlKGEoewoJCQkJCQkJeDogdCAtIHIsCgkJCQkJCQl5OiBuIC0gcgoJCQkJCQl9LCBjLnN5bWJvbE5hbWUgPyB7CgkJCQkJCQl3aWR0aDogMiAqIHIsCgkJCQkJCQloZWlnaHQ6IDIgKiByCgkJCQkJCX0gOiB7fSkpIDogdSAmJiAociA+IDAgfHwgbCkgJiYgKG8uZ3JhcGhpYyA9IGMgPSBnLnJlbmRlcmVyLnN5bWJvbChzLCB0IC0gciwgbiAtIHIsIDIgKiByLCAyICogciwgcCA/IGQgOiB3KS5hdHRyKGUpLmFkZChiKSkpIDogYyAmJiAoby5ncmFwaGljID0gYy5kZXN0cm95KCkpCgkJCQl9LAoJCQkJY29udmVydEF0dHJpYnM6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgbywgciA9IHRoaXMucG9pbnRBdHRyVG9PcHRpb25zLAoJCQkJCQlzID0ge307CgkJCQkJZSA9IGUgfHwge30sIHQgPSB0IHx8IHt9LCBuID0gbiB8fCB7fSwgaSA9IGkgfHwge307CgkJCQkJZm9yIChhIGluIHIpIG8gPSByW2FdLCBzW2FdID0gXyhlW29dLCB0W2FdLCBuW2FdLCBpW2FdKTsKCQkJCQlyZXR1cm4gcwoJCQkJfSwKCQkJCWdldEF0dHJpYnM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBvLCByLCBzID0gdGhpcywKCQkJCQkJbCA9IHMub3B0aW9ucywKCQkJCQkJYyA9IEJ0W3MudHlwZV0ubWFya2VyID8gbC5tYXJrZXIgOiBsLAoJCQkJCQlkID0gYy5zdGF0ZXMsCgkJCQkJCXAgPSBkW2F0XSwKCQkJCQkJaCA9IHMuY29sb3IsCgkJCQkJCXUgPSB7CgkJCQkJCQlzdHJva2U6IGgsCgkJCQkJCQlmaWxsOiBoCgkJCQkJCX0sCgkJCQkJCWYgPSBzLnBvaW50cyB8fCBbXSwKCQkJCQkJZyA9IFtdLAoJCQkJCQlfID0gcy5wb2ludEF0dHJUb09wdGlvbnMsCgkJCQkJCXggPSBzLmhhc1BvaW50U3BlY2lmaWNPcHRpb25zLAoJCQkJCQl3ID0gbC5uZWdhdGl2ZUNvbG9yLAoJCQkJCQl2ID0gYy5saW5lQ29sb3IsCgkJCQkJCWIgPSBjLmZpbGxDb2xvciwKCQkJCQkJeSA9IGwudHVyYm9UaHJlc2hvbGQ7CgkJCQkJaWYgKGwubWFya2VyID8gKHAucmFkaXVzID0gcC5yYWRpdXMgfHwgYy5yYWRpdXMgKyBwLnJhZGl1c1BsdXMsIHAubGluZVdpZHRoID0gcC5saW5lV2lkdGggfHwgYy5saW5lV2lkdGggKyBwLmxpbmVXaWR0aFBsdXMpIDogcC5jb2xvciA9IHAuY29sb3IgfHwgVHQocC5jb2xvciB8fCBoKS5icmlnaHRlbihwLmJyaWdodG5lc3MpLmdldCgpLCBnW2l0XSA9IHMuY29udmVydEF0dHJpYnMoYywgdSksIG10KFthdCwgb3RdLCBmdW5jdGlvbihlKSB7CgkJCQkJCWdbZV0gPSBzLmNvbnZlcnRBdHRyaWJzKGRbZV0sIGdbaXRdKQoJCQkJCX0pLCBzLnBvaW50QXR0ciA9IGcsIHQgPSBmLmxlbmd0aCwgIXkgfHwgeSA+IHQgfHwgeCkKCQkJCQkJZm9yICg7IHQtLTspIHsKCQkJCQkJCWlmIChuID0gZlt0XSwgYyA9IG4ub3B0aW9ucyAmJiBuLm9wdGlvbnMubWFya2VyIHx8IG4ub3B0aW9ucywgYyAmJiBjLmVuYWJsZWQgPT09ICExICYmIChjLnJhZGl1cyA9IDApLCBuLm5lZ2F0aXZlICYmIHcgJiYgKG4uY29sb3IgPSBuLmZpbGxDb2xvciA9IHcpLCB4ID0gbC5jb2xvckJ5UG9pbnQgfHwgbi5jb2xvciwgbi5vcHRpb25zKQoJCQkJCQkJCWZvciAociBpbiBfKSBtKGNbX1tyXV0pICYmICh4ID0gITApOwoJCQkJCQkJeCA/IChjID0gYyB8fCB7fSwgaSA9IFtdLCBkID0gYy5zdGF0ZXMgfHwge30sIGUgPSBkW2F0XSA9IGRbYXRdIHx8IHt9LCBsLm1hcmtlciB8fCAoZS5jb2xvciA9IGUuY29sb3IgfHwgIW4ub3B0aW9ucy5jb2xvciAmJiBwLmNvbG9yIHx8IFR0KG4uY29sb3IpLmJyaWdodGVuKGUuYnJpZ2h0bmVzcyB8fCBwLmJyaWdodG5lc3MpLmdldCgpKSwgbyA9IHsKCQkJCQkJCQljb2xvcjogbi5jb2xvcgoJCQkJCQkJfSwgYiB8fCAoby5maWxsQ29sb3IgPSBuLmNvbG9yKSwgdiB8fCAoby5saW5lQ29sb3IgPSBuLmNvbG9yKSwgaVtpdF0gPSBzLmNvbnZlcnRBdHRyaWJzKGEobywgYyksIGdbaXRdKSwgaVthdF0gPSBzLmNvbnZlcnRBdHRyaWJzKGRbYXRdLCBnW2F0XSwgaVtpdF0pLCBpW290XSA9IHMuY29udmVydEF0dHJpYnMoZFtvdF0sIGdbb3RdLCBpW2l0XSkpIDogaSA9IGcsIG4ucG9pbnRBdHRyID0gaQoJCQkJCQl9CgkJCQl9LAoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8gPSB0aGlzLAoJCQkJCQlyID0gby5jaGFydCwKCQkJCQkJcyA9IC9BcHBsZVdlYktpdFwvNTMzLy50ZXN0KFNlKSwKCQkJCQkJbCA9IG8uZGF0YSB8fCBbXTsKCQkJCQlmb3IgKHZ0KG8sICJkZXN0cm95IiksIHd0KG8pLCBtdChvLmF4aXNUeXBlcyB8fCBbXSwgZnVuY3Rpb24oZSkgewoJCQkJCQlhID0gb1tlXSwgYSAmJiAodShhLnNlcmllcywgbyksIGEuaXNEaXJ0eSA9IGEuZm9yY2VSZWRyYXcgPSAhMCkKCQkJCQl9KSwgby5sZWdlbmRJdGVtICYmIG8uY2hhcnQubGVnZW5kLmRlc3Ryb3lJdGVtKG8pLCB0ID0gbC5sZW5ndGg7IHQtLTspIG4gPSBsW3RdLCBuICYmIG4uZGVzdHJveSAmJiBuLmRlc3Ryb3koKTsKCQkJCQlvLnBvaW50cyA9IG51bGwsIGNsZWFyVGltZW91dChvLmFuaW1hdGlvblRpbWVvdXQpLCBtdChbImFyZWEiLCAiZ3JhcGgiLCAiZGF0YUxhYmVsc0dyb3VwIiwgImdyb3VwIiwgIm1hcmtlckdyb3VwIiwgInRyYWNrZXIiLCAiZ3JhcGhOZWciLCAiYXJlYU5lZyIsICJwb3NDbGlwIiwgIm5lZ0NsaXAiXSwgZnVuY3Rpb24odCkgewoJCQkJCQlvW3RdICYmIChlID0gcyAmJiAiZ3JvdXAiID09PSB0ID8gImhpZGUiIDogImRlc3Ryb3kiLCBvW3RdW2VdKCkpCgkJCQkJfSksIHIuaG92ZXJTZXJpZXMgPT09IG8gJiYgKHIuaG92ZXJTZXJpZXMgPSBudWxsKSwgdShyLnNlcmllcywgbyk7CgkJCQkJZm9yIChpIGluIG8pIGRlbGV0ZSBvW2ldCgkJCQl9LAoJCQkJZ2V0U2VnbWVudFBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCW4gPSBbXSwKCQkJCQkJaSA9IHQub3B0aW9ucy5zdGVwOwoJCQkJCXJldHVybiBtdChlLCBmdW5jdGlvbihhLCBvKSB7CgkJCQkJCXZhciByLCBzID0gYS5wbG90WCwKCQkJCQkJCWwgPSBhLnBsb3RZOwoJCQkJCQl0LmdldFBvaW50U3BsaW5lID8gbi5wdXNoLmFwcGx5KG4sIHQuZ2V0UG9pbnRTcGxpbmUoZSwgYSwgbykpIDogKG4ucHVzaChvID8gdHQgOiBldCksIGkgJiYgbyAmJiAociA9IGVbbyAtIDFdLCAicmlnaHQiID09PSBpID8gbi5wdXNoKHIucGxvdFgsIGwpIDogImNlbnRlciIgPT09IGkgPyBuLnB1c2goKHIucGxvdFggKyBzKSAvIDIsIHIucGxvdFksIChyLnBsb3RYICsgcykgLyAyLCBsKSA6IG4ucHVzaChzLCByLnBsb3RZKSksIG4ucHVzaChhLnBsb3RYLCBhLnBsb3RZKSkKCQkJCQl9KSwgbgoJCQkJfSwKCQkJCWdldEdyYXBoUGF0aDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gW10sCgkJCQkJCWkgPSBbXTsKCQkJCQlyZXR1cm4gbXQodC5zZWdtZW50cywgZnVuY3Rpb24oYSkgewoJCQkJCQllID0gdC5nZXRTZWdtZW50UGF0aChhKSwgYS5sZW5ndGggPiAxID8gbiA9IG4uY29uY2F0KGUpIDogaS5wdXNoKGFbMF0pCgkJCQkJfSksIHQuc2luZ2xlUG9pbnRzID0gaSwgdC5ncmFwaFBhdGggPSBuLCBuCgkJCQl9LAoJCQkJZHJhd0dyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSBbCgkJCQkJCQlbImdyYXBoIiwgdC5saW5lQ29sb3IgfHwgdGhpcy5jb2xvcl0KCQkJCQkJXSwKCQkJCQkJaSA9IHQubGluZVdpZHRoLAoJCQkJCQlhID0gdC5kYXNoU3R5bGUsCgkJCQkJCW8gPSAic3F1YXJlIiAhPT0gdC5saW5lY2FwLAoJCQkJCQlyID0gdGhpcy5nZXRHcmFwaFBhdGgoKSwKCQkJCQkJcyA9IHQubmVnYXRpdmVDb2xvcjsKCQkJCQlzICYmIG4ucHVzaChbImdyYXBoTmVnIiwgc10pLCBtdChuLCBmdW5jdGlvbihuLCBzKSB7CgkJCQkJCXZhciBsLCBjID0gblswXSwKCQkJCQkJCWQgPSBlW2NdOwoJCQkJCQlkID8gKGt0KGQpLCBkLmFuaW1hdGUoewoJCQkJCQkJZDogcgoJCQkJCQl9KSkgOiBpICYmIHIubGVuZ3RoICYmIChsID0gewoJCQkJCQkJc3Ryb2tlOiBuWzFdLAoJCQkJCQkJInN0cm9rZS13aWR0aCI6IGksCgkJCQkJCQlmaWxsOiBRZSwKCQkJCQkJCXpJbmRleDogMQoJCQkJCQl9LCBhID8gbC5kYXNoc3R5bGUgPSBhIDogbyAmJiAobFsic3Ryb2tlLWxpbmVjYXAiXSA9IGxbInN0cm9rZS1saW5lam9pbiJdID0gInJvdW5kIiksIGVbY10gPSBlLmNoYXJ0LnJlbmRlcmVyLnBhdGgocikuYXR0cihsKS5hZGQoZS5ncm91cCkuc2hhZG93KCFzICYmIHQuc2hhZG93KSkKCQkJCQl9KQoJCQkJfSwKCQkJCWNsaXBOZWc6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCBvID0gdGhpcy5vcHRpb25zLAoJCQkJCQlyID0gdGhpcy5jaGFydCwKCQkJCQkJcyA9IHIucmVuZGVyZXIsCgkJCQkJCWwgPSBvLm5lZ2F0aXZlQ29sb3IgfHwgby5uZWdhdGl2ZUZpbGxDb2xvciwKCQkJCQkJYyA9IHRoaXMuZ3JhcGgsCgkJCQkJCWQgPSB0aGlzLmFyZWEsCgkJCQkJCXAgPSB0aGlzLnBvc0NsaXAsCgkJCQkJCWggPSB0aGlzLm5lZ0NsaXAsCgkJCQkJCXUgPSByLmNoYXJ0V2lkdGgsCgkJCQkJCW0gPSByLmNoYXJ0SGVpZ2h0LAoJCQkJCQlmID0gYmUodSwgbSksCgkJCQkJCWcgPSB0aGlzLnlBeGlzOwoJCQkJCWwgJiYgKGMgfHwgZCkgJiYgKGUgPSB4ZShnLnRvUGl4ZWxzKG8udGhyZXNob2xkIHx8IDAsICEwKSksIDAgPiBlICYmIChmIC09IGUpLCBpID0gewoJCQkJCQl4OiAwLAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogZiwKCQkJCQkJaGVpZ2h0OiBlCgkJCQkJfSwgYSA9IHsKCQkJCQkJeDogMCwKCQkJCQkJeTogZSwKCQkJCQkJd2lkdGg6IGYsCgkJCQkJCWhlaWdodDogZgoJCQkJCX0sIHIuaW52ZXJ0ZWQgJiYgKGkuaGVpZ2h0ID0gYS55ID0gci5wbG90V2lkdGggLSBlLCBzLmlzVk1MICYmIChpID0gewoJCQkJCQl4OiByLnBsb3RXaWR0aCAtIGUgLSByLnBsb3RMZWZ0LAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogdSwKCQkJCQkJaGVpZ2h0OiBtCgkJCQkJfSwgYSA9IHsKCQkJCQkJeDogZSArIHIucGxvdExlZnQgLSB1LAoJCQkJCQl5OiAwLAoJCQkJCQl3aWR0aDogci5wbG90TGVmdCArIGUsCgkJCQkJCWhlaWdodDogdQoJCQkJCX0pKSwgZy5yZXZlcnNlZCA/ICh0ID0gYSwgbiA9IGkpIDogKHQgPSBpLCBuID0gYSksIHAgPyAocC5hbmltYXRlKHQpLCBoLmFuaW1hdGUobikpIDogKHRoaXMucG9zQ2xpcCA9IHAgPSBzLmNsaXBSZWN0KHQpLCB0aGlzLm5lZ0NsaXAgPSBoID0gcy5jbGlwUmVjdChuKSwgYyAmJiB0aGlzLmdyYXBoTmVnICYmIChjLmNsaXAocCksIHRoaXMuZ3JhcGhOZWcuY2xpcChoKSksIGQgJiYgKGQuY2xpcChwKSwgdGhpcy5hcmVhTmVnLmNsaXAoaCkpKSkKCQkJCX0sCgkJCQlpbnZlcnRHcm91cHM6IGZ1bmN0aW9uKCkgewoJCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJCXZhciBlID0gewoJCQkJCQkJd2lkdGg6IHQueUF4aXMubGVuLAoJCQkJCQkJaGVpZ2h0OiB0LnhBeGlzLmxlbgoJCQkJCQl9OwoJCQkJCQltdChbImdyb3VwIiwgIm1hcmtlckdyb3VwIl0sIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXRbbl0gJiYgdFtuXS5hdHRyKGUpLmludmVydCgpCgkJCQkJCX0pCgkJCQkJfQoJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJbiA9IHQuY2hhcnQ7CgkJCQkJdC54QXhpcyAmJiAoeHQobiwgInJlc2l6ZSIsIGUpLCB4dCh0LCAiZGVzdHJveSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl3dChuLCAicmVzaXplIiwgZSkKCQkJCQl9KSwgZSgpLCB0LmludmVydEdyb3VwcyA9IGUpCgkJCQl9LAoJCQkJcGxvdEdyb3VwOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzW2VdLAoJCQkJCQlyID0gIW87CgkJCQkJcmV0dXJuIHIgJiYgKHRoaXNbZV0gPSBvID0gdGhpcy5jaGFydC5yZW5kZXJlci5nKHQpLmF0dHIoewoJCQkJCQl2aXNpYmlsaXR5OiBuLAoJCQkJCQl6SW5kZXg6IGkgfHwgLjEKCQkJCQl9KS5hZGQoYSkpLCBvW3IgPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKHRoaXMuZ2V0UGxvdEJveCgpKSwgbwoJCQkJfSwKCQkJCWdldFBsb3RCb3g6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5jaGFydCwKCQkJCQkJdCA9IHRoaXMueEF4aXMsCgkJCQkJCW4gPSB0aGlzLnlBeGlzOwoJCQkJCXJldHVybiBlLmludmVydGVkICYmICh0ID0gbiwgbiA9IHRoaXMueEF4aXMpLCB7CgkJCQkJCXRyYW5zbGF0ZVg6IHQgPyB0LmxlZnQgOiBlLnBsb3RMZWZ0LAoJCQkJCQl0cmFuc2xhdGVZOiBuID8gbi50b3AgOiBlLnBsb3RUb3AsCgkJCQkJCXNjYWxlWDogMSwKCQkJCQkJc2NhbGVZOiAxCgkJCQkJfQoJCQkJfSwKCQkJCXJlbmRlcjogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQluID0gdC5jaGFydCwKCQkJCQkJaSA9IHQub3B0aW9ucywKCQkJCQkJYSA9IGkuYW5pbWF0aW9uLAoJCQkJCQlvID0gYSAmJiAhIXQuYW5pbWF0ZSAmJiBuLnJlbmRlcmVyLmlzU1ZHICYmIF8oYS5kdXJhdGlvbiwgNTAwKSB8fCAwLAoJCQkJCQlyID0gdC52aXNpYmxlID8gVmUgOiBKZSwKCQkJCQkJcyA9IGkuekluZGV4LAoJCQkJCQlsID0gdC5oYXNSZW5kZXJlZCwKCQkJCQkJYyA9IG4uc2VyaWVzR3JvdXA7CgkJCQkJZSA9IHQucGxvdEdyb3VwKCJncm91cCIsICJzZXJpZXMiLCByLCBzLCBjKSwgdC5tYXJrZXJHcm91cCA9IHQucGxvdEdyb3VwKCJtYXJrZXJHcm91cCIsICJtYXJrZXJzIiwgciwgcywgYyksIG8gJiYgdC5hbmltYXRlKCEwKSwgdC5nZXRBdHRyaWJzKCksIGUuaW52ZXJ0ZWQgPSB0LmlzQ2FydGVzaWFuID8gbi5pbnZlcnRlZCA6ICExLCB0LmRyYXdHcmFwaCAmJiAodC5kcmF3R3JhcGgoKSwgdC5jbGlwTmVnKCkpLCBtdCh0LnBvaW50cywgZnVuY3Rpb24oZSkgewoJCQkJCQllLnJlZHJhdyAmJiBlLnJlZHJhdygpCgkJCQkJfSksIHQuZHJhd0RhdGFMYWJlbHMgJiYgdC5kcmF3RGF0YUxhYmVscygpLCB0LnZpc2libGUgJiYgdC5kcmF3UG9pbnRzKCksIHQuZHJhd1RyYWNrZXIgJiYgdC5vcHRpb25zLmVuYWJsZU1vdXNlVHJhY2tpbmcgIT09ICExICYmIHQuZHJhd1RyYWNrZXIoKSwgbi5pbnZlcnRlZCAmJiB0LmludmVydEdyb3VwcygpLCBpLmNsaXAgPT09ICExIHx8IHQuc2hhcmVkQ2xpcEtleSB8fCBsIHx8IGUuY2xpcChuLmNsaXBSZWN0KSwgbyAmJiB0LmFuaW1hdGUoKSwgbCB8fCAobyA/IHQuYW5pbWF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQuYWZ0ZXJBbmltYXRlKCkKCQkJCQl9LCBvKSA6IHQuYWZ0ZXJBbmltYXRlKCkpLCB0LmlzRGlydHkgPSB0LmlzRGlydHlEYXRhID0gITEsIHQuaGFzUmVuZGVyZWQgPSAhMAoJCQkJfSwKCQkJCXJlZHJhdzogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5jaGFydCwKCQkJCQkJbiA9IGUuaXNEaXJ0eURhdGEsCgkJCQkJCWkgPSBlLmdyb3VwLAoJCQkJCQlhID0gZS54QXhpcywKCQkJCQkJbyA9IGUueUF4aXM7CgkJCQkJaSAmJiAodC5pbnZlcnRlZCAmJiBpLmF0dHIoewoJCQkJCQl3aWR0aDogdC5wbG90V2lkdGgsCgkJCQkJCWhlaWdodDogdC5wbG90SGVpZ2h0CgkJCQkJfSksIGkuYW5pbWF0ZSh7CgkJCQkJCXRyYW5zbGF0ZVg6IF8oYSAmJiBhLmxlZnQsIHQucGxvdExlZnQpLAoJCQkJCQl0cmFuc2xhdGVZOiBfKG8gJiYgby50b3AsIHQucGxvdFRvcCkKCQkJCQl9KSksIGUudHJhbnNsYXRlKCksIGUuc2V0VG9vbHRpcFBvaW50cyAmJiBlLnNldFRvb2x0aXBQb2ludHMoITApLCBlLnJlbmRlcigpLCBuICYmIHZ0KGUsICJ1cGRhdGVkRGF0YSIpCgkJCQl9CgkJCX0sICQucHJvdG90eXBlID0gewoJCQkJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJCQkJUCh0aGlzLCB0aGlzLmF4aXMpCgkJCQl9LAoJCQkJcmVuZGVyOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLm9wdGlvbnMsCgkJCQkJCW4gPSB0LmZvcm1hdCwKCQkJCQkJaSA9IG4gPyBCKG4sIHRoaXMpIDogdC5mb3JtYXR0ZXIuY2FsbCh0aGlzKTsKCQkJCQl0aGlzLmxhYmVsID8gdGhpcy5sYWJlbC5hdHRyKHsKCQkJCQkJdGV4dDogaSwKCQkJCQkJdmlzaWJpbGl0eTogSmUKCQkJCQl9KSA6IHRoaXMubGFiZWwgPSB0aGlzLmF4aXMuY2hhcnQucmVuZGVyZXIudGV4dChpLCBudWxsLCBudWxsLCB0LnVzZUhUTUwpLmNzcyh0LnN0eWxlKS5hdHRyKHsKCQkJCQkJYWxpZ246IHRoaXMudGV4dEFsaWduLAoJCQkJCQlyb3RhdGlvbjogdC5yb3RhdGlvbiwKCQkJCQkJdmlzaWJpbGl0eTogSmUKCQkJCQl9KS5hZGQoZSkKCQkJCX0sCgkJCQlzZXRPZmZzZXQ6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmF4aXMsCgkJCQkJCW8gPSBhLmNoYXJ0LAoJCQkJCQlyID0gby5pbnZlcnRlZCwKCQkJCQkJcyA9IHRoaXMuaXNOZWdhdGl2ZSwKCQkJCQkJbCA9IGEudHJhbnNsYXRlKGEudXNlUGVyY2VudGFnZSA/IDEwMCA6IHRoaXMudG90YWwsIDAsIDAsIDAsIDEpLAoJCQkJCQljID0gYS50cmFuc2xhdGUoMCksCgkJCQkJCWQgPSBrZShsIC0gYyksCgkJCQkJCXAgPSBvLnhBeGlzWzBdLnRyYW5zbGF0ZSh0aGlzLngpICsgZSwKCQkJCQkJaCA9IG8ucGxvdEhlaWdodCwKCQkJCQkJdSA9IHsKCQkJCQkJCXg6IHIgPyBzID8gbCA6IGwgLSBkIDogcCwKCQkJCQkJCXk6IHIgPyBoIC0gcCAtIHQgOiBzID8gaCAtIGwgLSBkIDogaCAtIGwsCgkJCQkJCQl3aWR0aDogciA/IGQgOiB0LAoJCQkJCQkJaGVpZ2h0OiByID8gdCA6IGQKCQkJCQkJfSwKCQkJCQkJbSA9IHRoaXMubGFiZWw7CgkJCQkJbSAmJiAobS5hbGlnbih0aGlzLmFsaWduT3B0aW9ucywgbnVsbCwgdSksIG4gPSBtLmFsaWduQXR0ciwgbVt0aGlzLm9wdGlvbnMuY3JvcCA9PT0gITEgfHwgby5pc0luc2lkZVBsb3Qobi54LCBuLnkpID8gInNob3ciIDogImhpZGUiXSghMCkpCgkJCQl9CgkJCX0sIFIucHJvdG90eXBlLmJ1aWxkU3RhY2tzID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHRoaXMuc2VyaWVzLAoJCQkJCXQgPSBfKHRoaXMub3B0aW9ucy5yZXZlcnNlZFN0YWNrcywgITApLAoJCQkJCW4gPSBlLmxlbmd0aDsKCQkJCWlmICghdGhpcy5pc1hBeGlzKSB7CgkJCQkJZm9yICh0aGlzLnVzZVBlcmNlbnRhZ2UgPSAhMTsgbi0tOykgZVt0ID8gbiA6IGUubGVuZ3RoIC0gbiAtIDFdLnNldFN0YWNrZWRQb2ludHMoKTsKCQkJCQlpZiAodGhpcy51c2VQZXJjZW50YWdlKQoJCQkJCQlmb3IgKG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgZVtuXS5zZXRQZXJjZW50U3RhY2tzKCkKCQkJCX0KCQkJfSwgUi5wcm90b3R5cGUucmVuZGVyU3RhY2tUb3RhbHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlLCB0LCBuLCBpID0gdGhpcywKCQkJCQlhID0gaS5jaGFydCwKCQkJCQlvID0gYS5yZW5kZXJlciwKCQkJCQlyID0gaS5zdGFja3MsCgkJCQkJcyA9IGkuc3RhY2tUb3RhbEdyb3VwOwoJCQkJcyB8fCAoaS5zdGFja1RvdGFsR3JvdXAgPSBzID0gby5nKCJzdGFjay1sYWJlbHMiKS5hdHRyKHsKCQkJCQl2aXNpYmlsaXR5OiBWZSwKCQkJCQl6SW5kZXg6IDYKCQkJCX0pLmFkZCgpKSwgcy50cmFuc2xhdGUoYS5wbG90TGVmdCwgYS5wbG90VG9wKTsKCQkJCWZvciAoZSBpbiByKSB7CgkJCQkJdCA9IHJbZV07CgkJCQkJZm9yIChuIGluIHQpIHRbbl0ucmVuZGVyKHMpCgkJCQl9CgkJCX0sIFh0LnByb3RvdHlwZS5zZXRTdGFja2VkUG9pbnRzID0gZnVuY3Rpb24oKSB7CgkJCQlpZiAodGhpcy5vcHRpb25zLnN0YWNraW5nICYmICh0aGlzLnZpc2libGUgPT09ICEwIHx8IHRoaXMuY2hhcnQub3B0aW9ucy5jaGFydC5pZ25vcmVIaWRkZW5TZXJpZXMgPT09ICExKSkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwucHJvY2Vzc2VkWERhdGEsCgkJCQkJCWQgPSBsLnByb2Nlc3NlZFlEYXRhLAoJCQkJCQlwID0gW10sCgkJCQkJCWggPSBkLmxlbmd0aCwKCQkJCQkJdSA9IGwub3B0aW9ucywKCQkJCQkJbSA9IHUudGhyZXNob2xkLAoJCQkJCQlmID0gdS5zdGFjaywKCQkJCQkJZyA9IHUuc3RhY2tpbmcsCgkJCQkJCV8gPSBsLnN0YWNrS2V5LAoJCQkJCQl4ID0gIi0iICsgXywKCQkJCQkJdyA9IGwubmVnU3RhY2tzLAoJCQkJCQl2ID0gbC55QXhpcywKCQkJCQkJYiA9IHYuc3RhY2tzLAoJCQkJCQl5ID0gdi5vbGRTdGFja3M7CgkJCQkJZm9yIChvID0gMDsgaCA+IG87IG8rKykgciA9IGNbb10sIHMgPSBkW29dLCBhID0gbC5pbmRleCArICIsIiArIG8sIGUgPSB3ICYmIG0gPiBzLCBpID0gZSA/IHggOiBfLCBiW2ldIHx8IChiW2ldID0ge30pLCBiW2ldW3JdIHx8ICh5W2ldICYmIHlbaV1bcl0gPyAoYltpXVtyXSA9IHlbaV1bcl0sIGJbaV1bcl0udG90YWwgPSBudWxsKSA6IGJbaV1bcl0gPSBuZXcgJCh2LCB2Lm9wdGlvbnMuc3RhY2tMYWJlbHMsIGUsIHIsIGYpKSwgdCA9IGJbaV1bcl0sIHQucG9pbnRzW2FdID0gW3QuY3VtIHx8IDBdLCAicGVyY2VudCIgPT09IGcgPyAobiA9IGUgPyBfIDogeCwgdyAmJiBiW25dICYmIGJbbl1bcl0gPyAobiA9IGJbbl1bcl0sIHQudG90YWwgPSBuLnRvdGFsID0gYmUobi50b3RhbCwgdC50b3RhbCkgKyBrZShzKSB8fCAwKSA6IHQudG90YWwgPSBBKHQudG90YWwgKyAoa2UocykgfHwgMCkpKSA6IHQudG90YWwgPSBBKHQudG90YWwgKyAocyB8fCAwKSksIHQuY3VtID0gKHQuY3VtIHx8IDApICsgKHMgfHwgMCksIHQucG9pbnRzW2FdLnB1c2godC5jdW0pLCBwW29dID0gdC5jdW07CgkJCQkJInBlcmNlbnQiID09PSBnICYmICh2LnVzZVBlcmNlbnRhZ2UgPSAhMCksIHRoaXMuc3RhY2tlZFlEYXRhID0gcCwgdi5vbGRTdGFja3MgPSB7fQoJCQkJfQoJCQl9LCBYdC5wcm90b3R5cGUuc2V0UGVyY2VudFN0YWNrcyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCXQgPSBlLnN0YWNrS2V5LAoJCQkJCW4gPSBlLnlBeGlzLnN0YWNrcywKCQkJCQlpID0gZS5wcm9jZXNzZWRYRGF0YTsKCQkJCW10KFt0LCAiLSIgKyB0XSwgZnVuY3Rpb24odCkgewoJCQkJCWZvciAodmFyIGEsIG8sIHIsIHMsIGwgPSBpLmxlbmd0aDsgbC0tOykgYSA9IGlbbF0sIG8gPSBuW3RdICYmIG5bdF1bYV0sIHIgPSBvICYmIG8ucG9pbnRzW2UuaW5kZXggKyAiLCIgKyBsXSwgciAmJiAocyA9IG8udG90YWwgPyAxMDAgLyBvLnRvdGFsIDogMCwgclswXSA9IEEoclswXSAqIHMpLCByWzFdID0gQShyWzFdICogcyksIGUuc3RhY2tlZFlEYXRhW2xdID0gclsxXSkKCQkJCX0pCgkJCX0sIGEoRi5wcm90b3R5cGUsIHsKCQkJCWFkZFNlcmllczogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhID0gdGhpczsKCQkJCQlyZXR1cm4gZSAmJiAodCA9IF8odCwgITApLCB2dChhLCAiYWRkU2VyaWVzIiwgewoJCQkJCQlvcHRpb25zOiBlCgkJCQkJfSwgZnVuY3Rpb24oKSB7CgkJCQkJCWkgPSBhLmluaXRTZXJpZXMoZSksIGEuaXNEaXJ0eUxlZ2VuZCA9ICEwLCBhLmxpbmtTZXJpZXMoKSwgdCAmJiBhLnJlZHJhdyhuKQoJCQkJCX0pKSwgaQoJCQkJfSwKCQkJCWFkZEF4aXM6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQl2YXIgYSwgciA9IHQgPyAieEF4aXMiIDogInlBeGlzIiwKCQkJCQkJcyA9IHRoaXMub3B0aW9uczsKCQkJCQlhID0gbmV3IFIodGhpcywgbyhlLCB7CgkJCQkJCWluZGV4OiB0aGlzW3JdLmxlbmd0aCwKCQkJCQkJaXNYOiB0CgkJCQkJfSkpLCBzW3JdID0gZyhzW3JdIHx8IHt9KSwgc1tyXS5wdXNoKGUpLCBfKG4sICEwKSAmJiB0aGlzLnJlZHJhdyhpKQoJCQkJfSwKCQkJCXNob3dMb2FkaW5nOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQluID0gdC5vcHRpb25zLAoJCQkJCQlpID0gdC5sb2FkaW5nRGl2LAoJCQkJCQlvID0gbi5sb2FkaW5nLAoJCQkJCQlyID0gZnVuY3Rpb24oKSB7CgkJCQkJCQlpICYmIHgoaSwgewoJCQkJCQkJCWxlZnQ6IHQucGxvdExlZnQgKyBLZSwKCQkJCQkJCQl0b3A6IHQucGxvdFRvcCArIEtlLAoJCQkJCQkJCXdpZHRoOiB0LnBsb3RXaWR0aCArIEtlLAoJCQkJCQkJCWhlaWdodDogdC5wbG90SGVpZ2h0ICsgS2UKCQkJCQkJCX0pCgkJCQkJCX07CgkJCQkJaSB8fCAodC5sb2FkaW5nRGl2ID0gaSA9IHcoWWUsIHsKCQkJCQkJY2xhc3NOYW1lOiBaZSArICJsb2FkaW5nIgoJCQkJCX0sIGEoby5zdHlsZSwgewoJCQkJCQl6SW5kZXg6IDEwLAoJCQkJCQlkaXNwbGF5OiBRZQoJCQkJCX0pLCB0LmNvbnRhaW5lciksIHQubG9hZGluZ1NwYW4gPSB3KCJzcGFuIiwgbnVsbCwgby5sYWJlbFN0eWxlLCBpKSwgeHQodCwgInJlZHJhdyIsIHIpKSwgdC5sb2FkaW5nU3Bhbi5pbm5lckhUTUwgPSBlIHx8IG4ubGFuZy5sb2FkaW5nLCB0LmxvYWRpbmdTaG93biB8fCAoeChpLCB7CgkJCQkJCW9wYWNpdHk6IDAsCgkJCQkJCWRpc3BsYXk6ICIiCgkJCQkJfSksIHl0KGksIHsKCQkJCQkJb3BhY2l0eTogby5zdHlsZS5vcGFjaXR5CgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogby5zaG93RHVyYXRpb24gfHwgMAoJCQkJCX0pLCB0LmxvYWRpbmdTaG93biA9ICEwKSwgcigpCgkJCQl9LAoJCQkJaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5vcHRpb25zLAoJCQkJCQl0ID0gdGhpcy5sb2FkaW5nRGl2OwoJCQkJCXQgJiYgeXQodCwgewoJCQkJCQlvcGFjaXR5OiAwCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogZS5sb2FkaW5nLmhpZGVEdXJhdGlvbiB8fCAxMDAsCgkJCQkJCWNvbXBsZXRlOiBmdW5jdGlvbigpIHsKCQkJCQkJCXgodCwgewoJCQkJCQkJCWRpc3BsYXk6IFFlCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfSksIHRoaXMubG9hZGluZ1Nob3duID0gITEKCQkJCX0KCQkJfSksIGEoR3QucHJvdG90eXBlLCB7CgkJCQl1cGRhdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQlmdW5jdGlvbiBhKCkgewoJCQkJCQlyLmFwcGx5T3B0aW9ucyhlKSwgbChlKSAmJiAhYyhlKSAmJiAoci5yZWRyYXcgPSBmdW5jdGlvbigpIHsKCQkJCQkJCWQgJiYgKGUgJiYgZS5tYXJrZXIgJiYgZS5tYXJrZXIuc3ltYm9sID8gci5ncmFwaGljID0gZC5kZXN0cm95KCkgOiBkLmF0dHIoci5wb2ludEF0dHJbci5zdGF0ZSB8fCAiIl0pKSwgZSAmJiBlLmRhdGFMYWJlbHMgJiYgci5kYXRhTGFiZWwgJiYgKHIuZGF0YUxhYmVsID0gci5kYXRhTGFiZWwuZGVzdHJveSgpKSwgci5yZWRyYXcgPSBudWxsCgkJCQkJCX0pLCBvID0gci5pbmRleCwgcy51cGRhdGVQYXJhbGxlbEFycmF5cyhyLCBvKSwgaC5kYXRhW29dID0gci5vcHRpb25zLCBzLmlzRGlydHkgPSBzLmlzRGlydHlEYXRhID0gITAsICFzLmZpeGVkQm94ICYmIHMuaGFzQ2FydGVzaWFuU2VyaWVzICYmIChwLmlzRGlydHlCb3ggPSAhMCksICJwb2ludCIgPT09IGgubGVnZW5kVHlwZSAmJiBwLmxlZ2VuZC5kZXN0cm95SXRlbShyKSwgdCAmJiBwLnJlZHJhdyhuKQoJCQkJCX0KCQkJCQl2YXIgbywgciA9IHRoaXMsCgkJCQkJCXMgPSByLnNlcmllcywKCQkJCQkJZCA9IHIuZ3JhcGhpYywKCQkJCQkJcCA9IHMuY2hhcnQsCgkJCQkJCWggPSBzLm9wdGlvbnM7CgkJCQkJdCA9IF8odCwgITApLCBpID09PSAhMSA/IGEoKSA6IHIuZmlyZVBvaW50RXZlbnQoInVwZGF0ZSIsIHsKCQkJCQkJb3B0aW9uczogZQoJCQkJCX0sIGEpCgkJCQl9LAoJCQkJcmVtb3ZlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5zZXJpZXMsCgkJCQkJCW8gPSBhLnBvaW50cywKCQkJCQkJciA9IGEuY2hhcnQsCgkJCQkJCXMgPSBhLmRhdGE7CgkJCQkJcSh0LCByKSwgZSA9IF8oZSwgITApLCBpLmZpcmVQb2ludEV2ZW50KCJyZW1vdmUiLCBudWxsLCBmdW5jdGlvbigpIHsKCQkJCQkJbiA9IHV0KGksIHMpLCBzLmxlbmd0aCA9PT0gby5sZW5ndGggJiYgby5zcGxpY2UobiwgMSksIHMuc3BsaWNlKG4sIDEpLCBhLm9wdGlvbnMuZGF0YS5zcGxpY2UobiwgMSksIGEudXBkYXRlUGFyYWxsZWxBcnJheXMoaSwgInNwbGljZSIsIG4sIDEpLCBpLmRlc3Ryb3koKSwgYS5pc0RpcnR5ID0gITAsIGEuaXNEaXJ0eURhdGEgPSAhMCwgZSAmJiByLnJlZHJhdygpCgkJCQkJfSkKCQkJCX0KCQkJfSksIGEoWHQucHJvdG90eXBlLCB7CgkJCQlhZGRQb2ludDogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCXZhciBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwub3B0aW9ucywKCQkJCQkJZCA9IGwuZGF0YSwKCQkJCQkJcCA9IGwuZ3JhcGgsCgkJCQkJCWggPSBsLmFyZWEsCgkJCQkJCXUgPSBsLmNoYXJ0LAoJCQkJCQltID0gbC54QXhpcyAmJiBsLnhBeGlzLm5hbWVzLAoJCQkJCQlmID0gcCAmJiBwLnNoaWZ0IHx8IDAsCgkJCQkJCWcgPSBjLmRhdGEsCgkJCQkJCXggPSBsLnhEYXRhOwoJCQkJCWlmIChxKGksIHUpLCBuICYmIG10KFtwLCBoLCBsLmdyYXBoTmVnLCBsLmFyZWFOZWddLCBmdW5jdGlvbihlKSB7CgkJCQkJCWUgJiYgKGUuc2hpZnQgPSBmICsgMSkKCQkJCQl9KSwgaCAmJiAoaC5pc0FyZWEgPSAhMCksIHQgPSBfKHQsICEwKSwgYSA9IHsKCQkJCQkJc2VyaWVzOiBsCgkJCQkJfSwgbC5wb2ludENsYXNzLnByb3RvdHlwZS5hcHBseU9wdGlvbnMuYXBwbHkoYSwgW2VdKSwgciA9IGEueCwgcyA9IHgubGVuZ3RoLCBsLnJlcXVpcmVTb3J0aW5nICYmIHIgPCB4W3MgLSAxXSkKCQkJCQkJZm9yIChvID0gITA7IHMgJiYgeFtzIC0gMV0gPiByOykgcy0tOwoJCQkJCWwudXBkYXRlUGFyYWxsZWxBcnJheXMoYSwgInNwbGljZSIsIHMsIDAsIDApLCBsLnVwZGF0ZVBhcmFsbGVsQXJyYXlzKGEsIHMpLCBtICYmIGEubmFtZSAmJiAobVtyXSA9IGEubmFtZSksIGcuc3BsaWNlKHMsIDAsIGUpLCBvICYmIChsLmRhdGEuc3BsaWNlKHMsIDAsIG51bGwpLCBsLnByb2Nlc3NEYXRhKCkpLCAicG9pbnQiID09PSBjLmxlZ2VuZFR5cGUgJiYgbC5nZW5lcmF0ZVBvaW50cygpLCBuICYmIChkWzBdICYmIGRbMF0ucmVtb3ZlID8gZFswXS5yZW1vdmUoITEpIDogKGQuc2hpZnQoKSwgbC51cGRhdGVQYXJhbGxlbEFycmF5cyhhLCAic2hpZnQiKSwgZy5zaGlmdCgpKSksIGwuaXNEaXJ0eSA9ICEwLCBsLmlzRGlydHlEYXRhID0gITAsIHQgJiYgKGwuZ2V0QXR0cmlicygpLCB1LnJlZHJhdygpKQoJCQkJfSwKCQkJCXJlbW92ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uY2hhcnQ7CgkJCQkJZSA9IF8oZSwgITApLCBuLmlzUmVtb3ZpbmcgfHwgKG4uaXNSZW1vdmluZyA9ICEwLCB2dChuLCAicmVtb3ZlIiwgbnVsbCwgZnVuY3Rpb24oKSB7CgkJCQkJCW4uZGVzdHJveSgpLCBpLmlzRGlydHlMZWdlbmQgPSBpLmlzRGlydHlCb3ggPSAhMCwgaS5saW5rU2VyaWVzKCksIGUgJiYgaS5yZWRyYXcodCkKCQkJCQl9KSksIG4uaXNSZW1vdmluZyA9ICExCgkJCQl9LAoJCQkJdXBkYXRlOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlyID0gdGhpcy5jaGFydCwKCQkJCQkJcyA9IHRoaXMudXNlck9wdGlvbnMsCgkJCQkJCWwgPSB0aGlzLnR5cGUsCgkJCQkJCWMgPSBzdFtsXS5wcm90b3R5cGUsCgkJCQkJCWQgPSBbImdyb3VwIiwgIm1hcmtlckdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdOwoJCQkJCW10KGQsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZFtlXSA9IGlbZV0sIGRlbGV0ZSBpW2VdCgkJCQkJfSksIGUgPSBvKHMsIHsKCQkJCQkJYW5pbWF0aW9uOiAhMSwKCQkJCQkJaW5kZXg6IHRoaXMuaW5kZXgsCgkJCQkJCXBvaW50U3RhcnQ6IHRoaXMueERhdGFbMF0KCQkJCQl9LCB7CgkJCQkJCWRhdGE6IHRoaXMub3B0aW9ucy5kYXRhCgkJCQkJfSwgZSksIHRoaXMucmVtb3ZlKCExKTsKCQkJCQlmb3IgKG4gaW4gYykgYy5oYXNPd25Qcm9wZXJ0eShuKSAmJiAodGhpc1tuXSA9IFcpOwoJCQkJCWEodGhpcywgc3RbZS50eXBlIHx8IGxdLnByb3RvdHlwZSksIG10KGQsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaVtlXSA9IGRbZV0KCQkJCQl9KSwgdGhpcy5pbml0KHIsIGUpLCByLmxpbmtTZXJpZXMoKSwgXyh0LCAhMCkgJiYgci5yZWRyYXcoITEpCgkJCQl9CgkJCX0pLCBhKFIucHJvdG90eXBlLCB7CgkJCQl1cGRhdGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHRoaXMuY2hhcnQ7CgkJCQkJZSA9IG4ub3B0aW9uc1t0aGlzLmNvbGxdW3RoaXMub3B0aW9ucy5pbmRleF0gPSBvKHRoaXMudXNlck9wdGlvbnMsIGUpLCB0aGlzLmRlc3Ryb3koITApLCB0aGlzLl9hZGRlZFBsb3RMQiA9IFcsIHRoaXMuaW5pdChuLCBhKGUsIHsKCQkJCQkJZXZlbnRzOiBXCgkJCQkJfSkpLCBuLmlzRGlydHlCb3ggPSAhMCwgXyh0LCAhMCkgJiYgbi5yZWRyYXcoKQoJCQkJfSwKCQkJCXJlbW92ZTogZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSB0aGlzLmNoYXJ0LCBuID0gdGhpcy5jb2xsLCBpID0gdGhpcy5zZXJpZXMsIGEgPSBpLmxlbmd0aDsgYS0tOykgaVthXSAmJiBpW2FdLnJlbW92ZSghMSk7CgkJCQkJdSh0LmF4ZXMsIHRoaXMpLCB1KHRbbl0sIHRoaXMpLCB0Lm9wdGlvbnNbbl0uc3BsaWNlKHRoaXMub3B0aW9ucy5pbmRleCwgMSksIG10KHRbbl0sIGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5vcHRpb25zLmluZGV4ID0gdAoJCQkJCX0pLCB0aGlzLmRlc3Ryb3koKSwgdC5pc0RpcnR5Qm94ID0gITAsIF8oZSwgITApICYmIHQucmVkcmF3KCkKCQkJCX0sCgkJCQlzZXRUaXRsZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXRoaXMudXBkYXRlKHsKCQkJCQkJdGl0bGU6IGUKCQkJCQl9LCB0KQoJCQkJfSwKCQkJCXNldENhdGVnb3JpZXM6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl0aGlzLnVwZGF0ZSh7CgkJCQkJCWNhdGVnb3JpZXM6IGUKCQkJCQl9LCB0KQoJCQkJfQoJCQl9KTsKCQkJdmFyIEp0ID0gdihYdCk7CgkJCXN0LmxpbmUgPSBKdCwgQnQuYXJlYSA9IG8oanQsIHsKCQkJCXRocmVzaG9sZDogMAoJCQl9KTsKCQkJdmFyIFp0ID0gdihYdCwgewoJCQkJdHlwZTogImFyZWEiLAoJCQkJZ2V0U2VnbWVudHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gdGhpcywKCQkJCQkJbyA9IFtdLAoJCQkJCQlyID0gW10sCgkJCQkJCXMgPSBbXSwKCQkJCQkJbCA9IHRoaXMueEF4aXMsCgkJCQkJCWMgPSB0aGlzLnlBeGlzLAoJCQkJCQlkID0gYy5zdGFja3NbdGhpcy5zdGFja0tleV0sCgkJCQkJCXAgPSB7fSwKCQkJCQkJaCA9IHRoaXMucG9pbnRzLAoJCQkJCQl1ID0gdGhpcy5vcHRpb25zLmNvbm5lY3ROdWxsczsKCQkJCQlpZiAodGhpcy5vcHRpb25zLnN0YWNraW5nICYmICF0aGlzLmNyb3BwZWQpIHsKCQkJCQkJZm9yIChuID0gMDsgbiA8IGgubGVuZ3RoOyBuKyspIHBbaFtuXS54XSA9IGhbbl07CgkJCQkJCWZvciAoaSBpbiBkKSBudWxsICE9PSBkW2ldLnRvdGFsICYmIHMucHVzaCgraSk7CgkJCQkJCXMuc29ydChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQlyZXR1cm4gZSAtIHQKCQkJCQkJfSksIG10KHMsIGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXZhciBvLCBzID0gMDsKCQkJCQkJCWlmICghdSB8fCBwW2ldICYmIG51bGwgIT09IHBbaV0ueSkKCQkJCQkJCQlpZiAocFtpXSkgci5wdXNoKHBbaV0pOwoJCQkJCQkJCWVsc2UgewoJCQkJCQkJCQlmb3IgKG4gPSBhLmluZGV4OyBuIDw9IGMuc2VyaWVzLmxlbmd0aDsgbisrKQoJCQkJCQkJCQkJaWYgKG8gPSBkW2ldLnBvaW50c1tuICsgIiwiICsgaV0pIHsKCQkJCQkJCQkJCQlzID0gb1sxXTsKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJfQoJCQkJCQkJCQllID0gbC50cmFuc2xhdGUoaSksIHQgPSBjLnRvUGl4ZWxzKHMsICEwKSwgci5wdXNoKHsKCQkJCQkJCQkJCXk6IG51bGwsCgkJCQkJCQkJCQlwbG90WDogZSwKCQkJCQkJCQkJCWNsaWVudFg6IGUsCgkJCQkJCQkJCQlwbG90WTogdCwKCQkJCQkJCQkJCXlCb3R0b206IHQsCgkJCQkJCQkJCQlvbk1vdXNlT3ZlcjogRmUKCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCX0pLCByLmxlbmd0aCAmJiBvLnB1c2gocikKCQkJCQl9IGVsc2UgWHQucHJvdG90eXBlLmdldFNlZ21lbnRzLmNhbGwodGhpcyksIG8gPSB0aGlzLnNlZ21lbnRzOwoJCQkJCXRoaXMuc2VnbWVudHMgPSBvCgkJCQl9LAoJCQkJZ2V0U2VnbWVudFBhdGg6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiwgaSA9IFh0LnByb3RvdHlwZS5nZXRTZWdtZW50UGF0aC5jYWxsKHRoaXMsIGUpLAoJCQkJCQlhID0gW10uY29uY2F0KGkpLAoJCQkJCQlvID0gdGhpcy5vcHRpb25zLAoJCQkJCQlyID0gaS5sZW5ndGgsCgkJCQkJCXMgPSB0aGlzLnlBeGlzLmdldFRocmVzaG9sZChvLnRocmVzaG9sZCk7CgkJCQkJaWYgKDMgPT09IHIgJiYgYS5wdXNoKHR0LCBpWzFdLCBpWzJdKSwgby5zdGFja2luZyAmJiAhdGhpcy5jbG9zZWRTdGFja3MpCgkJCQkJCWZvciAodCA9IGUubGVuZ3RoIC0gMTsgdCA+PSAwOyB0LS0pIG4gPSBfKGVbdF0ueUJvdHRvbSwgcyksIHQgPCBlLmxlbmd0aCAtIDEgJiYgby5zdGVwICYmIGEucHVzaChlW3QgKyAxXS5wbG90WCwgbiksIGEucHVzaChlW3RdLnBsb3RYLCBuKTsKCQkJCQllbHNlIHRoaXMuY2xvc2VTZWdtZW50KGEsIGUsIHMpOwoJCQkJCXJldHVybiB0aGlzLmFyZWFQYXRoID0gdGhpcy5hcmVhUGF0aC5jb25jYXQoYSksIGkKCQkJCX0sCgkJCQljbG9zZVNlZ21lbnQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQllLnB1c2godHQsIHRbdC5sZW5ndGggLSAxXS5wbG90WCwgbiwgdHQsIHRbMF0ucGxvdFgsIG4pCgkJCQl9LAoJCQkJZHJhd0dyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl0aGlzLmFyZWFQYXRoID0gW10sIFh0LnByb3RvdHlwZS5kcmF3R3JhcGguYXBwbHkodGhpcyk7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gdGhpcy5hcmVhUGF0aCwKCQkJCQkJbiA9IHRoaXMub3B0aW9ucywKCQkJCQkJaSA9IG4ubmVnYXRpdmVDb2xvciwKCQkJCQkJYSA9IG4ubmVnYXRpdmVGaWxsQ29sb3IsCgkJCQkJCW8gPSBbCgkJCQkJCQlbImFyZWEiLCB0aGlzLmNvbG9yLCBuLmZpbGxDb2xvcl0KCQkJCQkJXTsKCQkJCQkoaSB8fCBhKSAmJiBvLnB1c2goWyJhcmVhTmVnIiwgaSwgYV0pLCBtdChvLCBmdW5jdGlvbihpKSB7CgkJCQkJCXZhciBhID0gaVswXSwKCQkJCQkJCW8gPSBlW2FdOwoJCQkJCQlvID8gby5hbmltYXRlKHsKCQkJCQkJCWQ6IHQKCQkJCQkJfSkgOiBlW2FdID0gZS5jaGFydC5yZW5kZXJlci5wYXRoKHQpLmF0dHIoewoJCQkJCQkJZmlsbDogXyhpWzJdLCBUdChpWzFdKS5zZXRPcGFjaXR5KF8obi5maWxsT3BhY2l0eSwgLjc1KSkuZ2V0KCkpLAoJCQkJCQkJekluZGV4OiAwCgkJCQkJCX0pLmFkZChlLmdyb3VwKQoJCQkJCX0pCgkJCQl9LAoJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd1JlY3RhbmdsZQoJCQl9KTsKCQkJc3QuYXJlYSA9IFp0LCBCdC5zcGxpbmUgPSBvKGp0KTsKCQkJdmFyIFZ0ID0gdihYdCwgewoJCQkJdHlwZTogInNwbGluZSIsCgkJCQlnZXRQb2ludFNwbGluZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXZhciBpLCBhLCBvLCByLCBzLCBsID0gMS41LAoJCQkJCQljID0gbCArIDEsCgkJCQkJCWQgPSB0LnBsb3RYLAoJCQkJCQlwID0gdC5wbG90WSwKCQkJCQkJaCA9IGVbbiAtIDFdLAoJCQkJCQl1ID0gZVtuICsgMV07CgkJCQkJaWYgKGggJiYgdSkgewoJCQkJCQl2YXIgbSwgZiA9IGgucGxvdFgsCgkJCQkJCQlnID0gaC5wbG90WSwKCQkJCQkJCV8gPSB1LnBsb3RYLAoJCQkJCQkJeCA9IHUucGxvdFk7CgkJCQkJCWkgPSAobCAqIGQgKyBmKSAvIGMsIGEgPSAobCAqIHAgKyBnKSAvIGMsIG8gPSAobCAqIGQgKyBfKSAvIGMsIHIgPSAobCAqIHAgKyB4KSAvIGMsIG0gPSAociAtIGEpICogKG8gLSBkKSAvIChvIC0gaSkgKyBwIC0gciwgYSArPSBtLCByICs9IG0sIGEgPiBnICYmIGEgPiBwID8gKGEgPSBiZShnLCBwKSwgciA9IDIgKiBwIC0gYSkgOiBnID4gYSAmJiBwID4gYSAmJiAoYSA9IHllKGcsIHApLCByID0gMiAqIHAgLSBhKSwgciA+IHggJiYgciA+IHAgPyAociA9IGJlKHgsIHApLCBhID0gMiAqIHAgLSByKSA6IHggPiByICYmIHAgPiByICYmIChyID0geWUoeCwgcCksIGEgPSAyICogcCAtIHIpLCB0LnJpZ2h0Q29udFggPSBvLCB0LnJpZ2h0Q29udFkgPSByCgkJCQkJfQoJCQkJCXJldHVybiBuID8gKHMgPSBbIkMiLCBoLnJpZ2h0Q29udFggfHwgaC5wbG90WCwgaC5yaWdodENvbnRZIHx8IGgucGxvdFksIGkgfHwgZCwgYSB8fCBwLCBkLCBwXSwgaC5yaWdodENvbnRYID0gaC5yaWdodENvbnRZID0gbnVsbCkgOiBzID0gW2V0LCBkLCBwXSwgcwoJCQkJfQoJCQl9KTsKCQkJc3Quc3BsaW5lID0gVnQsIEJ0LmFyZWFzcGxpbmUgPSBvKEJ0LmFyZWEpOwoJCQl2YXIgS3QgPSBadC5wcm90b3R5cGUsCgkJCQlRdCA9IHYoVnQsIHsKCQkJCQl0eXBlOiAiYXJlYXNwbGluZSIsCgkJCQkJY2xvc2VkU3RhY2tzOiAhMCwKCQkJCQlnZXRTZWdtZW50UGF0aDogS3QuZ2V0U2VnbWVudFBhdGgsCgkJCQkJY2xvc2VTZWdtZW50OiBLdC5jbG9zZVNlZ21lbnQsCgkJCQkJZHJhd0dyYXBoOiBLdC5kcmF3R3JhcGgsCgkJCQkJZHJhd0xlZ2VuZFN5bWJvbDogVXQuZHJhd1JlY3RhbmdsZQoJCQkJfSk7CgkJCXN0LmFyZWFzcGxpbmUgPSBRdCwgQnQuY29sdW1uID0gbyhqdCwgewoJCQkJYm9yZGVyQ29sb3I6ICIjRkZGRkZGIiwKCQkJCWJvcmRlclJhZGl1czogMCwKCQkJCWdyb3VwUGFkZGluZzogLjIsCgkJCQltYXJrZXI6IG51bGwsCgkJCQlwb2ludFBhZGRpbmc6IC4xLAoJCQkJbWluUG9pbnRMZW5ndGg6IDAsCgkJCQljcm9wVGhyZXNob2xkOiA1MCwKCQkJCXBvaW50UmFuZ2U6IG51bGwsCgkJCQlzdGF0ZXM6IHsKCQkJCQlob3ZlcjogewoJCQkJCQlicmlnaHRuZXNzOiAuMSwKCQkJCQkJc2hhZG93OiAhMSwKCQkJCQkJaGFsbzogITEKCQkJCQl9LAoJCQkJCXNlbGVjdDogewoJCQkJCQljb2xvcjogIiNDMEMwQzAiLAoJCQkJCQlib3JkZXJDb2xvcjogIiMwMDAwMDAiLAoJCQkJCQlzaGFkb3c6ICExCgkJCQkJfQoJCQkJfSwKCQkJCWRhdGFMYWJlbHM6IHsKCQkJCQlhbGlnbjogbnVsbCwKCQkJCQl2ZXJ0aWNhbEFsaWduOiBudWxsLAoJCQkJCXk6IG51bGwKCQkJCX0sCgkJCQlzdGlja3lUcmFja2luZzogITEsCgkJCQl0b29sdGlwOiB7CgkJCQkJZGlzdGFuY2U6IDYKCQkJCX0sCgkJCQl0aHJlc2hvbGQ6IDAKCQkJfSk7CgkJCXZhciBlbiA9IHYoWHQsIHsKCQkJCXR5cGU6ICJjb2x1bW4iLAoJCQkJcG9pbnRBdHRyVG9PcHRpb25zOiB7CgkJCQkJc3Ryb2tlOiAiYm9yZGVyQ29sb3IiLAoJCQkJCWZpbGw6ICJjb2xvciIsCgkJCQkJcjogImJvcmRlclJhZGl1cyIKCQkJCX0sCgkJCQljcm9wU2hvdWxkZXI6IDAsCgkJCQl0cmFja2VyR3JvdXBzOiBbImdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdLAoJCQkJbmVnU3RhY2tzOiAhMCwKCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCVh0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5jaGFydDsKCQkJCQl0Lmhhc1JlbmRlcmVkICYmIG10KHQuc2VyaWVzLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQudHlwZSA9PT0gZS50eXBlICYmICh0LmlzRGlydHkgPSAhMCkKCQkJCQl9KQoJCQkJfSwKCQkJCWdldENvbHVtbk1ldHJpY3M6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IG4ub3B0aW9ucywKCQkJCQkJYSA9IG4ueEF4aXMsCgkJCQkJCW8gPSBuLnlBeGlzLAoJCQkJCQlyID0gYS5yZXZlcnNlZCwKCQkJCQkJcyA9IHt9LAoJCQkJCQlsID0gMDsKCQkJCQlpLmdyb3VwaW5nID09PSAhMSA/IGwgPSAxIDogbXQobi5jaGFydC5zZXJpZXMsIGZ1bmN0aW9uKGkpIHsKCQkJCQkJdmFyIGEgPSBpLm9wdGlvbnMsCgkJCQkJCQlyID0gaS55QXhpczsKCQkJCQkJaS50eXBlID09PSBuLnR5cGUgJiYgaS52aXNpYmxlICYmIG8ubGVuID09PSByLmxlbiAmJiBvLnBvcyA9PT0gci5wb3MgJiYgKGEuc3RhY2tpbmcgPyAoZSA9IGkuc3RhY2tLZXksIHNbZV0gPT09IFcgJiYgKHNbZV0gPSBsKyspLCB0ID0gc1tlXSkgOiBhLmdyb3VwaW5nICE9PSAhMSAmJiAodCA9IGwrKyksIGkuY29sdW1uSW5kZXggPSB0KQoJCQkJCX0pOwoJCQkJCXZhciBjID0geWUoa2UoYS50cmFuc0EpICogKGEub3JkaW5hbFNsb3BlIHx8IGkucG9pbnRSYW5nZSB8fCBhLmNsb3Nlc3RQb2ludFJhbmdlIHx8IGEudGlja0ludGVydmFsIHx8IDEpLCBhLmxlbiksCgkJCQkJCWQgPSBjICogaS5ncm91cFBhZGRpbmcsCgkJCQkJCXAgPSBjIC0gMiAqIGQsCgkJCQkJCWggPSBwIC8gbCwKCQkJCQkJdSA9IGkucG9pbnRXaWR0aCwKCQkJCQkJZiA9IG0odSkgPyAoaCAtIHUpIC8gMiA6IGggKiBpLnBvaW50UGFkZGluZywKCQkJCQkJZyA9IF8odSwgaCAtIDIgKiBmKSwKCQkJCQkJeCA9IChyID8gbCAtIChuLmNvbHVtbkluZGV4IHx8IDApIDogbi5jb2x1bW5JbmRleCkgfHwgMCwKCQkJCQkJdyA9IGYgKyAoZCArIHggKiBoIC0gYyAvIDIpICogKHIgPyAtMSA6IDEpOwoJCQkJCXJldHVybiBuLmNvbHVtbk1ldHJpY3MgPSB7CgkJCQkJCXdpZHRoOiBnLAoJCQkJCQlvZmZzZXQ6IHcKCQkJCQl9CgkJCQl9LAoJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0LAoJCQkJCQluID0gZS5vcHRpb25zLAoJCQkJCQlpID0gZS5ib3JkZXJXaWR0aCA9IF8obi5ib3JkZXJXaWR0aCwgZS5hY3RpdmVQb2ludENvdW50ID4gLjUgKiBlLnhBeGlzLmxlbiA/IDAgOiAxKSwKCQkJCQkJYSA9IGUueUF4aXMsCgkJCQkJCW8gPSBuLnRocmVzaG9sZCwKCQkJCQkJciA9IGUudHJhbnNsYXRlZFRocmVzaG9sZCA9IGEuZ2V0VGhyZXNob2xkKG8pLAoJCQkJCQlzID0gXyhuLm1pblBvaW50TGVuZ3RoLCA1KSwKCQkJCQkJbCA9IGUuZ2V0Q29sdW1uTWV0cmljcygpLAoJCQkJCQljID0gbC53aWR0aCwKCQkJCQkJZCA9IGUuYmFyVyA9IGJlKGMsIDEgKyAyICogaSksCgkJCQkJCXAgPSBlLnBvaW50WE9mZnNldCA9IGwub2Zmc2V0LAoJCQkJCQloID0gLShpICUgMiA/IC41IDogMCksCgkJCQkJCXUgPSBpICUgMiA/IC41IDogMTsKCQkJCQl0LnJlbmRlcmVyLmlzVk1MICYmIHQuaW52ZXJ0ZWQgJiYgKHUgKz0gMSksIG4ucG9pbnRQYWRkaW5nICYmIChkID0gdmUoZCkpLCBYdC5wcm90b3R5cGUudHJhbnNsYXRlLmFwcGx5KGUpLCBtdChlLnBvaW50cywgZnVuY3Rpb24obikgewoJCQkJCQl2YXIgaSwgbywgbCwgbSA9IF8obi55Qm90dG9tLCByKSwKCQkJCQkJCWYgPSB5ZShiZSgtOTk5IC0gbSwgbi5wbG90WSksIGEubGVuICsgOTk5ICsgbSksCgkJCQkJCQlnID0gbi5wbG90WCArIHAsCgkJCQkJCQl4ID0gZCwKCQkJCQkJCXcgPSB5ZShmLCBtKSwKCQkJCQkJCXYgPSBiZShmLCBtKSAtIHc7CgkJCQkJCWtlKHYpIDwgcyAmJiBzICYmICh2ID0gcywgdyA9IHhlKGtlKHcgLSByKSA+IHMgPyBtIC0gcyA6IHIgLSAoYS50cmFuc2xhdGUobi55LCAwLCAxLCAwLCAxKSA8PSByID8gcyA6IDApKSksIG4uYmFyWCA9IGcsIG4ucG9pbnRXaWR0aCA9IGMsIG4udG9vbHRpcFBvcyA9IHQuaW52ZXJ0ZWQgPyBbYS5sZW4gLSBmLCBlLnhBeGlzLmxlbiAtIGcgLSB4IC8gMl0gOiBbZyArIHggLyAyLCBmICsgYS5wb3MgLSB0LnBsb3RUb3BdLCBpID0geGUoZyArIHgpICsgaCwgZyA9IHhlKGcpICsgaCwgeCA9IGkgLSBnLCBsID0ga2UodykgPCAuNSwgbyA9IHhlKHcgKyB2KSArIHUsIHcgPSB4ZSh3KSArIHUsIHYgPSBvIC0gdywgbCAmJiAodyAtPSAxLCB2ICs9IDEpLCBuLnNoYXBlVHlwZSA9ICJyZWN0Iiwgbi5zaGFwZUFyZ3MgPSB7CgkJCQkJCQl4OiBnLAoJCQkJCQkJeTogdywKCQkJCQkJCXdpZHRoOiB4LAoJCQkJCQkJaGVpZ2h0OiB2CgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWdldFN5bWJvbDogRmUsCgkJCQlkcmF3TGVnZW5kU3ltYm9sOiBVdC5kcmF3UmVjdGFuZ2xlLAoJCQkJZHJhd0dyYXBoOiBGZSwKCQkJCWRyYXdQb2ludHM6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlLCB0LCBuID0gdGhpcywKCQkJCQkJaSA9IHRoaXMuY2hhcnQsCgkJCQkJCWEgPSBuLm9wdGlvbnMsCgkJCQkJCXIgPSBpLnJlbmRlcmVyLAoJCQkJCQlzID0gYS5hbmltYXRpb25MaW1pdCB8fCAyNTA7CgkJCQkJbXQobi5wb2ludHMsIGZ1bmN0aW9uKGwpIHsKCQkJCQkJdmFyIGMsIGQgPSBsLnBsb3RZLAoJCQkJCQkJcCA9IGwuZ3JhcGhpYzsKCQkJCQkJZCA9PT0gVyB8fCBpc05hTihkKSB8fCBudWxsID09PSBsLnkgPyBwICYmIChsLmdyYXBoaWMgPSBwLmRlc3Ryb3koKSkgOiAoZSA9IGwuc2hhcGVBcmdzLCBjID0gbShuLmJvcmRlcldpZHRoKSA/IHsKCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBuLmJvcmRlcldpZHRoCgkJCQkJCX0gOiB7fSwgdCA9IGwucG9pbnRBdHRyW2wuc2VsZWN0ZWQgPyBvdCA6IGl0XSB8fCBuLnBvaW50QXR0cltpdF0sIHAgPyAoa3QocCksIHAuYXR0cihjKVtpLnBvaW50Q291bnQgPCBzID8gImFuaW1hdGUiIDogImF0dHIiXShvKGUpKSkgOiBsLmdyYXBoaWMgPSBwID0gcltsLnNoYXBlVHlwZV0oZSkuYXR0cih0KS5hdHRyKGMpLmFkZChuLmdyb3VwKS5zaGFkb3coYS5zaGFkb3csIG51bGwsIGEuc3RhY2tpbmcgJiYgIWEuYm9yZGVyUmFkaXVzKSkKCQkJCQl9KQoJCQkJfSwKCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCwgbiA9IHRoaXMsCgkJCQkJCWkgPSB0aGlzLnlBeGlzLAoJCQkJCQlhID0gbi5vcHRpb25zLAoJCQkJCQlvID0gdGhpcy5jaGFydC5pbnZlcnRlZCwKCQkJCQkJciA9IHt9OwoJCQkJCU9lICYmIChlID8gKHIuc2NhbGVZID0gLjAwMSwgdCA9IHllKGkucG9zICsgaS5sZW4sIGJlKGkucG9zLCBpLnRvUGl4ZWxzKGEudGhyZXNob2xkKSkpLCBvID8gci50cmFuc2xhdGVYID0gdCAtIGkubGVuIDogci50cmFuc2xhdGVZID0gdCwgbi5ncm91cC5hdHRyKHIpKSA6IChyLnNjYWxlWSA9IDEsIHJbbyA/ICJ0cmFuc2xhdGVYIiA6ICJ0cmFuc2xhdGVZIl0gPSBpLnBvcywgbi5ncm91cC5hbmltYXRlKHIsIG4ub3B0aW9ucy5hbmltYXRpb24pLCBuLmFuaW1hdGUgPSBudWxsKSkKCQkJCX0sCgkJCQlyZW1vdmU6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQ7CgkJCQkJdC5oYXNSZW5kZXJlZCAmJiBtdCh0LnNlcmllcywgZnVuY3Rpb24odCkgewoJCQkJCQl0LnR5cGUgPT09IGUudHlwZSAmJiAodC5pc0RpcnR5ID0gITApCgkJCQkJfSksIFh0LnByb3RvdHlwZS5yZW1vdmUuYXBwbHkoZSwgYXJndW1lbnRzKQoJCQkJfQoJCQl9KTsKCQkJc3QuY29sdW1uID0gZW4sIEJ0LmJhciA9IG8oQnQuY29sdW1uKTsKCQkJdmFyIHRuID0gdihlbiwgewoJCQkJdHlwZTogImJhciIsCgkJCQlpbnZlcnRlZDogITAKCQkJfSk7CgkJCXN0LmJhciA9IHRuLCBCdC5zY2F0dGVyID0gbyhqdCwgewoJCQkJbGluZVdpZHRoOiAwLAoJCQkJdG9vbHRpcDogewoJCQkJCWhlYWRlckZvcm1hdDogJzxzcGFuIHN0eWxlPSJjb2xvcjp7c2VyaWVzLmNvbG9yfSI+4pePPC9zcGFuPiA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMHB4OyI+IHtzZXJpZXMubmFtZX08L3NwYW4+PGJyLz4nLAoJCQkJCXBvaW50Rm9ybWF0OiAieDogPGI+e3BvaW50Lnh9PC9iPjxici8+eTogPGI+e3BvaW50Lnl9PC9iPjxici8+IgoJCQkJfSwKCQkJCXN0aWNreVRyYWNraW5nOiAhMQoJCQl9KTsKCQkJdmFyIG5uID0gdihYdCwgewoJCQkJdHlwZTogInNjYXR0ZXIiLAoJCQkJc29ydGVkOiAhMSwKCQkJCXJlcXVpcmVTb3J0aW5nOiAhMSwKCQkJCW5vU2hhcmVkVG9vbHRpcDogITAsCgkJCQl0cmFja2VyR3JvdXBzOiBbIm1hcmtlckdyb3VwIiwgImRhdGFMYWJlbHNHcm91cCJdLAoJCQkJdGFrZU9yZGluYWxQb3NpdGlvbjogITEsCgkJCQlzaW5ndWxhclRvb2x0aXBzOiAhMCwKCQkJCWRyYXdHcmFwaDogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5vcHRpb25zLmxpbmVXaWR0aCAmJiBYdC5wcm90b3R5cGUuZHJhd0dyYXBoLmNhbGwodGhpcykKCQkJCX0KCQkJfSk7CgkJCXN0LnNjYXR0ZXIgPSBubiwgQnQucGllID0gbyhqdCwgewoJCQkJYm9yZGVyQ29sb3I6ICIjRkZGRkZGIiwKCQkJCWJvcmRlcldpZHRoOiAxLAoJCQkJY2VudGVyOiBbbnVsbCwgbnVsbF0sCgkJCQljbGlwOiAhMSwKCQkJCWNvbG9yQnlQb2ludDogITAsCgkJCQlkYXRhTGFiZWxzOiB7CgkJCQkJZGlzdGFuY2U6IDMwLAoJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB0aGlzLnBvaW50Lm5hbWUKCQkJCQl9CgkJCQl9LAoJCQkJaWdub3JlSGlkZGVuUG9pbnQ6ICEwLAoJCQkJbGVnZW5kVHlwZTogInBvaW50IiwKCQkJCW1hcmtlcjogbnVsbCwKCQkJCXNpemU6IG51bGwsCgkJCQlzaG93SW5MZWdlbmQ6ICExLAoJCQkJc2xpY2VkT2Zmc2V0OiAxMCwKCQkJCXN0YXRlczogewoJCQkJCWhvdmVyOiB7CgkJCQkJCWJyaWdodG5lc3M6IC4xLAoJCQkJCQlzaGFkb3c6ICExCgkJCQkJfQoJCQkJfSwKCQkJCXN0aWNreVRyYWNraW5nOiAhMSwKCQkJCXRvb2x0aXA6IHsKCQkJCQlmb2xsb3dQb2ludGVyOiAhMAoJCQkJfQoJCQl9KTsKCQkJdmFyIGFuID0gdihHdCwgewoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQlHdC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJCQkJCQl2YXIgZSwgdCA9IHRoaXM7CgkJCQkJCXJldHVybiB0LnkgPCAwICYmICh0LnkgPSBudWxsKSwgYSh0LCB7CgkJCQkJCQl2aXNpYmxlOiB0LnZpc2libGUgIT09ICExLAoJCQkJCQkJbmFtZTogXyh0Lm5hbWUsICJTbGljZSIpCgkJCQkJCX0pLCBlID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJdC5zbGljZSgic2VsZWN0IiA9PT0gZS50eXBlKQoJCQkJCQl9LCB4dCh0LCAic2VsZWN0IiwgZSksIHh0KHQsICJ1bnNlbGVjdCIsIGUpLCB0CgkJCQkJfSwKCQkJCQlzZXRWaXNpYmxlOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJCW4gPSB0LnNlcmllcywKCQkJCQkJCWkgPSBuLmNoYXJ0OwoJCQkJCQl0LnZpc2libGUgPSB0Lm9wdGlvbnMudmlzaWJsZSA9IGUgPSBlID09PSBXID8gIXQudmlzaWJsZSA6IGUsIG4ub3B0aW9ucy5kYXRhW3V0KHQsIG4uZGF0YSldID0gdC5vcHRpb25zLCBtdChbImdyYXBoaWMiLCAiZGF0YUxhYmVsIiwgImNvbm5lY3RvciIsICJzaGFkb3dHcm91cCJdLCBmdW5jdGlvbihuKSB7CgkJCQkJCQl0W25dICYmIHRbbl1bZSA/ICJzaG93IiA6ICJoaWRlIl0oITApCgkJCQkJCX0pLCB0LmxlZ2VuZEl0ZW0gJiYgaS5sZWdlbmQuY29sb3JpemVJdGVtKHQsIGUpLCAhbi5pc0RpcnR5ICYmIG4ub3B0aW9ucy5pZ25vcmVIaWRkZW5Qb2ludCAmJiAobi5pc0RpcnR5ID0gITAsIGkucmVkcmF3KCkpCgkJCQkJfSwKCQkJCQlzbGljZTogZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCQl2YXIgaSwgYSA9IHRoaXMsCgkJCQkJCQlvID0gYS5zZXJpZXMsCgkJCQkJCQlyID0gby5jaGFydDsKCQkJCQkJcShuLCByKSwgdCA9IF8odCwgITApLCBhLnNsaWNlZCA9IGEub3B0aW9ucy5zbGljZWQgPSBlID0gbShlKSA/IGUgOiAhYS5zbGljZWQsIG8ub3B0aW9ucy5kYXRhW3V0KGEsIG8uZGF0YSldID0gYS5vcHRpb25zLCBpID0gZSA/IGEuc2xpY2VkVHJhbnNsYXRpb24gOiB7CgkJCQkJCQl0cmFuc2xhdGVYOiAwLAoJCQkJCQkJdHJhbnNsYXRlWTogMAoJCQkJCQl9LCBhLmdyYXBoaWMuYW5pbWF0ZShpKSwgYS5zaGFkb3dHcm91cCAmJiBhLnNoYWRvd0dyb3VwLmFuaW1hdGUoaSkKCQkJCQl9LAoJCQkJCWhhbG9QYXRoOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpcy5zaGFwZUFyZ3MsCgkJCQkJCQluID0gdGhpcy5zZXJpZXMuY2hhcnQ7CgkJCQkJCXJldHVybiB0aGlzLnNsaWNlZCB8fCAhdGhpcy52aXNpYmxlID8gW10gOiB0aGlzLnNlcmllcy5jaGFydC5yZW5kZXJlci5zeW1ib2xzLmFyYyhuLnBsb3RMZWZ0ICsgdC54LCBuLnBsb3RUb3AgKyB0LnksIHQuciArIGUsIHQuciArIGUsIHsKCQkJCQkJCWlubmVyUjogdGhpcy5zaGFwZUFyZ3MuciwKCQkJCQkJCXN0YXJ0OiB0LnN0YXJ0LAoJCQkJCQkJZW5kOiB0LmVuZAoJCQkJCQl9KQoJCQkJCX0KCQkJCX0pLAoJCQkJb24gPSB7CgkJCQkJdHlwZTogInBpZSIsCgkJCQkJaXNDYXJ0ZXNpYW46ICExLAoJCQkJCXBvaW50Q2xhc3M6IGFuLAoJCQkJCXJlcXVpcmVTb3J0aW5nOiAhMSwKCQkJCQlub1NoYXJlZFRvb2x0aXA6ICEwLAoJCQkJCXRyYWNrZXJHcm91cHM6IFsiZ3JvdXAiLCAiZGF0YUxhYmVsc0dyb3VwIl0sCgkJCQkJYXhpc1R5cGVzOiBbXSwKCQkJCQlwb2ludEF0dHJUb09wdGlvbnM6IHsKCQkJCQkJc3Ryb2tlOiAiYm9yZGVyQ29sb3IiLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogImJvcmRlcldpZHRoIiwKCQkJCQkJZmlsbDogImNvbG9yIgoJCQkJCX0sCgkJCQkJc2luZ3VsYXJUb29sdGlwczogITAsCgkJCQkJZ2V0Q29sb3I6IEZlLAoJCQkJCWFuaW1hdGU6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSB0aGlzLAoJCQkJCQkJbiA9IHQucG9pbnRzLAoJCQkJCQkJaSA9IHQuc3RhcnRBbmdsZVJhZDsKCQkJCQkJZSB8fCAobXQobiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJdmFyIG4gPSBlLmdyYXBoaWMsCgkJCQkJCQkJYSA9IGUuc2hhcGVBcmdzOwoJCQkJCQkJbiAmJiAobi5hdHRyKHsKCQkJCQkJCQlyOiB0LmNlbnRlclszXSAvIDIsCgkJCQkJCQkJc3RhcnQ6IGksCgkJCQkJCQkJZW5kOiBpCgkJCQkJCQl9KSwgbi5hbmltYXRlKHsKCQkJCQkJCQlyOiBhLnIsCgkJCQkJCQkJc3RhcnQ6IGEuc3RhcnQsCgkJCQkJCQkJZW5kOiBhLmVuZAoJCQkJCQkJfSwgdC5vcHRpb25zLmFuaW1hdGlvbikpCgkJCQkJCX0pLCB0LmFuaW1hdGUgPSBudWxsKQoJCQkJCX0sCgkJCQkJc2V0RGF0YTogZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQlYdC5wcm90b3R5cGUuc2V0RGF0YS5jYWxsKHRoaXMsIGUsICExLCBuLCBpKSwgdGhpcy5wcm9jZXNzRGF0YSgpLCB0aGlzLmdlbmVyYXRlUG9pbnRzKCksIF8odCwgITApICYmIHRoaXMuY2hhcnQucmVkcmF3KG4pCgkJCQkJfSwKCQkJCQlnZW5lcmF0ZVBvaW50czogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlLCB0LCBuLCBpLCBhID0gMCwKCQkJCQkJCW8gPSB0aGlzLm9wdGlvbnMuaWdub3JlSGlkZGVuUG9pbnQ7CgkJCQkJCWZvciAoWHQucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzLmNhbGwodGhpcyksIHQgPSB0aGlzLnBvaW50cywgbiA9IHQubGVuZ3RoLCBlID0gMDsgbiA+IGU7IGUrKykgaSA9IHRbZV0sIGEgKz0gbyAmJiAhaS52aXNpYmxlID8gMCA6IGkueTsKCQkJCQkJZm9yICh0aGlzLnRvdGFsID0gYSwgZSA9IDA7IG4gPiBlOyBlKyspIGkgPSB0W2VdLCBpLnBlcmNlbnRhZ2UgPSBhID4gMCA/IGkueSAvIGEgKiAxMDAgOiAwLCBpLnRvdGFsID0gYQoJCQkJCX0sCgkJCQkJdHJhbnNsYXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJCXRoaXMuZ2VuZXJhdGVQb2ludHMoKTsKCQkJCQkJdmFyIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwgPSB0aGlzLAoJCQkJCQkJYyA9IDAsCgkJCQkJCQlkID0gMWUzLAoJCQkJCQkJcCA9IGwub3B0aW9ucywKCQkJCQkJCWggPSBwLnNsaWNlZE9mZnNldCwKCQkJCQkJCXUgPSBoICsgcC5ib3JkZXJXaWR0aCwKCQkJCQkJCW0gPSBwLnN0YXJ0QW5nbGUgfHwgMCwKCQkJCQkJCWYgPSBsLnN0YXJ0QW5nbGVSYWQgPSBqZSAvIDE4MCAqIChtIC0gOTApLAoJCQkJCQkJZyA9IGwuZW5kQW5nbGVSYWQgPSBqZSAvIDE4MCAqIChfKHAuZW5kQW5nbGUsIG0gKyAzNjApIC0gOTApLAoJCQkJCQkJeCA9IGcgLSBmLAoJCQkJCQkJdyA9IGwucG9pbnRzLAoJCQkJCQkJdiA9IHAuZGF0YUxhYmVscy5kaXN0YW5jZSwKCQkJCQkJCWIgPSBwLmlnbm9yZUhpZGRlblBvaW50LAoJCQkJCQkJeSA9IHcubGVuZ3RoOwoJCQkJCQlmb3IgKGUgfHwgKGwuY2VudGVyID0gZSA9IGwuZ2V0Q2VudGVyKCkpLCBsLmdldFggPSBmdW5jdGlvbih0LCBuKSB7CgkJCQkJCQlyZXR1cm4gaSA9IF9lLmFzaW4oeWUoKHQgLSBlWzFdKSAvIChlWzJdIC8gMiArIHYpLCAxKSksIGVbMF0gKyAobiA/IC0xIDogMSkgKiAoemUoaSkgKiAoZVsyXSAvIDIgKyB2KSkKCQkJCQkJfSwgciA9IDA7IHkgPiByOyByKyspIHMgPSB3W3JdLCB0ID0gZiArIGMgKiB4LCAoIWIgfHwgcy52aXNpYmxlKSAmJiAoYyArPSBzLnBlcmNlbnRhZ2UgLyAxMDApLCBuID0gZiArIGMgKiB4LCBzLnNoYXBlVHlwZSA9ICJhcmMiLCBzLnNoYXBlQXJncyA9IHsKCQkJCQkJCXg6IGVbMF0sCgkJCQkJCQl5OiBlWzFdLAoJCQkJCQkJcjogZVsyXSAvIDIsCgkJCQkJCQlpbm5lclI6IGVbM10gLyAyLAoJCQkJCQkJc3RhcnQ6IHhlKHQgKiBkKSAvIGQsCgkJCQkJCQllbmQ6IHhlKG4gKiBkKSAvIGQKCQkJCQkJfSwgaSA9IChuICsgdCkgLyAyLCBpID4gMS41ICogamUgPyBpIC09IDIgKiBqZSA6IC1qZSAvIDIgPiBpICYmIChpICs9IDIgKiBqZSksIHMuc2xpY2VkVHJhbnNsYXRpb24gPSB7CgkJCQkJCQl0cmFuc2xhdGVYOiB4ZSh6ZShpKSAqIGgpLAoJCQkJCQkJdHJhbnNsYXRlWTogeGUoQmUoaSkgKiBoKQoJCQkJCQl9LCBhID0gemUoaSkgKiBlWzJdIC8gMiwgbyA9IEJlKGkpICogZVsyXSAvIDIsIHMudG9vbHRpcFBvcyA9IFtlWzBdICsgLjcgKiBhLCBlWzFdICsgLjcgKiBvXSwgcy5oYWxmID0gLWplIC8gMiA+IGkgfHwgaSA+IGplIC8gMiA/IDEgOiAwLCBzLmFuZ2xlID0gaSwgdSA9IHllKHUsIHYgLyAyKSwgcy5sYWJlbFBvcyA9IFtlWzBdICsgYSArIHplKGkpICogdiwgZVsxXSArIG8gKyBCZShpKSAqIHYsIGVbMF0gKyBhICsgemUoaSkgKiB1LCBlWzFdICsgbyArIEJlKGkpICogdSwgZVswXSArIGEsIGVbMV0gKyBvLCAwID4gdiA/ICJjZW50ZXIiIDogcy5oYWxmID8gInJpZ2h0IiA6ICJsZWZ0IiwgaV0KCQkJCQl9LAoJCQkJCWRyYXdHcmFwaDogbnVsbCwKCQkJCQlkcmF3UG9pbnRzOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUsIHQsIG4sIGksIG8gPSB0aGlzLAoJCQkJCQkJciA9IG8uY2hhcnQsCgkJCQkJCQlzID0gci5yZW5kZXJlciwKCQkJCQkJCWwgPSBvLm9wdGlvbnMuc2hhZG93OwoJCQkJCQlsICYmICFvLnNoYWRvd0dyb3VwICYmIChvLnNoYWRvd0dyb3VwID0gcy5nKCJzaGFkb3ciKS5hZGQoby5ncm91cCkpLCBtdChvLnBvaW50cywgZnVuY3Rpb24ocikgewoJCQkJCQkJdCA9IHIuZ3JhcGhpYywgaSA9IHIuc2hhcGVBcmdzLCBuID0gci5zaGFkb3dHcm91cCwgbCAmJiAhbiAmJiAobiA9IHIuc2hhZG93R3JvdXAgPSBzLmcoInNoYWRvdyIpLmFkZChvLnNoYWRvd0dyb3VwKSksIGUgPSByLnNsaWNlZCA/IHIuc2xpY2VkVHJhbnNsYXRpb24gOiB7CgkJCQkJCQkJdHJhbnNsYXRlWDogMCwKCQkJCQkJCQl0cmFuc2xhdGVZOiAwCgkJCQkJCQl9LCBuICYmIG4uYXR0cihlKSwgdCA/IHQuYW5pbWF0ZShhKGksIGUpKSA6IHIuZ3JhcGhpYyA9IHQgPSBzW3Iuc2hhcGVUeXBlXShpKS5zZXRSYWRpYWxSZWZlcmVuY2Uoby5jZW50ZXIpLmF0dHIoci5wb2ludEF0dHJbci5zZWxlY3RlZCA/IG90IDogaXRdKS5hdHRyKHsKCQkJCQkJCQkic3Ryb2tlLWxpbmVqb2luIjogInJvdW5kIgoJCQkJCQkJfSkuYXR0cihlKS5hZGQoby5ncm91cCkuc2hhZG93KGwsIG4pLCB2b2lkIDAgIT09IHIudmlzaWJsZSAmJiByLnNldFZpc2libGUoci52aXNpYmxlKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJc29ydEJ5QW5nbGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJZS5zb3J0KGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQkJCXJldHVybiB2b2lkIDAgIT09IGUuYW5nbGUgJiYgKG4uYW5nbGUgLSBlLmFuZ2xlKSAqIHQKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWRyYXdMZWdlbmRTeW1ib2w6IFV0LmRyYXdSZWN0YW5nbGUsCgkJCQkJZ2V0Q2VudGVyOiBZdC5nZXRDZW50ZXIsCgkJCQkJZ2V0U3ltYm9sOiBGZQoJCQkJfTsKCQkJb24gPSB2KFh0LCBvbiksIHN0LnBpZSA9IG9uLCBYdC5wcm90b3R5cGUuZHJhd0RhdGFMYWJlbHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlLCB0LCBuLCBpLCByID0gdGhpcywKCQkJCQlzID0gci5vcHRpb25zLAoJCQkJCWwgPSBzLmN1cnNvciwKCQkJCQljID0gcy5kYXRhTGFiZWxzLAoJCQkJCWQgPSByLnBvaW50cywKCQkJCQlwID0gci5oYXNSZW5kZXJlZCB8fCAwOwoJCQkJKGMuZW5hYmxlZCB8fCByLl9oYXNQb2ludExhYmVscykgJiYgKHIuZGxQcm9jZXNzT3B0aW9ucyAmJiByLmRsUHJvY2Vzc09wdGlvbnMoYyksIGkgPSByLnBsb3RHcm91cCgiZGF0YUxhYmVsc0dyb3VwIiwgImRhdGEtbGFiZWxzIiwgYy5kZWZlciA/IEplIDogVmUsIGMuekluZGV4IHx8IDYpLCBfKGMuZGVmZXIsICEwKSAmJiAoaS5hdHRyKHsKCQkJCQlvcGFjaXR5OiArcAoJCQkJfSksIHAgfHwgeHQociwgImFmdGVyQW5pbWF0ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXIudmlzaWJsZSAmJiBpLnNob3coKSwgaVtzLmFuaW1hdGlvbiA/ICJhbmltYXRlIiA6ICJhdHRyIl0oewoJCQkJCQlvcGFjaXR5OiAxCgkJCQkJfSwgewoJCQkJCQlkdXJhdGlvbjogMjAwCgkJCQkJfSkKCQkJCX0pKSwgdCA9IGMsIG10KGQsIGZ1bmN0aW9uKHMpIHsKCQkJCQl2YXIgZCwgcCwgaCwgdSwgZiwgZyA9IHMuZGF0YUxhYmVsLAoJCQkJCQl4ID0gcy5jb25uZWN0b3IsCgkJCQkJCXcgPSAhMDsKCQkJCQlpZiAoZSA9IHMub3B0aW9ucyAmJiBzLm9wdGlvbnMuZGF0YUxhYmVscywgZCA9IF8oZSAmJiBlLmVuYWJsZWQsIHQuZW5hYmxlZCksIGcgJiYgIWQpIHMuZGF0YUxhYmVsID0gZy5kZXN0cm95KCk7CgkJCQkJZWxzZSBpZiAoZCkgewoJCQkJCQlpZiAoYyA9IG8odCwgZSksIGYgPSBjLnJvdGF0aW9uLCBwID0gcy5nZXRMYWJlbENvbmZpZygpLCBuID0gYy5mb3JtYXQgPyBCKGMuZm9ybWF0LCBwKSA6IGMuZm9ybWF0dGVyLmNhbGwocCwgYyksIGMuc3R5bGUuY29sb3IgPSBfKGMuY29sb3IsIGMuc3R5bGUuY29sb3IsIHIuY29sb3IsICJibGFjayIpLCBnKSBtKG4pID8gKGcuYXR0cih7CgkJCQkJCQl0ZXh0OiBuCgkJCQkJCX0pLCB3ID0gITEpIDogKHMuZGF0YUxhYmVsID0gZyA9IGcuZGVzdHJveSgpLCB4ICYmIChzLmNvbm5lY3RvciA9IHguZGVzdHJveSgpKSk7CgkJCQkJCWVsc2UgaWYgKG0obikpIHsKCQkJCQkJCWggPSB7CgkJCQkJCQkJZmlsbDogYy5iYWNrZ3JvdW5kQ29sb3IsCgkJCQkJCQkJc3Ryb2tlOiBjLmJvcmRlckNvbG9yLAoJCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBjLmJvcmRlcldpZHRoLAoJCQkJCQkJCXI6IGMuYm9yZGVyUmFkaXVzIHx8IDAsCgkJCQkJCQkJcm90YXRpb246IGYsCgkJCQkJCQkJcGFkZGluZzogYy5wYWRkaW5nLAoJCQkJCQkJCXpJbmRleDogMQoJCQkJCQkJfTsKCQkJCQkJCWZvciAodSBpbiBoKSBoW3VdID09PSBXICYmIGRlbGV0ZSBoW3VdOwoJCQkJCQkJZyA9IHMuZGF0YUxhYmVsID0gci5jaGFydC5yZW5kZXJlcltmID8gInRleHQiIDogImxhYmVsIl0obiwgMCwgLTk5OSwgbnVsbCwgbnVsbCwgbnVsbCwgYy51c2VIVE1MKS5hdHRyKGgpLmNzcyhhKGMuc3R5bGUsIGwgJiYgewoJCQkJCQkJCWN1cnNvcjogbAoJCQkJCQkJfSkpLmFkZChpKS5zaGFkb3coYy5zaGFkb3cpCgkJCQkJCX0KCQkJCQkJZyAmJiByLmFsaWduRGF0YUxhYmVsKHMsIGcsIGMsIG51bGwsIHcpCgkJCQkJfQoJCQkJfSkpCgkJCX0sIFh0LnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGksIG8pIHsKCQkJCXZhciByLCBzID0gdGhpcy5jaGFydCwKCQkJCQlsID0gcy5pbnZlcnRlZCwKCQkJCQljID0gXyhlLnBsb3RYLCAtOTk5KSwKCQkJCQlkID0gXyhlLnBsb3RZLCAtOTk5KSwKCQkJCQlwID0gdC5nZXRCQm94KCksCgkJCQkJaCA9IHRoaXMudmlzaWJsZSAmJiAoZS5zZXJpZXMuZm9yY2VETCB8fCBzLmlzSW5zaWRlUGxvdChjLCB4ZShkKSwgbCkgfHwgaSAmJiBzLmlzSW5zaWRlUGxvdChjLCBsID8gaS54ICsgMSA6IGkueSArIGkuaGVpZ2h0IC0gMSwgbCkpOwoJCQkJaCAmJiAoaSA9IGEoewoJCQkJCXg6IGwgPyBzLnBsb3RXaWR0aCAtIGQgOiBjLAoJCQkJCXk6IHhlKGwgPyBzLnBsb3RIZWlnaHQgLSBjIDogZCksCgkJCQkJd2lkdGg6IDAsCgkJCQkJaGVpZ2h0OiAwCgkJCQl9LCBpKSwgYShuLCB7CgkJCQkJd2lkdGg6IHAud2lkdGgsCgkJCQkJaGVpZ2h0OiBwLmhlaWdodAoJCQkJfSksIG4ucm90YXRpb24gPyB0W28gPyAiYXR0ciIgOiAiYW5pbWF0ZSJdKHsKCQkJCQl4OiBpLnggKyBuLnggKyBpLndpZHRoIC8gMiwKCQkJCQl5OiBpLnkgKyBuLnkgKyBpLmhlaWdodCAvIDIKCQkJCX0pLmF0dHIoewoJCQkJCWFsaWduOiBuLmFsaWduCgkJCQl9KSA6ICh0LmFsaWduKG4sIG51bGwsIGkpLCByID0gdC5hbGlnbkF0dHIsICJqdXN0aWZ5IiA9PT0gXyhuLm92ZXJmbG93LCAianVzdGlmeSIpID8gdGhpcy5qdXN0aWZ5RGF0YUxhYmVsKHQsIG4sIHIsIHAsIGksIG8pIDogXyhuLmNyb3AsICEwKSAmJiAoaCA9IHMuaXNJbnNpZGVQbG90KHIueCwgci55KSAmJiBzLmlzSW5zaWRlUGxvdChyLnggKyBwLndpZHRoLCByLnkgKyBwLmhlaWdodCkpKSksIGggfHwgKHQuYXR0cih7CgkJCQkJeTogLTk5OQoJCQkJfSksIHQucGxhY2VkID0gITEpCgkJCX0sIFh0LnByb3RvdHlwZS5qdXN0aWZ5RGF0YUxhYmVsID0gZnVuY3Rpb24oZSwgdCwgbiwgaSwgYSwgbykgewoJCQkJdmFyIHIsIHMsIGwgPSB0aGlzLmNoYXJ0LAoJCQkJCWMgPSB0LmFsaWduLAoJCQkJCWQgPSB0LnZlcnRpY2FsQWxpZ247CgkJCQlyID0gbi54LCAwID4gciAmJiAoInJpZ2h0IiA9PT0gYyA/IHQuYWxpZ24gPSAibGVmdCIgOiB0LnggPSAtciwgcyA9ICEwKSwgciA9IG4ueCArIGkud2lkdGgsIHIgPiBsLnBsb3RXaWR0aCAmJiAoImxlZnQiID09PSBjID8gdC5hbGlnbiA9ICJyaWdodCIgOiB0LnggPSBsLnBsb3RXaWR0aCAtIHIsIHMgPSAhMCksIHIgPSBuLnksIDAgPiByICYmICgiYm90dG9tIiA9PT0gZCA/IHQudmVydGljYWxBbGlnbiA9ICJ0b3AiIDogdC55ID0gLXIsIHMgPSAhMCksIHIgPSBuLnkgKyBpLmhlaWdodCwgciA+IGwucGxvdEhlaWdodCAmJiAoInRvcCIgPT09IGQgPyB0LnZlcnRpY2FsQWxpZ24gPSAiYm90dG9tIiA6IHQueSA9IGwucGxvdEhlaWdodCAtIHIsIHMgPSAhMCksIHMgJiYgKGUucGxhY2VkID0gIW8sIGUuYWxpZ24odCwgbnVsbCwgYSkpCgkJCX0sIHN0LnBpZSAmJiAoc3QucGllLnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIG4sIGksIGEsIG8sIHIsIHMsIGwsIGMsIGQsIHAsIGgsIHUgPSB0aGlzLAoJCQkJCW0gPSB1LmRhdGEsCgkJCQkJZiA9IHUuY2hhcnQsCgkJCQkJZyA9IHUub3B0aW9ucy5kYXRhTGFiZWxzLAoJCQkJCXggPSBfKGcuY29ubmVjdG9yUGFkZGluZywgMTApLAoJCQkJCXcgPSBfKGcuY29ubmVjdG9yV2lkdGgsIDEpLAoJCQkJCXYgPSBmLnBsb3RXaWR0aCwKCQkJCQliID0gZi5wbG90SGVpZ2h0LAoJCQkJCXkgPSBfKGcuc29mdENvbm5lY3RvciwgITApLAoJCQkJCWsgPSBnLmRpc3RhbmNlLAoJCQkJCXogPSB1LmNlbnRlciwKCQkJCQlCID0gelsyXSAvIDIsCgkJCQkJaiA9IHpbMV0sCgkJCQkJQyA9IGsgPiAwLAoJCQkJCVMgPSBbCgkJCQkJCVtdLAoJCQkJCQlbXQoJCQkJCV0sCgkJCQkJTiA9IFswLCAwLCAwLCAwXSwKCQkJCQlQID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gdC55IC0gZS55CgkJCQkJfTsKCQkJCWlmICh1LnZpc2libGUgJiYgKGcuZW5hYmxlZCB8fCB1Ll9oYXNQb2ludExhYmVscykpIHsKCQkJCQlmb3IgKFh0LnByb3RvdHlwZS5kcmF3RGF0YUxhYmVscy5hcHBseSh1KSwgbXQobSwgZnVuY3Rpb24oZSkgewoJCQkJCQllLmRhdGFMYWJlbCAmJiBlLnZpc2libGUgJiYgU1tlLmhhbGZdLnB1c2goZSkKCQkJCQl9KSwgcCA9IDI7IHAtLTspIHsKCQkJCQkJdmFyIEksIEEsIHEsIEUsIE8gPSBbXSwKCQkJCQkJCUwgPSBbXSwKCQkJCQkJCUQgPSBTW3BdLAoJCQkJCQkJTSA9IEQubGVuZ3RoOwoJCQkJCQlpZiAoTSkgewoJCQkJCQkJZm9yICh1LnNvcnRCeUFuZ2xlKEQsIHAgLSAuNSksIGggPSByID0gMDsgIXIgJiYgRFtoXTspIHIgPSBEW2hdICYmIERbaF0uZGF0YUxhYmVsICYmIChEW2hdLmRhdGFMYWJlbC5nZXRCQm94KCkuaGVpZ2h0IHx8IDIxKSwgaCsrOwoJCQkJCQkJaWYgKGsgPiAwKSB7CgkJCQkJCQkJZm9yIChxID0geWUoaiArIEIgKyBrLCBmLnBsb3RIZWlnaHQpLCBBID0gYmUoMCwgaiAtIEIgLSBrKTsgcSA+PSBBOyBBICs9IHIpIE8ucHVzaChBKTsKCQkJCQkJCQlpZiAoSSA9IE8ubGVuZ3RoLCBNID4gSSkgewoJCQkJCQkJCQlmb3IgKGQgPSBbXS5jb25jYXQoRCksIGQuc29ydChQKSwgaCA9IE07IGgtLTspIGRbaF0ucmFuayA9IGg7CgkJCQkJCQkJCWZvciAoaCA9IE07IGgtLTspIERbaF0ucmFuayA+PSBJICYmIEQuc3BsaWNlKGgsIDEpOwoJCQkJCQkJCQlNID0gRC5sZW5ndGgKCQkJCQkJCQl9CgkJCQkJCQkJZm9yIChoID0gMDsgTSA+IGg7IGgrKykgewoJCQkJCQkJCQllID0gRFtoXSwgbyA9IGUubGFiZWxQb3M7CgkJCQkJCQkJCXZhciBSLCBGLCAkID0gOTk5OTsKCQkJCQkJCQkJZm9yIChGID0gMDsgSSA+IEY7IEYrKykgUiA9IGtlKE9bRl0gLSBvWzFdKSwgJCA+IFIgJiYgKCQgPSBSLCBFID0gRik7CgkJCQkJCQkJCWlmIChoID4gRSAmJiBudWxsICE9PSBPW2hdKSBFID0gaDsKCQkJCQkJCQkJZWxzZSBpZiAoTSAtIGggKyBFID4gSSAmJiBudWxsICE9PSBPW2hdKQoJCQkJCQkJCQkJZm9yIChFID0gSSAtIE0gKyBoOyBudWxsID09PSBPW0VdOykgRSsrOwoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlmb3IgKDsgbnVsbCA9PT0gT1tFXTspIEUrKzsKCQkJCQkJCQkJTC5wdXNoKHsKCQkJCQkJCQkJCWk6IEUsCgkJCQkJCQkJCQl5OiBPW0VdCgkJCQkJCQkJCX0pLCBPW0VdID0gbnVsbAoJCQkJCQkJCX0KCQkJCQkJCQlMLnNvcnQoUCkKCQkJCQkJCX0KCQkJCQkJCWZvciAoaCA9IDA7IE0gPiBoOyBoKyspIHsKCQkJCQkJCQl2YXIgVywgSDsKCQkJCQkJCQllID0gRFtoXSwgbyA9IGUubGFiZWxQb3MsIGkgPSBlLmRhdGFMYWJlbCwgYyA9IGUudmlzaWJsZSA9PT0gITEgPyBKZSA6IFZlLCBIID0gb1sxXSwgayA+IDAgPyAoVyA9IEwucG9wKCksIEUgPSBXLmksIGwgPSBXLnksIChIID4gbCAmJiBudWxsICE9PSBPW0UgKyAxXSB8fCBsID4gSCAmJiBudWxsICE9PSBPW0UgLSAxXSkgJiYgKGwgPSB5ZShiZSgwLCBIKSwgZi5wbG90SGVpZ2h0KSkpIDogbCA9IEgsIHMgPSBnLmp1c3RpZnkgPyB6WzBdICsgKHAgPyAtMSA6IDEpICogKEIgKyBrKSA6IHUuZ2V0WChsID09PSBqIC0gQiAtIGsgfHwgbCA9PT0gaiArIEIgKyBrID8gSCA6IGwsIHApLCBpLl9hdHRyID0gewoJCQkJCQkJCQl2aXNpYmlsaXR5OiBjLAoJCQkJCQkJCQlhbGlnbjogb1s2XQoJCQkJCQkJCX0sIGkuX3BvcyA9IHsKCQkJCQkJCQkJeDogcyArIGcueCArICh7CgkJCQkJCQkJCQlsZWZ0OiB4LAoJCQkJCQkJCQkJcmlnaHQ6IC14CgkJCQkJCQkJCX1bb1s2XV0gfHwgMCksCgkJCQkJCQkJCXk6IGwgKyBnLnkgLSAxMAoJCQkJCQkJCX0sIGkuY29ublggPSBzLCBpLmNvbm5ZID0gbCwgbnVsbCA9PT0gdGhpcy5vcHRpb25zLnNpemUgJiYgKGEgPSBpLndpZHRoLCB4ID4gcyAtIGEgPyBOWzNdID0gYmUoeGUoYSAtIHMgKyB4KSwgTlszXSkgOiBzICsgYSA+IHYgLSB4ICYmIChOWzFdID0gYmUoeGUocyArIGEgLSB2ICsgeCksIE5bMV0pKSwgMCA+IGwgLSByIC8gMiA/IE5bMF0gPSBiZSh4ZSgtbCArIHIgLyAyKSwgTlswXSkgOiBsICsgciAvIDIgPiBiICYmIChOWzJdID0gYmUoeGUobCArIHIgLyAyIC0gYiksIE5bMl0pKSkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0oMCA9PT0gVChOKSB8fCB0aGlzLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93KE4pKSAmJiAodGhpcy5wbGFjZURhdGFMYWJlbHMoKSwgQyAmJiB3ICYmIG10KHRoaXMucG9pbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJCXQgPSBlLmNvbm5lY3RvciwgbyA9IGUubGFiZWxQb3MsIGkgPSBlLmRhdGFMYWJlbCwgaSAmJiBpLl9wb3MgPyAoYyA9IGkuX2F0dHIudmlzaWJpbGl0eSwgcyA9IGkuY29ublgsIGwgPSBpLmNvbm5ZLCBuID0geSA/IFtldCwgcyArICgibGVmdCIgPT09IG9bNl0gPyA1IDogLTUpLCBsLCAiQyIsIHMsIGwsIDIgKiBvWzJdIC0gb1s0XSwgMiAqIG9bM10gLSBvWzVdLCBvWzJdLCBvWzNdLCB0dCwgb1s0XSwgb1s1XV0gOiBbZXQsIHMgKyAoImxlZnQiID09PSBvWzZdID8gNSA6IC01KSwgbCwgdHQsIG9bMl0sIG9bM10sIHR0LCBvWzRdLCBvWzVdXSwgdCA/ICh0LmFuaW1hdGUoewoJCQkJCQkJZDogbgoJCQkJCQl9KSwgdC5hdHRyKCJ2aXNpYmlsaXR5IiwgYykpIDogZS5jb25uZWN0b3IgPSB0ID0gdS5jaGFydC5yZW5kZXJlci5wYXRoKG4pLmF0dHIoewoJCQkJCQkJInN0cm9rZS13aWR0aCI6IHcsCgkJCQkJCQlzdHJva2U6IGcuY29ubmVjdG9yQ29sb3IgfHwgZS5jb2xvciB8fCAiIzYwNjA2MCIsCgkJCQkJCQl2aXNpYmlsaXR5OiBjCgkJCQkJCX0pLmFkZCh1LmRhdGFMYWJlbHNHcm91cCkpIDogdCAmJiAoZS5jb25uZWN0b3IgPSB0LmRlc3Ryb3koKSkKCQkJCQl9KSkKCQkJCX0KCQkJfSwgc3QucGllLnByb3RvdHlwZS5wbGFjZURhdGFMYWJlbHMgPSBmdW5jdGlvbigpIHsKCQkJCW10KHRoaXMucG9pbnRzLCBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSBlLmRhdGFMYWJlbDsKCQkJCQluICYmICh0ID0gbi5fcG9zLCB0ID8gKG4uYXR0cihuLl9hdHRyKSwgbltuLm1vdmVkID8gImFuaW1hdGUiIDogImF0dHIiXSh0KSwgbi5tb3ZlZCA9ICEwKSA6IG4gJiYgbi5hdHRyKHsKCQkJCQkJeTogLTk5OQoJCQkJCX0pKQoJCQkJfSkKCQkJfSwgc3QucGllLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IEZlLCBzdC5waWUucHJvdG90eXBlLnZlcmlmeURhdGFMYWJlbE92ZXJmbG93ID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQsIG4gPSB0aGlzLmNlbnRlciwKCQkJCQlpID0gdGhpcy5vcHRpb25zLAoJCQkJCWEgPSBpLmNlbnRlciwKCQkJCQlvID0gaS5taW5TaXplIHx8IDgwLAoJCQkJCXIgPSBvOwoJCQkJcmV0dXJuIG51bGwgIT09IGFbMF0gPyByID0gYmUoblsyXSAtIGJlKGVbMV0sIGVbM10pLCBvKSA6IChyID0gYmUoblsyXSAtIGVbMV0gLSBlWzNdLCBvKSwgblswXSArPSAoZVszXSAtIGVbMV0pIC8gMiksIG51bGwgIT09IGFbMV0gPyByID0gYmUoeWUociwgblsyXSAtIGJlKGVbMF0sIGVbMl0pKSwgbykgOiAociA9IGJlKHllKHIsIG5bMl0gLSBlWzBdIC0gZVsyXSksIG8pLCBuWzFdICs9IChlWzBdIC0gZVsyXSkgLyAyKSwgciA8IG5bMl0gPyAoblsyXSA9IHIsIHRoaXMudHJhbnNsYXRlKG4pLCBtdCh0aGlzLnBvaW50cywgZnVuY3Rpb24oZSkgewoJCQkJCWUuZGF0YUxhYmVsICYmIChlLmRhdGFMYWJlbC5fcG9zID0gbnVsbCkKCQkJCX0pLCB0aGlzLmRyYXdEYXRhTGFiZWxzICYmIHRoaXMuZHJhd0RhdGFMYWJlbHMoKSkgOiB0ID0gITAsIHQKCQkJfSksIHN0LmNvbHVtbiAmJiAoc3QuY29sdW1uLnByb3RvdHlwZS5hbGlnbkRhdGFMYWJlbCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGksIGEpIHsKCQkJCXZhciByID0gdGhpcy5jaGFydCwKCQkJCQlzID0gci5pbnZlcnRlZCwKCQkJCQlsID0gZS5kbEJveCB8fCBlLnNoYXBlQXJncywKCQkJCQljID0gZS5iZWxvdyB8fCBlLnBsb3RZID4gXyh0aGlzLnRyYW5zbGF0ZWRUaHJlc2hvbGQsIHIucGxvdFNpemVZKSwKCQkJCQlkID0gXyhuLmluc2lkZSwgISF0aGlzLm9wdGlvbnMuc3RhY2tpbmcpOwoJCQkJbCAmJiAoaSA9IG8obCksIHMgJiYgKGkgPSB7CgkJCQkJeDogci5wbG90V2lkdGggLSBpLnkgLSBpLmhlaWdodCwKCQkJCQl5OiByLnBsb3RIZWlnaHQgLSBpLnggLSBpLndpZHRoLAoJCQkJCXdpZHRoOiBpLmhlaWdodCwKCQkJCQloZWlnaHQ6IGkud2lkdGgKCQkJCX0pLCBkIHx8IChzID8gKGkueCArPSBjID8gMCA6IGkud2lkdGgsIGkud2lkdGggPSAwKSA6IChpLnkgKz0gYyA/IGkuaGVpZ2h0IDogMCwgaS5oZWlnaHQgPSAwKSkpLCBuLmFsaWduID0gXyhuLmFsaWduLCAhcyB8fCBkID8gImNlbnRlciIgOiBjID8gInJpZ2h0IiA6ICJsZWZ0IiksIG4udmVydGljYWxBbGlnbiA9IF8obi52ZXJ0aWNhbEFsaWduLCBzIHx8IGQgPyAibWlkZGxlIiA6IGMgPyAidG9wIiA6ICJib3R0b20iKSwgWHQucHJvdG90eXBlLmFsaWduRGF0YUxhYmVsLmNhbGwodGhpcywgZSwgdCwgbiwgaSwgYSkKCQkJfSk7CgkJCXZhciBybiA9IGx0LlRyYWNrZXJNaXhpbiA9IHsKCQkJCWRyYXdUcmFja2VyUG9pbnQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJdCA9IGUuY2hhcnQsCgkJCQkJCW4gPSB0LnBvaW50ZXIsCgkJCQkJCWkgPSBlLm9wdGlvbnMuY3Vyc29yLAoJCQkJCQlhID0gaSAmJiB7CgkJCQkJCQljdXJzb3I6IGkKCQkJCQkJfSwKCQkJCQkJbyA9IGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpLCBhID0gbi50YXJnZXQ7CgkJCQkJCQlmb3IgKHQuaG92ZXJTZXJpZXMgIT09IGUgJiYgZS5vbk1vdXNlT3ZlcigpOyBhICYmICFpOykgaSA9IGEucG9pbnQsIGEgPSBhLnBhcmVudE5vZGU7CgkJCQkJCQlpICE9PSBXICYmIGkgIT09IHQuaG92ZXJQb2ludCAmJiBpLm9uTW91c2VPdmVyKG4pCgkJCQkJCX07CgkJCQkJbXQoZS5wb2ludHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5ncmFwaGljICYmIChlLmdyYXBoaWMuZWxlbWVudC5wb2ludCA9IGUpLCBlLmRhdGFMYWJlbCAmJiAoZS5kYXRhTGFiZWwuZWxlbWVudC5wb2ludCA9IGUpCgkJCQkJfSksIGUuX2hhc1RyYWNraW5nIHx8IChtdChlLnRyYWNrZXJHcm91cHMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJZVt0XSAmJiAoZVt0XS5hZGRDbGFzcyhaZSArICJ0cmFja2VyIikub24oIm1vdXNlb3ZlciIsIG8pLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCW4ub25UcmFja2VyTW91c2VPdXQoZSkKCQkJCQkJfSkuY3NzKGEpLCBVICYmIGVbdF0ub24oInRvdWNoc3RhcnQiLCBvKSkKCQkJCQl9KSwgZS5faGFzVHJhY2tpbmcgPSAhMCkKCQkJCX0sCgkJCQlkcmF3VHJhY2tlckdyYXBoOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSwgdCwgbiA9IHRoaXMsCgkJCQkJCWkgPSBuLm9wdGlvbnMsCgkJCQkJCWEgPSBpLnRyYWNrQnlBcmVhLAoJCQkJCQlvID0gW10uY29uY2F0KGEgPyBuLmFyZWFQYXRoIDogbi5ncmFwaFBhdGgpLAoJCQkJCQlyID0gby5sZW5ndGgsCgkJCQkJCXMgPSBuLmNoYXJ0LAoJCQkJCQlsID0gcy5wb2ludGVyLAoJCQkJCQljID0gcy5yZW5kZXJlciwKCQkJCQkJZCA9IHMub3B0aW9ucy50b29sdGlwLnNuYXAsCgkJCQkJCXAgPSBuLnRyYWNrZXIsCgkJCQkJCWggPSBpLmN1cnNvciwKCQkJCQkJdSA9IGggJiYgewoJCQkJCQkJY3Vyc29yOiBoCgkJCQkJCX0sCgkJCQkJCW0gPSBuLnNpbmdsZVBvaW50cywKCQkJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCQkJcy5ob3ZlclNlcmllcyAhPT0gbiAmJiBuLm9uTW91c2VPdmVyKCkKCQkJCQkJfSwKCQkJCQkJZyA9ICJyZ2JhKDE5MiwxOTIsMTkyLCIgKyAoT2UgPyAxZS00IDogLjAwMikgKyAiKSI7CgkJCQkJaWYgKHIgJiYgIWEpCgkJCQkJCWZvciAodCA9IHIgKyAxOyB0LS07KSBvW3RdID09PSBldCAmJiBvLnNwbGljZSh0ICsgMSwgMCwgb1t0ICsgMV0gLSBkLCBvW3QgKyAyXSwgdHQpLCAodCAmJiBvW3RdID09PSBldCB8fCB0ID09PSByKSAmJiBvLnNwbGljZSh0LCAwLCB0dCwgb1t0IC0gMl0gKyBkLCBvW3QgLSAxXSk7CgkJCQkJZm9yICh0ID0gMDsgdCA8IG0ubGVuZ3RoOyB0KyspIGUgPSBtW3RdLCBvLnB1c2goZXQsIGUucGxvdFggLSBkLCBlLnBsb3RZLCB0dCwgZS5wbG90WCArIGQsIGUucGxvdFkpOwoJCQkJCXAgPyBwLmF0dHIoewoJCQkJCQlkOiBvCgkJCQkJfSkgOiAobi50cmFja2VyID0gYy5wYXRoKG8pLmF0dHIoewoJCQkJCQkic3Ryb2tlLWxpbmVqb2luIjogInJvdW5kIiwKCQkJCQkJdmlzaWJpbGl0eTogbi52aXNpYmxlID8gVmUgOiBKZSwKCQkJCQkJc3Ryb2tlOiBnLAoJCQkJCQlmaWxsOiBhID8gZyA6IFFlLAoJCQkJCQkic3Ryb2tlLXdpZHRoIjogaS5saW5lV2lkdGggKyAoYSA/IDAgOiAyICogZCksCgkJCQkJCXpJbmRleDogMgoJCQkJCX0pLmFkZChuLmdyb3VwKSwgbXQoW24udHJhY2tlciwgbi5tYXJrZXJHcm91cF0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5hZGRDbGFzcyhaZSArICJ0cmFja2VyIikub24oIm1vdXNlb3ZlciIsIGYpLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWwub25UcmFja2VyTW91c2VPdXQoZSkKCQkJCQkJfSkuY3NzKHUpLCBVICYmIGUub24oInRvdWNoc3RhcnQiLCBmKQoJCQkJCX0pKQoJCQkJfQoJCQl9OwoJCQlzdC5jb2x1bW4gJiYgKGVuLnByb3RvdHlwZS5kcmF3VHJhY2tlciA9IHJuLmRyYXdUcmFja2VyUG9pbnQpLCBzdC5waWUgJiYgKHN0LnBpZS5wcm90b3R5cGUuZHJhd1RyYWNrZXIgPSBybi5kcmF3VHJhY2tlclBvaW50KSwgc3Quc2NhdHRlciAmJiAobm4ucHJvdG90eXBlLmRyYXdUcmFja2VyID0gcm4uZHJhd1RyYWNrZXJQb2ludCksIGEoSHQucHJvdG90eXBlLCB7CgkJCQlzZXRJdGVtRXZlbnRzOiBmdW5jdGlvbihlLCB0LCBuLCBpLCBhKSB7CgkJCQkJdmFyIG8gPSB0aGlzOwoJCQkJCShuID8gdCA6IGUubGVnZW5kR3JvdXApLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJZS5zZXRTdGF0ZShhdCksIHQuY3NzKG8ub3B0aW9ucy5pdGVtSG92ZXJTdHlsZSkKCQkJCQl9KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKCQkJCQkJdC5jc3MoZS52aXNpYmxlID8gaSA6IGEpLCBlLnNldFN0YXRlKCkKCQkJCQl9KS5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gImxlZ2VuZEl0ZW1DbGljayIsCgkJCQkJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJZS5zZXRWaXNpYmxlKCkKCQkJCQkJCX07CgkJCQkJCXQgPSB7CgkJCQkJCQlicm93c2VyRXZlbnQ6IHQKCQkJCQkJfSwgZS5maXJlUG9pbnRFdmVudCA/IGUuZmlyZVBvaW50RXZlbnQobiwgdCwgaSkgOiB2dChlLCBuLCB0LCBpKQoJCQkJCX0pCgkJCQl9LAoJCQkJY3JlYXRlQ2hlY2tib3hGb3JJdGVtOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCWUuY2hlY2tib3ggPSB3KCJpbnB1dCIsIHsKCQkJCQkJdHlwZTogImNoZWNrYm94IiwKCQkJCQkJY2hlY2tlZDogZS5zZWxlY3RlZCwKCQkJCQkJZGVmYXVsdENoZWNrZWQ6IGUuc2VsZWN0ZWQKCQkJCQl9LCB0Lm9wdGlvbnMuaXRlbUNoZWNrYm94U3R5bGUsIHQuY2hhcnQuY29udGFpbmVyKSwgeHQoZS5jaGVja2JveCwgImNsaWNrIiwgZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IHQudGFyZ2V0OwoJCQkJCQl2dChlLCAiY2hlY2tib3hDbGljayIsIHsKCQkJCQkJCWNoZWNrZWQ6IG4uY2hlY2tlZAoJCQkJCQl9LCBmdW5jdGlvbigpIHsKCQkJCQkJCWUuc2VsZWN0KCkKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoJCQl9KSwgRy5sZWdlbmQuaXRlbVN0eWxlLmN1cnNvciA9ICJwb2ludGVyIiwgYShGLnByb3RvdHlwZSwgewoJCQkJc2hvd1Jlc2V0Wm9vbTogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gRy5sYW5nLAoJCQkJCQluID0gZS5vcHRpb25zLmNoYXJ0LnJlc2V0Wm9vbUJ1dHRvbiwKCQkJCQkJaSA9IG4udGhlbWUsCgkJCQkJCWEgPSBpLnN0YXRlcywKCQkJCQkJbyA9ICJjaGFydCIgPT09IG4ucmVsYXRpdmVUbyA/IG51bGwgOiAicGxvdEJveCI7CgkJCQkJdGhpcy5yZXNldFpvb21CdXR0b24gPSBlLnJlbmRlcmVyLmJ1dHRvbih0LnJlc2V0Wm9vbSwgbnVsbCwgbnVsbCwgZnVuY3Rpb24oKSB7CgkJCQkJCWUuem9vbU91dCgpCgkJCQkJfSwgaSwgYSAmJiBhLmhvdmVyKS5hdHRyKHsKCQkJCQkJYWxpZ246IG4ucG9zaXRpb24uYWxpZ24sCgkJCQkJCXRpdGxlOiB0LnJlc2V0Wm9vbVRpdGxlCgkJCQkJfSkuYWRkKCkuYWxpZ24obi5wb3NpdGlvbiwgITEsIG8pCgkJCQl9LAoJCQkJem9vbU91dDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzOwoJCQkJCXZ0KGUsICJzZWxlY3Rpb24iLCB7CgkJCQkJCXJlc2V0U2VsZWN0aW9uOiAhMAoJCQkJCX0sIGZ1bmN0aW9uKCkgewoJCQkJCQllLnpvb20oKQoJCQkJCX0pCgkJCQl9LAoJCQkJem9vbTogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpID0gdGhpcywKCQkJCQkJYSA9IGkucG9pbnRlciwKCQkJCQkJbyA9ICExOwoJCQkJCSFlIHx8IGUucmVzZXRTZWxlY3Rpb24gPyBtdChpLmF4ZXMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdCA9IGUuem9vbSgpCgkJCQkJfSkgOiBtdChlLnhBeGlzLmNvbmNhdChlLnlBeGlzKSwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgbiA9IGUuYXhpcywKCQkJCQkJCWkgPSBuLmlzWEF4aXM7CgkJCQkJCShhW2kgPyAiem9vbVgiIDogInpvb21ZIl0gfHwgYVtpID8gInBpbmNoWCIgOiAicGluY2hZIl0pICYmICh0ID0gbi56b29tKGUubWluLCBlLm1heCksIG4uZGlzcGxheUJ0biAmJiAobyA9ICEwKSkKCQkJCQl9KSwgbiA9IGkucmVzZXRab29tQnV0dG9uLCBvICYmICFuID8gaS5zaG93UmVzZXRab29tKCkgOiAhbyAmJiBsKG4pICYmIChpLnJlc2V0Wm9vbUJ1dHRvbiA9IG4uZGVzdHJveSgpKSwgdCAmJiBpLnJlZHJhdyhfKGkub3B0aW9ucy5jaGFydC5hbmltYXRpb24sIGUgJiYgZS5hbmltYXRpb24sIGkucG9pbnRDb3VudCA8IDEwMCkpCgkJCQl9LAoJCQkJcGFuOiBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4sIGkgPSB0aGlzLAoJCQkJCQlhID0gaS5ob3ZlclBvaW50czsKCQkJCQlhICYmIG10KGEsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5zZXRTdGF0ZSgpCgkJCQkJfSksIG10KCJ4eSIgPT09IHQgPyBbMSwgMF0gOiBbMV0sIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdmFyIGEgPSBlW3QgPyAiY2hhcnRYIiA6ICJjaGFydFkiXSwKCQkJCQkJCW8gPSBpW3QgPyAieEF4aXMiIDogInlBeGlzIl1bMF0sCgkJCQkJCQlyID0gaVt0ID8gIm1vdXNlRG93blgiIDogIm1vdXNlRG93blkiXSwKCQkJCQkJCXMgPSAoby5wb2ludFJhbmdlIHx8IDApIC8gMiwKCQkJCQkJCWwgPSBvLmdldEV4dHJlbWVzKCksCgkJCQkJCQljID0gby50b1ZhbHVlKHIgLSBhLCAhMCkgKyBzLAoJCQkJCQkJZCA9IG8udG9WYWx1ZShyICsgaVt0ID8gInBsb3RXaWR0aCIgOiAicGxvdEhlaWdodCJdIC0gYSwgITApIC0gczsKCQkJCQkJby5zZXJpZXMubGVuZ3RoICYmIGMgPiB5ZShsLmRhdGFNaW4sIGwubWluKSAmJiBkIDwgYmUobC5kYXRhTWF4LCBsLm1heCkgJiYgKG8uc2V0RXh0cmVtZXMoYywgZCwgITEsICExLCB7CgkJCQkJCQl0cmlnZ2VyOiAicGFuIgoJCQkJCQl9KSwgbiA9ICEwKSwgaVt0ID8gIm1vdXNlRG93blgiIDogIm1vdXNlRG93blkiXSA9IGEKCQkJCQl9KSwgbiAmJiBpLnJlZHJhdyghMSksIHgoaS5jb250YWluZXIsIHsKCQkJCQkJY3Vyc29yOiAibW92ZSIKCQkJCQl9KQoJCQkJfQoJCQl9KSwgYShHdC5wcm90b3R5cGUsIHsKCQkJCXNlbGVjdDogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJaSA9IG4uc2VyaWVzLAoJCQkJCQlhID0gaS5jaGFydDsKCQkJCQllID0gXyhlLCAhbi5zZWxlY3RlZCksIG4uZmlyZVBvaW50RXZlbnQoZSA/ICJzZWxlY3QiIDogInVuc2VsZWN0IiwgewoJCQkJCQlhY2N1bXVsYXRlOiB0CgkJCQkJfSwgZnVuY3Rpb24oKSB7CgkJCQkJCW4uc2VsZWN0ZWQgPSBuLm9wdGlvbnMuc2VsZWN0ZWQgPSBlLCBpLm9wdGlvbnMuZGF0YVt1dChuLCBpLmRhdGEpXSA9IG4ub3B0aW9ucywgbi5zZXRTdGF0ZShlICYmIG90KSwgdCB8fCBtdChhLmdldFNlbGVjdGVkUG9pbnRzKCksIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUuc2VsZWN0ZWQgJiYgZSAhPT0gbiAmJiAoZS5zZWxlY3RlZCA9IGUub3B0aW9ucy5zZWxlY3RlZCA9ICExLCBpLm9wdGlvbnMuZGF0YVt1dChlLCBpLmRhdGEpXSA9IGUub3B0aW9ucywgZS5zZXRTdGF0ZShpdCksIGUuZmlyZVBvaW50RXZlbnQoInVuc2VsZWN0IikpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0sCgkJCQlvbk1vdXNlT3ZlcjogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcywKCQkJCQkJbiA9IHQuc2VyaWVzLAoJCQkJCQlpID0gbi5jaGFydCwKCQkJCQkJYSA9IGkudG9vbHRpcCwKCQkJCQkJbyA9IGkuaG92ZXJQb2ludDsKCQkJCQlvICYmIG8gIT09IHQgJiYgby5vbk1vdXNlT3V0KCksIHQuZmlyZVBvaW50RXZlbnQoIm1vdXNlT3ZlciIpLCAhYSB8fCBhLnNoYXJlZCAmJiAhbi5ub1NoYXJlZFRvb2x0aXAgfHwgYS5yZWZyZXNoKHQsIGUpLCB0LnNldFN0YXRlKGF0KSwgaS5ob3ZlclBvaW50ID0gdAoJCQkJfSwKCQkJCW9uTW91c2VPdXQ6IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpcy5zZXJpZXMuY2hhcnQsCgkJCQkJCXQgPSBlLmhvdmVyUG9pbnRzOwoJCQkJCXRoaXMuZmlyZVBvaW50RXZlbnQoIm1vdXNlT3V0IiksIHQgJiYgLTEgIT09IHV0KHRoaXMsIHQpIHx8ICh0aGlzLnNldFN0YXRlKCksIGUuaG92ZXJQb2ludCA9IG51bGwpCgkJCQl9LAoJCQkJaW1wb3J0RXZlbnRzOiBmdW5jdGlvbigpIHsKCQkJCQlpZiAoIXRoaXMuaGFzSW1wb3J0ZWRFdmVudHMpIHsKCQkJCQkJdmFyIGUsIHQgPSB0aGlzLAoJCQkJCQkJbiA9IG8odC5zZXJpZXMub3B0aW9ucy5wb2ludCwgdC5vcHRpb25zKSwKCQkJCQkJCWkgPSBuLmV2ZW50czsKCQkJCQkJdC5ldmVudHMgPSBpOwoJCQkJCQlmb3IgKGUgaW4gaSkgeHQodCwgZSwgaVtlXSk7CgkJCQkJCXRoaXMuaGFzSW1wb3J0ZWRFdmVudHMgPSAhMAoJCQkJCX0KCQkJCX0sCgkJCQlzZXRTdGF0ZTogZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IGwucGxvdFgsCgkJCQkJCWQgPSBsLnBsb3RZLAoJCQkJCQlwID0gbC5zZXJpZXMsCgkJCQkJCWggPSBwLm9wdGlvbnMuc3RhdGVzLAoJCQkJCQl1ID0gQnRbcC50eXBlXS5tYXJrZXIgJiYgcC5vcHRpb25zLm1hcmtlciwKCQkJCQkJbSA9IHUgJiYgIXUuZW5hYmxlZCwKCQkJCQkJZiA9IHUgJiYgdS5zdGF0ZXNbZV0sCgkJCQkJCWcgPSBmICYmIGYuZW5hYmxlZCA9PT0gITEsCgkJCQkJCV8gPSBwLnN0YXRlTWFya2VyR3JhcGhpYywKCQkJCQkJeCA9IGwubWFya2VyIHx8IHt9LAoJCQkJCQl3ID0gcC5jaGFydCwKCQkJCQkJdiA9IHAuaGFsbzsKCQkJCQllID0gZSB8fCBpdCwgcyA9IGwucG9pbnRBdHRyW2VdIHx8IHAucG9pbnRBdHRyW2VdLCBlID09PSBsLnN0YXRlICYmICF0IHx8IGwuc2VsZWN0ZWQgJiYgZSAhPT0gb3QgfHwgaFtlXSAmJiBoW2VdLmVuYWJsZWQgPT09ICExIHx8IGUgJiYgKGcgfHwgbSAmJiBmLmVuYWJsZWQgPT09ICExKSB8fCBlICYmIHguc3RhdGVzICYmIHguc3RhdGVzW2VdICYmIHguc3RhdGVzW2VdLmVuYWJsZWQgPT09ICExIHx8IChsLmdyYXBoaWMgPyAobiA9IHUgJiYgbC5ncmFwaGljLnN5bWJvbE5hbWUgJiYgcy5yLCBsLmdyYXBoaWMuYXR0cihvKHMsIG4gPyB7CgkJCQkJCXg6IGMgLSBuLAoJCQkJCQl5OiBkIC0gbiwKCQkJCQkJd2lkdGg6IDIgKiBuLAoJCQkJCQloZWlnaHQ6IDIgKiBuCgkJCQkJfSA6IHt9KSksIF8gJiYgXy5oaWRlKCkpIDogKGUgJiYgZiAmJiAobiA9IGYucmFkaXVzLCByID0geC5zeW1ib2wgfHwgcC5zeW1ib2wsIF8gJiYgXy5jdXJyZW50U3ltYm9sICE9PSByICYmIChfID0gXy5kZXN0cm95KCkpLCBfID8gX1t0ID8gImFuaW1hdGUiIDogImF0dHIiXSh7CgkJCQkJCXg6IGMgLSBuLAoJCQkJCQl5OiBkIC0gbgoJCQkJCX0pIDogciAmJiAocC5zdGF0ZU1hcmtlckdyYXBoaWMgPSBfID0gdy5yZW5kZXJlci5zeW1ib2wociwgYyAtIG4sIGQgLSBuLCAyICogbiwgMiAqIG4pLmF0dHIocykuYWRkKHAubWFya2VyR3JvdXApLCBfLmN1cnJlbnRTeW1ib2wgPSByKSksIF8gJiYgX1tlICYmIHcuaXNJbnNpZGVQbG90KGMsIGQsIHcuaW52ZXJ0ZWQpID8gInNob3ciIDogImhpZGUiXSgpKSwgaSA9IGhbZV0gJiYgaFtlXS5oYWxvLCBpICYmIGkuc2l6ZSA/ICh2IHx8IChwLmhhbG8gPSB2ID0gdy5yZW5kZXJlci5wYXRoKCkuYWRkKHAuc2VyaWVzR3JvdXApKSwgdi5hdHRyKGEoewoJCQkJCQlmaWxsOiBUdChsLmNvbG9yIHx8IHAuY29sb3IpLnNldE9wYWNpdHkoaS5vcGFjaXR5KS5nZXQoKQoJCQkJCX0sIGkuYXR0cmlidXRlcykpW3QgPyAiYW5pbWF0ZSIgOiAiYXR0ciJdKHsKCQkJCQkJZDogbC5oYWxvUGF0aChpLnNpemUpCgkJCQkJfSkpIDogdiAmJiB2LmF0dHIoewoJCQkJCQlkOiBbXQoJCQkJCX0pLCBsLnN0YXRlID0gZSkKCQkJCX0sCgkJCQloYWxvUGF0aDogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpcy5zZXJpZXMsCgkJCQkJCW4gPSB0LmNoYXJ0LAoJCQkJCQlpID0gdC5nZXRQbG90Qm94KCksCgkJCQkJCWEgPSBuLmludmVydGVkOwoJCQkJCXJldHVybiBuLnJlbmRlcmVyLnN5bWJvbHMuY2lyY2xlKGkudHJhbnNsYXRlWCArIChhID8gdC55QXhpcy5sZW4gLSB0aGlzLnBsb3RZIDogdGhpcy5wbG90WCkgLSBlLCBpLnRyYW5zbGF0ZVkgKyAoYSA/IHQueEF4aXMubGVuIC0gdGhpcy5wbG90WCA6IHRoaXMucGxvdFkpIC0gZSwgMiAqIGUsIDIgKiBlKQoJCQkJfQoJCQl9KSwgYShYdC5wcm90b3R5cGUsIHsKCQkJCW9uTW91c2VPdmVyOiBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCXQgPSBlLmNoYXJ0LAoJCQkJCQluID0gdC5ob3ZlclNlcmllczsKCQkJCQluICYmIG4gIT09IGUgJiYgbi5vbk1vdXNlT3V0KCksIGUub3B0aW9ucy5ldmVudHMubW91c2VPdmVyICYmIHZ0KGUsICJtb3VzZU92ZXIiKSwgZS5zZXRTdGF0ZShhdCksIHQuaG92ZXJTZXJpZXMgPSBlCgkJCQl9LAoJCQkJb25Nb3VzZU91dDogZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQl0ID0gZS5vcHRpb25zLAoJCQkJCQluID0gZS5jaGFydCwKCQkJCQkJaSA9IG4udG9vbHRpcCwKCQkJCQkJYSA9IG4uaG92ZXJQb2ludDsKCQkJCQlhICYmIGEub25Nb3VzZU91dCgpLCBlICYmIHQuZXZlbnRzLm1vdXNlT3V0ICYmIHZ0KGUsICJtb3VzZU91dCIpLCAhaSB8fCB0LnN0aWNreVRyYWNraW5nIHx8IGkuc2hhcmVkICYmICFlLm5vU2hhcmVkVG9vbHRpcCB8fCBpLmhpZGUoKSwgZS5zZXRTdGF0ZSgpLCBuLmhvdmVyU2VyaWVzID0gbnVsbAoJCQkJfSwKCQkJCXNldFN0YXRlOiBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQsIG4gPSB0aGlzLAoJCQkJCQlpID0gbi5vcHRpb25zLAoJCQkJCQlhID0gbi5ncmFwaCwKCQkJCQkJbyA9IG4uZ3JhcGhOZWcsCgkJCQkJCXIgPSBpLnN0YXRlcywKCQkJCQkJcyA9IGkubGluZVdpZHRoOwoJCQkJCWlmIChlID0gZSB8fCBpdCwgbi5zdGF0ZSAhPT0gZSkgewoJCQkJCQlpZiAobi5zdGF0ZSA9IGUsIHJbZV0gJiYgcltlXS5lbmFibGVkID09PSAhMSkgcmV0dXJuOwoJCQkJCQllICYmIChzID0gcltlXS5saW5lV2lkdGggfHwgcyArIChyW2VdLmxpbmVXaWR0aFBsdXMgfHwgMCkpLCBhICYmICFhLmRhc2hzdHlsZSAmJiAodCA9IHsKCQkJCQkJCSJzdHJva2Utd2lkdGgiOiBzCgkJCQkJCX0sIGEuYXR0cih0KSwgbyAmJiBvLmF0dHIodCkpCgkJCQkJfQoJCQkJfSwKCQkJCXNldFZpc2libGU6IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiwgaSA9IHRoaXMsCgkJCQkJCWEgPSBpLmNoYXJ0LAoJCQkJCQlvID0gaS5sZWdlbmRJdGVtLAoJCQkJCQlyID0gYS5vcHRpb25zLmNoYXJ0Lmlnbm9yZUhpZGRlblNlcmllcywKCQkJCQkJcyA9IGkudmlzaWJsZTsKCQkJCQlpLnZpc2libGUgPSBlID0gaS51c2VyT3B0aW9ucy52aXNpYmxlID0gZSA9PT0gVyA/ICFzIDogZSwgbiA9IGUgPyAic2hvdyIgOiAiaGlkZSIsIG10KFsiZ3JvdXAiLCAiZGF0YUxhYmVsc0dyb3VwIiwgIm1hcmtlckdyb3VwIiwgInRyYWNrZXIiXSwgZnVuY3Rpb24oZSkgewoJCQkJCQlpW2VdICYmIGlbZV1bbl0oKQoJCQkJCX0pLCBhLmhvdmVyU2VyaWVzID09PSBpICYmIGkub25Nb3VzZU91dCgpLCBvICYmIGEubGVnZW5kLmNvbG9yaXplSXRlbShpLCBlKSwgaS5pc0RpcnR5ID0gITAsIGkub3B0aW9ucy5zdGFja2luZyAmJiBtdChhLnNlcmllcywgZnVuY3Rpb24oZSkgewoJCQkJCQllLm9wdGlvbnMuc3RhY2tpbmcgJiYgZS52aXNpYmxlICYmIChlLmlzRGlydHkgPSAhMCkKCQkJCQl9KSwgbXQoaS5saW5rZWRTZXJpZXMsIGZ1bmN0aW9uKHQpIHsKCQkJCQkJdC5zZXRWaXNpYmxlKGUsICExKQoJCQkJCX0pLCByICYmIChhLmlzRGlydHlCb3ggPSAhMCksIHQgIT09ICExICYmIGEucmVkcmF3KCksIHZ0KGksIG4pCgkJCQl9LAoJCQkJc2V0VG9vbHRpcFBvaW50czogZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0LCBuLCBpLCBhLCBvLCByLCBzLCBsID0gdGhpcywKCQkJCQkJYyA9IFtdLAoJCQkJCQlkID0gbC54QXhpcywKCQkJCQkJcCA9IGQgJiYgZC5nZXRFeHRyZW1lcygpLAoJCQkJCQloID0gZCA/IGQudG9vbHRpcExlbiB8fCBkLmxlbiA6IGwuY2hhcnQucGxvdFNpemVYLAoJCQkJCQl1ID0gW107CgkJCQkJaWYgKGwub3B0aW9ucy5lbmFibGVNb3VzZVRyYWNraW5nICE9PSAhMSAmJiAhbC5zaW5ndWxhclRvb2x0aXBzKSB7CgkJCQkJCWZvciAoZSAmJiAobC50b29sdGlwUG9pbnRzID0gbnVsbCksIG10KGwuc2VnbWVudHMgfHwgbC5wb2ludHMsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWMgPSBjLmNvbmNhdChlKQoJCQkJCQl9KSwgZCAmJiBkLnJldmVyc2VkICYmIChjID0gYy5yZXZlcnNlKCkpLCBsLm9yZGVyVG9vbHRpcFBvaW50cyAmJiBsLm9yZGVyVG9vbHRpcFBvaW50cyhjKSwgdCA9IGMubGVuZ3RoLCBzID0gMDsgdCA+IHM7IHMrKykKCQkJCQkJCWlmIChhID0gY1tzXSwgbyA9IGEueCwgbyA+PSBwLm1pbiAmJiBvIDw9IHAubWF4KQoJCQkJCQkJCWZvciAociA9IGNbcyArIDFdLCBuID0gaSA9PT0gVyA/IDAgOiBpICsgMSwgaSA9IGNbcyArIDFdID8geWUoYmUoMCwgd2UoKGEuY2xpZW50WCArIChyID8gci53cmFwcGVkQ2xpZW50WCB8fCByLmNsaWVudFggOiBoKSkgLyAyKSksIGgpIDogaDsgbiA+PSAwICYmIGkgPj0gbjspIHVbbisrXSA9IGE7CgkJCQkJCWwudG9vbHRpcFBvaW50cyA9IHUKCQkJCQl9CgkJCQl9LAoJCQkJc2hvdzogZnVuY3Rpb24oKSB7CgkJCQkJdGhpcy5zZXRWaXNpYmxlKCEwKQoJCQkJfSwKCQkJCWhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuc2V0VmlzaWJsZSghMSkKCQkJCX0sCgkJCQlzZWxlY3Q6IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJdC5zZWxlY3RlZCA9IGUgPSBlID09PSBXID8gIXQuc2VsZWN0ZWQgOiBlLCB0LmNoZWNrYm94ICYmICh0LmNoZWNrYm94LmNoZWNrZWQgPSBlKSwgdnQodCwgZSA/ICJzZWxlY3QiIDogInVuc2VsZWN0IikKCQkJCX0sCgkJCQlkcmF3VHJhY2tlcjogcm4uZHJhd1RyYWNrZXJHcmFwaAoJCQl9KSwgYShsdCwgewoJCQkJQXhpczogUiwKCQkJCUNoYXJ0OiBGLAoJCQkJQ29sb3I6IFR0LAoJCQkJUG9pbnQ6IEd0LAoJCQkJVGljazogTSwKCQkJCVJlbmRlcmVyOiBILAoJCQkJU2VyaWVzOiBYdCwKCQkJCVNWR0VsZW1lbnQ6IEQsCgkJCQlTVkdSZW5kZXJlcjogUHQsCgkJCQlhcnJheU1pbjogTiwKCQkJCWFycmF5TWF4OiBULAoJCQkJY2hhcnRzOiAkZSwKCQkJCWRhdGVGb3JtYXQ6IFgsCgkJCQlmb3JtYXQ6IEIsCgkJCQlwYXRoQW5pbTogWiwKCQkJCWdldE9wdGlvbnM6IEwsCgkJCQloYXNCaWRpQnVnOiBMZSwKCQkJCWlzVG91Y2hEZXZpY2U6IHFlLAoJCQkJbnVtYmVyRm9ybWF0OiBiLAoJCQkJc2VyaWVzVHlwZXM6IHN0LAoJCQkJc2V0T3B0aW9uczogTywKCQkJCWFkZEV2ZW50OiB4dCwKCQkJCXJlbW92ZUV2ZW50OiB3dCwKCQkJCWNyZWF0ZUVsZW1lbnQ6IHcsCgkJCQlkaXNjYXJkRWxlbWVudDogSSwKCQkJCWNzczogeCwKCQkJCWVhY2g6IG10LAoJCQkJZXh0ZW5kOiBhLAoJCQkJbWFwOiBfdCwKCQkJCW1lcmdlOiBvLAoJCQkJcGljazogXywKCQkJCXNwbGF0OiBnLAoJCQkJZXh0ZW5kQ2xhc3M6IHYsCgkJCQlwSW50OiByLAoJCQkJd3JhcDogaywKCQkJCXN2ZzogT2UsCgkJCQljYW52YXM6IERlLAoJCQkJdm1sOiAhT2UgJiYgIURlLAoJCQkJcHJvZHVjdDogSGUsCgkJCQl2ZXJzaW9uOiBVZQoJCQl9KQoJCX0oKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iaG91c2UtdHJlbmQtYm94IHt7cGFnZXR5cGV9fSB0cmVuZC1ib3h7e2RhdGEudHJlbmR9fSI+XG4gIDxkaXYgY2xhc3M9ImhvdXNldC1idG4iPlxuICAgIDxhIGNsYXNzPSJob3VzZS10cmVuZC1iZyIgdGl0bGU9IuaSuOaIv+S7tyI+PC9hPlxuICAgIDxkaXYgY2xhc3M9Imh0LXRyZW5kLWRlc2MiPlxuICAgICAgPHNwYW4gY2xhc3M9ImgtY29sb3J7e2RhdGEudHJlbmR9fSI+e3tkYXRhLnRyZW5kTXNnfX08L3NwYW4+XG4gICAgICA8ZW0gY2xhc3M9InRyZW5kLWljb257e2RhdGEudHJlbmR9fSBob3VzZS10cmVuZC1iZyI+PC9lbT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJodC1wcmljZS1yZW1pbmQiIGRhdGEtaWQ9Int7aG91c2Vjb2RlfX0iPlxuICAgICAgPGVtIGNsYXNzPSJob3VzZS10cmVuZC1iZyI+PC9lbT5cbiAgICAgIDxzcGFuPumZjeS7t+aPkOmGkjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9ImhvdXNldC1kZXRhaWwiPlxuICAgIDxkaXYgY2xhc3M9ImhvdXNlLXRyZW5kLWltZyIgaWQ9ImhvdXNlLXRyZW5kLXt7aG91c2Vjb2RlfX0iIGRhdGEtc3JjPSJ7e3NlcnZlcn19e3tkYXRhLnRyZW5kSW1nfX0md2lkdGg9NDYwJmhlaWdodD0yMTAmcGxvdEZvbnRTaXplPTEwIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJob3VzZS1wcmljZS1xcmNvZGUiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7mr4/ml6XmiJDkuqTooYzmg4U8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0icmVkLXByaSI+5pyA5paw6ZmN5Lu35oi/5rqQPC9zcGFuPlxuICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvaG91c2VwcmktcXJjb2RlMi5wbmciPlxuICAgICAgPHA+5omr56CB5YWz5rOo5pK45oi/5Lu3PC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InByaWNlLXJhbmdlIj5cbiAgICAgIHt7aWYgZGF0YS5tYXhQcmljZSA9PSBkYXRhLm1pblByaWNlfX1cbiAgICAgICAgPHNwYW4gPueOsOS7t++8mnt7ZGF0YS5tYXhQcmljZX195LiHPC9zcGFuPlxuICAgICAge3tlbHNlfX1cbiAgICAgICAgPHNwYW4gY2xhc3M9InRvcHByaSI+5pyA6auY5Lu3Ont7ZGF0YS5tYXhQcmljZX195LiHPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0ibG93cHJpIj7mnIDkvY7ku7c6e3tkYXRhLm1pblByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7ey9pZn19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0idHJlbmQteUF4aXMtdGxlIj7ljZXkvY0o5LiHKTwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImNoYW5nZV90cmVuZF9idG4iPlxuICAgICAgPGRpdj5cbiAgICAgICAgPHNwYW4gY2xhc3M9ImhvdXNlLXRyZW5kLWIgdHJlbmQtY2hvb3NlIj7miL/mupDooYzmg4U8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJjb21tdW5pdHktdHJlbmQtYiI+5bCP5Yy66KGM5oOFPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJjb21tdW5pdHktcHJpY2UiIGlkPSJjb21tdW5pdHkte3tob3VzZWNvZGV9fSIgZGF0YS11PSJ7e3NlcnZlcn19e3tkYXRhLmNvbW11bml0eVByaWNlfX0iIGRhdGEtYz0ie3tkYXRhLmNvbW11bml0eX19Ij48L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Imh0LXd4cXJjb2RlIj5cbiAgICA8c3BhbiBjbGFzcz0iaHQtd3gtc3AxIj7lhbPms6jlhazkvJflj7c8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9Imh0LXd4LXNwMiI+5oi/5rqQ6ZmN5Lu35a6e5pe25o+Q6YaSPC9zcGFuPlxuICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL2hvdXNlcHJpLXFyY29kZTIucG5nIj5cbiAgICA8c3BhbiBjbGFzcz0iaHQtd3gtc3AzIj7kuI3lho3mj5DnpLo8L3NwYW4+XG4gIDwvZGl2PlxuXG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJiZGV4dF9tYl9iZyIgY2xhc3M9Int7cGFnZXR5cGV9fSB0cmVuZC1ib3h7e2RhdGEudHJlbmR9fSI+XG4gIDxkaXYgaWQ9ImJkZXh0X21pbmliYXIiID5cbiAgICA8ZGl2IGNsYXNzPSJiZGV4dC10b3B0YWJzIj5cbiAgICAgIDxkaXYgY2xhc3M9ImJkZXh0LW1pbmktbG9nbyI+XG4gICAgICAgIDxhID5cbiAgICAgICAgICA8ZW0gY2xhc3M9ImJkZXh0LWJnIj48L2VtPlxuICAgICAgICA8L2E+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJiZGV4dC1taW5pLXRyZW5kIj5cbiAgICAgICAgPGVtIGNsYXNzPSJiZGV4dC1iZyB0cmVuZC1pY29ue3tkYXRhLnRyZW5kfX0iPjwvZW0+XG4gICAgICAgIDxzcGFuID57e2RhdGEudHJlbmRNc2d9fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iaG91c2V0LWRldGFpbCI+XG4gICAgPGRpdiBjbGFzcz0iaG91c2UtdHJlbmQtaW1nIj5cbiAgICAgIDxpbWcgc3JjPSIiIGRhdGEtc3JjPSJ7e3NlcnZlcn19e3tkYXRhLnRyZW5kSW1nfX0md2lkdGg9NDYwJmhlaWdodD0yMTAmcGxvdEZvbnRTaXplPTEwIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJob3VzZS1wcmljZS1xcmNvZGUiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7mr4/ml6XmiJDkuqTooYzmg4U8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0icmVkLXByaSI+5oi/5rqQ5Y6G5Y+y5oql5Lu3PC9zcGFuPlxuICAgICAgPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvaG91c2VwcmktcXJjb2RlLmpwZyI+XG4gICAgICA8cD7miavnoIHlhbPms6jmkrjmiL/ku7c8L3A+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icHJpY2UtcmFuZ2UiPlxuICAgICAge3tpZiBkYXRhLm1heFByaWNlID09IGRhdGEubWluUHJpY2V9fVxuICAgICAgICA8c3BhbiA+546w5Lu377yae3tkYXRhLm1heFByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICA8c3BhbiBjbGFzcz0idG9wcHJpIj7mnIDpq5jku7fvvJp7e2RhdGEubWF4UHJpY2V9feS4hzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Imxvd3ByaSI+5pyA5L2O5Lu377yae3tkYXRhLm1pblByaWNlfX3kuIc8L3NwYW4+XG4gICAgICB7ey9pZn19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmhvdXNlX2NlbnRhbmV0MiAuaG91c2UtaXRlbSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG4gIC5ob3VzZV81aTVqICNiZGV4dF9tYl9iZy5kcHBhZ2UsIC5ob3VzZV9jZW50YW5ldDIgI2JkZXh0X21iX2JnLmRwcGFnZSB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4gICNiZGV4dF9tYl9iZy5kcHBhZ2Uge1xuICAgIGhlaWdodDogNDBweDtcbiAgfVxuICAuaG91c2UtdHJlbmQtYmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKCJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMveGJ0L2hvdXNlLXRyZW5kLWljb24yLnBuZyIpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmhvdXNlLXRyZW5kLWJveCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgYm90dG9tOiA1NnB4O1xuICAgICAgd2lkdGg6IDI4MnB4O1xuICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gICAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiwi5b6u6L2v6ZuF6buRIlxuICAgIH1cbiAgICAjYmRleHRfbWJfYmcgI2JkZXh0X21pbmliYXIge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDBweDtcbiAgICAgIGJvdHRvbTogNTZweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZyAjYmRleHRfbWluaWJhciB7XG4gICAgICByaWdodDogNnB4O1xuICAgICAgYm90dG9tOiAyOXB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZy5kcHBhZ2UgI2JkZXh0X21pbmliYXIge1xuICAgICAgcmlnaHQ6IC0zMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgI2JkZXh0X21iX2JnLmRwcGFnZSAjYmRleHRfbWluaWJhciB7XG4gICAgICByaWdodDogLTE4cHg7XG4gICAgfVxuICAgIC5ob3VzZV81aTVqICNiZGV4dF9tYl9iZyAjYmRleHRfbWluaWJhciB7XG4gICAgICBib3R0b206IDMwcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcgI2JkZXh0X21pbmliYXIge1xuICAgICAgYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICAjYmRleHRfbWJfYmcuZHBwYWdlICNiZGV4dF9taW5pYmFyIHtcbiAgICAgIGJvdHRvbTogLThweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuaG91c2UtdHJlbmQtYm94ICoge1xuICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgfVxuICAgIC5ob3VzZS10cmVuZC1ib3gudHJlbmQtYm94LTEgLmh0LXRyZW5kLWRlc2Mge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICB9XG4gICAgLmhvdXNlX2xpYW5qaWEyIC5ob3VzZS10cmVuZC1ib3gge1xuICAgICAgYm90dG9tOiAzMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgLmhvdXNlLXRyZW5kLWJveCB7XG4gICAgICByaWdodDogNDBweDtcbiAgICAgIGJvdHRvbTogMjJweDtcbiAgICB9XG4gICAgLmhvdXNlX2NlbnRhbmV0MiAuaG91c2UtdHJlbmQtYm94IHtcbiAgICAgIHJpZ2h0OiA1MnB4O1xuICAgICAgYm90dG9tOiAzMnB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQgLmhvdXNlLXRyZW5kLWJveC5kcHBhZ2Uge1xuICAgICAgcmlnaHQ6IC0xNnB4O1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldDIgLmhvdXNlLXRyZW5kLWJveC5kcHBhZ2Uge1xuICAgICAgcmlnaHQ6IC0zOHB4O1xuICAgICAgYm90dG9tOiAtMTVweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV81aTVqIC5ob3VzZS10cmVuZC1ib3gge1xuICAgICAgYm90dG9tOiAzMHB4O1xuICAgIH1cbiAgICAuaG91c2UtdHJlbmQtYm94LmRwcGFnZSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBib3R0b206IDBweDtcbiAgICB9XG4gICAgLmhvdXNlX2xpYW5qaWEyIC5ob3VzZS10cmVuZC1ib3guZHBwYWdlIHtcbiAgICAgIGJvdHRvbTogMXB4O1xuICAgIH1cbiAgICAuaG91c2V0LWJ0biB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gICAgLmhvdXNldC1idG46YWZ0ZXIge1xuICAgICAgY29udGVudDogIiI7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNsZWFyOiBib3RoO1xuICAgIH1cbiAgICAuaG91c2V0LWRldGFpbCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgaGVpZ2h0OiAyODVweDtcbiAgICAgIHdpZHRoOiA1ODBweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5OTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgICBib3gtc2hhZG93OiAwcHggNXB4IDE1cHggMCByZ2JhKDIzLDI1LDI3LDAuMTUpO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTg4cHg7XG4gICAgICByaWdodDogMHB4O1xuICAgIH1cbiAgICAuaG91c2VfY2VudGFuZXQyICNiZGV4dF9tYl9iZyAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDE5NnB4O1xuICAgICAgcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgLmhvdXNlXzVpNWogI2JkZXh0X21iX2JnIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTMzcHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcgLmhvdXNldC1kZXRhaWwge1xuICAgICAgdG9wOiAyMzBweDtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDk3cHg7XG4gICAgICByaWdodDogMTQ5cHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldDIgI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDQ4cHg7XG4gICAgICByaWdodDogMjM1cHg7XG4gICAgfVxuICAgIC5ob3VzZV9jZW50YW5ldCAjYmRleHRfbWJfYmcuZHBwYWdlIC5ob3VzZXQtZGV0YWlsIHtcbiAgICAgIHRvcDogMTUycHg7XG4gICAgICByaWdodDogNTFweDtcbiAgICB9XG4gICAgLmhvdXNlXzVpNWogI2JkZXh0X21iX2JnLmRwcGFnZSAuaG91c2V0LWRldGFpbCB7XG4gICAgICB0b3A6IDQ2cHg7XG4gICAgICByaWdodDogNzhweDtcbiAgICB9XG4gICAgLmhvdXNlLXRyZW5kLWltZyB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHdpZHRoOiA0NTJweDtcbiAgICAgIGhlaWdodDogMjE3cHg7XG4gICAgICBtYXJnaW4tdG9wOiAyOHB4O1xuICAgIH1cbiAgICAuaG91c2V0LWJ0biBhIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDMycHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZTZlNmU2O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTZweCAtNDhweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2Mge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB3aWR0aDogMTI0cHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTI0cHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQ6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjVmNjtcbiAgICB9XG4gICAgLmh0LXByaWNlLXJlbWluZCBzcGFuIHtcbiAgICAgIGNvbG9yOiAjZjc3MDViO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIH1cbiAgICAuaHQtcHJpY2UtcmVtaW5kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0zMHB4IC0yMnB4O1xuICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDIycHg7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQuaGFzcmVtaW5kIHNwYW4ge1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgfVxuICAgIC5odC1wcmljZS1yZW1pbmQuaGFzcmVtaW5kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC01N3B4IC0yMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xuICAgIH1cbiAgICAuYmRleHQtbWluaS10cmVuZC5tc2hvdmVye1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgIzQyNTc2NjtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjLm1zaG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjVmNjtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2Mgc3BhbiB7XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLWxlZnQ6IDIycHg7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjAge1xuICAgICAgY29sb3I6ICNmN2E4MmI7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjEge1xuICAgICAgY29sb3I6ICNmZjFlMWU7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjIsIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjMge1xuICAgICAgY29sb3I6ICMwYmFhNzQ7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvcjMge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgfVxuICAgIC5odC10cmVuZC1kZXNjIHNwYW4uaC1jb2xvci0xIHtcbiAgICAgIGNvbG9yOiAjODg4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyBlbSB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyNnB4O1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24wIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTJweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24xIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY2cHggLTJweDtcbiAgICB9XG4gICAgLmh0LXRyZW5kLWRlc2MgLnRyZW5kLWljb24yIHtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTVweCAtMnB4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyAudHJlbmQtaWNvbjMge1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNHB4IC0yMHB4O1xuICAgIH1cbiAgICAuaHQtdHJlbmQtZGVzYyAudHJlbmQtaWNvbi0xIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjIsICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjMge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IC0xMDlweDtcbiAgICB9XG4gICAgI2JkZXh0X21iX2JnIC50cmVuZC1pY29uMCB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggLTg0cHg7XG4gICAgfVxuICAgICNiZGV4dF9tYl9iZyAudHJlbmQtaWNvbjEge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IC01N3B4O1xuICAgIH1cbiAgICAjYmRleHRfbWJfYmcgLnRyZW5kLWljb24tMSB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAudHJlbmQteUF4aXMtdGxlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMTFweDtcbiAgICAgIGxlZnQ6IDU3cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzU4NTg1ODtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogOHB4O1xuICAgICAgcmlnaHQ6IDEyOXB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIHNwYW4ge1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzUwNTA1MDtcbiAgICB9XG4gICAgLnByaWNlLXJhbmdlIC50b3Bwcmkge1xuICAgICAgY29sb3I6ICNlNjQzNDA7XG4gICAgfVxuICAgIC5wcmljZS1yYW5nZSAubG93cHJpIHtcbiAgICAgIGNvbG9yOiAjMGJhYTc0O1xuICAgICAgbWFyZ2luLWxlZnQ6IDE0cHg7XG4gICAgfVxuICAgIC5ob3VzZS1wcmljZS1xcmNvZGUge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgd2lkdGg6IDEyM3B4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZjBmMGYwO1xuICAgIH1cbiAgICAuaG91c2UtcHJpY2UtcXJjb2RlIHNwYW4ge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4IWltcG9ydGFudDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjMzUzNTM1O1xuICAgIH1cbiAgICAuaG91c2UtcHJpY2UtcXJjb2RlIC5tZ3RvcCB7XG4gICAgICBtYXJnaW4tdG9wOiA1OXB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICB9XG4gICAgLmhvdXNlLXByaWNlLXFyY29kZSBpbWcge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrIWltcG9ydGFudDtcbiAgICAgIHdpZHRoOiAxMDBweCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IGF1dG8haW1wb3J0YW50O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTFweDtcbiAgICB9XG4gICAgLmhvdXNlLXByaWNlLXFyY29kZSBwIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICB9XG4gICAgI2V4Y2hhbmdlTGlzdCAubGlzdC1ib2R5PmxpIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgaGVpZ2h0OiAxNjZweDtcbiAgICB9XG4gICAgLmhvdXNlLWJhc2ljLW1haW4ge1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBoZWlnaHQ6IDM3OHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2xpYW5qaWEgLmNvbnRlbnQgIHtcbiAgICAgIHBhZGRpbmctYm90dG9tOiA3MHB4O1xuICAgIH1cbiAgICAuaG91c2VfbGlhbmppYTIgLm0tbGlzdCBsaSB7XG4gICAgICBoZWlnaHQ6IDIxNHB4O1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5odC13eHFyY29kZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMycHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgd2lkdGg6IDEyNHB4O1xuICAgICAgaGVpZ2h0OiAxNzZweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkYWRlZTE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTk5O1xuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxNXB4IDAgcmdiYSgyMywyNSwyNywwLjE1KTtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5odC13eHFyY29kZSAqIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAuaHQtd3hxcmNvZGUgc3BhbiB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAuaHQtd3hxcmNvZGUgaW1nIHtcbiAgICAgIHdpZHRoOiAxMDBweCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IDEwMHB4IWltcG9ydGFudDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMXB4O1xuICAgIH1cbiAgICAuaHQtd3gtc3AxIHtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBjb2xvcjogIzU4NTg1ODtcbiAgICB9XG4gICAgLmh0LXd4LXNwMiB7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBjb2xvcjogI2ViNjg2MjtcbiAgICB9XG4gICAgLmh0LXd4LXNwMyB7XG4gICAgICBjb2xvcjogI2IyYjJiMjtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lIWltcG9ydGFudDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweCFpbXBvcnRhbnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgLmNvbW11bml0eS1wcmljZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBoZWlnaHQ6IDI0N3B4O1xuICAgICAgd2lkdGg6IDQ1MnB4O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICB9XG4gICAgLmNoYW5nZV90cmVuZF9idG4ge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAxNnB4O1xuICAgICAgd2lkdGg6IDQ2MnB4O1xuICAgICAgei1pbmRleDogOTk7XG4gICAgfVxuICAgIC5jaGFuZ2VfdHJlbmRfYnRuIGRpdiB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgIH1cbiAgICAuY2hhbmdlX3RyZW5kX2J0biBzcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjM2ViZGVmO1xuICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgIGNvbG9yOiAjM2ViZGVmO1xuICAgICAgbWFyZ2luLWxlZnQ6IDcwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLmNoYW5nZV90cmVuZF9idG4gc3Bhbi50cmVuZC1jaG9vc2Uge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzNlYmRlZjtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgIH1cbiAgICAuY2hhbmdlX3RyZW5kX2J0biAuaG91c2UtdHJlbmQtYiB7XG4gICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbig5MiksCgkJCQlyID0gbigyNiksCgkJCQlzID0gdm9pZCAwLAoJCQkJbCA9IDAsCgkJCQljID0gewoJCQkJCWFkZENhcnQ6IG4oOTkpLAoJCQkJCWNoZWNrb3V0OiBuKDEwMCksCgkJCQkJc2hpcHBpbmcxOiBuKDEwMSksCgkJCQkJc2hpcHBpbmcyOiBuKDEwMiksCgkJCQkJY29udGludWUxOiBuKDEwMyksCgkJCQkJY29udGludWUyOiBuKDEwNCksCgkJCQkJY3JlZGl0aW5mbzogbigxMDUpLAoJCQkJCWFkZGNyZWRpdDogbigxMDYpLAoJCQkJCXByb21vY29kZTogbigxMDcpLAoJCQkJCWNob29zZUNyZWRpdDogbigxMDgpLAoJCQkJCWZpbmlzaGVkOiBuKDEwOSkKCQkJCX0sCgkJCQlkID0gewoJCQkJCWFkZENhcnQ6ICIjYnV5Ym94X2ZlYXR1cmVfZGl2ICNhZGRUb0NhcnQgLmEtYnV0dG9uLXN0YWNrIC5hLWJ1dHRvbi1pbnB1dCIsCgkJCQkJY2hlY2tvdXQ6ICIjaGxiLXB0Yy1idG4tbmF0aXZlIiwKCQkJCQlzaGlwcGluZzE6ICIjaWRlbnRpdHktYWRkLW5ldy1hZGRyZXNzICNlbnRlckFkZHJlc3NGdWxsTmFtZUNvbnRhaW5lciIsCgkJCQkJc2hpcHBpbmcyOiAiI2lkZW50aXR5LWFkZC1uZXctYWRkcmVzcyAjZW50ZXJBZGRyZXNzRnVsbE5hbWVDb250YWluZXIiLAoJCQkJCWNvbnRpbnVlMTogIiNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1zcGFjaW5nLW1lZGl1bSAuY29udGludWUtYnV0dG9uIC5hLWJ1dHRvbi1pbm5lciIsCgkJCQkJY29udGludWUyOiAiI29yZGVyLXN1bW1hcnkgI29yZGVyLXN1bW1hcnktY29udGFpbmVyIC5jb250aW51ZS1idXR0b25zIC5hLWJ1dHRvbi1pbm5lciAjY29udGludWUtdG9wIiwKCQkJCQljcmVkaXRpbmZvOiAiI3dyYXBwZXItbmV3LWNjIiwKCQkJCQlhZGRjcmVkaXQ6ICIjd3JhcHBlci1uZXctY2MiLAoJCQkJCXByb21vY29kZTogIi5wbXRzLXJlZGVlbS1jbGFpbS1jb2RlLWZvcm0iLAoJCQkJCWNob29zZUNyZWRpdDogIiNuYXYtYmFyKy5hLWNvbnRhaW5lciAuYS1zcGFjaW5nLWJhc2UiLAoJCQkJCWZpbmlzaGVkOiAiI29yZGVyLXN1bW1hcnktYm94IgoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQoImJvZHkiKVswXTsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgbiA9IGZ1bmN0aW9uIGkoKSB7CgkJCQkJCQljbGVhclRpbWVvdXQocyksIHMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBsKyssIDQ1ID09PSBsID8gdm9pZCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIGksICExKSA6IHZvaWQgbSgpCgkJCQkJCQl9LCAyZTMpCgkJCQkJCX07CgkJCQkJCWUuYWRkRXZlbnRMaXN0ZW5lciAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIG4sICExKQoJCQkJCX0KCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCWlmICghKHQoIi5nd2RfIiArIGUpLmxlbmd0aCA+IDApKSB7CgkJCQkJCXIoImhhaXRhb19yZW1pbmRfIiArIGUpOwoJCQkJCQl2YXIgbyA9IGNbZV07CgkJCQkJCSJhZnRlciIgPT0gbiA/IHQoZFtlXSkuZXEoMCkuYWZ0ZXIoYS5jb21waWxlKG8pKHsKCQkJCQkJCWNfc2VydmVyOiBpLmNfc2VydmVyLAoJCQkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIKCQkJCQkJfSkpIDogImFwcGVuZCIgPT0gbiAmJiB0KGRbZV0pLmVxKDApLmFwcGVuZChhLmNvbXBpbGUobykoewoJCQkJCQkJY19zZXJ2ZXI6IGkuY19zZXJ2ZXIsCgkJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlcgoJCQkJCQl9KSkKCQkJCQl9CgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCXQoIi5iamRfYnRuX2JveCAuYmpkX2Nsb3NlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiB0KCIuYmpkX2J0bl9ib3giKS5oaWRlKCksIG8uc2V0dGluZ3MoInNldF9oaWRlX3Nob3B0aXAiLCAiaGlkZV9zaG9wdGlwIiwgIjEiKSwgITEKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQkyID09IGkucGFnZUluZm8udHlwZSA/IGgoImFkZENhcnQiLCAiYWZ0ZXIiKSA6IHQoIiNobGItcHRjLWJ0bi1uYXRpdmUiKS5sZW5ndGggPiAwID8gaCgiY2hlY2tvdXQiLCAiYWZ0ZXIiKSA6IHQoIiNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MiKS5sZW5ndGggPiAwID8gaCgic2hpcHBpbmcxIiwgImFwcGVuZCIpIDogdCgiI3NoaXBwaW5nT3B0aW9uRm9ybUlkIC5hLXNwYWNpbmctbWVkaXVtIC5jb250aW51ZS1idXR0b24gLmEtYnV0dG9uLWlubmVyIikubGVuZ3RoID4gMCA/IChoKCJjb250aW51ZTEiLCAiYXBwZW5kIiksIHQoIiNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1zcGFjaW5nLW1lZGl1bSAuY29udGludWUtYnV0dG9uIC5hLWJ1dHRvbi1pbm5lciAuYS1idXR0b24tdGV4dCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJdCgiI3dyYXBwZXItbmV3LWNjIikubGVuZ3RoID4gMCAmJiAoaCgiY3JlZGl0aW5mbyIsICJhcHBlbmQiKSwgaCgiYWRkY3JlZGl0IiwgImFwcGVuZCIpLCBoKCJjaG9vc2VDcmVkaXQiLCAiYXBwZW5kIikpCgkJCQkJCX0sIDE1MDApCgkJCQkJfSkpIDogdCgiI2NvbnRpbnVlLXRvcCIpLmxlbmd0aCA+IDAgPyAoaCgiY29udGludWUyIiwgImFmdGVyIiksIHQoIiN3cmFwcGVyLW5ldy1jYyIpLmxlbmd0aCA+IDAgJiYgKGgoImNyZWRpdGluZm8iLCAiYXBwZW5kIiksIGgoImFkZGNyZWRpdCIsICJhcHBlbmQiKSwgaCgiY2hvb3NlQ3JlZGl0IiwgImFwcGVuZCIpLCB0KCIjb3JkZXItc3VtbWFyeS1jb250YWluZXIgI2NvbnRpbnVlLXRvcCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaCgicHJvbW9jb2RlIiwgImFwcGVuZCIpLCBoKCJmaW5pc2hlZCIsICJhcHBlbmQiKSwgdCgiI29yZGVyLXN1bW1hcnktYm94IC5hLWJ1dHRvbi10ZXh0LnBsYWNlLXlvdXItb3JkZXItYnV0dG9uIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJcigiaGFpdGFvX3JlbWluZF9maW5pc2hvcmRlcnN1Y2Nlc3MiKQoJCQkJCQkJfSkKCQkJCQkJfSwgMWUzKQoJCQkJCX0pKSkgOiB0KCIucG10cy1yZWRlZW0tY2xhaW0tY29kZS1mb3JtIikubGVuZ3RoID4gMCA/IChoKCJwcm9tb2NvZGUiLCAiYXBwZW5kIiksIGgoImZpbmlzaGVkIiwgImFwcGVuZCIpLCB0KCIjb3JkZXItc3VtbWFyeS1ib3ggLmEtYnV0dG9uLXRleHQucGxhY2UteW91ci1vcmRlci1idXR0b24iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJcigiaGFpdGFvX3JlbWluZF9maW5pc2hvcmRlcnN1Y2Nlc3MiKQoJCQkJCX0pKSA6IHQoIiNvcmRlci1zdW1tYXJ5LWJveCAuYS1idXR0b24tdGV4dC5wbGFjZS15b3VyLW9yZGVyLWJ1dHRvbiIpLmxlbmd0aCA+IDAgJiYgKGgoInByb21vY29kZSIsICJhcHBlbmQiKSwgaCgiZmluaXNoZWQiLCAiYXBwZW5kIiksIHQoIiNvcmRlci1zdW1tYXJ5LWJveCAuYS1idXR0b24tdGV4dC5wbGFjZS15b3VyLW9yZGVyLWJ1dHRvbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlyKCJoYWl0YW9fcmVtaW5kX2ZpbmlzaG9yZGVyc3VjY2VzcyIpCgkJCQkJfSkpLCB0KCIjd3JhcHBlci1uZXctY2MiKS5sZW5ndGggPiAwICYmIChoKCJjcmVkaXRpbmZvIiwgImFwcGVuZCIpLCBoKCJhZGRjcmVkaXQiLCAiYXBwZW5kIiksIGgoImNob29zZUNyZWRpdCIsICJhcHBlbmQiKSksIHQoIiNjY0FkZENhcmQiKS5sZW5ndGggJiYgdCgiI2NjQWRkQ2FyZCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaCgiY3JlZGl0aW5mbyIsICJhcHBlbmQiKSwgaCgiYWRkY3JlZGl0IiwgImFwcGVuZCIpLCBoKCJjaG9vc2VDcmVkaXQiLCAiYXBwZW5kIikKCQkJCQkJfSwgMTUwMCkKCQkJCQl9KSwgdSgpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS5JRTYgfHwgaS5JRTcgfHwgaS5JRTggfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24iKSA+IC0xICYmICJ3d3cuYW1hem9uLmNuIiAhPSBsb2NhdGlvbi5ob3N0ICYmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoIi5jby5qcCIpID4gLTEgJiYgdCgiaHRtbCIpLmFkZENsYXNzKCJhbWF6b24tanAiKSwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCIuZGUiKSA+IC0xIHx8IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJbSgpLCBwKCkKCQkJCX0sIDE1MDApKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2FkZENhcnQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5LiA6ZSu5rW35reYPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfYWRkQ2FydCB7XG4gICAgd2lkdGg6IDE4MHB4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMjE2cHg7XG4gICAgdG9wOiAzNnB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0IGEsIC5nd2RfYWRkQ2FydCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2FkZENhcnQgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0IGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9hZGRDYXJ0OmJlZm9yZXtcbiAgICBib3JkZXI6IDE4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICM0N2JlZmU7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE3OHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAtMXB4O1xuICB9XG4gIC5nd2RfYWRkQ2FydDphZnRlcntcbiAgICBib3JkZXI6IDE3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE3OHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI2J1eWJveF9mZWF0dXJlX2RpdiAjYWRkVG9DYXJ0IC5hLWJ1dHRvbi1zdGFjayBzcGFuLmEtYnV0dG9uLWlubmVyIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgfVxuICAjcmJiQ29udGFpbmVyIGRpdi5yYmJTZWN0aW9uIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfY2hlY2tvdXQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5Y6757uT566XPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY2hlY2tvdXQge1xuICAgIHdpZHRoOiAxNDhweDtcbiAgICBoZWlnaHQ6IDM2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDI4cHg7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gICAgdG9wOiAycHg7XG4gICAgei1pbmRleDogOTk7XG4gICAgcmlnaHQ6IC0yMTFweDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0IGEsIC5nd2RfY2hlY2tvdXQgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9jaGVja291dCAuYmpkX2FkZGNhcnQge1xuICAgIGN1cnNvcjogdGV4dDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0IGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgICBtYXJnaW4tbGVmdDogN3B4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgfVxuICAuZ3dkX2NoZWNrb3V0OmJlZm9yZXtcbiAgICBib3JkZXI6IDI5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDE4cHg7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMThweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTU4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9jaGVja291dDphZnRlciB7XG4gICAgYm9yZGVyOiAyN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDE3cHg7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDMwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC01N3B4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiNobGItcHRjLWJ0biBzcGFuLmEtYnV0dG9uLWlubmVye1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbn1cblxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2Rfc2hpcHBpbmcxIGJqZF9idG5fYm94Ij5cbiAgPHA+5rip6aao5o+Q56S6PC9wPlxuICA8c3Bhbj7lpoLpgInmi6nnm7Tpgq7vvIzor7fnm7TmjqXloavlhpnlm73lhoXmlLbotKflnLDlnYDvvJs8L3NwYW4+XG4gIDxzcGFuPuWmguS9v+eUqOi9rOi/kO+8jOivt+WcqOatpOmhtemdouWhq+WGmei9rOi/kOWFrOWPuOWcsOWdgO+8mzwvc3Bhbj5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19L2FwcC9oYWl0YW9faW50ciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ0cmFuc19hIj7ovazov5DmlLvnlaU8L2E+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiIGNsYXNzPSJiamRfc2l0ZV9pY29uIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9zaGlwcGluZzEge1xuICAgIHdpZHRoOiAzNDBweDtcbiAgICBoZWlnaHQ6IDE2MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogLTM2NXB4O1xuICAgIHRvcDogODdweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ3YmVmZTtcbiAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgfVxuICAuYW1hem9uLWRlIC5nd2Rfc2hpcHBpbmcxIHtcbiAgICB0b3A6IDM1MHB4O1xuICB9XG4gIC5nd2Rfc2hpcHBpbmcxIHAge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjb2xvcjogIzNGNDE0MjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW46IDE3cHggMCAxNnB4IDYwcHg7XG4gIH1cbiAgLmd3ZF9zaGlwcGluZzEgc3BhbiB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgIHBhZGRpbmctbGVmdDogMzJweDtcbiAgfVxuICAuYmpkX3NpdGVfaWNvbiB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbjIucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogNDdweCA0NXB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogNDhweDtcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogLTFweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMjBweDtcbiAgfVxuICAuZ3dkX3NoaXBwaW5nMSAudHJhbnNfYXtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW46IDE3cHggMzJweDtcbiAgICBjb2xvcjogIzQwQUNFNjtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4gIC5nd2Rfc2hpcHBpbmcxIC5iamRfY2xvc2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2Rfc2hpcHBpbmdfcmVtaW5kIj5cbiAgPHA+6K+l5ZWG5ZOB5pSv5oyB55u06YKu5Lit5Zu9PC9wPlxuICA8cD7nm7Tpgq7vvIzor7floavlhpnlm73lhoXmlLbotKflnLDlnYDvvJs8L3A+XG4gIDxwPui9rOi/kO+8jOivt+Whq+WGmei9rOi/kOWFrOWPuOWcsOWdgOOAgjwvcD5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9zaGlwcGluZ19yZW1pbmQge1xuICAgIHdpZHRoOiAxNzJweDtcbiAgICBoZWlnaHQ6IDEyNXB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxNzkxZGU7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAtMTk1cHg7XG4gICAgdG9wOiAwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9zaGlwcGluZ19yZW1pbmQ6YWZ0ZXJ7XG4gICAgYm9yZGVyOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjMTc5MWRlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMTZweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMTBweDtcbiAgfVxuICAjaWRlbnRpdHktYWRkLW5ldy1hZGRyZXNzICNlbnRlckFkZHJlc3NGdWxsTmFtZUNvbnRhaW5lcntcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2NvbnRpbnVlMSBiamRfYnRuX2JveCI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7ngrnmraTov5vlhaXkuIvkuIDmraU8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9jb250aW51ZTEge1xuICAgIHdpZHRoOiAyMTBweDtcbiAgICBoZWlnaHQ6IDM2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTI1M3B4O1xuICAgIHRvcDogLTRweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjhweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICB9XG4gIC5nd2RfY29udGludWUxIGEsIC5nd2RfY29udGludWUxIHNwYW4ge1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICB9XG4gIC5nd2RfY29udGludWUxIC5iamRfYWRkY2FydCB7XG4gICAgY3Vyc29yOiB0ZXh0O1xuICB9XG4gIC5nd2RfY29udGludWUxIGEge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nXCcpIDBweCA2cHggbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyMnB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgICB3aWR0aDogMjZweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTE6YmVmb3Jle1xuICAgIGJvcmRlcjogMThweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogIzQ3YmVmZTtcbiAgICBjb250ZW50OiAiIjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMjA4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTE6YWZ0ZXJ7XG4gICAgYm9yZGVyOiAxN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZmZmO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAyMDhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNzaGlwcGluZ09wdGlvbkZvcm1JZCAuYS1ib3gtaW5uZXIgc3Bhbi5hLWJ1dHRvbi1pbm5lciwgI3NoaXBwaW5nT3B0aW9uRm9ybUlkIC5hLWJveC1pbm5lciAuY29udGludWUtYnV0dG9ue1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG48L3N0eWxlPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9jb250aW51ZTIgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+54K55q2k6L+b5YWl5LiL5LiA5q2lPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY29udGludWUyIHtcbiAgICB3aWR0aDogMjEwcHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC0yNTNweDtcbiAgICB0b3A6IC0zM3B4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgYSwgLmd3ZF9jb250aW51ZTIgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9jb250aW51ZTIgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgfVxuICAuZ3dkX2NvbnRpbnVlMjpiZWZvcmV7XG4gICAgYm9yZGVyOiAxOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAyMDhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2NvbnRpbnVlMjphZnRlcntcbiAgICBib3JkZXI6IDE3cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWxlZnQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDIwOHB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI29yZGVyLXN1bW1hcnktY29udGFpbmVyIC5hLWJveC1pbm5lciBzcGFuLCAjc2hpcHBpbmdPcHRpb25Gb3JtSWQgLmEtYm94LWlubmVyIC5jb250aW51ZS1idXR0b24gLmEtYnV0dG9uLXByaW1hcnl7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iZ3dkX2NyZWRpdGluZm8gYmpkX2J0bl9ib3giPlxuICA8cD7kv6HnlKjljaHor4bliKs8L3A+XG4gIDxzcGFuPuWNleW4geS/oeeUqOWNoe+8muS/oeeUqOWNoeS4iuWPquaciemTtuiBlOagh+W/l++8mzwvc3Bhbj5cbiAgPHNwYW4+5Y+M5biB5L+h55So5Y2h77ya5L+h55So5Y2h5LiK5pyJPGI+VmlzdGE8L2I+44CBPGI+TWFzdGVyQ2FyZDwvYj7jgIE8Yj5KQ0I8L2I+44CBPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX3NwYW5fMiI+PGI+QW1lcmljYW5FeHByZXNzPC9iPuagh+W/l+eahO+8jOS4gOiIrOmDveaYr+WPjOW4geS/oeeUqOWNoTwvc3Bhbj5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Iui0reeJqeWFmiIgY2xhc3M9ImJqZF9zaXRlX2ljb24iPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9jbG9zZSI+PC9zcGFuPlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuZ3dkX2NyZWRpdGluZm8ge1xuICAgIHdpZHRoOiA0NTRweDtcbiAgICBoZWlnaHQ6IDE0MHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogLTQ2OXB4O1xuICAgIHRvcDogMzBweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQ3YmVmZTtcbiAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgfVxuICAuYW1hem9uLWpwIC5nd2RfY3JlZGl0aW5mbyB7XG4gICAgdG9wOiAtNjBweDtcbiAgfVxuICAuYW1hem9uLWRlIC5nd2RfY3JlZGl0aW5mbyB7XG4gICAgdG9wOiAtNzVweDtcbiAgICB6LWluZGV4OiA5OTk7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIHAge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjb2xvcjogIzNGNDE0MjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW46IDE3cHggMCAxNnB4IDYwcHg7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIHNwYW4ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogIzQ5NGI0ZDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDMycHg7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIC5iamRfc3Bhbl8yIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDExOHB4O1xuICB9XG4gIC5iamRfc2l0ZV9pY29uIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uMi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiA0N3B4IDQ1cHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiA0OHB4O1xuICAgIGhlaWdodDogNDhweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtMXB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyMHB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDEycHggMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgLmd3ZF9jcmVkaXRpbmZvIC5iamRfY2xvc2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfYWRkY3JlZGl0IGJqZF9idG5fYm94IiBpZD0iYWRkY3JlZGl0X2J0biI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7mt7vliqDkv6HnlKjljaE8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbiAgPGRpdiBjbGFzcz0iY3JlZGl0X2RldGFpbCI+PC9kaXY+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfYWRkY3JlZGl0IHtcbiAgICB3aWR0aDogMTgwcHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIHRvcDogNDdweDtcbiAgICB6LWluZGV4OiA5OTtcbiAgICBsZWZ0OiAxMjJweDtcbiAgfVxuICAuYW1hem9uLWpwIC5nd2RfYWRkY3JlZGl0IHtcbiAgICB0b3A6IDU0cHg7XG4gICAgbGVmdDogMTMwcHg7XG4gIH1cbiAgLmFtYXpvbi1kZSAuZ3dkX2FkZGNyZWRpdCB7XG4gICAgdG9wOiA1M3B4O1xuICAgIGxlZnQ6IDE4MHB4O1xuICB9XG4gIC5jcmVkaXRfZGV0YWlsIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgdG9wOiAtNTNweDtcbiAgICBsZWZ0OiAxOTZweDtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvL2FtYXpvbl9yZW1pbmRfY3JlZGl0X2luZm8ucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIHdpZHRoOiAzNDJweDtcbiAgICBoZWlnaHQ6IDE0MHB4O1xuICB9XG4gIC5hbWF6b24tZGUgLmNyZWRpdF9kZXRhaWwge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW8vYW1hem9uX3JlbWluZF9jcmVkaXRfaW5mb19kZS5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gIH1cbiAgLmFtYXpvbi1qcCAuY3JlZGl0X2RldGFpbCB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhby9hbWF6b25fcmVtaW5kX2NyZWRpdF9pbmZvX2pwLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgfVxuICAjYWRkY3JlZGl0X2J0bjpob3ZlciAuY3JlZGl0X2RldGFpbCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgYSwgLmd3ZF9hZGRjcmVkaXQgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICAgIG1hcmdpbi1sZWZ0OiA3cHg7XG4gIH1cbiAgLmJqZF9jbG9zZSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19jbG9zZWljb24ucG5nXCcpIDBweCAwcHggbm8tcmVwZWF0O1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogMjBweDtcbiAgICBtYXJnaW4tdG9wOiAxMnB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTJweCAxMnB4O1xuICB9XG4gIC5nd2RfYWRkY3JlZGl0OmJlZm9yZXtcbiAgICBib3JkZXI6IDI5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDE4cHg7XG4gICAgYm9yZGVyLXRvcC13aWR0aDogMThweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLTU4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IC0xcHg7XG4gIH1cbiAgLmd3ZF9hZGRjcmVkaXQ6YWZ0ZXIge1xuICAgIGJvcmRlcjogMjdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmlnaHQtY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMTdweDtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiAzMHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNTdweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogMHB4O1xuICB9XG4gICNpZGVudGl0eS1hZGQtbmV3LWFkZHJlc3MgI2VudGVyQWRkcmVzc0Z1bGxOYW1lQ29udGFpbmVye1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJnd2RfcHJvbW9jb2RlIGJqZF9idG5fYm94Ij5cbiAgPGEgaHJlZj0ie3tjX3NlcnZlcn19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Iui0reeJqeWFmiI+PC9hPlxuICA8c3BhbiBjbGFzcz0iYmpkX2FkZGNhcnQiPuWmguacieS8mOaDoOegge+8jOatpOWkhOa3u+WKoOS8mOaDoOeggTwvc3Bhbj5cbiAgPHNwYW4gY2xhc3M9ImJqZF9jbG9zZSI+PC9zcGFuPlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuZ3dkX3Byb21vY29kZSB7XG4gICAgd2lkdGg6IDI5M3B4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNjlweDtcbiAgICB0b3A6IDQ1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0N2JlZmU7XG4gICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgYSwgLmd3ZF9wcm9tb2NvZGUgc3BhbiB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDE5cHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgLmJqZF9hZGRjYXJ0IHtcbiAgICBjdXJzb3I6IHRleHQ7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGUgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGU6YmVmb3Jle1xuICAgIGJvcmRlcjogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAxNDlweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTIxcHg7XG4gIH1cbiAgLmd3ZF9wcm9tb2NvZGU6YWZ0ZXJ7XG4gICAgYm9yZGVyOiAxMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XG4gICAgY29udGVudDogIiI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDE0OXB4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAtMjBweDtcbiAgfVxuICAucG10cy1yZWRlZW0tY2xhaW0tY29kZS1mb3JtIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbjwvc3R5bGU+JzsKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9jaG9vc2VDcmVkaXQgYmpkX2J0bl9ib3giPlxuICA8YSBocmVmPSJ7e2Nfc2VydmVyfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIj48L2E+XG4gIDxzcGFuIGNsYXNzPSJiamRfYWRkY2FydCI+5pSv5oyB5Y2V5biBIC8g5Y+M5biB5L+h55So5Y2hPC9zcGFuPlxuICA8c3BhbiBjbGFzcz0iYmpkX2Nsb3NlIj48L3NwYW4+XG48L2Rpdj5cbjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gIC5nd2RfY2hvb3NlQ3JlZGl0IHtcbiAgICB3aWR0aDogMjQ5cHg7XG4gICAgaGVpZ2h0OiAzNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgY29sb3I6ICM0OTRiNGQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICAgIHRvcDogMHB4O1xuICAgIHotaW5kZXg6IDk5O1xuICAgIGxlZnQ6IDM2NXB4O1xuICB9XG4gIC5hbWF6b24tZGUgLmd3ZF9jaG9vc2VDcmVkaXQge1xuICAgIHRvcDogLTNweDtcbiAgICBsZWZ0OiA1MDdweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCBhLCAuZ3dkX2Nob29zZUNyZWRpdCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCAuYmpkX2FkZGNhcnQge1xuICAgIGN1cnNvcjogdGV4dDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdCBhIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX3NpdGVpY29uLnBuZ1wnKSAwcHggNnB4IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDI0cHggMjJweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG4gICAgd2lkdGg6IDI2cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDdweDtcbiAgfVxuICAuYmpkX2Nsb3NlIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvaGFpdGFvX2Nsb3NlaWNvbi5wbmdcJykgMHB4IDBweCBuby1yZXBlYXQ7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9jaG9vc2VDcmVkaXQ6YmVmb3Jle1xuICAgIGJvcmRlcjogMjlweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItcmlnaHQtY29sb3I6ICM0N2JlZmU7XG4gICAgY29udGVudDogIiI7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMThweDtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAxOHB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtNThweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2Nob29zZUNyZWRpdDphZnRlciB7XG4gICAgYm9yZGVyOiAyN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxN3B4O1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDE3cHg7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDMwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IC01N3B4O1xuICAgIHdpZHRoOiAwcHg7XG4gICAgaGVpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gIH1cbiAgI25hdi1iYXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuICAuYS1zcGFjaW5nLWJhc2Uge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF9maW5pc2hlZCBiamRfYnRuX2JveCI+XG4gIDxhIGhyZWY9Int7Y19zZXJ2ZXJ9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPjwvYT5cbiAgPHNwYW4gY2xhc3M9ImJqZF9hZGRjYXJ0Ij7ngrnmraTlrozmiJDorqLljZU8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJiamRfY2xvc2UiPjwvc3Bhbj5cbjwvZGl2PlxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgLmd3ZF9maW5pc2hlZCB7XG4gICAgd2lkdGg6IDE5MHB4O1xuICAgIGhlaWdodDogMzZweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiAjNDk0YjRkO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMjI4cHg7XG4gICAgdG9wOiAtMzJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjhweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAyOHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDdiZWZlO1xuICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnO1xuICB9XG4gIC5nd2RfZmluaXNoZWQgYSwgLmd3ZF9maW5pc2hlZCBzcGFuIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgfVxuICAuZ3dkX2ZpbmlzaGVkIC5iamRfYWRkY2FydCB7XG4gICAgY3Vyc29yOiB0ZXh0O1xuICB9XG4gIC5nd2RfZmluaXNoZWQgYSB7XG4gICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2hhaXRhb19zaXRlaWNvbi5wbmdcJykgMHB4IDZweCBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIHdpZHRoOiAyNnB4O1xuICB9XG4gIC5iamRfY2xvc2Uge1xuICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fY2xvc2VpY29uLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gIH1cbiAgLmd3ZF9maW5pc2hlZDpiZWZvcmV7XG4gICAgYm9yZGVyOiAxOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjNDdiZWZlO1xuICAgIGNvbnRlbnQ6ICIiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAxODhweDtcbiAgICB3aWR0aDogMHB4O1xuICAgIGhlaWdodDogMHB4O1xuICAgIHRvcDogLTFweDtcbiAgfVxuICAuZ3dkX2ZpbmlzaGVkOmFmdGVye1xuICAgIGJvcmRlcjogMTdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogI2ZmZjtcbiAgICBjb250ZW50OiAiIjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMTg4cHg7XG4gICAgd2lkdGg6IDBweDtcbiAgICBoZWlnaHQ6IDBweDtcbiAgICB0b3A6IDBweDtcbiAgfVxuICAjb3JkZXItc3VtbWFyeS1ib3h7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIH1cbiAgPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBuKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCgkJCWZ1bmN0aW9uIGkoZSwgdCkgewoJCQkJaWYgKDAgIT0gdC5pbmRleE9mKCJodHRwIikpIHsKCQkJCQlpZiAoMCA9PSB0LmluZGV4T2YoImphdmFzY3JpcHQiKSkgZSA9ICIiLCB0ID0gIiI7CgkJCQkJZWxzZSBpZiAoMCA9PSB0LmluZGV4T2YoIi8vIikpIGUgPSAiaHR0cDoiOwoJCQkJCWVsc2UgaWYgKDAgPT0gdC5pbmRleE9mKCIvIikpIGUgPSBlLnJlcGxhY2UoLyhodHRwOlwvXC9bXlwvXSspLiovZ2ksICIkMSIpOwoJCQkJCWVsc2UgewoJCQkJCQl2YXIgbiA9IGUuc3Vic3RyKDAsIGUuaW5kZXhPZigiLy8iKSArIDIpOwoJCQkJCQllID0gZS5zdWJzdHIoZS5pbmRleE9mKCIvLyIpICsgMik7CgkJCQkJCXZhciBpID0gZS5zcGxpdCgiLyIpLAoJCQkJCQkJYSA9IGkubGVuZ3RoIC0gMTsKCQkJCQkJaWYgKDAgPT0gdC5pbmRleE9mKCIuLyIpKSB0ID0gdC5zdWJzdHIoMik7CgkJCQkJCWVsc2UgaWYgKDAgPT0gdC5pbmRleE9mKCIuLi8iKSkKCQkJCQkJCWZvciAoOyAwID09IHQuaW5kZXhPZigiLi4vIik7KSB0ID0gdC5zdWJzdHIoMyksIGEtLTsKCQkJCQkJZSA9IG47CgkJCQkJCWZvciAodmFyIG8gPSAwOyBhID4gbzsgbysrKSBlICs9IGlbb10gKyAiLyIKCQkJCQl9CgkJCQkJdCA9IGUgKyB0CgkJCQl9CgkJCQlyZXR1cm4gdAoJCQl9CgoJCQlmdW5jdGlvbiBhKCkgewoJCQkJdmFyIGUgPSB0LnNpdGU7CgkJCQlyZXR1cm4gInloZCIgPT0gdC5zaXRlICYmIChlID0gInlpaGFvZGlhbiIpLCAidmlwIiA9PSB0LnNpdGUgJiYgKGUgPSAidmlwc2hvcCIpLCBlCgkJCX0KCgkJCWZ1bmN0aW9uIG8oKSB7CgkJCQkoImJhaWR1IiA9PSB0LmZyb21fZGV2aWNlIHx8ICJtaV9uZXciID09IHQuZnJvbV9kZXZpY2UgfHwgIm5qY2siID09IHQuZnJvbV9kZXZpY2UgfHwgImJqbHQiID09IHQuZnJvbV9kZXZpY2UgfHwgdC5uZXdfZXh0ZW5zaW9uKSAmJiAoZFsiMzYwYnV5Il0gPSAzKQoJCQl9CgkJCXZhciByID0gdC51X3NlcnZlciArICIvdW5pb24vZ28iLAoJCQkJcyA9IFsianNkeCIsICJ0bHhzIiwgImhuZHgiLCAieGRqZiIsICJoYWd3IiwgImJhaWR1IiwgIm1pX25ldyJdOwoJCQkhdC5pc01vYmlsZSAmJiBzLmluZGV4T2YgJiYgcy5pbmRleE9mKHQuZnJvbV9kZXZpY2UpID4gLTEgJiYgKHIgPSB0LnNwZWNpYWxVbmlvbik7CgkJCXZhciBsLCBjID0gITAsCgkJCQlkID0gewoJCQkJCWRhbmdkYW5nOiAyLAoJCQkJCW5ld2VnZzogNywKCQkJCQltMTg6IDEwLAoJCQkJCXNlcGhvcmFjcHM6IDEyLAoJCQkJCWxlZmVuZzogMTMsCgkJCQkJczogMTQsCgkJCQkJIjUxYnV5IjogMTUsCgkJCQkJbW9vbmJhc2E6IDE3LAoJCQkJCWtlZWRlOiAxOCwKCQkJCQlrZWRlOiAxOCwKCQkJCQl2YW5jbDogMTksCgkJCQkJbGV0YW86IDIyLAoJCQkJCXRhb3hpZTogMjQsCgkJCQkJc3VuaW5nOiAyNSwKCQkJCQljb284OiAyNiwKCQkJCQlnb21lOiAyOCwKCQkJCQkiZ29tZS1ydXNoYnV5IjogMjgsCgkJCQkJZ29tZWhpZ286IDI4LAoJCQkJCXlpaGFvZGlhbjogMzEsCgkJCQkJInlpaGFvZGlhbi10dWFuIjogMzEsCgkJCQkJd29tYWk6IDMyLAoJCQkJCWxleW91OiAzMywKCQkJCQlzaG9waW46IDM0LAoJCQkJCXhpdTogMzUsCgkJCQkJbWJhb2JhbzogMzYsCgkJCQkJY2h1bnNodWl0YW5nOiA0MCwKCQkJCQl4OiA0MSwKCQkJCQlubzU6IDQzLAoJCQkJCXNhc2E6IDQ1LAoJCQkJCSIzNjBreHIiOiA1MCwKCQkJCQltNmdvOiA1MSwKCQkJCQltb3JlZm9vZDogNTQsCgkJCQkJIjk5cmVhZCI6IDU5LAoJCQkJCSJjaGluYS1wdWIiOiA2MCwKCQkJCQlib29rc2NoaW5hOiA2MSwKCQkJCQl3aW54dWFuOiA2MiwKCQkJCQllZmVpaHU6IDYzLAoJCQkJCXlpbnRhaTogNjYsCgkJCQkJc3RyYXdiZXJyeW5ldDogNjksCgkJCQkJaGFwcGlnbzogNzIsCgkJCQkJZ2FwOiA3MywKCQkJCQl0bWFsbDogODMsCgkJCQkJdGlhbnRpYW46IDg0LAoJCQkJCWp1bWVpOiA4NiwKCQkJCQl5b3Vnb3U6IDkzLAoJCQkJCTExMTogOTQsCgkJCQkJamlhbmtlOiA5NywKCQkJCQltdXlpbmd6aGlqaWE6IDk4LAoJCQkJCWxpbmdzaGk6IDk5LAoJCQkJCWJhbmdnbzogMTAwLAoJCQkJCXllc215d2luZTogMTAxLAoJCQkJCWppdW1laTogMTAyLAoJCQkJCXdpbmVuaWNlOiAxMDIsCgkJCQkJaml1eGlhbjogMTAzLAoJCQkJCWdvdWppdXdhbmc6IDEwOCwKCQkJCQlva2hxYjogMTA5LAoJCQkJCWJvb2t1dTogMTEwLAoJCQkJCWQxOiAxMTUsCgkJCQkJcGFpeGllOiAxMjIsCgkJCQkJczg6IDEyMywKCQkJCQlob21ldnY6IDEyNCwKCQkJCQlqeGR5ZjogMTI1LAoJCQkJCWppbnhpYW5nOiAxMjUsCgkJCQkJc2ZiZXN0OiAxMjYsCgkJCQkJYmVubGFpOiAxMjcsCgkJCQkJdG9vdG9vOiAxMjgsCgkJCQkJdmlwc2hvcDogMTI5LAoJCQkJCWZjbHViOiAxMzAsCgkJCQkJaWh1c2g6IDEzMSwKCQkJCQl2bWFsbDogMTM0LAoJCQkJCWxlbm92bzogMTM1LAoJCQkJCWFwcGxlOiAxMzYsCgkJCQkJem03OiAxMzgsCgkJCQkJbWlxaTogMTM5LAoJCQkJCXpoaXdvOiAxNDAsCgkJCQkJajE6IDE0MSwKCQkJCQl3YW5naml1OiAxNDIsCgkJCQkJbGllYm86IDE0NCwKCQkJCQllc3ByaXQ6IDE0NSwKCQkJCQlsYW1pdTogMTQ2LAoJCQkJCWFpbWVyOiAxNDcsCgkJCQkJa2FkYW5nOiAxNDgsCgkJCQkJbGl6aTogMTQ5LAoJCQkJCW1ldHJvbWFsbDogMTUwLAoJCQkJCXBiYTogMTUxLAoJCQkJCXNoYW5ncGluOiAxNTIsCgkJCQkJd2JpYW86IDE1MywKCQkJCQloYW5kdXlpc2hlOiAxNTQsCgkJCQkJZWhhaWVyOiAxNTUsCgkJCQkJc2Vjb286IDE1NiwKCQkJCQljYW1lbDogMTU3LAoJCQkJCW1hc2FtYXNvOiAxNTgsCgkJCQkJbm9wOiAxNTksCgkJCQkJbmFydWt1OiAxNjAsCgkJCQkJZ2FvamllOiAxNjEsCgkJCQkJemhlbnBpbjogMTYyLAoJCQkJCXNwb3J0aWNhOiAxNjMsCgkJCQkJeGlmdXF1YW46IDE2NCwKCQkJCQltaWxpZXI6IDE2NSwKCQkJCQlsZW1hbGw6IDE2OCwKCQkJCQlkaWFucGluZzogMTcxLAoJCQkJCWN0cmlwOiAxNzMsCgkJCQkJeWlndW86IDE3NCwKCQkJCQl5dW1teTc3OiAxNzUsCgkJCQkJZnJ1aXRkYXk6IDE3OCwKCQkJCQlqdW1laWdsb2JhbDogMTc5LAoJCQkJCWZlaW5pdTogMTgwLAoJCQkJCWZlaWZlaTogMTgxLAoJCQkJCXp1aXBpbjogMTgyLAoJCQkJCXlvaG9idXk6IDE4NCwKCQkJCQlsdm1hbWE6IDE4NSwKCQkJCQlpa2p0YW86IDE4OCwKCQkJCQltZjkxMDogMTk0LAoJCQkJCW1hcmttYWxsOiAxOTQsCgkJCQkJbWl5YWJhb2JlaTogMTk1LAoJCQkJCXVsZTogMTk2LAoJCQkJCW1pbmdzaGVuZ2VjOiAxOTcsCgkJCQkJd2FuZ2Z1amluZzogMTk4LAoJCQkJCW51b21pOiAxOTksCgkJCQkJcXVuYXI6IDIwMCwKCQkJCQltZWlsaXNodW86IDIwMiwKCQkJCQltb2d1amllOiAyMDMsCgkJCQkJIjU1dHVhbiI6IDIwNCwKCQkJCQlqaW5qaWFuZ2lubnM6IDIwNSwKCQkJCQllbG9uZzogMjA2LAoJCQkJCTUwMDogMjA5LAoJCQkJCXN1cHV5OiAyMTAsCgkJCQkJbHY6IDIxMSwKCQkJCQljYWlwaWFvOiAyMTIsCgkJCQkJbGluaW5nOiAyMTMsCgkJCQkJa29vbGVhcm46IDIxNCwKCQkJCQlzcHJpbmd0b3VyOiAyMTUsCgkJCQkJMjI4OiAyMTYsCgkJCQkJcnJzOiAyMTcsCgkJCQkJY29vY2FhOiAyMTgsCgkJCQkJbGlmZXZjOiAyMjAsCgkJCQkJbml1YmlhOiAyMjEsCgkJCQkJa3pqMzY1OiAyMjIsCgkJCQkJa2FvbGE6IDIyMywKCQkJCQl5bWF0b3U6IDIyNCwKCQkJCQltZXRhbzogMjI1LAoJCQkJCWtqdDogMjI2LAoJCQkJCWxvZ2l0ZWNoOiAyMjcsCgkJCQkJZWJheTogMjMwLAoJCQkJCXhpamk6IDIzMiwKCQkJCQluaWtlOiAyMzMsCgkJCQkJIjM2MGthZCI6IDIzNCwKCQkJCQlsYnhjbjogMjM1LAoJCQkJCW1laWNpOiAyMzYsCgkJCQkJYmVpYmVpOiAyMzcsCgkJCQkJIjZwbSI6IDIzOCwKCQkJCQlzaG9wYm9wOiAyNDEsCgkJCQkJc2llcnJhdHJhZGluZ3Bvc3Q6IDI0MywKCQkJCQlhc2hmb3JkOiAyNDMsCgkJCQkJImxvb2tmYW50YXN0aWMtY29tIjogMjQ4LAoJCQkJCXZzaWdvOiAyNTIsCgkJCQkJIjEwMHl1ZSI6IDI1NiwKCQkJCQloYWl0YW9jaGVuZzogMjU4LAoJCQkJCWpvZXNuZXdiYWxhbmNlb3V0bGV0OiAyNTksCgkJCQkJZGFsaW5nOiAyNjcsCgkJCQkJc2ZodDogMjY4LAoJCQkJCWZlbmdxdTogMjY4LAoJCQkJCW1laTogMjY5LAoJCQkJCXNob3dqb3k6IDI3MCwKCQkJCQlvY2o6IDI3MSwKCQkJCQlzdW5kYW46IDI3MiwKCQkJCQllYXNlZXllczogMjczLAoJCQkJCXl1bmhvdTogMjc0LAoJCQkJCWhhaXR1bmN1bjogMjc1LAoJCQkJCXdhbG1hcnQ6IDI3NiwKCQkJCQl2bWVpOiAyNzcsCgkJCQkJamdiOiAyNzgsCgkJCQkJIjUxZGluIjogMjc5LAoJCQkJCWFpZGFpOiAyODAsCgkJCQkJYm9xaWk6IDI4MSwKCQkJCQl0b3Vyc2ZvcmZ1bjogMjgyLAoJCQkJCWx1bHV0cmlwOiAyODMsCgkJCQkJc3BpZGVyOiAyODQsCgkJCQkJbWljcm9zb2Z0c3RvcmU6IDI4NSwKCQkJCQlqaWFlOiAyODYsCgkJCQkJemF6aGlwdTogMjg3LAoJCQkJCXhnZHE6IDI4OCwKCQkJCQl4dGVwOiAyODksCgkJCQkJbWlkZWE6IDI5MCwKCQkJCQlzdGFwbGVzOiAyOTEsCgkJCQkJZWZvdGlsZTogMjkyLAoJCQkJCWJlc3RjYWtlOiAyOTMsCgkJCQkJbG92bzogMjk0LAoJCQkJCWh1YTogMjk1LAoJCQkJCXpoZTgwMDogMjk2LAoJCQkJCWJmdHY6IDI5NywKCQkJCQl0dWppYTogMjk4LAoJCQkJCXR1aHU6IDI5OSwKCQkJCQlodGM6IDMwMCwKCQkJCQlyb3Nlb25seTogMzAxLAoJCQkJCXJvbmczNjA6IDMwMiwKCQkJCQluaXdvZGFpOiAzMDMsCgkJCQkJY29zbWU6IDMwNCwKCQkJCQlkaWFwZXJzOiAzMDUsCgkJCQkJd2luZGVsbjogMzA2LAoJCQkJCWJhYnluZW86IDMwNywKCQkJCQllc2NlbnR1YWw6IDMwOCwKCQkJCQl0aGV3YXRjaGVyeTogMzA5LAoJCQkJCXNha3NmaWZ0aGF2ZW51ZTogMzEwLAoJCQkJCWVzdGVlbGF1ZGVyOiAzMTEsCgkJCQkJYmljY2FtZXJhOiAzMTIsCgkJCQkJdGFxdTogMzEzLAoJCQkJCXF5ZXI6IDMxNCwKCQkJCQkiYXhtYWxsICI6IDMxNSwKCQkJCQltdWppOiAzMTYsCgkJCQkJZ21hcmtldDogMzE3LAoJCQkJCSIxMXN0IjogMzE4LAoJCQkJCXNtYXJ0YmFyZ2FpbnM6IDMxOSwKCQkJCQl5YWhvb3Nob3A6IDMyMCwKCQkJCQlibG9vbWluZ2RhbGVzOiAzMjEsCgkJCQkJbWlraWhvdXNlOiAzMjIsCgkJCQkJdG95c3J1czogMzIzLAoJCQkJCWNvbWZvcnRmaXJzdDogMzI0LAoJCQkJCWd5bWJvcmVlOiAzMjUsCgkJCQkJYWxiZWViYWJ5OiAzMjYsCgkJCQkJYmFieW1hcmt0OiAzMjcsCgkJCQkJdWdnYXVzdHJhbGlhOiAzMjgsCgkJCQkJbmVpbWFubWFyY3VzOiAzMjksCgkJCQkJc2hvZWJ1eTogMzMwLAoJCQkJCXN6dWw6IDMzMSwKCQkJCQl0aW1leDogMzMyLAoJCQkJCWtheTogMzMzLAoJCQkJCWV3YXRjaGVzOiAzMzQsCgkJCQkJc3dhcm92c2tpOiAzMzUsCgkJCQkJd29ybGRvZndhdGNoZXM6IDMzNiwKCQkJCQlkYW5pZWx3ZWxsaW5ndG9uOiAzMzcsCgkJCQkJYmVhdXR5YmF5OiAzMzgsCgkJCQkJYmVhdXR5OiAzMzksCgkJCQkJYmVhdXR5YmFyOiAzNDAsCgkJCQkJc2tpbnN0b3JlOiAzNDEsCgkJCQkJbGFuZWlnZTogMzQyLAoJCQkJCWJvc2U6IDM0MywKCQkJCQliZXN0YnV5OiAzNDQsCgkJCQkJYmhwaG90b3ZpZGVvOiAzNDUsCgkJCQkJc29ueTogMzQ2LAoJCQkJCWJsOiAzNDcsCgkJCQkJYmVzdGluZm9vZHM6IDM0OCwKCQkJCQl5b3UxNjM6IDM0OSwKCQkJCQlqaW5qaWFuZzogMzUwLAoJCQkJCWd1b2ppbWFtaTogMzUxLAoJCQkJCWJhaXlhbmd3YW5nOiAzNTIsCgkJCQkJcm95eW91bmdjaGVtaXN0OiAzNTQsCgkJCQkJbWVkaWhlYWxzaG9wOiAzNTUsCgkJCQkJIjEwMDFwaGFybWFjaWVzIjogMzU2LAoJCQkJCSJsb29rZmFudGFzdGljLWNuIjogMzU3LAoJCQkJCSIxLTE2MyI6IDM1OCwKCQkJCQlrYWl4aW5iYW86IDM1OSwKCQkJCQlqdWFucGk6IDM2MCwKCQkJCQlib29raW5nOiAzNjEsCgkJCQkJcGhhcm1hY3lvbmxpbmU6IDM2MiwKCQkJCQlib2R5Z3VhcmRhcG90aGVrZTogMzYzLAoJCQkJCXB1cmNvdHRvbjogMzY0LAoJCQkJCXdzdHg6IDM2NywKCQkJCQloaXNlbnNlOiAzNjgsCgkJCQkJemhvbmdqaXU6IDM2OSwKCQkJCQlrYWx1bGk6IDM3MCwKCQkJCQl0bzh0bzogMzcxLAoJCQkJCW9wcG9zaG9wOiAzNzIsCgkJCQkJYmFvYmVpZ2V6aTogMzczLAoJCQkJCXlhbzEyMzogMzc0LAoJCQkJCWJhaWNoZW5nOiAzNzUsCgkJCQkJZ2lvbmVlOiAzNzYsCgkJCQkJc3Vhbmp1emk6IDM3NywKCQkJCQlhb215Z29kOiAzNzgsCgkJCQkJbHVvbGFpOiAzNzksCgkJCQkJdml2bzogMzgwLAoJCQkJCWRpeGludG9uZzogMzgxLAoJCQkJCWNvb2xwYWQ6IDM4MiwKCQkJCQlza2c6IDM4MywKCQkJCQlpcWl5aTogMzg0LAoJCQkJCWFvbGFpZ286IDM4NSwKCQkJCQltaXNzZnJlc2g6IDM4NiwKCQkJCQlwdXNoZW5rdWFqaW5nOiAzODcsCgkJCQkJZmVlbHVuaXF1ZTogMzg4LAoJCQkJCWNoZW1pc3RkaXJlY3Q6IDM4OSwKCQkJCQluZXRwaGFybWFjeTogMzkwLAoJCQkJCXBoYXJtYWN5NGxlc3M6IDM5MSwKCQkJCQlwaGFybWFjeWRpcmVjdDogMzkyLAoJCQkJCWFtY2FsOiAzOTMsCgkJCQkJbGFyZWRvdXRlOiAzOTQsCgkJCQkJdW5zZXJla2xlaW5lYXBvdGhla2U6IDM5NSwKCQkJCQllcndpbm11ZWxsZXI6IDM5NiwKCQkJCQlraXdpZGlzY292ZXJ5OiAzOTcsCgkJCQkJc3ByaW5nbGFuZTogMzk4LAoJCQkJCSJqYWtvLW8iOiAzOTksCgkJCQkJZWFzeXRveXM6IDQwMCwKCQkJCQl0bGNwaGFybWFjeTogNDAxLAoJCQkJCWJpZW5tYW5nZXI6IDQwMiwKCQkJCQlkZXdhcmVuOiA0MDMsCgkJCQkJImRpc2NvdW50LWFwb3RoZWtlIjogNDA0LAoJCQkJCSJob2xsYW5kLWF0LWhvbWUiOiA0MDUsCgkJCQkJeW91eXU6IDQwNiwKCQkJCQlraXdpc3RhcmNhcmU6IDQwNywKCQkJCQlsZW5vdm9tb2JpbGU6IDQwOCwKCQkJCQlraWVobHM6IDQwOSwKCQkJCQl6YXBwb3M6IDQxMCwKCQkJCQljb2FjaDogNDExLAoJCQkJCXlvb3g6IDQxMiwKCQkJCQkiMTFzdHJlZXQiOiA0MTMsCgkJCQkJIjUxdGFvdWsiOiA0MTQsCgkJCQkJaHFoYWlyOiA0MTUsCgkJCQkJa2F0ZXNwYWRlOiA0MTYsCgkJCQkJdml0YWZ5OiA0MTcsCgkJCQkJbG90dGU6IDQxOCwKCQkJCQljYXJyZWZvdXI6IDQxOSwKCQkJCQl0ZWE3OiA0MjAsCgkJCQkJcHV6ZXlmOiA0MjEsCgkJCQkJa29obHM6IDQyMiwKCQkJCQlib2R5YnVpbGRpbmc6IDQyMywKCQkJCQlub3Jkc3Ryb206IDQyNCwKCQkJCQljb3N0Y286IDQyNSwKCQkJCQl0YXJnZXQ6IDQyNiwKCQkJCQlrbWFydDogNDI3LAoJCQkJCW92ZXJzdG9jazogNDI4LAoJCQkJCXNlYXJzOiA0MjksCgkJCQkJc2hvcHJvYmFtOiA0MzAsCgkJCQkJZ291bWluOiA0MzEsCgkJCQkJZmx5Y286IDQzMiwKCQkJCQlvcHBsZXN0b3JlOiA0MzMsCgkJCQkJc3lzaG9wOiA0MzQsCgkJCQkJeWZkeWY6IDQzNSwKCQkJCQlob3RlbHM6IDQzNiwKCQkJCQlhaWh1aXNob3U6IDQzNywKCQkJCQl0aGViZWFzdHNob3A6IDQzOCwKCQkJCQlqb21vb3Nob3A6IDQzOSwKCQkJCQlzZXB0d29sdmVzOiA0NDAsCgkJCQkJbGlhbmppYTogNDQxLAoJCQkJCSI1aTVqIjogNDQyLAoJCQkJCWhvbWU2OiA0NDMsCgkJCQkJIjgwMHBoYXJtIjogNDQ0LAoJCQkJCXVqaXBpbjogNDQ1LAoJCQkJCW1tYjogNDQ2LAoJCQkJCWloYXZldTogNDQ3LAoJCQkJCWlrYW5nOiA0NDgsCgkJCQkJd3luODg6IDQ0OSwKCQkJCQltY2FrZTogNDUwLAoJCQkJCXhtZWlzZTogNDUxLAoJCQkJCWxlY2FrZTogNDUyLAoJCQkJCWpkMTAwOiA0NTMsCgkJCQkJamluZ2h1YTogNDU0LAoJCQkJCXRhb2h3dTogNDU1LAoJCQkJCXpiaXJkOiA0NTYsCgkJCQkJa20xODE4OiA0NTcsCgkJCQkJem9jYWk6IDQ1OCwKCQkJCQl0YW9zaHU6IDQ1OSwKCQkJCQlhaXpoaWd1OiA0NjAsCgkJCQkJdGlleW91OiA0NjEsCgkJCQkJZmllbGRzY2hpbmE6IDQ2MiwKCQkJCQl3ZG1jYWtlOiA0NjMsCgkJCQkJbHF4c2hvcDogNDY0LAoJCQkJCXVzYXNob3BjbjogNDY3LAoJCQkJCXdpbmU5OiA0NjgsCgkJCQkJcWlwYWltYWxsOiA0NjksCgkJCQkJeW9kb2RvOiA0NzAsCgkJCQkJMTY4ODogNDcxLAoJCQkJCXlvZ2VyOiA0NzIsCgkJCQkJZGFwdTogNDczLAoJCQkJCXdpbm9uYTogNDc0LAoJCQkJCXdsOiA0NzUsCgkJCQkJc2hhbm1haTogNDc2LAoJCQkJCXpnc2hvZXM6IDQ3NywKCQkJCQltYWljaGF3YW5nOiA0NzgsCgkJCQkJdWVtYWxsOiA0ODksCgkJCQkJIjUxeW91IjogNDgwLAoJCQkJCWJlaWZhYm9vazogNDgxLAoJCQkJCWpwZWVuOiA0ODIsCgkJCQkJaHVhdHVveWY6IDQ4MywKCQkJCQlmZW5nYnV5OiA0ODQsCgkJCQkJdWl5aTogNDg1LAoJCQkJCWhlY2hhOiA0ODYsCgkJCQkJdDEwOiA0ODcsCgkJCQkJcXc6IDQ4OCwKCQkJCQltaXV0b3VyOiA0ODksCgkJCQkJZWhhb3lhbzogNDkwLAoJCQkJCWlkeDogNDkxLAoJCQkJCXV5YTEwMDogNDkyLAoJCQkJCXNzbmV3eW9yazogNDkzLAoJCQkJCWNsaW5pcXVlOiA0OTQsCgkJCQkJaHhlcGF3bjogNDk1LAoJCQkJCWJyb29rc2Jyb3RoZXJzOiA0OTYsCgkJCQkJb210YW86IDQ5NywKCQkJCQllcDM2NTogNDk4LAoJCQkJCWNvbHVtYmlhc3BvcnRzOiA0OTksCgkJCQkJYnN0YXBwOiA1MDAsCgkJCQkJbmV3YmFsYW5jZTogNTAxLAoJCQkJCXdqaWtlOiA1MDIsCgkJCQkJYmFsbHk6IDUwMywKCQkJCQkiMWhhaSI6IDUwNCwKCQkJCQlqaWFsaWNoOiA1MDUsCgkJCQkJdGFrZXlhOiA1MDYsCgkJCQkJZm9yZXZlcjIxOiA1MDcsCgkJCQkJbW9kZXJuYXZlbnVlOiA1MDgsCgkJCQkJbXVuaWFvOiA1MDksCgkJCQkJenVpaHVpeW91OiA1MTAsCgkJCQkJY2VudGFuZXQ6IDUxMSwKCQkJCQlib2JiaWJyb3duY29zbWV0aWNzOiA1MTIsCgkJCQkJInN1cGVyLWluIjogNTEzLAoJCQkJCWhhbmdvd2E6IDUxNCwKCQkJCQlsZXZpOiA1MTUsCgkJCQkJZmlsYTogNTE2LAoJCQkJCWNvbnZlcnNlOiA1MTcsCgkJCQkJbmV4dGRpcmVjdDogNTE4LAoJCQkJCWl0cmlwOiA1MTksCgkJCQkJbGFzaG91OiA1MjAsCgkJCQkJbGl1ZmVuZzogNTIxLAoJCQkJCXRydDogNTIyLAoJCQkJCXdvZGluZ2h1YTogNTIzLAoJCQkJCXd1bGl3dWxpOiA1MjQsCgkJCQkJZm9yZXN0Zm9vZDogNTI1LAoJCQkJCWJvbmpvdXJoazogNTI2LAoJCQkJCXZpdGFnb3U6IDUyNywKCQkJCQlraW5ob206IDUyOCwKCQkJCQkiMzYwbGoiOiA1MjksCgkJCQkJY2hhbmdiYTogNTMwLAoJCQkJCW9ha2xleTogNTMxLAoJCQkJCWpweW9vOiA1MzIsCgkJCQkJY2xhcmtzdXNhOiA1MzMsCgkJCQkJc3Rhcndvb2Rob3RlbHM6IDUzNCwKCQkJCQltYXJyaW90dDogNTM1LAoJCQkJCXllc3N0eWxlOiA1MzYsCgkJCQkJZXZpc3U6IDUzNywKCQkJCQlsaWZlc2Vhc3k6IDUzOCwKCQkJCQljY3hwZXQ6IDUzOSwKCQkJCQl4MDA2MTogNTQwLAoJCQkJCWtrZ3VhbjogNTQxLAoJCQkJCSJzdHlsZS1vY2xvY2siOiA1NDIsCgkJCQkJcGVpa3VhOiA1NDMsCgkJCQkJYWlyZnJhbmNlOiA1NDQsCgkJCQkJYWNjb3Job3RlbHM6IDU0NSwKCQkJCQlzcGFjZW5rOiA1NDYsCgkJCQkJaGFpY2h1ZmFuZzogNTQ3LAoJCQkJCXdjb25jZXB0OiA1NDgsCgkJCQkJZ2FudDogNTQ5LAoJCQkJCWNhdGZvb3R3ZWFyOiA1NTAsCgkJCQkJc2F1Y29ueTogNTUxLAoJCQkJCXphb3p1bzogNTUyLAoJCQkJCWxpdHRsZXN3YW46IDU1MywKCQkJCQljYW46IDU1NCwKCQkJCQlzc3JqOiA1NTUsCgkJCQkJZ3Vlc3M6IDU1NiwKCQkJCQlldGloYWQ6IDU1NywKCQkJCQlmaWlsOiA1NTgsCgkJCQkJbWlhbnNodWkzNjU6IDU1OSwKCQkJCQl0ZWdvdXNoZTogNTYwLAoJCQkJCXdpZ2dsZTogNTYxLAoJCQkJCW1kcmVhbXM6IDU2MiwKCQkJCQllY292YWNzOiA1NjMsCgkJCQkJY2Fsdmlua2xlaW46IDU2NCwKCQkJCQltZW1lYm94OiA1NjUsCgkJCQkJaGlsdG9uOiA1NjYsCgkJCQkJcmV2b2x2ZTogNTY3LAoJCQkJCXNoaXNlaWRvOiA1NjgsCgkJCQkJY2xhcmluc3VzYTogNTY5LAoJCQkJCXN0YXJidWNrczogNTcwLAoJCQkJCSJyYXktYmFuIjogNTcxLAoJCQkJCXB1bWE6IDU3MiwKCQkJCQluYXV0aWNhOiA1NzMsCgkJCQkJY3JlbWVkZWxhbWVyOiA1NzQsCgkJCQkJImtpcGxpbmctdXNhIjogNTc1LAoJCQkJCWp1cmxpcXVlOiA1NzYsCgkJCQkJaHVzaHB1cHBpZXM6IDU3NywKCQkJCQlvcmlnaW5zOiA1NzgsCgkJCQkJZm9sbGlmb2xsaWU6IDc3OSwKCQkJCQlsb2NjaXRhbmU6IDU4MCwKCQkJCQlocHN0b3JlOiA1ODIsCgkJCQkJIjAxaG9tZSI6IDU4NCwKCQkJCQloZWFsdGhwb3N0OiA1ODgsCgkJCQkJaW1lbmd4aWFuZzogNTkwLAoJCQkJCWh5c2o6IDU5MSwKCQkJCQlzYW9odW83OiA1OTIsCgkJCQkJcmVwYWk6IDU5MywKCQkJCQltYXlpOiA1OTQsCgkJCQkJeWlucGlhbzogNTk1LAoJCQkJCSJpaG9tZS1pbnMiOiA1OTYsCgkJCQkJaW5jYWtlOiA1OTcsCgkJCQkJa3V3bzogNTk4LAoJCQkJCXl3YXJ0OiA1OTksCgkJCQkJY2N0OiA2MDAsCgkJCQkJYW5zZ286IDYwMSwKCQkJCQlwaWxpYmFiYTogNjAyLAoJCQkJCXhpYW9uaXU4ODogNjAzLAoJCQkJCWFoYXZhOiA2MDQsCgkJCQkJIjUtZmlmdGgiOiA2MDUsCgkJCQkJdGhld2F0Y2hodXQ6IDYwNiwKCQkJCQliYWJ5aGF2ZW46IDYwNywKCQkJCQkiY29zbWUtZGUiOiA2MDgsCgkJCQkJZ2V0dGhlbGFiZWw6IDYwOSwKCQkJCQltYXRzdXlhOiA2MTAsCgkJCQkJdGltYmVybGFuZDogNjExLAoJCQkJCXRvcG1hbjogNjEyLAoJCQkJCWhvbWVhd2F5OiA2MTMsCgkJCQkJYmVhdXR5ZXhwZXJ0OiA2MTQsCgkJCQkJaGFpbWk6IDYxNSwKCQkJCQltYW5raW5kOiA2MTYsCgkJCQkJdGhlaHV0OiA2MTcsCgkJCQkJdG9wc2hvcDogNjE4LAoJCQkJCW1hbWFsYWRlbjogNjE5LAoJCQkJCSJ0cmF2ZWxlci1zdG9yZSI6IDYyMCwKCQkJCQl0cmF2ZWx6b286IDYyMSwKCQkJCQl1bWlzaG9lczogNjIyLAoJCQkJCXBlcnJpY29uZW1kOiA2MjMsCgkJCQkJZmVycmFyaTogNjI0LAoJCQkJCXdpbGxlcmV4cHJlc3M6IDYyNSwKCQkJCQl1bmluZWVkOiA2MjYsCgkJCQkJYWNuZXN0dWRpb3M6IDYyNywKCQkJCQlhZXJvcG9zdGFsZTogNjI4LAoJCQkJCWFnb2RhOiA2MjksCgkJCQkJYWxiYW1vZGE6IDYzMCwKCQkJCQlhbGxiZWF1dHk6IDYzMSwKCQkJCQlhbGxzYWludHM6IDYzMiwKCQkJCQlhbGxzb2xlOiA2MzMsCgkJCQkJdXJiYW5vdXRmaXR0ZXJzOiA2MzQsCgkJCQkJdml0YWJpb3RpY3M6IDYzNSwKCQkJCQliZWxsZW1haXNvbjogNjM2LAoJCQkJCWJlbmVmaXRjb3NtZXRpY3M6IDYzNywKCQkJCQliaGNvc21ldGljczogNjM4LAoJCQkJCWJqbXlsaWtlczogNjM5LAoJCQkJCXZpdGFtaW5iYXk6IDY0MCwKCQkJCQl3YWl0cm9zZTogNjQxLAoJCQkJCXdvbGZvcmRzaG9wOiA2NDIsCgkJCQkJYm9vaG9vOiA2NDMsCgkJCQkJYm9vdHM6IDY0NCwKCQkJCQlicml0aXNoY29ybmVyc2hvcDogNjQ1LAoJCQkJCXlpcmVuZGFpOiA2NDYsCgkJCQkJeXM3OiA2NDcsCgkJCQkJY29nZ2xlczogNjQ4LAoJCQkJCWNvcnNldGRlYWw6IDY0OSwKCQkJCQljb3R0b25vbjogNjUwLAoJCQkJCWNyb2NzOiA2NTEsCgkJCQkJY3J1aXNlZmFzaGlvbjogNjUyLAoJCQkJCWRlbGw6IDY1MywKCQkJCQlkZXJtc3RvcmU6IDY1NCwKCQkJCQlkaXNuZXlzdG9yZTogNjU1LAoJCQkJCWRvcm90aHlwZXJraW5zOiA2NTYsCgkJCQkJZG91ZG91a2FuZzogNjU3LAoJCQkJCWR1amlha2U6IDY1OCwKCQkJCQlkdW5lbG9uZG9uOiA2NTksCgkJCQkJZWFzdGJheTogNjYwLAoJCQkJCWVhc3RkYW5lOiA2NjEsCgkJCQkJemFmdWw6IDY2MiwKCQkJCQl6YXZ2aTogNjYzLAoJCQkJCWZlaW5rZWl0OiA2NjQsCgkJCQkJZWlibWFya3Q6IDY2NSwKCQkJCQliZWxsdW5hOiA2NjYsCgkJCQkJZW1pcmF0ZXM6IDY2NywKCQkJCQllbXM6IDY2OCwKCQkJCQlldGVybmE6IDY2OSwKCQkJCQlldXJhaWw6IDY3MCwKCQkJCQlleGFudGVkaWV0OiA2NzEsCgkJCQkJZXhwZWRpYTogNjcyLAoJCQkJCWZhbGtlOiA2NzMsCgkJCQkJZmFtb3VzZm9vdHdlYXI6IDY3NCwKCQkJCQlmb3JlbzogNjc2LAoJCQkJCXdhbmd4aW5saWNhaTogNjc3LAoJCQkJCWZvcmV2ZXJ1bmlxdWU6IDY3OCwKCQkJCQlmb3J6aWVyaTogNjc5LAoJCQkJCWZyZWVjb3VudHJ5OiA2ODAsCgkJCQkJZnJlbmNoY29ubmVjdGlvbjogNjgyLAoJCQkJCSJnaWZ0LWxhbmQiOiA2ODMsCgkJCQkJZ3Jvd2dvcmdlb3VzOiA2ODcsCgkJCQkJaG90ZWw6IDY5MCwKCQkJCQlob3VzZW9mZnJhc2VyOiA2OTEsCgkJCQkJaHVpenVjaGU6IDY5MiwKCQkJCQlpd2FudG9uZW9mdGhvc2U6IDY5NSwKCQkJCQlqamdsb2JhbDogNjk2LAoJCQkJCWp1aWN5Y291dHVyZTogNjk5LAoJCQkJCWtlbmtvOiA3MDAsCgkJCQkJa2lrb2Nvc21ldGljczogNzAyLAoJCQkJCWxhbmNlcnNraW5jYXJlOiA3MDMsCgkJCQkJbGVnbzogNzA0LAoJCQkJCWxvcmRhbmR0YXlsb3I6IDcwNiwKCQkJCQltYWl6aGk6IDcxMSwKCQkJCQltYXRjaGVzZmFzaGlvbjogNzEyLAoJCQkJCW1hdHN1a2l5bzogNzEzLAoJCQkJCW1pY3Jvc29mdDogNzE1LAoJCQkJCW1pb3NraW5jYXJlOiA3MTYsCgkJCQkJbWlzc3NlbGZyaWRnZTogNzE3LAoJCQkJCW1vdW50YWluZ2VhcjogNzE4LAoJCQkJCW15YmFnOiA3MjAsCgkJCQkJbXlwcm90ZWluOiA3MjEsCgkJCQkJbXl2aXRhbWluczogNzIzLAoJCQkJCSJuZXQtYS1wb3J0ZXIiOiA3MjQsCgkJCQkJIm5ld2JhbGFuY2UtdWsiOiA3MjUsCgkJCQkJZGRreTogNzI2LAoJCQkJCW5ld2xvb2s6IDcyNywKCQkJCQljaGluYWFjYzogNzI4LAoJCQkJCWJtYWk6IDcyOSwKCQkJCQkibmlrZS1oayI6IDczMCwKCQkJCQkibmlrZS1iciI6IDczMSwKCQkJCQlpbmtlOiA3MzIsCgkJCQkJbnlhbmRjb21wYW55OiA3MzMsCgkJCQkJIm9hc2lzLXN0b3JlcyI6IDczNCwKCQkJCQlvcmJpdHo6IDczNSwKCQkJCQlvcmNoaXJhOiA3MzYsCgkJCQkJIm9yaWdpbnMtdWsiOiA3MzcsCgkJCQkJcGV0c21hcnQ6IDczOCwKCQkJCQlqdW5yb25nZGFpOiA3MzksCgkJCQkJbmFwYWk6IDc0MCwKCQkJCQlncmVlOiA3NDEsCgkJCQkJcHJvYmlrZWtpdDogNzQyLAoJCQkJCXFhdGFyYWlyd2F5czogNzQzLAoJCQkJCXJhZGxleTogNzQ0LAoJCQkJCWFsbGlhbno6IDc0NSwKCQkJCQlyYWxwaGxhdXJlbjogNzQ2LAoJCQkJCXJlYmVjY2FtaW5rb2ZmOiA3NDcsCgkJCQkJeW91bWk6IDc0OCwKCQkJCQkiMjFjYWtlIjogNzQ5LAoJCQkJCXJlbnRhbGNhcnM6IDc1MCwKCQkJCQlyaWNhdWQ6IDc1MSwKCQkJCQlyb2NrcG9ydDogNzUyLAoJCQkJCXJ1ZWxhbGE6IDc1MywKCQkJCQkiNTZyZW4iOiA3NTQsCgkJCQkJc2Frc29mZjV0aDogNzU1LAoJCQkJCWFuYW50YXJhOiA3NTYsCgkJCQkJc2MyNDogNzU3LAoJCQkJCWNoZXN1ZGk6IDc1OCwKCQkJCQlzaG9lczogNzU5LAoJCQkJCXNob3BzcHJpbmc6IDc2MCwKCQkJCQlzaW1wbHlzdXBwbGVtZW50czogNzYxLAoJCQkJCWVobWFsbDogNzYyLAoJCQkJCWZhcmZldGNoOiA3NjMsCgkJCQkJc3NlbnNlOiA3NjQsCgkJCQkJc3RldmVtYWRkZW46IDc2NSwKCQkJCQlmcmVlcGVvcGxlOiA3NjYsCgkJCQkJZ2Fvc291eWk6IDc2NywKCQkJCQlpbW9tb2tvOiA3NjgsCgkJCQkJdGFvZG86IDc2OSwKCQkJCQltaWNoYWVsa29yczogNzcwLAoJCQkJCXR0Y2o6IDc3MSwKCQkJCQkidWYtY2x1YiI6IDc3MiwKCQkJCQl6aGFpZG91OiA3NzMsCgkJCQkJIjE2M3l1biI6IDc3NCwKCQkJCQlhcG86IDc3NSwKCQkJCQlqaW11OiA3NzYsCgkJCQkJaGFvMjQ6IDc3NywKCQkJCQlzZWFnb29yOiA3NzgsCgkJCQkJd2FubmFyOiA3NzksCgkJCQkJY2FpaGFuZzogNzgwLAoJCQkJCWNzbWFsbDogNzgxLAoJCQkJCWt1YWppbmc6IDc4MiwKCQkJCQltaWxsZW5uaXVtaG90ZWxzOiA3ODMsCgkJCQkJcmVlYm9uejogNzg0LAoJCQkJCXdlbWFrZXByaWNlOiA3ODUsCgkJCQkJd3pob3VodWk6IDc4NiwKCQkJCQlodWlqaWF5b3U6IDc4NywKCQkJCQltZWxpbWVsbzogNzg4LAoJCQkJCSI5MXhjbSI6IDc4OSwKCQkJCQkiYXNoZm9yZC16aCI6IDc5MCwKCQkJCQljam9ubWFydDogNzkxLAoJCQkJCWNueXRvOiA3OTIsCgkJCQkJZ3JhbmRkZnM6IDc5MywKCQkJCQlvZmZpY2VkZXBvdDogNzk0LAoJCQkJCXRpYW5ob25nOiA3OTUsCgkJCQkJeWlsaW5nc2hvcDogNzk2LAoJCQkJCWtsb29rOiA3OTcsCgkJCQkJImNoYXJtLWNvbG9yIjogNzk4LAoJCQkJCWZlbGlzc2ltbzogNzk5LAoJCQkJCXN1cmZzdGl0Y2g6IDgwMCwKCQkJCQlsb3JuYWphbmU6IDgwMSwKCQkJCQlyZWlzczogODAyLAoJCQkJCWd6bDogODAzLAoJCQkJCSI5ZHJ1ZyI6IDgwNCwKCQkJCQl5dW5nb3ViczogODA1CgkJCQl9OwoJCQllLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gYSgpOwoJCQkJbygpOwoJCQkJdmFyIHMgPSBsb2NhdGlvbi5ocmVmOwoJCQkJaWYgKCEocy5pbmRleE9mKCJvcmRlciIpID4gLTEgfHwgcy5pbmRleE9mKCJjYXJ0IikgPiAtMSkgJiYgdC5zZXRfZm9yY2UpIHRyeSB7CgkJCQkJaWYgKGRbZV0gJiYgbi5pbkFycmF5KCIiICsgZFtlXSwgdC5mb3JjZSkgPj0gMCkgcmV0dXJuOwoJCQkJCW4oImJvZHkiKS5kZWxlZ2F0ZSgiYSIsICJtb3VzZWVudGVyIG1vdXNlbGVhdmUgbW91c2VvdmVyIiwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IG4odGhpcykuYXR0cigiY3QiKTsKCQkJCQkJIm1vdXNlb3ZlciIgIT0gZS50eXBlICYmIHQgJiYgbih0aGlzKS5hdHRyKCJocmVmIiwgdCkucmVtb3ZlQXR0cigiY3QiKS5hdHRyKCJjdGVkIiwgIjEiKQoJCQkJCX0pLCAiczgiICE9IGUgPyBuKCJib2R5IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbihhKSB7CgkJCQkJCWlmICghKG4uaW5BcnJheSgiIiArIGRbZV0sIHQuZm9yY2UpID49IDApICYmICFsICYmICgiMSIgIT09IG4odGhpcykuYXR0cigiY3RlZCIpIHx8IHQuaXNNb2JpbGUpKSB7CgkJCQkJCQlpZiAoYyAmJiAhdC5pc01vYmlsZSAmJiAoImpzZHgiID09IHQuZnJvbV9kZXZpY2UgJiYgdC5zZWNvbmRTaG93IHx8ICJ0bHhzIiA9PSB0LmZyb21fZGV2aWNlICYmIHQuc2Vjb25kU2hvdyB8fCAiaG5keCIgPT0gdC5mcm9tX2RldmljZSB8fCAieGRqZiIgPT0gdC5mcm9tX2RldmljZSAmJiB0LnNlY29uZFNob3cgfHwgImhhZ3ciID09IHQuZnJvbV9kZXZpY2UgJiYgdC5zZWNvbmRTaG93IHx8ICJtaV9uZXciID09IHQuZnJvbV9kZXZpY2UpKSByZXR1cm4gdm9pZChjID0gITEpOwoJCQkJCQkJaWYgKGRbZV0pIHsKCQkJCQkJCQl2YXIgbyA9IG4odGhpcykuYXR0cigiaHJlZiIpOwoJCQkJCQkJCWlmICghbyB8fCBvLmluZGV4T2YoIm9yZGVyIikgPiAtMSB8fCBvLmluZGV4T2YoImNhcnQiKSA+IC0xKSByZXR1cm47CgkJCQkJCQkJdmFyIHMgPSBuKHRoaXMpLmF0dHIoImNsYXNzIikgfHwgIiI7CgkJCQkJCQkJbyA9IGkodC5ocmVmLCBvKSwgMCA9PSBvLmluZGV4T2YoImh0dHAiKSAmJiBvLmluZGV4T2YoIiIgKyB0LmV4dE5hbWUpIDwgMCAmJiAtMSA9PSBzLmluZGV4T2YodC5leHROYW1lICsgIl9saW5rIikgJiYgKG8gPSByICsgIj9zaXRlX2lkPSIgKyBkW2VdICsgIiZ0YXJnZXRfdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobykgKyAiJmZyb209Y3QmY29sdW1uPWRpY3RzJnVuaW9uPSIgKyB0LnVuaW9uLnJlcGxhY2UoInVuaW9uXyIsICIiKSwgbih0aGlzKS5hdHRyKCJjdCIsIG4odGhpcykuYXR0cigiaHJlZiIpKSwgbih0aGlzKS5hdHRyKCJocmVmIiwgbyksIGwgPSAhMCwgbi5hamF4KHsKCQkJCQkJCQkJdXJsOiB0LnNlcnZlciArICIvYnJ3ZXh0L3Blcm1hbmVudF9pZC8iLAoJCQkJCQkJCQlkYXRhVHlwZTogImpzb25wIiwKCQkJCQkJCQkJanNvbnA6ICJjYWxsYmFjayIsCgkJCQkJCQkJCWFzeW5jOiAhMCwKCQkJCQkJCQkJZGF0YTogInZlcnNpb249MiZvcD1zZXRfZm9yY2UmdHlwZT0iICsgZFtlXSArICImdW5pb249IiArIHQudW5pb24sCgkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXQuZm9yY2UgPSBlLmZvcmNlCgkJCQkJCQkJCX0sCgkJCQkJCQkJCWVycm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7fQoJCQkJCQkJCX0pKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSkgOiBuKCJib2R5IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbihhKSB7CgkJCQkJCWlmICghKG4uaW5BcnJheSgiIiArIGRbZV0sIHQuZm9yY2UpID49IDApKSB7CgkJCQkJCQlpZiAoYykgcmV0dXJuIHZvaWQoYyA9ICExKTsKCQkJCQkJCWlmIChkW2VdKSB7CgkJCQkJCQkJdmFyIG8gPSBuKHRoaXMpLmF0dHIoImhyZWYiKTsKCQkJCQkJCQlvID0gaSh0LmhyZWYsIG8pLCAwID09IG8uaW5kZXhPZigiaHR0cCIpICYmIG8uaW5kZXhPZigiIiArIHQuZXh0TmFtZSkgPCAwICYmIChvLmluZGV4T2YoIml0ZW0iKSA+IDAgfHwgby5pbmRleE9mKCJkZXRhaWwiKSA+IDApICYmIChvID0gciArICI/c2l0ZV9pZD0iICsgZFtlXSArICImdGFyZ2V0X3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG8pICsgIiZmcm9tPWN0Iiwgbih0aGlzKS5hdHRyKCJjdCIsIG4odGhpcykuYXR0cigiaHJlZiIpKSwgbih0aGlzKS5hdHRyKCJocmVmIiwgbyksIG4uYWpheCh7CgkJCQkJCQkJCXVybDogdC5zZXJ2ZXIgKyAiL2Jyd2V4dC9wZXJtYW5lbnRfaWQvIiwKCQkJCQkJCQkJZGF0YVR5cGU6ICJqc29ucCIsCgkJCQkJCQkJCWpzb25wOiAiY2FsbGJhY2siLAoJCQkJCQkJCQlhc3luYzogITAsCgkJCQkJCQkJCWRhdGE6ICJ2ZXJzaW9uPTImb3A9c2V0X2ZvcmNlJnR5cGU9IiArIGRbZV0sCgkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXQuZm9yY2UgPSBlLmZvcmNlCgkJCQkJCQkJCX0sCgkJCQkJCQkJCWVycm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7fQoJCQkJCQkJCX0pKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0gY2F0Y2ggKHApIHsKCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgcAoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbigyOSksCgkJCQlyID0gby5nZXRCcm93c2VyKCksCgkJCQlzID0gbigxMTIpLAoJCQkJbCA9IG4oMTcpLAoJCQkJYyA9IG4oOSksCgkJCQlkID0gbigyNiksCgkJCQlwID0gbigxMyksCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJci51dGl0bGUuaW5kZXhPZigiMzYwIikgPiAtMSAmJiAoci51dGl0bGUgPSAzNjApLCB0KCJib2R5IikuYXBwZW5kKGEuY29tcGlsZShzKSh7CgkJCQkJCWRhdGE6IHIsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUKCQkJCQl9KSksIHQoImh0bWwiKS5hZGRDbGFzcygicmVtaW5kIiksIGQoInRyYWNrOnVwZGF0ZV9yZW1pbmQiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+WxleeOsCIpLCBmKCksIHUoKQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbigpIHsKCQkJCQl0KCIjcmVtaW5kX2Nsb3NlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN1cGRhdGVfcmVtaW5kIikucmVtb3ZlKCksIGQoImNsaWNrOnVwZGF0ZV9yZW1pbmRfY2xvc2UiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+WFs+mXrSIpLCBtKCkKCQkJCQl9KSwgdCgiI3VwZGF0ZV9yZW1pbmQgYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlkKCJjbGljazp1cGRhdGVfcmVtaW5kX2luc3RhbGwiKSwgcC5sb2coIuaPkuS7tuaOqOW5v+eCueWHu+WuieijhSIpLCBtKCkKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfY2xvc2VfdXBkYXRlJmNsb3NlX3VwZGF0ZT0xIjsKCQkJCQljLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJbC5zZXQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfY2xvc2VfdXBkYXRlX2hvdXImY2xvc2VfdXBkYXRlX2hvdXI9MSI7CgkJCQkJYy5nZXQoZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWwuc2V0KGUpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHQoIiNCSUpJQV9IQVNfQlVJTFQiKS5hdHRyKCJjbGFzcyIpIHx8ICIiLAoJCQkJCW4gPSBbXSwKCQkJCQlhID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLnJhbmRvbSgpKSA+IDgwOwoJCQkJZSA9IGUuc3BsaXQoIiAiKS5sZW5ndGgsIG4uaW5kZXhPZihpLmZyb21fZGV2aWNlKSA+IC0xICYmICIxIiAhPSBsLmdldCgiY2xvc2VfdXBkYXRlIikgJiYgIjEiICE9IGwuZ2V0KCJjbG9zZV91cGRhdGVfaG91ciIpICYmIDIgPiBlICYmIGEgJiYgaCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ1cGRhdGVfcmVtaW5kIj5cbiAgPGRpdiBjbGFzcz0idV9jb250ZW50Ij5cbiAgICA8c3BhbiBjbGFzcz0idXBkYXRlX2ljb24iPjwvc3Bhbj5cbiAgICA8YSBjbGFzcz0idXBkYXRlX3R4dCB7e2V4dE5hbWV9fV9saW5rIiBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIj7ojrflj5Z7e2RhdGEudXRpdGxlfX3mtY/op4jlmajoh6rliqjmr5Tku7flt6XlhbfvvIzov5npobnlronoo4XmnInliqnkuo7mlLnov5vkvaDnmoTnvZHotK3kvZPpqozvvIzlnKjmtY/op4jllYblk4HpobXpnaLml7boh6rliqjlsZXnpLoxODDlpKnku7fmoLzljoblj7Llkozlhbbku5bnvZHnq5nmiqXku7c8L2E+XG4gICAgPGEgY2xhc3M9InVwZGF0ZV9idG4ge3tleHROYW1lfX1fbGluayIgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+56uL5Y2z5a6J6KOFPC9hPlxuICA8L2Rpdj5cbiAgPHNwYW4gaWQ9InJlbWluZF9jbG9zZSI+PC9zcGFuPlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICN1cGRhdGVfcmVtaW5kIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkVFRTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFNEU0RTQ7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC51X2NvbnRlbnQge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC51cGRhdGVfaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZ3dkX3VwZGF0ZV9yZW1pbmQucG5nXCcpO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICB3aWR0aDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICB9XG4gICAgI3VwZGF0ZV9yZW1pbmQgLnVwZGF0ZV90eHQge1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgY29sb3I6ICMwMDAwNjY7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX3R4dDpob3ZlciB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIGNvbG9yOiAjRkYzMzMzO1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX2J0biB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0NDQztcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMjZweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIH1cbiAgICAjdXBkYXRlX3JlbWluZCAudXBkYXRlX2J0bjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTRFNEU0O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAjcmVtaW5kX2Nsb3Nle1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDE2cHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB0b3A6IDEzcHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZ3dkX3VwZGF0ZV9yZW1pbmRfY2xvc2UucG5nXCcpIG5vLXJlcGVhdDtcbiAgICAgIGhlaWdodDogMTJweDtcbiAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gbigxMyksCgkJCQlyID0gbigyNiksCgkJCQlzID0gbig5MiksCgkJCQlsID0gewoJCQkJCXRtYWxsOiB7CgkJCQkJCWltZzogImh0dHA6Ly9yZWFkaW5kZXguYmpjbmMuc2NzLnNvaHVjcy5jb20vYmFubmVyL3F1YW5sb2dvMi5wbmciLAoJCQkJCQl1cmx0YjogImh0dHBzOi8vcy5jbGljay50YW9iYW8uY29tL1kzaXU3aXciLAoJCQkJCQl1cmw6ICJodHRwczovL3MuY2xpY2sudGFvYmFvLmNvbS9aR05hbWh3IgoJCQkJCX0KCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCXQoIiNxdWFubG9nbyAuY2xvc2VfYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiNxdWFubG9nbyIpLnJlbW92ZSgpLCBvLmxvZygiaW1hZ2VhZDpjbG9zZToiICsgZSksIHIoImltYWdlYWQ6Y2xvc2U6IiArIGUpLCBzLnNldHRpbmdzKCJzZXRfaW1hZ2VBZCIsICJpbWFnZUFkIiwgIjAiKQoJCQkJCX0pLCB0KCIjcXVhbmxvZ28gYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlvLmxvZygiaW1hZ2VhZDpjbGljazoiICsgZSksIHIoImltYWdlYWQ6Y2xpY2s6IiArIGUpCgkJCQkJfSkKCQkJCX0sCgkJCQlkID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAidG1hbGwiLAoJCQkJCQlzID0gbFtlXSwKCQkJCQkJZCA9IG4oMTE0KTsKCQkJCQl0KCJib2R5IikuYXBwZW5kKGEuY29tcGlsZShkKSh7CgkJCQkJCXNyYzogcy5pbWcsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCQl1cmw6IHMudXJsCgkJCQkJfSkpLCBvLmxvZygiaW1hZ2VhZDp0cmFjazoiICsgZSksIHIoImltYWdlYWQ6dHJhY2s6IiArIGUpLCBjKGUpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJaS5uZXdfZXh0ZW5zaW9uICYmICgiMCIgPT09IGkuaW1hZ2VBZCB8fCBpLmZvcmJpZEFkIHx8IGQoKSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InF1YW5sb2dvIj5cbiAgPGEgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgIDxpbWcgc3JjPSJ7e3NyY319Ij5cbiAgPC9hPlxuICA8c3BhbiBjbGFzcz0iY2xvc2VfYnRuIj48L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgI3F1YW5sb2dvIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgcmlnaHQ6IDQwcHg7XG4gICAgICB0b3A6IDI5MHB4O1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTk5OTk5OTk5OTk5O1xuICAgIH1cbiAgICAjcXVhbmxvZ28gaW1nIHtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgIH1cbiAgICAjcXVhbmxvZ28gLmNsb3NlX2J0biB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IC0xNXB4O1xuICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL3F1YW5sb2dvX2Nsb3NlLnBuZ1wnKSAwcHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IG4oMjgpOwoJCQllLmV4cG9ydHMucmVhZHkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gWyJ3d3cuYW1hem9uLmNvbSIsICJ3d3cuYW1hem9uLmRlIiwgInd3dy5hbWF6b24uY28uanAiXTsKCQkJCWlmICgtMSAhPSBlLmluZGV4T2YobG9jYXRpb24uaG9zdCkpIHsKCQkJCQl2YXIgbiA9IHsKCQkJCQkJbmFtZTogdC5kcC5uYW1lIHx8ICIiLAoJCQkJCQlwcmljZTogdC5kcC5vbGRQcmljZSB8fCAiMCIKCQkJCQl9OwoJCQkJCWkudHJpZ2dlcih7CgkJCQkJCXR5cGU6ICJnZXRBbWF6b25QcmljZVRyZW5kIiwKCQkJCQkJaW5mbzogSlNPTi5zdHJpbmdpZnkobikKCQkJCQl9KQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkidXNlIHN0cmljdCI7CgkJdmFyIGkgPSBuKDExNyksCgkJCWEgPSBuKDI4KSwKCQkJbyA9IHZvaWQgMCwKCQkJciA9IHZvaWQgMCwKCQkJcyA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSB7CgkJCQkJCXR5cGU6ICJqc29uIiwKCQkJCQkJYnJvd3NlcjogImNocm9tZSIsCgkJCQkJCXZlcjogIjYuMSIsCgkJCQkJCXN0eWxlX3Nob3dfdHlwZTogbnVsbCwKCQkJCQkJc3R5bGVfQURJRDogbnVsbCwKCQkJCQkJY3VycmVuY3k6IG51bGwsCgkJCQkJCWxhbmd1YWdlOiAiZW5nbGlzaCIsCgkJCQkJCXI6IC43MTk2OTU5MTM5ODE3NTMxLAoJCQkJCQl1cmw6IGxvY2F0aW9uLmhyZWYKCQkJCQl9LAoJCQkJCXQgPSAidHlwZT0iICsgZS50eXBlICsgIiZicm93c2VyPSIgKyBlLmJyb3dzZXIgKyAiJnZlcj0iICsgZS52ZXIgKyAiJnN0eWxlX3Nob3dfdHlwZT11bmRlZmluZWQmc3R5bGVfQURJRD11bmRlZmluZWQmY3VycmVuY3k9dW5kZWZpbmVkJmxhbmd1YWdlPSIgKyBlLmxhbmd1YWdlICsgIiZyPSIgKyBlLnIgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJcmV0dXJuIHQKCQkJfSwKCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWZvciAodmFyIHQgPSBmdW5jdGlvbih0KSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aCAtIDE7IG4rKykKCQkJCQkJaWYgKHQgPj0gMWUzICogTnVtYmVyKGVbbl0udGltZV91cGRhdGUpICYmIHQgPCAxZTMgKiBOdW1iZXIoZVtuICsgMV0udGltZV91cGRhdGUpKSByZXR1cm4gZVtuXS5wcmljZTsKCQkJCQlyZXR1cm4gZVtlLmxlbmd0aCAtIDFdLnByaWNlCgkJCQl9LCBuID0gMzZlNSwgYSA9IDI0ICogbiwgciA9IE51bWJlcihvLmxvd2VzdF9waWNlLnByaWNlKSwgcyA9IHIsIGwgPSAxZTMgKiBOdW1iZXIoZVswXS50aW1lX3VwZGF0ZSksIGMgPSBuZXcgRGF0ZShsKS5nZXREYXRlKCksIGQgPSBuZXcgRGF0ZShsKS5nZXRNb250aCgpLCBwID0gbmV3IERhdGUobCkuZ2V0RnVsbFllYXIoKSwgaCA9IFtdLCB1ID0gbmV3IERhdGUsIG0gPSBlW2UubGVuZ3RoIC0gMV0ucHJpY2UsIGYgPSAwOyBmIDwgZS5sZW5ndGg7IGYrKykgTnVtYmVyKGVbZl0ucHJpY2UpID4gcyAmJiAocyA9IE51bWJlcihlW2ZdLnByaWNlKSk7CgkJCQlmb3IgKHZhciBnID0gciArICItIiArIHMsIF8gPSBsOyBfIDw9IHUuZ2V0VGltZSgpOykgewoJCQkJCXZhciB4ID0gdChfKTsKCQkJCQloLnB1c2gocGFyc2VGbG9hdCh4KSksIF8gKz0gYQoJCQkJfQoJCQkJdmFyIHcgPSBpLmdldFByaWNlU3RhdHVzTmV3KGgpLAoJCQkJCXYgPSB3LnByaWNlX3N0YXR1cywKCQkJCQliID0gbnVsbDsKCQkJCWgubGVuZ3RoID49IDM2NSAmJiAoYiA9IGguc2xpY2UoaC5sZW5ndGggLSAzNjUpKTsKCQkJCXZhciB5ID0gbnVsbDsKCQkJCWgubGVuZ3RoID49IDMxICYmICh5ID0gaC5zbGljZShoLmxlbmd0aCAtIDMxKSk7CgkJCQl2YXIgayA9IG51bGw7CgkJCQlpZiAoaC5sZW5ndGggPj0gNikgewoJCQkJCXZhciB6ID0gaC5zbGljZShoLmxlbmd0aCAtIDYpOwoJCQkJCWsgPSBbXTsKCQkJCQlmb3IgKHZhciBmID0gMDsgZiA8IHoubGVuZ3RoIC0gMTsgZisrKSB7CgkJCQkJCWZvciAodmFyIEIgPSBbXSwgaiA9IDA7IDI0ID4gajsgaisrKSBCLnB1c2goeltmXSk7CgkJCQkJCWsgPSBrLmNvbmNhdChCKQoJCQkJCX0KCQkJCQlrLnB1c2goelt6Lmxlbmd0aCAtIDFdKQoJCQkJfQoJCQkJdmFyIEMgPSB7CgkJCQkJcHJpY2Vfc3RhdHVzOiB2LAoJCQkJCXN0YXJ0RDogYywKCQkJCQlzdGFydE06IGQsCgkJCQkJc3RhcnRZOiBwLAoJCQkJCW5vd19kYXk6IHUuZ2V0VGltZSgpLAoJCQkJCWV4dHJhOiAic3RhcnQgZnJvbSBhbm90aGVyIiwKCQkJCQlzdG9yZTogW3sKCQkJCQkJY3VycmVudF9wcmljZTogbSwKCQkJCQkJYWxsX2xpbmU6IGgsCgkJCQkJCWFsbF9saW5lX2JlZ2luX3RpbWU6IGwgKyA4ICogbiwKCQkJCQkJeWVhcl9saW5lOiBiLAoJCQkJCQl5ZWFyX2xpbmVfdGltZTogdS5nZXRUaW1lKCkgLSAzNjUgKiBhLAoJCQkJCQltb250aF9saW5lOiB5LAoJCQkJCQltb250aF9saW5lX3RpbWU6IHUuZ2V0VGltZSgpIC0gMzAgKiBhLAoJCQkJCQlzaG9ydF9kYXlfbGluZTogaywKCQkJCQkJc2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZTogdS5nZXRUaW1lKCkgKyA4ICogbiAtIDUgKiBhLAoJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJaXNsb3dlc3Q6IDAsCgkJCQkJCW5hbWU6ICJhbGlleHByZXNzIiwKCQkJCQkJcHJpY2VfcmFuZ2U6IGcsCgkJCQkJCXByb21vOiBbXSwKCQkJCQkJYWxsX2VxdWFsX3Nob3J0OiAhMQoJCQkJCX1dCgkJCQl9OwoJCQkJcmV0dXJuIEMKCQkJfTsKCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQl2YXIgZSA9IHMoKTsKCQkJYS5vbihmdW5jdGlvbihlKSB7CgkJCQkiYWxpZXhwcmVzcyIgPT09IGUudHlwZSAmJiAobyA9IEpTT04ucGFyc2UoZS52YWx1ZSksIG8ucHJpY2VfdHJhY2tpbmcgJiYgKG8ucHJpY2VfdHJhY2tpbmcgPSBsKG8ucHJpY2VfdHJhY2tpbmcpLCByICYmIHIoby5wcmljZV90cmFja2luZykpKQoJCQl9KSwgYS50cmlnZ2VyKHsKCQkJCXR5cGU6ICJhbGlleHByZXNzIiwKCQkJCXVybDogImh0dHBzOi8vcGx1Z2luLmFsaXByaWNlLmNvbS9wbHVnaW4vY2hyb21lX3YwNy5waHA/IiArIGUKCQkJfSkKCQl9LCBlLmV4cG9ydHMuZ2V0VHJlbmREYXRhID0gZnVuY3Rpb24oZSkgewoJCQlvID8gZShvKSA6IHIgPSBlCgkJfQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSwgbykgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJdmFyIGUgPSAiIiwKCQkJCQkJdCA9IHsKCQkJCQkJCXRhb2JhbzogIua3mOWunSIsCgkJCQkJCQl0bWFsbDogIuWkqeeMqyIsCgkJCQkJCQkiMzYwYnV5IjogIuS6rOS4nOWVhuWfjiIsCgkJCQkJCQkiNTFidXkiOiAi5piT6L+F572RIiwKCQkJCQkJCXN1bmluZzogIuiLj+WugeaYk+i0rSIsCgkJCQkJCQl5aWhhb2RpYW46ICLkuIDlj7flupciLAoJCQkJCQkJZGFuZ2Rhbmc6ICLlvZPlvZPnvZEiLAoJCQkJCQkJZ29tZTogIuWbvee+juWcqOe6vyIsCgkJCQkJCQlsZWZlbmc6ICLkuZDonILnvZEiLAoJCQkJCQkJeGl1OiAi6LWw56eA572RIiwKCQkJCQkJCXBoaWxpcHM6ICLpo57liKnmtaYiLAoJCQkJCQkJdGNsOiAiVENM5ZWG5Z+OIiwKCQkJCQkJCSJlLWNoYW5naG9uZyI6ICLplb/ombnllYbln44iLAoJCQkJCQkJa29ua2E6ICLlurfkvbPllYbln44iLAoJCQkJCQkJaGlzZW5zZTogIua1t+S/oeWVhuWfjiIsCgkJCQkJCQlpbmVpZ286ICLniLHlhoXotK0iLAoJCQkJCQkJc2tnOiAiU0tH5ZWG5Z+OIiwKCQkJCQkJCSJrLXRvdWNoIjogIuWkqeivreaJi+acuuWumOe9kSIsCgkJCQkJCQlnaW9uZWU6ICLph5Hnq4siLAoJCQkJCQkJb3BwbzogIk9QUE8iLAoJCQkJCQkJZ2ZpdmU6ICLln7rkvI3lrpjmlrnllYbln44iLAoJCQkJCQkJdml2bzogInZpdm8iLAoJCQkJCQkJbWVpbGlzaHVvOiAi576O5Li96K+0IiwKCQkJCQkJCW1vZ3VqaWU6ICLomJHoj4fooZciLAoJCQkJCQkJeGlhb21pOiAi5bCP57Gz5a6Y572RIiwKCQkJCQkJCWxlbWFsbDogIuS5kOinhuWVhuWfjiIsCgkJCQkJCQlncmFpbmdlcjogIuWbuuWuieaNt+WumOe9kSIsCgkJCQkJCQlwaWFvOiAi572R5piT55S15b2x56WoIiwKCQkJCQkJCTE2MzogIue9keaYk+WVhuWfjiIsCgkJCQkJCQlkaWFucGluZzogIueCueivhOWboiIsCgkJCQkJCQludW9taTogIueZvuW6puezr+exsyIsCgkJCQkJCQltZWl0dWFuOiAi576O5ZuiIiwKCQkJCQkJCWJvb2t1dTogIuWNmuW6k+aWh+WFtyIsCgkJCQkJCQlib29rc2NoaW5hOiAi5Lit5Zu95Zu+5Lmm572RIiwKCQkJCQkJCTE2ODg6ICLpmL/ph4zlt7Tlt7QiLAoJCQkJCQkJem9sOiAi5Lit5YWz5p2R5ZWG5Z+OIiwKCQkJCQkJCWFtYXpvbjogIuS6mumprOmAiiIsCgkJCQkJCQl0aWFudGlhbjogIuWkqeWkqee9kSIsCgkJCQkJCQl3b21haTogIuaIkeS5sOe9kSIsCgkJCQkJCQl5b3Vnb3U6ICLkvJjotK3nvZEiLAoJCQkJCQkJdm1hbGw6ICLljY7kuLrllYbln44iLAoJCQkJCQkJcGFpeGllOiAi5ouN6Z6L572RIiwKCQkJCQkJCW5ld2VnZzogIuaWsOibi+WVhuWfjiIsCgkJCQkJCQl2YW5jbDogIuWHoeWuouivmuWTgSIKCQkJCQkJfTsKCQkJCQl0cnkgewoJCQkJCQlmb3IgKHZhciBuID0gYS5zaXRlLCBpID0gWyIzNjBidXkiLCAiZ29tZSIsICJzdW5pbmciLCAidGFvYmFvIiwgInlpaGFvZGlhbiIsICJ3b21haSIsICJib29rc2NoaW5hIiwgInBhaXhpZSIsICJib29rdXUiLCAidGlhbnRpYW4iXSwgbyA9IDA7IG8gPCBpLmxlbmd0aDsgbysrKQoJCQkJCQkJaWYgKG4uaW5kZXhPZihpW29dKSA+IC0xKSB7CgkJCQkJCQkJbiA9IGlbb107CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJZSA9IHRbbl0KCQkJCQl9IGNhdGNoIChyKSB7CgkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyByCgkJCQkJfQoJCQkJCXJldHVybiAidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSAmJiAoZSA9ICIiKSwgIua3mOWunSIgPT0gZSAmJiB3aW5kb3cubG9jYXRpb24uaG9zdC50b1N0cmluZygpLmluZGV4T2YoInRtYWxsIikgPiAtMSAmJiAoZSA9ICLlpKnnjKsiKSwgZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoZSkgewoJCQkJCXZhciB0ID0gYS5zaXRlLAoJCQkJCQluID0gJChhLnNpdGUpLAoJCQkJCQlpID0gIiI7CgkJCQkJKCJ0YW9iYW8iID09IGEuc2l0ZSB8fCAidG1hbGwiID09IGEuc2l0ZSB8fCBhLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSkgJiYgKGkgPSAiMSIpOwoJCQkJCXRyeSB7CgkJCQkJCVMuZ2V0KGEuc2VydmVyICsgIi9hcHAvcHJpY2VfdHJlbmQ/ZHBfaWRzPSIgKyB1ICsgIiZkcF9pZD0iICsgbSArICImc2l0ZT0iICsgdCArICImZGF5cz0iICsgQyArICImaXNfbGlnaHQ9JmlzdGFvYmFvPSIgKyBpICsgIiZwcmljZT0iICsgbikuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQllKHQpCgkJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCQllKCExKQoJCQkJCQl9KQoJCQkJCX0gY2F0Y2ggKG8pIHt9CgkJCQl9CgoJCQkJZnVuY3Rpb24gaSh0KSB7CgkJCQkJaWYgKHQgJiYgdC5saXN0KSB7CgkJCQkJCXZhciBuID0gdm9pZCAwLAoJCQkJCQkJaSA9IHZvaWQgMCwKCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQlyID0gdm9pZCAwLAoJCQkJCQkJcyA9IHZvaWQgMCwKCQkJCQkJCWwgPSB0Lmxpc3QubGVuZ3RoLAoJCQkJCQkJYyA9IFtdOwoJCQkJCQlyID0gbmV3IERhdGUodC5jdXJUaW1lKS5nZXRUaW1lKCksIGkgPSBvID0gdC5saXN0WzBdLnByaWNlOwoJCQkJCQl0cnkgewoJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGwgPiBkOyBkKyspIHsKCQkJCQkJCQl2YXIgcCA9IHQubGlzdFtkXTsKCQkJCQkJCQljLnB1c2goW25ldyBEYXRlKHAudGltZSkuZ2V0VGltZSgpLCBwLnByaWNlXSksIHAucHJpY2UgPiBvICYmIChvID0gcC5wcmljZSksIHAucHJpY2UgPCBpICYmIChpID0gcC5wcmljZSkKCQkJCQkJCX0KCQkJCQkJCWZvciAodmFyIGQgPSBsIC0gMTsgZCA+IDA7IGQtLSkKCQkJCQkJCQlpZiAoY1tkXVswXSAtIGNbZCAtIDFdWzBdID4gODY0ZTUpIHsKCQkJCQkJCQkJdmFyIGggPSBbY1tkXVswXSAtIDg2NGU1LCBjW2QgLSAxXVsxXV07CgkJCQkJCQkJCWMuc3BsaWNlKGQsIDAsIGgpCgkJCQkJCQkJfQoJCQkJCQkJdmFyIHUgPSBjW2MubGVuZ3RoIC0gMV07CgkJCQkJCQlpZiAodVswXSA8IHIpIHsKCQkJCQkJCQl2YXIgbSA9IHVbMV0sCgkJCQkJCQkJCWYgPSAkKGEuc2l0ZSk7CgkJCQkJCQkJciAtIHVbMF0gPiA4NjRlNSAmJiBjLnB1c2goW3IgLSA4NjRlNSwgbV0pLCBmICYmIG0gIT0gZiAmJiAoZiA+IG8gJiYgKG8gPSBmKSwgaSA+IGYgJiYgKGkgPSBmKSwgYy5wdXNoKFtyLCBmXSkpCgkJCQkJCQl9CgkJCQkJCQl2YXIgZyA9IFIoYyksCgkJCQkJCQkJXyA9IGcucHJpY2Vfc3RhdHVzLAoJCQkJCQkJCXggPSBnLnByaWNlX2xhc3Q7CgkJCQkJCQluID0gZy5pc2xvd2VzdDsKCQkJCQkJCXZhciB3ID0gaSArICItIiArIG8sCgkJCQkJCQkJdiA9IG5ldyBEYXRlKHQuc3RhcnRUaW1lKS5nZXREYXRlKCksCgkJCQkJCQkJYiA9IG5ldyBEYXRlKHQuc3RhcnRUaW1lKS5nZXRNb250aCgpLAoJCQkJCQkJCXkgPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RnVsbFllYXIoKTsKCQkJCQkJCXMgPSB7CgkJCQkJCQkJcHJpY2Vfc3RhdHVzOiBfLAoJCQkJCQkJCXN0YXJ0RDogdiwKCQkJCQkJCQlzdGFydE06IGIsCgkJCQkJCQkJc3RhcnRZOiB5LAoJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQljdXJyZW50X3ByaWNlOiB4LAoJCQkJCQkJCQlkYXRhOiBjLAoJCQkJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJCQkJaXNsb3dlc3Q6IG4sCgkJCQkJCQkJCW5hbWU6IGUoKSwKCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IHcKCQkJCQkJCQl9XQoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChrKSB7fQoJCQkJCQlyZXR1cm4gcwoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiByKGUpIHsKCQkJCQlyZXR1cm4gcGFyc2VJbnQoZSkgPiA5OTk5OTkgPyBwYXJzZUludChlKSA6IHBhcnNlRmxvYXQoZSkudG9GaXhlZCgxKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJCWlmICgidGFvYmFvIiAhPSBhLnNpdGUgJiYgMCA9PSBlLnN0b3JlLmxlbmd0aCwgZS5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCVcoZSksICJib3R0b20iID09PSBhLnN0eWxlID8gSChlKSA6IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCksIDAgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJtYXJnaW4tdG9wIiwgIjdweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTE4OXB4IC0zMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjZmY5MDAwIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoIm1hcmdpbi10b3AiLCAiNnB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICItMjIycHggLTMxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiNkODAwMDEiKS5odG1sKCLku7fmoLzkuIrmtqgiKSkgOiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJtYXJnaW4tdG9wIiwgIjRweCIpLCBBKGUpIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0yNTRweCAtMzFweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtdGV4dCIpLmNzcygiY29sb3IiLCAiIzAwQTY2QyIpLmh0bWwoIuWOhuWPsuacgOS9jiIpKSA6IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTI1NHB4IC0zMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjMDBBNjZDIikuaHRtbCgi5Lu35qC85LiL6ZmNIikpKSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCIpLnNob3coKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGIocGFyc2VGbG9hdChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UpKSksIHcgJiYgKGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1jdXJyZW50LXByaWNlIikuaHRtbChiKHBhcnNlRmxvYXQoei5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKSkpKSwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGIocGFyc2VGbG9hdCh6LmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKGEuZHAub2xkUHJpY2UpKSkgKyAi5pel5YWDIikpOwoJCQkJCQl2YXIgdCA9IGUuc3RvcmVbMF0ucHJpY2VfcmFuZ2Uuc3BsaXQoIi0iKSwKCQkJCQkJCW4gPSBiKHBhcnNlRmxvYXQodFswXSkpICsgIi0iICsgYihwYXJzZUZsb2F0KHRbMV0pKTsKCQkJCQkJaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXByaS1yYW5nZSIpLmh0bWwobiksICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1wcmktcmFuZ2UiKS5odG1sKG4gKyAi5pel5YWDIiksIGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS5jc3MoIndpZHRoIiwgYS53aWR0aCAtIDQwMCksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnJlbWluZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSAzNzkpLCBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWJ0biIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUucHJldmVudERlZmF1bHQoKSwgaygiLnJlbWluZC1lcnJvciIpLmhpZGUoKTsKCQkJCQkJCXZhciB0ID0gL15bXHctXSsoXC5bXHctXSspKkBbXHctXSsoXC5bXHctXSspKyQvLAoJCQkJCQkJCW4gPSAxLAoJCQkJCQkJCWkgPSAwLAoJCQkJCQkJCW8gPSBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikudmFsKCksCgkJCQkJCQkJciA9IGEubm93X2RwX2lkOwoJCQkJCQkJaygiIyIgKyBhLmV4dE5hbWUgKyAiLXByaS1ub3RpY2UtaW0iKS5hdHRyKCJjaGVja2VkIikgPyBuID0gMSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbm90aWNlLWxpIikuYXR0cigiY2hlY2tlZCIpICYmIChuID0gMiwgaSA9IHBhcnNlRmxvYXQoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXByaS1saW1pdCIpLnZhbCgpKSksIHQudGVzdChvKSA/IFMuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcmVtaW5kP2FjdGlvbj1hZGQmZHBfaWQ9IiArIHIgKyAiJmVtYWlsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobykgKyAiJnR5cGU9IiArIG4gKyAiJnByaWNlPSIgKyBpKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkxID09IGUuY29kZSA/IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IyIikuc2hvdygpIDogMiA9PSBlLmNvZGUgPyBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMyIpLnNob3coKSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IxIikuc2hvdygpCgkJCQkJCQl9KSA6IGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZXJyb3IwIikuc2hvdygpCgkJCQkJCX0pLCAiIiAhPSBhLmVtYWlsICYmIGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZW1haWwiKS52YWwoYS5lbWFpbCksIChhLklFNiB8fCBhLklFNykgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIGsoIiMiICsgYS5leHROYW1lICsgIi1yZW1pbmQtZW1haWwiKS5oZWlnaHQoMjgpCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJCWlmICgidGFvYmFvIiAhPSBhLnNpdGUgJiYgMCA9PSBlLnN0b3JlLmxlbmd0aCwgZS5zdG9yZS5sZW5ndGggPiAwKSB7CgkJCQkJCVcoZSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygibWFyZ2luLXRvcCIsICI0cHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCAwID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCAucHJpY2UtdHJlbmQtaWNvbiIpLmNzcygiYmFja2dyb3VuZC1wb3NpdGlvbiIsICItMTUxcHggMXB4IiksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC10ZXh0IikuY3NzKCJjb2xvciIsICIjZmY5MDAwIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQgLnByaWNlLXRyZW5kLWljb24iKS5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iLCAiLTEyOHB4IDFweCIpLCBrKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtdGV4dCIpLmNzcygiY29sb3IiLCAiI2Q4MDAwMSIpLmh0bWwoIuS7t+agvOS4iua2qCIpKSA6IEEoZSwgITApIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0xMDVweCAxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiMwMEE2NkMiKS5odG1sKCLljoblj7LmnIDkvY4iKSkgOiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIC5wcmljZS10cmVuZC1pY29uIikuY3NzKCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwgIi0xMDVweCAxcHgiKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLXRleHQiKS5jc3MoImNvbG9yIiwgIiMwMEE2NkMiKS5odG1sKCLku7fmoLzkuIvpmY0iKSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZCIpLnNob3coKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWN1cnJlbnQtcHJpY2UiKS5odG1sKGUuc3RvcmVbMF0uY3VycmVudF9wcmljZSksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1wcmktcmFuZ2UiKS5odG1sKGUuc3RvcmVbMF0ucHJpY2VfcmFuZ2UpOwoJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCQlyZW5kZXJUbzogYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiLAoJCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCQltYXJnaW5SaWdodDogMTMwLAoJCQkJCQkJCW1hcmdpbkJvdHRvbTogMjUKCQkJCQkJCX0sCgkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCX0sCgkJCQkJCQljb2xvcnM6IFsiIzdjYjVlYyIsICIjNDM0MzQ4IiwgIiM5MGVkN2QiLCAiI2Y3YTM1YyIsICIjODA4NWU5IiwgIiNmMTVjODAiLCAiI2U0ZDM1NCIsICIjODA4NWU4IiwgIiM4ZDQ2NTMiLCAiIzkxZThlMSJdLAoJCQkJCQkJdGl0bGU6IHsKCQkJCQkJCQl0ZXh0OiAi5ZWG5Z+O5pyA6L+RIiArIEMgKyAi5aSp5Lu35qC86LaL5Yq/IiwKCQkJCQkJCQl4OiAtMjAsCgkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJY29sb3I6ICIjNjY2IgoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQl4QXhpczogewoJCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQkJZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHsKCQkJCQkJCQkJZGF5OiAiJW0tJWQiLAoJCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCQltb250aDogIiVtLSVkIgoJCQkJCQkJCX0sCgkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIKCQkJCQkJCX0sCgkJCQkJCQl5QXhpczogewoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6ICIiCgkJCQkJCQkJfSwKCQkJCQkJCQlwbG90TGluZXM6IFt7CgkJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQkJY29sb3I6ICIjODA4MDgwIgoJCQkJCQkJCX1dLAoJCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCQltaW5vckdyaWRMaW5lQ29sb3I6ICIjZGZkZmRmIiwKCQkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJCX0sCgkJCQkJCQl0b29sdGlwOiB7CgkJCQkJCQkJeERhdGVGb3JtYXQ6ICIlWS0lbS0lZCAlSDolTTolUyIsCgkJCQkJCQkJc2hhcmVkOiAhMAoJCQkJCQkJfSwKCQkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJcmFkaXVzOiAzCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXNoYWRvdzogITEKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJbGVnZW5kOiB7CgkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJbGF5b3V0OiAidmVydGljYWwiLAoJCQkJCQkJCWFsaWduOiAicmlnaHQiLAoJCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJCXdpZHRoOiAxMDAsCgkJCQkJCQkJYm9yZGVyV2lkdGg6IDAsCgkJCQkJCQkJeDogLTIwLAoJCQkJCQkJCXk6IDIwCgkJCQkJCQl9LAoJCQkJCQkJc2VyaWVzOiBbXQoJCQkJCQl9LCBuID0gZS5zdG9yZS5sZW5ndGgsIGkgPSAwOyBuID4gaTsgaSsrKSB7CgkJCQkJCQl2YXIgciA9IGUuc3RvcmVbaV07CgkJCQkJCQlpZiAodC5zZXJpZXNbaV0gPSB7CgkJCQkJCQkJdmlzaWJsZTogITEsCgkJCQkJCQkJbmFtZTogci5uYW1lLAoJCQkJCQkJCXBvaW50U3RhcnQ6IERhdGUuVVRDKGUuc3RhcnRZLCBlLnN0YXJ0TSwgZS5zdGFydEQpLAoJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IDg2NGU1LAoJCQkJCQkJCWRhdGE6IFtdCgkJCQkJCQl9LCAwID09IGkgJiYgKHQuc2VyaWVzW2ldLnZpc2libGUgPSAhMCksIHIuZGF0YS5sZW5ndGggPiAwKQoJCQkJCQkJCWZvciAodmFyIHMgPSByLmRhdGEubGVuZ3RoLCBsID0gci5kYXRhLCBjID0gMDsgcyA+IGM7IGMrKykgewoJCQkJCQkJCQl2YXIgZCA9IG5ldyBBcnJheSgyKTsKCQkJCQkJCQkJZFswXSA9IHBhcnNlSW50KGxbY11bMF0pLCBkWzFdID0gcGFyc2VGbG9hdChsW2NdWzFdKSwgdC5zZXJpZXNbaV0uZGF0YS5wdXNoKGQpCgkJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWsoIiMiICsgYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS5jc3MoIndpZHRoIiwgYS53aWR0aCAtIDMwMCksIGsoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnJlbWluZCIpLmNzcygibGVmdCIsIGEud2lkdGggLSAyNzkpLCBrKCIjIiArIHQuY2hhcnQucmVuZGVyVG8pLmxlbmd0aCAmJiBuZXcgby5DaGFydCh0KSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1idG4iKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQllLnByZXZlbnREZWZhdWx0KCksIGsoIi5yZW1pbmQtZXJyb3IiKS5oaWRlKCk7CgkJCQkJCQl2YXIgdCA9IC9eW1x3LV0rKFwuW1x3LV0rKSpAW1x3LV0rKFwuW1x3LV0rKSskLywKCQkJCQkJCQluID0gMSwKCQkJCQkJCQlpID0gMCwKCQkJCQkJCQlvID0gaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1lbWFpbCIpLnZhbCgpLAoJCQkJCQkJCXIgPSBhLm5vd19kcF9pZDsKCQkJCQkJCWsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbm90aWNlLWltIikuYXR0cigiY2hlY2tlZCIpID8gbiA9IDEgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcHJpLW5vdGljZS1saSIpLmF0dHIoImNoZWNrZWQiKSAmJiAobiA9IDIsIGkgPSBwYXJzZUZsb2F0KGsoIiMiICsgYS5leHROYW1lICsgIi1wcmktbGltaXQiKS52YWwoKSkpLCB0LnRlc3QobykgPyBTLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L3JlbWluZD9hY3Rpb249YWRkJmRwX2lkPSIgKyByICsgIiZlbWFpbD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG8pICsgIiZ0eXBlPSIgKyBuICsgIiZwcmljZT0iICsgaSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJMSA9PSBlLmNvZGUgPyBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMiIpLnNob3coKSA6IDIgPT0gZS5jb2RlID8gaygiIyIgKyBhLmV4dE5hbWUgKyAiLXJlbWluZC1lcnJvcjMiKS5zaG93KCkgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMSIpLnNob3coKQoJCQkJCQkJfSkgOiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVycm9yMCIpLnNob3coKQoJCQkJCQl9KSwgIiIgIT0gYS5lbWFpbCAmJiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikudmFsKGEuZW1haWwpLCAoYS5JRTYgfHwgYS5JRTcpICYmICJhbWF6b24iID09IGEuc2l0ZSAmJiBrKCIjIiArIGEuZXh0TmFtZSArICItcmVtaW5kLWVtYWlsIikuaGVpZ2h0KDI4KQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUsIHQpIHsKCQkJCQlpZiAoIShhLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBhLnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xKSkgewoJCQkJCQl2YXIgaSA9IG4oMTQ1KSwKCQkJCQkJCW8gPSBuKDE0NiksCgkJCQkJCQlzID0gW107CgkJCQkJCWEuc2F2ZV9kcF9xdWVyeSAmJiBhLnNhdmVfZHBfcXVlcnkuYjJjICYmIGEuc2F2ZV9kcF9xdWVyeS5iMmMuc3RvcmUgJiYgKHMgPSBhLnNhdmVfZHBfcXVlcnkuYjJjLnN0b3JlKTsKCQkJCQkJZm9yICh2YXIgbCA9IGsoIiN0cmVuZF9kZXRhaWxfYm9keV91bCIpLCBjID0gW10sIGQgPSBzLmxlbmd0aCwgcCA9IFsxLCAxMDMsIDEwOCwgMTIzLCAxMjQsIDEyNiwgMTI5LCAxMzQsIDEzNiwgMTQsIDE0MSwgMTUsIDE2NywgMTY4LCAxOSwgMiwgMjEsIDI1LCAyNiwgMjgsIDMsIDMxLCAzNCwgMzUsIDQxLCA2LCA2NiwgNywgODYsIDkzLCA5XSwgaCA9IDA7IGggPCBzLmxlbmd0aCAmJiA2ID4gaDsgaCsrKSB7CgkJCQkJCQl2YXIgdSA9IHNbaF0ucHJvZHVjdCAmJiBzW2hdLnByb2R1Y3RbMF0gfHwgc1toXSwKCQkJCQkJCQltID0gdS5kcF9pZCB8fCAiIiwKCQkJCQkJCQlmID0gbS5tYXRjaCgvWzAtOV0rLShbMC05XSspLyk7CgkJCQkJCQlmID0gZiAmJiBmWzFdOwoJCQkJCQkJdmFyIGcgPSBwLmluZGV4T2YoTnVtYmVyKGYpKSA+IC0xID8gIi5wbmciIDogIi5pY28iOwoJCQkJCQkJZiAmJiAodS5wcmljZSA9IHIodS5wcmljZS5yZXBsYWNlKC8sL2csICIiKSksIHUuaWNvdXJsID0gYS5zX3NlcnZlciArICIvaW1hZ2VzL2Zhdmljb24vIiArIGYgKyBnLCBjLnB1c2godSkpCgkJCQkJCX0KCQkJCQkJdmFyIF8gPSAi5YW25LuWIiArIGQgKyAi5a625oql5Lu3IjsKCQkJCQkJMCA9PT0gYy5sZW5ndGggPyBfID0gIuaaguaXoOWVhuWfjuavlOS7tyIgOiBjWzBdLnByaWNlIDwgTnVtYmVyKGUuc3RvcmVbMF0uY3VycmVudF9wcmljZSkgJiYgKF8gPSAi5pu05L2O5Lu377yaIiArIGNbMF0ucHJpY2UpLCBsLmFwcGVuZChqLmNvbXBpbGUoaSkoewoJCQkJCQkJZGF0YTogYywKCQkJCQkJCWFsbExpbms6IGEuY19zZXJ2ZXIgKyAiL2RwIiArIGEubm93X2RwX2lkLAoJCQkJCQkJc3RvcmVTaXplOiBkCgkJCQkJCX0pKSwgaygiLnRyZW5kLWNvbS1taW5pIikuYXBwZW5kKGouY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBjLAoJCQkJCQkJYWxsTGluazogYS5jX3NlcnZlciArICIvZHAiICsgYS5ub3dfZHBfaWQsCgkJCQkJCQlzdG9yZVNpemU6IGQKCQkJCQkJfSkpLCBrKCIjZ3dkX21pbmlfY29tcGFyZSIpLnNob3coKSwgMCA9PT0gYy5sZW5ndGggJiYgaygiI2d3ZF9taW5pX2NvbXBhcmUiKS5hZGRDbGFzcygibm8tY29tLWluZm8iKS5vZmYoKSwgaygiI2d3ZF9taW5pX2NvbXBhcmUgLm1pbi1jb20tYm94IHNwYW4iKS50ZXh0KF8pCgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGQodCwgbiwgaSkgewoJCQkJCWlmICh0LnN0b3JlLmxlbmd0aCA+IDAgJiYgaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5sZW5ndGggPiAwKSB7CgkJCQkJCWEuc2hvd01pbmlUcmVuZCA9ICEwLCAwID09IHQucHJpY2Vfc3RhdHVzID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1zb2x3IiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiI2ZmOTAwMCIpLmh0bWwoIuS7t+agvOW5s+eosyIpKSA6IDEgPT0gdC5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLXVwIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiI2Q4MDAwMSIpLmh0bWwoIuS7t+agvOS4iua2qCIpKSA6IEEodCwgITApIHx8IHQuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLWRvd24iKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuY3NzKCJjb2xvciIsICIjMDBBNjZDIikuaHRtbCgi5Y6G5Y+y5pyA5L2OIikpIDogKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1kb3duIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmNzcygiY29sb3IiLCAiIzAwQTY2QyIpLmh0bWwoIuS7t+agvOS4i+mZjSIpKSwgaygiLnByaWNlLXRyZW5kLWljb24iKS5zaG93KCk7CgkJCQkJCXZhciByID0gewoJCQkJCQkJCWNoYXJ0OiB7CgkJCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiLAoJCQkJCQkJCQl3aWR0aDogaS53aWR0aCwKCQkJCQkJCQkJaGVpZ2h0OiBpLmhlaWdodCwKCQkJCQkJCQkJdHlwZTogImxpbmUiCgkJCQkJCQkJfSwKCQkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQljb2xvcnM6IFsiIzU3YjJlYyJdLAoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6IGUoKSArICIg6L+RMTgw5aSp5Lu35qC86LaL5Yq/IiwKCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCWNvbG9yOiAiIzY2NiIsCgkJCQkJCQkJCQlmb250U2l6ZTogbgoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl4QXhpczogewoJCQkJCQkJCQl0eXBlOiAiZGF0ZXRpbWUiLAoJCQkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCQkJZGF5OiAiJW0tJWQiLAoJCQkJCQkJCQkJd2VlazogIiVtLSVkIiwKCQkJCQkJCQkJCW1vbnRoOiAiJW0tJWQiCgkJCQkJCQkJCX0sCgkJCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQkJY29sb3I6ICIjOTk5IgoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQl5QXhpczogewoJCQkJCQkJCQl0aXRsZTogewoJCQkJCQkJCQkJdGV4dDogIiIKCQkJCQkJCQkJfSwKCQkJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCQkJdmFsdWU6IDAsCgkJCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQkJCWNvbG9yOiAiIzgwODA4MCIKCQkJCQkJCQkJfV0sCgkJCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjYzBkMGUwIiwKCQkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQkJCXRpY2tQaXhlbEludGVydmFsOiA1MCwKCQkJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJCQlzdHlsZTogewoJCQkJCQkJCQkJCWNvbG9yOiAiIzk5OSIKCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJdG9vbHRpcDogewoJCQkJCQkJCQl4RGF0ZUZvcm1hdDogIiVZLSVtLSVkIiwKCQkJCQkJCQkJc2hhcmVkOiAhMAoJCQkJCQkJCX0sCgkJCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQlyYWRpdXM6IDEKCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQlzaGFkb3c6ICExLAoJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJbGluZVdpZHRoOiAyCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlsZWdlbmQ6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCWxheW91dDogInZlcnRpY2FsIiwKCQkJCQkJCQkJYWxpZ246ICJyaWdodCIsCgkJCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJCQlib3JkZXJXaWR0aDogMCwKCQkJCQkJCQkJeTogMjAKCQkJCQkJCQl9LAoJCQkJCQkJCXNlcmllczogW3sKCQkJCQkJCQkJdmlzaWJsZTogITAsCgkJCQkJCQkJCXBvaW50U3RhcnQ6IERhdGUuVVRDKHQuc3RhcnRZLCB0LnN0YXJ0TSwgdC5zdGFydEQpLAoJCQkJCQkJCQlwb2ludEludGVydmFsOiA4NjRlNSwKCQkJCQkJCQkJZGF0YTogW10KCQkJCQkJCQl9XQoJCQkJCQkJfSwKCQkJCQkJCXMgPSB0LnN0b3JlWzBdOwoJCQkJCQlpZiAoci5zZXJpZXNbMF0ubmFtZSA9IHMubmFtZSwgcy5kYXRhLmxlbmd0aCA+IDApIHsKCQkJCQkJCWZvciAodmFyIGwsIGMsIGQgPSBzLnByaWNlX3JhbmdlLnNwbGl0KCItIiksIHAgPSBwYXJzZUZsb2F0KGRbMF0ucmVwbGFjZSgvLC9nLCAiIikpLCBoID0gcGFyc2VGbG9hdChkWzFdLnJlcGxhY2UoLywvZywgIiIpKSwgdSA9IHMuZGF0YS5sZW5ndGgsIG0gPSBzLmRhdGEsIGYgPSAwOyB1ID4gZjsgZisrKSB7CgkJCQkJCQkJdmFyIGcgPSB7fTsKCQkJCQkJCQlnLnggPSBwYXJzZUludChtW2ZdWzBdKSwgZy55ID0gcGFyc2VGbG9hdChtW2ZdWzFdKSwgZy55ID09PSBoICYmIChsID0gZiksIGcueSA9PT0gcCAmJiAoYyA9IGYpLCByLnNlcmllc1swXS5kYXRhLnB1c2goZykKCQkJCQkJCX0obCB8fCAwID09PSBsKSAmJiAoci5zZXJpZXNbMF0uZGF0YVtsXS5tYXJrZXIgPSB7CgkJCQkJCQkJZmlsbENvbG9yOiAiI0U0MzkzQyIsCgkJCQkJCQkJbGluZVdpZHRoOiA0LAoJCQkJCQkJCWxpbmVDb2xvcjogIiNFNDM5M0MiCgkJCQkJCQl9KSwgKGMgfHwgMCA9PT0gYykgJiYgKHIuc2VyaWVzWzBdLmRhdGFbY10ubWFya2VyID0gewoJCQkJCQkJCWZpbGxDb2xvcjogIiMwMEE2NkMiLAoJCQkJCQkJCWxpbmVXaWR0aDogNCwKCQkJCQkJCQlsaW5lQ29sb3I6ICIjMDBBNjZDIgoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCQlrKCIjIiArIHIuY2hhcnQucmVuZGVyVG8pLmxlbmd0aCAmJiBuZXcgby5DaGFydChyKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfaW5mbyIpLmh0bWwoJzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICdfbWluX3ByaWNlIj7mnIDkvY7ku7fvvJo8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnX3ByaWNlIj7vv6UnICsgcCArICI8L3NwYW4+PC9zcGFuPiIgKyAoJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICdfbWF4X3ByaWNlIj7mnIDpq5jku7fvvJo8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnX3ByaWNlIj7vv6UnKSArIGggKyAiPC9zcGFuPjwvc3Bhbj4iKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLnNob3coKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biArIGRpdi5zaHV4aWFuIikuc2hvdygpCgkJCQkJfSBlbHNlICJsdXlvdSIgPT0gYS5idHlwZSA/IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmhpZGUoKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLmhpZGUoKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biArIGRpdiIpLmhpZGUoKSkgOiAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLnRleHQoIuaaguaXoOS7t+agvOi1sOWKvyIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikub2ZmKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcygiX25vcHJpY2UiKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gZW0iKS5oaWRlKCkpCgkJCQl9CgoJCQkJZnVuY3Rpb24gcChlKSB7CgkJCQkJdmFyIHQgPSB7CgkJCQkJCXdpZHRoOiA0MDAsCgkJCQkJCWhlaWdodDogMjAwCgkJCQkJfTsKCQkJCQkibHV5b3UiICE9IGEuYnR5cGUgJiYgKHQud2lkdGggPSAzNjAsIHQuaGVpZ2h0ID0gMTgwKSwgaCB8fCAoaCA9ICEwLCBjKGUsIDQpLCBHKGUsICIxOHB4IiwgdCksIG4oMTQ3KS5pbml0KCkpCgkJCQl9CgkJCQl2YXIgaCwgdSwgbSwgZiwgZyA9IHRoaXMsCgkJCQkJXyA9IDM2ZTUsCgkJCQkJeCA9IDI0ICogXywKCQkJCQl3ID0gITEsCgkJCQkJdiA9IHZvaWQgMCwKCQkJCQliID0gbigxMTgpLAoJCQkJCXkgPSB7fSwKCQkJCQlrID0gbig2KSwKCQkJCQl6ID0gbig0MCksCgkJCQkJQiA9IG4oMTE5KSwKCQkJCQlqID0gbigxNiksCgkJCQkJQyA9IDE4MCwKCQkJCQlTID0gbig5KSwKCQkJCQlOID0gWyJ3YW5nZ291LmNvbSIsICJsdnlvdW1hbGwuY29tIiwgImRvdWJhbi5jb20iLCAic2hhbmdwaW4uY29tIiwgInNoYW5ncGluLmNvbS5oayJdLAoJCQkJCVQgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB3aW5kb3cubG9jYXRpb24uaG9zdC50b1N0cmluZygpOwoJCQkJCQlmb3IgKHZhciB0IGluIE4pCgkJCQkJCQlpZiAoZS5pbmRleE9mKE5bdF0pID4gMCkgcmV0dXJuIGsoIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0biIpLmNzcygiYm9yZGVyLWxlZnQiLCAiMXB4IHNvbGlkICNkZGQiKSwgITA7CgkJCQkJCXJldHVybiAhMQoJCQkJCX0sCgkJCQkJUCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJbigxMzgpLmluaXQoZSwgImRwUGFnZSIsICExLCB7CgkJCQkJCQl0b3A6ICExLAoJCQkJCQkJbWlkZGxlOiAhMSwKCQkJCQkJCWJvdHRvbTogITEsCgkJCQkJCQliYWlkdTogITEKCQkJCQkJfSksICghZSB8fCBlICYmIDAgPT09IGUuc3RvcmUubGVuZ3RoKSAmJiBhLm5ld19leHRlbnNpb24gJiYgKGsoIiMiICsgYS53aXNoZG9tMikuaGlkZSgpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIpLmNzcygicGFkZGluZyIsICIwcHgiKSk7CgkJCQkJCXRyeSB7CgkJCQkJCQkoInRvcCIgPT0gZiB8fCAicmlnaHQiID09IGYpICYmICgidG9wIiA9PSBmICYmIChzKGUpLCBhLmZpeFdpZHRoKCkpLCBwKGUpKSwgImJvdHRvbSIgPT0gZiAmJiAocyhlKSwgcChlKSwgYS5hdXRvRml4V2lkdGgoKSksIChhLklFNyB8fCBhLklFOCkgJiYgbigxNDIpLnRyZW5kVXBkYXRlKCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJSSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJKCFlIHx8IGUgJiYgMCA9PT0gZS5zdG9yZS5sZW5ndGgpICYmIGEubmV3X2V4dGVuc2lvbiAmJiAoaygiIyIgKyBhLndpc2hkb20yKS5oaWRlKCksIGsoIi4iICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0IikuY3NzKCJwYWRkaW5nIiwgIjBweCIpKTsKCQkJCQkJdHJ5IHsKCQkJCQkJCSgidG9wIiA9PSBmIHx8ICJyaWdodCIgPT0gZikgJiYgKCJ0b3AiID09IGYgJiYgKHMoZSksIGEuZml4V2lkdGgoKSksIHAoZSkpLCAiYm90dG9tIiA9PSBmICYmIChIKGUpLCBwKGUpLCBhLmF1dG9GaXhXaWR0aCgpKSwgbigxNDIpLnRyZW5kVXBkYXRlKCkKCQkJCQkJfSBjYXRjaCAodCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IHQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJQSA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaWYgKHQpIHsKCQkJCQkJCXZhciBuID0gcGFyc2VGbG9hdChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UucmVwbGFjZSgiLCIsICIiKSksCgkJCQkJCQkJaSA9IHBhcnNlRmxvYXQoZS5zdG9yZVswXS5wcmljZV9yYW5nZS5zcGxpdCgiLSIsIDEpWzBdLnJlcGxhY2UoIiwiLCAiIikpOwoJCQkJCQkJcmV0dXJuIG4gPT0gaSA/ICEwIDogITEKCQkJCQkJfQoJCQkJCQl0cnkgewoJCQkJCQkJdmFyIG4gPSBwYXJzZUludChlLnN0b3JlWzBdLmN1cnJlbnRfcHJpY2UucmVwbGFjZSgiLCIsICIiKSksCgkJCQkJCQkJYSA9IGUuc3RvcmVbMF0uYWxsX2xpbmU7CgkJCQkJCQluID0gYVthLmxlbmd0aCAtIDFdOwoJCQkJCQkJdmFyIG8gPSBNYXRoLm1pbi5hcHBseShudWxsLCBlLnN0b3JlWzBdLmFsbF9saW5lKTsKCQkJCQkJCXJldHVybiBuID09IG8gPyAhMCA6ICExCgkJCQkJCX0gY2F0Y2ggKHIpIHt9CgkJCQkJfSwKCQkJCQlxID0gZnVuY3Rpb24oZSkgewoJCQkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQkJCWlmIChpID49IDkgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIC0xICE9IGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiY24iKSkgcmV0dXJuIGUoITEpOwoJCQkJCQkJaWYgKGkgPj0gNikgcmV0dXJuIGUoITEpOwoJCQkJCQkJdmFyIG4gPSBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX215RGl2IikudGV4dCgpOwoJCQkJCQkJbiA/IGUobikgOiAoaSsrLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCXQoZSkKCQkJCQkJCX0sIDFlMykpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSAwOwoJCQkJCQkiNnBtIiA9PT0gYS5zaXRlICYmICh3ID0gITAsIHYgPSAiVVNEIiksICJhbWF6b24iID09PSBhLnNpdGUgJiYgInd3dy5hbWF6b24uY24iICE9IGxvY2F0aW9uLmhvc3QgPyAodyA9ICEwLCB2ID0gIlVTRCIsICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh2ID0gIkpQWSIpLCBbInd3dy5hbWF6b24uZnIiLCAid3d3LmFtYXpvbi5kZSIsICJ3d3cuYW1hem9uLmVzIiwgInd3dy5hbWF6b24ubmwiLCAid3d3LmFtYXpvbi5pdCJdLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSAmJiAodiA9ICJFVVIiKSwgInd3dy5hbWF6b24uY2EiID09IGxvY2F0aW9uLmhvc3QgJiYgKHYgPSAiQ0FEIiksICJ3d3cuYW1hem9uLmNvLnVrIiA9PSBsb2NhdGlvbi5ob3N0ICYmICh2ID0gIkdCUCIpLCB0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmICh0KSB7CgkJCQkJCQkJaWYgKCJhbWF6b24iID09PSBhLnNpdGUpIHsKCQkJCQkJCQkJdmFyIG4gPSBMKHQpOwoJCQkJCQkJCQluID8gZShuKSA6IE8oZnVuY3Rpb24odCkgewoJCQkJCQkJCQkJZSh0KQoJCQkJCQkJCQl9KQoJCQkJCQkJCX0KCQkJCQkJCX0gZWxzZSBPKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQllKHQpCgkJCQkJCQl9KQoJCQkJCQl9KSkgOiAidG1hbGwiID09PSBhLnNpdGUgfHwgInRhb2Jhby05NTA5NSIgPT09IGEuc2l0ZSB8fCAiYWktdGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0YW9iYW8iID09PSBhLnNpdGUgPyBPKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQuc3RvcmUubGVuZ3RoID4gMCA/IGUodCkgOiBuKDQ4KS5nZXRUcmVuZChmdW5jdGlvbihuKSB7CgkJCQkJCQkJbiA/IEYobiwgZnVuY3Rpb24obikgewoJCQkJCQkJCQllKG4gPyBuIDogdCkKCQkJCQkJCQl9KSA6IGUodCkKCQkJCQkJCX0pCgkJCQkJCX0pIDogImFsaWV4cHJlc3MiID09PSBhLnNpdGUgPyBuKDExNikuZ2V0VHJlbmREYXRhKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXQgJiYgZSh0KQoJCQkJCQl9KSA6IE8oZnVuY3Rpb24odCkgewoJCQkJCQkJZSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJRSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZnVuY3Rpb24gbyhlKSB7CgkJCQkJCQlpZiAociA+PSA5ICYmICJhbWF6b24iID09IGEuc2l0ZSAmJiAtMSAhPSBsb2NhdGlvbi5ob3N0LmluZGV4T2YoImNuIikpIHJldHVybiBlKCExKTsKCQkJCQkJCWlmIChyID49IDYpIHJldHVybiBlKCExKTsKCQkJCQkJCXZhciB0ID0gaygiIyIgKyBhLmV4dEJyYW5kICsgIl9teURpdiIpLnRleHQoKTsKCQkJCQkJCXQgPyBlKHQpIDogKHIrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKGUpCgkJCQkJCQl9LCAxZTMpKQoJCQkJCQl9CgkJCQkJCXZhciByID0gMDsKCQkJCQkJImFtYXpvbiIgPT09IGEuc2l0ZSAmJiAid3d3LmFtYXpvbi5jbiIgIT0gbG9jYXRpb24uaG9zdCA/IG8oZnVuY3Rpb24obikgewoJCQkJCQkJaWYgKG4pIHsKCQkJCQkJCQlpZiAoImFtYXpvbiIgPT09IGEuc2l0ZSkgewoJCQkJCQkJCQl2YXIgaSA9IEQobik7CgkJCQkJCQkJCWkgPyBlKGkpIDogdChmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQllKHQpCgkJCQkJCQkJCX0pCgkJCQkJCQkJfQoJCQkJCQkJfSBlbHNlIHQoZnVuY3Rpb24odCkgewoJCQkJCQkJCWUodCkKCQkJCQkJCX0pCgkJCQkJCX0pIDogImFpLXRhb2JhbyIgPT09IGEuc2l0ZSB8fCAidGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSB8fCAidGFvYmFvLTk1MDk1IiA9PT0gYS5zaXRlID8gbig0OCkuZ2V0VHJlbmQoZnVuY3Rpb24obikgewoJCQkJCQkJdmFyIGEgPSBpKG4pOwoJCQkJCQkJYSA/IGUoYSkgOiB0KGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQllKHQpCgkJCQkJCQl9KQoJCQkJCQl9KSA6IHQoZnVuY3Rpb24odCkgewoJCQkJCQkJZSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJTyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0ID0gJChhLnNpdGUpOwoJCQkJCQkJaWYgKHQgfHwgKHQgPSBhLmRwLnByaWNlKSwgInN1bmluZyIgPT09IGEuc2l0ZSkgewoJCQkJCQkJCXZhciBuID0gdm9pZCAwLAoJCQkJCQkJCQlpID0gaygiLnczIikudG9BcnJheSgpOwoJCQkJCQkJCWkgPSBpLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCXJldHVybiBlLmlubmVySFRNTAoJCQkJCQkJCX0pLCBpLmluZGV4T2YoIuWboui0reS7tyIpID4gLTEgJiYgKG4gPSBrKCJzcGFuLnNtYWxsLXByaWNlIikudGV4dCgpKTsKCQkJCQkJCQl2YXIgbyA9IGsoIiNwcm9tb3Rpb25QcmljZS5tYWlucHJpY2UiKS50ZXh0KCksCgkJCQkJCQkJCXIgPSBrKCIubWFpbnByaWNlIikudGV4dCgpOwoJCQkJCQkJCXIgJiYgKHQgPSByKSwgbyAmJiAodCA9IG8pLCBuICYmICh0ID0gbiksIHQgPSB6KHQpLCBhLmRwLnByaWNlID0gdAoJCQkJCQkJfQoJCQkJCQkJdCA9IHBhcnNlRmxvYXQodCksIHQgPyAodyAmJiAodCA9IHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpLCB0ID0gcGFyc2VJbnQocGFyc2VGbG9hdCgxMDAgKiB0KS50b0ZpeGVkKDIpKSwgdCA9IHQudG9GaXhlZCgyKSkgOiB0ID0gIiIsIFMuZ2V0KGEuc2VydmVyICsgIi9leHRlbnNpb24/YWM9cHJpY2VfdHJlbmQmZHBfaWRzPSIgKyB1ICsgIiZkcF9pZD0iICsgbSArICImcHJpY2U9IiArIHQpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQkJCWlmICh3ICYmIHQuc3RvcmVbMF0pIHsKCQkJCQkJCQkJdC5zdG9yZSA9IFt0LnN0b3JlWzBdXSwgdC5zdG9yZVswXS5jdXJyZW5jeSA9IHY7CgkJCQkJCQkJCXZhciBuID0gdC5zdG9yZVswXS5uYW1lOwoJCQkJCQkJCQlzd2l0Y2ggKGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY28uanAiOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK5pel5pysKOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYXpvbi5jb20iOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK576O5Zu9KOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYW96bi5mciI6CgkJCQkJCQkJCQkJbiA9ICLkuprpqazpgIrms5Xlm70o5b2T5YmNKSI7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLnVrIjoKCQkJCQkJCQkJCQluID0gIuS6mumprOmAiuiLseWbvSjlvZPliY0pIjsKCQkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uZGUiOgoJCQkJCQkJCQkJCW4gPSAi5Lqa6ams6YCK5b635Zu9KOW9k+WJjSkiOwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAid3d3LmFtYXpvbi5jYSI6CgkJCQkJCQkJCQkJbiA9ICLkuprpqazpgIrliqDmi7/lpKco5b2T5YmNKSIKCQkJCQkJCQkJfQoJCQkJCQkJCQl0LnN0b3JlWzBdLm5hbWUgPSBuCgkJCQkJCQkJfQoJCQkJCQkJCWUodCkKCQkJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCQkJZSghMSkKCQkJCQkJCX0pCgkJCQkJCX07CgkJCQkJCVsic3VuaW5nIiwgImZlaW5pdSIsICJqdW1laWdsb2JhbCIsICJ5b3Vnb3UiXS5pbmRleE9mKGEuc2l0ZSkgPiAtMSA/IHNldFRpbWVvdXQodCwgMWUzKSA6IHQoKQoJCQkJCX0sCgkJCQkJTCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSAxMDA7CgkJCQkJCWlmICh3ID0gITAsIHYgPSAiVVNEIiwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKHQgPSAxLCB2ID0gIkpQWSIpLCBbInd3dy5hbWF6b24uZnIiLCAid3d3LmFtYXpvbi5kZSIsICJ3d3cuYW1hem9uLmVzIiwgInd3dy5hbWF6b24ubmwiLCAid3d3LmFtYXpvbi5pdCIsICJ3d3cuYW1hem9uLmNvLnVrIl0uaW5kZXhPZihsb2NhdGlvbi5ob3N0KSA+IC0xICYmICh0ID0gMTAwLCB2ID0gIkVVUiIpLCAid3d3LmFtYXpvbi5jYSIgPT0gbG9jYXRpb24uaG9zdCAmJiAodiA9ICJDQUQiKSwgZSAmJiAiIiAhPSBlKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCXZhciBpID0gSlNPTi5wYXJzZShlKQoJCQkJCQkJfSBjYXRjaCAobykgewoJCQkJCQkJCXJldHVybgoJCQkJCQkJfQoJCQkJCQkJdmFyIHIgPSAi5Lqa6ams6YCKIjsKCQkJCQkJCXN3aXRjaCAobG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY28uanAiOgoJCQkJCQkJCQlyID0gIuS6mumprOmAiuaXpeacrCI7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInd3dy5hbWF6b24uY29tIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrnvo7lm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hb3puLmZyIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrms5Xlm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNvLnVrIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIroi7Hlm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmRlIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrlvrflm70iOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJ3d3cuYW1hem9uLmNhIjoKCQkJCQkJCQkJciA9ICLkuprpqazpgIrliqDmi7/lpKciCgkJCQkJCQl9CgkJCQkJCQl2YXIgcyA9IGkuc2VsZl9jdXJ2ZSwKCQkJCQkJCQlsID0gaS5vdGhlcl9jdXJ2ZTsKCQkJCQkJCWlmICgocyB8fCBsKSAmJiAoMCAhPSBzLmxlbmd0aCB8fCAwICE9IGwubGVuZ3RoKSkgewoJCQkJCQkJCXMgJiYgMCAhPSBzLmxlbmd0aCB8fCAocyA9IGwsIHIgPSAi5Lqa6ams6YCK56ys5LiJ5pa5Iik7CgkJCQkJCQkJdmFyIGMgPSB2b2lkIDAsCgkJCQkJCQkJCWQgPSB2b2lkIDAsCgkJCQkJCQkJCXAgPSB2b2lkIDAsCgkJCQkJCQkJCWggPSB2b2lkIDAsCgkJCQkJCQkJCXUgPSB2b2lkIDAsCgkJCQkJCQkJCW0gPSB2b2lkIDAsCgkJCQkJCQkJCWYgPSBbXTsKCQkJCQkJCQljID0gMWUzICogKDM2MDAgKiBzWzBdLnRtICsgMTQxNzYwNTEwNyksIGQgPSBwID0gc1swXS5waSAvIHQ7CgkJCQkJCQkJZm9yICh2YXIgZyA9IDAsIGIgPSBzLmxlbmd0aDsgYiA+IGc7IGcrKykgewoJCQkJCQkJCQl2YXIgeSA9IHNbZ107CgkJCQkJCQkJCTAgIT0geS5waSAmJiAoeS5waSA9IHkucGkgLyB0LCB5LnRtID0gMWUzICogKDM2MDAgKiB5LnRtICsgMTQxNzYwNTEwNyksIGYucHVzaChbeS50bSwgeS5waV0pKQoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoMCA9PSBmLmxlbmd0aCkgcmV0dXJuICExOwoJCQkJCQkJCWggPSBuZXcgRGF0ZShwYXJzZUludChjKSkuZ2V0RnVsbFllYXIoKSwgdSA9IG5ldyBEYXRlKHBhcnNlSW50KGMpKS5nZXRNb250aCgpLCBtID0gbmV3IERhdGUocGFyc2VJbnQoYykpLmdldERhdGUoKTsKCQkJCQkJCQlmb3IgKHZhciBrID0gZi5sZW5ndGgsIEIgPSBrIC0gMTsgQiA+IDA7IEItLSkKCQkJCQkJCQkJaWYgKCEoZltCXVswXSA8PSBmW0IgLSAxXVswXSArIDg2NGU1IHx8IGZbQl1bMV0gPT0gZltCIC0gMV1bMV0pKSB7CgkJCQkJCQkJCQl2YXIgaiA9IFtmW0JdWzBdIC0gODY0ZTUsIGZbQiAtIDFdWzFdXTsKCQkJCQkJCQkJCWYuc3BsaWNlKEIsIDAsIGopCgkJCQkJCQkJCX0KCQkJCQkJCQlpZiAoRGF0ZS5wYXJzZShuZXcgRGF0ZSkgLSBmW2YubGVuZ3RoIC0gMV1bMF0gPiA4NjRlNSkgZi5wdXNoKFtEYXRlLnBhcnNlKG5ldyBEYXRlKSAtIDg2NGU1LCBwYXJzZUZsb2F0KHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpXSk7CgkJCQkJCQkJZWxzZSB0cnkgewoJCQkJCQkJCQlmW2YubGVuZ3RoIC0gMV1bMV0gPSBwYXJzZUZsb2F0KHouZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5vbGRQcmljZSkpCgkJCQkJCQkJfSBjYXRjaCAoQykge30KCQkJCQkJCQlmb3IgKHZhciBTID0gdm9pZCAwLCBOID0gdm9pZCAwLCBUID0gdm9pZCAwLCBQID0gdm9pZCAwLCBJID0gZiwgQSA9IFtdLCBxID0gbmV3IERhdGUsIEUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgSS5sZW5ndGggLSAxOyB0KyspCgkJCQkJCQkJCQlpZiAoZSA+PSBJW3RdWzBdICYmIGUgPCBJW3QgKyAxXVswXSkgcmV0dXJuIElbdF1bMV07CgkJCQkJCQkJCXJldHVybiBJW0kubGVuZ3RoIC0gMV1bMV0KCQkJCQkJCQl9LCBPID0gSVswXVswXTsgTyA8PSBxLmdldFRpbWUoKTspIHsKCQkJCQkJCQkJdmFyIEwgPSBFKE8pOwoJCQkJCQkJCQlBLnB1c2gocGFyc2VGbG9hdChMLnRvRml4ZWQoMikpKSwgTyArPSB4CgkJCQkJCQkJfQoJCQkJCQkJCWlmIChBW0EubGVuZ3RoIC0gMV0pIHsKCQkJCQkJCQkJdmFyIEQgPSBuKDQwKS5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKTsKCQkJCQkJCQkJQVtBLmxlbmd0aCAtIDFdID0gcGFyc2VGbG9hdChEKQoJCQkJCQkJCX0gZWxzZSBBW0EubGVuZ3RoIC0gMV0gPSBBW0EubGVuZ3RoIC0gMl0sIGEuZHAub2xkUHJpY2UgPSBBW0EubGVuZ3RoIC0gMV0sIGEuZHAucHJpY2UgPSBuKDQwKShhLmRwLm9sZFByaWNlKTsKCQkJCQkJCQl0cnkgewoJCQkJCQkJCQlTID0gTShBKSwgTiA9IFMucHJpY2Vfc3RhdHVzLCBUID0gUy5wcmljZV9sYXN0LCBQID0gUy5pc2xvd2VzdAoJCQkJCQkJCX0gY2F0Y2ggKEMpIHt9CgkJCQkJCQkJdmFyIFIgPSBudWxsOwoJCQkJCQkJCUEubGVuZ3RoID49IDM2NSAmJiAoUiA9IEEuc2xpY2UoQS5sZW5ndGggLSAzNjUpKTsKCQkJCQkJCQl2YXIgRiA9IG51bGw7CgkJCQkJCQkJQS5sZW5ndGggPj0gMzEgJiYgKEYgPSBBLnNsaWNlKEEubGVuZ3RoIC0gMzEpKTsKCQkJCQkJCQl2YXIgJCA9IG51bGw7CgkJCQkJCQkJaWYgKEEubGVuZ3RoID49IDYpIHsKCQkJCQkJCQkJdmFyIFcgPSBBLnNsaWNlKEEubGVuZ3RoIC0gNik7CgkJCQkJCQkJCSQgPSBbXTsKCQkJCQkJCQkJZm9yICh2YXIgSCA9IDA7IEggPCBXLmxlbmd0aCAtIDE7IEgrKykgewoJCQkJCQkJCQkJZm9yICh2YXIgVSA9IFtdLCBZID0gMDsgMjQgPiBZOyBZKyspIFUucHVzaChXW0hdKTsKCQkJCQkJCQkJCSQgPSAkLmNvbmNhdChVKQoJCQkJCQkJCQl9CgkJCQkJCQkJCSQucHVzaChXW1cubGVuZ3RoIC0gMV0pCgkJCQkJCQkJfQoJCQkJCQkJCWQgPSBBWzBdOwoJCQkJCQkJCWZvciAodmFyIEcgPSAwOyBHIDwgQS5sZW5ndGg7IEcrKykgZCA+IEFbR10gJiYgKGQgPSBBW0ddKSwgcCA8IEFbR10gJiYgKHAgPSBBW0ddKTsKCQkJCQkJCQl2YXIgWCA9IGQgKyAiLSIgKyBwLAoJCQkJCQkJCQlKID0gewoJCQkJCQkJCQkJcHJpY2Vfc3RhdHVzOiBOLAoJCQkJCQkJCQkJc3RhcnREOiBtLAoJCQkJCQkJCQkJc3RhcnRNOiB1LAoJCQkJCQkJCQkJbm93X2RheTogcSwKCQkJCQkJCQkJCXN0YXJ0WTogaCwKCQkJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQkJCWN1cnJlbnRfcHJpY2U6IFQsCgkJCQkJCQkJCQkJYWxsX2xpbmU6IEEsCgkJCQkJCQkJCQkJYWxsX2xpbmVfYmVnaW5fdGltZTogSVswXVswXSwKCQkJCQkJCQkJCQl5ZWFyX2xpbmU6IFIsCgkJCQkJCQkJCQkJeWVhcl9saW5lX3RpbWU6IHEuZ2V0VGltZSgpIC0gMzY1ICogeCwKCQkJCQkJCQkJCQltb250aF9saW5lOiBGLAoJCQkJCQkJCQkJCW1vbnRoX2xpbmVfdGltZTogcS5nZXRUaW1lKCkgLSAzMCAqIHgsCgkJCQkJCQkJCQkJc2hvcnRfZGF5X2xpbmU6ICQsCgkJCQkJCQkJCQkJc2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZTogcS5nZXRUaW1lKCkgKyA4ICogXyAtIDUgKiB4LAoJCQkJCQkJCQkJCW1pbl9zdGFtcDogIjAiLAoJCQkJCQkJCQkJCWlzbG93ZXN0OiBQLAoJCQkJCQkJCQkJCW5hbWU6IHIgKyAiKOW9k+WJjSkiLAoJCQkJCQkJCQkJCXByaWNlX3JhbmdlOiBYLAoJCQkJCQkJCQkJCXByb21vOiBbXSwKCQkJCQkJCQkJCQlhbGxfZXF1YWxfc2hvcnQ6ICExLAoJCQkJCQkJCQkJCWN1cnJlbmN5OiB2CgkJCQkJCQkJCQl9XQoJCQkJCQkJCQl9OwoJCQkJCQkJCXJldHVybiBKCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCUQgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gMTAwOwoJCQkJCQlpZiAoInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKHQgPSAxKSwgZSAmJiAiIiAhPSBlKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCXZhciBuID0gSlNPTi5wYXJzZShlKQoJCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJCXJldHVybgoJCQkJCQkJfQoJCQkJCQkJdmFyIGEgPSAi5Lqa6ams6YCKIiwKCQkJCQkJCQlvID0gbi5zZWxmX2N1cnZlLAoJCQkJCQkJCXIgPSBuLm90aGVyX2N1cnZlOwoJCQkJCQkJaWYgKChvIHx8IHIpICYmICgwICE9IG8ubGVuZ3RoIHx8IDAgIT0gci5sZW5ndGgpKSB7CgkJCQkJCQkJbyAmJiAwICE9IG8ubGVuZ3RoIHx8IChvID0gciwgYSA9ICLkuprpqazpgIrnrKzkuInmlrkiKTsKCQkJCQkJCQl2YXIgcyA9IHZvaWQgMCwKCQkJCQkJCQkJbCA9IHZvaWQgMCwKCQkJCQkJCQkJYyA9IHZvaWQgMCwKCQkJCQkJCQkJZCA9IHZvaWQgMCwKCQkJCQkJCQkJcCA9IHZvaWQgMCwKCQkJCQkJCQkJaCA9IHZvaWQgMCwKCQkJCQkJCQkJdSA9IFtdOwoJCQkJCQkJCXMgPSAxZTMgKiAoMzYwMCAqIG9bMF0udG0gKyAxNDE3NjA1MTA3KSwgbCA9IGMgPSBvWzBdLnBpIC8gdDsKCQkJCQkJCQlmb3IgKHZhciBtID0gMCwgZiA9IG8ubGVuZ3RoOyBmID4gbTsgbSsrKSB7CgkJCQkJCQkJCXZhciBnID0gb1ttXTsKCQkJCQkJCQkJMCAhPSBnLnBpICYmIChnLnBpID0gZy5waSAvIHQsIGcudG0gPSAxZTMgKiAoMzYwMCAqIGcudG0gKyAxNDE3NjA1MTA3KSwgZy5waSA8IGwgJiYgKGwgPSBnLnBpKSwgZy5waSA+IGMgJiYgKGMgPSBnLnBpKSwgdS5wdXNoKFtnLnRtLCBnLnBpXSkpCgkJCQkJCQkJfQoJCQkJCQkJCWlmICgwID09IHUubGVuZ3RoKSByZXR1cm4gITE7CgkJCQkJCQkJZCA9IG5ldyBEYXRlKHBhcnNlSW50KHMpKS5nZXRGdWxsWWVhcigpLCBwID0gbmV3IERhdGUocGFyc2VJbnQocykpLmdldE1vbnRoKCksIGggPSBuZXcgRGF0ZShwYXJzZUludChzKSkuZ2V0RGF0ZSgpOwoJCQkJCQkJCWZvciAodmFyIF8gPSB1Lmxlbmd0aCwgeCA9IF8gLSAxOyB4ID4gMDsgeC0tKQoJCQkJCQkJCQlpZiAoISh1W3hdWzBdIDw9IHVbeCAtIDFdWzBdICsgODY0ZTUgfHwgdVt4XVsxXSA9PSB1W3ggLSAxXVsxXSkpIHsKCQkJCQkJCQkJCXZhciB3ID0gW3VbeF1bMF0gLSA4NjRlNSwgdVt4IC0gMV1bMV1dOwoJCQkJCQkJCQkJdS5zcGxpY2UoeCwgMCwgdykKCQkJCQkJCQkJfQoJCQkJCQkJCURhdGUucGFyc2UobmV3IERhdGUpIC0gdVt1Lmxlbmd0aCAtIDFdWzBdID4gODY0ZTUgJiYgdS5wdXNoKFtEYXRlLnBhcnNlKG5ldyBEYXRlKSAtIDg2NGU1LCB1W3UubGVuZ3RoIC0gMV1bMV1dKTsKCQkJCQkJCQlmb3IgKHZhciB2ID0gMCwgYiA9IHUubGVuZ3RoLCB5ID0gcGFyc2VGbG9hdCh1W2IgLSAxXVsxXSksIGsgPSAyMCwgeCA9IGIgLSAxOyB4ID4gMDsgeC0tKSB7CgkJCQkJCQkJCXZhciB6ID0gcGFyc2VGbG9hdCh1W3hdWzFdKSwKCQkJCQkJCQkJCUIgPSAocGFyc2VGbG9hdCh1W3hdWzBdKSAtIHBhcnNlRmxvYXQodVt4IC0gMV1bMF0pKSAvIDg2NGU1OwoJCQkJCQkJCQlpZiAoMCAhPT0geikKCQkJCQkJCQkJCWlmICh5ICE9IHopIHsKCQkJCQkJCQkJCQlpZiAocGFyc2VGbG9hdCh5KSA+IHBhcnNlRmxvYXQoeikgJiYgeCA+PSBiIC0gayAtIDEpIHsKCQkJCQkJCQkJCQkJdiA9IDE7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KHkpIDwgcGFyc2VGbG9hdCh6KSkgewoJCQkJCQkJCQkJCQl2ID0gLTE7CgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSBlbHNlIGlmIChCID4gNCkgYnJlYWsKCQkJCQkJCQl9CgkJCQkJCQkJdmFyIGogPSBsICsgIi0iICsgYywKCQkJCQkJCQkJQyA9IHsKCQkJCQkJCQkJCXByaWNlX3N0YXR1czogdiwKCQkJCQkJCQkJCXN0YXJ0RDogaCwKCQkJCQkJCQkJCXN0YXJ0TTogcCwKCQkJCQkJCQkJCXN0YXJ0WTogZCwKCQkJCQkJCQkJCXN0b3JlOiBbewoJCQkJCQkJCQkJCWN1cnJlbnRfcHJpY2U6IHksCgkJCQkJCQkJCQkJZGF0YTogdSwKCQkJCQkJCQkJCQlsYXN0X3ByaWNlOiBsLAoJCQkJCQkJCQkJCW1pbl9zdGFtcDogIjAiLAoJCQkJCQkJCQkJCW5hbWU6IGEsCgkJCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IGoKCQkJCQkJCQkJCX1dCgkJCQkJCQkJCX07CgkJCQkJCQkJcmV0dXJuIEMKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJTSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZm9yICh2YXIgdCA9IDAsIG4gPSBlLmxlbmd0aCwgaSA9IE1hdGgubWluLmFwcGx5KGcsIGUpLCBhID0gZVtuIC0gMV0sIG8gPSAhMSwgciA9IDE4MCwgcyA9IDAsIGwgPSBlLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7CgkJCQkJCQl2YXIgYyA9IGVbbF07CgkJCQkJCQlpZiAobCA+IDAgJiYgKHMgKz0gMSksIDAgIT0gYykKCQkJCQkJCQlpZiAoYSAhPSBjKSB7CgkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KGEpID4gcGFyc2VGbG9hdChjKSAmJiBsID49IG4gLSByIC0gMSkgewoJCQkJCQkJCQkJdCA9IDE7CgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQl9CgkJCQkJCQkJCWlmIChwYXJzZUZsb2F0KGEpIDwgcGFyc2VGbG9hdChjKSkgewoJCQkJCQkJCQkJdCA9IC0xLCBhID09PSBpICYmIChvID0gITApOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCX0gZWxzZSBpZiAocyA+IDE4MCkgYnJlYWsKCQkJCQkJfQoJCQkJCQlyZXR1cm4gewoJCQkJCQkJcHJpY2Vfc3RhdHVzOiB0LAoJCQkJCQkJaXNsb3dlc3Q6IG8sCgkJCQkJCQlwcmljZV9sYXN0OiBhCgkJCQkJCX0KCQkJCQl9LAoJCQkJCVIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCWZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGgsIGkgPSBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gZVsxXQoJCQkJCQl9KSwgYSA9IE1hdGgubWluLmFwcGx5KGcsIGkpLCBvID0gZVtuIC0gMV1bMV0sIHIgPSAhMSwgcyA9IDIwLCBsID0gMCwgYyA9IG4gLSAxOyBjID49IDA7IGMtLSkgewoJCQkJCQkJdmFyIGQgPSBlW2NdWzFdOwoJCQkJCQkJaWYgKGMgPiAwICYmIChsICs9IChlW2NdWzBdIC0gZVtjIC0gMV1bMF0pIC8gODY0ZTUpLCAwICE9IGQpCgkJCQkJCQkJaWYgKG8gIT0gZCkgewoJCQkJCQkJCQlpZiAocGFyc2VGbG9hdChvKSA+IHBhcnNlRmxvYXQoZCkgJiYgYyA+PSBuIC0gcyAtIDEpIHsKCQkJCQkJCQkJCXQgPSAxOwoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAocGFyc2VGbG9hdChvKSA8IHBhcnNlRmxvYXQoZCkpIHsKCQkJCQkJCQkJCXQgPSAtMSwgbyA9PT0gYSAmJiAociA9ICEwKTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQl9IGVsc2UgaWYgKGwgPiAxODApIGJyZWFrCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXByaWNlX3N0YXR1czogdCwKCQkJCQkJCWlzbG93ZXN0OiByLAoJCQkJCQkJcHJpY2VfbGFzdDogbwoJCQkJCQl9CgkJCQkJfSwKCQkJCQlGID0gZnVuY3Rpb24odCwgbikgewoJCQkJCQlpZiAodCAmJiB0Lmxpc3QpIHsKCQkJCQkJCXZhciBpID0gdm9pZCAwLAoJCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQkJciA9IHZvaWQgMCwKCQkJCQkJCQlzID0gdm9pZCAwLAoJCQkJCQkJCWwgPSB2b2lkIDAsCgkJCQkJCQkJYyA9IHQubGlzdC5sZW5ndGgsCgkJCQkJCQkJZCA9IFtdOwoJCQkJCQkJcyA9IG5ldyBEYXRlKHQuY3VyVGltZSkuZ2V0VGltZSgpLCBvID0gciA9IHQubGlzdFswXS5wcmljZTsKCQkJCQkJCXRyeSB7CgkJCQkJCQkJZm9yICh2YXIgcCA9IDA7IGMgPiBwOyBwKyspIHsKCQkJCQkJCQkJdmFyIGggPSB0Lmxpc3RbcF07CgkJCQkJCQkJCWQucHVzaChbbmV3IERhdGUoaC50aW1lKS5nZXRUaW1lKCksIGgucHJpY2VdKSwgaC5wcmljZSA+IHIgJiYgKHIgPSBoLnByaWNlKSwgaC5wcmljZSA8IG8gJiYgKG8gPSBoLnByaWNlKQoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKHZhciBwID0gYyAtIDE7IHAgPiAwOyBwLS0pCgkJCQkJCQkJCWlmIChkW3BdWzBdIC0gZFtwIC0gMV1bMF0gPiA4NjRlNSkgewoJCQkJCQkJCQkJdmFyIHUgPSBbZFtwXVswXSAtIDg2NGU1LCBkW3AgLSAxXVsxXV07CgkJCQkJCQkJCQlkLnNwbGljZShwLCAwLCB1KQoJCQkJCQkJCQl9CgkJCQkJCQkJdmFyIG0gPSBkW2QubGVuZ3RoIC0gMV07CgkJCQkJCQkJaWYgKG1bMF0gPCBzKSB7CgkJCQkJCQkJCXZhciBmID0gbVsxXSwKCQkJCQkJCQkJCWcgPSAkKGEuc2l0ZSk7CgkJCQkJCQkJCXMgLSBtWzBdID4gODY0ZTUgJiYgZC5wdXNoKFtzIC0gODY0ZTUsIGZdKSwgZyAmJiBmICE9IGcgJiYgKGcgPiByICYmIChyID0gZyksIG8gPiBnICYmIChvID0gZyksIGQucHVzaChbcywgZ10pKQoJCQkJCQkJCX0KCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl2YXIgcyA9ICQoYS5zaXRlKTsKCQkJCQkJCQkJcyAmJiAoZFtkLmxlbmd0aCAtIDFdWzFdID0gcyk7CgkJCQkJCQkJCXZhciBjID0gUihkKSwKCQkJCQkJCQkJCXAgPSBjLnByaWNlX3N0YXR1cywKCQkJCQkJCQkJCWggPSBjLnByaWNlX2xhc3Q7CgkJCQkJCQkJCWkgPSBjLmlzbG93ZXN0OwoJCQkJCQkJCQlmb3IgKHZhciB1ID0gbyArICItIiArIHIsIG0gPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RGF0ZSgpLCBmID0gbmV3IERhdGUodC5zdGFydFRpbWUpLmdldE1vbnRoKCksIGcgPSBuZXcgRGF0ZSh0LnN0YXJ0VGltZSkuZ2V0RnVsbFllYXIoKSwgdyA9IFtdLCB2ID0gbmV3IERhdGUsIGIgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlmb3IgKHZhciB0ID0gMDsgdCA8IGQubGVuZ3RoIC0gMTsgdCsrKQoJCQkJCQkJCQkJCWlmIChlID49IGRbdF1bMF0gJiYgZSA8IGRbdCArIDFdWzBdKSByZXR1cm4gZFt0XVsxXTsKCQkJCQkJCQkJCXJldHVybiBkW2QubGVuZ3RoIC0gMV1bMV0KCQkJCQkJCQkJfSwgeSA9IGRbMF1bMF07IHkgPD0gdi5nZXRUaW1lKCk7KSB7CgkJCQkJCQkJCQl2YXIgayA9IGIoeSk7CgkJCQkJCQkJCQl3LnB1c2gocGFyc2VGbG9hdChrLnRvRml4ZWQoMikpKSwgeSArPSB4CgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIHogPSBudWxsOwoJCQkJCQkJCQl3Lmxlbmd0aCA+PSAzNjUgJiYgKHogPSB3LnNsaWNlKHcubGVuZ3RoIC0gMzY1KSk7CgkJCQkJCQkJCXZhciBCID0gbnVsbDsKCQkJCQkJCQkJdy5sZW5ndGggPj0gMzEgJiYgKEIgPSB3LnNsaWNlKHcubGVuZ3RoIC0gMzEpKTsKCQkJCQkJCQkJdmFyIGogPSBudWxsOwoJCQkJCQkJCQlpZiAody5sZW5ndGggPj0gNikgewoJCQkJCQkJCQkJdmFyIEMgPSB3LnNsaWNlKHcubGVuZ3RoIC0gNik7CgkJCQkJCQkJCQlqID0gW107CgkJCQkJCQkJCQlmb3IgKHZhciBTID0gMDsgUyA8IEMubGVuZ3RoIC0gMTsgUysrKSB7CgkJCQkJCQkJCQkJZm9yICh2YXIgTiA9IFtdLCBUID0gMDsgMjQgPiBUOyBUKyspIE4ucHVzaChDW1NdKTsKCQkJCQkJCQkJCQlqID0gai5jb25jYXQoTikKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCWoucHVzaChDW0MubGVuZ3RoIC0gMV0pCgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIFAgPSBuZXcgRGF0ZTsKCQkJCQkJCQkJbCA9IHsKCQkJCQkJCQkJCXByaWNlX3N0YXR1czogcCwKCQkJCQkJCQkJCXN0YXJ0RDogbSwKCQkJCQkJCQkJCXN0YXJ0TTogZiwKCQkJCQkJCQkJCXN0YXJ0WTogZywKCQkJCQkJCQkJCW5vd19kYXk6IHYuZ2V0VGltZSgpLAoJCQkJCQkJCQkJZXh0cmE6ICJzdGFydCBmcm9tIGFub3RoZXIiLAoJCQkJCQkJCQkJc3RvcmU6IFt7CgkJCQkJCQkJCQkJY3VycmVudF9wcmljZTogaCwKCQkJCQkJCQkJCQlhbGxfbGluZTogdywKCQkJCQkJCQkJCQlhbGxfbGluZV9iZWdpbl90aW1lOiBkWzBdWzBdICsgOCAqIF8sCgkJCQkJCQkJCQkJeWVhcl9saW5lOiB6LAoJCQkJCQkJCQkJCXllYXJfbGluZV90aW1lOiB2LmdldFRpbWUoKSAtIDM2NSAqIHgsCgkJCQkJCQkJCQkJbW9udGhfbGluZTogQiwKCQkJCQkJCQkJCQltb250aF9saW5lX3RpbWU6IHYuZ2V0VGltZSgpIC0gMzAgKiB4LAoJCQkJCQkJCQkJCXNob3J0X2RheV9saW5lOiBqLAoJCQkJCQkJCQkJCXNob3J0X2RheV9saW5lX2JlZ2luX3RpbWU6IFAuZ2V0VGltZSgpICsgOCAqIF8gLSA1ICogeCwKCQkJCQkJCQkJCQltaW5fc3RhbXA6ICIwIiwKCQkJCQkJCQkJCQlpc2xvd2VzdDogaSwKCQkJCQkJCQkJCQluYW1lOiBlKCksCgkJCQkJCQkJCQkJcHJpY2VfcmFuZ2U6IHUsCgkJCQkJCQkJCQkJcHJvbW86IFtdLAoJCQkJCQkJCQkJCWFsbF9lcXVhbF9zaG9ydDogITEKCQkJCQkJCQkJCX1dCgkJCQkJCQkJCX0sIG4obCkKCQkJCQkJCQl9LCAxZTMpCgkJCQkJCQl9IGNhdGNoICh3KSB7fQoJCQkJCQl9CgkJCQkJfSwKCQkJCQkkID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9ICIiOwoJCQkJCQlpZiAoInRhb2JhbyIgPT0gZSAmJiAodCA9IGsoIiNKX1Byb21vUHJpY2VOdW0iKS50ZXh0KCksICIiID09IHQgJiYgMCA9PSBrKCIjSl9Qcm9tb1ByaWNlTnVtIikubGVuZ3RoICYmICh0ID0gaygiI0pfU3RyUHJpY2UgLnRiLXJtYi1udW0iKS50ZXh0KCkpKSwgInRtYWxsIiA9PSBlICYmICgiIiA9PSB0ICYmICh0ID0gaygiI0pfRGV0YWlsTWV0YSAjSl9Qcm9tb1ByaWNlIHNwYW4udG0tcHJpY2UiKS50ZXh0KCkpLCAiIiA9PSB0ICYmICh0ID0gaygic3Bhbi50bS1wcmljZSIpLnRleHQoKSksICJkZXRhaWwudG1hbGwuaGsiID09PSBsb2NhdGlvbi5ob3N0ICYmICh0ID0gaygic3Bhbi50bS1wcmljZTplcSgxKSIpLnRleHQoKSksIGsoIi50Yi13clR1YW4tbnVtIikudGV4dCgpICYmICh0ID0gaygiLnRiLXdyVHVhbi1udW0iKS50ZXh0KCkpKSwgInRhb2Jhby05NTA5NSIgPT0gZSAmJiAodCA9IGsoIiNKX1Byb21vUHJpY2UgLnRtLXByaWNlIikudGV4dCgpLCAiIiA9PSB0ICYmICh0ID0gaygiI0pfU3RyUHJpY2VNb2RCb3ggLnRtLXByaWNlIikudGV4dCgpKSksICJhaS10YW9iYW8iID09IGUpIHsKCQkJCQkJCWlmIChhLmNocm9tZV9leHRlbnNpb24pIHsKCQkJCQkJCQl2YXIgbiA9IGsoIi5haXRhb2Jhby1lZGV0YWlsLWhlYWRlciBzY3JpcHQiKS50ZXh0KCk7CgkJCQkJCQkJdCA9IC9wcm9tb1ByaWNlIjoiKFtcZFwuXSspIi8uZXhlYyhuKSwgdCAmJiAodCA9IHRbMV0pCgkJCQkJCQl9IGVsc2UgdCA9IHdpbmRvdy5wYWdlY29uZmlnLnByb21vUHJpY2U7CgkJCQkJCQkiIiAhPSB0ICYmIHQgfHwgKHQgPSBrKCIucHJpY2Utd3JhcCAucHJpY2Utc2luZ2xlIC5wcmljZS1wcm9tbyBzdHJvbmciKS50ZXh0KCkpCgkJCQkJCX0KCQkJCQkJcmV0dXJuIHQuaW5kZXhPZigiLSIpID4gLTEgJiYgKHQgPSB0LnNwbGl0KCItIilbMF0pLCB6KHQpCgkJCQkJfSwKCQkJCQlXID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGRvY3VtZW50LmxvY2F0aW9uLmhvc3QsCgkJCQkJCQlpID0gIiZ5ZW47IiwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJY29tOiAiJCIsCgkJCQkJCQkJImNvLnVrIjogIsKjIiwKCQkJCQkJCQlkZTogIkVVUiIsCgkJCQkJCQkJImNvLmpwIjogIiIsCgkJCQkJCQkJZnI6ICJFVVIiLAoJCQkJCQkJCWNhOiAiQ0ROJCIsCgkJCQkJCQkJY246ICImeWVuOyIsCgkJCQkJCQkJaXQ6ICJFVVIiLAoJCQkJCQkJCWVzOiAiRVVSIiwKCQkJCQkJCQkiNnBtIjogIiQiCgkJCQkJCQl9OwoJCQkJCQlmb3IgKHZhciByIGluIG8pCgkJCQkJCQlpZiAodC5pbmRleE9mKHIpID4gLTEgJiYgKCJhbWF6b24iID09PSBhLnNpdGUgfHwgIjZwbSIgPT09IGEuc2l0ZSB8fCAiYWxpZXhwcmVzcyIgPT09IGEuc2l0ZSkpIHsKCQkJCQkJCQlpID0gb1tyXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQlpZiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kLWRldGFpbCIpLmVtcHR5KCkuYXBwZW5kKGsoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogInBhbmVsLXdyYXAiCgkJCQkJCX0pLmFwcGVuZChrKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJjaGFydCIsCgkJCQkJCQlpZDogYS5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiLAoJCQkJCQkJc3R5bGU6ICJ3aWR0aDo3MDBweDsgaGVpZ2h0OjI0MHB4IgoJCQkJCQl9KSkpLmFwcGVuZChrKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwYW5lbC1zaGFkb3ciCgkJCQkJCX0pKSwgbigxMzUpLmluaXQoIiMiICsgYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwgLnBhbmVsLXdyYXAiLCBpLCBlKSwgImFtYXpvbiIgPT0gYS5zaXRlKSB7CgkJCQkJCQl2YXIgcyA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdCAmJiB3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbWF6b24uY29tIikgPj0gMCB8fCAhMTsKCQkJCQkJCXMgJiYgaygiI3Ric2Itbm90aWZpZXJzIC5yZW1pbmQsI3Ric2Itbm90aWZpZXJzIC5wYW5lbC13cmFwLCN0YnNiLW5vdGlmaWVycyAuY2hhcnQiKS5hZGRDbGFzcygiZml4LWFtYXpvbi1jb20iKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlIID0gZnVuY3Rpb24oZSkgewoJCQkJCQkwID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtc3RhYmxlIiksIGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgc3BhbiIpLmFkZENsYXNzKCJ0cmVuZC1zdGFibGUiKS50ZXh0KCLku7fmoLzlubPnqLMiKSkgOiAxID09IGUucHJpY2Vfc3RhdHVzID8gKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtdXAiKSwgaygiLnByaWNlLXRyZW5kLWJ0biAudHJlbmQtYm94LWRldiBzcGFuIikuYWRkQ2xhc3MoInRyZW5kLXJlZCIpLnRleHQoIuS7t+agvOS4iua2qCIpKSA6IEEoZSkgfHwgZS5zdG9yZVswXS5pc2xvd2VzdCA/IChrKCIucHJpY2UtdHJlbmQtYnRuIC50cmVuZC1ib3gtZGV2IGVtIikuYWRkQ2xhc3MoInRyZW5kLWRvd24iKSwgaygiLnByaWNlLXRyZW5kLWJ0biAudHJlbmQtYm94LWRldiBzcGFuIikuYWRkQ2xhc3MoInRyZW5kLWdyZWVuIikudGV4dCgi5Y6G5Y+y5pyA5L2OIikpIDogKGsoIi5wcmljZS10cmVuZC1idG4gLnRyZW5kLWJveC1kZXYgZW0iKS5hZGRDbGFzcygidHJlbmQtZG93biIpLCBrKCIucHJpY2UtdHJlbmQtYnRuIC50cmVuZC1ib3gtZGV2IHNwYW4iKS5hZGRDbGFzcygidHJlbmQtZ3JlZW4iKS50ZXh0KCLku7fmoLzkuIvpmY0iKSkKCQkJCQl9LAoJCQkJCVUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCWlmIChlICYmIGUuc3RvcmUubGVuZ3RoID4gMCkgewoJCQkJCQkJMCA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kLWljb24iKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi10cmVuZC1zdGFibGUiKSwgaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZCBwIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItc3RhYmxlIikuZmluZCgiYiIpLnRleHQoIuS7t+agvOW5s+eosyIpKSA6IDEgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtdXAiKSwgaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZCBwIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItcmVkIikuZmluZCgiYiIpLnRleHQoIuS7t+agvOS4iua2qCIpKSA6IEEoZSwgITApIHx8IGUuc3RvcmVbMF0uaXNsb3dlc3QgPyAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtZG93biIpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIHAiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1ncmVlbiIpLmZpbmQoImIiKS50ZXh0KCLljoblj7LmnIDkvY4iKSkgOiAoaygiLiIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1pY29uIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItdHJlbmQtZG93biIpLCBrKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIHAiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1ncmVlbiIpLmZpbmQoImIiKS50ZXh0KCLku7fmoLzkuIvpmY0iKSk7CgkJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJCWNoYXJ0OiB7CgkJCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIsCgkJCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCW1hcmdpbjogIjFweCIsCgkJCQkJCQkJCQloZWlnaHQ6ICIyNTBweCIsCgkJCQkJCQkJCQl3aWR0aDogIjgwMHB4IgoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQljb2xvcnM6IFsiIzJmN2VkOCJdLAoJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCXRleHQ6ICLllYbln47mnIDov5EiICsgQyArICLlpKnku7fmoLzotovlir8iLAoJCQkJCQkJCQl4OiAtMjAsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiM2NjYiCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCXhBeGlzOiB7CgkJCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQkJCWRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7CgkJCQkJCQkJCQlkYXk6ICIlbS0lZCIsCgkJCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCQkJbW9udGg6ICIlbS0lZCIKCQkJCQkJCQkJfSwKCQkJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIKCQkJCQkJCQl9LAoJCQkJCQkJCXlBeGlzOiB7CgkJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCQl0ZXh0OiAi5Lu35qC8KOWFgykiCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXBsb3RMaW5lczogW3sKCQkJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCQkJd2lkdGg6IDEsCgkJCQkJCQkJCQljb2xvcjogIiM4MDgwODAiCgkJCQkJCQkJCX1dLAoJCQkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2MwZDBlMCIsCgkJCQkJCQkJCW1pbm9yR3JpZExpbmVDb2xvcjogIiNkZmRmZGYiLAoJCQkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJCQl9LAoJCQkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCQkJeERhdGVGb3JtYXQ6ICIlWS0lbS0lZCIsCgkJCQkJCQkJCXNoYXJlZDogITAKCQkJCQkJCQl9LAoJCQkJCQkJCXBsb3RPcHRpb25zOiB7CgkJCQkJCQkJCXNlcmllczogewoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJcmFkaXVzOiAzCgkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJc2hhZG93OiAhMQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlsZWdlbmQ6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCWJvcmRlcldpZHRoOiAwCgkJCQkJCQkJfSwKCQkJCQkJCQlzZXJpZXM6IFtdCgkJCQkJCQl9LCBuID0gZS5zdG9yZS5sZW5ndGgsIGkgPSAwOyBuID4gaTsgaSsrKSB7CgkJCQkJCQkJdmFyIHIgPSBlLnN0b3JlW2ldOwoJCQkJCQkJCWlmICh0LnNlcmllc1tpXSA9IHsKCQkJCQkJCQkJdmlzaWJsZTogITEsCgkJCQkJCQkJCW5hbWU6IHIubmFtZSwKCQkJCQkJCQkJcG9pbnRTdGFydDogRGF0ZS5VVEMoZS5zdGFydFksIGUuc3RhcnRNLCBlLnN0YXJ0RCksCgkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IDg2NGU1LAoJCQkJCQkJCQlkYXRhOiBbXQoJCQkJCQkJCX0sIDAgPT0gaSAmJiAodC5zZXJpZXNbaV0udmlzaWJsZSA9ICEwKSwgci5kYXRhLmxlbmd0aCA+IDApCgkJCQkJCQkJCWZvciAodmFyIHMgPSByLmRhdGEubGVuZ3RoLCBsID0gci5kYXRhLCBjID0gMDsgcyA+IGM7IGMrKykgewoJCQkJCQkJCQkJdmFyIGQgPSBuZXcgQXJyYXkoMik7CgkJCQkJCQkJCQlkWzBdID0gcGFyc2VJbnQobFtjXVswXSksIGRbMV0gPSBwYXJzZUZsb2F0KGxbY11bMV0pLCB0LnNlcmllc1tpXS5kYXRhLnB1c2goZCkKCQkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJaygiIyIgKyB0LmNoYXJ0LnJlbmRlclRvKS5sZW5ndGggJiYgbmV3IG8uQ2hhcnQodCksIGsoIiMiICsgYS5leHRCcmFuZCArICItdHJlbmQiKS5hdHRyKCJzaG93IiwgMSkuc2hvdygpLCBhLm5ld19leHRlbnNpb24gfHwgaygiIyIgKyBhLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIpLmFwcGVuZChrKCI8YT4iLCB7CgkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuICIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IiwKCQkJCQkJCQlocmVmOiAiamF2YXNjcmlwdDoiLAoJCQkJCQkJCXRhcmdldDogIl9zZWxmIgoJCQkJCQkJfSkuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQkJCWUucHJldmVudERlZmF1bHQoKSwgQi5hZGRNaW5pKCkKCQkJCQkJCX0pLmFwcGVuZChrKCI8c3Bhbj4iKS50ZXh0KCLpmY3ku7fmj5DphpIiKSkpCgkJCQkJCX0KCQkJCQl9LAoJCQkJCVkgPSBmdW5jdGlvbigpIHsKCQkJCQkJaygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLnRleHQoIuaaguaXoOS7t+agvOi1sOWKvyIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikub2ZmKCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcygiX25vcHJpY2UiKS5zaG93KCksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gZW0iKS5oaWRlKCkKCQkJCQl9LAoJCQkJCUcgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWUuc3RvcmVbMF0uYWxsX2xpbmUubGVuZ3RoID4gMCAmJiBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmxlbmd0aCA+IDAgPyAoYS5zaG93TWluaVRyZW5kID0gITAsIDAgPT0gZS5wcmljZV9zdGF0dXMgPyAoaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biAucHJpY2UtdHJlbmQtaWNvbiIpLmFkZENsYXNzKCJwcmljZS10cmVuZC1pY29uLXNvbHciKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuaHRtbCgi5Lu35qC85bmz56izIikpIDogMSA9PSBlLnByaWNlX3N0YXR1cyA/IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuYWRkQ2xhc3MoInByaWNlLXRyZW5kLWljb24tdXAiKSwgaygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biBzcGFuIikuaHRtbCgi5Lu35qC85LiK5raoIikpIDogQShlKSB8fCBlLnN0b3JlWzBdLmlzbG93ZXN0ID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gLnByaWNlLXRyZW5kLWljb24iKS5hZGRDbGFzcygicHJpY2UtdHJlbmQtaWNvbi1kb3duIiksIGsoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4gc3BhbiIpLmh0bWwoIuWOhuWPsuacgOS9jiIpKSA6IChrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIC5wcmljZS10cmVuZC1pY29uIikuYWRkQ2xhc3MoInByaWNlLXRyZW5kLWljb24tZG93biIpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIHNwYW4iKS5odG1sKCLku7fmoLzkuIvpmY0iKSksIGsoIi5wcmljZS10cmVuZC1pY29uIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuc2hvdygpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuICsgZGl2LnNodXhpYW4iKS5zaG93KCkpIDogImx1eW91IiA9PSBhLmJ0eXBlID8gKGsoIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuICsgZGl2IikuaGlkZSgpKSA6ICgwID09PSBlLnN0b3JlWzBdLmFsbF9saW5lLmxlbmd0aCAmJiAoaygiIyIgKyBhLmV4dE5hbWUgKyAiLXRyZW5kIikuaGlkZSgpLCBrKCIjIiArIGEuZXh0QnJhbmQgKyAiLXRyZW5kIikuaGlkZSgpKSwgWSgpKQoJCQkJCX07CgkJCQlyZXR1cm4geS5nZXRQcmljZVN0YXR1c05ldyA9IE0sIHkuaW5pdCA9IGZ1bmN0aW9uKGUsIG8sIHIpIHsKCQkJCQlpZiAoIShhLklFOSAmJiAiYW1hem9uIiA9PT0gYS5zaXRlIHx8IChuKDE0OCksICJrZWVkZSIgPT09IGEuc2l0ZSAmJiBuKDE0OSkoKSwgVCgpKSkpIHsKCQkJCQkJaWYgKG8ubWF0Y2goL14wLVswLTldKy8pKSByZXR1cm4gdm9pZCBZKCk7CgkJCQkJCWlmIChlIHx8IChlID0gIiIpLCBvICYmIChlICs9ICIsIiArIG8pLCBlIHx8ICJhbWF6b24iID09IGEuc2l0ZSB8fCAiYWktdGFvYmFvIiA9PSBhLnNpdGUgfHwgInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8ICJ0YW9iYW8tOTUwOTUiID09IGEuc2l0ZSkgewoJCQkJCQkJdSA9IGUsIG0gPSBvLCBmID0gciwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaygiPGE+IiwgewoJCQkJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICItdHJlbmQiLAoJCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lOyIsCgkJCQkJCQkJImNsYXNzIjogYS5leHROYW1lICsgIi10YWIiCgkJCQkJCQl9KS5hcHBlbmQoaygiPHNwYW4+IiwgewoJCQkJCQkJCSJjbGFzcyI6ICJzZXR0aW5nLWJnIHByaWNlLXRyZW5kLWljb24iCgkJCQkJCQl9KSkuYXBwZW5kKGsoIjxzcGFuPiIsIHsKCQkJCQkJCQlpZDogYS5leHROYW1lICsgIi10cmVuZC10ZXh0IgoJCQkJCQkJfSkudGV4dCgi5Lu35qC85Y6G5Y+yIikpKSwgaygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoaygiPGRpdj4iLCB7CgkJCQkJCQkJImNsYXNzIjogInBhbmVsIHByaWNlLXRyZW5kIiwKCQkJCQkJCQlpZDogYS5leHROYW1lICsgIi10cmVuZC1kZXRhaWwiCgkJCQkJCQl9KSk7CgkJCQkJCQl2YXIgYyA9IG4oMjkpLmdldENocm9tZVZlcnNpb24oKTsKCQkJCQkJCShhLklFNyB8fCBhLklFOCB8fCBjICYmIDMwID4gYyB8fCAibHV5b3UiID09PSBhLmJ0eXBlKSAmJiAocSA9IEUsIEwgPSBELCBGID0gaSwgTyA9IHQsIHMgPSBsLCBIID0gVSwgRyA9IGQsIFAgPSBJKSwgcShmdW5jdGlvbihlKSB7CgkJCQkJCQkJbigxNTApLCBuKDE1MSkuaW5pdChlLnJldmlld190cmVuZCksIFAoZSkKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9CgkJCQl9LCB5CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig5NCkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCWkgPSBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChlID0gcGFyc2VGbG9hdChlKSwgZSA+IDFlNCkgewoJCQkJCXZhciB0ID0gKGUgLyAxZTQpLnRvRml4ZWQoMik7CgkJCQkJcmV0dXJuIHQgPSB0LnJlcGxhY2UoIi4wMCIsICIiKSwgdCArICLkuIciCgkJCQl9CgkJCQlyZXR1cm4gZS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4wMCIsICIiKQoJCQl9CgkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDEyMCksCgkJCQkJdCA9IG4oMjYpLAoJCQkJCWkgPSBuKDEzKSwKCQkJCQlyID0gbigxNiksCgkJCQkJcyA9IG4oNDApLAoJCQkJCWwgPSBuKDkpLAoJCQkJCWMgPSB2b2lkIDAsCgkJCQkJZCA9IHt9LAoJCQkJCXAgPSBbXSwKCQkJCQloID0gdm9pZCAwOwoJCQkJcmV0dXJuIHsKCQkJCQlpbml0OiBmdW5jdGlvbihlLCBuKSB7CgkJCQkJCWlmICghYS5mb3JiaWRXaXNobGl0KSB7CgkJCQkJCQl2YXIgciwgcyA9IGEuc2l0ZSwKCQkJCQkJCQlsID0gW107CgkJCQkJCQlmb3IgKHZhciBjIGluIHRoaXMuc2l0ZVBhdHRlcm4pIGMgPT0gcyAmJiAobCA9IHRoaXMuc2l0ZVBhdHRlcm5bY10pOwoJCQkJCQkJaWYgKGwubGVuZ3RoID4gMCkgewoJCQkJCQkJCWZvciAodmFyIGQgPSAwOyBkIDwgbC5sZW5ndGg7IGQrKykKCQkJCQkJCQkJaWYgKG8obFtkXSkubGVuZ3RoID4gMCAmJiAociA9IG8obFtkXSkuZXEoMCkpKSB7CgkJCQkJCQkJCQkwICE9IGEuc2hvd19wcm9tbyAmJiAibHV5b3UiID09IGEuYnR5cGUgJiYgIjM2MGJ1eS1yZSIgIT09IGEuc2l0ZSAmJiAodGhpcy5pbnNlcnRQcm9tbyhyKSwgdGhpcy5pbnNlcnRQcm9tb0FjdGl2ZShyKSksIDAgIT0gYS5zaG93X3dpc2hsaXN0ICYmIHRoaXMuaW5zZXJ0KHIsIG4pLCB0aGlzLmluc2VydERvdWJhbihsW2RdKTsKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCX0KCQkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl0KCJjbGljazptaW5pOnByb21vLWFkIiksIGkubG9nKCLltYzlhaXkv4PplIDlub/lkYrngrnlh7siKQoJCQkJCQkJCX0pLCBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQkJCQl9KSwgInN1bmluZyIgPT0gYS5zaXRlICYmIG8oIi5wcm9pbmZvLW1haW4iKS5jc3MoImhlaWdodCIsICJhdXRvIikKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0sCgkJCQkJYXV0b0FkZEZhdm9yOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIG4gPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpOwoJCQkJCQluLmluZGV4T2YoYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yX3VuaXF1ZSIpID4gLTEgJiYgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4iKS5jbGljayhmdW5jdGlvbihuKSB7CgkJCQkJCQluLnByZXZlbnREZWZhdWx0KCksIHQoIm1pbmktZmF2b3ItYnRuLWNsaWNrIiksIGkubG9nKCJtaW5pLWZhdm9yLWJ0bi1jbGljayIpLCBlLnRvZ2dsZV9mYXZvcigpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlpbnNlcnRQcm9tbzogZnVuY3Rpb24oZSkgewoJCQkJCQlvKGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSkubGVuZ3RoID4gMCB8fCBvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dCIKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlpbnNlcnRQcm9tb0FjdGl2ZTogZnVuY3Rpb24oZSkgewoJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZV8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSkubGVuZ3RoID4gMCB8fCBvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZV8iICsgKGEuaHJlZi5pbmRleE9mKCJ0bWFsbCIpID49IDAgPyAidG1hbGwiIDogYS5zaXRlKSwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiX3Byb21vX2FjdGl2ZSIKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlpbnNlcnREb3ViYW46IGZ1bmN0aW9uKGUpIHsKCQkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5sZW5ndGggPiAwIHx8IChvKGUpLmVxKDApLmFmdGVyKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX2RpdiIKCQkJCQkJfSkpLCAieWloYW9kaWFuIiA9PSBhLnNpdGUgJiYgbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5wcmV2KCkuZmluZCgiLmNvbXBhcmVfY29uIikuY3NzKCJ6LWluZGV4IiwgIjEiKSkKCQkJCQl9LAoJCQkJCWluc2VydDogZnVuY3Rpb24oZSwgcykgewoJCQkJCQlhLnRpbWVyNyA9IG51bGw7CgkJCQkJCXZhciBsID0gdGhpcywKCQkJCQkJCWQgPSAiIyIgKyBhLndpc2hkb20yLAoJCQkJCQkJcCA9IG4oMTIyKTsKCQkJCQkJaWYgKCEobyhkKS5sZW5ndGggPiAwKSkgewoJCQkJCQkJaWYgKCJsdXlvdSIgPT0gYS5idHlwZSkgdmFyIGggPSBuKDEyMyksCgkJCQkJCQkJdSA9IHIuY29tcGlsZShoKSh7CgkJCQkJCQkJCW5ld19leHRlbnNpb246IGEubmV3X2V4dGVuc2lvbiwKCQkJCQkJCQkJZXh0TmFtZTogYS5leHROYW1lLAoJCQkJCQkJCQlleHRCcmFuZDogYS5leHRCcmFuZCwKCQkJCQkJCQkJbWluaWRvbTogYS53aXNoZG9tMiwKCQkJCQkJCQkJYmpkX3NpdGU6IGEuc2l0ZQoJCQkJCQkJCX0pOwoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJdmFyIG0gPSAiIjsKCQkJCQkJCQkoYS5JRTcgfHwgYS5JRTgpICYmIChtID0gImllaGFjayIpOwoJCQkJCQkJCXZhciBoID0gbigxMjQpLAoJCQkJCQkJCQlmID0gbigxMjUpLAoJCQkJCQkJCQlnID0gZi5nZXRVcmwoKSwKCQkJCQkJCQkJXyA9IGEuc2VydmVyICsgIi9icndleHQvc2V0dGluZz9mcm9tPSIgKyBwKGEuZnJvbV9kZXZpY2UpICsgIiZidHlwZT0iICsgKGEuYnR5cGUgPyBhLmJ0eXBlIDogIiIpLAoJCQkJCQkJCQl4ID0gImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgKyAiJmZyb21fZGV2aWNlPSIgKyBhLmZyb21fZGV2aWNlICsgIiZidHlwZT0iICsgKGEuYnR5cGUgPyBhLmJ0eXBlIDogIiIpLAoJCQkJCQkJCQl1ID0gci5jb21waWxlKGgpKHsKCQkJCQkJCQkJCXVybDogZywKCQkJCQkJCQkJCXNldFVybDogXywKCQkJCQkJCQkJCWllaGFjazogbSwKCQkJCQkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyLAoJCQkJCQkJCQkJYWxpU2l0ZTogYS5hbGlTaXRlLAoJCQkJCQkJCQkJZmVlZGJhY2tVcmw6IHgsCgkJCQkJCQkJCQltaW5pZG9tOiBhLndpc2hkb20yLAoJCQkJCQkJCQkJY19zZXJ2ZXI6IGEuY19zZXJ2ZXIsCgkJCQkJCQkJCQl3aXNoZG9tOiBhLndpc2hkb20KCQkJCQkJCQkJfSkKCQkJCQkJCX0gaWYgKGUuYWZ0ZXIodSksIG4oMTI4KS5yZW5kZXJXaXNobGlzdEFkKHMuY2xhc3NfaWQsIHMuY29yZXdvcmQpLCAibHV5b3UiICE9IGEuYnR5cGUgJiYgKG4oMTMxKS5pbml0KCksIGEuc2F2ZV9kcF9xdWVyeS5vdGhlcl9jbGllbnQgJiYgIjM2MGJ1eSIgPT09IGEuc2l0ZSAmJiBuKDEzMykuaW5pdChhLnNhdmVfZHBfcXVlcnkub3RoZXJfY2xpZW50LCBzLm5vd19kcF9pZCksIGwucmVuZGVyTWluaUZhdm9yKCkpLCAibHV5b3UiICE9IGEuYnR5cGUpIHsKCQkJCQkJCQlsLmNoZWNrX2Zhdm9yKHMuZHBfaWQpOwoJCQkJCQkJCXZhciB3ID0gbygiLiIgKyBhLmV4dEJyYW5kICsgIl9iZ19kaXYiKS5uZXh0KCk7CgkJCQkJCQkJIm5vbmUiICE9IG8odykuY3NzKCJkaXNwbGF5IikgJiYgbygiLiIgKyBhLmV4dEJyYW5kICsgIl9iZ19kaXYiKS5jc3MoImJhY2tncm91bmQtY29sb3IiLCBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX2JnX2RpdiIpLm5leHQoKS5jc3MoImJhY2tncm91bmQtY29sb3IiKSkKCQkJCQkJCX0KCQkJCQkJCWlmIChvKCIjdHJlbmRfZGV0YWlsX3JlbWFpbmVkX21lIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIHNwYW4iKS5hZGRDbGFzcygibGlua2VkIiksIGUucHJldmVudERlZmF1bHQoKSwgbC5hZGRNaW5pKCkKCQkJCQkJCX0pLCAibHV5b3UiICE9IGEuYnR5cGUpIHsKCQkJCQkJCQl2YXIgdiA9ICJjbGljayI7CgkJCQkJCQkJYS5lbWFpbCAmJiAodiA9ICJtb3VzZWVudGVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikub24odiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4gZW0iKS5hZGRDbGFzcygiY29sbGVjdF9ob3ZlciIpLCBvKCJodG1sIikuYWRkQ2xhc3MoImJqZC1mYXZvci1zaG93IiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5zaG93KCkKCQkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQljID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuIikucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4gZW0iKS5yZW1vdmVDbGFzcygiY29sbGVjdF9ob3ZlciIpLCBvKCJodG1sIikucmVtb3ZlQ2xhc3MoImJqZC1mYXZvci1zaG93IiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oaWRlKCkKCQkJCQkJCQkJfSwgMTAwKQoJCQkJCQkJCX0pLCAoYS5JRTcgfHwgYS5JRTgpICYmIG8oZCkub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJCQkJbyh0aGlzKS5hZGRDbGFzcygiaWVoYWNrIikKCQkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKHRoaXMpLnJlbW92ZUNsYXNzKCJpZWhhY2siKQoJCQkJCQkJCX0pCgkJCQkJCQl9CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dlYnNpdGVfaWNvbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCXQoImNsaWNrOm1haW46bG9nbyIpLCBpLmxvZygi5bWM5YWl5q+U5Lu35Yy6bG9nb+eCueWHuyIpCgkJCQkJCQl9KTsKCQkJCQkJCXZhciBiID0gIm1vdXNlbGVhdmUiLAoJCQkJCQkJCXkgPSAibW91c2VlbnRlciI7CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuYmluZCh5LCBmdW5jdGlvbigpIHsKCQkJCQkJCQlyZXR1cm4gYS5zaG93TWluaVRyZW5kID8gKGNsZWFyVGltZW91dChhLnRpbWVyNCksIG8oZCkuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfaGlzdG9yeV9idG4iKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9ob3ZlciIpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLnNob3coKSwgdCgiaG92ZXI6bWluaTpwcmljZXRyZW5kIiksIHZvaWQgaS5sb2coIuW1jOWFpeS7t+agvOi2i+WKv+m8oOagh+aCrOa1riIpKSA6ICExCgkJCQkJCQl9KS5iaW5kKGIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNCksIGEudGltZXI0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuaGlkZSgpLCAibHV5b3UiID09IGEuYnR5cGUgJiYgbygiLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXYiKS5jc3MoImhlaWdodCIsICIzMHB4IikKCQkJCQkJCQl9LCAxMDApCgkJCQkJCQl9KS5iaW5kKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNCksICJibG9jayIgPT0gbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5jc3MoImRpc3BsYXkiKSA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbyhkKS5yZW1vdmVDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksICJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmNzcygiaGVpZ2h0IiwgIjMwcHgiKSkgOiAobyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV9oaXN0b3J5X2J0biIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3RyZW5kX2hvdmVyIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuc2hvdygpKQoJCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikuYmluZCh5LCBmdW5jdGlvbigpIHsKCQkJCQkJCQljbGVhclRpbWVvdXQoYS50aW1lcjQpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5zaG93KCkKCQkJCQkJCX0pLmJpbmQoYiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGEudGltZXI0KSwgYS50aW1lcjQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfaG92ZXIiKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWwiKS5oaWRlKCksICJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmNzcygiaGVpZ2h0IiwgIjMwcHgiKQoJCQkJCQkJCX0sIDMwMCkKCQkJCQkJCX0pLCBvKCIjZ3dkX21pbmlfY29tcGFyZSIpLm9uKHksIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLnNob3coKSwgbyhkKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiI2d3ZF9taW5pX2NvbXBhcmUiKS5hZGRDbGFzcygiZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIiKQoJCQkJCQkJfSkub24oYiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJYS50aW1lcjYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlvKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2NvbXBhcmUiKS5oaWRlKCksIG8oIiNnd2RfbWluaV9jb21wYXJlIikucmVtb3ZlQ2xhc3MoImd3ZF93aXNobGlzdF9jb21wYXJlX2hvdmVyIiksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCQl9LCAxMDApCgkJCQkJCQl9KSwgbygiI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIikub24oeSwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGEudGltZXI2KQoJCQkJCQkJfSksIG8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLm9uKGIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSIpLmhpZGUoKSwgbyhkKS5yZW1vdmVDbGFzcyhhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXZfaG92ZXIiKSwgbygiI2d3ZF9taW5pX2NvbXBhcmUiKS5yZW1vdmVDbGFzcygiZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIiKQoJCQkJCQkJfSksICJsdXlvdSIgIT0gYS5idHlwZSAmJiAobygiIyIgKyBhLmV4dEJyYW5kICsgIl93ZWJzaXRlX2ljb24iKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCW8oIiN3aXNobGlzdC1zZXR0aW5nIikuc2hvdygpLCBvKGQpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2Rpdl9ob3ZlciIpCgkJCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWEudGltZXI3ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJbygiI3dpc2hsaXN0LXNldHRpbmciKS5oaWRlKCksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCQl9LCAyMDApCgkJCQkJCQl9KSwgbygiI3dpc2hsaXN0LXNldHRpbmciKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWNsZWFyVGltZW91dChhLnRpbWVyNykKCQkJCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJbygiI3dpc2hsaXN0LXNldHRpbmciKS5oaWRlKCksIG8oZCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICJfd2lzaGxpc3RfZGl2X2hvdmVyIikKCQkJCQkJCX0pKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlnZXRSZW1pbmRTdHlsZTogZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoYS5yZW1pbmRJbmZvKSByZXR1cm4gdm9pZCBlKGEucmVtaW5kSW5mbyk7CgkJCQkJCWlmIChoKSByZXR1cm4gdm9pZCBwLnB1c2goZSk7CgkJCQkJCWggPSAhMDsKCQkJCQkJdmFyIHQgPSBhLm5vd19kcF9pZDsgLSAxID09PSB0LmluZGV4T2YoIi0iKSAmJiAodCA9IHQgKyAiLSIgKyBhLnNpdGVfaWQpOwoJCQkJCQl2YXIgbiA9IGEuY19zZXJ2ZXIgKyAiL2FwaS9yZW1pbmRfc2V0dGluZz9hY3Rpb249Z2V0JmVtYWlsPSIgKyBhLmVtYWlsICsgIiZkcF9pZD0iICsgdDsKCQkJCQkJbC5nZXQobikuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCQlpZiAoYS5yZW1pbmRJbmZvID0gdCwgZSh0KSwgcC5sZW5ndGggPiAwKQoJCQkJCQkJCWZvciAodmFyIG4gPSAwOyBuIDwgcC5sZW5ndGg7IG4rKykgcFtuXSh0KQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJcmVuZGVyTWluaUZhdm9yOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJcyA9ICIjIiArIGEud2lzaGRvbTI7CgkJCQkJCWlmICghYS5JRTcgJiYgIWEuSUU4KSB7CgkJCQkJCQl2YXIgbCA9IHZvaWQgMCwKCQkJCQkJCQljID0gdm9pZCAwLAoJCQkJCQkJCXAgPSB2b2lkIDAsCgkJCQkJCQkJaCA9IGEuZW1haWwsCgkJCQkJCQkJdSA9IGEuc2F2ZV9kcF9xdWVyeTsKCQkJCQkJCWlmICh1Lm5vdy5ub3dfZHBfaWQpIHsKCQkJCQkJCQl2YXIgbSA9IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSwKCQkJCQkJCQkJZiA9IHUubm93LnByaWNlIHx8IGEuZHAucHJpY2U7CgkJCQkJCQkJYS5hbGlTaXRlICYmIChmID0gYS5kcC5wcmljZSk7CgkJCQkJCQkJdmFyIGcgPSB1LmIyYy5taW5fcHJpY2UgfHwgZjsKCQkJCQkJCQlmID0gTnVtYmVyKGYudG9TdHJpbmcoKS5yZXBsYWNlKCIsIiwgIiIpKSwgZyA9IE51bWJlcihnLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsICIiKSksIHUuYjJjLnByb2R1Y3QgJiYgKHAgPSB1LmIyYy5wcm9kdWN0WzBdLnVybCwgdCgiYWxsc2l0ZS1sb3dwcmktc2hvdyIpLCBpLmxvZygiYWxsc2l0ZS1sb3dwcmktc2hvdyIpKSwgZC5ub3dwcmljZSA9IGY7CgkJCQkJCQkJdmFyIF8gPSBuKDEzNCk7CgkJCQkJCQkJaWYgKGEuZW1haWwpIHRoaXMuZ2V0UmVtaW5kU3R5bGUoZnVuY3Rpb24odCkgewoJCQkJCQkJCQl0Lmhhc19yZW1pbmRfdHlwZSAmJiAobCA9ICEwKSwgdC5pc19jb2xsZWN0ZWQgJiYgKGQuaXNfY29sbGVjdGVkID0gdC5pc19jb2xsZWN0ZWQsICIxIiA9PT0gdC5ub3RpZnlfc2l0ZSA/IGYgPSB0LnJlbWluZF9wcmljZSA6IGcgPSB0LnJlbWluZF9wcmljZSksIGQubm90aWZ5X3NpdGUgPSB0Lm5vdGlmeV9zaXRlIHx8ICIxIiwgYyA9IHQucmVtaW5kX3R5cGUgfHwgIjAiLCBhLmVtYWlsLmluZGV4T2YoYS5leHROYW1lICsgIi5jb20iKSA+IC0xICYmIChoID0gIiIpOwoJCQkJCQkJCQl2YXIgbiA9IHIuY29tcGlsZShfKSh7CgkJCQkJCQkJCQljaG9vc2VkOiBsLAoJCQkJCQkJCQkJZW1haWw6IGEuZW1haWwsCgkJCQkJCQkJCQllbWFpbHZhbHVlOiBoLAoJCQkJCQkJCQkJdXJsOiBtLAoJCQkJCQkJCQkJbG93ZXN0VXJsOiBwLAoJCQkJCQkJCQkJbm90aWZ5X3NpdGU6IGQubm90aWZ5X3NpdGUsCgkJCQkJCQkJCQlub3dwcmljZTogZiwKCQkJCQkJCQkJCWFsbHByaWNlOiBnLAoJCQkJCQkJCQkJcmVtaW5kX3R5cGU6IGMsCgkJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUKCQkJCQkJCQkJfSk7CgkJCQkJCQkJCW8ocykuYXBwZW5kKG4pLCBlLm1pbmlGYXZvckV2ZW50KCkKCQkJCQkJCQl9KTsKCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJdmFyIHggPSByLmNvbXBpbGUoXykoewoJCQkJCQkJCQkJY2hvb3NlZDogbCwKCQkJCQkJCQkJCWVtYWlsOiBhLmVtYWlsLAoJCQkJCQkJCQkJZW1haWx2YWx1ZTogaCwKCQkJCQkJCQkJCXVybDogbSwKCQkJCQkJCQkJCWxvd2VzdFVybDogcCwKCQkJCQkJCQkJCW5vdGlmeV9zaXRlOiBkLm5vdGlmeV9zaXRlLAoJCQkJCQkJCQkJbm93cHJpY2U6IGYsCgkJCQkJCQkJCQlhbGxwcmljZTogZywKCQkJCQkJCQkJCXJlbWluZF90eXBlOiBjLAoJCQkJCQkJCQkJZXh0TmFtZTogYS5leHROYW1lCgkJCQkJCQkJCX0pOwoJCQkJCQkJCQlvKHMpLmFwcGVuZCh4KSwgdGhpcy5taW5pRmF2b3JFdmVudCgpCgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSwKCQkJCQltaW5pRmF2b3JFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpcywKCQkJCQkJCXIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJdmFyIG4gPSBlLAoJCQkJCQkJCQlpID0gdCB8fCAiIiwKCQkJCQkJCQkJbyA9IGEuY19zZXJ2ZXIgKyAiL2FwaS9yZW1pbmRfc2V0dGluZz9hY3Rpb249c2V0JmVtYWlsPSIgKyBhLmVtYWlsICsgIiZzZXR0aW5nX3R5cGU9IiArIG4gKyAiJnJlbWluZF9lbWFpbD0iICsgaTsKCQkJCQkJCQlsLmdldChvKQoJCQkJCQkJfTsKCQkJCQkJbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQoYykKCQkJCQkJfSksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG4iKS5yZW1vdmVDbGFzcygibXNob3ZlciIpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0biBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0X2hvdmVyIiksIG8oImh0bWwiKS5yZW1vdmVDbGFzcygiYmpkLWZhdm9yLXNob3ciKSwgbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLmhpZGUoKQoJCQkJCQl9KSwgbygiLmppYW5namlhLWxlZnQgLnNlbGVjdC1pdGVtIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQlvKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5zZWxlY3QtaXRlbSIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCBvKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpCgkJCQkJCX0pLCBvKCIjZWRpdF9yZV9zdHlsZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiI2JqZF9taW5pZmF2b3JfY29udGVudCIpLnJlbW92ZUNsYXNzKCJiamRfY2hvb3NlZCIpCgkJCQkJCX0pLCBvKCIjbG9naW5DbGlja0J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIHQgPSBvKCIjYmpkX21pbmlmYXZvcl9jb250ZW50ICN1c2VybmFtZSIpLnZhbCgpLAoJCQkJCQkJCWkgPSBvKCIjYmpkX21pbmlmYXZvcl9jb250ZW50ICNwYXNzd29yZCIpLnZhbCgpOwoJCQkJCQkJcmV0dXJuIHQgJiYgaSA/IChuKDEzNSkubG9naW5SZW5kZXJUb3AoKSwgdm9pZCBlLnVzZXJMb2dpbih0LCBpKSkgOiB2b2lkIG8oIiNsb2dpbl9yZW1pbmRfdGxlIikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpCgkJCQkJCX0pLCBvKCIjc3ViYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgbiA9IG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oYXNDbGFzcygiYmpkX2Nob29zZWQiKTsKCQkJCQkJCWlmICghbikgewoJCQkJCQkJCXZhciBhID0gdm9pZCAwLAoJCQkJCQkJCQlzID0gbygiLmpqLXN0eWxlIC5zZWxlY3QtaXRlbS5zZWxlY3RlZCIpLmF0dHIoImRhdGEtdHlwZSIpOwoJCQkJCQkJCWlmICgiMSIgPT09IHMgJiYgKGEgPSBvKCIuamotc3R5bGUgLnJlLW1haWwiKS52YWwoKSwgIWEpKSByZXR1cm4gdm9pZCBvKCIjZXJyb3JfcmVtaW5kX3RsZSIpLnRleHQoIuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgCIpLmNzcygiZGlzcGxheSIsICJibG9jayIpLmZhZGVPdXQoNWUzKTsKCQkJCQkJCQlyKHMsIGEpCgkJCQkJCQl9CgkJCQkJCQl2YXIgbCA9IG8oIi5qai1yZW1pbmQgLnNlbGVjdC1pdGVtLnNlbGVjdGVkIiksCgkJCQkJCQkJYyA9IGwuYXR0cigiZGF0YS10eXBlIiksCgkJCQkJCQkJcCA9IGwucGFyZW50KCkuZmluZCgiaW5wdXQiKS52YWwoKTsKCQkJCQkJCXJldHVybiAiIiA9PT0gcCA/IHZvaWQgbygiI2Vycm9yX3JlbWluZF90bGUiKS50ZXh0KCLor7fovpPlhaXllYblk4HmnJ/mnJvku7fmoLwiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykgOiBOdW1iZXIocCkgPD0gMCB8fCAhcC5tYXRjaCgvKD86XlxkKyR8XlxkK1wuXGR7MSwyfSQpLykgPyB2b2lkIG8oIiNlcnJvcl9yZW1pbmRfdGxlIikudGV4dCgi6K+36L6T5YWl5q2j56Gu5qC85byP55qE5Lu35qC8IikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpIDogTnVtYmVyKHApID4gZC5ub3dwcmljZSAmJiAiMSIgPT09IGMgPyB2b2lkIG8oIiNlcnJvcl9yZW1pbmRfdGxlIikudGV4dCgi5Lu35qC85LiN6IO96auY5LqO5b2T5YmN5ZWG5ZOB5Lu35qC8IikuY3NzKCJkaXNwbGF5IiwgImJsb2NrIikuZmFkZU91dCg1ZTMpIDogKHQoIm1pbmktZmF2b3ItZGV0YWlsLWJ0bi1jbGljayIpLCBpLmxvZygibWluaS1mYXZvci1kZXRhaWwtYnRuLWNsaWNrIiksIGUuYWRkX2Zhdm9yKGMsIHApLCB2b2lkIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5oaWRlKCkuYWRkQ2xhc3MoImJqZF9jaG9vc2VkIikpCgkJCQkJCX0pLCBvKCIuamotcmVtaW5kLWxvZ28iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCXQoImFsbHNpdGUtbG93cHJpLWNsaWNrIiksIGkubG9nKCJhbGxzaXRlLWxvd3ByaS1jbGljayIpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQl1c2VyTG9naW46IGZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkJCQkJdmFyIGkgPSB0aGlzOwoJCQkJCQlvLmFqYXgoewoJCQkJCQkJdHlwZTogInBvc3QiLAoJCQkJCQkJdXJsOiAiaHR0cHM6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL3VzZXIvYWpfbG9naW4iLAoJCQkJCQkJeGhyRmllbGRzOiB7CgkJCQkJCQkJd2l0aENyZWRlbnRpYWxzOiAhMAoJCQkJCQkJfSwKCQkJCQkJCWNyb3NzRG9tYWluOiAhMCwKCQkJCQkJCWRhdGE6IHsKCQkJCQkJCQllbWFpbDogZSwKCQkJCQkJCQlwYXNzd29yZDogdCwKCQkJCQkJCQl0OiAiY2hlY2siLAoJCQkJCQkJCWhvc3Q6IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QKCQkJCQkJCX0sCgkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJcmV0dXJuICIxIiAhPT0gdCA/IHZvaWQgbygiI2xvZ2luX3JlbWluZF90bGUiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykgOiAoYS5lbWFpbCA9IGUsIG4gJiYgbigpLCBvKCIuYmpkLWxvZ2luLWJveCwgLmxvZ2luLWNvbnRlbnQiKS5oaWRlKCksIG8oIi5iamQtamlhbmdqaWEtcmUiKS5zaG93KCksIGkuY2hlY2tfZmF2b3IoYS5ub3dfZHBfaWQpLCBpLmdldFJlbWluZFN0eWxlKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJZSAmJiAoZC5pc19jb2xsZWN0ZWQgPSBlLmlzX2NvbGxlY3RlZCwgZS5oYXNfcmVtaW5kX3R5cGUgPyAobygiLnNlbGVjdC1pdGVtIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIG8oIiNiamRfbWluaWZhdm9yX2NvbnRlbnQiKS5hZGRDbGFzcygiYmpkX2Nob29zZWQiKSwgbygiI2Zhdm9yX2JveCIpLmFkZENsYXNzKCJmYXZvcl9jaG9vc2VkIiksIG8oJy5qai1zdHlsZSAuc2VsZWN0LWl0ZW1bZGF0YS10eXBlPSInICsgZS5yZW1pbmRfdHlwZSArICciXScpLmFkZENsYXNzKCJzZWxlY3RlZCIpKSA6IG8oJy5qai1zdHlsZSAuc2VsZWN0LWl0ZW1bZGF0YS10eXBlPSIxIl0nKS5hZGRDbGFzcygic2VsZWN0ZWQiKSwgZS5ub3RpZnlfc2l0ZSA9IGUubm90aWZ5X3NpdGUgfHwgIjEiLCBvKCcuamotcmVtaW5kIC5zZWxlY3QtaXRlbVtkYXRhLXR5cGU9IicgKyBlLm5vdGlmeV9zaXRlICsgJyJdJykuYWRkQ2xhc3MoInNlbGVjdGVkIiksIGUucmVtaW5kX3ByaWNlICYmIG8oJy5qai1yZW1pbmQgLnNlbGVjdC1pdGVtW2RhdGEtdHlwZT0iJyArIGUubm90aWZ5X3NpdGUgKyAnIl0nKS5wYXJlbnQoKS5maW5kKCJpbnB1dCIpLnZhbChlLnJlbWluZF9wcmljZSksIG8oIi5qai1zdHlsZSAucmUtbWFpbCIpLnZhbChhLmVtYWlsKSkKCQkJCQkJCQl9KSwgdm9pZCAwKQoJCQkJCQkJfQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYWRkTWluaTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gYS5jb2xsZWN0SW5mbzsKCQkJCQkJcmV0dXJuIGUucHJpY2UgPSBhLnNhdmVfZHBfcXVlcnkubm93LnByaWNlLCAiIiA9PSBlLmRwX2lkID8gKG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaaguS4jeaUr+aMgSIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmmoLkuI3mlK/mjIEiKSwgdm9pZCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpKSA6IChvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IHNwYW4iKS50ZXh0KCLmraPlnKjmt7vliqAiKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5q2j5Zyo5re75YqgIiksICIiID09IGUudGl0bGUgPyBlLnRpdGxlID0gbygidGl0bGUiKS50ZXh0KCkgOiAoIiIgPT0gZS5wcmljZSB8fCBwYXJzZUZsb2F0KGUucHJpY2UpICE9IGUucHJpY2UpICYmIChlLnByaWNlID0gMCksIGUucHJpY2UgfHwgKGUucHJpY2UgPSBhLmRwLnByaWNlKSwgdm9pZCBsLmdldChhLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2FkZD9kcF9pZD0iICsgZS5kcF9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwgfHwgYS5kcC51cmwpICsgIiZpbWc9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLmltZyB8fCBhLmRwLmltZykgKyAiJnRpdGxlPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS50aXRsZSB8fCBhLmRwLm5hbWUpICsgIiZwcmljZT0iICsgZS5wcmljZSArICImc2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIGEuZHAuY2F0X2lkKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWlmICgxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwKSB7CgkJCQkJCQkJdmFyIHQgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpOwoJCQkJCQkJCXQgKz0gdC5pbmRleE9mKCI/IikgPiAtMSA/ICImIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvcl91bmlxdWU9dHJ1ZSIgOiAiPyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3JfdW5pcXVlPXRydWUiLCB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGEuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh0KTsKCQkJCQkJCX0gZWxzZSAxID09IGUuY29kZSA/ICgibHV5b3UiID09IGEuYnR5cGUgJiYgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLmF0dHIoImNsYXNzIiwgImNvbGxlY3QtbWFpbGluLWljb24iKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIikpIDogMiA9PSBlLmNvZGUgJiYgKCJsdXlvdSIgPT0gYS5idHlwZSAmJiBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYXR0cigiY2xhc3MiLCAiY29sbGVjdC1tYWlsaW4taWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IHNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaUtuiXj+Wksei0pSIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmlLbol4/lpLHotKUiKQoJCQkJCQl9KSkKCQkJCQl9LAoJCQkJCWZhdm9yOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWlmIChvKGUpKSB7CgkJCQkJCQl2YXIgaSA9IHRoaXMsCgkJCQkJCQkJciA9IG8oIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1mYXZvci1tb2R1bGUgIiArIGEuZXh0QnJhbmQgKyAiLWNsb3NlLW1vZHVsZSIKCQkJCQkJCQl9KS5tb3VzZWVudGVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpLmJvdHRvbV9saXN0X2Zhdm9yKCkKCQkJCQkJCQl9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfZmF2b3IiLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi10YWIgIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yIiwKCQkJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvbWluZS9jb2xsZWN0aW9uIiwKCQkJCQkJCQkJdGl0bGU6ICLmn6XnnIvmiJHnmoTlhajnvZHmlLbol4/lpLkiLAoJCQkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxlbT4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWZhdm9yLWJnIgoJCQkJCQkJCX0pKSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1kZXRhaWwgIiArIGEuZXh0QnJhbmQgKyAiLW5vdC1sb2dpbiAiICsgYS5leHRCcmFuZCArICItbG9hZGluZyIsCgkJCQkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwiCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZSAiICsgYS5leHRCcmFuZCArICItaGVpZ2h0LWF1dG8iCgkJCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsLXRpdGxlLWRlc2MiCgkJCQkJCQkJfSkuaHRtbCgn5oiR55qE5pS26JePKDxlbSBpZD0iJyArIGEuZXh0QnJhbmQgKyAnX2Zhdm9yX251bSI+MDwvZW0+5LiqKScpKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1ibHVlIiwKCQkJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvbWluZS9jb2xsZWN0aW9uIiwKCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCX0pLmh0bWwoIuafpeeci+WFqOmDqCIpKSkuYXBwZW5kKG8oIjxpbWc+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1sb2FkaW5nLWltZyIsCgkJCQkJCQkJCXNyYzogYS5zX3NlcnZlciArICIvaW1hZ2VzL2xvYWRpbmcuZ2lmIgoJCQkJCQkJCX0pKS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIiwKCQkJCQkJCQkJc3R5bGU6ICJwYWRkaW5nOiAxMnB4IDBweCA1cHg7IgoJCQkJCQkJCX0pLmh0bWwoJ+ivt+WFiCA8YSBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLWJsdWUiIGhyZWY9IicgKyBhLmNfc2VydmVyICsgIi91c2VyL2xvZ2luP2Zyb21fdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmKSArICciIHRhcmdldD0iX3NlbGYiPueZu+W9lTwvYT4g6LSt54mp5YWa77yM5oiW5L2/55So56ys5LiJ5pa56LSm5Y+377yaJykpLmFwcGVuZChvKCI8cD4iLCB7CgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWxvZ2luLWluZm8iLAoJCQkJCQkJCQlzdHlsZTogImhlaWdodDo3NXB4OyIKCQkJCQkJCQl9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiksCgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpbmEgIiArIGEuZXh0QnJhbmQgKyAiLWJnIiwKCQkJCQkJCQkJdGFyZ2V0OiAiX3NlbGYiCgkJCQkJCQkJfSkpLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQkJCWhyZWY6IGEuY19zZXJ2ZXIgKyAiL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhyZWYpLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1xcSAiICsgYS5leHRCcmFuZCArICItYmciLAoJCQkJCQkJCQl0YXJnZXQ6ICJfc2VsZiIKCQkJCQkJCQl9KSkpLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IiwKCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItaXRlbS1saXN0IgoJCQkJCQkJCX0pKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICItZmF2b3Itbm90aWNlIgoJCQkJCQkJCX0pLmhpZGUoKSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIsCgkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWFkZC1mYXZvciAiICsgYS5leHRCcmFuZCArICItYmciLAoJCQkJCQkJCQlocmVmOiAiamF2YXNjcmlwdDp2b2lkKDApIgoJCQkJCQkJCX0pLnRleHQoIuaUtuiXj+ivpeWVhuWTgSIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpLCBpLmFkZF9mYXZvcigpCgkJCQkJCQkJfSkpKTsKCQkJCQkJCXN3aXRjaCAodCkgewoJCQkJCQkJCWNhc2UgImFwcGVuZCI6CgkJCQkJCQkJCW8oZSkuYXBwZW5kKHIpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJhZnRlciI6CgkJCQkJCQkJCW8oZSkuYWZ0ZXIocik7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCW8oZSkuYWZ0ZXIocikKCQkJCQkJCX0KCQkJCQkJCXRyeSB7CgkJCQkJCQkJInRhb2JhbyIgPT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8IGEuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xID8gbi5jb2xsZWN0SW5mby5kcF9pZCAmJiBuLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCAmJiBuLmNvbGxlY3RJbmZvLmRwX2lkID09IG4uZXhhY3RfYXJyLnRhb2Jhb19zYW1lX2lkICYmIG4uY29sbGVjdEluZm8ucHJpY2UgJiYgcGFyc2VJbnQobi5jb2xsZWN0SW5mby5wcmljZSkgPiAwIHx8IG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikucmVtb3ZlKCkgOiBuLm5vdyAmJiAiIiA9PSBuLm5vdy5ub3dfZHBfaWQgJiYgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1hZGQtZmF2b3IiKS5yZW1vdmUoKQoJCQkJCQkJfSBjYXRjaCAocykgewoJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBzCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCWFkZF9mYXZvcjogZnVuY3Rpb24oZSwgdCkgewoJCQkJCQllID0gZSB8fCAiIiwgdCA9IHQgfHwgIiI7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBhLmNvbGxlY3RJbmZvOwoJCQkJCQlpZiAoaS5wcmljZSA9IGEuZHAub2xkUHJpY2UsIG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikudGV4dCgi5q2j5Zyo5pS26JePIiksICIiICE9IGkudGl0bGUgJiYgaS50aXRsZSA/ICgiIiA9PSBpLnByaWNlIHx8IHBhcnNlRmxvYXQoaS5wcmljZSkgIT0gaS5wcmljZSkgJiYgKGkucHJpY2UgPSAwKSA6IGkudGl0bGUgPSBhLmRwLm5hbWUgfHwgbygidGl0bGUiKS5odG1sKCksICIiID09IGkucHJpY2UgfHwgaS5wcmljZSA8PSAwKSB7CgkJCQkJCQl2YXIgciA9IHMuZ2V0UHJpY2VCZWZvcmVFeGNoYW5nZVJhdGUoYS5kcC5wcmljZSk7CgkJCQkJCQlpLnByaWNlID0gcgoJCQkJCQl9CgkJCQkJCXZhciBjID0gIjAiOwoJCQkJCQlkLmlzX2NvbGxlY3RlZCAmJiAoYyA9ICIxIiksICgiODMiID09IGEuc2l0ZV9pZCB8fCAiMTIzIiA9PT0gYS5zaXRlX2lkKSAmJiAoaS5kcF9pZCA9IGkuZHBfaWQgKyAiLSIgKyBhLnNpdGVfaWQpOwoJCQkJCQl2YXIgcCA9IGEuY19zZXJ2ZXIgKyAiL2NvbGxlY3QvYWpfYWRkP2RwX2lkPSIgKyBpLmRwX2lkICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChpLnVybCB8fCBsb2NhdGlvbi5ocmVmKSArICImaW1nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoaS5pbWcgfHwgYS5kcC5pbWcpICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGkudGl0bGUpICsgIiZwcmljZT0iICsgaS5wcmljZSArICImc2l0ZV9pZD0iICsgaS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIGEuZHAuY2F0X2lkICsgIiZub3RpZnlfc2l0ZT0iICsgZSArICImbm90aWZ5X3ByaWNlPSIgKyB0ICsgIiZpc19jb2xsZWN0ZWQ9IiArIGM7CgkJCQkJCWwuZ2V0KHApLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/or6XllYblk4EiKSwgMTAwID09IGUuY29kZSB8fCBlLmNvZGUgPD0gMCA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5lbXB0eSgpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIikuc2hvdygpKSA6IDEgPT0gZS5jb2RlID8gKGEuY29sbGVjdGlvbkNoYW5nZWQgPSAhMCwgbi5ib3R0b21fbGlzdF9mYXZvcigpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLnRleHQoIuaUtuiXj+aIkOWKnyIpLCBvKCIjIiArIGEuZXh0TmFtZSArICItdHJlbmQtZGV0YWlsIikuaGlkZSgpLCAibHV5b3UiID09IGEuYnR5cGUgPyAobygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0LW1haWxvdXQtaWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImNvbGxlY3QtbWFpbGluLWljb24iKSkgOiBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImFkZHN1Y2Nlc3MiKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksIG8oImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIikpIDogMiA9PSBlLmNvZGUgJiYgKG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikudGV4dCgi5bey5re75Yqg5o+Q6YaSIiksICJsdXlvdSIgPT0gYS5idHlwZSAmJiAobygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLnJlbW92ZUNsYXNzKCJjb2xsZWN0LW1haWxvdXQtaWNvbiIpLCBvKCJhLiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IGVtIikuYWRkQ2xhc3MoImNvbGxlY3QtbWFpbGluLWljb24iKSksIG8oImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuW3sua3u+WKoOaPkOmGkiIpLCBvKCJkaXYuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKSwgbygiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgbygiZGl2LiIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudW5iaW5kKCJjbGljayIpLCBhLmJyb3dzZXIuYWdlbnQgJiYgInRtYWxsIiA9PSBhLnNpdGUgJiYgbi5ib3R0b21fbGlzdF9mYXZvcigpKQoJCQkJCQl9KS5mYWlsKGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYm90dG9tX2xpc3RfZmF2b3I6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJCQl0ID0gbigxMjApLAoJCQkJCQkJaSA9IHQuc2hvd0xpc3RQcmljZSwKCQkJCQkJCXMgPSBuKDEzNyk7CgkJCQkJCShhLmNvbGxlY3Rpb25DaGFuZ2VkIHx8ICJ0bWFsbCIgPT0gYS5zaXRlIHx8ICFhLmJyb3dzZXIuYWdlbnQpICYmIChhLmNvbGxlY3Rpb25DaGFuZ2VkID0gITEsIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9hZGluZy1pbWciKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpLCBsLmdldChhLmNfc2VydmVyICsgIi9hcHAvY29sbGVjdGlvbj8iKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCWlmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCAuIiArIGEuZXh0QnJhbmQgKyAiLWxvYWRpbmctaW1nIikuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpLCAxID09IHQuZXJyb3JfY29kZSkKCQkJCQkJCQlpZiAobygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1kZXRhaWwgLiIgKyBhLmV4dEJyYW5kICsgIi1sb2dpbi1pbmZvIikuaGlkZSgpLCAiIiA9PSBhLmNvbGxlY3RJbmZvLmRwX2lkID8gbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCkgOiBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2FkZF9mYXZvciIpLnNob3coKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5lbXB0eSgpLnNob3coKSwgdC5wcm9kdWN0cy5sZW5ndGggPiAwKSB7CgkJCQkJCQkJCWZvciAodmFyIG4gPSAwOyAzID4gbiAmJiBuIDwgdC5wcm9kdWN0cy5sZW5ndGg7IG4rKykgewoJCQkJCQkJCQkJdmFyIGwgPSB0LnByb2R1Y3RzW25dOwoJCQkJCQkJCQkJbC5uZXdQcmljZSA9IGkobC5ub3dfcHJpY2UsIGwuZHBfaWQpLCAi5pqC5pe257y66LSnIiAhPSBsLm5ld1ByaWNlICYmIChsLmhhc3ByaWNlID0gITApCgkJCQkJCQkJCX0KCQkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QiKS5hcHBlbmQoci5jb21waWxlKHMpKHsKCQkJCQkJCQkJCWRhdGE6IHQucHJvZHVjdHMuc2xpY2UoMCwgMyksCgkJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUsCgkJCQkJCQkJCQlleHRCcmFuZDogYS5leHRCcmFuZAoJCQkJCQkJCQl9KSksIG8oIi4iICsgYS5leHRCcmFuZCArICItZGVsIikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQllLmJvdHRvbV9kZWxfZmF2b3Iobyh0aGlzKS5hdHRyKCJkcF9pZCIpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQkJCQl9KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9udW0iKS50ZXh0KHQudG90YWxfY250KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9pdGVtX2xpc3QgaW1nIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQkJCXZhciBlID0gbyh0aGlzKTsKCQkJCQkJCQkJCWUuYXR0cigiZGF0YS1vcmlnaW5hbCIpICE9IGUuYXR0cigic3JjIikgJiYgYS5jaGVja0ltYWdlKGUuYXR0cigiZGF0YS1vcmlnaW5hbCIpLCBlLCA5MCwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQkJZS5oZWlnaHQoKSA8IDYwICYmIGUuY3NzKCJtYXJnaW5Ub3AiLCAzMCAtIGUuaGVpZ2h0KCkgLyAyKQoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSkKCQkJCQkJCQl9IGVsc2UgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9mYXZvcl9udW0iKS50ZXh0KCIwIiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQkJc3R5bGU6ICJ0ZXh0LWluZGVudDogMmVtO2xpbmUtaGVpZ2h0OiAyMHB4O3BhZGRpbmc6IDI2cHghaW1wb3J0YW50OyIKCQkJCQkJCQl9KS50ZXh0KCLmgqjov5jmsqHmnInmlLbol4/llYblk4HjgILmlLbol4/lkI7lj6/ojrflvpfllYblk4HpmY3ku7cv5Yiw6LSn5o+Q6YaS77yM5biu5Yqp5oKo5Y+K5pe25YWl5omL5oOz6KaB55qE5ZWG5ZOB44CCIikpOwoJCQkJCQkJZWxzZSAwID09IHQuZXJyb3JfY29kZSAmJiAobygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuZW1wdHkoKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9naW4taW5mbyIpLnNob3coKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfZmF2b3JfaXRlbV9saXN0IikuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJCQlzdHlsZTogInRleHQtaW5kZW50OiAyZW07bGluZS1oZWlnaHQ6IDIwcHg7cGFkZGluZzogMjZweCFpbXBvcnRhbnQ7IgoJCQkJCQkJfSkuaHRtbCgn5Lqy77yM5LiN5aW95oSP5oCd5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM5ouJ5Y+W5pWw5o2u5aSx6LSl77yM54K55Ye7IDxhIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctYmx1ZSIgaHJlZj0iaHR0cDovL3d3dy4nICsgYS5leHROYW1lICsgJy5jb20vbWluZS9jb2xsZWN0aW9uP2Zyb209aGFvMTIzIiB0YXJnZXQ9Il9ibGFuayI+5pS26JeP5aS5PC9hPiDmn6XnnIvmm7TlpJouLicpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9hZGRfZmF2b3IiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3ItZGV0YWlsIC4iICsgYS5leHRCcmFuZCArICItbG9hZGluZy1pbWciKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIikKCQkJCQkJfSkpCgkJCQkJfSwKCQkJCQlib3R0b21fZGVsX2Zhdm9yOiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJbC5nZXQoYS5jX3NlcnZlciArICIvY29sbGVjdC9hal9kZWw/ZHBfaWQ9IiArIGUpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJMSA9PSBlLmNvZGUgPyAobygiIyIgKyBhLmV4dEJyYW5kICsgIi1mYXZvci1ub3RpY2UiKS5zaG93KCkudGV4dCgi5Yig6Zmk5oiQ5YqfIikuZmFkZU91dCgzZTMpLCBhLmNvbGxlY3Rpb25DaGFuZ2VkID0gITAsIHQuYm90dG9tX2xpc3RfZmF2b3IoKSkgOiAxMDAgPT0gZS5jb2RlID8gKG8oIiMiICsgYS5leHRCcmFuZCArICJfYWRkX2Zhdm9yIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX2Zhdm9yX2l0ZW1fbGlzdCIpLmVtcHR5KCkuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLWRldGFpbCAuIiArIGEuZXh0QnJhbmQgKyAiLWxvZ2luLWluZm8iKS5zaG93KCkpIDogYS5icm93c2VyLmFnZW50ICYmICJ0bWFsbCIgPT0gYS5zaXRlICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHQuYm90dG9tX2xpc3RfZmF2b3IoKSkKCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICItZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuWIoOmZpOaIkOWKnyIpLmZhZGVPdXQoM2UzKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJY2hlY2tfZmF2b3I6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGEuZW1haWwgJiYgZSkgewoJCQkJCQkJdmFyIHQgPSBhLmNfc2VydmVyICsgIi9icndleHQvY2hlY2tfY29sbGVjdGVkP2VtYWlsPSIgKyBhLmVtYWlsICsgIiZkcF9pZD0iICsgZTsKCQkJCQkJCWwuZ2V0KHQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJCWUgJiYgZS5tc2cgPT09ICEwICYmIG8oIiNnd2Rfd2lzaGxpc3RfYnRuIHNwYW4iKS50ZXh0KCLlt7Lmt7vliqDmj5DphpIiKQoJCQkJCQkJfSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJc2l0ZVBhdHRlcm46IHsKCQkJCQkJdm1hbGw6IFsiLnByby1yaWdodCAucHJvLW1ldGEtYXJlYSIsICIucHJvLXByaWNlIl0sCgkJCQkJCXlvdWdvdTogWyIjeWdwcmljZV9hcmVhIl0sCgkJCQkJCWdvbWU6IFsiLnByZHByaWNlIiwgIiNiYXJnYWluIiwgIi5wcmQtcHJpY2UtMSJdLAoJCQkJCQl2aXBzaG9wOiBbIi5waS1wcmljZS1ib3giXSwKCQkJCQkJIjM2MGJ1eSI6IFsiI3N1bW1hcnktcHJpY2UiLCAiLnN1bW1hcnktcHJpY2UiLCAiI3N1cnBsdXMtdGltZSIsICIjcHJvZHVjdC1pbnRybyAjcHJpY2UiXSwKCQkJCQkJIjM2MGJ1eS1ib29rIjogWyIjc3VtbWFyeS1wcmljZSJdLAoJCQkJCQkiMzYwYnV5LXJlIjogWyIuc2hvcF9pbnRybyAuc2hvcF9pbnRyb19hIl0sCgkJCQkJCXRhb2JhbzogWyIudG0tZmNzLXBhbmVsIiwgIiNKX1Byb21vUHJpY2UiLCAiI0pfU3RyUHJpY2VNb2RCb3giXSwKCQkJCQkJInRhb2Jhby05NTA5NSI6IFsiLnRtLWZjcy1wYW5lbCIsICIjSl9Qcm9tb1ByaWNlIiwgIiNKX1N0clByaWNlTW9kQm94Il0sCgkJCQkJCXRtYWxsOiBbIi50bS1mY3MtcGFuZWwiLCAiI0pfUHJvbW9QcmljZSIsICIjSl9TdHJQcmljZU1vZEJveCJdLAoJCQkJCQkiNTFidXkiOiBbJy54YmFzZV9pdGVtOmNvbnRhaW5zKCLkv4PplIDku7ciKScsICcueGJhc2VfaXRlbTpjb250YWlucygi5piT6L+F5Lu3IiknLCAiI2dvb2RzX2RldGFpbF9tYXRlIC5pdGVtX2ljc29uIiwgIi54YmFzZV9yb3cyIiwgIiNwcm9tb3RlUHJpY2UiLCAiI3Nob3BwcmljZSIsICIjcHJvbW90ZVByaWNlQXJlYSJdLAoJCQkJCQlzdW5pbmc6IFsiI25vUHJpY2UiLCAiI19tYWluX3ByaWNlIiwgIiNleGlzdFByaWNlIiwgIiNuZXRQcmljZUJveCIsICIjaGFzUHJpY2UiLCAiI3ByaWNlRG9tIl0sCgkJCQkJCWRhbmdkYW5nOiBbIi5kMTVfcHJpY2VfaW5mbyIsICIucHJpY2VfcWlhbmciLCAiLnByaWNlX2luZm8iLCAiLnNob3dfaW5mbyAuc2FsZT5wIiwgIi5zYWxlX2JveDpmaXJzdCJdLAoJCQkJCQl5aWhhb2RpYW46IFsiI3BvaW50X3Byb2R1Y3RQcmljZSIsICIucHJpY2VfYXJyYXkiLCAiI2N1cnJlbnRQcmljZUFyZWEiXSwKCQkJCQkJdmFuY2w6IFsiI3ByaWNlYXJlYSAuY3V4aWFvUHJpY2UiXSwKCQkJCQkJbmV3ZWdnOiBbIi5uZXdlZ2dQcmljZSIsICIuZ29vZHNfcHJpY2Vfbm93Il0sCgkJCQkJCWthb2xhOiBbIi5tLXByaWNlIl0KCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gdVtsb2NhdGlvbi5ob3N0XSB8fCAi77+lIiwKCQkJCQkJbiA9IGEuY29sbGVjdEluZm87CgkJCQkJaWYgKG4ucHJpY2UgPSBhLmRwLm9sZFByaWNlLCBuLmltZyA9IG4uaW1nIHx8IGEuZHAuaW1nIHx8ICIiLCAiIiA9PSBuLmltZykKCQkJCQkJZm9yICh2YXIgaSBpbiByKCJpbWciKSkgewoJCQkJCQkJdmFyIG8gPSByKCJpbWciKS5lcShpKSwKCQkJCQkJCQlzID0gcGFyc2VJbnQocihvKS53aWR0aCgpKSwKCQkJCQkJCQlsID0gcGFyc2VJbnQocihvKS5oZWlnaHQoKSk7CgkJCQkJCQlpZiAocyA+PSAyMDAgJiYgODAwID49IHMgJiYgbCA+PSAyMDAgJiYgODAwID49IGwgJiYgcyAvIGwgPj0gLjUgJiYgMS41ID49IHMgLyBsKSB7CgkJCQkJCQkJbi5pbWcgPSByKG8pLmF0dHIoInNyYyIpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQlpZiAobi50aXRsZSB8fCAobi50aXRsZSA9IGEuZHAubmFtZSksIG4uaW1nIHx8IChuLmltZyA9IGEuZHAuaW1nKSwgIiIgPT0gbi51cmwpIHsKCQkJCQkJdmFyIGMgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmOwoJCQkJCQluLnVybCA9IGMKCQkJCQl9CgkJCQkJaWYgKCIiID09IG4ucHJpY2UgfHwgbi5wcmljZSA8IDApIHsKCQkJCQkJdmFyIHAgPSBkLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKGEuZHAub2xkUHJpY2UpOwoJCQkJCQluLnByaWNlID0gcAoJCQkJCX0KCQkJCQlhLmNvbGxlY3RJbmZvID0gbjsKCQkJCQl2YXIgaCA9ICIiOwoJCQkJCWEuSUU2ICYmIGEuSUU3ICYmIChoID0gIm1hcmdpbi10b3A6LTI1cHg7IiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IikucHJlcGVuZChyKCI8bGk+IiwgewoJCQkJCQkiY2xhc3MiOiAicG9wIiwKCQkJCQkJc3R5bGU6ICJoZWlnaHQ6MCIKCQkJCQl9KS5hcHBlbmQocigiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6ICJwaWMiCgkJCQkJfSkuYXBwZW5kKHIoIjxhPiIsIHsKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IgoJCQkJCX0pLmFwcGVuZChyKCI8aW1nPiIsIHsKCQkJCQkJc3JjOiBhLnNlcnZlciArICIvdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIsCgkJCQkJCSJkYXRhLW9yaWdpbmFsIjogbi5pbWcsCgkJCQkJCWRfd2lkdGg6IDYwLAoJCQkJCQlkX2hlaWdodDogNjAsCgkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiLWFkZC1mYXZvci1kcCIKCQkJCQl9KS5sb2FkKGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IHIodGhpcyksCgkJCQkJCQl0ID0gcih0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQllLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBlLmF0dHIoInNyYyIpICYmIGEuY2hlY2tfaW1hZ2UoZS5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIHQsIDYwKQoJCQkJCX0pKSkpLmFwcGVuZChyKCI8dWw+IiwgewoJCQkJCQkiY2xhc3MiOiAiaXRlbS1pbmZvIgoJCQkJCX0pLmFwcGVuZChyKCI8bGk+IiwgewoJCQkJCQkiY2xhc3MiOiAidGxlIgoJCQkJCX0pLmFwcGVuZChyKCI8aW5wdXQ+IikudmFsKG4udGl0bGUpLmtleXVwKGZ1bmN0aW9uKCkgewoJCQkJCQlhLmNvbGxlY3RJbmZvLnRpdGxlID0gcih0aGlzKS52YWwoKQoJCQkJCX0pKSkuYXBwZW5kKHIoIjxsaT4iLCB7CgkJCQkJCSJjbGFzcyI6ICJwcmkiCgkJCQkJfSkuYXBwZW5kKGUpLmFwcGVuZChyKCI8aW5wdXQ+IikudmFsKG4ucHJpY2UpLmtleXVwKGZ1bmN0aW9uKCkgewoJCQkJCQlhLmNvbGxlY3RJbmZvLm5ld3ByaWNlID0gcih0aGlzKS52YWwoKQoJCQkJCX0pKS5hcHBlbmQocigiPGJ1dHRvbj4iLCB7CgkJCQkJCXN0eWxlOiBoCgkJCQkJfSkudGV4dCgi56Gu6K6kIikuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCksIHQoKQoJCQkJCX0pKSkpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQoKSB7CgkJCQkJdmFyIGUgPSBhLmNvbGxlY3RJbmZvOwoJCQkJCWlmIChlLnByaWNlID0gYS5kcC5vbGRQcmljZSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikudGV4dCgi5q2j5Zyo5pS26JePIiksICIiICE9IGUudGl0bGUgJiYgZS50aXRsZSA/ICgiIiA9PSBlLnByaWNlIHx8IHBhcnNlRmxvYXQoZS5wcmljZSkgIT0gZS5wcmljZSkgJiYgKGUucHJpY2UgPSAwKSA6IGUudGl0bGUgPSBhLmRwLm5hbWUgfHwgcigidGl0bGUiKS5odG1sKCksICFlLnByaWNlIHx8IGUucHJpY2UgPCAwKSB7CgkJCQkJCXZhciB0ID0gZC5nZXRQcmljZUJlZm9yZUV4Y2hhbmdlUmF0ZShhLmRwLm9sZFByaWNlKTsKCQkJCQkJZS5wcmljZSA9IHQKCQkJCQl9CgkJCQkJYS5jb2xsZWN0SW5mby5uZXdwcmljZSAmJiAoZS5wcmljZSA9IGEuY29sbGVjdEluZm8ubmV3cHJpY2UpLCBsLmdldChhLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2FkZD9kcF9pZD0iICsgZS5kcF9pZCArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS51cmwgfHwgbG9jYXRpb24uaHJlZikgKyAiJmltZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuaW1nIHx8IGEuZHAuaW1nKSArICImdGl0bGU9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnRpdGxlKSArICImcHJpY2U9IiArIGUucHJpY2UgKyAiJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2F0X2lkPSIgKyBhLmRwLmNhdF9pZCkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnRleHQoIuaUtuiXj+WVhuWTgSIpLCAxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwID8gKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0PmxpW2NsYXNzIT1wb3BdIikucmVtb3ZlKCksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAucG9wLWxvZ2luIikuc2hvdygpKSA6IDEgPT0gZS5jb2RlID8gKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLmlLbol4/miJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpLCAibHV5b3UiID09IGEuYnR5cGUgJiYgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBlbSIpLmF0dHIoImNsYXNzIiwgImNvbGxlY3QtbWFpbGluLWljb24iKSwgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCBzcGFuIikudGV4dCgi5re75Yqg5oiQ5YqfIiksIHIoImRpdi4ke0cuZXh0QnJhbmR9X3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS50ZXh0KCLmt7vliqDmiJDlip8iKSwgcigiYS4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgcigiZGl2LiR7Ry5leHRCcmFuZH1fd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSkgOiAyID09IGUuY29kZSAmJiAocigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuaUtuiXj+i/h+S6hiIpLmZhZGVPdXQoM2UzKSwgImx1eW91IiA9PSBhLmJ0eXBlICYmIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgZW0iKS5hdHRyKCJjbGFzcyIsICJjb2xsZWN0LW1haWxpbi1pY29uIiksIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQgc3BhbiIpLnRleHQoIuaUtuiXj+i/h+S6hiIpLCByKCJkaXYuJHtHLmV4dEJyYW5kfV93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IikudGV4dCgi5pS26JeP6L+H5LqGIiksIHIoImEuIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiKS51bmJpbmQoImNsaWNrIiksIHIoImRpdi4iICsgYS5leHRCcmFuZCArICJfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIpLnVuYmluZCgiY2xpY2siKSwgYS5icm93c2VyLmFnZW50ICYmICJ0bWFsbCIgPT0gYS5zaXRlICYmIHMubGlzdF9mYXZvcigpKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QgLnBvcCIpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuaGlkZSgpCgkJCQkJCX0pCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikudGV4dCgi5pS26JeP5ZWG5ZOBIiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLmlLbol4/miJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuYW5pbWF0ZSh7CgkJCQkJCQloZWlnaHQ6IDAKCQkJCQkJfSwgNTAwLCBmdW5jdGlvbigpIHsKCQkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5oaWRlKCkKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoZSkgewoJCQkJCWwuZ2V0KGEuY19zZXJ2ZXIgKyAiL2NvbGxlY3QvYWpfZGVsP2RwX2lkPSIgKyBlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJMSA9PSBlLmNvZGUgPyAocigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuZmF2b3Itbm90aWNlIikuc2hvdygpLnRleHQoIuWIoOmZpOaIkOWKnyIpLmZhZGVPdXQoM2UzKSwgcy5saXN0X2Zhdm9yKCkpIDogMTAwID09IGUuY29kZSA/IChyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdD5saVtjbGFzcyE9cG9wXSIpLnJlbW92ZSgpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5hZGQiKS5oaWRlKCksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLnBvcC1sb2dpbiIpLnNob3coKSkgOiBhLmJyb3dzZXIuYWdlbnQgJiYgInRtYWxsIiA9PSBhLnNpdGUgJiYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCXIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmZhdm9yLW5vdGljZSIpLnNob3coKS50ZXh0KCLliKDpmaTmiJDlip8iKS5mYWRlT3V0KDNlMyksIHMubGlzdF9mYXZvcigpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBvKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuc3BsaXQoIi0iKSwKCQkJCQkJaSA9IG5bbi5sZW5ndGggLSAxXTsKCQkJCQlpZiAoMCA+IGUpIHJldHVybiAi5pqC5pe257y66LSnIjsKCQkJCQlpZiAocC5pbmRleE9mKGkpID4gLTEpIHsKCQkJCQkJdmFyIGEgPSAiMjI5IiA9PSBpID8gIijml6XlhYMpIiA6ICIiOwoJCQkJCQlyZXR1cm4gaFtpXSArIGUudG9TdHJpbmcoKSArIGEKCQkJCQl9CgkJCQkJcmV0dXJuICLCpSIgKyBlLnRvU3RyaW5nKCkKCQkJCX0KCQkJCXZhciByID0gbig2KSwKCQkJCQlzID0ge30sCgkJCQkJbCA9IG4oOSksCgkJCQkJYyA9IG4oMTYpLAoJCQkJCWQgPSBuKDQwKSwKCQkJCQlwID0gWyIyMjgiLCAiMjY2IiwgIjI0NiIsICIyMjkiLCAiMzY1IiwgIjM2NiIsICIxIiwgIjIzOCIsICIyMzAiXSwKCQkJCQloID0gewoJCQkJCQkyMjg6ICIkIiwKCQkJCQkJMjMwOiAiJCIsCgkJCQkJCTIzODogIiQiLAoJCQkJCQkyNjY6ICLCoyIsCgkJCQkJCTI0NjogIkVVUiIsCgkJCQkJCTIyOTogIsKlIiwKCQkJCQkJMzY1OiAiRVVSIiwKCQkJCQkJMzY2OiAiQ0ROJCIsCgkJCQkJCTE6ICLCpSIKCQkJCQl9LAoJCQkJCXUgPSB7CgkJCQkJCSJ3d3cuYW1hem9uLmNvbSI6ICIkIiwKCQkJCQkJInd3dy5lYmF5LmNvbSI6ICIkIiwKCQkJCQkJInd3dy42cG0uY29tIjogIiQiLAoJCQkJCQkid3d3LmFtYXpvbi5jby51ayI6ICLCoyIsCgkJCQkJCSJ3d3cuYW1hem9uLmRlIjogIkVVUiIsCgkJCQkJCSJ3d3cuYW1hem9uLmNvLmpwIjogIsKlIiwKCQkJCQkJInd3dy5hbWF6b24uZnIiOiAiRVVSIiwKCQkJCQkJInd3dy5hbWF6b24uY2EiOiAiQ0ROJCIsCgkJCQkJCSJ3d3cuYW1hem9uLmNuIjogIsKlIgoJCQkJCX07CgkJCQlyZXR1cm4gcy5saXN0X2Zhdm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJbC5nZXQoYS5jX3NlcnZlciArICIvYXBwL2NvbGxlY3Rpb24iKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmxvYWRpbmciKS5oaWRlKCksIDEgPT0gZS5lcnJvcl9jb2RlKQoJCQkJCQkJaWYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLnBvcC1sb2dpbiIpLmhpZGUoKSwgIiIgPT0gYS5jb2xsZWN0SW5mby5kcF9pZCA/IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSA6IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnNob3coKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3Q+bGlbY2xhc3MhPXBvcF0iKS5yZW1vdmUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS5odG1sKCIiKS5zaG93KCksIGUucHJvZHVjdHMubGVuZ3RoID4gMCkgewoJCQkJCQkJCWZvciAodmFyIHQgPSAwOyAzID4gdCAmJiB0IDwgZS5wcm9kdWN0cy5sZW5ndGg7IHQrKykgewoJCQkJCQkJCQl2YXIgcyA9IGUucHJvZHVjdHNbdF07CgkJCQkJCQkJCXMubmV3UHJpY2UgPSBvKHMubm93X3ByaWNlLCBzLmRwX2lkKSwgIuaaguaXtue8uui0pyIgIT0gcy5uZXdQcmljZSAmJiAocy5oYXNwcmljZSA9ICEwKQoJCQkJCQkJCX0KCQkJCQkJCQl2YXIgbCA9IG4oMTIxKTsKCQkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCIpLmFwcGVuZChjLmNvbXBpbGUobCkoewoJCQkJCQkJCQlkYXRhOiBlLnByb2R1Y3RzLnNsaWNlKDAsIDMpLAoJCQkJCQkJCQlleHROYW1lOiBhLmV4dE5hbWUsCgkJCQkJCQkJCXNlcnZlcjogYS5zZXJ2ZXIKCQkJCQkJCQl9KSksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmRlbCIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlpKHIodGhpcykuYXR0cigiZHBfaWQiKSksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgYS5hZGQiKS50ZXh0KCLmlLbol4/llYblk4EiKQoJCQkJCQkJCX0pLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCIpLmFwcGVuZChyKCI8bGk+IiwgewoJCQkJCQkJCQlzdHlsZTogImZsb2F0OnJpZ2h0O2hlaWdodDoyMHB4O2NvbG9yOiMxNzdFRTU7Ym9yZGVyOjA7IgoJCQkJCQkJCX0pLmFwcGVuZChyKCI8YT4iLCB7CgkJCQkJCQkJCWhyZWY6ICJodHRwczovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vbWluZT9tZXRob2Q9bXlDb2xsZWN0aW9uJmZyb209YnJvd3NlciZtPWZhdm9yJm9yZGVyYnk9Y29sbGVjdGlvbl90aW1lJm9yZGVyPWRlc2MmcHJpY2Vkb3duPTEiLAoJCQkJCQkJCQlzdHlsZTogImNvbG9yOiMxNzdFRTU7IiwKCQkJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQkJCX0pLnRleHQoIuafpeeci+WFqOmDqO+8iCIgKyBlLnRvdGFsX2NudCArICLvvIkiKSkpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCBpbWciKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJCQl2YXIgZSA9IHIodGhpcyksCgkJCQkJCQkJCQl0ID0gcih0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCQkJCQllLmF0dHIoImRhdGEtb3JpZ2luYWwiKSAhPSBlLmF0dHIoInNyYyIpICYmIGEuY2hlY2tfaW1hZ2UoZS5hdHRyKCJkYXRhLW9yaWdpbmFsIiksIHQsIDYwKQoJCQkJCQkJCX0pCgkJCQkJCQl9IGVsc2UgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS50ZXh0KCLmgqjov5jmsqHmnInmlLbol4/llYblk4HjgILmlLbol4/lkI7lj6/ojrflvpfllYblk4HpmY3ku7cv5Yiw6LSn5o+Q6YaS77yM5biu5Yqp5oKo5Y+K5pe25YWl5omL5oOz6KaB55qE5ZWG5ZOB44CCIik7CgkJCQkJCWVsc2UgMCA9PSBlLmVycm9yX2NvZGUgJiYgKHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IikuaHRtbCgiIiksIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAucG9wLWxvZ2luIikuc2hvdygpKTsKCQkJCQkJYS5oaWRkZW5GYXZvckJ1dHRvbiAmJiByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIGEuYWRkIikuaGlkZSgpCgkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAubG9hZGluZyIpLmhpZGUoKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QiKS5odG1sKCIiKSwgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCAuYWRkIikuaGlkZSgpLCByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5wYW5lbC1tYWluIikuaHRtbCgi5b6I5oqx5q2J77yM5b+D5oS/5Y2V5pqC5pe25LiN5pSv5oyBSUU244CBSUU3PGJyPuW7uuiuruaCqOabtOaWsOWIsElFOOS7peS4iuWGjeivleOAgiIpLmNzcygiY29sb3IiLCAiIzY2NiIpLmNzcygicGFkZGluZyIsICI1cHggMTBweCIpCgkJCQkJfSkKCQkJCX0sIHMudG9nZ2xlX2Zhdm9yID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIG4gPSBhLmNvbGxlY3RJbmZvOwoJCQkJCWlmICgiIiAhPSBuLmRwX2lkICYmICIiICE9IG4uaW1nICYmICIiICE9IG4udGl0bGUgJiYgIiIgIT0gbi5wcmljZSAmJiAiIiAhPSBuLnVybCkgdCgpOwoJCQkJCWVsc2UgewoJCQkJCQlpZiAoMCA9PSByKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikubGVuZ3RoKSByZXR1cm4gZSgpLCB2b2lkIHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5zaG93KCkuYW5pbWF0ZSh7CgkJCQkJCQloZWlnaHQ6IDgyCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7fSk7CgkJCQkJCWlmICgwICE9IHIoIiMiICsgYS5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgdWwuaXRlbS1saXN0IC5wb3AiKS5oZWlnaHQoKSkgcmV0dXJuIHZvaWQgcigiIyIgKyBhLmV4dE5hbWUgKyAiLWZhdm9yLWRldGFpbCB1bC5pdGVtLWxpc3QgLnBvcCIpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiAwCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuaGlkZSgpCgkJCQkJCX0pOwoJCQkJCQlyKCIjIiArIGEuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIHVsLml0ZW0tbGlzdCAucG9wIikuc2hvdygpLmFuaW1hdGUoewoJCQkJCQkJaGVpZ2h0OiA4MgoJCQkJCQl9LCA1MDAsIGZ1bmN0aW9uKCkge30pCgkJCQkJfQoJCQkJfSwgcy5tb25leVNpZ24gPSBoLCBzLnNob3dMaXN0UHJpY2UgPSBvLCBzCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbjxsaT5cbiAgPGRpdiBjbGFzcz0icGljIj5cbiAgICA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3skdmFsdWUudXJsfX0iPlxuICAgICAgPGltZyBzcmM9Int7c2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUucGljX3VybH19IiBkX3dpZHRoPSI2MCIgZF9oZWlnaHQ9IjYwIiBpZD0ie3tleHROYW1lfX0tZmF2b3ItZHB7eyR2YWx1ZS5kcF9pZH19IiA+XG4gICAgPC9hPlxuICA8L2Rpdj5cbiAgPHVsIGNsYXNzPSJpdGVtLWluZm8iPlxuICAgIDxsaSBjbGFzcz0idGxlIj5cbiAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+e3skdmFsdWUudGl0bGV9fTwvYT5cbiAgICA8L2xpPlxuICAgIDxsaSBjbGFzcz0icHJpIj5cbiAgICAgIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InByaWNlIj5cbiAgICAgICAge3skdmFsdWUubmV3UHJpY2V9fVxuICAgICAgICB7e2lmICR2YWx1ZS5oYXNwcmljZX19XG4gICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojMzMzIj4g6LW3PC9zcGFuPlxuICAgICAgICB7ey9pZn19XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0iZGVsIiBocmVmPSJqYXZhc2NyaXB0OiIgZHBfaWQ9Int7JHZhbHVlLmRwX2lkfX0iPuWIoOmZpDwvYT5cbiAgICA8L2xpPlxuICA8L3VsPlxuPC9saT5cbnt7L2VhY2h9fScKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJInVzZSBzdHJpY3QiOwoJCWUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsKCQkJZm9yICh2YXIgdCA9ICIiLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHQgPSB0ICsgIl8iICsgZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDgpOwoJCQlyZXR1cm4gdAoJCX0KCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7aWYgYmpkX3NpdGUgPT0gXCczNjBidXlcJ319XG48ZGl2IGNsYXNzPSJiamRfcHJpY2VfNjE4X2RpdiI+PHNwYW4gY2xhc3M9ImJqZF9wcmljZV82MTgiPuWOu+W5tCA8c3Ryb25nPjYxOCA8L3N0cm9uZz7ku7fmoLzvvJo8c3Ryb25nPjxlbT48L2VtPjwvc3Ryb25nPjwvc3Bhbj48L2Rpdj5cbnt7L2lmfX1cbjxkaXYgaWQ9Int7bWluaWRvbX19IiBjbGFzcz0ie3ttaW5pZG9tfX0gIj5cbiAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV93ZWJzaXRlX2ljb24iIGlkPSJ7e2V4dEJyYW5kfX1fd2Vic2l0ZV9pY29uIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gdGl0bGU9Iui0reeJqeWFmiIgIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIge3svaWZ9fT5cbiAgICA8ZW0gY2xhc3M9Int7ZXh0QnJhbmR9fV9iZyI+PC9lbT5cbiAgPC9hPlxuICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X3dpc2hsaXN0X2J0biB7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmQiIGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfaGlzdG9yeV9idG4iIHRhcmdldD0iX3NlbGYiIHRpdGxlPSLmn6XnnIvor6XllYblk4HnmoQxODDku7fmoLzljoblj7IiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPlxuICAgIDxlbSBjbGFzcz0ie3tleHRCcmFuZH19X2JnIHByaWNlLXRyZW5kLWljb24iPjwvZW0+XG4gICAgPHNwYW4+5Lu35qC85Y6G5Y+yPC9zcGFuPlxuICA8L2E+XG4gIHt7aWYgIW5ld19leHRlbnNpb259fVxuICA8ZGl2IGNsYXNzPSJzaHV4aWFuIiBzdHlsZT0iZGlzcGxheTpub25lIj58PC9kaXY+XG4gIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX1fd2lzaGxpc3RfYnRuIHt7ZXh0QnJhbmR9fV93aXNobGlzdF9idG5faGFuZGxlX2V2ZW50IiBpZD0ie3tleHRCcmFuZH19X3dpc2hsaXN0X2J0biIgdGFyZ2V0PSJfc2VsZiIgdGl0bGU9IuaUtuiXj+WIsOi0reeJqeWFmuWFqOe9keaUtuiXj+Wkue+8jOW5tuiOt+W+l+mZjeS7t+aPkOmGkiI+XG4gICAgPGVtIGNsYXNzPSJ7e2V4dEJyYW5kfX1fYmcgY29sbGVjdC1tYWlsb3V0LWljb24iPjwvZW0+XG4gICAgPHNwYW4+6ZmN5Lu35o+Q6YaSPC9zcGFuPlxuICA8L2E+XG4gIDxkaXYgY2xhc3M9InNodXhpYW4gc3Vic2NyaWJlX3NodXhpYW4iPnw8L2Rpdj5cbiAgPGRpdiBpZD0ie3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1ib3giPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYnJhbmQtc3Vic2NyaWJlIiBpZD0ie3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1idG4iIHRpdGxlPSLlk4HniYznibnljZbmj5DliY3nn6XpgZMiID5cbiAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYmcge3tleHRCcmFuZH19LWJyYW5kLXN1YnNjcmliZS1pY29uLWJsdWUiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tYnJhbmQtc3Vic2NyaWJlLXRleHQiPuWFs+azqOatpOWTgeeJjDwvc3Bhbj5cbiAgICA8L2E+XG4gIDwvZGl2PlxuICB7ey9pZn19XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWwiPlxuICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9jb21wYXJlIj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF90b3AiPuWVhuWfjuavlOS7tzo8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9ib2R5Ij5cbiAgICAgICAgPGRpdiBpZD0idHJlbmRfZGV0YWlsX2JvZHlfdWwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPSJ0cmVuZF9kZXRhaWxfYm90dG9tIj5cbiAgICAgICAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9yZW1haW5lZF9tZSIgdGl0bGU9IuaUtuiXj+W5tumZjeS7t+aPkOmGkiIgY2xhc3M9Int7ZXh0QnJhbmR9fV93aXNobGlzdF9idG4ge3tleHRCcmFuZH19X3dpc2hsaXN0X2J0bl9oYW5kbGVfZXZlbnQiPumZjeS7t+aPkOmGkjwvZGl2PlxuICAgICAgICB7ey9pZn19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIiIHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbiAgICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0ie3tleHRCcmFuZH19X3dpc2hsaXN0X3RyZW5kX2RldGFpbF9pbmZvIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGgiPjwvZGl2PlxuPC9kaXY+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAuYmpkX3ByaWNlXzYxOF9kaXYge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XG4gIH1cbiAgZGl2LmZpcnN0X2FyZWFfbWQge1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgLmJqZF9wcmljZV82MTgge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDEycHg7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTJweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM3OTdEODA7XG4gICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgIHBhZGRpbmc6IDAgMTJweCAwIDEwcHg7XG4gICAgfVxuICAgIC5iamRfcHJpY2VfNjE4IGVtIHtcbiAgICAgIGNvbG9yOiAjRUM0OTY2O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cbjwvc3R5bGU+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0ie3t3aXNoZG9tfX0iIHN0eWxlPSJmb250LXNpemU6IDEycHgiPlxuPGRpdiBpZD0ie3ttaW5pZG9tfX0iIGNsYXNzPSJnd2Rfd2lzaGxpc3RfZGl2IHt7aWYgYWxpU2l0ZX19IGFsaXNpdGVfcGFnZSB7ey9pZn19Ij5cbiAgPGEgY2xhc3M9Imd3ZF93ZWJzaXRlIiB0aXRsZT0i6LSt54mp5YWaIiBpZD0iZ3dkX3dlYnNpdGVfaWNvbiIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Int7Y19zZXJ2ZXJ9fSI+XG4gICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIHdlYnNpdGVfaWNvbiI+PC9lbT5cbiAgPC9hPlxuICA8YSBjbGFzcz0iZ3dkX3dpc2hsaXN0X2J0biBnd2Rfd2lzaGxpc3RfdHJlbmQiIGlkPSJnd2RfcHJpY2VfaGlzdG9yeV9idG4iICBzdHlsZT0iIj5cbiAgICA8ZW0gY2xhc3M9InNldHRpbmctYmcgcHJpY2UtdHJlbmQtaWNvbiI+PC9lbT5cbiAgICA8c3BhbiBzdHlsZT0iZmxvYXQ6IG5vbmUiPuS7t+agvOWOhuWPsjwvc3Bhbj5cbiAgPC9hPlxuICB7e2lmICFhbGlTaXRlfX1cbiAgPGEgY2xhc3M9Imd3ZF93aXNobGlzdF9idG4gZ3dkX3dpc2hsaXN0X2NvbXBhcmUiIGlkPSJnd2RfbWluaV9jb21wYXJlIj5cbiAgICA8c3BhbiBjbGFzcz0ibWluLWNvbS1ib3giPlxuICAgICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIG1pbmktY29tcGFyZS1pY29uIj48L2VtPlxuICAgICAgPHNwYW4gPjwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIDwvYT5cbiAge3svaWZ9fVxuICA8YSBjbGFzcz0iZ3dkX3dpc2hsaXN0X2J0biBnd2Rfd2lzaGxpc3RfYnRuX2hhbmRsZV9ldmVudCIgaWQ9Imd3ZF93aXNobGlzdF9idG4iICB0aXRsZT0i5pS26JeP5Yiw6LSt54mp5YWa5YWo572R5pS26JeP5aS577yM5bm26I635b6X6ZmN5Lu35o+Q6YaSIj5cbiAgICA8ZGl2IGNsYXNzPSJ3aXNobGlzdC1idG4tYm94Ij5cbiAgICAgIDxlbSBjbGFzcz0ic2V0dGluZy1iZyBjb2xsZWN0X21haWxvdXRfaWNvbiI+PC9lbT5cbiAgICAgIDxzcGFuPumZjeS7t+aPkOmGkjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgPC9hPlxuICA8ZGl2IGlkPSJnd2RfcHJvbW9fYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJwcm9tb19ib3hfbGVmdCI+XG4gICAgICA8dWw+XG4gICAgICAgIFxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8ZW0gY2xhc3M9InByb21vX3NodXhpYW4iPjwvZW0+XG4gIDwvZGl2PlxuICA8ZGl2IGlkPSJnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIj5cbiAgICA8ZGl2IGNsYXNzPSJnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIiIHN0eWxlPSJmbG9hdDpsZWZ0Ij5cbiAgICAgIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiPjwvZGl2PlxuICAgICAgPGRpdiBpZD0iZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9pbmZvIj48L2Rpdj5cbiAgICAgIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfYnRuIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InByaWNlLXRyZW5kLXNwIHB0LXNwMSByZXZpZXctYmciIGRhdGEtaWQ9InBsb3RBbGwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InJldmlldy10cmVuZC1zcCByZXZpZXctYmciIGRhdGEtaWQ9InBsb3RTcGVjaWFsIj48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgIHt7aWYgIWFsaVNpdGV9fVxuICAgIDxkaXYgY2xhc3M9InRyZW5kLWNvbS1taW5pIj5cbiAgICAgIFxuICAgIDwvZGl2PlxuICAgIHt7L2lmfX1cbiAgICA8ZGl2IGNsYXNzPSJ0cmVuZC1tYXgtbWluLXByaWNlIj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0LW1heC1wcmkiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0LW1pbi1wcmkiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9Imd3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIj5cbiAgICAgIDxkaXYgaWQ9InRyZW5kX2RldGFpbF9ib2R5X3VsIj48L2Rpdj5cbiAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGlkPSJ3aXNobGlzdC1zZXR0aW5nIj5cbiAgICAgIDxhIGNsYXNzPSJzZXR0aW5nLWl0ZW0iIGhyZWY9Int7c2V0VXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctYmcgZnVuY3Rpb24tc2V0dGluZyI+PC9zcGFuPlxuICAgICAgICA8c3BhbiAgY2xhc3M9Iml0ZW0tdGxlIj7lip/og73orr7nva48L3NwYW4+XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic2V0dGluZy1pdGVtIiBocmVmPSJ7e2ZlZWRiYWNrVXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctYmcgb3Bpbmlvbi1mZWVkYmFjayI+PC9zcGFuPlxuICAgICAgICA8c3BhbiAgY2xhc3M9Iml0ZW0tdGxlIj7mhI/op4Hlj43ppog8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic2V0dGluZy1pdGVtIiBocmVmPSJ7e2Nfc2VydmVyfX0vIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzZXR0aW5nLWJnIGhvbWVwYWdlIj48L3NwYW4+XG4gICAgICAgIDxzcGFuICBjbGFzcz0iaXRlbS10bGUiPui0reeJqeWFmummlumhtTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgPC9kaXY+XG4gIFxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5yZXZpZXctYmcge1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL3hidC9yZXZpZXctYmcucG5nXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9kZXRhaWwgLnNlcnZlcl9udW0ge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogOXB4O1xuICAgIH1cbiAgICAue3t3aXNoZG9tfX0gc3BhbiB7XG4gICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG4gICAgZGl2LmZpcnN0X2FyZWFfbWQge1xuICAgICAgaGVpZ2h0OiA1MDBweDtcbiAgICB9XG4gICAgI3dpc2hsaXN0LXNldHRpbmcge1xuICAgICAgaGVpZ2h0OiA5MHB4O1xuICAgICAgd2lkdGg6IDEwNHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIHRvcDogMzZweDtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTZlOWViO1xuICAgIH1cbiAgICBcbiAgICAuZnVuY3Rpb24tc2V0dGluZyB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODVweCAtOHB4O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5mdW5jdGlvbi1zZXR0aW5nIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMTFweCAtOHB4O1xuICAgIH1cbiAgICAub3Bpbmlvbi1mZWVkYmFjayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTg4cHggLThweDtcbiAgICB9XG4gICAgLnNldHRpbmctaXRlbTpob3ZlciAub3Bpbmlvbi1mZWVkYmFjayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjE0cHggLThweDtcbiAgICB9XG4gICAgLmhvbWVwYWdlIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMzdweCAtOHB4O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5ob21lcGFnZSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYzcHggLThweDtcbiAgICB9XG4gICAgI3dpc2hsaXN0LXNldHRpbmcgLnNldHRpbmctaXRlbSB7XG4gICAgICB3aWR0aDogMTA0cHg7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAjd2lzaGxpc3Qtc2V0dGluZyAuc2V0dGluZy1pdGVtOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU5ZWI7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgIC5zZXR0aW5nLWl0ZW0gLnNldHRpbmctYmcge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgfVxuICAgIC5zZXR0aW5nLWl0ZW0gLml0ZW0tdGxlIHtcbiAgICAgIGNvbG9yOiAjOTY5Njk5O1xuICAgIH1cbiAgICAuc2V0dGluZy1pdGVtOmhvdmVyIC5pdGVtLXRsZSB7XG4gICAgICBjb2xvcjogIzRlNGU2MTtcbiAgICB9IFxuICAgICNnd2Rfc2V0dGluZ19jb250ZW50IC5nd2Rfc2V0dGluZ19pdGVtIGEge1xuICAgICAgZm9udC1mYW1pbHk6ICJNaWNyb3NvZnQgWWFoZWkiIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAuZ3dkX3dpc2hsaXN0X2J0biB7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlNmU5ZWIhaW1wb3J0YW50O1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X2J0biB7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC53aXNobGlzdC1idG4tYm94IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cblxuICAgIC5nd2Rfd2lzaGxpc3RfYnRuLm1zaG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogI2U2ZTllYjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfZGl2ICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIHtcbiAgICAgIGJveC1zaGFkb3c6IDBweCA1cHggMTVweCAwIHJnYmEoMjMsMjUsMjcsMC4xNSk7XG4gICAgICB3aWR0aDogNTc0cHg7XG4gICAgfVxuICAgIC5hbGlzaXRlX3BhZ2UuZ3dkX3dpc2hsaXN0X2RpdiAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbCB7XG4gICAgICB3aWR0aDogNDYwcHg7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX3dyYXBwZXIge1xuICAgICAgaGVpZ2h0OiAyODVweDtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZXtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIG1hcmdpbjogMHB4IDAgMTJweCAwcHg7XG4gICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB3aWR0aDogMjc4cHg7XG4gICAgICB0b3A6IDM2cHg7XG4gICAgICBsZWZ0OiAxMTVweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI0U2RTlFQjtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCAwIHJnYmEoMCwwLDAsMC4xMSk7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSB7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSBhIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMzlweDtcbiAgICAgIHdpZHRoOiAyNDhweDtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWRmMWYxO1xuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRmMWYxO1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2NvbXBhcmUgbGkgKiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIGxpIGltZyB7XG4gICAgICB3aWR0aDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfY29tcGFyZSBsaSAubS1pdGVtLXNpdGVuYW1lIHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzQwNDU0NztcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIGxpIC5tLWl0ZW0tcHJpY2Uge1xuICAgICAgY29sb3I6ICNEMTA4MzE7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9jb21wYXJlIC5tLWFsbC1saW5rIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmIWltcG9ydGFudDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZSFpbXBvcnRhbnQ7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5nd2Rfd2lzaGxpc3RfZGl2IHtcbiAgICAgIHdpZHRoOiA0NjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAgLmd3ZF93aXNobGlzdF90cmVuZCB7XG4gICAgICB3aWR0aDogMTI3cHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0gI2d3ZF9taW5pX2NvbXBhcmUuZ3dkX3dpc2hsaXN0X2NvbXBhcmUge1xuICAgICAgd2lkdGg6IDE1NXB4O1xuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmd3ZF93aXNobGlzdF9jb21wYXJlLm5vLWNvbS1pbmZvIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU5ZWI7XG4gICAgfVxuICAgIC5nd2Rfd2lzaGxpc3RfY29tcGFyZS5nd2Rfd2lzaGxpc3RfY29tcGFyZV9ob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlOWViO1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2NvbXBhcmUubm8tY29tLWluZm8gLm1pbi1jb20tYm94IHNwYW4ge1xuICAgICAgY29sb3I6ICM5OTkhaW1wb3J0YW50O1xuICAgIH1cblxuICAgICN7e21pbmlkb219fS5hbGlzaXRlX3BhZ2UgLmd3ZF93aXNobGlzdF90cmVuZCB7XG4gICAgICB3aWR0aDogMjA1cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5pZWhhY2sge1xuICAgICAgei1pbmRleDogOTk5OTk5OTk5OTtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19ICNnd2RfcHJpY2VfaGlzdG9yeV9idG4uX25vcHJpY2Uge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgY29sb3I6ICM5OTk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICAgIH1cbiAgICAjZ3dkX3ByaWNlX2hpc3RvcnlfYnRuLl9ub3ByaWNlIGVtIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuc2h1eGlhbiB7XG4gICAgICB3aWR0aDogMnB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2RpdiBhI2d3ZF93aXNobGlzdF9idG4ge1xuICAgICAgd2lkdGg6IDEyN3B4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2Rpdi5hbGlzaXRlX3BhZ2UgYSNnd2Rfd2lzaGxpc3RfYnRuIHtcbiAgICAgIHdpZHRoOiAyMDVweDtcbiAgICB9XG4gICAgLm1pbi1jb20tYm94IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbiAgICAubWluaS1jb21wYXJlLWljb24ge1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgIG1hcmdpbi10b3A6IDdweDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC05cHggLTEwOXB4O1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2NvbXBhcmVfaG92ZXIgLm1pbmktY29tcGFyZS1pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMDlweDtcbiAgICB9XG4gICAgLmd3ZF93aXNobGlzdF9jb21wYXJlLm5vLWNvbS1pbmZvIC5taW5pLWNvbXBhcmUtaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzJweCAtMTA5cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuZ3dkX3dpc2hsaXN0X2J0biAucHJpY2UtdHJlbmQtaWNvbiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTlweDtcbiAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uYWxpc2l0ZV9wYWdlIC5nd2Rfd2lzaGxpc3RfYnRuIC5wcmljZS10cmVuZC1pY29uIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1N3B4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0uZ3dkX3dpc2hsaXN0X2RpdiBhLmd3ZF93aXNobGlzdF9idG4ge1xuICAgICAgcGFkZGluZzogMHB4O1xuICAgIH1cbiAgICBhI2d3ZF93aXNobGlzdF9idG4gc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLndlYnNpdGVfaWNvbiwgLmNvbGxlY3RfbWFpbG91dF9pY29uIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgXG4gICAgI3t7bWluaWRvbX19IC5nd2Rfd2Vic2l0ZXtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDQ4cHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fSAuZ3dkX3dlYnNpdGUgLndlYnNpdGVfaWNvbiB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTBweCAtMjhweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gICAgLmNvbGxlY3RfbWFpbG91dF9pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMjRweCAtMzBweDtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgLmNvbGxlY3RfbWFpbG91dF9pY29uLmFkZHN1Y2Nlc3Mge1xuICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgfVxuICAgIC5jb2xsZWN0X21haWxvdXRfaWNvbi5jb2xsZWN0X2hvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNTVweCAtMzBweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19IGEuZ3dkX3dpc2hsaXN0X3RyZW5kX2hvdmVyIHtcbiAgICAgIC8qYm9yZGVyOiAxcHggc29saWQgIzE3OTBkZDsqL1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWI7XG4gICAgICBiYWNrZ3JvdW5kOiAjZTZlOWViO1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0gI3RyZW5kX2RldGFpbF9yZW1haW5lZF9tZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICN7e21pbmlkb219fS5vbmVsaW5le1xuICAgICAgaGVpZ2h0OiA3NnB4O1xuICAgIH1cbiAgICAje3ttaW5pZG9tfX0udHdvbGluZXN7XG4gICAgICBoZWlnaHQ6IDEwNnB4O1xuICAgIH1cbiAgICAuZ3dkX3dpc2hsaXN0X2JveCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTYwcHg7XG4gICAgfVxuICAgIC5nd2RfbmV3ZWdnIC5nd2Rfd2lzaGxpc3RfYm94e1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMzZweDtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZThlOGU4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3gge1xuICAgICAgaGVpZ2h0OiAzOXB4O1xuICAgIH1cbiAgICBcbiAgICAjZ3dkX3Byb21vX2JveCA+ZGl2IHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiA0ODBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiA2OXB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3ggZGl2IHtcbiAgICAgIGhlaWdodDogMzlweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19LnRpcmRsaW5lcyAjZ3dkX3Byb21vX2JveCBkaXYge1xuICAgICAgaGVpZ2h0OiA3NXB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCAucHJvbW9fYm94X2xlZnQgdWwge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogNDgwcHg7XG4gICAgICBoZWlnaHQ6IDY5cHg7XG4gICAgfVxuICAgIC5vbmVsaW5lICNnd2RfcHJvbW9fYm94IC5wcm9tb19ib3hfbGVmdCB1bCB7XG4gICAgICBoZWlnaHQ6IDM5cHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IGRpdiBsaSB7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgIHdpZHRoOiAyMDJweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzAsICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8xIHtcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8wLCAjZ3dkX3Byb21vX2JveCBkaXYgbGkubGlfMiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzEsICNnd2RfcHJvbW9fYm94IGRpdiBsaS5saV8zIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyOXB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCBkaXYgbGkubGlfMiwgI2d3ZF9wcm9tb19ib3ggZGl2IGxpLmxpXzN7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxM3B4O1xuICAgIH1cbiAgICAucHJvbW9fc2h1eGlhbiB7XG4gICAgICB3aWR0aDogMXB4O1xuICAgICAgbGVmdDogMjMwcHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlOGU4ZTg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuICAgIC5wcm9tb19zaHV4aWFuIHtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpIGEge1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgIGNvbG9yOiAjN2Q3ZTgwO1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCBkaXYgbGkgYS5wcm9tb19hZF9hIHtcbiAgICAgIHdpZHRoOiAxNTlweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggZGl2IGxpIGE6aG92ZXIge1xuICAgICAgY29sb3I6ICNlYzQ5NjY7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94ID5zcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZThlOGU4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgbWFyZ2luLXRvcDogMTNweDtcbiAgICB9XG4gICAgI3t7bWluaWRvbX19Lm9uZWxpbmUgI2d3ZF9wcm9tb19ib3ggPnNwYW4ge1xuICAgICAgIGhlaWdodDogMTJweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggdWwgbGkgc3BhbntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VjNDk2NjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIG1hcmdpbi1yaWdodDogMTFweDtcbiAgICB9XG4gICAgI2d3ZF9wcm9tb19ib3ggdWwgbGkgc3Bhbi5wcm9tb19hZF9zcGFuIHtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX21vYmlsZV9wcmljZSAubW9iaWxlX3RpdGxlLCAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX3dlaXhpbl9wcmljZSAud2VpeGluX3RpdGxle1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRhYWJlODtcbiAgICAgIHdpZHRoOiA2NnB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIH1cbiAgICAjZ3dkX3Byb21vX2JveCB1bCBsaSAjZ3dkX21vYmlsZV9wcmljZSAubW9iaWxlX251bSwgI2d3ZF9wcm9tb19ib3ggdWwgbGkgI2d3ZF93ZWl4aW5fcHJpY2UgLndlaXhpbl9udW17XG4gICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgY29sb3I6ICNkODAwMDA7XG4gICAgICB3aWR0aDogYXV0bztcbiAgICAgIG1hcmdpbi1sZWZ0OiA2cHg7XG4gICAgfVxuICAgICNnd2RfcHJvbW9fYm94IHVsIGxpICNnd2RfbW9iaWxlX3ByaWNlIC5tb2JpbGVfbnVtOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4ge1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogMnB4O1xuICAgIH1cbiAgICAudHJlbmQtbWF4LW1pbi1wcmljZSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDMwcHg7XG4gICAgICBsZWZ0OiA3MHB4O1xuICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgfVxuICAgIC50cmVuZC1tYXgtbWluLXByaWNlLnJldmlld1Qge1xuICAgICAgdG9wOiA0MHB4O1xuICAgIH1cbiAgICAudHJlbmQtbWF4LW1pbi1wcmljZSBzcGFuIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICAgIC50LW1heC1wcmkge1xuICAgICAgY29sb3I6ICNlNDM5M2M7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIC50LW1pbi1wcmkge1xuICAgICAgY29sb3I6ICMzNWJkNjc7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG4gICAgI2d3ZF93aXNobGlzdF90cmVuZF9kZXRhaWxfYnRuIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogNzdweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA3MHB4O1xuICAgIH1cbiAgICAjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4gc3Bhbi5wdC1zcDEge1xuICAgICAgbWFyZ2luLWxlZnQ6IDExMnB4O1xuICAgIH1cbiAgICBzcGFuLnByaWNlLXRyZW5kLXNwIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0zOHB4IC0zOHB4O1xuICAgIH1cbiAgICBzcGFuLnJldmlldy10cmVuZC1zcCB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzhweCAtNjJweDtcbiAgICB9XG4gICAgc3Bhbi5yZXZpZXctdHJlbmQtc3AubXNjbGljayB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzhweCAtODZweDtcbiAgICB9XG4gICAgLmJqZF9wbHRfYmcgdGQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB9XG4gICAgLmJqZF9wbHRfYmcgdGFibGUge1xuICAgICAgbWFyZ2luLXRvcDogMHB4O1xuICAgIH1cbiAgICAubm8tcmV2aWV3IHNwYW4ucmV2aWV3LXRyZW5kLXNwIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2J0bi5uby1yZXZpZXcgc3Bhbi5wdC1zcDEge1xuICAgICAgbWFyZ2luLWxlZnQ6IDE4OHB4O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PlxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYShlKSB7CgkJCQl2YXIgYSA9IG4oMTI2KTsKCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKGYuY29tcGlsZShhKSh7CgkJCQkJcmVtbzogIueCueWHu+afpeeci+WFqOmDqOWAvOW+l+S5sOWVhuWTgSIsCgkJCQkJZGF0YTogZS5zbGljZSgwLCAzKSwKCQkJCQlzaXRlX2lkOiBoLAoJCQkJCXpoaVVybDogdSwKCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQlpbWdfc2VydmVyOiBpLmNyYzY0ID8gaS5pbWc2NF9zZXJ2ZXIgOiBpLmltZ19zZXJ2ZXIsCgkJCQkJZXh0TmFtZTogaS5leHROYW1lLAoJCQkJCWFsaXNpdGU6IGkuYWxpU2l0ZSwKCQkJCQlleHRCcmFuZDogaS5leHRCcmFuZAoJCQkJfSkpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikuc2hvdygpLCBpLmVkaXRPcmlnaW5hbCgiI3poaWRlbWFpLWl0ZW0tbGlzdCAuc21hbGwtaW1nIGltZyIpCgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJdmFyIGEgPSBuKDEyNik7CgkJCQl0KCIjYmpkX2JvdHRvbV9kZXRhaWwiKS5hcHBlbmQoZi5jb21waWxlKGEpKHsKCQkJCQlyZW1vOiAi54K55Ye75p+l55yL5YWo6YOo5YC85b6X5Lmw5ZWG5ZOBIiwKCQkJCQlkYXRhOiBlLnNsaWNlKDAsIDMpLAoJCQkJCXNpdGVfaWQ6IGgsCgkJCQkJemhpVXJsOiB1LAoJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCWltZ19zZXJ2ZXI6IGkuY3JjNjQgPyBpLmltZzY0X3NlcnZlciA6IGkuaW1nX3NlcnZlciwKCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJYWxpc2l0ZTogaS5hbGlTaXRlLAoJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQl9KSksIHQoIi5jb20temRtIikuc2hvdygpLCBpLmVkaXRPcmlnaW5hbCgiI3poaWRlbWFpLWl0ZW0tbGlzdCAuc21hbGwtaW1nIGltZyIpCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJMCAhPSBlICYmICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpLCAuY29tLXpkbSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCJ0b3AiID09PSBpLnN0eWxlKSB7CgkJCQkJCXZhciBlID0gdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haSIpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgZSArICJweCIpLmNzcygicmlnaHQiLCAiYXV0byIpLCB0KHRoaXMpLmFkZENsYXNzKGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2hvdmVyIikKCQkJCQl9IGVsc2UgewoJCQkJCQl0KHRoaXMpLmFkZENsYXNzKCJ6ZG1fbXNfaG92ZXIiKTsKCQkJCQkJdmFyIGUgPSB0KCIuY29tLXpkbSIpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgZSAtIDIgKyAicHgiKQoJCQkJCX0KCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2RldGFpbCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHQod2luZG93KS53aWR0aCgpIC0gODApLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpX2RldGFpbCIpLnNob3coKSwgZygicHJvZHVjdF9wYWdlX3poaWRlbWFpX3Nob3ciKSwgInRvcCIgPT09IGkuc3R5bGUgJiYgdCh3aW5kb3cpLndpZHRoKCkgLSAodCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vZmZzZXQoKS5sZWZ0ICsgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vdXRlcldpZHRoKCkgKyAyKSA8IDAgJiYgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIChpLklFNyB8fCBpLklFOCkgJiYgdCh3aW5kb3cpLndpZHRoKCkgPCAxNTAwICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikuY3NzKCJyaWdodCIsICIwcHgiKS5jc3MoImxlZnQiLCAiYXV0byIpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haSwgLmNvbS16ZG0iKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQltID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdChlKS5yZW1vdmVDbGFzcyhpLmV4dEJyYW5kICsgIl96aGlkZW1haV9ob3ZlciIpLnJlbW92ZUNsYXNzKCJ6ZG1fbXNfaG92ZXIiKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5oaWRlKCkKCQkJCQl9LCAyMDApCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChtKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfemhpZGVtYWlfZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3poaWRlbWFpIikucmVtb3ZlQ2xhc3MoaS5leHRCcmFuZCArICJfemhpZGVtYWlfaG92ZXIiKSwgdCgiLmNvbS16ZG0iKS5yZW1vdmVDbGFzcygiemRtX21zX2hvdmVyIiksIHQodGhpcykuaGlkZSgpCgkJCQl9KSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl96aGlkZW1haV9kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQlnKCJwcm9kdWN0X3BhZ2VfemhpZGVtYWlfY2xpY2siKQoJCQkJfSkpCgkJCX0KCgkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJaS5hbGlTaXRlICYmIChlID0gImphdmFzY3JpcHQ6Iik7CgkJCQl2YXIgbiA9ICc8YSBpZD0iJyArIGkuZXh0QnJhbmQgKyAnX3poaWRlbWFpIiBzdHlsZT0iZGlzcGxheTpub25lIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIGUgKyAnIiB0aXRsZT0i54K55Ye75p+l55yL5YWo6YOo5YC85b6X5Lmw5ZWG5ZOBIj48c3BhbiBjbGFzcz0iemhpZGVtYWlfaWNvbiBuZXdiLWJnIj48L3NwYW4+PHNwYW4gY2xhc3M9InpoaWRlbWFpX3RleHQiPuWAvOW+l+S5sDwvc3Bhbj48L2E+JzsKCQkJCXQoIiNyaWdodF9pbmZvIikuYXBwZW5kKGYuY29tcGlsZShuKSh7fSkpCgkJCX0KCgkJCWZ1bmN0aW9uIGwoZSkgewoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiAidmlwc2hvcCIgIT0gaS5zaXRlICYmIHMoZSkKCQkJfQoKCQkJZnVuY3Rpb24gYyhlKSB7CgkJCQl1ID0gZS5saW5rLCBsKGUubGluayk7CgkJCQl2YXIgdCA9IGUuZGF0YSwKCQkJCQluID0gdC5sZW5ndGg7CgkJCQkidG9wIiA9PSBpLnN0eWxlICYmICJ2aXBzaG9wIiAhPSBpLnNpdGUgJiYgKGEodCksIHIobikpLCAiYm90dG9tIiA9PSBpLnN0eWxlICYmIChvKHQpLCByKG4pKSwgImx1eW91IiAhPSBpLmJ0eXBlICYmIGQodC5zbGljZSgwLCA0KSkKCQkJfQoKCQkJZnVuY3Rpb24gZChlKSB7CgkJCQlpZiAoZS5sZW5ndGggPSAwLCAwICE9IHQoIiMiICsgaS53aXNoZG9tMikubGVuZ3RoKSB7CgkJCQkJaWYgKDAgPT0gZS5sZW5ndGgpIHJldHVybiB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3pkbV9idG4iKS5vZmYoKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl93aXNobGlzdF96ZG1fYnRuIikuYXR0cigiaHJlZiIsIHUpLmF0dHIoInRpdGxlIiwgIueCueWHu+afpeeci+abtOWkmuWAvOW+l+S5sOWVhuWTgSIpLCB2b2lkIHQoIiMiICsgaS5leHRCcmFuZCArICJfd2lzaGxpc3RfemRtX2RldGFpbCIpLnJlbW92ZSgpOwoJCQkJCXZhciBhID0gbigxMjcpOwoJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfd2lzaGxpc3RfemRtX2RldGFpbCB1bCIpLmFwcGVuZChmLmNvbXBpbGUoYSkoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlpbWdfc2VydmVyOiBpLmltZ19zZXJ2ZXIsCgkJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kCgkJCQkJfSkpLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X3pkbV9idG4sIC4iICsgaS5leHRCcmFuZCArICJfemRtX21vcmVfbGluayIpLmF0dHIoImhyZWYiLCB1KQoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCXZhciB0ID0geC5nZXQoImRwX2RhdGEiKSwKCQkJCQluID0gIjAiOwoJCQkJaS5hbGlTaXRlICYmIChuID0gIjEiKTsKCQkJCXZhciBhID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz16ZG0mc2l0ZV9pZD0iICsgaCArICImcHJpY2U9IiArIChpLmRwLnByaWNlIHx8IHQubm93LnByaWNlKSArICImbm9fYnJhbmQ9MSZjb3Jld29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQubm93LmNvcmV3b3JkKSArICImY2xhc3NfaWQ9IiArIHQubm93LmNsYXNzX2lkICsgIiZhbGlzaXRlPSIgKyBuOwoJCQkJXy5nZXQoYSkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJdCAmJiB0LmRhdGEgJiYgZSh0KQoJCQkJfSkKCQkJfQoJCQl2YXIgaCwgdSwgbSwgZiA9IG4oMTYpLAoJCQkJZyA9IG4oMjYpLAoJCQkJXyA9IG4oOSksCgkJCQl4ID0gbig3MSk7CgkJCWUuZXhwb3J0cy5nZXRVcmwgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiB1CgkJCX0sIGUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHguZ2V0KCJkcF9kYXRhIik7CgkJCQlpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCAidG1hbGwiID09IGkuc2l0ZSB8fCAoaCA9IGUubm93LnNpdGVfaWQsIHAoYykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1femhpZGVtYWlfZGV0YWlsIiBjbGFzcz0iYmpkLXByb2R1Y3QtZGV0YWlsIj5cbiAgPHVsIGlkPSJ6aGlkZW1haS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgIDxsaSBpZD0iemhpZGVtYWktcHJvZC1pdGVtLXt7JGluZGV4fX0iPlxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBjbGFzcz0ic21hbGwtaW1nIj5cbiAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2RlZmF1bHRfbG9hZF9pbWFnZS5wbmciIGlkPSJ6bWRfaW1nX3t7JGluZGV4fX0iIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgIDwvYT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ6ZG0tc3RvcmUtYm94Ij5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNpdGVfaWNvbiIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19Ij48aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InpkbS1zdG9yZS10bGUiPnt7JHZhbHVlLnByaWNlX2luZm99fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxwIGNsYXNzPSJkcCI+XG4gICAgICAgICAgPCEtLSA8YSBocmVmPSIjIiBjbGFzcz0iemRtX3F1YW4iIHN0eWxlPSJ7eygkdmFsdWUuZGlzY291bnRfY29kZSAhPSBcJ1wnIHx8ICR2YWx1ZS5jb3Vwb25fdXJsID09IFwnXCcpP1wnZGlzcGxheTpub25lXCc6XCdcJ319Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJyZWRfYmciPumcgOeUqOWIuDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJxdWFuX2IiPueCueatpOmihuWIuDwvc3Bhbj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InpkbV9tYSIgc3R5bGU9Int7aWYgISR2YWx1ZS5kaXNjb3VudF9jb2RlfX1kaXNwbGF5Om5vbmU7e3svaWZ9fSI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVkX2JnIj7pnIDnlKjnoIE8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ibWFfbnVtIj57eyR2YWx1ZS5kaXNjb3VudF9jb2RlfX08L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPiAtLT5cbiAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fdGl0bGUiPnt7JHZhbHVlLnRpdGxlfX08L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgPC9saT5cbiAgICB7ey9lYWNofX1cbiAgPC91bD5cbiAge3tpZiAhYWxpc2l0ZX19XG4gIDxhIGhyZWY9Int7emhpVXJsfX0iIGlkPSJ7e2V4dEJyYW5kfX1femRtX21vcmVsaW5rIiB0YXJnZXQ9Il9ibGFuayI+5p+l55yL5YWo6YOoPj48L2E+XG4gIHt7L2lmfX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHRCcmFuZH19X3poaWRlbWFpX2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgICB9XG4gICAgLmJqZC1wcm9kdWN0LWRldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICBhI2d3ZF96ZG1fbW9yZWxpbmsge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgcmlnaHQ6IDEzcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzliOWI5YjtcbiAgICB9XG4gICAgYSNnd2RfemRtX21vcmVsaW5rOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgIH1cbiAgICAuemRtLXN0b3JlLWJveCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2shaW1wb3J0YW50O1xuICAgIH1cbiAgICBzcGFuLnpkbS1zdG9yZS1ib3ggc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNpdGVfaWNvbiBpbWcge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC56ZG0tc3RvcmUtdGxlIHtcbiAgICAgIG1heC13aWR0aDogMTgwcHg7XG4gICAgICBoZWlnaHQ6IDE3cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgY29sb3I6ICNkMTA4MzEhaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJ7e2V4dEJyYW5kfX0tbGlzdC1pdGVtIGxpX3t7JGluZGV4fX0iPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcGljIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgPGltZyBzcmM9Imh0dHA6Ly97e2ltZ19zZXJ2ZXJ9fS9jX3pvb20sd185MC96aGlfe3skdmFsdWUuZHBfaWR9fS5wbmciID5cbiAgICA8L2E+XG4gICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1wcm9kdWN0LXRpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiByZWw9Im5vcmVmZXJyZXIiPlxuICAgICAge3skdmFsdWUudGl0bGV9fVxuICAgIDwvYT5cbiAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIiA+XG4gICAgICB7eyR2YWx1ZS5wcmljZV9pbmZvfX1cbiAgICA8L3NwYW4+XG4gICAgXG4gIDwvbGk+XG57ey9lYWNofX1cbicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTI5KSwKCQkJCXIgPSBuKDEzMCksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlICYmIDAgIT09IGUuYWQubGVuZ3RoKSB7CgkJCQkJCXZhciBuID0gdCgiPGxpPjwvbGk+Iik7CgkJCQkJCXQobikuYXBwZW5kKGEuY29tcGlsZShvKSh7CgkJCQkJCQlwcm9kdWN0OiBlLmFkWzBdCgkJCQkJCX0pKSwgdCgiI2d3ZF9sb3dwcmlfZGV0YWlsICNsb3dwcmktaXRlbS1saXN0IikuYXBwZW5kKHQobikpCgkJCQkJfQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgJiYgMCAhPT0gZS5wcm9tby5sZW5ndGgpIHsKCQkJCQkJdmFyIG4gPSBlLnByb21vWzBdLAoJCQkJCQkJYSA9ICc8bGkgY2xhc3M9ImxpXzAiID48c3BhbiBjbGFzcz0icHJvbW9fYWRfc3BhbiI+54Ot5Y2WPC9zcGFuPiA8YSBjbGFzcz0icHJvbW9fYWRfYSIgaHJlZj0iJyArIG4udXJsICsgJyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSInICsgbi50aXRsZSArICciPicgKyBuLnRpdGxlICsgIjwvYT48L2xpPiIsCgkJCQkJCQlvID0gdCgiLnByb21vX2JveF9sZWZ0IHVsIiksCgkJCQkJCQlyID0gdCgiLnByb21vX2JveF9sZWZ0IHVsIGxpW2RhdGEtdHlwZV0iKSwKCQkJCQkJCXMgPSByLmxlbmd0aDsKCQkJCQkJMCA9PT0gcyA/IChvLnByZXBlbmQodChhKSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCB0KCIjIiArIGkud2lzaGRvbTIpLmFkZENsYXNzKCJvbmVsaW5lIikpIDogci5hZnRlcih0KGEpKTsKCQkJCQkJZm9yICh2YXIgbCA9IG8uZmluZCgibGkiKSwgYyA9IDA7IGMgPiBsLmxlbmd0aDsgYysrKSBsLmVxKGMpLmF0dHIoImNsYXNzIiwgImxpXyIgKyBjKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5yZW5kZXJMb3dlc3RBZCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCXIuaW5pdCh7CgkJCQkJa2V5d29yZDogdCwKCQkJCQljbGFzc19pZDogZQoJCQkJfSwgcykKCQkJfSwgZS5leHBvcnRzLnJlbmRlcldpc2hsaXN0QWQgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQlyLmluaXQoewoJCQkJCWtleXdvcmQ6IHQsCgkJCQkJY2xhc3NfaWQ6IGUKCQkJCX0sIGwpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICdcbiAgPGRpdiBpZD0icHJvZHVjdF9hZF9pdGVtIj5cbiAgICA8YSBjbGFzcz0iYWRfaXRlbV9pbWciIGhyZWY9Int7cHJvZHVjdC51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPGltZyBzcmM9Int7cHJvZHVjdC5pbWd9fSI+XG4gICAgPC9hPlxuICAgIDxzcGFuIGNsYXNzPSJhZF9wcmljZWluZm8iPlxuICAgICAgPHNwYW4gY2xhc3M9Im5vd19wcmljZSI+wqUge3twcm9kdWN0LmRwX3ByaWNlfX08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0ib2xkX3ByaWNlIj7CpSB7e3Byb2R1Y3Qub3JpX3ByaWNlfX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICAgIDxhIGhyZWY9Int7cHJvZHVjdC51cmx9fSIgY2xhc3M9ImFkX3RsZSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7e3Byb2R1Y3QudGl0bGV9fSI+e3twcm9kdWN0LnRpdGxlfX08L2E+XG4gICAgPGEgaHJlZj0ie3twcm9kdWN0LnN0b3JlX3VybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImFkX3Nob3BfbmFtZSI+e3tpZiBwcm9kdWN0LnBsYXRmb3JtfX0ge3twcm9kdWN0LnBsYXRmb3JtICsgIu+8miJ9fSB7ey9pZn19e3twcm9kdWN0LnN0b3JlX25hbWV9fTwvYT5cbiAgICA8c3BhbiBjbGFzcz0ib3RoZXJfZGVzYyI+XG4gICAgICA8c3BhbiBjbGFzcz0iYWRfZGlzY291bnQiPnt7cHJvZHVjdC5kaXNjb3VudH195oqYPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9ImFkX2ZvcmVpZ2giPnt7cHJvZHVjdC5mcmVpZ2h0dGxlfX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ0dWlndWFuZ19saW5rIiA+5o6o5bm/PC9zcGFuPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvZHVjdF9hZF9pdGVtIHtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtID4gKiAsICNwcm9kdWN0X2FkX2l0ZW0gLmFkX2l0ZW1faW1ne1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIC5hZF9pdGVtX2ltZyB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHdpZHRoOiAxODBweDtcbiAgICAgIGhlaWdodDogOTBweDtcblxuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtIC5hZF9wcmljZWluZm8ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgbWFyZ2luLXRvcDogM3B4O1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgICNwcm9kdWN0X2FkX2l0ZW0gLmFkX3RsZXtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIGRpdiNwcm9kdWN0X2FkX2l0ZW0gLmFkX3Nob3BfbmFtZSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjpsZWZ0O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgICAjcHJvZHVjdF9hZF9pdGVtIC5hZF9wcmljZWluZm8gLm5vd19wcmljZSB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAuYWRfcHJpY2VpbmZvIC5vbGRfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM5OTk7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAub3RoZXJfZGVzYyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICB9XG4gICAgI3Byb2R1Y3RfYWRfaXRlbSAuYWRfZGlzY291bnQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0U1MjYwMDtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gICAgfVxuICAgICNwcm9kdWN0X2FkX2l0ZW0gLmFkX2ZvcmVpZ2gge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFNTI2MDA7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICB9XG4gICAgZGl2I3Byb2R1Y3RfYWRfaXRlbSBzcGFuLnR1aWd1YW5nX2xpbmsge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgY29sb3I6ICNiYmI7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgdG9wOiAwcHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICA8L3N0eWxlPlxuJwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gbig5KSwKCQkJCWEgPSB2b2lkIDAsCgkJCQlvID0gdm9pZCAwLAoJCQkJciA9IHZvaWQgMCwKCQkJCXMgPSBbXSwKCQkJCWwgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJZSA9IGUgfHwge307CgkJCQkJdmFyIGwgPSBlLmtleXdvcmQgfHwgIiIsCgkJCQkJCWQgPSBlLmNsYXNzX2lkIHx8ICIiLAoJCQkJCQlwID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9hLiIgKyB0LmV4dE5hbWUgKyAiLmNvbS9jZ2kvZ2V0P2NhdGVnb3J5PSIgKyBkICsgIiZrZXl3b3JkPSIgKyBlbmNvZGVVUklDb21wb25lbnQobCkgKyAiJmxvY2F0ZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYpOwoJCQkJCWkuZ2V0KHApLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoZSAmJiAoZS5hZC5sZW5ndGggPiAwIHx8IGUucHJvbW8ubGVuZ3RoID4gMCkpIHsKCQkJCQkJCWlmIChlID0gYyhlKSwgbihlKSwgbyA9IGUsIHMubGVuZ3RoID4gMCkKCQkJCQkJCQlmb3IgKHZhciB0ID0gMDsgdCA8IHMubGVuZ3RoOyB0KyspIHNbdF0oZSk7CgkJCQkJCQlyID0gITAKCQkJCQkJfQoJCQkJCX0pLCBhID0gITAKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlLmFkLmxlbmd0aCA+IDApCgkJCQkJCWZvciAodmFyIHQgPSAwOyB0IDwgZS5hZC5sZW5ndGg7IHQrKykgIjEiID09IGUuYWRbdF0uZnJlaWdodCAmJiAoZS5hZFt0XS5mcmVpZ2h0dGxlID0gIuWMhemCriIpLCAiMCIgPT0gZS5hZFt0XS5kaXNjb3VudCAmJiAoZS5hZFt0XS5kaXNjb3VudCA9IChlLmFkW3RdLmRwX3ByaWNlIC8gZS5hZFt0XS5vcmlfcHJpY2UgKiAxMCkudG9GaXhlZCgxKSksIGUuYWRbdF0uZHBfcHJpY2UgPSAoTnVtYmVyKGUuYWRbdF0uZHBfcHJpY2UpIC8gMTAwKS50b0ZpeGVkKDIpLCBlLmFkW3RdLm9yaV9wcmljZSA9IChOdW1iZXIoZS5hZFt0XS5vcmlfcHJpY2UpIC8gMTAwKS50b0ZpeGVkKDIpOwoJCQkJCXJldHVybiBlCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCWlmICh0KSB7CgkJCQkJaWYgKG8pIHJldHVybiB2b2lkIHQobyk7CgkJCQkJYSA/IHMucHVzaCh0KSA6IGwoZSwgdCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWlmICghciAmJiAodCAmJiB0KCksIHMpKQoJCQkJCQkJZm9yICh2YXIgZSA9IDA7IGUgPCBzLmxlbmd0aDsgZSsrKSBzW2VdKCkKCQkJCQl9LCA0ZTMpCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDkpLAoJCQkJciA9IG4oMTgpLAoJCQkJcyA9IG4oODEpLAoJCQkJbCA9IHZvaWQgMCwKCQkJCWMgPSB2b2lkIDAsCgkJCQlkID0gdm9pZCAwLAoJCQkJcCA9IHZvaWQgMCwKCQkJCWggPSB2b2lkIDAsCgkJCQl1ID0gdm9pZCAwLAoJCQkJbSA9ICJ0YW9iYW8iID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSB8fCB0LnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSwKCQkJCWYgPSB7CgkJCQkJMTogIuS6mumprOmAiiIsCgkJCQkJMzogIuS6rOS4nOWVhuWfjiIsCgkJCQkJMjogIuW9k+W9k+e9kSIsCgkJCQkJMzE6ICLkuIDlj7flupciLAoJCQkJCTI1OiAi6IuP5a6B5piT6LStIgoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG8gPSBuKDEzMiksCgkJCQkJCXIgPSBhLmNvbXBpbGUobykoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWFsaXNpdGU6IG0sCgkJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJCWNfc2VydmVyOiB0LmNfc2VydmVyLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJCX0pOwoJCQkJCXUgPSBlLmxlbmd0aCwgaSgiIyIgKyB0Lndpc2hkb20yKS5hZnRlcihyKSwgaSgiLmJqZC15aWZlbnFpYW4tYm94IikuYWRkQ2xhc3MoInlpZmVucWlhbnNob3ciKSwgdSA+IDEgJiYgKGMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJdihlLmxlbmd0aCkKCQkJCQl9LCA2ZTMpLCBoID0gITAsIHcoKSksICJrYW9sYSIgPT09IHQuc2l0ZSAmJiBpKCIjYmpkX3lpZmVucWlhbl9kZXRhaWwgLnlmcS1wcmkiKS5jc3MoewoJCQkJCQlwb3NpdGlvbjogInJlbGF0aXZlIiwKCQkJCQkJdG9wOiAiLTJweCIKCQkJCQl9KQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJbCA9ICF0LnNpdGVfaWQgJiYgKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpID8gIjgzIiA6IHQuc2l0ZV9pZDsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSBbXSwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7CgkJCQkJCWlmIChlW2FdLnByaWNlID0gKE51bWJlcihlW2FdLnByaWNlKSAvIDEwMCkudG9GaXhlZCgyKSwgIjgzIiA9PT0gZVthXS5zaXRlX2lkKSB7CgkJCQkJCQl2YXIgbyA9IHsKCQkJCQkJCQlzb3VyY2U6ICJ5aWZlbnFpYW4iLAoJCQkJCQkJCWltZ191cmw6IGVbYV0uaW1nX3VybCwKCQkJCQkJCQl0aXRsZTogZVthXS50aXRsZSwKCQkJCQkJCQlwcmljZTogZVthXS5wcmljZSwKCQkJCQkJCQlzaG9wX25hbWU6ICIiLAoJCQkJCQkJCXNhbGVzOiAiIiwKCQkJCQkJCQlpZDogZVthXS51cmxfY3JjLAoJCQkJCQkJCXVybDogZVthXS51cmwsCgkJCQkJCQkJZGlzY3VzczogIiIsCgkJCQkJCQkJaXN0YW9iYW86ICIwIiwKCQkJCQkJCQlkcF9pZDogZVthXS51cmxfY3JjICsgIi0iICsgZVthXS5zaXRlX2lkLAoJCQkJCQkJCXNpdGVfaWQ6ICI4MyIKCQkJCQkJCX07CgkJCQkJCQltIHx8IChlW2FdLnVybCA9IHMobykpCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2YXIgbyA9IHsKCQkJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCQkJdXJsOiBlW2FdLnVybCwKCQkJCQkJCQltb2Q6ICJ5aWZlbnFpYW4iLAoJCQkJCQkJCXVuaW9uOiB0LnVuaW9uLnNwbGl0KCJfIilbMV0sCgkJCQkJCQkJZHBfaWQ6IGVbYV0udXJsX2NyYyArICItIiArIGVbYV0uc2l0ZV9pZAoJCQkJCQkJfTsKCQkJCQkJCWVbYV0udXJsID0gci5pbml0KG8pLCBlW2FdLnRpdGxlID0gZltlW2FdLnNpdGVfaWRdICsgIiZuYnNwOyZuYnNwOyIgKyBlW2FdLnRpdGxlCgkJCQkJCX0KCQkJCQkJZVthXS5zaXRlX2lkID09IGwgPyBuLnB1c2goZVthXSkgOiBpLnB1c2goZVthXSkKCQkJCQl9CgkJCQkJcmV0dXJuIG4uY29uY2F0KGkpCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICIwIjsKCQkJCQkodC5zaXRlLmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgdC5zaXRlLmluZGV4T2YoInRtYWxsIikgPiAtMSkgJiYgKG4gPSAiMSIpOwoJCQkJCXZhciBpID0gdC5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz15aWZlbnFpYW4mYWxpc2l0ZT0iICsgbjsKCQkJCQlvLmdldChpKS5kb25lKGZ1bmN0aW9uKHQpIHsKCQkJCQkJdCAmJiB0Lmxlbmd0aCA+IDAgJiYgKHQgPSBfKHQpLCBlKHQpKQoJCQkJCX0pCgkJCQl9LAoJCQkJdyA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoIi5iamQteWlmZW5xaWFuLWJveCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChjKSwgaCA9ICExCgkJCQkJCX0sIDIwMCkKCQkJCQl9KSwgaSgiLmJqZC15aWZlbnFpYW4tYm94Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGQpLCBjbGVhclRpbWVvdXQocCksIGggfHwgKGggPSAhMCwgcCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl2KHUpCgkJCQkJCX0sIDUwMCksIGMgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXYodSkKCQkJCQkJfSwgNmUzKSkKCQkJCQl9KQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlKSB7CgkJCQkJMSAhPT0gZSAmJiBpKCIuYmpkLXlpZmVucWlhbi1ib3ggbGkiKS5lYWNoKGZ1bmN0aW9uKHQsIG4pIHsKCQkJCQkJdmFyIGEgPSBpKG4pLmNzcygidG9wIikubWF0Y2goLyg/Oi18KVxkKy8pOwoJCQkJCQlhICYmIChhID0gcGFyc2VJbnQoYVswXSkpLCAwID4gYSA/IChhID0gMzQgKiAoZSAtIDEpLCBhIC09IDM0LCBpKG4pLmNzcygidG9wIiwgYSArICJweCIpKSA6IChhICUgMzQgIT09IDAgPyBhID0gMzQgKiBNYXRoLmZsb29yKGEgLyAzNCkgOiBhIC09IDM0LCBpKG4pLmFuaW1hdGUoewoJCQkJCQkJdG9wOiBhICsgInB4IgoJCQkJCQl9LCA1MDApKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJIjM2MGJ1eS1yZSIgIT09IHQuc2l0ZSAmJiAodC5mb3JiaWRZRlEgfHwgdC5JRTcgfHwgeChnKSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF95aWZlbnFpYW5fZGV0YWlsIiBjbGFzcz0iYmpkLXlpZmVucWlhbi1ib3giPlxuICA8dWw+XG4gICAge3tlYWNoIGRhdGF9fVxuICAgIDxsaSBzdHlsZT0idG9wOiB7eyRpbmRleCozNH19cHg7Ij5cbiAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2Zhdmljb24ve3skdmFsdWUuc2l0ZV9pZH19LmljbyIgPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ5ZnEtdGxlIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICA8c3BhbiBjbGFzcz0ieWZxLXByaSI+77+le3skdmFsdWUucHJpY2V9fTwvc3Bhbj5cbiAgICAgIFxuICAgIDwvbGk+XG4gICAge3svZWFjaH19XG4gIDwvdWw+XG4gIHt7aWYgIWFsaXNpdGV9fVxuICA8YSBocmVmPSJodHRwczovL3d3dy57e2V4dE5hbWV9fS5jb20vcHJvbW90aW9uL3poaT9pc190ZWppYT0xIiBjbGFzcz0ieWZxLW1vcmUiIHRhcmdldD0iX2JsYW5rIj7mm7TlpJo+IDwvYT5cbiAge3svaWZ9fVxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5iamQteWlmZW5xaWFuLWJveCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICB7e2lmIGFsaXNpdGV9fVxuICAgICNiamRfeWlmZW5xaWFuX2RldGFpbCB1bCBsaSAueWZxLXRsZSB7XG4gICAgICB3aWR0aDogMzU0cHg7XG4gICAgfVxuICAgIHt7L2lmfX1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKGUsIG4sIGkpIHsKCQkJCQl2YXIgYSA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBocmVmPSInICsgZSArICciIHRpdGxlPSLotK3nianlhZrlsIbluKbmgqjliY3lvoDnp7vliqjniYjpobXpnaLvvIzku6XkuJPkuqvku7fotK3kubDllYblk4EiIHRhcmdldD0iX2JsYW5rIiBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX21vYmlsZV9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0ibW9iaWxlX3RpdGxlIiA+56e75Yqo5LiT5LqrPC9zcGFuPjxzcGFuIGNsYXNzPSJtb2JpbGVfbnVtIj7vv6UnICsgbiArICI8L3NwYW4+PC9hPjwvbGk+IjsKCQkJCQlyKGEpCgkJCQl9LAoJCQkJYSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX3dlaXhpbl9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0id2VpeGluX3RpdGxlIiA+5b6u5L+h5omr56CBPC9zcGFuPjxzcGFuIGNsYXNzPSJ3ZWl4aW5fbnVtIj7vv6UnICsgZSArICI8L3NwYW4+PC9hPjwvbGk+IjsKCQkJCQlyKG4pCgkJCQl9LAoJCQkJbyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgaSA9ICc8ZGl2IGlkPSJ3eF9xcmNvZGUiPlxuICAgICAgICAgICAgICAgIDxzcGFuPuaJk+W8gOW+ruS/oeaJq+S4gOaJqzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJyArIGUgKyAnIiBhbHQ9IuW+ruS/oeS7t+agvOS6jOe7tOeggSIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+JzsKCQkJCQluKCIjIiArIHQud2lzaGRvbTIpLmFwcGVuZChuKGkpKQoJCQkJfSwKCQkJCXIgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIGkgPSAiIyIgKyB0Lndpc2hkb20yOwoJCQkJCW4oIi5wcm9tb19ib3hfbGVmdCB1bCIpLnByZXBlbmQobihlKSk7CgkJCQkJZm9yICh2YXIgYSA9IG4oIi5wcm9tb19ib3hfbGVmdCB1bCBsaSIpLCBvID0gYS5sZW5ndGgsIHIgPSAwOyBvID4gcjsgcisrKSBhLmVxKHIpLmF0dHIoImNsYXNzIiwgImxpXyIgKyByKTsKCQkJCQkzID4gbyA/IChuKGkpLmFkZENsYXNzKCJvbmVsaW5lIiksIG4oIiMiICsgdC5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCAxID09IG8gJiYgbigiLnByb21vX3NodXhpYW4iKS5oaWRlKCkpIDogbihpKS5yZW1vdmVDbGFzcygib25lbGluZSIpLmFkZENsYXNzKCJ0d29saW5lcyIpCgkJCQl9LAoJCQkJcyA9IGZ1bmN0aW9uKCkgewoJCQkJCW4oIiNnd2Rfd2VpeGluX3ByaWNlIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJbigiI3d4X3FyY29kZSIpLnNob3coKQoJCQkJCX0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4oIiN3eF9xcmNvZGUiKS5oaWRlKCkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQlpZiAoZS5tb2JpbGUpIHsKCQkJCQlpZiAodC5JRTcgfHwgdC5JRTggfHwgdC5JRTkgfHwgdC5JRTEwKSByZXR1cm47CgkJCQkJaShlLm1vYmlsZS5saW5rLCBlLm1vYmlsZS5wcmljZSwgbikKCQkJCX0gZWxzZSBlLndlaXhpbiAmJiAoYShlLndlaXhpbi5wcmljZSksIG8oZS53ZWl4aW4ucXJfY29kZV9saW5rKSwgcygpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iYmpkX21pbmlmYXZvcl9jb250ZW50IiAge3tpZiBjaG9vc2VkIH19Y2xhc3M9ImJqZF9jaG9vc2VkIiB7ey9pZn19PlxuICA8ZGl2IGNsYXNzPSJiamQtbG9naW4tYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJsb2dpbi1sZWZ0Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWlucHV0Ij5cbiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBpZD0idXNlcm5hbWUiIGF1dG9jb21wbGV0ZT0ib2ZmIiBwbGFjZWhvbGRlcj0i6YKu566xIj5cbiAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQiIHBsYWNlaG9sZGVyPSLlr4bnoIEiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL2ZvcmdvdF9wd2QvIiB0YXJnZXQ9Il9ibGFuayI+5b+Y6K6w5a+G56CBPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICA8L2Rpdj5cbiAgICAgIDxzcGFuIGlkPSJsb2dpbkNsaWNrQnRuIiBzZT7nmbvlvZU8L3NwYW4+XG4gICAgICA8YSBocmVmPSJodHRwczovL3d3dy57e2V4dE5hbWV9fS5jb20vdXNlci9yZWdpc3RlciIgY2xhc3M9InF1aWNrLXJlZyIgdGFyZ2V0PSJfYmxhbmsiPuW/q+mAn+azqOWGjDwvYT5cbiAgICAgIDxzcGFuIGlkPSJsb2dpbl9yZW1pbmRfdGxlIj7otKblj7fmiJblr4bnoIHplJnor6/vvIzor7fph43mlrDovpPlhaXvvIE8L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibG9naW4tcmlnaHQiPlxuICAgICAgPGRpdiBjbGFzcz0ic3AtYm9yZGVyIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9Im90aGVyLWxvZ2luLXN0eWxlIj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9e3t1cmx9fSIgY2xhc3M9InFxbG9naW4iID48L2E+XG4gICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD17e3VybH19IiBjbGFzcz0ic2luYWxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgICA8YSBocmVmPSJodHRwczovL29wZW4ud2VpeGluLnFxLmNvbS9jb25uZWN0L3FyY29ubmVjdD9hcHBpZD13eDM0MDA2YzE0MWY5ZGFhM2EmcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXNuc2FwaV9sb2dpbiZzdGF0ZT0yY2VkOTcwZDViOTc2ODBlOTU2NzBhNDhkMTEwMjYxMSZyZWRpcmVjdF91cmk9aHR0cCUzQSUyRiUyRnd3dy57e2V4dE5hbWV9fS5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3t1cmx9fSIgY2xhc3M9IndlaXhpbmxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJiamQtamlhbmdqaWEtcmUiPlxuICAgIDxkaXYgY2xhc3M9ImppYW5namlhLWxlZnQiPlxuICAgICAgPGRpdiBjbGFzcz0iamotcmVtaW5kIj5cbiAgICAgICAgPHA+6ZmN5Lu35o+Q6YaSPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiBub3RpZnlfc2l0ZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgIGRhdGEtdHlwZT0iMCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPuWFqOe9keWVhuWutuS9juS6jjwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7YWxscHJpY2V9fSI+XG4gICAgICAgICAgPHNwYW4+5YWD5pe25o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIG5vdGlmeV9zaXRlID09IFwnMVwnfX1zZWxlY3RlZCB7ey9pZn19IiBkYXRhLXR5cGU9IjEiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj7lvZPliY3llYblrrbkvY7kuo48L3NwYW4+XG4gICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e25vd3ByaWNlfX0iPlxuICAgICAgICAgIDxzcGFuPuWFg+aXtuaPkOmGkjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt7aWYgbG93ZXN0VXJsfX1cbiAgICAgICAgPGEgY2xhc3M9ImpqLXJlbWluZC1sb2dvIG1pbmktYmciIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7e2xvd2VzdFVybH19Ij48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iamotc3R5bGUiPlxuICAgICAgICA8cD7mj5DphpLmlrnlvI88L3A+XG4gICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiByZW1pbmRfdHlwZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWz5rOo5b6u5L+h6K6i6ZiF5Y+377yM5b6u5L+h5o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gamotcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIHJlbWluZF90eXBlID09IFwnMVwnfX1zZWxlY3RlZCB7ey9pZn19IiBkYXRhLXR5cGU9IjEiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj7pgq7nrrHmj5DphpI8L3NwYW4+XG4gICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSJ7e2VtYWlsdmFsdWV9fSIgY2xhc3M9InJlLW1haWwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gaWQ9ImVycm9yX3JlbWluZF90bGUiPuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgDwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJzdWJidG4iIGNsYXNzPSJzdWJidG4iPuaPkOS6pDwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJlZGl0X3JlX3N0eWxlIj7mm7TmlLnku7fmoLzmj5DphpLmlrnlvI88L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iamlhbmdqaWEtcmlnaHQiPlxuICAgICAgPHNwYW4gY2xhc3M9Im1ndG9wIj7lvq7kv6Hmn6Xor6I8L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPSJxcmNvZGUtamoiPlxuICAgICAgICA8aW1nIHNyYz0iaHR0cDovL2Nkbi57e2V4dE5hbWV9fS5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL21pbmlfZmF2b3Jfd3hfcXJjb2RlLmpwZyI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwIGNsYXNzPSJmaXJzdC1wIj7miavnoIHlhbPms6jlvq7kv6Hlj7c8L3A+XG4gICAgICA8cD7llYblk4HpmY3ku7flrp7ml7bmj5DphpI8L3A+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC5iamQtamlhbmdqaWEtcmUge1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAge3tpZiAhZW1haWx9fVxuICAgICAgZGlzcGxheTpub25lOyBcbiAgICAgIHt7L2lmfX1cbiAgICB9XG4gICAgLmJqZC1sb2dpbi1ib3gge1xuICAgICAge3tpZiBlbWFpbH19XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAge3svaWZ9fVxuICAgIH1cbiAgICAuamlhbmdqaWEtcmlnaHQgLm1ndG9wIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxOHB4O1xuICAgIH1cbiAgICAjYmpkX21pbmlmYXZvcl9jb250ZW50ICN1c2VybmFtZSB7XG4gICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDM2cHg7XG4gICAgfVxuICAgICNiamRfbWluaWZhdm9yX2NvbnRlbnQgI3Bhc3N3b3JkIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzNnB4O1xuICAgICAgbWFyZ2luLXRvcDogMjJweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAubG9naW4taW5wdXQge1xuICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAubG9naW4taW5wdXQsICNiamRfbWluaWZhdm9yX2NvbnRlbnQgI2xvZ2luQ2xpY2tCdG4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNiamRfbWluaWZhdm9yX2NvbnRlbnQgLmxvZ2luLWlucHV0IGRpdiB7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBsaW5lLWhlaWdodDogNDBweDtcbiAgICB9XG4gICAgI2JqZF9taW5pZmF2b3JfY29udGVudCAucXVpY2stcmVnIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgIH1cbiAgICAjYmpkX21pbmlmYXZvcl9jb250ZW50IC5vdGhlci1sb2dpbi1zdHlsZSB7XG4gICAgICBwYWRkaW5nOiA1OXB4IDA7XG4gICAgfVxuICAgICNsb2dpbkNsaWNrQnRuIHtcbiAgICAgIG1vei11c2VyLXNlbGVjdDogLW1vei1ub25lO1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1vLXVzZXItc2VsZWN0Om5vbmU7XG4gICAgICAta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTtcbiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDpub25lO1xuICAgICAgdXNlci1zZWxlY3Q6bm9uZTtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDEzNiksCgkJCQlvID0gbigxNiksCgkJCQlyID0gbigxMTkpLAoJCQkJcyA9IG4oOSksCgkJCQlsID0ge30sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2xvZ2luLXJlbWluZCBwIikuY3NzKCJjb2xvciIsICIjRDEwODMxIikKCQkJCX0sCgkJCQlkID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuID0gZSwKCQkJCQkJYSA9IHQgfHwgIiIsCgkJCQkJCW8gPSBpLmNfc2VydmVyICsgIi9hcGkvcmVtaW5kX3NldHRpbmc/YWN0aW9uPXNldCZlbWFpbD0iICsgaS5lbWFpbCArICImc2V0dGluZ190eXBlPSIgKyBuICsgIiZyZW1pbmRfZW1haWw9IiArIGE7CgkJCQkJcy5nZXQobykKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9mZigiY2xpY2siLCBjKSwgdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoIi5zZWxlY3QtaXRlbSIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmhhc0NsYXNzKCJxcmNvZGUtaXRlbSIpID8gdCgiI3JlbWluZF9xcmNvZGVfaW1nIikuc2hvdygpIDogdCh0aGlzKS5oYXNDbGFzcygiZW1haWwtaXRlbSIpICYmIHQoIiNyZW1pbmRfcXJjb2RlX2ltZyIpLmhpZGUoKQoJCQkJCX0pLCB0KCIjYmFyX3N1YmJ0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbiA9IHQoIiNmYXZvcl9ib3giKS5oYXNDbGFzcygiZmF2b3JfY2hvb3NlZCIpLAoJCQkJCQkJYSA9IHQoIiNmYXZvcl9ib3ggLmpqLXJlbWluZCAuc2VsZWN0LWl0ZW0uc2VsZWN0ZWQiKSwKCQkJCQkJCW8gPSBhLmF0dHIoImRhdGEtdHlwZSIpLAoJCQkJCQkJcyA9IGEucGFyZW50KCkuZmluZCgiaW5wdXQiKS52YWwoKTsKCQkJCQkJaWYgKCFzIHx8ICIwIiA9PT0gcykgcmV0dXJuIHZvaWQgdCgiLmVycm9yX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDJlMyk7CgkJCQkJCWlmICghbikgewoJCQkJCQkJdmFyIGwgPSB2b2lkIDAsCgkJCQkJCQkJYyA9IHQoIiNmYXZvcl9ib3ggLmpqLXN0eWxlIC5zZWxlY3QtaXRlbS5zZWxlY3RlZCIpLmF0dHIoImRhdGEtdHlwZSIpOwoJCQkJCQkJIjEiID09PSBjICYmIChsID0gdCgiI2Zhdm9yX2JveCAuamotc3R5bGUgLnJlLW1haWwiKS52YWwoKSksIGQoYywgbCksIHQoIiNmYXZvcl9ib3giKS5hZGRDbGFzcygiZmF2b3JfY2hvb3NlZCIpLCB0KCIjZWRpdF9yZW1pbmRfc3R5bGUsICNyZW1pbmRfcXJjb2RlIikuc2hvdygpCgkJCQkJCX0KCQkJCQkJdCgiIyIgKyBpLmV4dE5hbWUgKyAiLXRyZW5kLWRldGFpbCIpLmhpZGUoKSwgdCgiI3JlbWluZF9xcmNvZGVfaW1nIikuaGlkZSgpLCBlID0gITEsIHIuYWRkX2Zhdm9yKG8sIHMpCgkJCQkJfSksIHQoIiNyZW1pbmRfcXJjb2RlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPyAodCgiI3JlbWluZF9xcmNvZGVfaW1nIikuaGlkZSgpLCBlID0gITEpIDogKHQoIiNyZW1pbmRfcXJjb2RlX2ltZyIpLnNob3coKSwgZSA9ICEwKQoJCQkJCX0pLCB0KCIjZWRpdF9yZW1pbmRfc3R5bGUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiI2Zhdm9yX2JveCIpLnJlbW92ZUNsYXNzKCJmYXZvcl9jaG9vc2VkIiksIHQoIiNlZGl0X3JlbWluZF9zdHlsZSIpLmhpZGUoKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMubG9naW5SZW5kZXJUb3AgPSBmdW5jdGlvbigpIHsKCQkJCXQoIiNsb2dpbi1yZW1pbmQiKS5oaWRlKCksIHAoKSwgdSgpCgkJCX07CgkJCXZhciBoID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2xvZ2luLXJlbWluZCAuZ29fbG9naW5fYnRuIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiNsb2dpbi1yZW1pbmQgcCIpLmNzcygiY29sb3IiLCAiIzliOWI5YiIpLCB0KCIjbG9naW4tcmVtaW5kIikuaGlkZSgpLCB0KCIubG9naW4tY29udGVudCIpLnNob3coKS5hbmltYXRlKHsKCQkJCQkJCXJpZ2h0OiAiMHB4IgoJCQkJCQl9LCA1MDApCgkJCQkJfSksIHQoIiNsb2dpbkNsaWNrQnRuQmFyIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCgiI2JhcnVzZXJuYW1lIikudmFsKCksCgkJCQkJCQluID0gdCgiI2JhcnBhc3N3b3JkIikudmFsKCk7CgkJCQkJCXJldHVybiBlICYmIG4gPyB2b2lkIHIudXNlckxvZ2luKGUsIG4sIGZ1bmN0aW9uKCkgewoJCQkJCQkJcCgpLCB1KCkKCQkJCQkJfSkgOiB2b2lkIHQoIiNsb2dpbl9yZW1pbmRfdGxlLCAjbG9naW5fcmVtaW5kX3RsZV9iYXIiKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKS5mYWRlT3V0KDVlMykKCQkJCQl9KSwgdCgiI2xvZ19iYWNrX2J0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjbG9naW4tcmVtaW5kIikuc2hvdygpLCB0KCIubG9naW4tY29udGVudCIpLmFuaW1hdGUoewoJCQkJCQkJcmlnaHQ6ICItMjkycHgiCgkJCQkJCX0sIDUwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIubG9naW4tY29udGVudCIpLmhpZGUoKQoJCQkJCQl9KQoJCQkJCX0pCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gImh0dHBzOi8vd3d3Lmd3ZGFuZy5jb20vY29sbGVjdC9nZXRfcXJjb2RlLz9lbWFpbD0iICsgaS5lbWFpbDsKCQkJCQlzLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJdCgiI3JlbWluZF9xcmNvZGVfaW1nIGltZyIpLmF0dHIoInNyYyIsIGUuaW1nX3VybCksIHQoIi5xcmNvZGUtamogaW1nIikuYXR0cigic3JjIiwgZS5pbWdfdXJsKSwgdCgiI3JlbWluZF9xcmNvZGUiKS5zaG93KCkKCQkJCQl9KQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG4gPSB2b2lkIDAsCgkJCQkJCXIgPSB2b2lkIDAsCgkJCQkJCXMgPSB2b2lkIDAsCgkJCQkJCWMgPSBpLmVtYWlsLAoJCQkJCQlkID0gaS5zYXZlX2RwX3F1ZXJ5OwoJCQkJCWlmIChkLm5vdy5ub3dfZHBfaWQpIHsKCQkJCQkJdmFyIGggPSBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZiksCgkJCQkJCQltID0gaS5kcC5vbGRQcmljZSB8fCBkLm5vdy5wcmljZSB8fCBpLmRwLnByaWNlOwoJCQkJCQlpLmFsaVNpdGUgJiYgKG0gPSBpLmRwLnByaWNlKTsKCQkJCQkJdmFyIGYgPSBkLmIyYy5taW5fcHJpY2UgfHwgbTsKCQkJCQkJbSA9IE51bWJlcihtLnRvU3RyaW5nKCkucmVwbGFjZSgiLCIsICIiKSksIGYgPSBOdW1iZXIoZi50b1N0cmluZygpLnJlcGxhY2UoIiwiLCAiIikpLCBkLmIyYy5wcm9kdWN0ICYmIChzID0gZC5iMmMucHJvZHVjdFswXS51cmwpLCBpLmFsaVNpdGUgJiYgKHMgPSAiamF2YXNjcmlwdDoiKSwgZS5oYXNfcmVtaW5kX3R5cGUgJiYgKG4gPSAhMCksIGUuaXNfY29sbGVjdGVkICYmIChsLmlzX2NvbGxlY3RlZCA9IGUuaXNfY29sbGVjdGVkLCAiMSIgPT09IGUubm90aWZ5X3NpdGUgPyBtID0gZS5yZW1pbmRfcHJpY2UgOiBmID0gZS5yZW1pbmRfcHJpY2UpLCBsLm5vdGlmeV9zaXRlID0gZS5ub3RpZnlfc2l0ZSB8fCAiMSIsIHIgPSBlLnJlbWluZF90eXBlIHx8ICIwIiwgaS5lbWFpbC5pbmRleE9mKGkuZXh0TmFtZSArICIuY29tIikgPiAtMSAmJiAoYyA9ICIiKTsKCQkJCQkJdmFyIGcgPSBvLmNvbXBpbGUoYSkoewoJCQkJCQkJY2hvb3NlZDogbiwKCQkJCQkJCWlzbG9naW46ICEwLAoJCQkJCQkJZW1haWw6IGkuZW1haWwsCgkJCQkJCQllbWFpbHZhbHVlOiBjLAoJCQkJCQkJdXJsOiBoLAoJCQkJCQkJYWxpU2l0ZTogaS5hbGlTaXRlLAoJCQkJCQkJbG93ZXN0VXJsOiBzLAoJCQkJCQkJbm90aWZ5X3NpdGU6IGwubm90aWZ5X3NpdGUsCgkJCQkJCQlub3dwcmljZTogbSwKCQkJCQkJCWFsbHByaWNlOiBmLAoJCQkJCQkJcmVtaW5kX3R5cGU6IHIsCgkJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCQltb25leTogbC5tb25leSwKCQkJCQkJCWxhc3RwcmljZTogbC5ub3dwcmljZSwKCQkJCQkJCXByaWNlX3JhbmdlOiBsLnByaWNlX3JhbmdlCgkJCQkJCX0pOwoJCQkJCQl0KGwuZG9tKS5hcHBlbmQoZyksIHAoKSwgdSgpCgkJCQkJfQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIHIgPSB2b2lkIDAsCgkJCQkJCXMgPSBpLmRwLnByaWNlLAoJCQkJCQlkID0gaS5zYXZlX2RwX3F1ZXJ5OwoJCQkJCWQuYjJjLnByb2R1Y3QgJiYgKHIgPSBkLmIyYy5wcm9kdWN0WzBdLnVybCk7CgkJCQkJdmFyIHAgPSBvLmNvbXBpbGUoYSkoewoJCQkJCQllbWFpbDogaS5lbWFpbCwKCQkJCQkJZW1haWx2YWx1ZTogIiIsCgkJCQkJCWxvd2VzdFVybDogciwKCQkJCQkJbm90aWZ5X3NpdGU6ICIwIiwKCQkJCQkJbm93cHJpY2U6IGwubm93cHJpY2UsCgkJCQkJCWFsbHByaWNlOiBzLAoJCQkJCQlyZW1pbmRfdHlwZTogIjAiLAoJCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJCW1vbmV5OiBuLAoJCQkJCQlhbGlTaXRlOiBpLmFsaVNpdGUsCgkJCQkJCWxhc3RwcmljZTogbC5ub3dwcmljZSwKCQkJCQkJcHJpY2VfcmFuZ2U6IGwucHJpY2VfcmFuZ2UKCQkJCQl9KTsKCQkJCQl0KGUpLmFwcGVuZChwKSwgdCgiI2Zhdm9yX2JveCAuYmFyLWppYW5namlhLXJlIC5zZWxlY3QtaXRlbSIpLm9uKCJjbGljayIsIGMpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUsIHQsIGEpIHsKCQkJCWlmIChsLm5vd3ByaWNlID0gTnVtYmVyKGEuc3RvcmVbMF0uY3VycmVudF9wcmljZSksIGwucHJpY2VfcmFuZ2UgPSBhLnN0b3JlWzBdLnByaWNlX3JhbmdlLnJlcGxhY2UoIi0iLCAiIH4gIiksIGwuZG9tID0gZSwgbC5tb25leSA9IHQsIGkuZW1haWwpIHRyeSB7CgkJCQkJbigxMTkpLmdldFJlbWluZFN0eWxlKG0pCgkJCQl9IGNhdGNoIChvKSB7fSBlbHNlIGYoZSwgdCk7CgkJCQloKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImZhdm9yX2JveCIge3tpZiBjaG9vc2VkIH19Y2xhc3M9ImZhdm9yX2Nob29zZWQiIHt7L2lmfX0+XG4gIDxkaXYgY2xhc3M9ImxvZ2luLWNvbnRlbnQgIj5cbiAgICA8ZGl2IGNsYXNzPSJiamQtbG9naW4tYm94Ij5cbiAgICA8ZGl2IGNsYXNzPSJsb2dpbi1sZWZ0Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWlucHV0Ij5cbiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBpZD0iYmFydXNlcm5hbWUiIHBsYWNlaG9sZGVyPSLpgq7nrrEiPlxuICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJiYXJwYXNzd29yZCIgcGxhY2Vob2xkZXI9IuWvhueggSI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvZm9yZ290X3B3ZC8iIHRhcmdldD0iX2JsYW5rIj7lv5jorrDlr4bnoIE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgIDwvZGl2PlxuICAgICAgPHNwYW4gaWQ9ImxvZ2luQ2xpY2tCdG5CYXIiPueZu+W9lTwvc3Bhbj5cbiAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL3JlZ2lzdGVyIiBjbGFzcz0icXVpY2stcmVnIiB0YXJnZXQ9Il9ibGFuayI+5b+r6YCf5rOo5YaMPC9hPlxuICAgICAgPHNwYW4gaWQ9ImxvZ2luX3JlbWluZF90bGVfYmFyIj7otKblj7fmiJblr4bnoIHplJnor6/vvIzor7fph43mlrDovpPlhaXvvIE8L3NwYW4+XG4gICAgICA8c3BhbiBpZD0ibG9nX2JhY2tfYnRuIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0ibG9naW4tcmlnaHQiPlxuICAgICAgPGRpdiBjbGFzcz0ic3AtYm9yZGVyIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9Im90aGVyLWxvZ2luLXN0eWxlIj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cue3tleHROYW1lfX0uY29tL3VzZXIvb2F1dGgvP3BsPTcmb3A9bG9naW4mZnJvbV91cmw9e3t1cmx9fSIgY2xhc3M9InFxbG9naW4iID48L2E+XG4gICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbS91c2VyL29hdXRoaC8/cGw9MiZvcD1sb2dpbiZmcm9tX3VybD17e3VybH19IiBjbGFzcz0ic2luYWxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgICA8YSBocmVmPSJodHRwczovL29wZW4ud2VpeGluLnFxLmNvbS9jb25uZWN0L3FyY29ubmVjdD9hcHBpZD13eDM0MDA2YzE0MWY5ZGFhM2EmcmVzcG9uc2VfdHlwZT1jb2RlJnNjb3BlPXNuc2FwaV9sb2dpbiZzdGF0ZT0yY2VkOTcwZDViOTc2ODBlOTU2NzBhNDhkMTEwMjYxMSZyZWRpcmVjdF91cmk9aHR0cCUzQSUyRiUyRnd3dy57e2V4dE5hbWV9fS5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3t1cmx9fSIgY2xhc3M9IndlaXhpbmxvZ2luICBtaW5pLWJnIiA+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iYmFyLWppYW5namlhLXJlIj5cbiAgICA8ZGl2IGNsYXNzPSJwcmljZS1oZWFkIj5cbiAgICAgIDxkaXYgY2xhc3M9ImhlYWQtaXRlbSBub3ctcHJpLWRpdiI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJyZS1zdHJvbmciPuW9k+WJjeS7t+agvO+8mjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InJlLXByaWNlIj57e21vbmV5fX17e2xhc3RwcmljZX19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJoZWFkLWl0ZW0gaGlzLXByaS1kaXYiPlxuICAgICAgICA8c3BhbiBjbGFzcz0icmUtc3Ryb25nIj7ljoblj7Lku7fmoLzvvJo8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJyZS1wcmljZS1udW0iPnt7bW9uZXl9fXt7cHJpY2VfcmFuZ2V9fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImpqLXJlbWluZCI+XG4gICAgICAgIDxwPumZjeS7t+aPkOmGkjwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tZnN0Ij5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ic2VsZWN0LWl0ZW0gbWluaS1iZyB7e2lmIG5vdGlmeV9zaXRlID09IFwnMFwnfX1zZWxlY3RlZCB7ey9pZn19IiAgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWo572R5ZWG5a625L2O5LqOe3ttb25leX19PC9zcGFuPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiB2YWx1ZT0ie3thbGxwcmljZX19Ij5cbiAgICAgICAgICA8c3Bhbj7ml7bmj5DphpI8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSByZW1pbmQtaXRlbS1zbmQiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZWxlY3QtaXRlbSBtaW5pLWJnIHt7aWYgbm90aWZ5X3NpdGUgPT0gXCcxXCd9fXNlbGVjdGVkIHt7L2lmfX0iIGRhdGEtdHlwZT0iMSI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPuW9k+WJjeWVhuWutuS9juS6jnt7bW9uZXl9fTwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7bm93cHJpY2V9fSI+XG4gICAgICAgICAgPHNwYW4+5pe25o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3tpZiBhbGxwcmljZSAmJiAhYWxpU2l0ZSAmJiBsb3dlc3RVcmx9fVxuICAgICAgICA8YSBjbGFzcz0iamotcmVtaW5kLWxvZ28yIGhhc3VybCBtaW5pLWJnIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0ie3tsb3dlc3RVcmx9fSI+PC9hPlxuICAgICAgICB7e2Vsc2UgaWYgIWFsaVNpdGUgJiYgIWFsbHByaWNlfX1cbiAgICAgICAgICA8YSBjbGFzcz0iamotcmVtaW5kLWxvZ28iID48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0iamotc3R5bGUiPlxuICAgICAgICA8cD7mj5DphpLmlrnlvI88L3A+XG4gICAgICAgICA8ZGl2IGNsYXNzPSJyZW1pbmQtaXRlbSI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InFyY29kZS1pdGVtIHNlbGVjdC1pdGVtIG1pbmktYmcge3tpZiByZW1pbmRfdHlwZSA9PSBcJzBcJ319c2VsZWN0ZWQge3svaWZ9fSIgZGF0YS10eXBlPSIwIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+5YWz5rOo5b6u5L+h6K6i6ZiF5Y+377yM5b6u5L+h5o+Q6YaSPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0icmVtaW5kLWl0ZW0gcmVtaW5kLWl0ZW0tc25kIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0iZW1haWwtaXRlbSBzZWxlY3QtaXRlbSBtaW5pLWJnIHt7aWYgcmVtaW5kX3R5cGUgPT0gXCcxXCd9fXNlbGVjdGVkIHt7L2lmfX0iIGRhdGEtdHlwZT0iMSI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPumCrueuseaPkOmGkjwvc3Bhbj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9Int7ZW1haWx2YWx1ZX19IiBjbGFzcz0icmUtbWFpbCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICAgPHNwYW4gaWQ9ImJhcl9zdWJidG4iIGNsYXNzPSJzdWJidG4iPuaPkOS6pDwvc3Bhbj5cbiAgICAgIDxkaXYgaWQ9ImxvZ2luLXJlbWluZCIgY2xhc3M9Int7aWYgaXNsb2dpbn19IGxvZ2luZWQge3svaWZ9fSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJnb19sb2dpbl9idG4iPuWOu+eZu+W9lTwvc3Bhbj5cbiAgICAgICAgPHA+55m75b2V6LSm5oi377yM5Y+K5pe26I635Y+W5ZWG5ZOB6ZmN5Lu35L+h5oGv5o+Q6YaSPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiBjbGFzcz0iZXJyb3JfcmVtaW5kIj7or7fovpPlhaXmraPnoa7moLzlvI/llYblk4Hku7fmoLw8L3NwYW4+XG4gICAgICA8c3BhbiBpZD0iZWRpdF9yZW1pbmRfc3R5bGUiPuabtOaUueS7t+agvOaPkOmGkuaWueW8jzwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJyZW1pbmRfcXJjb2RlIiBjbGFzcz0ie3tpZiBpc2xvZ2lufX0gbG9naW5lZCB7ey9pZn19IiBub3M+5b6u5L+h5LqM57u056CBPC9zcGFuPlxuICAgICAgPGRpdiBpZD0icmVtaW5kX3FyY29kZV9pbWciPlxuICAgICAgICA8aW1nIHNyYz0iIiBhbHQ9IuS6jOe7tOeggSI+XG4gICAgICAgIDxwPui0reeJqeWFmuavlOS7tzwvcD5cbiAgICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjZmF2b3JfYm94IC5lcnJvcl9yZW1pbmQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiA5N3B4O1xuICAgICAgbGVmdDogMTAycHg7XG4gICAgICBmb250LXNpemU6IDEycHghaW1wb3J0YW50O1xuICAgICAgY29sb3I6ICNFRjExMzchaW1wb3J0YW50O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveC5mYXZvcl9jaG9vc2VkIC5lcnJvcl9yZW1pbmQge1xuICAgICAgYm90dG9tOiA2OXB4O1xuICAgICAgbGVmdDogOTVweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB3aWR0aDogMzIwcHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlYWVhZWE7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBoZWlnaHQ6IDI2MHB4O1xuICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMHB4O1xuICAgICAgcmlnaHQ6IC0yOTJweDtcbiAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IC5sb2dpbi1yaWdodCB7XG4gICAgICB3aWR0aDogODZweDtcbiAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgfVxuICAgIC5sb2dpbi1jb250ZW50IC5vdGhlci1sb2dpbi1zdHlsZSB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIHBhZGRpbmc6IDM0cHggMDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAubG9naW4tbGVmdCB7XG4gICAgICB3aWR0aDogMjI2cHg7XG4gICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAub3RoZXItbG9naW4tc3R5bGUgYSB7XG4gICAgICBtYXJnaW46IDEwcHggMHB4O1xuICAgIH1cbiAgICAubG9naW4tY29udGVudCAubG9naW4taW5wdXQgaW5wdXQge1xuICAgICAgd2lkdGg6IDE0OHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIzcHg7XG4gICAgICBtYXJnaW4tdG9wOiAyMnB4O1xuICAgIH1cbiAgICAjYmpkLW5vdGlmaWVyIC5wcmljZS10cmVuZCBkaXYuY2hhcnQge1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lIWltcG9ydGFudDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAucHJpY2UtaGVhZCB7XG4gICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5oZWFkLWl0ZW0ge1xuICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuaGVhZC1pdGVtIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmhlYWQtaXRlbTphZnRlciB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmhpcy1wcmktZGl2IHtcbiAgICAgIG1hcmdpbi10b3A6IDlweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAubG9naW4taW5wdXQgZGl2IGEge1xuICAgICAgY29sb3I6ICM4MmMwZTA7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmxvZ2luLWlucHV0IGRpdiB7XG4gICAgICBwYWRkaW5nLXRvcDogM3B4O1xuICAgICAgcGFkZGluZy1yaWdodDogMjdweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCBhLnF1aWNrLXJlZyB7XG4gICAgICBjb2xvcjogIzVjYzJmYjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDkwcHg7XG4gICAgfVxuICAgICNsb2dfYmFja19idG4ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxMHB4O1xuICAgICAgbGVmdDogMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMThweDtcbiAgICAgIHdpZHRoOiAxOHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwnaHR0cHM6Ly9jZG4uZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvbG9naW4tZGVsZXRlLnBuZ1wnKSBuby1yZXBlYXQgMHB4IDBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2xvZ2luQ2xpY2tCdG5CYXIge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICB3aWR0aDogODBweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ3QkVGRTtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA3MnB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLXRvcDogMjNweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAubG9naW4taW5wdXQge1xuICAgICAgbWFyZ2luLXRvcDogMTdweDtcbiAgICB9XG5cbiAgICAjZmF2b3JfYm94IHNwYW4ucmUtc3Ryb25nIHtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjMmYzNzM1O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTNweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAucmUtcHJpY2UtbnVtIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICM0NTRBNEQ7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggc3Bhbi5yZS1wcmljZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI0QxMDgzMTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5zZWxlY3QtaXRlbSB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0M3B4IC0xMHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLnNlbGVjdC1pdGVtLnNlbGVjdGVkIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0yNjlweCAtMTBweDtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuamotcmVtaW5kPnAsICNmYXZvcl9ib3ggLmpqLXN0eWxlPnAge1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmpqLXN0eWxlPnAge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICB9XG4gICAgLmpqLXN0eWxlIC5yZW1pbmQtaXRlbS1zbmQge1xuICAgICAgbWFyZ2luLXRvcDogMTFweDtcbiAgICB9XG4gICAgLmZhdm9yX2Nob29zZWQgIC5qai1yZW1pbmQge1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgIGhlaWdodDogMTAycHg7XG4gICAgfVxuICAgIC5mYXZvcl9jaG9vc2VkIC5yZW1pbmQtaXRlbS1mc3Qge1xuICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIycHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLnJlbWluZC1pdGVtIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgIH1cbiAgICAucmVtaW5kLWl0ZW0tc25kIHtcbiAgICAgIG1hcmdpbi10b3A6IDExcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3guZmF2b3JfY2hvb3NlZCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbyB7XG4gICAgICB0b3A6IDE2cHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3guZmF2b3JfY2hvb3NlZCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbzIge1xuICAgICAgdG9wOiAxMnB4O1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCBzcGFuLnN1YmJ0biB7XG4gICAgICBtYXJnaW4tdG9wOiAyNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEzNnB4O1xuICAgIH1cbiAgICAuamotc3R5bGUge1xuICAgICAgaGVpZ2h0OiA3M3B4O1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCAuamotc3R5bGUge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2Zhdm9yX2JveCAuamotcmVtaW5kIC5qai1yZW1pbmQtbG9nbyB7XG4gICAgICB0b3A6IC00cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCdodHRwczovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci9yZW1pbmRfcHJpY2UucG5nXCcpIG5vLXJlcGVhdCAwcHggMHB4O1xuICAgICAgd2lkdGg6IDEyNXB4O1xuICAgICAgbGVmdDogMTEzcHg7XG4gICAgfVxuICAgICNmYXZvcl9ib3ggLmpqLXJlbWluZCAuamotcmVtaW5kLWxvZ28yIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjVweDtcbiAgICAgIHdpZHRoOiAxMTBweDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xMjJweCAtNzRweDtcbiAgICAgIGxlZnQ6IDExNnB4O1xuICAgICAgdG9wOiAtMnB4O1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5qai1yZW1pbmQgLmpqLXJlbWluZC1sb2dvMjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOHB4IC03NHB4O1xuICAgIH1cbiAgICAucmVtaW5kLWl0ZW0tZnN0IHtcbiAgICAgIG1hcmdpbi10b3A6IDEzcHg7XG4gICAgfVxuICAgICNsb2dpbi1yZW1pbmQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XG4gICAgICBoZWlnaHQ6IDExMXB4O1xuICAgICAgd2lkdGg6IDMxOXB4O1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICByaWdodDogMHB4O1xuICAgIH1cbiAgICAjbG9naW4tcmVtaW5kLmxvZ2luZWQge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2xvZ2luLXJlbWluZCAuZ29fbG9naW5fYnRuIHtcbiAgICAgIHdpZHRoOiA3MHB4O1xuICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI2cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWViZWZmO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIG1hcmdpbjogMzBweCAwcHggMHB4IDEzMHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAjbG9naW4tcmVtaW5kIC5nb19sb2dpbl9idG46aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM3OTBlMTtcbiAgICB9XG4gICAgI2xvZ2luLXJlbWluZCBwIHtcbiAgICAgIGNvbG9yOiAjOWI5YjliO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbWFyZ2luLXRvcDogNjhweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHdpZHRoOiAzMjBweDtcbiAgICB9XG4gICAgLmxvZ2luLWNvbnRlbnQgLnNwLWJvcmRlciB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwcHggMTZweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgIH1cbiAgICAjZWRpdF9yZW1pbmRfc3R5bGUsICNyZW1pbmRfcXJjb2Rle1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLmZhdm9yX2Nob29zZWQgI2VkaXRfcmVtaW5kX3N0eWxlIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGUubG9naW5lZHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgI2VkaXRfcmVtaW5kX3N0eWxlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvdHRvbTogMTFweDtcbiAgICAgIGxlZnQ6IDE0cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzVlYmVmZjtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiA3cHg7XG4gICAgICByaWdodDogMzhweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogLW1vei1ub25lO1xuICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cbiAgICAuZmF2b3JfY2hvb3NlZCAjcmVtaW5kX3FyY29kZSB7XG4gICAgICBib3R0b206IDExcHg7XG4gICAgICByaWdodDogMTRweDtcbiAgICAgIHotaW5kZXg6IDk5OTk5OTk5O1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWcge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICBoZWlnaHQ6IDEzNHB4O1xuICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgYm90dG9tOiAzNnB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMWUxZTE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAxNXB4IDAgcmdiYSgyMywyNSwyNywwLjE1KTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nIGltZyB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nOmJlZm9yZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgaGVpZ2h0OiAwcHg7XG4gICAgICB3aWR0aDogMHB4O1xuICAgICAgYm9yZGVyOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICBib3JkZXItdG9wLWNvbG9yOiAjOTk5O1xuICAgICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiA3cHg7XG4gICAgICBib3JkZXItbGVmdC13aWR0aDogN3B4O1xuICAgICAgdG9wOiAxMzVweDtcbiAgICAgIHJpZ2h0OiA1MnB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWc6YWZ0ZXIge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBjb250ZW50OiAiIjtcbiAgICAgIGhlaWdodDogMHB4O1xuICAgICAgd2lkdGg6IDBweDtcbiAgICAgIGJvcmRlcjogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjtcbiAgICAgIGJvcmRlci1yaWdodC13aWR0aDogOHB4O1xuICAgICAgYm9yZGVyLWxlZnQtd2lkdGg6IDhweDtcbiAgICAgIHRvcDogMTM0cHg7XG4gICAgICByaWdodDogNTFweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB9XG4gICAgI3JlbWluZF9xcmNvZGVfaW1nIHAge1xuICAgICAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgcGFkZGluZzogMHB4IDZweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjOGQ4ZDhkO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiAtOHB4O1xuICAgIH1cbiAgICAjcmVtaW5kX3FyY29kZV9pbWcgcDphZnRlcntcbiAgICAgIGNvbnRlbnQ6Ii4iO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6MTAwJTtcbiAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIGhlaWdodDowO1xuICAgIH1cbiAgICAjZmF2b3JfYm94IC5xcWxvZ2luIHtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHghaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2Pic7Cgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG48bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0iIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj5cbiAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1mYXZvci1waWMiIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSI+XG4gICAgPGltZyBzcmM9Imh0dHA6Ly9icm93c2VyLnt7ZXh0TmFtZX19LmNvbS90ZW1wbGF0ZS9hdWcvaW1hZ2VzL25ldy8xMjAuZ2lmIiBkYXRhLW9yaWdpbmFsPSJ7eyR2YWx1ZS5waWNfdXJsfX0iIGRfd2lkdGg9IjYwIiBkX2hlaWdodD0iNjAiIGlkPSJ7e2V4dE5hbWV9fS1mYXZvci1kcHt7JHZhbHVlLmRwX2lkfX0iPjwvYT5cbiAgICA8cCBjbGFzcz0ie3tleHRCcmFuZH19LWZhdm9yLXByb2R1Y3QtdGl0bGUiPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIj57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIDwvcD5cbiAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIHt7ZXh0QnJhbmR9fS1mYXZvci1wcmljZSI+XG4gICAgICB7eyR2YWx1ZS5uZXdQcmljZX19XG4gICAgICB7e2lmICR2YWx1ZS5oYXNwcmljZX19XG4gICAgICA8ZW0+ICZuYnNwO+i1tzwvZW0+XG4gICAgICB7ey9pZn19XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tZGVsIHt7ZXh0QnJhbmR9fS1ncmF5IiBkcF9pZD0ie3skdmFsdWUuZHBfaWR9fSI+5YigJm5ic3A76ZmkPC9zcGFuPlxuICA8L2xpPlxuICB7ey9lYWNofX0nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhLCBvKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuZXcgRGF0ZSwKCQkJCQlpID0gdm9pZCAwLAoJCQkJCXIgPSBuKDEzOSksCgkJCQkJcyA9IG4oNDApLAoJCQkJCWwgPSBuKDE0MCksCgkJCQkJYyA9IG4oNiksCgkJCQkJZCA9IG4oMTE4KSwKCQkJCQlwID0gbigxNiksCgkJCQkJaCA9IG4oMTMpLAoJCQkJCXUgPSBuKDI2KSwKCQkJCQltID0gbig5MiksCgkJCQkJZiA9ICExLAoJCQkJCWcgPSAi576O5YWDIiwKCQkJCQlfID0gMSwKCQkJCQl4ID0gMCwKCQkJCQl3ID0gODY0ZTUsCgkJCQkJdiA9IDEwLAoJCQkJCWIgPSAzLAoJCQkJCXkgPSAhMSwKCQkJCQlrID0gdm9pZCAwLAoJCQkJCXogPSB2b2lkIDAsCgkJCQkJQiA9ICExLAoJCQkJCWogPSB2b2lkIDAsCgkJCQkJQyA9IHZvaWQgMDsKCQkJCWEuU1ZHUmVuZGVyZXIucHJvdG90eXBlLnN5bWJvbHMucmVjdCA9IGZ1bmN0aW9uKGUsIHQsIG4sIGkpIHsKCQkJCQlyZXR1cm4gWyJNIiwgZSAtIDIsIHQsICJMIiwgZSArIDksIHQsICJMIiwgZSArIDksIHQgKyA1LCAiTCIsIGUgLSAyLCB0ICsgNSwgIloiXQoJCQkJfSwgYS5TVkdSZW5kZXJlci5wcm90b3R5cGUuc3ltYm9scy5zbWFsbFJlY3QgPSBmdW5jdGlvbihlLCB0LCBuLCBpKSB7CgkJCQkJcmV0dXJuIFsiTSIsIGUgLSAyLCB0LCAiTCIsIGUgKyA5LCB0LCAiWiJdCgkJCQl9LCBhLndyYXAoYS5Ub29sdGlwLnByb3RvdHlwZSwgImhpZGUiLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5hcHBseSh0aGlzKSwgdGhpcy5jaGFydC50b29sdGlwLm9wdGlvbnMub25IaWRlLmFwcGx5KHRoaXMpCgkJCQl9KTsKCQkJCXZhciBTID0gewoJCQkJCWZvbGRlZDogInNtYWxsUmVjdCIsCgkJCQkJZXh0ZW5kZWQ6ICJyZWN0IgoJCQkJfTsKCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKFMuZm9sZGVkID0gImNpcmNsZSIsIFMuZXh0ZW5kZWQgPSAiY2lyY2xlIik7CgkJCQl2YXIgTiA9ICJwbG90QWxsIiwKCQkJCQlUID0gITEsCgkJCQkJUCA9IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IFtdLAoJCQkJCQkJdCA9IHsKCQkJCQkJCQlpbkxpc3Q6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJcmV0dXJuIGUuaW5kZXhPZih0KSA+IC0xCgkJCQkJCQkJfSwKCQkJCQkJCQlhZGQ6IGZ1bmN0aW9uKHQpIHsKCQkJCQkJCQkJQiAmJiBUIHx8IGUuaW5kZXhPZih0KSA+IC0xIHx8IGUucHVzaCh0KQoJCQkJCQkJCX0sCgkJCQkJCQkJcmVtb3ZlOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJCXZhciBuID0gZS5pbmRleE9mKHQpOwoJCQkJCQkJCQluID4gLTEgJiYgZS5zcGxpY2UobiwgMSkKCQkJCQkJCQl9CgkJCQkJCQl9OwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0oKSwKCQkJCQlJID0gZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0ge307CgkJCQkJCWVbIuivhOiuuuaVsCJdID0gIiNjYTYwYTYiOwoJCQkJCQl2YXIgdCA9IFsiIzQ1YjdmNSIsICIjZWI0NmViIiwgIiNmZmFkMDYiLCAiIzIxYzFkYiIsICIjYjg4YWU2IiwgIiNiMzcwMzYiLCAiI2I5ZGIwZiIsICIjZmZkOTFjIl0sCgkJCQkJCQluID0gMDsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKGkpIHsKCQkJCQkJCXJldHVybiBlW2ldID8gZVtpXSA6IG4gPCB0Lmxlbmd0aCA/IChlW2ldID0gdFtuKytdLCBlW2ldKSA6IChlW2ldID0gIiMiICsgcGFyc2VJbnQoMjU2ICogTWF0aC5yYW5kb20oKSAqIDI1NiAqIDI1NikudG9TdHJpbmcoMTYpLCBlW2ldKQoJCQkJCQl9CgkJCQkJfSgpLAoJCQkJCUEgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSAhMTsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCQkJZSB8fCAoZSA9ICEwLCBoLmxvZygidHJlbmQtcXJjb2RlLXNob3ciKSwgdSgidHJlbmQtcXJjb2RlLXNob3ciKSkKCQkJCQkJfQoJCQkJCX0oKSwKCQkJCQlxID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTWF0aC5hYnMoZSAtIHQpIDwgMWUtNAoJCQkJCX0sCgkJCQkJRSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpCgkJCQkJfSwKCQkJCQlPID0gITAsCgkJCQkJTCA9IDAsCgkJCQkJRCA9ICExLAoJCQkJCU0gPSB2b2lkIDAsCgkJCQkJUiA9IHZvaWQgMCwKCQkJCQlGID0gdm9pZCAwLAoJCQkJCSQgPSB2b2lkIDAsCgkJCQkJVyA9IHZvaWQgMCwKCQkJCQlIID0gdm9pZCAwOwoJCQkJTCA9IG4oMTQxKTsKCQkJCXZhciBVID0gZnVuY3Rpb24oZSwgdCwgbiwgaSkgewoJCQkJCQl2YXIgYSA9ICQuc3RvcmUuZmlsdGVyKGZ1bmN0aW9uKHQpIHsKCQkJCQkJCXJldHVybiB0Lm5hbWUgPT09IGUKCQkJCQkJfSlbMF07CgkJCQkJCWlmICh2b2lkIDAgPT0gYSkgcmV0dXJuIHQ7CgkJCQkJCXZhciBvID0gYVtXXTsKCQkJCQkJaWYgKCFvKSByZXR1cm4gdDsKCQkJCQkJaWYgKCFhLmFsbF9lcXVhbF9zaG9ydCAmJiAic2hvcnRfZGF5X2xpbmUiICE9PSBXICYmIGkpIHsKCQkJCQkJCXZhciByID0gdm9pZCAwLAoJCQkJCQkJCXMgPSB2b2lkIDA7CgkJCQkJCQlzd2l0Y2ggKFcpIHsKCQkJCQkJCQljYXNlICJhbGxfbGluZSI6CgkJCQkJCQkJCXIgPSBhLmFsbF9saW5lX2JlZ2luX3RpbWU7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgInllYXJfbGluZSI6CgkJCQkJCQkJCXIgPSBhLnllYXJfbGluZV90aW1lOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICJtb250aF9saW5lIjoKCQkJCQkJCQkJciA9IGEubW9udGhfbGluZV90aW1lCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gciA9IG5ldyBEYXRlKHIgLSAyODhlNSksIHIgPSBuZXcgRGF0ZShyLmdldFllYXIoKSArIDE5MDAsIHIuZ2V0TW9udGgoKSwgci5nZXREYXRlKCkpLCBzID0gaSAtIHIuZ2V0VGltZSgpLCBvW3BhcnNlSW50KHMgLyB3KV0KCQkJCQkJfQoJCQkJCQl2YXIgbCA9IHBhcnNlSW50KG8ubGVuZ3RoICogbiAtIDEpOwoJCQkJCQkwID4gbCAmJiAobCArPSAxKTsKCQkJCQkJdmFyIGMgPSB2b2lkIDA7CgkJCQkJCWMgPSBsID49IDEgPyBbb1tsIC0gMV0sIG9bbF0sIG9bbCArIDFdXSA6IFtvW2xdLCBvW2wgKyAxXV0sIGMgPSBjLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQlyZXR1cm4gdm9pZCAwICE9PSBlCgkJCQkJCX0pOwoJCQkJCQl2YXIgZCA9IGMubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gTWF0aC5hYnMoZSAtIHQpCgkJCQkJCQl9KSwKCQkJCQkJCXAgPSBkLmluZGV4T2YoTWF0aC5taW4uYXBwbHkobnVsbCwgZCkpOwoJCQkJCQlyZXR1cm4gY1twXQoJCQkJCX0sCgkJCQkJWSA9IG51bGwsCgkJCQkJRyA9IHt9LAoJCQkJCVggPSB7CgkJCQkJCXg6IDAsCgkJCQkJCXk6IDAKCQkJCQl9OwoJCQkJYS5zZXRPcHRpb25zKHsKCQkJCQlnbG9iYWw6IHsKCQkJCQkJdGltZXpvbmVPZmZzZXQ6IDgKCQkJCQl9CgkJCQl9KTsKCQkJCXZhciBKID0gewoJCQkJCQloaWdoTGluZTogbnVsbCwKCQkJCQkJbG93TGluZTogbnVsbAoJCQkJCX0sCgkJCQkJWiA9ICExLAoJCQkJCVYgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IHZvaWQgMCA9PT0gYXJndW1lbnRzWzFdID8gITEgOiBhcmd1bWVudHNbMV0sCgkJCQkJCQluID0gZS55QXhpcyBpbnN0YW5jZW9mIEFycmF5ID8gZS55QXhpc1swXSA6IGUueUF4aXMsCgkJCQkJCQlpID0gbi5wbG90TGluZXNBbmRCYW5kcywKCQkJCQkJCXIgPSBlLmNoYXJ0ID8gZS5jaGFydCA6IGUsCgkJCQkJCQlzID0gci5zZXJpZXM7CgkJCQkJCXMuZm9yRWFjaChmdW5jdGlvbihlKSB7CgkJCQkJCQkoIm1heCIgPT09IGUubmFtZSB8fCAibWluIiA9PT0gZS5uYW1lKSAmJiBlLnJlbW92ZSghMCkKCQkJCQkJfSksIEwgfHwgKEwgPSAwKTsKCQkJCQkJdmFyIGwgPSBpZShzKSwKCQkJCQkJCWMgPSBpLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICJoaWdoUHJpY2UiID09PSBlLmlkCgkJCQkJCQl9KSwKCQkJCQkJCXAgPSBpLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuICJsb3dQcmljZSIgPT09IGUuaWQKCQkJCQkJCX0pLAoJCQkJCQkJaCA9IGkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gIm9yaWdpblByaWNlIiA9PT0gZS5pZAoJCQkJCQkJfSk7CgkJCQkJCWlmIChjID0gYy5sZW5ndGggPyBjWzBdLm9wdGlvbnMgOiBKLmhpZ2hMaW5lLCBwID0gcC5sZW5ndGggPyBwWzBdLm9wdGlvbnMgOiBKLmxvd0xpbmUsIGgubGVuZ3RoICYmIChoID0gaFswXS5vcHRpb25zKSwgSi5oaWdoTGluZSA9IGMsIEoubG93TGluZSA9IHAsIG4ucmVtb3ZlUGxvdExpbmUoImhpZ2hQcmljZSIpLCBuLnJlbW92ZVBsb3RMaW5lKCJsb3dQcmljZSIpLCBoICYmIChuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSwgbCkgewoJCQkJCQkJbC5tYXggPSBwYXJzZUZsb2F0KGEubnVtYmVyRm9ybWF0KGwubWF4LCAyLCAiLiIsICIiKSksIGwubWluID0gcGFyc2VGbG9hdChhLm51bWJlckZvcm1hdChsLm1pbiwgMiwgIi4iLCAiIikpLCBjLnZhbHVlID0gbC5tYXgsIHAudmFsdWUgPSBsLm1pbjsKCQkJCQkJCXZhciB1ID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiAiIgoJCQkJCQkJfTsKCQkJCQkJCWYgJiYgKHUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQkJCQljb206ICIkIiwKCQkJCQkJCQkJCSJjby51ayI6ICLCoyIsCgkJCQkJCQkJCQlkZTogIkVVUiIsCgkJCQkJCQkJCQkiY28uanAiOiAiwqUiLAoJCQkJCQkJCQkJZnI6ICJFVVIiLAoJCQkJCQkJCQkJY2E6ICJDRE4kIiwKCQkJCQkJCQkJCWNuOiAiwqUiLAoJCQkJCQkJCQkJaXQ6ICJFVVIiLAoJCQkJCQkJCQkJZXM6ICJFVVIiLAoJCQkJCQkJCQkJIjZwbSI6ICIkIgoJCQkJCQkJCQl9LAoJCQkJCQkJCQluID0gIiI7CgkJCQkJCQkJZm9yICh2YXIgaSBpbiB0KSBsb2NhdGlvbi5ob3N0LmluZGV4T2YoaSkgPiAtMSAmJiAoImFtYXpvbiIgPT09IG8uc2l0ZSB8fCAiNnBtIiA9PSBvLnNpdGUpICYmIChuID0gdFtpXSk7CgkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCX0pOwoJCQkJCQkJdmFyIG0gPSB1KCk7CgkJCQkJCQljLmxhYmVsLnRleHQgPSAi5pyA6auYOiIgKyBtICsgZChsLm1heCksIHAubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIG0gKyBkKGwubWluKSwgInd3dy5hbWF6b24uY28uanAiID09IGxvY2F0aW9uLmhvc3QgJiYgKGMubGFiZWwudGV4dCA9ICLmnIDpq5g6IiArIGQobC5tYXgpICsgIuaXpeWFgyIsIHAubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIGQobC5taW4pICsgIuaXpeWFgyIpLCBjLmxhYmVsLnkgPSBiLCBwLmxhYmVsLnkgPSBiLCBoLmxhYmVsICYmIChoLmxhYmVsLnkgPSBiKTsKCQkJCQkJCXZhciBnID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJCXJldHVybiBNYXRoLmFicyhlIC0gdCkgPCAuMDUKCQkJCQkJCX07CgkJCQkJCQlxKGMudmFsdWUsIHAudmFsdWUpICYmIChjLmxhYmVsLnRleHQgPSAiIiwgcC5sYWJlbC50ZXh0ID0gIueOsOS7tzoiICsgbSArIGQobC5taW4pLCAid3d3LmFtYXpvbi5jby5qcCIgPT0gbG9jYXRpb24uaG9zdCAmJiAocC5sYWJlbC50ZXh0ID0gIueOsOS7tzoiICsgZChsLm1pbikgKyAi5pel5YWDIiksIGwubWluU3RhcnQgPSBNYXRoLm1heChsLm1pblN0YXJ0LCBsLm1heFN0YXJ0KSwgbC5tYXhTdGFydCA9IGwubWluU3RhcnQpLCAoZyhjLnZhbHVlLCBMKSB8fCBnKHAudmFsdWUsIEwpKSAmJiAoTyB8fCBUKSAmJiBoLmxhYmVsID8gKGgubGFiZWwudGV4dCA9ICIiLCBuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSA6IE8gJiYgaC5sYWJlbCAmJiAoaC5sYWJlbC50ZXh0ID0gIuWOn+S7tzoiICsgbSArIGQoTCksICJ3d3cuYW1hem9uLmNvLmpwIiA9PSBsb2NhdGlvbi5ob3N0ICYmIChoLmxhYmVsLnRleHQgPSAi5Y6f5Lu3OiIgKyBkKEwpICsgIuaXpeWFgyIpLCBuLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBuLmFkZFBsb3RMaW5lKGgpKSwgdCB8fCAobi5hZGRQbG90TGluZShjKSwgbi5hZGRQbG90TGluZShwKSk7CgkJCQkJCQl2YXIgXyA9IHNbMF0sCgkJCQkJCQkJeCA9IF8uZGF0YVtfLmRhdGEubGVuZ3RoIC0gMV07CgkJCQkJCQl4IHx8ICh4ID0gewoJCQkJCQkJCXg6IEYKCQkJCQkJCX0pOwoJCQkJCQkJdmFyIHcgPSB7CgkJCQkJCQkJCW5hbWU6ICJtYXgiLAoJCQkJCQkJCQlzaG93SW5MZWdlbmQ6ICExLAoJCQkJCQkJCQlwb2ludFN0YXJ0OiBsLm1heFN0YXJ0LAoJCQkJCQkJCQlwb2ludEludGVydmFsOiB4LnggLSBsLm1heFN0YXJ0LAoJCQkJCQkJCQl6SW5kZXg6IDFlMywKCQkJCQkJCQkJZGF0YTogW3sKCQkJCQkJCQkJCXk6IGwubWF4LAoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQkJZmlsbENvbG9yOiAiI2VkNGE0YSIsCgkJCQkJCQkJCQkJcmFkaXVzOiAzLAoJCQkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIsCgkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJCQllbmFibGVkOiAhMCwKCQkJCQkJCQkJCQkJCWxpbmVDb2xvcjogIiNmYWRiZGMiLAoJCQkJCQkJCQkJCQkJZmlsbENvbG9yOiAiI2VkNGE0YSIsCgkJCQkJCQkJCQkJCQlsaW5lV2lkdGg6IDMsCgkJCQkJCQkJCQkJCQlyYWRpdXM6IDUsCgkJCQkJCQkJCQkJCQlzeW1ib2w6ICJjaXJjbGUiCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0sIHsKCQkJCQkJCQkJCXk6IGwubWF4LAoJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJZW5hYmxlZDogITEsCgkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCWhvdmVyOiB7CgkJCQkJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9XSwKCQkJCQkJCQkJY29sb3I6ICIjZWQ0YTRhIiwKCQkJCQkJCQkJZGFzaFN0eWxlOiAiZGFzaCIsCgkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJCWhhbG86IHsKCQkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCX0sCgkJCQkJCQkJdiA9IHsKCQkJCQkJCQkJbmFtZTogIm1pbiIsCgkJCQkJCQkJCXNob3dJbkxlZ2VuZDogITEsCgkJCQkJCQkJCXBvaW50U3RhcnQ6IGwubWluU3RhcnQsCgkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IHgueCAtIGwubWluU3RhcnQsCgkJCQkJCQkJCXpJbmRleDogMWUzLAoJCQkJCQkJCQlkYXRhOiBbewoJCQkJCQkJCQkJeTogbC5taW4sCgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQlmaWxsQ29sb3I6ICIjMzViZDY3IiwKCQkJCQkJCQkJCQlyYWRpdXM6IDMsCgkJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQkJc3ltYm9sOiAiY2lyY2xlIiwKCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJCQkJbGluZUNvbG9yOiAiI2RhZjVlNCIsCgkJCQkJCQkJCQkJCQlmaWxsQ29sb3I6ICIjMzViZDY3IiwKCQkJCQkJCQkJCQkJCWxpbmVXaWR0aDogMywKCQkJCQkJCQkJCQkJCXJhZGl1czogNSwKCQkJCQkJCQkJCQkJCXN5bWJvbDogImNpcmNsZSIKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSwgewoJCQkJCQkJCQkJeTogbC5taW4sCgkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX1dLAoJCQkJCQkJCQljb2xvcjogIiMzNWJkNjciLAoJCQkJCQkJCQlkYXNoU3R5bGU6ICJkYXNoIiwKCQkJCQkJCQkJbGluZVdpZHRoOiAxCgkJCQkJCQkJfTsKCQkJCQkJCXQgfHwgKHIuYWRkU2VyaWVzKHcpLCByLmFkZFNlcmllcyh2KSk7CgkJCQkJCQl2YXIgQiA9IGwubWF4IC0gbC5taW47CgkJCQkJCQkoTCAtIGwubWF4KSAvIEIgPiAuNSAmJiBCID8gKHkgPSAhMCwgaC52YWx1ZSA9IGMudmFsdWUgKyAuNSAqIEIsIGsgPSBoLnZhbHVlLCB6ID0gTCAtIGgudmFsdWUpIDogKHkgPSAhMSwgaC52YWx1ZSA9IEwpOwoJCQkJCQkJdmFyIGogPSBsLm1heCwKCQkJCQkJCQlDID0gbC5taW47CgkJCQkJCQlPICYmIChqID0gTWF0aC5tYXgobC5tYXgsIGgudmFsdWUpLCBDID0gTWF0aC5taW4obC5taW4sIGgudmFsdWUpKSwgMCA9PT0gQyAmJiAoQyA9IGwubWluKTsKCQkJCQkJCXZhciBTID0gaiAtIEMsCgkJCQkJCQkJTiA9IHBhcnNlSW50KFMgLyA1ICogMTApIC8gMTAsCgkJCQkJCQkJUCA9IC41OwoJCQkJCQkJaWYgKFMgPiA1MCAmJiAoUCA9IDEwKSwgLjUgPiBTICYmIChQID0gLjEpLCAuMiA+IFMgJiYgKFAgPSAuMDUpLCBQID4gTikgTiA9IFA7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQlmb3IgKHZhciBJID0gUDsgTiA+IEk7KSBJICs9IFA7CgkJCQkJCQkJTiA9IEkKCQkJCQkJCX0KCQkJCQkJCXZhciBBID0gewoJCQkJCQkJCW1heDogaiArIC4xICogUywKCQkJCQkJCQltaW46IEMgLSAuMSAqIFMgPiAwID8gQyAtIC4xICogUyA6IEMsCgkJCQkJCQkJdGlja0ludGVydmFsOiBTID8gTiA6IDEwLAoJCQkJCQkJCXRpY2tTdGFydDogcGFyc2VJbnQoQykKCQkJCQkJCX07CgkJCQkJCQloLnZhbHVlID4gQS5tYXggJiYgVCAmJiAoQS5tYXggPSBoLnZhbHVlKSwgbi51cGRhdGUoQSk7CgkJCQkJCQl2YXIgRSA9IG4ucGxvdExpbmVzQW5kQmFuZHMubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJcmV0dXJuIGUuc3ZnRWxlbSA/IHsKCQkJCQkJCQkJCWlkOiBlLmlkLAoJCQkJCQkJCQkJeTogZS5zdmdFbGVtLmQuc3BsaXQoIiAiKVsyXQoJCQkJCQkJCQl9IDogewoJCQkJCQkJCQkJaWQ6IGUuaWQsCgkJCQkJCQkJCQl5OiBlLnZhbHVlCgkJCQkJCQkJCX0KCQkJCQkJCQl9KSwKCQkJCQkJCQlEID0ge307CgkJCQkJCQlpZiAoRS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlEW2UuaWRdID0gcGFyc2VGbG9hdChlLnkpCgkJCQkJCQl9KSwgIShFLmxlbmd0aCA8PSAyKSkgewoJCQkJCQkJCXZhciBNID0gewoJCQkJCQkJCQloaWdoTG93OiBELmhpZ2hQcmljZSAtIEQubG93UHJpY2UsCgkJCQkJCQkJCWhpZ2hPcmlnaW46IEQuaGlnaFByaWNlIC0gRC5vcmlnaW5QcmljZSwKCQkJCQkJCQkJbG93T3JpZ2luOiBELmxvd1ByaWNlIC0gRC5vcmlnaW5QcmljZQoJCQkJCQkJCX07CgkJCQkJCQkJTWF0aC5hYnMoTS5oaWdoTG93KSA8IDExICYmIDAgIT09IE0uaGlnaExvdyAmJiAoYy5sYWJlbC55IC09IDUuNSwgcC5sYWJlbC55ICs9IDUuNSksIE1hdGguYWJzKE0uaGlnaE9yaWdpbikgPCAxMSAmJiAoYy52YWx1ZSAtIGgudmFsdWUgPCAwID8gKGgubGFiZWwueSAtPSA1LjUsIGMubGFiZWwueSArPSA1LjUpIDogYy52YWx1ZSAtIGgudmFsdWUgPiAwICYmIChoLmxhYmVsLnkgKz0gNS41LCBjLmxhYmVsLnkgLT0gNS41KSksIE1hdGguYWJzKE0ubG93T3JpZ2luKSA8IDExICYmIChwLnZhbHVlIC0gaC52YWx1ZSA8IDAgPyAoaC5sYWJlbC55IC09IDUuNSwgcC5sYWJlbC55ICs9IDUuNSkgOiBwLnZhbHVlIC0gaC52YWx1ZSA+IDAgJiYgKGgubGFiZWwueSArPSA1LjUsIHAubGFiZWwueSAtPSA1LjUpKSwgbi5yZW1vdmVQbG90TGluZSgiaGlnaFByaWNlIiksIG4ucmVtb3ZlUGxvdExpbmUoImxvd1ByaWNlIiksIG4ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIHQgfHwgKG4uYWRkUGxvdExpbmUoYyksIG4uYWRkUGxvdExpbmUocCksIG4uYWRkUGxvdExpbmUoaCkpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LAoJCQkJCUsgPSB7CgkJCQkJCWNoYXJ0OiB7CgkJCQkJCQlyZW5kZXJUbzogInBsb3RBcmVhIiwKCQkJCQkJCXR5cGU6ICJsaW5lIiwKCQkJCQkJCWFuaW1hdGlvbjogITEsCgkJCQkJCQltYXJnaW5SaWdodDogMjkwLAoJCQkJCQkJbWFyZ2luTGVmdDogNzAsCgkJCQkJCQlldmVudHM6IHsKCQkJCQkJCQlsb2FkOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdmFyIHQgPSB0aGlzLnNlcmllc1swXTsKCQkJCQkJCQkJcCA9IHQuZGF0YVt0LmRhdGEubGVuZ3RoIC0gMV0ueDsKCQkJCQkJCQkJdmFyIG4gPSB0aGlzLnhBeGlzWzBdLm1heCAtIDUgKiB3OwoJCQkJCQkJCQl0Lm9wdGlvbnMucG9pbnRTdGFydCA+IG4gJiYgKG4gPSB0Lm9wdGlvbnMucG9pbnRTdGFydCk7CgkJCQkJCQkJCXZhciBpID0gewoJCQkJCQkJCQkJCW5hbWU6ICLlvZPliY3llYbln47ljp/lp4vku7fmoLwiLAoJCQkJCQkJCQkJCXBvaW50U3RhcnQ6IG4sCgkJCQkJCQkJCQkJcG9pbnRJbnRlcnZhbDogMSwKCQkJCQkJCQkJCQlkYXRhOiBbewoJCQkJCQkJCQkJCQl5OiBMLAoJCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9LCB7CgkJCQkJCQkJCQkJCXk6IEwsCgkJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX1dLAoJCQkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJCQl6SW5kZXg6IDEsCgkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCXN5bWJvbDogUy5leHRlbmRlZCwKCQkJCQkJCQkJCQkJc3RhdGVzOiB7CgkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJCWNvbG9yOiAiIzg4ODg4OCIsCgkJCQkJCQkJCQkJZW5hYmxlTW91c2VUcmFja2luZzogITEsCgkJCQkJCQkJCQkJbGVnZW5kSW5kZXg6IDAKCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQlhID0gdGhpcy5zZXJpZXM7CgkJCQkJCQkJCUMgPSBhICYmIGFbMV0gJiYgIuivhOiuuuaVsCIgPT09IGFbMV0ubmFtZSA/IGFbMV0gOiBudWxsLCBIID0gdGhpcy5wbG90V2lkdGg7CgkJCQkJCQkJCXZhciBvID0gYVswXS5kYXRhOwoJCQkJCQkJCQlpZiAoaS5kYXRhWzBdLnkgPyB0aGlzLmFkZFNlcmllcyhpKSA6IHRoaXMueUF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIFQpIGEuZm9yRWFjaChmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJCQkwID09PSB0IHx8ICLlvZPliY3llYbln47ljp/lp4vku7fmoLwiID09PSBlLm5hbWUgPyBlLnNob3coKSA6IGUuaGlkZSgpCgkJCQkJCQkJCX0pOwoJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgYS5sZW5ndGg7IHIrKykgUC5pbkxpc3QoYVtyXS5uYW1lKSA/IChhW3JdLnNob3coKSwgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGFbcl0ubmFtZSAmJiBMICYmICh0aGlzLnlBeGlzWzBdLmFkZFBsb3RMaW5lKFIpLCBPID0gITAsIGkuZGF0YVswXS55IHx8IHRoaXMueUF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoIm9yaWdpblByaWNlIiksIE8gPSAhMCksIGFbcl0udXBkYXRlKHsKCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkpIDogKGFbcl0uaGlkZSgpLCAi5b2T5YmN5ZWG5Z+O5Y6f5aeL5Lu35qC8IiA9PT0gYVtyXS5uYW1lICYmICh0aGlzLnlBeGlzWzBdLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBPID0gITEpLCBhW3JdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCXN5bWJvbDogUy5mb2xkZWQKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9KSk7CgkJCQkJCQkJCQlCICYmIGFbMV0gJiYgIuivhOiuuuaVsCIgPT09IGFbMV0ubmFtZSAmJiBhWzFdICYmIGFbMV0uc2hvdygpCgkJCQkJCQkJCX0KCQkJCQkJCQkJdmFyIHMgPSAwOwoJCQkJCQkJCQlzd2l0Y2ggKE4pIHsKCQkJCQkJCQkJCWNhc2UgInBsb3RZZWFyIjoKCQkJCQkJCQkJCQlzID0gMzY2OwoJCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQkJY2FzZSAicGxvdE1vbnRoIjoKCQkJCQkJCQkJCQlzID0gMzA7CgkJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCQljYXNlICJwbG90NURheSI6CgkJCQkJCQkJCQkJcyA9IDUKCQkJCQkJCQkJfQoJCQkJCQkJCQlWKHRoaXMsIFopLCAicGxvdEFsbCIgPT09IE4gfHwgVCB8fCB0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQltaW46IEYgLSBzICogdywKCQkJCQkJCQkJCW1heDogRgoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJdmFyIGwgPSBhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS52aXNpYmxlICYmICJtYXgiICE9PSBlLm5hbWUgJiYgIm1pbiIgIT09IGUubmFtZQoJCQkJCQkJCQl9KTsKCQkJCQkJCQkJaWYgKDAgIT09IGwubGVuZ3RoKSB7CgkJCQkJCQkJCQl2YXIgYyA9IGwubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkJcmV0dXJuIGUub3B0aW9ucy5wb2ludFN0YXJ0CgkJCQkJCQkJCQkJfSkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkJcmV0dXJuIGUKCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQlkID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYyk7CgkJCQkJCQkJCQkicGxvdEFsbCIgPT09IE4gfHwgVCB8fCAoZCA9IEYgLSBzICogdyk7CgkJCQkJCQkJCQlmb3IgKHZhciByID0gMDsgciA8IGEubGVuZ3RoOyByKyspCgkJCQkJCQkJCQkJaWYgKGFbcl0uZGF0YS5sZW5ndGgpIHsKCQkJCQkJCQkJCQkJbyA9IGFbcl0uZGF0YTsKCQkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl2YXIgcCA9IG9bby5sZW5ndGggLSAxXTsKCQkJCQkJCQkJCWlmICh0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWluOiBkLAoJCQkJCQkJCQkJCW1heDogcCA/IHAueCA6IGUuZ2V0VGltZSgpCgkJCQkJCQkJCQl9KSwgMSA9PT0gbC5sZW5ndGggJiYgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGxbMF0ubmFtZSAmJiAoInBsb3RBbGwiICE9PSBOIHx8IFQgfHwgdGhpcy54QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCW1pbjogRiAtIDM2ZTUsCgkJCQkJCQkJCQkJbWF4OiBGCgkJCQkJCQkJCQl9KSwgdGhpcy55QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCW1pbjogTCwKCQkJCQkJCQkJCQltYXg6IEwKCQkJCQkJCQkJCX0pKSwgdGhpcy55QXhpcy5sZW5ndGggPiAxKSB7CgkJCQkJCQkJCQkJaWYgKHRoaXMueUF4aXNbMF0uZGF0YU1pbiA9PSB0aGlzLnlBeGlzWzBdLmRhdGFNYXgpIHsKCQkJCQkJCQkJCQkJdmFyIGggPSBwYXJzZUludCguMiAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbik7CgkJCQkJCQkJCQkJCWggPiAxMDAgJiYgKGggPSAxMDAgKiBNYXRoLnJvdW5kKGggLyAxMDApKSwgdGhpcy55QXhpc1swXS51cGRhdGUoewoJCQkJCQkJCQkJCQkJbWluOiBwYXJzZUludCguNSAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbiksCgkJCQkJCQkJCQkJCQltYXg6IHBhcnNlSW50KDEuNSAqIHRoaXMueUF4aXNbMF0uZGF0YU1pbiksCgkJCQkJCQkJCQkJCQl0aWNrSW50ZXJ2YWw6IGgKCQkJCQkJCQkJCQkJfSkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJdGhpcy55QXhpc1sxXS51cGRhdGUoewoJCQkJCQkJCQkJCQltaW46IHRoaXMueUF4aXNbMV0uZGF0YU1pbiwKCQkJCQkJCQkJCQkJbWF4OiB0aGlzLnlBeGlzWzFdLmRhdGFNYXgsCgkJCQkJCQkJCQkJCXRpY2tJbnRlcnZhbDogcGFyc2VJbnQodGhpcy55QXhpc1sxXS5kYXRhTWF4IC8gNSkgfHwgMQoJCQkJCQkJCQkJCX0pLCB0aGlzLnhBeGlzWzBdLnVwZGF0ZSh7CgkJCQkJCQkJCQkJCW1pbjogdGhpcy5zZXJpZXNbMV0uZGF0YVswXS5jYXRlZ29yeQoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCWNyZWRpdHM6IHsKCQkJCQkJCWVuYWJsZWQ6ICExCgkJCQkJCX0sCgkJCQkJCXRpdGxlOiB7CgkJCQkJCQl0ZXh0OiAidGVzdCIsCgkJCQkJCQlzdHlsZTogewoJCQkJCQkJCWZvbnRXZWlnaHQ6ICJib2xkIiwKCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIiwKCQkJCQkJCQlmb250U2l6ZTogMTYKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeEF4aXM6IHsKCQkJCQkJCW9mZnNldDogMCwKCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCW1pbnV0ZTogIiVtLyVkIiwKCQkJCQkJCQlob3VyOiAiJW0vJWQiLAoJCQkJCQkJCWRheTogIiVtLyVkIiwKCQkJCQkJCQl3ZWVrOiAiJW0vJWQiLAoJCQkJCQkJCW1vbnRoOiAiJVkvJW0iCgkJCQkJCQl9LAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQlyb3RhdGlvbjogLTI1LAoJCQkJCQkJCXk6IDMwLAoJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCWZvbnRTaXplOiAiMTJweCIsCgkJCQkJCQkJCWZvbnRGYW1pbHk6ICJBcmlhbCIsCgkJCQkJCQkJCWNvbG9yOiAiIzMyMzMzMyIKCQkJCQkJCQl9LAoJCQkJCQkJCWFsaWduOiAiY2VudGVyIgoJCQkJCQkJfSwKCQkJCQkJCWdyaWRMaW5lQ29sb3I6ICIjZTZlOWViIiwKCQkJCQkJCWxpbmVDb2xvcjogIiNlNmU5ZWIiLAoJCQkJCQkJZ3JpZExpbmVXaWR0aDogMSwKCQkJCQkJCXRpY2tMZW5ndGg6IDAsCgkJCQkJCQltaW5UaWNrSW50ZXJ2YWw6IHcsCgkJCQkJCQlzdGFydE9uVGljazogITEsCgkJCQkJCQl0aWNrUG9zaXRpb25lcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGUgPSBbXSwKCQkJCQkJCQkJdCA9IHRoaXMubWluLAoJCQkJCQkJCQluID0gdGhpcy5tYXgsCgkJCQkJCQkJCWkgPSBuZXcgRGF0ZSh0KSwKCQkJCQkJCQkJYSA9IDAsCgkJCQkJCQkJCW8gPSB2b2lkIDAsCgkJCQkJCQkJCXIgPSAxOwoJCQkJCQkJCWlmIChuIC0gdCA+IDMwMCAqIHcpIHsKCQkJCQkJCQkJdmFyIHMgPSBuZXcgRGF0ZSgxOTAwICsgaS5nZXRZZWFyKCksIGkuZ2V0TW9udGgoKSArIDEsIDIpOwoJCQkJCQkJCQlhID0gcy5nZXRUaW1lKCk7CgkJCQkJCQkJCWZvciAodmFyIGwgPSBIIC8gKChuIC0gdCkgLyAoMzAgKiB3KSk7IDEwMCA+IHIgKiBsOykgcisrOwoJCQkJCQkJCQlvID0gIm5tb250aCIKCQkJCQkJCQl9IGVsc2UgaWYgKG4gLSB0ID4gNjQgKiB3KSB7CgkJCQkJCQkJCXZhciBzID0gbmV3IERhdGUoMTkwMCArIGkuZ2V0WWVhcigpLCBpLmdldE1vbnRoKCkgKyAxLCAyKTsKCQkJCQkJCQkJYSA9IHMuZ2V0VGltZSgpLCBvID0gIm1vbnRoIgoJCQkJCQkJCX0gZWxzZSBpZiAobiAtIHQgPiAxMCAqIHcpIGEgPSB0LCBvID0gImRheSI7CgkJCQkJCQkJZWxzZSB7CgkJCQkJCQkJCXZhciBzID0gbmV3IERhdGUoMTkwMCArIGkuZ2V0WWVhcigpLCBpLmdldE1vbnRoKCksIGkuZ2V0RGF0ZSgpICsgMSk7CgkJCQkJCQkJCWEgPSBzLmdldFRpbWUoKSwgbyA9ICJob3VyIgoJCQkJCQkJCX0KCQkJCQkJCQlmb3IgKDsgbiA+PSBhIC0gNTRlNjspIHN3aXRjaCAoZS5wdXNoKGEgLSA1NGU2KSwgbykgewoJCQkJCQkJCQljYXNlICJtb250aCI6CgkJCQkJCQkJCQl2YXIgcyA9IG5ldyBEYXRlKGEpLAoJCQkJCQkJCQkJCWMgPSBuZXcgRGF0ZSgxOTAwICsgcy5nZXRZZWFyKCksIHMuZ2V0TW9udGgoKSArIDEsIDIpOwoJCQkJCQkJCQkJYSA9IGMuZ2V0VGltZSgpOwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgImRheSI6CgkJCQkJCQkJCQlhICs9IDUgKiB3OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgImhvdXIiOgoJCQkJCQkJCQkJYSArPSB3OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWNhc2UgIm5tb250aCI6CgkJCQkJCQkJCQlzID0gbmV3IERhdGUoYSksIGMgPSBuZXcgRGF0ZSgxOTAwICsgcy5nZXRZZWFyKCksIHMuZ2V0TW9udGgoKSArIHIsIDIpLCBhID0gYy5nZXRUaW1lKCkKCQkJCQkJCQl9CgkJCQkJCQkJaWYgKFQpIHsKCQkJCQkJCQkJZm9yICh2YXIgZCA9IDA7IGVbZF0gPCB0aGlzLm1pbjspIGQrKzsKCQkJCQkJCQkJZSA9IFtlW2RdLCBlW2UubGVuZ3RoIC0gMV1dCgkJCQkJCQkJfQoJCQkJCQkJCXN3aXRjaCAobykgewoJCQkJCQkJCQljYXNlICJtb250aCI6CgkJCQkJCQkJCWNhc2UgIm5tb250aCI6CgkJCQkJCQkJCQllLmluZm8gPSB7CgkJCQkJCQkJCQkJdW5pdE5hbWU6ICJtb250aCIsCgkJCQkJCQkJCQkJaGlnaGVyUmFua3M6IHt9CgkJCQkJCQkJCQl9OwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkJCQllLmluZm8gPSB7CgkJCQkJCQkJCQkJdW5pdE5hbWU6ICJkYXkiLAoJCQkJCQkJCQkJCWhpZ2hlclJhbmtzOiB7fQoJCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl5QXhpczogewoJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJZm9ybWF0dGVyOiBmdW5jdGlvbigpIHsKCQkJCQkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJCQkJCXJldHVybiBlID0gIXkgfHwgdGhpcy52YWx1ZSA8IGsgPyBhLm51bWJlckZvcm1hdCh0aGlzLnZhbHVlLCAyKSA6IGEubnVtYmVyRm9ybWF0KHRoaXMudmFsdWUgKyB6LCAyKSwgZSA9IGUucmVwbGFjZSgiLjAwIiwgIiIpCgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2U2ZTllYiIsCgkJCQkJCQl0aXRsZTogewoJCQkJCQkJCXRleHQ6ICLkurrmsJHluIE6IiwKCQkJCQkJCQlyb3RhdGlvbjogMCwKCQkJCQkJCQl5OiAtMjAsCgkJCQkJCQkJeDogLTEzLAoJCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCWZvbnRGYW1pbHk6ICJNaWNyb3NvZnQgWWFIZWkiLAoJCQkJCQkJCQlmb250U2l6ZTogMTIsCgkJCQkJCQkJCWNvbG9yOiAiIzMyMzMzMyIKCQkJCQkJCQl9CgkJCQkJCQl9LAoJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCWlkOiAiaGlnaFByaWNlIiwKCQkJCQkJCQljb2xvcjogInJnYmEoMjU1LDI1NSwyNTUsMSkiLAoJCQkJCQkJCWRhc2hTdHlsZTogImRhc2giLAoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWxhYmVsOiB7CgkJCQkJCQkJCXRleHQ6ICLmnIDpq5giLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJeDogdiwKCQkJCQkJCQkJeTogYiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiNlNDM5M2MiLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0sIHsKCQkJCQkJCQlpZDogImxvd1ByaWNlIiwKCQkJCQkJCQljb2xvcjogIiNmZmYiLAoJCQkJCQkJCWRhc2hTdHlsZTogImRhc2giLAoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWxhYmVsOiB7CgkJCQkJCQkJCXRleHQ6ICLmnIDkvY4iLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXg6IHYsCgkJCQkJCQkJCXk6IGIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiMzNWJkNjciLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0sIHsKCQkJCQkJCQlpZDogIm9yaWdpblByaWNlIiwKCQkJCQkJCQl2YWx1ZTogTCwKCQkJCQkJCQl3aWR0aDogMSwKCQkJCQkJCQljb2xvcjogIiM4ODg4ODgiLAoJCQkJCQkJCXpJbmRleDogMSwKCQkJCQkJCQlsYWJlbDogewoJCQkJCQkJCQl0ZXh0OiAi5Y6f5Lu3OiIgKyBMLAoJCQkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCQkJdGV4dEFsaWduOiAibGVmdCIsCgkJCQkJCQkJCXg6IHYsCgkJCQkJCQkJCXk6IGIsCgkJCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJCQljb2xvcjogIiM4ODg4ODgiLAoJCQkJCQkJCQkJZm9udFdlaWdodDogImJvbGQiLAoJCQkJCQkJCQkJZm9udEZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSIsCgkJCQkJCQkJCQlmb250U2l6ZTogMTIKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX1dCgkJCQkJCX0sCgkJCQkJCWxlZ2VuZDogewoJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQlhbGlnbjogInJpZ2h0IiwKCQkJCQkJCXZlcnRpY2FsQWxpZ246ICJ0b3AiLAoJCQkJCQkJbGF5b3V0OiAidmVydGljbGUiLAoJCQkJCQkJYm9yZGVyQ29sb3I6ICIjZjBmM2Y1IiwKCQkJCQkJCWJvcmRlcldpZHRoOiAxLAoJCQkJCQkJd2lkdGg6IDE1MCwKCQkJCQkJCXg6IC0zMCwKCQkJCQkJCXk6IDMwLAoJCQkJCQkJc3ltYm9sV2lkdGg6IDEwLAoJCQkJCQkJc3ltYm9sSGVpZ2h0OiAxMCwKCQkJCQkJCWl0ZW1NYXJnaW5Ub3A6IDQsCgkJCQkJCQlpdGVtU3R5bGU6IHsKCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiwKCQkJCQkJCQlmb250U2l6ZTogIjEycHgiLAoJCQkJCQkJCWNvbG9yOiAiIzMyMzIzMyIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCXNlcmllczogewoJCQkJCQkJCXR1cmJvVGhyZXNob2xkOiAwLAoJCQkJCQkJCXN0YXRlczogewoJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJZW5hYmxlZDogITAsCgkJCQkJCQkJCQloYWxvOiB7CgkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQl9LAoJCQkJCQkJCWRhdGFHcm91cGluZzogewoJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCX0sCgkJCQkJCQkJYW5pbWF0aW9uOiAhMSwKCQkJCQkJCQlldmVudHM6IHsKCQkJCQkJCQkJbGVnZW5kSXRlbUNsaWNrOiBmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQl2YXIgbiA9IHRoaXMuY2hhcnQuc2VyaWVzOwoJCQkJCQkJCQkJbi5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQkibWF4IiAhPT0gZS5uYW1lICYmICJtaW4iICE9PSBlLm5hbWUgfHwgIWUucmVtb3ZlIHx8IGUucmVtb3ZlKCEwKQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQl2YXIgaSA9IHRoaXMuaW5kZXgsCgkJCQkJCQkJCQkJYSA9IHRoaXMueEF4aXMubWluLAoJCQkJCQkJCQkJCW8gPSB0aGlzLnhBeGlzLm1heDsKCQkJCQkJCQkJCSLlvZPliY3llYbln47ljp/lp4vku7fmoLwiID09PSBuW2ldLm5hbWUgJiYgKE8gPyB0aGlzLnlBeGlzLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpIDogdGhpcy55QXhpcy5hZGRQbG90TGluZShSKSwgTyA9ICFPKSwgbltpXS52aXNpYmxlID8gbltpXS5oaWRlKCkgOiBuW2ldLnNob3coKSwgbi5mb3JFYWNoKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCQllLnZpc2libGUgJiYgIuivhOiuuuaVsCIgIT09IGUubmFtZSA/IChQLmFkZChlLm5hbWUpLCBlLnVwZGF0ZSh7CgkJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9KSkgOiAoUC5yZW1vdmUoZS5uYW1lKSwgZS51cGRhdGUoewoJCQkJCQkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQkJCQkJCXN5bWJvbDogUy5mb2xkZWQKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX0pKQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQl2YXIgciA9IG4uZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQlyZXR1cm4gZS52aXNpYmxlICYmICJtYXgiICE9PSBlLm5hbWUgJiYgIm1pbiIgIT09IGUubmFtZQoJCQkJCQkJCQkJfSk7CgkJCQkJCQkJCQlpZiAoMCA9PT0gci5sZW5ndGgpIHJldHVybiBWKHRoaXMsIFopLCAhMTsKCQkJCQkJCQkJCXZhciBzID0gclswXS5kYXRhOwoJCQkJCQkJCQkJaWYgKHMgPSBzW3MubGVuZ3RoIC0gMV0sICJwbG90QWxsIiA9PT0gTikgewoJCQkJCQkJCQkJCXZhciBsID0gci5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCQkJcmV0dXJuIGUub3B0aW9ucy5wb2ludFN0YXJ0CgkJCQkJCQkJCQkJCX0pLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJCQlyZXR1cm4gZQoJCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQkJYyA9IE1hdGgubWluLmFwcGx5KG51bGwsIGwpOwoJCQkJCQkJCQkJCXRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWluOiBjLAoJCQkJCQkJCQkJCQltYXg6IHMgPyBzLnggOiBlLmdldFRpbWUoKQoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpZiAoMSA9PT0gci5sZW5ndGggJiYgIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IHJbMF0ubmFtZSkgewoJCQkJCQkJCQkJCXZhciBwID0gdGhpcy55QXhpcy5wbG90TGluZXNBbmRCYW5kcy5maWx0ZXIoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCQlyZXR1cm4gIm9yaWdpblByaWNlIiA9PT0gZS5pZAoJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCXAgPSBwWzBdLm9wdGlvbnMsIHAudmFsdWUgPSBMLCB0aGlzLnlBeGlzLnJlbW92ZVBsb3RMaW5lKCJvcmlnaW5QcmljZSIpLCBwLmxhYmVsLnRleHQgPSAi5Y6f5Lu3OiIgKyBkKEwpLCB0aGlzLnlBeGlzLmFkZFBsb3RMaW5lKHApLCAidW5kZWZpbmVkIiA9PT0gYSB8fCAidW5kZWZpbmVkIiA9PT0gbyA/IHRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWF4OiBGLAoJCQkJCQkJCQkJCQltaW46IEYgLSAzMCAqIHcKCQkJCQkJCQkJCQl9KSA6IHRoaXMueEF4aXMudXBkYXRlKHsKCQkJCQkJCQkJCQkJbWluOiBhLAoJCQkJCQkJCQkJCQltYXg6IG8KCQkJCQkJCQkJCQl9KSwgdGhpcy55QXhpcy51cGRhdGUoewoJCQkJCQkJCQkJCQltaW46IEwsCgkJCQkJCQkJCQkJCW1heDogTAoJCQkJCQkJCQkJCX0pCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlyZXR1cm4gInBsb3RZZWFyIiA9PT0gTiAmJiB0aGlzLnhBeGlzLnVwZGF0ZSh7CgkJCQkJCQkJCQkJbWluOiBGIC0gMzY3ICogdywKCQkJCQkJCQkJCQltYXg6IEYKCQkJCQkJCQkJCX0pLCBWKHRoaXMsIFopLCAhMQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfSwKCQkJCQkJCWxpbmU6IHsKCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJaG92ZXI6IHsKCQkJCQkJCQkJCWVuYWJsZWQ6ICEwLAoJCQkJCQkJCQkJbGluZVdpZHRoOiAxCgkJCQkJCQkJCX0KCQkJCQkJCQl9LAoJCQkJCQkJCWV2ZW50czogewoJCQkJCQkJCQltb3VzZU91dDogZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJYygiI3RpbWVDdXJzb3IiKS5jc3MoewoJCQkJCQkJCQkJCWxlZnQ6ICItMTAwMHB4IiwKCQkJCQkJCQkJCQlyaWdodDogIiIKCQkJCQkJCQkJCX0pLCBjKCIjZGFzaGVkTGluZSIpLmNzcyh7CgkJCQkJCQkJCQkJbGVmdDogIi0xMDAwcHgiCgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQl0b29sdGlwOiB7CgkJCQkJCQlzaGFkb3c6ICExLAoJCQkJCQkJc2hhcmVkOiAhMCwKCQkJCQkJCXZhbHVlU3VmZml4OiAi5YWDIiwKCQkJCQkJCWhpZGVEZWxheTogMCwKCQkJCQkJCXNoYXBlOiAic3F1YXJlIiwKCQkJCQkJCWZvbGxvd1BvaW50ZXI6ICExLAoJCQkJCQkJZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHsKCQkJCQkJCQlkYXk6ICIlWS8lbS8lZSIsCgkJCQkJCQkJbWludXRlOiAiJVkvJW0vJWUiLAoJCQkJCQkJCXNlY29uZDogIiVZLyVtLyVlIiwKCQkJCQkJCQlob3VyOiAiJVkvJW0vJWUgJUg6JU0iCgkJCQkJCQl9LAoJCQkJCQkJdXNlSFRNTDogITAsCgkJCQkJCQlwb3NpdGlvbmVyOiBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCQkJcmV0dXJuIG4ucGxvdFggKyBlID4gdGhpcy5jaGFydC5wbG90V2lkdGggKyAxMiA/IHsKCQkJCQkJCQkJeDogbi5wbG90WCAtIGUgKyB0aGlzLmNoYXJ0LnBsb3RMZWZ0LAoJCQkJCQkJCQl5OiB0aGlzLmNoYXJ0LnBsb3RIZWlnaHQgLyAyIC0gdCAvIDIgKyA0NQoJCQkJCQkJCX0gOiB7CgkJCQkJCQkJCXg6IG4ucGxvdFggKyB0aGlzLmNoYXJ0LnBsb3RMZWZ0LAoJCQkJCQkJCQl5OiB0aGlzLmNoYXJ0LnBsb3RIZWlnaHQgLyAyIC0gdCAvIDIgKyA0NQoJCQkJCQkJCX0KCQkJCQkJCX0sCgkJCQkJCQlvbkhpZGU6IGZ1bmN0aW9uKCkgewoJCQkJCQkJCWMoIiN0aW1lQ3Vyc29yIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogIi0xMDAwcHgiLAoJCQkJCQkJCQlyaWdodDogIiIKCQkJCQkJCQl9KSwgYygiI2Rhc2hlZExpbmUiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAiLTEwMDBweCIKCQkJCQkJCQl9KQoJCQkJCQkJfSwKCQkJCQkJCWZvcm1hdHRlcjogZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIGUgPSB0aGlzLAoJCQkJCQkJCQl0ID0gbmV3IERhdGUodGhpcy54IC0gMjg4ZTUpLAoJCQkJCQkJCQluID0gdC5nZXRZZWFyKCkgKyAxOTAwOwoJCQkJCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKG4gPSB0LmdldFllYXIoKSk7CgkJCQkJCQkJdmFyIGkgPSB0LmdldE1vbnRoKCkgKyAxLAoJCQkJCQkJCQlyID0gdC5nZXREYXRlKCksCgkJCQkJCQkJCXMgPSB0LmdldEhvdXJzKCksCgkJCQkJCQkJCWwgPSBuICsgIi8iICsgaSArICIvIiArIHIgKyAoRCA/ICIgIiArIHMgKyAiOjAwIiA6ICIiKSwKCQkJCQkJCQkJcCA9ICc8dGFibGUgc3R5bGU9InRhYmxlLWxheW91dDogZml4ZWQ7Ij48dHI+PHRkIGNvbHNwYW49IjMiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1mYW1pbHk6IEFyaWFsO2ZvbnQtc2l6ZToxNHB4Ij4nICsgbCArICc8L3RkPjx0ZD48L3RkPjx0ZCBjYWxzcz0icHJvbW9UZCI+PC90ZD48L3RyPicsCgkJCQkJCQkJCWggPSB0aGlzLnBvaW50cy5zb3J0KGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCQkJCXZhciBuID0gVSh0LnNlcmllcy5uYW1lLCB0LnksICh0LnBvaW50LmluZGV4ICsgMSkgLyB0LnNlcmllcy5kYXRhLmxlbmd0aCwgdC54IC0gMjg4ZTUpIC0gVShlLnNlcmllcy5uYW1lLCBlLnksIChlLnBvaW50LmluZGV4ICsgMSkgLyBlLnNlcmllcy5kYXRhLmxlbmd0aCwgdC54IC0gMjg4ZTUpOwoJCQkJCQkJCQkJcmV0dXJuIG4KCQkJCQkJCQkJfSkuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiAibWF4IiA9PT0gZS5zZXJpZXMubmFtZSB8fCAibWluIiA9PT0gZS5zZXJpZXMubmFtZSA/ICExIDogITAKCQkJCQkJCQkJfSk7CgkJCQkJCQkJcmV0dXJuIDAgPT09IGgubGVuZ3RoID8gITEgOiAoYygiI3RpbWVDdXJzb3IiKS5odG1sKGwpLCBjKCIjdGltZUN1cnNvciIpLmNzcyh7CgkJCQkJCQkJCWxlZnQ6IFgueCArIFEoKSArICJweCIsCgkJCQkJCQkJCXJpZ2h0OiAiIgoJCQkJCQkJCX0pLCBYLnggKyAzOCArIFEoKSA+IEggJiYgYygiI3RpbWVDdXJzb3IiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiBYLnggKyBRKCkgLSBwYXJzZUludChjKCIjdGltZUN1cnNvciIpLmNzcygid2lkdGgiKSkgLSAxMCArICJweCIKCQkJCQkJCQl9KSwgIi0xMDAwcHgiID09PSBjKCIjZGFzaGVkTGluZSIpLmNzcygibGVmdCIpICYmIHRoaXMucG9pbnRzWzBdLnBvaW50LmluZGV4ID09PSB0aGlzLnBvaW50c1swXS5zZXJpZXMuZGF0YS5sZW5ndGggLSAxICYmIChYLnggLT0gMyksIGMoIiNkYXNoZWRMaW5lIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogWC54ICsgUSgpICsgInB4IgoJCQkJCQkJCX0pLCBoLmZvckVhY2goZnVuY3Rpb24odCwgbikgewoJCQkJCQkJCQl2YXIgaSA9IHQucG9pbnQuc2VyaWVzLm5hbWUsCgkJCQkJCQkJCQlvID0gVShpLCB0LnBvaW50LnksICh0LnBvaW50LmluZGV4ICsgMSkgLyB0LnBvaW50LnNlcmllcy5kYXRhLmxlbmd0aCwgdC5wb2ludC54IC0gMjg4ZTUpLAoJCQkJCQkJCQkJciA9IGEubnVtYmVyRm9ybWF0KG8gKiBfLCAyKTsKCQkJCQkJCQkJbyA9IGEubnVtYmVyRm9ybWF0KG8sIDIpLCAiLiIgPT09IG9bby5sZW5ndGggLSAxXSAmJiAobyArPSAiMDAiKTsKCQkJCQkJCQkJdmFyIHMgPSAoKGUueCAtIDY4NGU1KSAvIDFlMykudG9TdHJpbmcoKSwKCQkJCQkJCQkJCWwgPSBHICYmIEdbc10gJiYgR1tzXS5tc2cgfHwgIiI7CgkJCQkJCQkJCWwgPSAiIjsKCQkJCQkJCQkJdmFyIGMgPSBmID8gIigiICsgciArIGcgKyAiKSIgOiAiIiwKCQkJCQkJCQkJCWggPSBhLm51bWJlckZvcm1hdCh4LCAyKTsKCQkJCQkJCQkJIi4iID09PSBoW2gubGVuZ3RoIC0gMV0gJiYgKGggKz0gIjAwIiksIGMgPSBlLnggPT09IFkgJiYgZiA/ICIoIiArIGggKyBnICsgIikiIDogYywgMCAhPT0gdC5zZXJpZXMuaW5kZXggJiYgKGMgPSAiIik7CgkJCQkJCQkJCXZhciB1ID0gbyArICLlhYMiICsgYzsKCQkJCQkJCQkJZiAmJiAodSA9ICIiICsgZyArIG8gKyAiKCZ5ZW4iICsgciArICIpIiksIGwgJiYgKHUgPSB1ICsgIijljp/ku7c6ICIgKyAoR1tzXS5vcmlfcHJpY2UgLyAxMDApLnRvRml4ZWQoMikgKyAiKSIpLCAid3d3LmFtYXpvbi5jby5qcCIgPT0gbG9jYXRpb24uaG9zdCAmJiAobyA9IG8ucmVwbGFjZSgiLCIsICIiKSwgbyA9IGQocGFyc2VGbG9hdChvKSksIHUgPSBvICsgIuaXpeWFgygiICsgciArICLkurrmsJHluIEpIiksICLor4TorrrmlbAiID09PSBpICYmIChvID0gby5yZXBsYWNlKCIuMDAiLCAiIiksIHUgPSBvICsgIuasoSIpLCBwICs9ICc8dHI+PHRkIHN0eWxlPSJ3aWR0aDogODBweDsgdGV4dC1hbGlnbjogbGVmdCI+PHNwYW4gc3R5bGU9ImNvbG9yOiAnICsgdC5wb2ludC5zZXJpZXMuY29sb3IgKyAnO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OmFyaWFsO2Zsb2F0Om5vbmUiPuKXjzwvc3Bhbj4nICsgdC5wb2ludC5zZXJpZXMubmFtZSArICc8L3RkPlxuCQkJCQk8dGQgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0O3dpZHRoOiA4MHB4OyI+JyArIHUgKyAnPC90ZD48dGQgY2xhc3M9InByb21vVGQiPicgKyBsICsgIjwvdGQ+PC90cj4iCgkJCQkJCQkJfSksIHAgKz0gIjwvdGFibGU+IikKCQkJCQkJCX0sCgkJCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICJyZ2JhKDI1NSwyNTUsMjU1LDAuOCkiLAoJCQkJCQkJYm9yZGVyQ29sb3I6ICIjNGQ0ZDRkIiwKCQkJCQkJCWJvcmRlcldpZHRoOiAuMywKCQkJCQkJCXN0eWxlOiB7CgkJCQkJCQkJcGFkZGluZzogMAoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlzZXJpZXM6IFtdCgkJCQkJfTsKCQkJCShvLklFNyB8fCBvLklFOCkgJiYgKEsudG9vbHRpcC5zdHlsZSA9IHsKCQkJCQl3aWR0aDogIjQwMHB4IgoJCQkJfSksIFIgPSBLLnlBeGlzLnBsb3RMaW5lcy5maWx0ZXIoZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiAib3JpZ2luUHJpY2UiID09PSBlLmlkCgkJCQl9KVswXTsKCQkJCXZhciBRID0gZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiAtYygiI2JpZ2dyYXBoIikub2Zmc2V0KCkubGVmdAoJCQkJCX0sCgkJCQkJZWUgPSBmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlLmxlbmd0aCA/IDEgPT09IGUubGVuZ3RoID8gZVswXS5hbGxfbGluZV9iZWdpbl90aW1lIDogZS5yZWR1Y2UoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQkJcmV0dXJuICJudW1iZXIiID09IHR5cGVvZiBlID8gTWF0aC5taW4oZSwgdC5hbGxfbGluZV9iZWdpbl90aW1lKSA6IE1hdGgubWluKGUuYWxsX2xpbmVfYmVnaW5fdGltZSwgdC5hbGxfbGluZV9iZWdpbl90aW1lKQoJCQkJCQl9KSA6ICExCgkJCQkJfSwKCQkJCQl0ZSA9IHsKCQkJCQkJcGxvdEFsbDogW10sCgkJCQkJCXBsb3RZZWFyOiBbXSwKCQkJCQkJcGxvdE1vbnRoOiBbXSwKCQkJCQkJcGxvdDVEYXk6IFtdLAoJCQkJCQlwbG90U3BlY2lhbDogW10KCQkJCQl9LAoJCQkJCW5lID0gZnVuY3Rpb24oZSkgewoJCQkJCQlLLnhBeGlzLm1pblRpY2tJbnRlcnZhbCA9IGUKCQkJCQl9LAoJCQkJCWllID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCB2b2lkIDAgPT09IGFyZ3VtZW50c1sxXSA/ICExIDogYXJndW1lbnRzWzFdLAoJCQkJCQkJbiA9IGUuZmlsdGVyKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gdCA/ICEwIDogIuW9k+WJjeWVhuWfjuWOn+Wni+S7t+agvCIgPT09IGUubmFtZSB8fCAibWF4IiA9PT0gZS5uYW1lIHx8ICJtaW4iID09PSBlLm5hbWUgfHwgIuivhOiuuuaVsCIgPT09IGUubmFtZSA/ICExIDogdm9pZCAwID09PSBlLnZpc2libGUgPyAhMCA6IGUudmlzaWJsZQoJCQkJCQkJfSk7CgkJCQkJCXJldHVybiBuID0gbi5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJaWYgKCJudW1iZXIiID09IHR5cGVvZiBlLmRhdGFbMF0pIHJldHVybiB7CgkJCQkJCQkJbWF4OiBNYXRoLm1heC5hcHBseShudWxsLCBlLmRhdGEpLAoJCQkJCQkJCW1pbjogTWF0aC5taW4uYXBwbHkobnVsbCwgZS5kYXRhKQoJCQkJCQkJfTsKCQkJCQkJCXZhciB0ID0gZnVuY3Rpb24oKSB7CgkJCQkJCQkJdmFyIHQgPSBlLmRhdGEubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlLnkKCQkJCQkJCQkJfSksCgkJCQkJCQkJCW4gPSBNYXRoLm1heC5hcHBseShudWxsLCB0KSwKCQkJCQkJCQkJaSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHQpLAoJCQkJCQkJCQlhID0gZS5kYXRhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55ID09PSBuCgkJCQkJCQkJCX0pLAoJCQkJCQkJCQlvID0gZS5kYXRhLmZpbHRlcihmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55ID09PSBpCgkJCQkJCQkJCX0pLAoJCQkJCQkJCQlyID0gYS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIGUueAoJCQkJCQkJCQl9KSwKCQkJCQkJCQkJcyA9IG8ubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlLngKCQkJCQkJCQkJfSksCgkJCQkJCQkJCWwgPSB7CgkJCQkJCQkJCQltYXg6IG4sCgkJCQkJCQkJCQltaW46IGksCgkJCQkJCQkJCQltYXhTdGFydDogTWF0aC5tYXguYXBwbHkobnVsbCwgciksCgkJCQkJCQkJCQltaW5TdGFydDogTWF0aC5tYXguYXBwbHkobnVsbCwgcykKCQkJCQkJCQkJfTsKCQkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCQl2OiBsCgkJCQkJCQkJfQoJCQkJCQkJfSgpOwoJCQkJCQkJcmV0dXJuICJvYmplY3QiID09IHR5cGVvZiB0ID8gdC52IDogdm9pZCAwCgkJCQkJCX0pLCAwID09PSBuLmxlbmd0aCA/ICExIDogMSA9PT0gbi5sZW5ndGggPyB7CgkJCQkJCQltYXg6IG5bMF0ubWF4LAoJCQkJCQkJbWluOiBuWzBdLm1pbiwKCQkJCQkJCW1heFN0YXJ0OiBuWzBdLm1heFN0YXJ0LAoJCQkJCQkJbWluU3RhcnQ6IG5bMF0ubWluU3RhcnQKCQkJCQkJfSA6IG4ucmVkdWNlKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJCXZhciBuID0gZS5tYXggPiB0Lm1heCA/IGUubWF4U3RhcnQgOiB0Lm1heFN0YXJ0LAoJCQkJCQkJCWkgPSBlLm1pbiA8IHQubWluID8gZS5taW5TdGFydCA6IHQubWluU3RhcnQ7CgkJCQkJCQlyZXR1cm4gZS5tYXggPT09IHQubWF4ICYmIChuID0gTWF0aC5tYXgoZS5tYXhTdGFydCwgdC5tYXhTdGFydCkpLCBlLm1pbiA9PT0gdC5taW4gJiYgKGkgPSBNYXRoLm1heChlLm1pblN0YXJ0LCB0Lm1pblN0YXJ0KSksIHsKCQkJCQkJCQltYXg6IE1hdGgubWF4KGUubWF4LCB0Lm1heCksCgkJCQkJCQkJbWluOiBNYXRoLm1pbihlLm1pbiwgdC5taW4pLAoJCQkJCQkJCW1heFN0YXJ0OiBuLAoJCQkJCQkJCW1pblN0YXJ0OiBpCgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlhZSA9IEUoSy55QXhpcy5wbG90TGluZXMpLAoJCQkJCW9lID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IG0uZGVlcENvcHkoZSk7CgkJCQkJCWlmICghKHQueUF4aXMgaW5zdGFuY2VvZiBBcnJheSAmJiB0LnlBeGlzLmxlbmd0aCA+IDEpKSB7CgkJCQkJCQl2YXIgbiA9IHsKCQkJCQkJCQkJb2Zmc2V0OiAwLAoJCQkJCQkJCQlhbGlnbjogImhpZ2giLAoJCQkJCQkJCQlncmlkTGluZUNvbG9yOiAiI2U2ZTllYiIsCgkJCQkJCQkJCW9wcG9zaXRlOiAhMCwKCQkJCQkJCQkJbGFiZWxzOiB7CgkJCQkJCQkJCQl6SW5kZXg6IDk5OTk5CgkJCQkJCQkJCX0sCgkJCQkJCQkJCW1pbjogMCwKCQkJCQkJCQkJbWF4OiAxMDAsCgkJCQkJCQkJCXRpdGxlOiB7CgkJCQkJCQkJCQl0ZXh0OiAi6K+E6K66KOasoSkiLAoJCQkJCQkJCQkJcm90YXRpb246IDAsCgkJCQkJCQkJCQl5OiAtMjAsCgkJCQkJCQkJCQl4OiAtMywKCQkJCQkJCQkJCWFsaWduOiAiaGlnaCIsCgkJCQkJCQkJCQlvZmZzZXQ6IDY1LAoJCQkJCQkJCQkJc3R5bGU6IHsKCQkJCQkJCQkJCQlmb250RmFtaWx5OiAiTWljcm9zb2Z0IFlhSGVpIiwKCQkJCQkJCQkJCQlmb250U2l6ZTogMTIsCgkJCQkJCQkJCQkJY29sb3I6ICIjMzIzMzMzIgoJCQkJCQkJCQkJfQoJCQkJCQkJCQl9CgkJCQkJCQkJfSwKCQkJCQkJCQlpID0gdC55QXhpczsKCQkJCQkJCXJldHVybiB0LnlBeGlzID0gdC55QXhpcyBpbnN0YW5jZW9mIEFycmF5ID8gdC55QXhpcyA6IFtdLCAwID09IHQueUF4aXMubGVuZ3RoICYmIHQueUF4aXMucHVzaChpKSwgdC55QXhpcy5wdXNoKG4pLCB0CgkJCQkJCX0KCQkJCQl9LAoJCQkJCXJlID0gZnVuY3Rpb24odCwgbiwgbywgcikgewoJCQkJCQl2b2lkIDAgPT09IG4gJiYgKG4gPSAhMSk7CgkJCQkJCXZhciBzID0gdDsKCQkJCQkJVCA9IG4sICJjZW50ZXIiID09PSB0ICYmICh0ID0gInBsb3RBbGwiKSwgInBsb3RTcGVjaWFsIiA9PT0gcyAmJiAoWiA9ICEwKSwgby5zZXJpZXMgPSB0ZVt0XSwgInBsb3RTcGVjaWFsIiA9PT0gdCAmJiAodCA9ICJwbG90QWxsIiksIGMoIi5mbG9hdEJ1dHRvbnM+YSIpLnJlbW92ZUNsYXNzKCJhY3RpdmVQbG90IiksIGMoIi5mbG9hdEJ1dHRvbnM+IyIgKyB0KS5hZGRDbGFzcygiYWN0aXZlUGxvdCIpLCBvLnRpdGxlLnRleHQgPSBjKCIjIiArIHQpLnRleHQoKTsKCQkJCQkJdmFyIGwgPSB0ZVtzXSwKCQkJCQkJCXAgPSBpZShsLCAhMCk7CgkJCQkJCWlmIChwICYmIHNlKHAubWF4LCBwLm1pbiwgbyksICJwbG90NURheSIgPT09IHQgPyAoby50aXRsZS50ZXh0ID0gIui/keS6lOWkqeS7t+agvOi1sOWKvyIsIG5lKHcpLCBEID0gITAsIFcgPSAic2hvcnRfZGF5X2xpbmUiKSA6IEQgPSAhMSwgInBsb3RNb250aCIgPT09IHQgJiYgKG8udGl0bGUudGV4dCA9ICLov5HkuIDmnIjku7fmoLzotbDlir8iLCBuZSg1ICogdyksIFcgPSAibW9udGhfbGluZSIpLCAicGxvdEFsbCIgPT09IHQpIHsKCQkJCQkJCW8udGl0bGUudGV4dCA9ICLlhajpg6jku7fmoLzotbDlir8iLCAicGxvdFNwZWNpYWwiID09PSBzICYmIChvLnRpdGxlLnRleHQgPSAi5YWo6YOo5Lu35qC8JuivhOiuuui1sOWKvyIsIG8udGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICJub3JtYWwiLCBvLmNoYXJ0Lm1hcmdpblRvcCA9IDcwLCBvLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDQwLCBvLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gODApLCByICYmICFqICYmIChvLnRpdGxlLnRleHQgPSAi5YWo6YOo5Lu35qC86LWw5Yq/Iik7CgkJCQkJCQl2YXIgaCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGwubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQlyZXR1cm4gZS5kYXRhLmxlbmd0aAoJCQkJCQkJfSkpOwoJCQkJCQkJbmUoaCA+IDMwID8gMzAgKiB3IDogaCA+IDUgPyA1ICogdyA6IHcpLCBXID0gImFsbF9saW5lIiwgKE1bMF0uYWxsX2VxdWFsX3Nob3J0IHx8IE1bMF0uYWxsX2xpbmUubGVuZ3RoIDwgNSAmJiAxID09IE0ubGVuZ3RoKSAmJiAoVyA9ICJzaG9ydF9kYXlfbGluZSIsIEQgPSAhMCwgTVswXS5hbGxfbGluZS5sZW5ndGggPCA1ICYmIDEgPT0gTS5sZW5ndGggJiYgKG8uc2VyaWVzWzBdLnBvaW50U3RhcnQgPSBlLmdldFRpbWUoKSArIDI4OGU1IC0gKE1bMF0uYWxsX2xpbmUubGVuZ3RoIC0gMSkgKiB3KSkKCQkJCQkJfQoJCQkJCQkicGxvdFllYXIiID09PSB0ICYmIChvLnRpdGxlLnRleHQgPSAi6L+R5LiA5bm05Lu35qC86LWw5Yq/IiwgbmUoMzAgKiB3KSwgVyA9ICJ5ZWFyX2xpbmUiLCBvLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDU1KSwgbiB8fCAoTiA9IHQpLCAicGxvdFNwZWNpYWwiID09PSBzICYmIChvID0gb2UobyksIG8uc2VyaWVzWzFdLnlBeGlzID0gMSwgby5zZXJpZXNbMF0ueUF4aXMgPSAwKTsKCQkJCQkJdmFyIHUgPSBvLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBvLnlBeGlzWzBdIDogby55QXhpczsKCQkJCQkJWiB8fCAodS5wbG90TGluZXNbMl0udmFsdWUgPSBMLCB1LnBsb3RMaW5lc1syXS5sYWJlbC50ZXh0ID0gIuWOn+S7tzoiICsgZChMKSksIGkgPSBuZXcgYS5DaGFydChvKQoJCQkJCX0sCgkJCQkJc2UgPSBmdW5jdGlvbihlLCB0LCBuKSB7CgkJCQkJCWlmICghWikgewoJCQkJCQkJdmFyIGkgPSBuLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBuLnlBeGlzWzBdIDogbi55QXhpczsKCQkJCQkJCWkucGxvdExpbmVzID0gRShhZSksIGkucGxvdExpbmVzIGluc3RhbmNlb2YgQXJyYXkgfHwgKGkucGxvdExpbmVzID0gSlNPTi5wYXJzZShpLnBsb3RMaW5lcykpLCBpLnBsb3RMaW5lc1swXS52YWx1ZSA9IGUsIGkucGxvdExpbmVzWzFdLnZhbHVlID0gdCwgaS5wbG90TGluZXNbMF0ubGFiZWwudGV4dCA9ICLmnIDpq5g6IiArIGUgKyAi5YWDIiwgaS5wbG90TGluZXNbMV0ubGFiZWwudGV4dCA9ICLmnIDkvY46IiArIHQgKyAi5YWDIiwgaS5taW4gPSBNYXRoLm1pbih0LCBMKQoJCQkJCQl9CgkJCQkJfSwKCQkJCQlsZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJYygiLmZsb2F0QnV0dG9ucz4iICsgZSkucmVtb3ZlQ2xhc3MoImJqZC1oaWRkZW4iKQoJCQkJCX0sCgkJCQkJY2UgPSBmdW5jdGlvbigpIHsKCQkJCQkJYygiLmZsb2F0QnV0dG9ucyIpLm9uKCJjbGljayIsICJhIiwgZnVuY3Rpb24oZSkgewoJCQkJCQkJcmUoZS50YXJnZXQuaWQsICExLCBtLmRlZXBDb3B5KEspKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJZGUgPSBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCQl0ID0gdm9pZCAwOwoJCQkJCQljKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4iKS5vbigiY2xpY2siLCAic3BhbiIsIGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXZhciBpID0gYyhuLnRhcmdldCkuYXR0cigiZGF0YS1pZCIpOwoJCQkJCQkJaWYgKCJwbG90U3BlY2lhbCIgPT09IGkpIHsKCQkJCQkJCQlpZiAoYygiLnRyZW5kLW1heC1taW4tcHJpY2UiKS5hZGRDbGFzcygicmV2aWV3VCIpLCB0IHx8ICh0ID0gITAsIGgubG9nKCJyZXZpZXctdHJlbmQtY2xpY2siKSwgdSgicmV2aWV3LXRyZW5kLWNsaWNrIikpLCBqKSByZXR1cm47CgkJCQkJCQkJaWYgKEMpIHJldHVybiB2b2lkKGUgPyAoQy5zaG93KCksIGUgPSAhMSwgYygic3Bhbi5yZXZpZXctdHJlbmQtc3AiKS5hZGRDbGFzcygibXNjbGljayIpKSA6IChDLmhpZGUoKSwgZSA9ICEwLCBjKCJzcGFuLnJldmlldy10cmVuZC1zcCIpLnJlbW92ZUNsYXNzKCJtc2NsaWNrIikpKTsKCQkJCQkJCQllID0gITEsIEIgPSAhMCwgYygic3Bhbi5yZXZpZXctdHJlbmQtc3AiKS5hZGRDbGFzcygibXNjbGljayIpCgkJCQkJCQl9IGVsc2UgQyA9IG51bGwsIEIgPSAhMSwgYygiLnRyZW5kLW1heC1taW4tcHJpY2UiKS5yZW1vdmVDbGFzcygicmV2aWV3VCIpLCBjKCJzcGFuLnJldmlldy10cmVuZC1zcCIpLnJlbW92ZUNsYXNzKCJtc2NsaWNrIik7CgkJCQkJCQlyZShpLCAhMSwgbS5kZWVwQ29weShLKSwgITApCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQlwZSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJcmV0dXJuIHsKCQkJCQkJCXk6IGUsCgkJCQkJCQltYXJrZXI6IHsKCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiB0ID0gewoJCQkJCWluaXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbMV0gPyAiZHBQYWdlIiA6IGFyZ3VtZW50c1sxXSwKCQkJCQkJCW4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbMl0gPyAhMSA6IGFyZ3VtZW50c1syXSwKCQkJCQkJCWEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgdm9pZCAwID09PSBhcmd1bWVudHNbM10gPyAhMSA6IGFyZ3VtZW50c1szXSwKCQkJCQkJCWQgPSBLLnlBeGlzIGluc3RhbmNlb2YgQXJyYXkgPyBLLnlBeGlzWzBdIDogSy55QXhpczsKCQkJCQkJaWYgKGEgfHwgKGEgPSB7CgkJCQkJCQl0b3A6ICEwLAoJCQkJCQkJYm90dG9tOiAhMCwKCQkJCQkJCW1pZGRsZTogITAsCgkJCQkJCQliYWlkdTogITAKCQkJCQkJfSksICFlLnN0b3JlIHx8ICFlLnN0b3JlWzBdIHx8IDAgIT09IGUuc3RvcmVbMF0uYWxsX2xpbmUubGVuZ3RoKSB7CgkJCQkJCQljKCJib2R5IikuYXBwZW5kKCc8ZGl2IGlkPSJiaWdncmFwaCIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMDAwMHB4OyB0b3A6IC0xMDAwMDBweDtiYWNrZ3JvdW5kOiB3aGl0ZTtvdmVyZmxvdzogaGlkZGVuIj48L2Rpdj4nKSwgYygiI2JpZ2dyYXBoIikuYXBwZW5kKHAuY29tcGlsZShyKSh7CgkJCQkJCQkJZXh0QnJhbmQ6IG8uZXh0QnJhbmQsCgkJCQkJCQkJc19zZXJ2ZXI6IG8uc19zZXJ2ZXIKCQkJCQkJCX0pKTsKCQkJCQkJCXZhciB2ID0gIiI7CgkJCQkJCQljZSgpLCBuICYmIGMobikuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgYygiIyIgKyBvLmV4dE5hbWUgKyAiLXRyZW5kIikuaG92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQkJaWYgKEsueUF4aXMudGl0bGUudGV4dCA9ICLkurrmsJHluIE6IiwgWiA9IGEudG9wLCBjKHdpbmRvdykud2lkdGgoKSA8IDEyMDAgJiYgKEsudGl0bGUueCA9IC0xNTApLCBLLmxlZ2VuZC5lbmFibGVkID0gITAsIFogPyBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMjAwIDogSy5jaGFydC5tYXJnaW5SaWdodCA9IDMwNSwgSy5jaGFydC5tYXJnaW5Cb3R0b20gPSA1NSwgYygiI2JpZ2dyYXBoIikuY3NzKHsKCQkJCQkJCQkJbGVmdDogMCwKCQkJCQkJCQkJdG9wOiAwLAoJCQkJCQkJCQlib3R0b206IDAsCgkJCQkJCQkJCXJpZ2h0OiAwCgkJCQkJCQkJfSksICJ0cmVuZCIgIT09IHYpIHsKCQkJCQkJCQkJdmFyIGUgPSBjKCIjIiArIG8uZXh0TmFtZSArICItcHJpLXRyZW5kLWNoYXJ0Iik7CgkJCQkJCQkJCWUuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgdiA9ICJ0cmVuZCIsIGMoIi5mbG9hdEJ1dHRvbnMiKS5zaG93KCksIGMoIiNiamQtcXJjb2RlLXRyZW5kIikuc2hvdygpLCBjKCIjYmpkLXFyY29kZS10cmVuZCIpLmxlbmd0aCAmJiBBKCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIgoJCQkJCQkJCQl9KSwgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSk7CgkJCQkJCQkJCQl2YXIgZSA9IGMoIiMiICsgby5leHROYW1lICsgIi1wcmktdHJlbmQtY2hhcnQiKS53aWR0aCgpOwoJCQkJCQkJCQkJaS5zZXRTaXplKGUgKyAyMCwgMjUwKSwgSCA9IGkucGxvdFdpZHRoLCBpLmF4ZXNbMF0udXBkYXRlKEsueEF4aXMpLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQkJCXZpc2liaWxpdHk6ICJ2aXNpYmxlIgoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfSwgMCkKCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQkJCXZhciBiID0gZnVuY3Rpb24odCkgewoJCQkJCQkJCWMoIi50cmVuZC1tYXgtbWluLXByaWNlIC50LW1heC1wcmkiKS50ZXh0KCLmnIDpq5g6IiArIChlLnN0b3JlWzBdLmhpZ2hlc3QgfHwgZS5zdG9yZVswXS5wcmljZV9yYW5nZS5zcGxpdCgiLSIpWzFdKSksIGMoIi50cmVuZC1tYXgtbWluLXByaWNlIC50LW1pbi1wcmkiKS50ZXh0KCLmnIDkvY46IiArIChlLnN0b3JlWzBdLmxvd2VzdCB8fCBlLnN0b3JlWzBdLnByaWNlX3JhbmdlLnNwbGl0KCItIilbMF0pKSwgWiA9IGEubWlkZGxlLCBaID0gITAsIEsudGl0bGUueCA9IDAsIEsubGVnZW5kLmVuYWJsZWQgPSAhMSwgSy5jaGFydC5tYXJnaW5SaWdodCA9IDQwLCBLLmNoYXJ0Lm1hcmdpblRvcCA9IDYwLCBLLmNoYXJ0Lm1hcmdpbkJvdHRvbSA9IDY4LCBLLnlBeGlzLnRpdGxlLnRleHQgPSAi5Lu35qC8KOWFgykiLCBLLnhBeGlzLmxhYmVscy55ID0gMjUsIEsudGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICJub3JtYWwiLCBjKCIuZmxvYXRCdXR0b25zIikuaGlkZSgpLCBjKCIjYmpkLXFyY29kZS10cmVuZCIpLmhpZGUoKSwgYygiI2RldGFpbFByb21vdGlvbiIpLmNzcyh7CgkJCQkJCQkJCXpJbmRleDogMAoJCQkJCQkJCX0pLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJCQl0b3A6IDAsCgkJCQkJCQkJCWJvdHRvbTogMCwKCQkJCQkJCQkJcmlnaHQ6IDAKCQkJCQkJCQl9KSwgImJ0biIgIT09IHYgJiYgKGModCkuYXBwZW5kKGMoIiNiaWdncmFwaCIpKSwgZGUoKSwgdiA9ICJidG4iLCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQl2aXNpYmlsaXR5OiAiaGlkZGVuIgoJCQkJCQkJCX0pLCB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJTyA9ICExLCBMID0gMCwgcmUoQiA/ICJwbG90U3BlY2lhbCIgOiAicGxvdEFsbCIsICExLCBtLmRlZXBDb3B5KEspLCAhMCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSkKCQkJCQkJCQl9LCAwKSkKCQkJCQkJCX07CgkJCQkJCQljKCIjIiArIG8uZXh0QnJhbmQgKyAiX3ByaWNlX2hpc3RvcnlfYnRuIikuaG92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQkJYigiIyIgKyBvLmV4dEJyYW5kICsgIl93aXNobGlzdF90cmVuZF9kZXRhaWxfY2hhcnQiKQoJCQkJCQkJfSksIGMoIiMiICsgby5leHRCcmFuZCArICJfd2lzaGxpc3RfdHJlbmRfZGV0YWlsIikubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJCQljKCIjZGV0YWlsUHJvbW90aW9uIikuY3NzKHsKCQkJCQkJCQkJekluZGV4OiAxNQoJCQkJCQkJCX0pCgkJCQkJCQl9KSwgYygiIyIgKyBvLmV4dEJyYW5kICsgIi10cmVuZCIpLmhvdmVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJCVogPSBhLmJvdHRvbSwgSy55QXhpcy50aXRsZS50ZXh0ID0gIuS6uuawkeW4gToiLCB2ICE9PSAiIiArIG8uZXh0QnJhbmQgJiYgKEsubGVnZW5kLmVuYWJsZWQgPSAhMCwgWiA/IEsuY2hhcnQubWFyZ2luUmlnaHQgPSAyMDAgOiBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMzA1LCBjKCIjYmlnZ3JhcGgiKS5jc3MoewoJCQkJCQkJCQlsZWZ0OiAwLAoJCQkJCQkJCQl0b3A6IDAsCgkJCQkJCQkJCWJvdHRvbTogMCwKCQkJCQkJCQkJcmlnaHQ6IDAKCQkJCQkJCQl9KSwgYygiIyIgKyBvLmV4dEJyYW5kICsgIi10cmVuZC1jaGFydCIpLmFwcGVuZChjKCIjYmlnZ3JhcGgiKSksIHYgPSAiIiArIG8uZXh0QnJhbmQsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCXZpc2liaWxpdHk6ICJoaWRkZW4iCgkJCQkJCQkJfSksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSksIGkucmVmbG93KCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSksIGMoIiMiICsgby5leHRCcmFuZCArICItdHJlbmQtY2hhcnQiKS5zaG93KCkKCQkJCQkJCQl9LCAwKSwgYygiLmZsb2F0QnV0dG9ucyIpLnNob3coKSwgYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5zaG93KCksIGMoIiNiamQtcXJjb2RlLXRyZW5kIikubGVuZ3RoICYmIEEoKSwgYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5jc3MoImJvdHRvbSIsICI5cHgiKSkKCQkJCQkJCX0pLCBjKCIuYmRleHQtdHJlbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiBaID0gYS5iYWlkdSwgImJkdHJlbmQiID09PSB2ID8gdm9pZCBjKCIjYmRleHRfbWFpbnRyZW5kX2RldGFpbCIpLnNob3coKSA6IChLLmxlZ2VuZC5lbmFibGVkID0gITAsIEsuY2hhcnQubWFyZ2luUmlnaHQgPSAzMDUsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCWxlZnQ6IDAsCgkJCQkJCQkJCXRvcDogMCwKCQkJCQkJCQkJYm90dG9tOiAwLAoJCQkJCQkJCQlyaWdodDogMAoJCQkJCQkJCX0pLCBjKCIjYmRleHRfbWFpbnRyZW5kX2RldGFpbCIpLmFwcGVuZChjKCIjYmlnZ3JhcGgiKSksIHYgPSAiYmR0cmVuZCIsIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCXZpc2liaWxpdHk6ICJoaWRkZW4iCgkJCQkJCQkJfSksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJCQlyZShOLCAhMSwgbS5kZWVwQ29weShLKSksIGkucmVmbG93KCksIGMoIiNiaWdncmFwaCIpLmNzcyh7CgkJCQkJCQkJCQl2aXNpYmlsaXR5OiAidmlzaWJsZSIKCQkJCQkJCQkJfSkKCQkJCQkJCQl9LCAwKSwgYygiI2JkZXh0X21haW50cmVuZF9kZXRhaWwiKS5zaG93KCksIHZvaWQgYygiLmZsb2F0QnV0dG9ucyIpLnNob3coKSkKCQkJCQkJCX0pLCBjKCIuYmRleHQtbWluaS10cmVuZCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJYigiI2JkZXh0X21pbmlfdHJlbmRib3giKSwgYygiI2JkZXh0X21pbml0cmVuZF9kZXRhaWwiKS5zaG93KCkKCQkJCQkJCX0pLCBjKCIjcGxvdEFyZWEiKS5jc3MoewoJCQkJCQkJCW1heFdpZHRoOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gMjgwICsgInB4IgoJCQkJCQkJfSksIGMoIiNwbG90QXJlYSIpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7CgkJCQkJCQkJWC54ID0gZS5wYWdlWCwgWC55ID0gZS5wYWdlWQoJCQkJCQkJfSksIGMoIiNwbG90QXJlYSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiAhMQoJCQkJCQkJfSksIGMoIiN0aW1lQ3Vyc29yIikuY3NzKHsKCQkJCQkJCQlsZWZ0OiAiLTEwMDBweCIKCQkJCQkJCX0pLCBlICYmICEgZnVuY3Rpb24oKSB7CgkJCQkJCQkJTSA9IGUuc3RvcmUsIGUucmV2aWV3X3RyZW5kICYmIGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZCAmJiBlLnJldmlld190cmVuZC5yZXZpZXdfdHJlbmQubGlzdC5sZW5ndGggPiAxID8gTS5wdXNoKHsKCQkJCQkJCQkJbmFtZTogIuivhOiuuuaVsCIsCgkJCQkJCQkJCWFsbF9saW5lX2JlZ2luX3RpbWU6IG5ldyBEYXRlKGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZC5zdGFydFRpbWUpLmdldFRpbWUoKSwKCQkJCQkJCQkJYWxsX2xpbmU6IGUucmV2aWV3X3RyZW5kLnJldmlld190cmVuZC5saXN0CgkJCQkJCQkJfSkgOiAoaiA9ICEwLCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9idG4iKS5hZGRDbGFzcygibm8tcmV2aWV3IikpLCAkID0gZSwgRyA9IGUucHJvbW9JbmZvOwoJCQkJCQkJCXZhciBuID0gTWF0aC5taW4oZS5zdG9yZVswXSAmJiBlLnN0b3JlWzBdLmFsbF9saW5lX2JlZ2luX3RpbWUsIGVlKE0pKSwKCQkJCQkJCQkJaSA9IGUubm93X2RheTsKCQkJCQkJCQlGID0gZS5ub3dfZGF5OwoJCQkJCQkJCXZhciBhID0gW3sKCQkJCQkJCQkJcGxvdDogInBsb3RBbGwiLAoJCQkJCQkJCQlzdGFydDogImFsbF9saW5lX2JlZ2luX3RpbWUiLAoJCQkJCQkJCQltaW5EYXk6IC4xLAoJCQkJCQkJCQlkYXRhOiAiYWxsX2xpbmUiCgkJCQkJCQkJfSwgewoJCQkJCQkJCQlwbG90OiAicGxvdDVEYXkiLAoJCQkJCQkJCQlzdGFydDogInNob3J0X2RheV9saW5lX2JlZ2luX3RpbWUiLAoJCQkJCQkJCQltaW5EYXk6IDUsCgkJCQkJCQkJCWRhdGE6ICJzaG9ydF9kYXlfbGluZSIKCQkJCQkJCQl9LCB7CgkJCQkJCQkJCXBsb3Q6ICJwbG90TW9udGgiLAoJCQkJCQkJCQlzdGFydDogIm1vbnRoX2xpbmVfdGltZSIsCgkJCQkJCQkJCW1pbkRheTogMzAsCgkJCQkJCQkJCWRhdGE6ICJtb250aF9saW5lIgoJCQkJCQkJCX0sIHsKCQkJCQkJCQkJcGxvdDogInBsb3RZZWFyIiwKCQkJCQkJCQkJc3RhcnQ6ICJ5ZWFyX2xpbmVfdGltZSIsCgkJCQkJCQkJCW1pbkRheTogMzY1LAoJCQkJCQkJCQlkYXRhOiAieWVhcl9saW5lIgoJCQkJCQkJCX0sIHsKCQkJCQkJCQkJcGxvdDogInBsb3RTcGVjaWFsIiwKCQkJCQkJCQkJc3RhcnQ6ICJhbGxfbGluZV9iZWdpbl90aW1lIiwKCQkJCQkJCQkJbWluRGF5OiAuMSwKCQkJCQkJCQkJZGF0YTogImFsbF9saW5lIgoJCQkJCQkJCX1dOwoJCQkJCQkJCWlmIChsZSgiI3Bsb3RBbGwiKSwgLTEgPT09IE1bMF0ubmFtZS5pbmRleE9mKCIo5b2T5YmNKSIpICYmIChNWzBdLm5hbWUgKz0gIijlvZPliY0pIiksIE1bMF0uY3VycmVuY3kgfHwgInd3dy5hbWF6b24uY29tIiA9PT0gbG9jYXRpb24uaG9zdCB8fCAid3d3LmFsaWV4cHJlc3MuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCQl2YXIgciA9IHsKCQkJCQkJCQkJCQlVU0Q6ICIkIiwKCQkJCQkJCQkJCQlFVVI6ICJFVVIiLAoJCQkJCQkJCQkJCUpQWTogIuaXpeWFgyIsCgkJCQkJCQkJCQkJQ0FEOiAiQ0ROJCIsCgkJCQkJCQkJCQkJR0JQOiAiwqMiCgkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJcCA9IHsKCQkJCQkJCQkJCQlVU0Q6ICLnvo7lhYMiLAoJCQkJCQkJCQkJCUVVUjogIuasp+WFgyIsCgkJCQkJCQkJCQkJSlBZOiAi5pel5YWDIiwKCQkJCQkJCQkJCQlDQUQ6ICLliqDlhYMiLAoJCQkJCQkJCQkJCUdCUDogIuiLsemVkSIKCQkJCQkJCQkJCX07CgkJCQkJCQkJCU1bMF0uY3VycmVuY3kgfHwgKE1bMF0uY3VycmVuY3kgPSAiVVNEIiksIHggPSBzLmdldFByaWNlQmVmb3JlRXhjaGFuZ2VSYXRlKG8uZHAub2xkUHJpY2UpLCBnID0gcltNWzBdLmN1cnJlbmN5XSwgZC50aXRsZS50ZXh0ID0gcFtNWzBdLmN1cnJlbmN5XSArICLvvJoiLCBLLmNoYXJ0Lm1hcmdpblJpZ2h0ID0gMzkwLCBmID0gITA7CgkJCQkJCQkJCXZhciB2ID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIHMoZSwgTVswXS5jdXJyZW5jeSkKCQkJCQkJCQkJfTsKCQkJCQkJCQkJXyA9IHYoMWU2KSAvIDFlNiwgTCAvPSBfOwoJCQkJCQkJCQl2YXIgYiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCXJldHVybiBlICYmIChlID0gZS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCXJldHVybiBlIC8gXwoJCQkJCQkJCQkJfSkpLCBlCgkJCQkJCQkJCX07CgkJCQkJCQkJCWlmIChNLmxlbmd0aCA+IDEpCgkJCQkJCQkJCQlmb3IgKHZhciB5ID0gMTsgeSA8IE0ubGVuZ3RoOyB5KyspICLkuprpqazpgIoiID09PSBNW3ldLm5hbWUgJiYgKE1beV0ubmFtZSA9ICLkuprpqazpgIrkuK3lm70iKSwgTVt5XS5hbGxfbGluZSA9IGIoTVt5XS5hbGxfbGluZSksIE1beV0uc2hvcnRfZGF5X2xpbmUgPSBiKE1beV0uc2hvcnRfZGF5X2xpbmUpLCBNW3ldLm1vbnRoX2xpbmUgPSBiKE1beV0ubW9udGhfbGluZSksIE1beV0ueWVhcl9saW5lID0gYihNW3ldLnllYXJfbGluZSk7CgkJCQkJCQkJCXRyeSB7CgkJCQkJCQkJCQl2YXIgayA9IFsiYWxsX2xpbmUiLCAic2hvcnRfZGF5X2xpbmUiLCAibW9udGhfbGluZSIsICJ5ZWFyX2xpbmUiXTsKCQkJCQkJCQkJCWsuZm9yRWFjaChmdW5jdGlvbihlKSB7fSkKCQkJCQkJCQkJfSBjYXRjaCAoeikge30KCQkJCQkJCQl9CgkJCQkJCQkJdmFyIEIgPSAxODsKCQkJCQkJCQkiemhpZGVtYWkiID09PSB0ICYmIChCID0gMSksICJwcmljZUhpc3RvcnkiID09PSB0ICYmIChCID0gMjApOwoJCQkJCQkJCWZvciAodmFyIEMgPSAhMSwgeSA9IDA7IHkgPCBNYXRoLm1pbihNLmxlbmd0aCwgQik7IHkrKykoaSAtIE1beV0uYWxsX2xpbmVfYmVnaW5fdGltZSA+IDUgKiB3IHx8ICFNW3ldLmFsbF9lcXVhbF9zaG9ydCkgJiYgKEMgPSAhMCk7CgkJCQkJCQkJMSAhPT0gTS5sZW5ndGggfHwgTVsxXSAmJiAi6K+E6K665pWwIiA9PT0gTVsxXS5uYW1lID8gYygiI2JqZC1xcmNvZGUtdHJlbmQiKS5yZW1vdmUoKSA6IChoLmxvZygidHJlbmQtcXJjb2RlLXNob3ciKSwgdSgidHJlbmQtcXJjb2RlLXNob3ciKSk7CgkJCQkJCQkJZm9yICh2YXIgTiA9IHBhcnNlSW50KChpIC0gbikgLyB3KSwgeSA9IDA7IHkgPCBNYXRoLm1pbihNLmxlbmd0aCwgQik7IHkrKykKCQkJCQkJCQkJaWYgKDAgIT09IE1beV0uYWxsX2xpbmUubGVuZ3RoKSB7CgkJCQkJCQkJCQlpZiAoTVt5XS5hbGxfZXF1YWxfc2hvcnQgJiYgMSAhPT0gTS5sZW5ndGgpIHsKCQkJCQkJCQkJCQlNW3ldLmFsbF9saW5lID0gW107CgkJCQkJCQkJCQkJZm9yICh2YXIgVCA9IDA7IFQgPCBNW3ldLnNob3J0X2RheV9saW5lLmxlbmd0aDsgVCArPSAyNCkgTVt5XS5hbGxfbGluZS5wdXNoKE1beV0uc2hvcnRfZGF5X2xpbmVbVF0pOwoJCQkJCQkJCQkJCU1beV0uYWxsX2xpbmVfYmVnaW5fdGltZSA9IGUubm93X2RheSAtIDUgKiB3LCBNW3ldLmFsbF9lcXVhbF9zaG9ydCA9ICExCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlmb3IgKHZhciBBID0gMDsgQSA8IGEubGVuZ3RoOyBBKyspIHsKCQkJCQkJCQkJCQl2YXIgVCA9IGFbQV07CgkJCQkJCQkJCQkJaWYgKGwoaSkgLSBsKG4pID49IFQubWluRGF5ICogdyB8fCAicGxvdDVEYXkiID09PSBULnBsb3QgJiYgQykgewoJCQkJCQkJCQkJCQlpZiAoIU1beV1bVC5kYXRhXSkgY29udGludWU7CgkJCQkJCQkJCQkJCWlmICgicGxvdDVEYXkiID09PSBULnBsb3QgJiYgIUMpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQlpZiAoInBsb3RTcGVjaWFsIiAhPT0gVC5wbG90ICYmICLor4TorrrmlbAiID09PSBNW3ldLm5hbWUpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQlpZiAoInBsb3RTcGVjaWFsIiA9PT0gVC5wbG90ICYmIHkgPiAwICYmICLor4TorrrmlbAiICE9PSBNW3ldLm5hbWUpIGNvbnRpbnVlOwoJCQkJCQkJCQkJCQkic2hvcnRfZGF5X2xpbmVfYmVnaW5fdGltZSIgIT09IFQuc3RhcnQgJiYgKE1beV1bVC5zdGFydF0gPSBsKE1beV1bVC5zdGFydF0pKSwgTVt5XS5hbGxfZXF1YWxfc2hvcnQgJiYgImFsbF9saW5lX2JlZ2luX3RpbWUiID09PSBULnN0YXJ0ICYmIChNW3ldW1Quc3RhcnRdID0gTVt5XS5zaG9ydF9kYXlfbGluZV9iZWdpbl90aW1lKSwgbGUoIiMiICsgVC5wbG90KTsKCQkJCQkJCQkJCQkJdmFyIHEgPSB7CgkJCQkJCQkJCQkJCQljb2xvcjogSShNW3ldLm5hbWUpLAoJCQkJCQkJCQkJCQkJbmFtZTogTVt5XS5uYW1lLAoJCQkJCQkJCQkJCQkJcG9pbnRTdGFydDogTVt5XVtULnN0YXJ0XSwKCQkJCQkJCQkJCQkJCXBvaW50SW50ZXJ2YWw6IHcsCgkJCQkJCQkJCQkJCQlsZWdlbmRJbmRleDogMSwKCQkJCQkJCQkJCQkJCWxpbmVXaWR0aDogMSwKCQkJCQkJCQkJCQkJCXpJbmRleDogNTAwLAoJCQkJCQkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCQkJCQkJc3ltYm9sOiBTLmV4dGVuZGVkLAoJCQkJCQkJCQkJCQkJCXN0YXRlczogewoJCQkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQkJCQlzdGF0ZXM6IHsKCQkJCQkJCQkJCQkJCQlob3ZlcjogewoJCQkJCQkJCQkJCQkJCQllbmFibGVkOiAhMSwKCQkJCQkJCQkJCQkJCQkJaGFsbzogewoJCQkJCQkJCQkJCQkJCQkJc2l6ZTogMAoJCQkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCQkJCWRhdGE6IE1beV1bVC5kYXRhXQoJCQkJCQkJCQkJCQl9OwoJCQkJCQkJCQkJCQlpZiAoInBsb3Q1RGF5IiA9PT0gVC5wbG90ICYmIChxLnBvaW50SW50ZXJ2YWwgPSAzNmU1LCBxLnBvaW50SW50ZXJ2YWwgKiBxLmRhdGEubGVuZ3RoICsgcS5wb2ludFN0YXJ0ID4gRiAmJiAoRiA9IHEucG9pbnRJbnRlcnZhbCAqIHEuZGF0YS5sZW5ndGggKyBxLnBvaW50U3RhcnQpKSwgInBsb3RBbGwiID09PSBULnBsb3QgJiYgcS5kYXRhLmxlbmd0aCA8IDMwICYmIChxLnBvaW50SW50ZXJ2YWwgPSB3LCBuZSh3KSksICJwbG90QWxsIiA9PT0gVC5wbG90ICYmIE1beV0uYWxsX2VxdWFsX3Nob3J0KQoJCQkJCQkJCQkJCQkJaWYgKDAgPT09IHkpIHEucG9pbnRJbnRlcnZhbCA9IDM2ZTU7CgkJCQkJCQkJCQkJCQllbHNlIHsKCQkJCQkJCQkJCQkJCQl2YXIgTyA9IG5ldyBEYXRlKHEucG9pbnRTdGFydCksCgkJCQkJCQkJCQkJCQkJCUQgPSBuZXcgRGF0ZShPLmdldFllYXIoKSArIDE5MDAsIE8uZ2V0TW9udGgoKSwgTy5nZXREYXRlKCksIDgpOwoJCQkJCQkJCQkJCQkJCXEucG9pbnRTdGFydCA9IEQuZ2V0VGltZSgpLCBxLnBvaW50SW50ZXJ2YWwgPSB3OwoJCQkJCQkJCQkJCQkJCWZvciAodmFyIFIgPSBbXSwgVyA9IDA7IFcgPCBxLmRhdGEubGVuZ3RoOyBXICs9IDI0KSBSLnB1c2gocS5kYXRhW1ddKTsKCQkJCQkJCQkJCQkJCQlxLmRhdGEgPSBSCgkJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCWZvciAoOyBxLmRhdGEgJiYgcS5kYXRhLmxlbmd0aCA8IDEwMCAmJiAicGxvdEFsbCIgIT09IFQucGxvdDspIHsKCQkJCQkJCQkJCQkJCWZvciAodmFyIEggPSBbXSwgVSA9IDA7IFUgPCBxLmRhdGEubGVuZ3RoICYmIChILnB1c2gocS5kYXRhW1VdKSwgVSArIDEgIT09IHEuZGF0YS5sZW5ndGgpOyBVKyspIEgucHVzaCgocS5kYXRhW1UgKyAxXSArIHEuZGF0YVtVXSkgLyAyKTsKCQkJCQkJCQkJCQkJCXEuZGF0YSA9IEgsIHEucG9pbnRJbnRlcnZhbCA9IHEucG9pbnRJbnRlcnZhbCAvIDIKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQlxLmRhdGEgPSBxLmRhdGEgPyBxLmRhdGEubWFwKHBlKSA6IG51bGwsIG51bGwgIT0gcS5kYXRhICYmIHRlW1QucGxvdF0ucHVzaChxKQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfQoJCQkJCQkJCWlmICgxID09PSB0ZS5wbG90QWxsLmxlbmd0aCkgewoJCQkJCQkJCQl2YXIgWSA9IHRlLnBsb3RBbGxbMF07CgkJCQkJCQkJCWZvciAoWS5kYXRhID0gWS5kYXRhLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQlyZXR1cm4gZS55CgkJCQkJCQkJCX0pOyBZLmRhdGEubGVuZ3RoIDwgMTAwOykgewoJCQkJCQkJCQkJZm9yICh2YXIgSCA9IFtdLCBBID0gMDsgQSA8IFkuZGF0YS5sZW5ndGggJiYgKEgucHVzaChZLmRhdGFbQV0pLCBBICsgMSAhPT0gWS5kYXRhLmxlbmd0aCk7IEErKykgSC5wdXNoKChZLmRhdGFbQSArIDFdICsgWS5kYXRhW0FdKSAvIDIpOwoJCQkJCQkJCQkJWS5kYXRhID0gSCwgWS5wb2ludEludGVydmFsID0gWS5wb2ludEludGVydmFsIC8gMgoJCQkJCQkJCQl9CgkJCQkJCQkJCVkuZGF0YSA9IFkuZGF0YS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJcmV0dXJuIHsKCQkJCQkJCQkJCQl5OiBlLAoJCQkJCQkJCQkJCW1hcmtlcjogewoJCQkJCQkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSkKCQkJCQkJCQl9CgkJCQkJCQkJTVswXS5hbGxfZXF1YWxfc2hvcnQgPyAoTisrLCBjKCIjcGxvdEFsbCIpLmh0bWwoIuWFqOmDqCgiICsgTiArICLlpKkpIikpIDogYygiI3Bsb3RBbGwiKS5odG1sKCLlhajpg6giICsgTVswXS5hbGxfbGluZS5sZW5ndGggKyAi5aSpIiksIEwgJiYgInpoaWRlbWFpIiAhPT0gdCAmJiBQLmFkZCgi5b2T5YmN5ZWG5Z+O5Y6f5aeL5Lu35qC8IiksIFAuYWRkKE1bMF0ubmFtZSk7CgkJCQkJCQkJdmFyIFggPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJCQkJCQl2YXIgbiA9IHQubWFwKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQkJCQlyZXR1cm4gZS5uYW1lCgkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJCXJldHVybiBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJaWYgKC0xID09PSBuLmluZGV4T2YoZS5uYW1lKSkgcmV0dXJuIGU7CgkJCQkJCQkJCQkJdmFyIGkgPSB0LmZpbHRlcihmdW5jdGlvbih0KSB7CgkJCQkJCQkJCQkJCQlyZXR1cm4gdC5uYW1lID09PSBlLm5hbWUKCQkJCQkJCQkJCQkJfSlbMF0sCgkJCQkJCQkJCQkJCWEgPSBFKGUpOwoJCQkJCQkJCQkJCXJldHVybiBhLmRhdGEgPSBpLmRhdGEsIGEucG9pbnRTdGFydCA9IGkucG9pbnRTdGFydCwgYS5wb2ludEludGVydmFsID0gaS5wb2ludEludGVydmFsLCBhCgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9LAoJCQkJCQkJCQlKID0gZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJdmFyIHQgPSBlLm1hcChmdW5jdGlvbihlKSB7CgkJCQkJCQkJCQkJCXJldHVybiBlLnBvaW50SW50ZXJ2YWwKCQkJCQkJCQkJCQl9KSwKCQkJCQkJCQkJCQluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdCk7CgkJCQkJCQkJCQllLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQkJCWZvciAoOyBlLnBvaW50SW50ZXJ2YWwgPiBuOykgewoJCQkJCQkJCQkJCQlmb3IgKHZhciB0ID0gW10sIGkgPSAwOyBpIDwgZS5kYXRhLmxlbmd0aCAmJiAodC5wdXNoKGUuZGF0YVtpXSksIGkgKyAxICE9PSBlLmRhdGEubGVuZ3RoKTsgaSsrKSB7CgkJCQkJCQkJCQkJCQl2YXIgYSA9IHsKCQkJCQkJCQkJCQkJCQltYXJrZXI6IGUuZGF0YVtpXS5tYXJrZXIsCgkJCQkJCQkJCQkJCQkJeTogKGUuZGF0YVtpICsgMV0ueSArIGUuZGF0YVtpXS55KSAvIDIKCQkJCQkJCQkJCQkJCX07CgkJCQkJCQkJCQkJCQl0LnB1c2goYSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQllLnBvaW50SW50ZXJ2YWwgPSBlLnBvaW50SW50ZXJ2YWwgLyAyLCBlLmRhdGEgPSB0CgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkKCQkJCQkJCQkJfTsKCQkJCQkJCQlbInBsb3RNb250aCIsICJwbG90WWVhciJdLmZvckVhY2goZnVuY3Rpb24oZSkgewoJCQkJCQkJCQlpZiAoIWMoIiMiICsgZSkuaGFzQ2xhc3MoImJqZC1oaWRkZW4iKSkgewoJCQkJCQkJCQkJdmFyIHQgPSB0ZS5wbG90QWxsLAoJCQkJCQkJCQkJCW4gPSB0ZVtlXSwKCQkJCQkJCQkJCQlpID0gWCh0LCBuKTsKCQkJCQkJCQkJCXRlW2VdID0gaSwgSih0ZVtlXSkKCQkJCQkJCQkJfQoJCQkJCQkJCX0pLCBKKHRlLnBsb3RBbGwpLCBKKHRlLnBsb3RTcGVjaWFsKSwgcmUoInBsb3RBbGwiLCAhMSwgbS5kZWVwQ29weShLKSkKCQkJCQkJCX0oKSwgKG8uSUU3IHx8IG8uSUU4IHx8IG8uSUU5IHx8IG8uSUUxMCB8fCBvLklFMTEpICYmIChjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9jaGFydCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICI0NjBweCIKCQkJCQkJCX0pLCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICI1NjlweCIKCQkJCQkJCX0pKSwgIW8uSUU5ICYmICFvLklFMTAgfHwgInZpcCIgIT09IG8uc2l0ZSAmJiAidmlwc2hvcCIgIT09IG8uc2l0ZSB8fCBjKCIjZ3dkX3dpc2hsaXN0X3RyZW5kX2RldGFpbF9jaGFydCIpLmNzcyh7CgkJCQkJCQkJd2lkdGg6ICIzOTBweCIKCQkJCQkJCX0pCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbig5NCksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8c3R5bGU+XG4JLnBhbmVsLXNoYWRvdyB7XG4JCXRvcDogMjUwcHg7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyB7XG4JCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbgkJdG9wOiA5cHg7XG4JCXJpZ2h0OiAwcHg7XG4JCW92ZXJmbG93OiBoaWRkZW47XG4JCXotaW5kZXg6IDk5O1xuCX1cblxuCS5oaWdoY2hhcnRzLWNvbnRhaW5lciB7XG4JCXdpZHRoOiAxMDAlIWltcG9ydGFudDtcbgkJaGVpZ2h0OiAxMDAlIWltcG9ydGFudDtcbgl9XG5cbgkuaGlnaGNoYXJ0cy1jb250YWluZXIgPiBzdmcge1xuCQl3aWR0aDogMTAwJSFpbXBvcnRhbnQ7XG4JCWhlaWdodDogMTAwJSFpbXBvcnRhbnQ7CQlcbgl9XG5cbgkuaGlnaGNoYXJ0cy10b29sdGlwIHNwYW4ge1xuCQl6LWluZGV4OiA5OTk5IWltcG9ydGFudDtcbgl9XG5cbgkuaGlnaGNoYXJ0cy10b29sdGlwIHRhYmxlIHtcbgkJd2lkdGg6IGF1dG8haW1wb3J0YW50O1xuCQltYXJnaW4tbGVmdDogOHB4IWltcG9ydGFudDtcbgkJbWFyZ2luLXJpZ2h0OiA4cHghaW1wb3J0YW50O1xuCQlib3JkZXI6IG5vbmU7XG4JCWJvcmRlci1zcGFjaW5nOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAgdGQge1xuCQlmb250LWZhbWlseTogIk1pY3Jvc29mdCBZYWhlaSI7XG4JCWZvbnQtc2l6ZTogMTJweDtcbgkJYm9yZGVyOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAgLnByb21vVGR7XG4JCXRleHQtYWxpZ246IGxlZnQ7XG4JCXBhZGRpbmctbGVmdDogNXB4O1xuCQl3aWR0aDogMTAwcHg7XG4JCW1heC13aWR0aDogMTAwcHg7XG4JCWNvbG9yOiAjNGE5MGUyO1xuCQlvdmVyZmxvdzogaGlkZGVuO1xuCQl0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyFpbXBvcnRhbnQ7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyA+IGF7XG4JCWN1cnNvcjogcG9pbnRlcjtcbgkJYmFja2dyb3VuZDogbm9uZTtcbgkJYm9yZGVyOiBub25lO1xuCQlib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBibGFjaztcbgkJcGFkZGluZy1sZWZ0OiAyMHB4O1xuCQlwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuCQloZWlnaHQ6IDE2cHg7XG4JCWxpbmUtaGVpZ2h0OiAxNnB4O1xuCQljb2xvcjogIzAwMDtcbgkJZm9udC1mYW1pbHk6ICJNaWNyb3NvZnQgWWFIZWkiO1xuCQlmb250LXNpemU6IDEycHghaW1wb3J0YW50O1xuCX1cblxuCSN7e2V4dEJyYW5kfX1fd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2NoYXJ0IHtcbgkJcG9zaXRpb246IHJlbGF0aXZlO1xuCQl3aWR0aDogNDYwcHg7XG4JCWhlaWdodDogMjU0cHg7XG4JfVxuXG4JI3t7ZXh0QnJhbmR9fV93aXNobGlzdF90cmVuZF9kZXRhaWwge1xuCQljbGVhcjogYm90aDtcbgkJYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4JCWhlaWdodDogMjg1cHg7XG4JfVxuXG4JQG1lZGlhIChtYXgtd2lkdGg6IDEyNTBweCkge1xuCQkje3tleHRCcmFuZH19LXRyZW5kLWNoYXJ0IHtcbgkJCXBvc2l0aW9uOiBmaXhlZDtcbgkJCWxlZnQ6IDUwJTtcbgkJCW1hcmdpbi1sZWZ0OiAtNDAwcHg7XG4JCX1cbgl9XG5cbgkuZmxvYXRCdXR0b25zID4gYTpmaXJzdC1jaGlsZCB7XG4JCWJvcmRlci1sZWZ0OiAxcHggc29saWQgYmxhY2s7XG4JfVxuXG4JLmZsb2F0QnV0dG9ucyA+IGE6Zm9jdXMge1xuCQlvdXRsaW5lOiBub25lO1xuCX1cblxuCS5hY3RpdmVQbG90IHtcbgkJYmFja2dyb3VuZDogcmdiKDIyNywyMjcsMjI3KSFpbXBvcnRhbnQ7XG4JfVxuXG4JLmJqZC1uZXd0cmVuZC1kZXYgLmJqZC1oaWRkZW4ge1xuCQlkaXNwbGF5OiBub25lIWltcG9ydGFudDtcbgl9XG5cbgkjcGxvdEFyZWEge1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCXJpZ2h0OiAwcHg7XG4JCWxlZnQ6IDBweDtcbgkJaGVpZ2h0OiAyNTRweDtcbgkJbWF4LXdpZHRoOiAyMDAwcHghaW1wb3J0YW50O1xuCQlmb250LWZhbWlseTogIk1pY3Jvc29mdCBZYUhlaSI7XG4JfVxuXG4JI3RpbWVDdXJzb3Ige1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCWhlaWdodDogMjBweDtcbgkJbGluZS1oZWlnaHQ6IDIwcHg7XG4JCWNvbG9yOiAjZmZmO1xuCQliYWNrZ3JvdW5kOiAjNDU0YTRkO1xuCQlmb250LWZhbWlseTogXCdBcmlhbFwnO1xuCQlmb250LXdlaWdodDogYm9sZDtcbgkJdG9wOiAyMDVweDtcbgkJZm9udC1zaXplOiAxMnB4O1xuCQlwYWRkaW5nLWxlZnQ6IDdweDtcbgkJcGFkZGluZy1yaWdodDogN3B4O1xuCQkvKmxlZnQ6IC0xMDAwMHB4OyovXG4JfVxuXG4JI2Rhc2hlZExpbmUge1xuCQlwb3NpdGlvbjogYWJzb2x1dGU7XG4JCWhlaWdodDogMTYwcHg7XG4JCWxlZnQ6IC0xMDAwMDBweDtcbgkJYm9yZGVyOiBub25lO1xuCQlib3JkZXItbGVmdDogMnB4IGRvdHRlZCAjMDAwO1xuCQl0b3A6IDU0cHg7XG4JCXotaW5kZXg6IDE7XG4JCXBvaW50ZXItZXZlbnRzOiBub25lO1xuCX1cblxuCS5oaWdoY2hhcnRzLXRvb2x0aXAge1xuCQl6LWluZGV4OiA5OTtcbgkJYmFja2dyb3VuZDogd2hpdGU7XG4JfVxuXG5cbgkjYmpkLXFyY29kZS10cmVuZCB7XG4JCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbgkJd2lkdGg6IDE1MHB4O1xuCQloZWlnaHQ6IDE1MHB4O1xuCQlyaWdodDogMzVweDtcbgkJYm90dG9tOiAwcHg7XG4JCXRleHQtYWxpZ246IGNlbnRlcjtcbgl9XG5cbgkjYmpkLXFyY29kZS10cmVuZCBzcGFuIHtcbgkJcG9zaXRpb246IHJlbGF0aXZlO1xuCQlmb250LXNpemU6IDEycHg7XG4JCWZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIjtcbgkJY29sb3I6ICM1MzU4NTQ7XG4JCXRvcDogOHB4O1xuCX1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9ImZsb2F0QnV0dG9ucyBiamQtbmV3dHJlbmQtZGV2Ij5cbgk8YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3RBbGwiPuWFqOmDqDwvYT48YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3RZZWFyIj7lubTnur88L2E+PGEgY2xhc3M9ImJqZC1oaWRkZW4iIGlkPSJwbG90TW9udGgiPuaciOe6vzwvYT48YSBjbGFzcz0iYmpkLWhpZGRlbiIgaWQ9InBsb3Q1RGF5Ij415pel57q/PC9hPlxuPC9kaXY+XG48ZGl2IGlkPSJwbG90QXJlYSI+XG4JXG48L2Rpdj5cbjxkaXYgaWQ9InRpbWVDdXJzb3IiPlxuCeivt+eojeWAmS4uLlxuPC9kaXY+XG48ZGl2IGlkPSJkYXNoZWRMaW5lIj48L2Rpdj5cbjwhLS0gPGRpdiBpZD0iYmpkLXFyY29kZS10cmVuZCI+XG4JPGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy90cmVuZF9xcmNvZGUuanBnIiBhbHQ9IiIgc3R5bGU9IndpZHRoOiA5NHB4O2hlaWdodDo5NHB4IiAvPlxuCTxicj5cbgk8c3Bhbj7lvq7kv6HkuIrkuZ/og73mn6Xljoblj7Lku7fmoLw8L3NwYW4+XG48L2Rpdj4gLS0+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJaSA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQgPSBuZXcgRGF0ZShlKSwKCQkJCQluID0gbmV3IERhdGUodC5nZXRGdWxsWWVhcigpLCB0LmdldE1vbnRoKCksIHQuZ2V0RGF0ZSgpKSwKCQkJCQlpID0gbi5nZXRUaW1lKCkgKyA2ODRlNTsKCQkJCXJldHVybiBpCgkJCX0KCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEsIG8pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IDAsCgkJCQkJdCA9IHsKCQkJCQkJIjM2MGJ1eSI6ICIjcGFnZV9tYXByaWNlIiwKCQkJCQkJc3VuaW5nOiBbImRlbC5zbWFsbC1wcmljZSIsICJkZWwiLCAiI2l0ZW1QcmljZT5kZWwiXSwKCQkJCQkJYW1hem9uOiBbIi5kaWdpdGFsLWxpc3QtcHJpY2U+dGQ+LmEtdGV4dC1zdHJpa2UiLCAiLmEtc3BhbjEyLmEtY29sb3Itc2Vjb25kYXJ5LmEtc2l6ZS1iYXNlIiwgIi5hLXRleHQtc3RyaWtlIl0sCgkJCQkJCXlvdWdvdTogImRlbDplcSgwKSIsCgkJCQkJCWRhbmdkYW5nOiBbIi5wcmljZV9tOmVxKDApIiwgIi5kMTVfcHJpY2VfaW5mbyAucHJpY2VfcGMgLnByaWNlX20iXSwKCQkJCQkJdmlwc2hvcDogIi5KLW1QcmljZSIsCgkJCQkJCWtlZWRlOiAiLm1lc3NhZ2VfcHJpY2Vfa2QiLAoJCQkJCQlmZWluaXU6ICJkZWwuZm4tcm1iLW51bTplcSgwKSIsCgkJCQkJCWthb2xhOiAiI2pzX21hcmtldFByaWNlIiwKCQkJCQkJMTExOiAiZGVsIiwKCQkJCQkJaml1eGlhbjogImRlbCIsCgkJCQkJCXlpbnRhaTogIi5tay1udW0iLAoJCQkJCQliZWliZWk6ICcuc3RyaWtlW29wLXZhbHVlPSJvcmlnaW5QcmljZSJdJywKCQkJCQkJYm9va3NjaGluYTogInRkOmVxKDE5KSIsCgkJCQkJCXRtYWxsOiBbIi50Yi1ybWItbnVtIiwgIi50bS10YWdQcmljZS1wYW5lbCAudG0tcHJpY2UiLCAiLnRtLXByaWNlLXBhbmVsIC50bS1wcmljZSJdLAoJCQkJCQl0YW9iYW86ICIjSl9TdHJQcmljZT5lbS50Yi1ybWItbnVtIiwKCQkJCQkJInRhb2Jhby05NTA5NSI6ICIudG0tcHJpY2UtcGFuZWwgLnRtLXByaWNlOmVxKDApIiwKCQkJCQkJbGVmZW5nOiAiLm1hcmtldFByaWNlLXMiCgkJCQkJfSwKCQkJCQlpID0gIiI7CgkJCQlpZiAodm9pZCAwICE9IHRbYS5zaXRlXSkgewoJCQkJCXZhciByID0gdFthLnNpdGVdOwoJCQkJCWlmIChyIGluc3RhbmNlb2YgQXJyYXkpIHIuZm9yRWFjaChmdW5jdGlvbih0KSB7CgkJCQkJCXZhciBuID0gbyh0KSwKCQkJCQkJCWEgPSBvKHQpLnRvQXJyYXkoKS5sZW5ndGg7CgkJCQkJCWlmIChhID4gMSAmJiAobiA9IG8odCArICgiOmVxKCIgKyAoYSAtIDEpICsgIikiKSkpLCAhZSAmJiBuICYmIG4udGV4dCgpKSB7CgkJCQkJCQl2YXIgciA9IG4udGV4dCgpOwoJCQkJCQkJci50cmltICYmIChyID0gci50cmltKCkpOwoJCQkJCQkJdmFyIHMgPSBwYXJzZUZsb2F0KHIucmVwbGFjZSgiLCIsICIiKS5yZXBsYWNlKCLvv6UiLCAiIikucmVwbGFjZSgiwqUiLCAiIikucmVwbGFjZSgiJCIsICIiKS5yZXBsYWNlKCIsIiwgIiIpKTsKCQkJCQkJCWUgPSBzLCBpID0gdAoJCQkJCQl9CgkJCQkJfSk7CgkJCQkJZWxzZSB7CgkJCQkJCXZhciBzID0gbyhyKTsKCQkJCQkJaWYgKHMgJiYgcy50ZXh0KCkubGVuZ3RoID4gMCkgewoJCQkJCQkJdmFyIGwgPSBzLnRleHQoKTsKCQkJCQkJCWwudHJpbSAmJiAobCA9IGwudHJpbSgpKTsKCQkJCQkJCXZhciBjID0gcGFyc2VGbG9hdChsLnJlcGxhY2UoIiwiLCAiIikucmVwbGFjZSgi77+lIiwgIiIpLnJlcGxhY2UoIsKlIiwgIiIpLnJlcGxhY2UoIiwiLCAiIikpOwoJCQkJCQkJZSA9IGMsIGkgPSByCgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQlpZiAoImRldGFpbC50bWFsbC5oayIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQllID0gbygic3Bhbi50bS1wcmljZTplcSgwKSIpLnRleHQoKTsKCQkJCQl2YXIgZCA9IG8oImVtLnRtLXllbjplcSgwKSIpLnRleHQoKTsKCQkJCQkoIuKCqSIgPT09IGQgfHwgIk5UJCIgPT09IGQgfHwgLTEgPT09IG8oInNwYW4udG0tcHJpY2U6ZXEoMCkiKS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLmluZGV4T2YoImxpbmUtdGhyb3VnaCIpKSAmJiAoZSA9IG51bGwpOwoJCQkJCXZhciBwID0gbygiLndydG9yaWdpbnByaWNlIC50bS1wcmljZSIpLnRleHQoKTsKCQkJCQlwICYmIChlID0gcCkKCQkJCX0KCQkJCXZhciBoID0gbygiI0pfU3RyUHJpY2UiKS50ZXh0KCkgJiYgLTEgPT09IG8oIiNKX1N0clByaWNlIikuY3NzKCJ0ZXh0LWRlY29yYXRpb24iKS50b1N0cmluZygpLmluZGV4T2YoImxpbmUtdGhyb3VnaCIpOwoJCQkJaWYgKCJ0YW9iYW8iICE9PSBhLnNpdGUgJiYgInRtYWxsIiAhPT0gYS5zaXRlICYmICJ0YW9iYW8tOTUwOTUiICE9PSBhLnNpdGUgfHwgIShoIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSAmJiAibm9uZSIgPT09IG8oIiNKX1N0clByaWNlTW9kQm94IikuY3NzKCJkaXNwbGF5IikpIHx8ICgiLnRtLXByaWNlLXBhbmVsIC50bS1wcmljZSIgPT09IGkgfHwgIiNKX1N0clByaWNlPmVtLnRiLXJtYi1udW0iID09PSBpKSAmJiAoZSA9IG51bGwpLCAidGFvYmFvIiA9PT0gYS5zaXRlIHx8ICJ0bWFsbCIgPT09IGEuc2l0ZSB8fCAidGFvYmFvLTk1MDk1IiA9PT0gYS5zaXRlKSB7CgkJCQkJdmFyIHUgPSBvKGkpOwoJCQkJCXUuY3NzKCJ0ZXh0LWRlY29yYXRpb24iKSAmJiAtMSA9PT0gdS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLnRvU3RyaW5nKCkuaW5kZXhPZigibGluZS10aHJvdWdoIikgJiYgKCJ0YW9iYW8iID09PSBhLnNpdGUgPyAtMSA9PT0gdS5wYXJlbnQoKS5jc3MoInRleHQtZGVjb3JhdGlvbiIpLnRvU3RyaW5nKCkuaW5kZXhPZigibGluZS10aHJvdWdoIikgJiYgKGUgPSBudWxsKSA6IGUgPSBudWxsKQoJCQkJfQoJCQkJaWYgKCJib29rc2NoaW5hIiA9PT0gYS5zaXRlKSB7CgkJCQkJdmFyIG0gPSBvKCJ0ZCIpLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuIGUuaW5uZXJUZXh0CgkJCQkJCX0pLAoJCQkJCQlmID0gbS5pbmRleE9mKCLlrprCoMKgwqDCoOS7t++8miIpOwoJCQkJCWUgPSBtW2YgKyAxXQoJCQkJfQoJCQkJdmFyIGcgPSBudWxsOwoJCQkJcmV0dXJuICJ3d3cuYW1hem9uLmNvLmpwIiA9PT0gbG9jYXRpb24uaG9zdCAmJiAoZyA9ICJKUFkiKSwgZSA9IG4oNDApKGUsIGcpLCBlID0gcGFyc2VGbG9hdChlKQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZSgpIHsKCQkJCQlpZiAoYS5uZXdfZXh0ZW5zaW9uKSByZXR1cm4gITE7CgkJCQkJdmFyIGUgPSBbImpzZHgiLCAibmpjayIsICJoaXdpZmkiXTsKCQkJCQlyZXR1cm4gZS5pbmRleE9mKGEuZnJvbV9kZXZpY2UpID4gLTEgPyAhMCA6ICExCgkJCQl9CgoJCQkJZnVuY3Rpb24gdCgpIHsKCQkJCQl2YXIgZTsKCQkJCQlzKCIuZ3dkX3VwZGF0ZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoIi5nd2RfdXBkYXRlX3dpc2hfZGV0YWlsIikuc2hvdygpLCBzKCIuZ3dkX3VwZGF0ZSIpLmFkZENsYXNzKCJ1cGRhdGVfaG92ZXJfaXRlbSIpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlzKCIuZ3dkX3VwZGF0ZV93aXNoX2RldGFpbCIpLmhpZGUoKSwgcygiLmd3ZF91cGRhdGUiKS5yZW1vdmVDbGFzcygidXBkYXRlX2hvdmVyX2l0ZW0iKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIHMoIi5nd2RfdXBkYXRlX3dpc2hfZGV0YWlsIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJcygiLmd3ZF91cGRhdGVfd2lzaF9kZXRhaWwiKS5oaWRlKCksIHMoIi5nd2RfdXBkYXRlIikucmVtb3ZlQ2xhc3MoInVwZGF0ZV9ob3Zlcl9pdGVtIikKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJdmFyIGU7CgkJCQkJYS5JRTYgJiYgKHMoIi5nd2RfdXBkYXRlX3NoZW5namkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCIuZ3dkX3VwZGF0ZV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXMoIi5nd2RfdXBkYXRlX2RldGFpbCIpLmhpZGUoKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIHMoIi5nd2RfdXBkYXRlX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLm9uKGZ1bmN0aW9uKCkgewoJCQkJCQlzKCIuZ3dkX3VwZGF0ZV9kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSkKCQkJCX0KCQkJCXZhciBvLCByID0ge30sCgkJCQkJcyA9IG4oNiksCgkJCQkJbCA9IG4oMTYpLAoJCQkJCWMgPSBuKDE0MyksCgkJCQkJZCA9IG4oMjkpLAoJCQkJCXAgPSBkLmdldEJyb3dzZXIoKTsKCQkJCXJldHVybiByLmlzQmVpamluZyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2b2lkIDAgPT09IG8gJiYgYS5mb3JiaXROaiA/IHMuZ2V0SlNPTihhLnNlcnZlciArICIvaXAucGhwP2NhbGxiYWNrPT8mbG9jYXRpb249IiArIGVuY29kZVVSSUNvbXBvbmVudCgi5Y2X5LqsIikpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQlvID0gdC5yZXN1bHQsIGUobykKCQkJCQl9KSA6IGUobykKCQkJCX0sIHIubWFpbmJhciA9IGZ1bmN0aW9uKCkgewoJCQkJCWUoKSAmJiByLmlzQmVpamluZyhmdW5jdGlvbihlKSB7CgkJCQkJCWlmICghZSAmJiAhYS5JRTYpIHsKCQkJCQkJCXZhciB0ID0gcygiI0JJSklBX0hBU19CVUlMVCIpLmF0dHIoImNsYXNzIik7CgkJCQkJCQlpZiAodCkgewoJCQkJCQkJCXZhciBvID0gdC5zcGxpdCgiICIpOwoJCQkJCQkJCWlmIChvLmxlbmd0aCA+IDEpIHJldHVybgoJCQkJCQkJfQoJCQkJCQkJcygiYS5yZS1nd2QtZGVzYy5nd2QtZGVzYyIpLmhpZGUoKSwgcygiYS5yZS1nd2QtZGVzYy5nd2QtZGVzYyIpLnJlbW92ZUNsYXNzKCJnd2QtY2xvc2UtbW9kdWxlIik7CgkJCQkJCQl2YXIgciA9IG4oMTQ0KTsKCQkJCQkJCXMoIi5nd2QtcmUtY2hhbmdlLWxvZ28iKS5hZnRlcihsLmNvbXBpbGUocikoewoJCQkJCQkJCWJyb3dzZXI6IHAsCgkJCQkJCQkJc19zZXJ2ZXI6IGEuc19zZXJ2ZXIsCgkJCQkJCQkJbGlua0NsYXNzOiBhLmV4dE5hbWUgKyAiX2xpbmsiCgkJCQkJCQl9KSksIHMoImRpdi5nd2RfdXBkYXRlX3NoZW5namkgLnNoZW5namlfY29udGVudCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpCgkJCQkJCQl9KSwgcygiI25ld19kb3dubG9hZF9uZXdfYnV0dG9uX2JvdHRvbSBpbWciKS5hdHRyKCJzcmMiLCBhLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9mcmVlXyIgKyBwLnV0eXBlICsgIi5wbmciKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksICJjaHJvbWUiID09PSBwLnV0eXBlID8gcygiI25ld19kb3dubG9hZF9uZXdfdHh0X2JvdHRvbSIpLnRleHQoIjM2MOeUqOaIt+ivt+eCueatpOS4i+i9vSIpLmF0dHIoImhyZWYiLCAiaHR0cHM6Ly9leHQuc2UuMzYwLmNuL3dlYnN0b3JlL2RldGFpbC9uZmJpa2RramZqY2VqZGRiZGNwYmFmbmNsa2ZkaGlqZCIpLmNzcygiY29sb3IiLCAiZ3JheSIpLmFkZENsYXNzKGEuZXh0TmFtZSArICJfbGluayIpIDogKCIzNjBzZSIgPT09IHAudXR5cGUgfHwgIjM2MGVlIiA9PT0gcC51dHlwZSkgJiYgcygiI25ld19kb3dubG9hZF9uZXdfdHh0X2JvdHRvbSIpLnRleHQoImNocm9tZeeUqOaIt+ivt+eCueatpOS4i+i9vSIpLmF0dHIoImhyZWYiLCAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vYXBwL2V4dGVuc2lvbj9mcm9tX2RldmljZT0iICsgYS5mcm9tX2RldmljZV9udW0pLmNzcyh7CgkJCQkJCQkJY29sb3I6ICJncmF5IiwKCQkJCQkJCQlyaWdodDogIjI0cHgiCgkJCQkJCQl9KS5hZGRDbGFzcyhhLmV4dE5hbWUgKyAiX2xpbmsiKSwgaSgpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwgci5taW5pYmFyID0gZnVuY3Rpb24oKSB7CgkJCQkJZSgpICYmIHIuaXNCZWlqaW5nKGZ1bmN0aW9uKG4pIHsKCQkJCQkJaWYgKCFuICYmIGUoKSAmJiAhYS5JRTYpIHsKCQkJCQkJCXZhciBpID0gcygiI0JJSklBX0hBU19CVUlMVCIpLmF0dHIoImNsYXNzIik7CgkJCQkJCQlpZiAoaSkgewoJCQkJCQkJCXZhciBvID0gaS5zcGxpdCgiICIpOwoJCQkJCQkJCWlmIChvLmxlbmd0aCA+IDEpIHJldHVybgoJCQkJCQkJfQoJCQkJCQkJcygiI2d3ZC1icmFuZC1zdWJzY3JpYmUtYm94IikuYWZ0ZXIobC5jb21waWxlKGMpKHsKCQkJCQkJCQlicm93c2VyOiBwLAoJCQkJCQkJCXNfc2VydmVyOiBhLnNfc2VydmVyLAoJCQkJCQkJCWxpbmtDbGFzczogYS5leHROYW1lICsgIl9saW5rIgoJCQkJCQkJfSkpLCBzKCJhLmd3ZF91cGRhdGUiKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksIHMoIiNuZXdfZG93bmxvYWRfbmV3X2J1dHRvbiBpbWciKS5hdHRyKCJzcmMiLCBhLnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9mcmVlXyIgKyBwLnV0eXBlICsgIi5wbmciKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKQoJCQkJCQkJfSksICJjaHJvbWUiID09PSBwLnV0eXBlID8gcygiI25ld19kb3dubG9hZF9uZXdfdHh0IikudGV4dCgiMzYw55So5oi36K+354K55q2k5LiL6L29IikuYXR0cigiaHJlZiIsICJodHRwczovL2V4dC5zZS4zNjAuY24vd2Vic3RvcmUvZGV0YWlsL25mYmlrZGtqZmpjZWpkZGJkY3BiYWZuY2xrZmRoaWpkIikuY3NzKCJjb2xvciIsICJncmF5IikuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9saW5rIikgOiAoIjM2MHNlIiA9PT0gcC51dHlwZSB8fCAiMzYwZWUiID09PSBwLnV0eXBlKSAmJiBzKCIjbmV3X2Rvd25sb2FkX25ld190eHQiKS50ZXh0KCJjaHJvbWXnlKjmiLfor7fngrnmraTkuIvovb0iKS5hdHRyKCJocmVmIiwgImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL2FwcC9leHRlbnNpb24/ZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2VfbnVtKS5jc3MoewoJCQkJCQkJCWNvbG9yOiAiZ3JheSIsCgkJCQkJCQkJcmlnaHQ6ICIyNHB4IgoJCQkJCQkJfSkuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9saW5rIiksIHQoKQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sIHIudHJlbmRVcGRhdGUgPSBmdW5jdGlvbigpIHsKCQkJCQllKCkgJiYgci5pc0JlaWppbmcoZnVuY3Rpb24odCkgewoJCQkJCQkhdCAmJiBlKCkgJiYgKHMoIiNnd2QtdHJlbmQtY2hhcnQiKS5hcHBlbmQoJzxhIGNsYXNzPSJnd2RfYm90dG9tdHJlbmRfdXBkYXRlICcgKyBhLmV4dE5hbWUgKyAnX2xpbmsiIGhyZWY9IicgKyBwLnVybCArICciIHRhcmdldD0iX2JsYW5rIiA+PC9hPicpLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCkKCQkJCQkJfSksIHMoIiNnd2Rfd2lzaGxpc3RfdHJlbmRfZGV0YWlsX2luZm8iKS5hcHBlbmQoJzxhIGNsYXNzPSJnd2RfdXBkYXRlX3RyZW5kX2J0biAnICsgYS5leHROYW1lICsgJ19saW5rIiBocmVmPSInICsgcC51cmwgKyAnIiB0YXJnZXQ9Il9ibGFuayIgPjwvYT4nKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpCgkJCQkJCX0pKQoJCQkJCX0pCgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9InNodXhpYW4iPnw8L2Rpdj5cbjxkaXYgaWQ9Imd3ZF91cGRhdGVfbmV3X3dyYXBwZXIiPlxuICA8YSBocmVmPSJ7e2Jyb3dzZXIudXJsfX0iIGNsYXNzPSJnd2RfdXBkYXRlIHt7bGlua0NsYXNzfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZGl2IGNsYXNzPSJnd2RfdXBkYXRlX2ljb24iPjxpbWcgY2xhc3M9Imd3ZF91cGRhdGVfaWNvbl9vdXQiIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2ZyZWVkb3duZG93bmxvYWQuZ2lmIj48L2Rpdj5cbiAgICA8c3Bhbj7kvZPpqozmnIDmlrDniYjmnKzmr5Tku7flt6Xlhbc8L3NwYW4+XG4gIDwvYT5cbiAgPGRpdiBjbGFzcz0iZ3dkX3VwZGF0ZV93aXNoX2RldGFpbCI+XG4gICAgPGRpdiBjbGFzcz0iZ3dkX3VwZGF0ZV9kZXRhaWxfdHh0Ij5cbiAgICAgICAgPHAgY2xhc3M9InBhbGJfaW5fdHh0Ij7kurLvvIzkvaDkubDliLDmnIDkvY7ku7fkuoblkJfvvJ88L3A+XG4gICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZWRvd25iYWNrZ3JvdW5kZ3JhcGgucG5nIj5cbiAgICAgICAgPGRpdiBjbGFzcz0icGFyYl9pbl90eHQiPlxuICAgICAgICAgIDxwIGNsYXNzPSJjb2xvcnJlZCI+56uL5Y2z5Y2H57qn6Iez6LSt54mp5YWaPHNwYW4gY2xhc3M9ImJpZyI+Jm5ic3A7NS4yLjkyPC9zcGFuPjwvcD5cbiAgICAgICAgICA8cD7oh6rliqjmkJzntKLllYblk4E8c3BhbiBjbGFzcz0iYmlnY29sb3IiPiZuYnNwO+acgOS9juS7tzwvc3Bhbj48L3A+XG4gICAgICAgICAgPHA+MTgw5aSpPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvku7fmoLzotbDlir/lm748L3NwYW4+PC9wPlxuICAgICAgICAgIDxwPuaUr+aMgeWQhOWkp+S4u+a1gea1j+iniOWZqDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X2J1dHRvbiIgaHJlZj0ie3ticm93c2VyLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7bGlua0NsYXNzfX0iPlxuICAgICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZV9jaHJvbWUucG5nIj5cbiAgICAgICAgPC9hPiBcbiAgICAgICAgPGEgaWQ9Im5ld19kb3dubG9hZF9uZXdfdHh0IiBocmVmPSIiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ie3tsaW5rQ2xhc3N9fSI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Imd3ZF91cGRhdGVfc2hlbmdqaSBnd2QtY2xvc2UtbW9kdWxlIj5cbiAgPGRpdiBjbGFzcz0ic2hlbmdqaV9jb250ZW50Ij5cbiAgICA8YSBocmVmID0ie3ticm93c2VyLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7bGlua0NsYXNzfX0iPuWNh+e6pzwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Imd3ZF91cGRhdGVfZGV0YWlsIj5cbiAgICA8cCBjbGFzcz0icGFsYl9pbl90eHQiPuS6su+8jOS9oOS5sOWIsOacgOS9juS7t+S6huWQl++8nzwvcD5cbiAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zL2ZyZWVkb3duYmFja2dyb3VuZGdyYXBoLnBuZyI+XG4gICAgPGRpdiBjbGFzcz0icGFyYl9pbl90eHQiPlxuICAgICAgPHAgY2xhc3M9ImNvbG9ycmVkIj7nq4vljbPljYfnuqfoh7PotK3nianlhZo8c3BhbiBjbGFzcz0iYmlnIj4mbmJzcDs1LjIuOTI8L3NwYW4+PC9wPlxuICAgICAgPHA+6Ieq5Yqo5pCc57Si5ZWG5ZOBPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvmnIDkvY7ku7c8L3NwYW4+PC9wPlxuICAgICAgPHA+MTgw5aSpPHNwYW4gY2xhc3M9ImJpZ2NvbG9yIj4mbmJzcDvku7fmoLzotbDlir/lm748L3NwYW4+PC9wPlxuICAgICAgPHA+5pSv5oyB5ZCE5aSn5Li75rWB5rWP6KeI5ZmoPC9wPlxuICAgIDwvZGl2PlxuICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X2J1dHRvbl9ib3R0b20iIGhyZWY9Int7YnJvd3Nlci51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ7e2xpbmtDbGFzc319Ij5cbiAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvZnJlZV9jaHJvbWUucG5nIj5cbiAgICA8L2E+IFxuICAgIDxhIGlkPSJuZXdfZG93bmxvYWRfbmV3X3R4dF9ib3R0b20iIGhyZWY9IiIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ7e2xpbmtDbGFzc319Ij48L2E+XG4gIDwvZGl2PlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPHVsPlxuICB7e2VhY2ggZGF0YX19XG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmljb3VybH19Ij5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im0taXRlbS1zaXRlbmFtZSI+e3skdmFsdWUuc2l0ZV9uYW1lfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJtLWl0ZW0tcHJpY2UiPsKle3skdmFsdWUucHJpY2V9fTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICB7ey9lYWNofX1cbjwvdWw+XG48YSBocmVmPSJ7e2FsbExpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJtLWFsbC1saW5rIj5cbiAg5p+l55yL5YWo6YOo77yIe3tzdG9yZVNpemV9fe+8iVxuPC9hPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxwPuWVhuWfjuavlOS7tzwvcD5cbjx1bD5cbiAge3tlYWNoIGRhdGF9fVxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICAgIDxpbWcgc3JjPSJ7eyR2YWx1ZS5pY291cmx9fSI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJtLWl0ZW0tcHJpY2UyIj7CpXt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAge3svZWFjaH19XG48L3VsPlxuPGEgaHJlZj0ie3thbGxMaW5rfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ibS1hbGwtbGluazIiPlxuICDmn6XnnIvlhajpg6jvvIh7e3N0b3JlU2l6ZX1977yJXG48L2E+XG48c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAudHJlbmQtY29tLW1pbmkgcHtcbiAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgbGluZS1oZWlnaHQ6IDQ1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzMzMyFpbXBvcnRhbnQ7XG4gIH1cbiAgLnRyZW5kLWNvbS1taW5pIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIHdpZHRoOiAxMTNweDtcbiAgfVxuICAudHJlbmQtY29tLW1pbmkgdWwgbGkge1xuICAgIGhlaWdodDogMjhweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbWFyZ2luLXRvcDogNHB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaTpmaXJzdC1jaGlsZCB7XG4gICAgbWFyZ2luLXRvcDogMHB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VkZjFmMTtcbiAgfVxuICAudHJlbmQtY29tLW1pbmkgdWwgbGkgaW1nIHtcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDExcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICB9XG4gIC50cmVuZC1jb20tbWluaSB1bCBsaSBzcGFuIHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgbWFyZ2luLXJpZ2h0OiA5cHg7XG4gICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiAjOWI5YjliO1xuICB9XG4gIC5tLWFsbC1saW5rMiB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgY29sb3I6ICM1ZWJlZmYhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgfVxuPC9zdHlsZT4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGkgPSBuKDI4KTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gMDsKCQkJCTAgIT09IHQucGFnZUluZm8udHlwZSAmJiB0LnNpdGUgJiYgKHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IHQuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEpICYmIChlID0gSlNPTi5zdHJpbmdpZnkodC5kcCkpLCBpLnRyaWdnZXIoewoJCQkJCXR5cGU6ICJ0YnRtbWFyayIsCgkJCQkJaW5mbzogZQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQkoInVsZSIgPT09IGEuc2l0ZSB8fCAieWVzbXl3aW5lIiA9PT0gYS5zaXRlKSAmJiAoQXJyYXkucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgdGhpcy5sZW5ndGg7IG4rKykgZSh0aGlzW25dKSAmJiB0LnB1c2godGhpc1tuXSk7CgkJCQkJcmV0dXJuIHQKCQkJCX0pLCAid3N0eCIgPT09IGEuc2l0ZSAmJiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG47CgkJCQkJaWYgKG51bGwgPT0gdGhpcykgdGhyb3cgbmV3IFR5cGVFcnJvcignInRoaXMiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTsKCQkJCQl2YXIgaSA9IE9iamVjdCh0aGlzKSwKCQkJCQkJYSA9IGkubGVuZ3RoID4+PiAwOwoJCQkJCWlmICgwID09PSBhKSByZXR1cm4gLTE7CgkJCQkJdmFyIG8gPSArdCB8fCAwOwoJCQkJCWlmIChNYXRoLmFicyhvKSA9PT0gMSAvIDAgJiYgKG8gPSAwKSwgbyA+PSBhKSByZXR1cm4gLTE7CgkJCQkJZm9yIChuID0gTWF0aC5tYXgobyA+PSAwID8gbyA6IGEgLSBNYXRoLmFicyhvKSwgMCk7IGEgPiBuOykgewoJCQkJCQlpZiAobiBpbiBpICYmIGlbbl0gPT09IGUpIHJldHVybiBuOwoJCQkJCQluKysKCQkJCQl9CgkJCQkJcmV0dXJuIC0xCgkJCQl9KQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0KSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7CgkJCQkia2VlZGUiID09PSB0LnNpdGUgJiYgImZ1bmN0aW9uIGZvckVhY2goKSB7IFtuYXRpdmUgY29kZV0gfSIgIT09IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLnRvU3RyaW5nKCkgJiYgKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXZhciBuLCBpOwoJCQkJCWlmIChudWxsID09IHRoaXMpIHRocm93IG5ldyBUeXBlRXJyb3IoIiB0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWQiKTsKCQkJCQl2YXIgYSA9IE9iamVjdCh0aGlzKSwKCQkJCQkJbyA9IGEubGVuZ3RoID4+PiAwOwoJCQkJCWlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKGUgKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CgkJCQkJZm9yIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiAobiA9IHQpLCBpID0gMDsgbyA+IGk7KSB7CgkJCQkJCXZhciByOwoJCQkJCQlpIGluIGEgJiYgKHIgPSBhW2ldLCBlLmNhbGwobiwgciwgaSwgYSkpLCBpKysKCQkJCQl9CgkJCQl9KQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSkgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbig2KTsKCQkJCSIzNjBidXkiID09PSBhLnNpdGUgJiYgZSgiI3NlcnZpY2UiKS5jc3MoewoJCQkJCSJ6LWluZGV4IjogMAoJCQkJfSksICJuZXdlZ2ciID09PSBhLnNpdGUgJiYgKGUoIi5nb29kc19pbmZvIikuY3NzKHsKCQkJCQlvdmVyZmxvdzogInZpc2libGUiCgkJCQl9KSwgZSgiLmdvb2RzX2luZm8iKS5jc3MoewoJCQkJCW92ZXJmbG93OiAiaW5pdGlhbCIKCQkJCX0pLCBlKCIuZ29vZHNfb3RoZXJpbmZvIikuY3NzKHsKCQkJCQl6SW5kZXg6IDkKCQkJCX0pKSwgInlvdWdvdSIgPT09IGEuc2l0ZSAmJiAoZSgiLmdvb2RzQ29uIikuY3NzKHsKCQkJCQl6SW5kZXg6IDMKCQkJCX0pLCBlKCIuY2VuX3Njcm9sbCIpLmNzcyh7CgkJCQkJInotaW5kZXgiOiAwCgkJCQl9KSksICJ2YW5jbCIgPT09IGEuc2l0ZSAmJiBlKCIuZGFucGluUmlnaHQiKS5jc3MoewoJCQkJCW92ZXJmbG93OiAidmlzaWJsZSIKCQkJCX0pLCAiZ29tZSIgPT09IGEuc2l0ZSAmJiBlKCIuaGlnaGNoYXJ0cy10b29sdGlwIHNwYW4iKS5jc3MoewoJCQkJCSJmbG9hdCI6ICJub25lIgoJCQkJfSksICJzZWNvbyIgPT09IGEuc2l0ZSAmJiAoZSgiLiIgKyBhLmV4dE5hbWUgKyAiLW5hdiAuY29udGVudHMiKS5jc3MoewoJCQkJCXdpZHRoOiAiYXV0byIsCgkJCQkJImJveC1zaGFkb3ciOiAibm9uZSIsCgkJCQkJYmFja2dyb3VuZDogInJnYigyNDcsMjQ3LDI0NykiCgkJCQl9KSwgZSgiLiIgKyBhLmV4dE5hbWUgKyAiLW5hdiAuY29udGVudHMiKS5jc3MoewoJCQkJCXdpZHRoOiAiaW5pdGlhbCIKCQkJCX0pKSwgInhpdSIgPT09IGEuc2l0ZSAmJiBlKCIjcmlnaHRfaW5mbyIpLmNzcyh7CgkJCQkJd2lkdGg6ICJhdXRvIgoJCQkJfSkKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxNiksCgkJCQlvID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAnPGEgaWQ9InJldmlld19idG4iICBocmVmPSJqYXZhc2NyaXB0OiI+PHNwYW4gY2xhc3M9InJldmlld19pY29uIG5ld2ItYmciPjwvc3Bhbj48c3BhbiBjbGFzcz0icmV2aWV3X3RleHQiPuWPo+eikTwvc3Bhbj48L2E+JzsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChhLmNvbXBpbGUoZSkoe30pKQoJCQkJfSwKCQkJCXIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMCwKCQkJCQkJbiA9IHZvaWQgMDsKCQkJCQl0KCIjcmV2aWV3X2J0biIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWlmICghZSkgewoJCQkJCQkJdmFyIG4gPSB0KCIucmV2aWV3LWdvb2QiKS5hdHRyKCJkYXRhLWQiKTsKCQkJCQkJCXQoIi4iICsgbikuc2hvdygpCgkJCQkJCX0KCQkJCQkJdmFyIGkgPSB0KHRoaXMpLm9mZnNldCgpLmxlZnQ7CgkJCQkJCXQoIiNyZXZpZXdfZGV0YWlsIikuY3NzKCJsZWZ0IiwgaSArICJweCIpLCB0KCIjcmV2aWV3X2RldGFpbCIpLnNob3coKSwgdCh0aGlzKS5hZGRDbGFzcygibXNlbnRlciIpLCB0KHdpbmRvdykud2lkdGgoKSAtICh0KCIjcmV2aWV3X2RldGFpbCIpLm9mZnNldCgpLmxlZnQgKyB0KCIjcmV2aWV3X2RldGFpbCIpLm91dGVyV2lkdGgoKSArIDIpIDwgMCAmJiB0KCIjcmV2aWV3X2RldGFpbCIpLmNzcygicmlnaHQiLCAiMHB4IikuY3NzKCJsZWZ0IiwgImF1dG8iKQoJCQkJCX0pLCB0KCIjcmV2aWV3X2J0biIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdGhpczsKCQkJCQkJbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCIpLmhpZGUoKSwgdChlKS5yZW1vdmVDbGFzcygibXNlbnRlciIpCgkJCQkJCX0sIDIwMCkKCQkJCQl9KSwgdCgiI3Jldmlld19kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQobikKCQkJCQl9KSwgdCgiI3Jldmlld19kZXRhaWwiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCIpLmhpZGUoKSwgdCgiI3Jldmlld19idG4iKS5yZW1vdmVDbGFzcygibXNlbnRlciIpCgkJCQkJfSksIHQoIiNyZXZpZXdfZGV0YWlsIC5yZXZpZXctdGFiIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSAhMDsKCQkJCQkJdmFyIG4gPSB0KHRoaXMpLmF0dHIoImRhdGEtZCIpOwoJCQkJCQl0KCIjcmV2aWV3X2RldGFpbCAucmV2aWV3LXRhYiIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLCB0KHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpLCB0KCIucmV2aWV3LXJpZ2h0PmRpdiIpLmhpZGUoKSwgdCgiLiIgKyBuKS5zaG93KCkKCQkJCQl9KQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBpLm5vd19kcF9pZDsKCQkJCQlpZiAoZS5iYWQgJiYgZS5iYWQubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmJhZC5sZW5ndGg7IG4rKykgewoJCQkJCQkJdmFyIGEgPSBpLmNfc2VydmVyICsgIi9jcmM2NC9kcCIgKyB0ICsgIi9yZXZpZXdzLz9yd29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuYmFkW25dLmxhYmVsKSArICImZXh0PTEmcnR5cGU9MiI7CgkJCQkJCQllLmJhZFtuXS51cmwgPSBhCgkJCQkJCX0KCQkJCQlpZiAoZS5nb29kICYmIGUuZ29vZC5sZW5ndGggPiAwKQoJCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGUuZ29vZC5sZW5ndGg7IG4rKykgewoJCQkJCQkJdmFyIGEgPSBpLmNfc2VydmVyICsgIi9jcmM2NC9kcCIgKyB0ICsgIi9yZXZpZXdzLz9yd29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuZ29vZFtuXS5sYWJlbCkgKyAiJmV4dD0xJnJ0eXBlPTEiOwoJCQkJCQkJZS5nb29kW25dLnVybCA9IGEKCQkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQllLmdvb2Rib3ggPSAicmV2aWV3LXItZ29vZCIsIGUuYmFkYm94ID0gInJldmlldy1yLWJhZCIsIGUuZ29vZCB8fCAoZS5nb29kYm94ID0gInJldmlldy1yLW5vaW5mbyIpLCBlLmJhZCB8fCAoZS5iYWRib3ggPSAicmV2aWV3LXItbm9pbmZvIik7CgkJCQkJdmFyIG8gPSBuKDE1Mik7CgkJCQkJZSA9IHMoZSk7CgkJCQkJdmFyIGwgPSBhLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlcgoJCQkJCX0pOwoJCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKGwpLCByKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJIWUgfHwgIWUucmV2aWV3cyB8fCBlLnJldmlld3MgaW5zdGFuY2VvZiBBcnJheSB8fCAobygpLCBsKGUucmV2aWV3cykpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJyZXZpZXdfZGV0YWlsIiBjbGFzcz0icmV2aWV3LWJveCI+XG4gIDxkaXYgY2xhc3M9InJldmlldy1sZWZ0Ij5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctdGFiIHJldmlldy1nb29kIHNlbGVjdGVkIiBkYXRhLWQ9Int7ZGF0YS5nb29kYm94fX0iPlxuICAgICAgPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPlxuICAgICAgPHNwYW4+5aW96K+EPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJldmlldy10YWIgcmV2aWV3LWJhZCIgZGF0YS1kPSJ7e2RhdGEuYmFkYm94fX0iPlxuICAgICAgPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPlxuICAgICAgPHNwYW4+5beu6K+EPC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icmV2aWV3LXJpZ2h0Ij5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctci1nb29kIj5cbiAgICAgIHt7ZWFjaCBkYXRhLmdvb2R9fVxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPnt7JHZhbHVlLmxhYmVsfX0oe3skdmFsdWUubnVtfX0pPC9hPlxuICAgICAge3svZWFjaH19XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0icmV2aWV3LXItYmFkIj5cbiAgICAgIHt7ZWFjaCBkYXRhLmJhZH19XG4gICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayI+e3skdmFsdWUubGFiZWx9fSh7eyR2YWx1ZS5udW19fSk8L2E+XG4gICAgICB7ey9lYWNofX1cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJyZXZpZXctci1ub2luZm8iPlxuICAgICAgPGVtIGNsYXNzPSJyZXZpZXctYmciPjwvZW0+XG4gICAgICA8c3Bhbj7mmoLml6Dor4Torro8L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvZGl2PiBcbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAucmV2aWV3LWJnIHtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy94YnQvcmV2aWV3LWJnLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgICNyZXZpZXdfYnRuIHtcbiAgICAgIHdpZHRoOiA1OXB4O1xuICAgIH1cbiAgICAjcmV2aWV3X2J0biAucmV2aWV3X2ljb257XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIHdpZHRoOiAyMnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3MXB4IC0xOXB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIH1cbiAgICAjcmV2aWV3X2J0bi5tc2VudGVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB6LWluZGV4OiA5OTk5OTk5OTk5OTk5OTk5O1xuICAgICAgaGVpZ2h0OiAzOHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjcmV2aWV3X2J0biAucmV2aWV3X3RleHQge1xuICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIGNvbG9yOiAjNDk0ZDUwO1xuICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgI3Jldmlld19kZXRhaWwge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAzNXB4O1xuICAgICAgd2lkdGg6IDU3MHB4O1xuICAgICAgaGVpZ2h0OiA4NXB4O1xuICAgICAgei1pbmRleDogOTk5OTk5OTk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTZlNjtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5yZXZpZXctbGVmdCB7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB3aWR0aDogODBweDtcbiAgICB9XG4gICAgLnJldmlldy1yaWdodCB7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7ICBcbiAgICAgIHdpZHRoOiA0OTBweDtcbiAgICAgIGhlaWdodDogODVweDtcbiAgICB9XG4gICAgLnJldmlldy10YWIge1xuICAgICAgaGVpZ2h0OiA0MnB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xuICAgICAgbGluZS1oZWlnaHQ6IDQycHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgfVxuICAgIC5yZXZpZXctdGFiIGVtIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiAxOHB4O1xuICAgICAgd2lkdGg6IDE4cHg7XG4gICAgICBtYXJnaW46IDExcHggOHB4IDAgMTJweDtcbiAgICB9XG4gICAgLnJldmlldy10YWIgc3BhbiB7XG4gICAgICBjb2xvcjogIzI5MmIyYztcbiAgICB9XG4gICAgLnJldmlldy1nb29kIGVtIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC02NnB4IC0xNzBweDtcbiAgICB9XG4gICAgLnJldmlldy1iYWQgZW0ge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTg4cHggLTE3MHB4O1xuICAgIH1cbiAgICAucmV2aWV3LXRhYi5zZWxlY3RlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgIH1cbiAgICAucmV2aWV3LWdvb2Qge1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU2ZTY7XG4gICAgfVxuICAgIC5yZXZpZXctci1iYWQge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnJldmlldy1yaWdodCAucmV2aWV3LXItYmFkLCAucmV2aWV3LXJpZ2h0IC5yZXZpZXctci1nb29kIHtcbiAgICAgIHBhZGRpbmc6IDJweCAycHggMCAxMHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogODBweDtcbiAgICB9XG4gICAgLnJldmlldy1yLWJhZCBhLCAucmV2aWV3LXItZ29vZCBhIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgbWFyZ2luLXRvcDogMTJweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBwYWRkaW5nOiAwIDZweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmUhaW1wb3J0YW50O1xuICAgIH1cbiAgICAucmV2aWV3LXItZ29vZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmODI4MztcbiAgICB9XG4gICAgLnJldmlldy1yLWJhZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VmYzQzNDtcbiAgICB9XG4gICAgLnJldmlldy1yLW5vaW5mbyB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB3aWR0aDogMTMwcHg7XG4gICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgbWFyZ2luLWxlZnQ6IDE2OXB4O1xuICAgIH1cbiAgICAucmV2aWV3LXItbm9pbmZvIGVtIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDM5cHg7XG4gICAgICBoZWlnaHQ6IDQzcHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNTNweCAtMTE3cHg7XG4gICAgICBtYXJnaW4tdG9wOiAyM3B4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgfVxuICAgIC5yZXZpZXctci1ub2luZm8gc3BhbiB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2IyYjJiMjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBtYXJnaW4tdG9wOiAzNXB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEsIG8gPSBuKDE2KSwKCQkJCXIgPSBuKDkpLAoJCQkJcyA9IG4oNDApLAoJCQkJbCA9IG4oMjYpLAoJCQkJYyA9IG4oMTMpLAoJCQkJZCA9IHt9OwoJCQlkLnNldHRpbWUgPSAxNTA7CgkJCXZhciBwID0gewoJCQkJCWFtYXpvbjogWyIjcHJpY2VibG9ja19kZWFscHJpY2Ugc3BhbiIsICIjcHJpY2VibG9ja19vdXJwcmljZSBzcGFuIC5idXlpbmdQcmljZSIsICIjcHJpY2VibG9ja19kZWFscHJpY2UiLCAiI3ByaWNlYmxvY2tfc2FsZXByaWNlIiwgIiNwcmljZWJsb2NrX291cnByaWNlIiwgIiNwcmljZV9mZWF0dXJlX2RpdiAuYS1jb2xvci1wcmljZSJdCgkJCQl9LAoJCQkJaCA9IHsKCQkJCQlhbWF6b246IFsiI3ByaWNlQmFkZ2luZ19mZWF0dXJlX2RpdiAuYS1jb2xvci1zZWNvbmRhcnkiLCAiI291cnByaWNlX3NoaXBwaW5nbWVzc2FnZSAuYS1jb2xvci1zZWNvbmRhcnkiXQoJCQkJfSwKCQkJCXUgPSB7CgkJCQkJYW1hem9uOiBbCgkJCQkJCVsiI3JjeC1zdWJzY3JpYmUtc3VibWl0LWJ1dHRvbiIsICJhZnRlciIsICJodC1zcGVjaWFsLWRvbSJdLAoJCQkJCQlbJy5hLWJ1dHRvbi1zdGFjayBzcGFuW2lkXj0ic3VibWl0Il0nLCAiYWZ0ZXIiLCAiaHQtc3BlY2lhbC1kb20iXSwKCQkJCQkJWyIjdG9nZ2xlQnV5Qm94ICNvbmV0aW1lPmRpdi5hLXNlY3Rpb24uYS1zcGFjaW5nLW5vbmUuYS1wYWRkaW5nLW5vbmUiLCAiYXBwZW5kIiwgImh0LXNwZWNpYWwtZG9tIl0sCgkJCQkJCVsiLmEtc3BhY2luZy1zbWFsbC5hLWJ1dHRvbi1wcmltYXJ5IiwgImFmdGVyIiwgImh0LXNwZWNpYWwtZG9tIl0sCgkJCQkJCVsiI3BhcnRpYWxTdGF0ZUJ1eWJveCAuYS1idXR0b24tc3RhY2siLCAiYWZ0ZXIiXSwKCQkJCQkJWyIjT25lQ2xpY2tCb3giLCAiYmVmb3JlIl0sCgkJCQkJCVsiI2dvbGRib3hCdXlCb3giLCAiYXBwZW5kIl0KCQkJCQldLAoJCQkJCSI2cG0iOiBbCgkJCQkJCVsiI3RyYW5zQnRucyIsICJhZnRlciJdLAoJCQkJCQlbIi5fMzB3dFUgLl8zN1k2RCIsICJhZnRlciJdCgkJCQkJXQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJcmV0dXJuIGUgPyBlID0gZS5pbmRleE9mKCI/IikgPiAtMSA/IGUgKyAiJnBfcj1nb3V3dWRhbmcmcF9rPXBsdWdfIiArIHQuc3R5bGUgKyAiJm91dGVyX3BpZD04NTA3IiA6IGUgKyAiP3Bfcj1nb3V3dWRhbmcmcF9rPXBsdWdfIiArIHQuc3R5bGUgKyAiJm91dGVyX3BpZD04NTA3IiA6IGUKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oKSB7CgkJCQkJZm9yICh2YXIgZSA9IDAsIHQgPSAwLCBuID0gMDsgbiA8IHAuYW1hem9uLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBhID0gcC5hbWF6b25bbl07CgkJCQkJCWlmIChpKGEpLmxlbmd0aCA+IDAgJiYgaShhKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJZSA9IGkoYSkudGV4dCgpLnJlcGxhY2UoL1vvv6UkwqVccyxdKy9nLCAiIiksIGUuaW5kZXhPZigiLSIpID4gLTEgJiYgKGUgPSBlLnNwbGl0KCItIilbMF0pOwoJCQkJCQkJYnJlYWsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGguYW1hem9uLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBhID0gaC5hbWF6b25bbl07CgkJCQkJCWlmIChpKGEpLmxlbmd0aCA+IDAgJiYgaShhKS5pcygiOnZpc2libGUiKSkgewoJCQkJCQkJdCA9IGkoYSkudGV4dCgpLm1hdGNoKC9bMC05Ll0rLykgJiYgaShhKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKVsxXTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQl9CgkJCQkJcmV0dXJuIHQgfHwgKHQgPSAwKSwgZSA9IE51bWJlcihlKSArIE51bWJlcih0KQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQuZHAsCgkJCQkJCW4gPSBlLm9sZFByaWNlOwoJCQkJCSJhbWF6b24iID09PSB0LnNpdGUgJiYgKG4gPSBmKCkpLCBuIHx8IChuID0gZS5vbGRQcmljZSksIGUudXJsIHx8IChlLnVybCA9IGxvY2F0aW9uLmhyZWYpLCBlLnNrdSB8fCAoZS5za3UgPSBlLnVybC5tYXRjaCgvKD86ZHB8cHJvZHVjdClcLyhbMC05YS16QS1aXSspLykgJiYgZS51cmwubWF0Y2goLyg/OmRwfHByb2R1Y3QpXC8oWzAtOWEtekEtWl0rKS8pWzFdKTsKCQkJCQl2YXIgaSA9ICgxMDAgKiBOdW1iZXIobikpLnRvRml4ZWQoMCksCgkJCQkJCWEgPSB0LnNlcnZlciArICIvYXBpL2hhaXRhbz9wcmljZT0iICsgaSArICImdXJsX2NyYz0iICsgZS5za3UgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudXJsKTsKCQkJCQlkLnJlcXVlc3RVcmwgPSBhLCBkLmp1bXBpbmZvID0gInVybF9jcmM9IiArIGUuc2t1ICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlLnVybCksIGQuZnN0VGltZSA9IChuZXcgRGF0ZSkuZ2V0VGltZSgpLCByLmdldChhKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaWYgKGUgJiYgMSA9PT0gZS5kYXRhLnByb2R1Y3Rfc3RhdHVzKSB7CgkJCQkJCQl2YXIgdCA9IGUuZGF0YS5wcm9kdWN0X2RldGFpbDsKCQkJCQkJCXQudXJsID0gbShlLmRhdGEucHJvZHVjdF91cmwpLCB2KHQpCgkJCQkJCX0gZWxzZSBpZiAoIWUgfHwgMiAhPT0gZS5kYXRhLnByb2R1Y3Rfc3RhdHVzICYmIDMgIT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cykgewoJCQkJCQkJdmFyIGkgPSAiIjsKCQkJCQkJCTQgPT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cyA/IGkgPSAi5oqx5q2J77yM55Sx5LqO55u45YWz5rOV5b6L5oiW6L2s6L+Q56aB6L+Q55qE5Y6f5Zug77yM6K+l5ZWG5ZOB5peg5rOV5LiA6ZSu5rW35reY44CCIiA6IDUgPT09IGUuZGF0YS5wcm9kdWN0X3N0YXR1cyAmJiAoaSA9ICLmirHmrYnvvIzor6XllYblk4Hlt7LkuIvmnrbvvIzml6Dms5XkuIDplK7mtbfmt5jjgIIiKTsKCQkJCQkJCXZhciB0ID0gewoJCQkJCQkJCWdvb2RzX3ByaWNlOiBzKG4udG9GaXhlZCgyKSksCgkJCQkJCQkJdXJsOiAiamF2YXNjcmlwdDp2b2lkKCk7IiwKCQkJCQkJCQl0bGU6IGksCgkJCQkJCQkJbm9pbmZvOiAhMAoJCQkJCQkJfTsKCQkJCQkJCXYodCkKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXZhciB0ID0gdm9pZCAwOwoJCQkJCQkJZS5kYXRhLnByb2R1Y3RfZGV0YWlsX2VzdGltYXRlID8gKHQgPSBlLmRhdGEucHJvZHVjdF9kZXRhaWxfZXN0aW1hdGUsIHQudXJsID0gYigpKSA6IHQgPSB7CgkJCQkJCQkJZ29vZHNfcHJpY2U6IHMobi50b0ZpeGVkKDIpKSwKCQkJCQkJCQl1cmw6ICJqYXZhc2NyaXB0OnZvaWQoKTsiLAoJCQkJCQkJCXRsZTogIuaKseatie+8jOivpeWVhuWTgeaaguaXtuaXoOazleS4gOmUrua1t+a3mCIsCgkJCQkJCQkJbm9pbmZvOiAhMAoJCQkJCQkJfSwgdih0KQoJCQkJCQl9CgkJCQkJfSkKCQkJCX0sCgkJCQlfID0gZnVuY3Rpb24oZSkgewoJCQkJCXJldHVybiBlLmdvb2RzX29yaWdpbmFsX3ByaWNlID0gTnVtYmVyKChlLmdvb2RzX29yaWdpbmFsX3ByaWNlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS5nb29kc19wcmljZSA9IE51bWJlcigoZS5nb29kc19wcmljZSAvIDEwMCkudG9GaXhlZCgyKSksIGUub2ZmaWNpYWxfb3JpZ2luYWxfcG9zdGFnZSA9IE51bWJlcigoZS5vZmZpY2lhbF9vcmlnaW5hbF9wb3N0YWdlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS5vZmZpY2lhbF9wb3N0YWdlID0gTnVtYmVyKChlLm9mZmljaWFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLnhtX29mZmljaWFsID0gZS5vZmZpY2lhbF9vcmlnaW5hbF9wb3N0YWdlIC0gZS5vZmZpY2lhbF9wb3N0YWdlLCBlLmludGVybmF0aW9uYWxfb3JpZ2luYWxfcG9zdGFnZSA9IE51bWJlcigoZS5pbnRlcm5hdGlvbmFsX29yaWdpbmFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLmludGVybmF0aW9uYWxfcG9zdGFnZSA9IE51bWJlcigoZS5pbnRlcm5hdGlvbmFsX3Bvc3RhZ2UgLyAxMDApLnRvRml4ZWQoMikpLCBlLnhtX2ludGVybmF0aW9uYWwgPSBlLmludGVybmF0aW9uYWxfb3JpZ2luYWxfcG9zdGFnZSAtIGUuaW50ZXJuYXRpb25hbF9wb3N0YWdlLCBlLnRheF9vcmlnaW5hbF9mZWUgPSBOdW1iZXIoKGUudGF4X29yaWdpbmFsX2ZlZSAvIDEwMCkudG9GaXhlZCgyKSksIGUudGF4X2ZlZSA9IE51bWJlcigoZS50YXhfZmVlIC8gMTAwKS50b0ZpeGVkKDIpKSwgZS54bV9mZWUgPSBlLnRheF9vcmlnaW5hbF9mZWUgLSBlLnRheF9mZWUsIGUucHVyZVByaWNlID0gZS5nb29kc19wcmljZSArIGUub2ZmaWNpYWxfcG9zdGFnZSArIGUuaW50ZXJuYXRpb25hbF9wb3N0YWdlICsgZS50YXhfZmVlLCBlLnB1cmVQcmljZSA9IGUucHVyZVByaWNlLnRvRml4ZWQoMiksIGUuZ29vZHNfcHJpY2UgPSBlLmdvb2RzX3ByaWNlLnRvRml4ZWQoMiksIGUKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJaSgiI3lpamlhbmhhaXRhbyAueWpodC1oZWFkIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJbCgidHJhY2s6eWpodDpkZXRhaWwiKSwgYy5sb2coInRyYWNrOnlqaHQ6ZGV0YWlsIiksIGQuc2hvd2RldGFpbCA9ICEwLCBpKCIjeWlqaWFuaGFpdGFvIC55amh0LWRldGFpbCIpLnNob3coKQoJCQkJCX0pLCBpKCIjeWlqaWFuaGFpdGFvIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiI3lpamlhbmhhaXRhbyAueWpodC1kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSwgaSgiI3lpamlhbmhhaXRhbyAueWpodC1oZWFkIC55amh0LXRpdGxlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gaSh0aGlzKS5hdHRyKCJocmVmIik7CgkJCQkJCWUgJiYgZS5pbmRleE9mKCJoYWl0YW9taWQiKSA+IC0xIHx8IGUgJiYgZS5pbmRleE9mKCJnb3V3dWRhbmciKSA+IC0xICYmIChsKCJjbGljazp5amh0OnRpdGxlIiksIGMubG9nKCJjbGljazp5amh0OnRpdGxlIikpCgkJCQkJfSkKCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIGEgPSB1W3Quc2l0ZV0sIHIgPSB2b2lkIDAsIHMgPSAwOyBzIDwgYS5sZW5ndGg7IHMrKykKCQkJCQkJaWYgKGkoYVtzXVswXSkubGVuZ3RoID4gMCAmJiBpKGFbc11bMF0pLmlzKCI6dmlzaWJsZSIpKSB7CgkJCQkJCQlyID0gYVtzXTsKCQkJCQkJCWJyZWFrCgkJCQkJCX0KCQkJCQl2YXIgbCA9ICIiLAoJCQkJCQljID0gaShyWzBdKS53aWR0aCgpOwoJCQkJCXJbMl0gJiYgYyA+IDIxMCAmJiAobCA9IHJbMl0pOwoJCQkJCXZhciBkID0gbigxNTQpLAoJCQkJCQlwID0gby5jb21waWxlKGQpKHsKCQkJCQkJCWRwOiBlLAoJCQkJCQkJc3Bkb206IGwsCgkJCQkJCQl0bGU6IGUudGxlLAoJCQkJCQkJaW5zZXJ0d2lkdGg6IGMsCgkJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUKCQkJCQkJfSk7CgkJCQkJImJlZm9yZSIgPT09IHJbMV0gPyBpKHJbMF0pLmJlZm9yZShwKSA6ICJhcHBlbmQiID09PSByWzFdID8gaShyWzBdKS5hcHBlbmQocCkgOiAiYWZ0ZXIiID09PSByWzFdICYmIGkoclswXSkuZXEoMCkuYWZ0ZXIocCksIHgoKQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5ub2luZm8gfHwgKGUgPSBfKGUpKSwgZC5kcGluZm8gPSBlLCB3KGUpOwoJCQkJCXZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1eWJveF9mZWF0dXJlX2RpdiIpOwoJCQkJCXQgJiYgdC5hZGRFdmVudExpc3RlbmVyKCJET01TdWJ0cmVlTW9kaWZpZWQiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGEpLCBhID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWkoIiN5aWppYW5oYWl0YW8iKS5sZW5ndGggPiAwICYmIGkoIiN5aWppYW5oYWl0YW8iKS5pcygiOnZpc2libGUiKSB8fCAoaSgiI3lpamlhbmhhaXRhbyIpLnJlbW92ZSgpLCB3KGQuZHBpbmZvKSkKCQkJCQkJfSwgMmUzKQoJCQkJCX0pCgkJCQl9LAoJCQkJYiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gImh0dHA6Ly93d3cuZ3dkYW5nLmNvbS9wcm9tb3Rpb24vaGFpdGFvbWlkPyIgKyBkLmp1bXBpbmZvICsgIiZmX2Q9IiArIHQuZnJvbV9kZXZpY2U7CgkJCQkJcmV0dXJuIGUKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQkid3d3LmFtYXpvbi5kZSIgIT09IGxvY2F0aW9uLmhvc3QgJiYgZygpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJ5aWppYW5oYWl0YW8iIGNsYXNzPSJ5amh0LWJveCB7e3NwZG9tfX0iPlxuICAgIDxkaXYgY2xhc3M9InlqaHQtaGVhZCI+XG4gICAgICA8YSBocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJ5amh0LXNpdGUtaWNvbiI+PC9hPlxuICAgICAgPGEge3tpZiAhZHAubm9pbmZvfX0gaHJlZj0ie3tkcC51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHt7L2lmfX0gY2xhc3M9InlqaHQtdGl0bGUge3tpZiBkcC5ub2luZm99fSBub2luZm97ey9pZn19Ij5cbiAgICAgICAgPHNwYW4gY2xhc3M9InRpdGxlLXNwMSI+5LiA6ZSu5rW35reY77yaPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idGl0bGUtc3AyIj7vv6V7e2RwLmdvb2RzX3ByaWNlfX08L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gICAge3tpZiBkcC5ub3VybH19XG4gICAgICA8ZGl2IGNsYXNzPSJ5amh0LWRldGFpbCB5amh0LW5vdXJsLWRldGFpbCI+XG4gICAgICAgIDxpbWcgc3JjPSJodHRwOi8vY2RuLnt7ZXh0TmFtZX19LmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW8vZG9nX2xvYWRpbmcuZ2lmIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8c3Bhbj7liLDmiYvku7flrp7ml7borqHnrpfkuK08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9Imh0LWppbmR1dGlhbyI+MCU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAge3tlbHNlIGlmICFkcC5ub2luZm99fVxuICAgICAgPGRpdiBjbGFzcz0ieWpodC1kZXRhaWwiPlxuICAgICAgICA8ZGl2IGNsYXNzPSJ5amh0LWl0ZW0iPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LWl0ZW0tc3AxIj7lrpjnvZHov5DotLk8L3NwYW4+IO+8mlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAg77+le3tkcC5vZmZpY2lhbF9wb3N0YWdlfX0gXG4gICAgICAgICAgICB7e2lmIGRwLnhtX29mZmljaWFsICE9IDB9fVxuICAgICAgICAgICAgICDvvIhcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImRlbC1saW5lIj57e2RwLnhtX29mZmljaWFsfX08L3NwYW4+IFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ieWpodC14bSI+6ZmQ5YWNPC9zcGFuPlxuICAgICAgICAgICAgICDvvIlcbiAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJ5amh0LWl0ZW0iPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LWl0ZW0tc3AxIj7ovazov5DotLk8L3NwYW4+IO+8mlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LXpodWFueXVuIj7vv6V7e2RwLmludGVybmF0aW9uYWxfcG9zdGFnZX19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0ieWpodC1pdGVtIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz0ieWpodC1pdGVtLXNwMSI+56iO6LS5PC9zcGFuPiDvvJpcbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICDvv6V7e2RwLnRheF9mZWV9fVxuICAgICAgICAgIHt7aWYgZHAueG1fZmVlICE9IDB9fVxuICAgICAgICAgICAg77yIPHNwYW4gY2xhc3M9ImRlbC1saW5lIj57e2RwLnhtX2ZlZX19PC9zcGFuPiBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ5amh0LXhtIj7pmZDlhY08L3NwYW4+77yJXG4gICAgICAgICAge3svaWZ9fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9InlqaHQtaXRlbSB5amh0LWl0ZW0tbGFzdCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9InlqaHQtaXRlbS1zcDEiPuWIsOaJi+S7tzwvc3Bhbj4g77yaXG4gICAgICAgICAgPHNwYW4gY2xhc3M9InlqaHQtcHJpY2UiPu+/pSB7e2RwLnB1cmVQcmljZX19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIHt7ZWxzZX19XG4gICAgICA8ZGl2IGNsYXNzPSJ5amh0LWRldGFpbCB5amh0LW5vaW5mby1kZXRhaWwiPlxuICAgICAgICB7e3RsZX19XG4gICAgICA8L2Rpdj5cbiAgICB7ey9pZn19XG4gICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAgICN5aWppYW5oYWl0YW8ge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRvcDogLTdweDtcbiAgICAgICAgd2lkdGg6IDIwNnB4O1xuICAgICAgICB6LWluZGV4OiA5OTk5OTk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20jeWlqaWFuaGFpdGFvIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMn19cHg7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAjeWlqaWFuaGFpdGFvIHtcbiAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgIHRvcDogMHB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gKiB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcJ01pY3Jvc29mdCBZYWhlaVwnIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC55amh0LWhlYWQge1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIHdpZHRoOiAyMDZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAueWpodC1oZWFkLCAuaHQtc3BlY2lhbC1kb20gLnlqaHQtaGVhZCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgLmd3ZF82cG0gICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUge1xuICAgICAgICB3aWR0aDogMjU2cHg7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20jeWlqaWFuaGFpdGFvIC55amh0LXRpdGxlIHtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMi00MH19cHg7XG4gICAgICB9XG4gICAgICAuZ3dkXzZwbSAueWpodC1kZXRhaWwge1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICB9XG4gICAgICAuaHQtc3BlY2lhbC1kb20gLnlqaHQtZGV0YWlsIHtcbiAgICAgICAgd2lkdGg6IHt7aW5zZXJ0d2lkdGgrMn19cHg7XG4gICAgICB9XG4gICAgICAueWpodC1zaXRlLWljb24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoaHR0cDovL3MxLnt7ZXh0TmFtZX19LmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9oYWl0YW9fc2l0ZWljb24ucG5nKSA4cHggNXB4IG5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAyNHB4IDIycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZWJlYmViO1xuICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDZweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgd2lkdGg6IDE2NnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZWMwZjA7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA2cHg7XG4gICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA2cHg7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUgLnRpdGxlLXNwMSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUgLnRpdGxlLXNwMiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIH1cbiAgICAgICN5aWppYW5oYWl0YW8gLnlqaHQtdGl0bGUubm9pbmZvIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U0ZTRlNDtcbiAgICAgICAgY29sb3I6ICM2ZDZkNmQ7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIC55amh0LWRldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMxMTkxYzE7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMjA2cHg7XG4gICAgICB9XG4gICAgICAueWpodC1pdGVtIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XG4gICAgICAgIGhlaWdodDogMjhweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI4cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICAgIH1cbiAgICAgIC55amh0LWl0ZW0ueWpodC1pdGVtLWxhc3Qge1xuICAgICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgICAgfVxuICAgICAgLnlqaHQtaXRlbS1zcDEge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgaGVpZ2h0OiAyOHB4O1xuICAgICAgICB3aWR0aDogNjBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICAgICAgICB0ZXh0LWFsaWduLWxhc3Q6IGp1c3RpZnk7XG4gICAgICB9XG4gICAgICBAbWVkaWEgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjApe1xuICAgICAgICAueWpodC1pdGVtOmFmdGVye1xuICAgICAgICAgICAgY29udGVudDoiLiI7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICAgICAgaGVpZ2h0OjA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5kZWwtbGluZSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgfVxuICAgICAgLnlqaHQteG0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjQ5ZDY0O1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHdpZHRoOiAyOHB4O1xuICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAueWpodC16aHVhbnl1biB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIH1cbiAgICAgIC55amh0LXByaWNlIHtcbiAgICAgICAgY29sb3I6ICNmODNjNDk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIH1cbiAgICAgIC55amh0LW5vaW5mby1kZXRhaWwge1xuICAgICAgICBwYWRkaW5nOiAxNnB4IDIwcHggMTZweCAyMHB4O1xuICAgICAgfVxuICAgICAgLnlqaHQtbm91cmwtZGV0YWlsIHtcbiAgICAgICAgcGFkZGluZzogMThweCAwIDIxcHggMHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAuaHQtamluZHV0aWFvIHtcbiAgICAgICAgY29sb3I6ICMzZWMwZjA7XG4gICAgICB9XG4gICAgICAuYS1hY2NvcmRpb24gLmEtYm94IHtcbiAgICAgICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC55amh0LWZsdXNoIHtcbiAgICAgICAgY29sb3I6ICNiMTI3MDQ7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgbikgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBpID0gMCwKCQkJCWEgPSAhMSwKCQkJCW8gPSB7fSwKCQkJCXIgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJbiA9IG4gfHwgIiIsIGEgPSAhMDsKCQkJCQl2YXIgaSA9IHQudGpfc2VydmVyICsgIi9kcGluZm8ucGhwP3Blcm1hbmVudF9pZD0iICsgZS5waWQgKyAiJnJlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5yZWZlclVybCkgKyAiJnByaWNlPSIgKyBlLnByaWNlICsgIiZjbGFzc19pZD0iICsgZS5jbGFzc19pZCArICImYnJhbmRfaWQ9IiArIGUuYnJhbmRfaWQgKyAiJmNvbW1lbnRUYWc9IiArIGVuY29kZVVSSUNvbXBvbmVudChuKSwKCQkJCQkJbyA9IG5ldyBJbWFnZTsKCQkJCQlvLnNyYyA9IGkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWkrKywgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBvLnN0ciA9IGUgOiBvLm9iaiA9IGUsIDIgIT0gaSB8fCBhIHx8IHIoby5vYmosIG8uc3RyKQoJCQkJfTsKCQkJZS5leHBvcnRzLmxvZ0RwSW5mbyA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gWyIzNjBidXkiLCAidGFvYmFvIiwgInRtYWxsIl07CgkJCQluLmluZGV4T2YodC5zaXRlKSA+IC0xID8gcyhlKSA6IHIoZSksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJYSB8fCByKGUpCgkJCQl9LCA4ZTMpCgkJCX0sIGUuZXhwb3J0cy5jb2xsZWN0SmRJbmZvID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIHQgPSBbXTsKCQkJCWlmIChlKSB7CgkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB0LnB1c2goZVtuXS5uYW1lKTsKCQkJCQlzKHQuam9pbigiXyIpKQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuY29sbGVjdFRhb2Jhb0luZm8gPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gbigiI3Jldmlld3MgdWwua2ctcmF0ZS13ZC1pbXByZXNzaW9uIGxpIGEiKTsKCQkJCSJ0bWFsbCIgPT0gdC5zaXRlICYmIChlID0gbigiI0pfUmV2aWV3cyAucmF0ZS10YWctaW5uZXIgLnRhZy1wb3NpIGEiKSk7CgkJCQlmb3IgKHZhciBpID0gW10sIGEgPSBlLmxlbmd0aCwgbyA9IDA7IGEgPiBvOyBvKyspIHsKCQkJCQl2YXIgciA9IGUuZXEobykudGV4dCgpLm1hdGNoKC8oLiopXCgvKTsKCQkJCQlyICYmIGkucHVzaChyWzFdLnRyaW0oKSkKCQkJCX0KCQkJCXMoaS5qb2luKCJfIikpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE1NyksCgkJCQlvID0gbig4KSwKCQkJCXIgPSBuKDkpLAoJCQkJcyA9IG4oMTY2KSwKCQkJCWwgPSBuKDEzKSwKCQkJCWMgPSBuKDE4NiksCgkJCQlkID0gbigxOCksCgkJCQlwID0gbigxNiksCgkJCQloID0gdC5mb2xkLAoJCQkJdSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgbiA9ICc8YSBpZD0iJyArIHQuZXh0QnJhbmQgKyAnX3NlYXJjaGxvd3ByaSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPiDlvZPliY3pobU8c3Bhbj4nICsgZSArICI8L3NwYW4+5qy+5ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3PC9hPiI7CgkJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKHAuY29tcGlsZShuKSgpKQoJCQkJCX0KCQkJCX0sCgkJCQltID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBhID0gbigyMDIpOwoJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKHAuY29tcGlsZShhKSh7CgkJCQkJCXJlbW86ICLmm7TlpJrlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTlkIznsbvllYblk4EiLAoJCQkJCQlkYXRhOiBlLAoJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZCwKCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJfSkpLCB0LmluaXRfaXRlbV9saXN0KCJzZWFyY2hsb3dwcmkiKSwgdC5zZXRfaXRlbV9hcmdzKCJzZWFyY2hsb3dwcmkiKSwgdC5zZXRfcGFnZV9hcmdzKCJzZWFyY2hsb3dwcmkiKSwgdC5sb2FkX2ltYWdlKCJzZWFyY2hsb3dwcmkiLCAwLCB0LnBhZ2Vfc2l6ZSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikuc2hvdygpLCBmKCkKCQkJCX0sCgkJCQlmID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9zZWFyY2hsb3dwcmkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaSIpLmFkZENsYXNzKCJtX2hvdmVyIiksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCIpLnNob3coKSwgbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+aCrOa1ruWxleekuiIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikucmVtb3ZlQ2xhc3MoIm1faG92ZXIiKQoJCQkJCQl9LCA0MDApCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpIikucmVtb3ZlQ2xhc3MoIm1faG92ZXIiKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwgbGkiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+eCueWHuyIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2VhcmNobG93cHJpX2RldGFpbCAubGVmdC1wYWdlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQuY2hhbmdlX3BhZ2UoInNlYXJjaGxvd3ByaSIsIC0xKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwgLnJpZ2h0LXBhZ2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdC5jaGFuZ2VfcGFnZSgic2VhcmNobG93cHJpIiwgMSkKCQkJCQl9KQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8dWwgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgIi1jbG9zZS1tb2R1bGUgIiArIHQuZXh0QnJhbmQgKyAnLWNvbXBhcmUiIGlkPSInICsgdC5leHRCcmFuZCArICctY29tcGFyZSI+JzsKCQkJCQlpKCIjbG93ZXN0X3ByaWNlX2J0biIpLmFmdGVyKHAuY29tcGlsZShlKSgpKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUpIHsKCQkJCQkJdmFyIG4gPSAnPGRpdiBpZD0ibG93ZXN0X3ByaWNlX2J0biIgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgJy1jbG9zZS1tb2R1bGUgbG93ZXN0X3ByaWNlX2J0biIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPiBcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz0iJyArIHQuZXh0QnJhbmQgKyAnX2ZpcnN0Ij4gXG4gICAgICAgICAgICAgICAgICDlvZPliY3pobU8c3Bhbj4nICsgZSArICI8L3NwYW4+5qy+5ZWG5ZOBXG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDxhPuWkhOS6juWOhuWPsuacgOS9juS7tzwvYT5cbiAgICAgICAgICAgICAgPC9kaXYiOwoJCQkJCQl0Lm5ld19leHRlbnNpb24gPyBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWh1aSIpLmFmdGVyKHAuY29tcGlsZShuKSgpKSA6IGkoIi4iICsgdC5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuYWZ0ZXIocC5jb21waWxlKG4pKCkpCgkJCQkJfQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKDAgIT0gZS5sZW5ndGgpIHsKCQkJCQkJdmFyIGEgPSBlLnNsaWNlKDAsIDUpLAoJCQkJCQkJbyA9IG4oMjAzKTsKCQkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlIikuYXBwZW5kKHAuY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBhLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZCwKCQkJCQkJCWV4dE5hbWU6IHQuZXh0TmFtZSwKCQkJCQkJCWRvbU5hbWU6IHQuZHZhbAoJCQkJCQl9KSksIHcoZS5zbGljZSg1KSksIHYoKSwgaSgiI2xvd2VzdF9wcmljZV9idG4iKS5zaG93KCksIDEgPT0gdC5mb2xkICYmIGkoIi4iICsgdC5leHRCcmFuZCArICItY2xvc2UtbW9kdWxlIikuaGlkZSgpOwoJCQkJCX0KCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICgwICE9IGUubGVuZ3RoKSB7CgkJCQkJCXZhciBhID0gYy5nZXRQYWdlSW5mbyhlKSwKCQkJCQkJCW8gPSBuKDIwNCk7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY29tcGFyZSIpLmFmdGVyKHAuY29tcGlsZShvKSh7CgkJCQkJCQlkYXRhOiBlLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQlwYWdlSW5mbzogYSwKCQkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kCgkJCQkJCX0pKSwgdC5zZXRQYWdlQXJncyh0LmV4dEJyYW5kICsgIi1jb21wYXJlLXNlYXJjaGxvd3ByaSIsIGEucGVyUGFnZVNpemUpLCB0LmF1dG9GaXhXaWR0aCgpCgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY29tcGFyZSBsaS5zZWFyY2hfaXRlbV9saXN0IC4iICsgdC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICJfZmF2b3JfaG92ZXIiKSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKHRoaXMpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtIikuYWRkQ2xhc3ModC5leHRCcmFuZCArICJfZmF2b3JfaG92ZXIiKSwgaSh0aGlzKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlIGxpLnNlYXJjaF9pdGVtX2xpc3QiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCAuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIikKCQkJCQl9KSwgaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbC5sb2coIuWIl+ihqOmhteW3peWFt+adoeWOhuWPsuacgOS9juS7t+eCueWHuyIpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICItc2VhcmNobG93cHJpIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0tZGV0YWlsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUgbGkuc2VhcmNoX2l0ZW1fbGlzdCAuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbSIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX2Zhdm9yX2hvdmVyIiksIGkodGhpcykuZmluZCgiLnNlYXJjaGxvd3ByaV9idG4iKS5hZGRDbGFzcygic2VhcmNobG93cHJpX2J0bl9ob3ZlciIpLCBpKHRoaXMpLmZpbmQoIi5zZWFyY2hsb3dwcmlfYnRuIikuYWRkQ2xhc3ModC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIiksIGwubG9nKCLliJfooajpobXlt6XlhbfmnaHljoblj7LmnIDkvY7ku7fmgqzmta7lsZXnpLoiKSwgaSh0aGlzKS5maW5kKCIjIiArIHQuZXh0QnJhbmQgKyAiX3NlYXJjaGxvd3ByaV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1zZWFyY2hsb3dwcmkiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIuIiArIHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwiKS5oaWRlKCksIGkodGhpcykuZmluZCgiLnNlYXJjaGxvd3ByaV9idG4iKS5yZW1vdmVDbGFzcygic2VhcmNobG93cHJpX2J0bl9ob3ZlciIpLCBpKHRoaXMpLmZpbmQoIi5zZWFyY2hsb3dwcmlfYnRuIikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikKCQkJCQl9KQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHQuZHZhbDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiLWNsb3NlIikuY3NzKCJib3JkZXItcmFkaXVzIiwgMCksIGkoIi4iICsgdC5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuY3NzKCJib3JkZXItbGVmdCIsICIxcHggc29saWQgI2VlZSIpLCBpKGUpLmNzcygiYm9yZGVyLXJhZGl1cyIsIDApLCAxICE9IHQuZm9sZCAmJiBpKGUpLndpZHRoKCIxMDAlIiksIGkoIiMiICsgdC5leHRCcmFuZCArICJfc2V0dGluZ19kaXYiKS5jc3MoImJvdHRvbSIsICIzNnB4IiksIGkoIiMiICsgdC5leHRCcmFuZCArICItY2xvc2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJMSA9PSBoID8gKGkoZSkud2lkdGgoIjEwMCUiKSwgaCA9IDApIDogKGkoZSkud2lkdGgoImF1dG8iKSwgaCA9IDEpCgkJCQkJfSkKCQkJCX0sCgkJCQl5ID0gZnVuY3Rpb24oZSkgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyAoYS50aGlyZEJhcigpLCBzLmluc2VydG5vcm1hbFZpZXcoKSwgby5nZXQoZnVuY3Rpb24oZSkgewoJCQkJCQl1KGUubGVuZ3RoKTsKCQkJCQkJdmFyIHQgPSBvLmdldERwSWRzKCk7CgkJCQkJCXQgJiYgayh0LCBlLCBtKQoJCQkJCX0pLCBhLnNldF9wYW5lbF9ob3Zlcl9ldmVudCgpKSA6ICJib3R0b20iID09IHQuc3R5bGUgJiYgKHMuaW5zZXJ0bm9ybWFsVmlld19ib3R0b20oKSwgby5nZXQoZnVuY3Rpb24oZSkgewoJCQkJCQlfKGUubGVuZ3RoKSwgZygpOwoJCQkJCQl2YXIgdCA9IG8uZ2V0RHBJZHMoKTsKCQkJCQkJdCAmJiBrKHQsIGUsIHgpCgkJCQkJfSksIGIoKSksIHMuYmluZEV2ZW50KCkKCQkJCX0sCgkJCQlrID0gZnVuY3Rpb24oZSwgbiwgaSkgewoJCQkJCW4gJiYgMCAhPSBuLmxlbmd0aCAmJiBlICYmIEIoZSwgZnVuY3Rpb24oZSkgewoJCQkJCQlmb3IgKHZhciBhID0gMDsgYSA8IG4ubGVuZ3RoOyBhKyspIHsKCQkJCQkJCWlmIChuW2FdLmRpc2NvdW50ID0gTWF0aC5yb3VuZCgxMDAgKiBuW2FdLmRpc2NvdW50KSAvIDEwLCBuW2FdLmxhc3RfcHJpY2UgPSBuW2FdLmhpZ2hlc3QsIGUgJiYgZVtuW2FdLmRwX2lkXSAmJiBlW25bYV0uZHBfaWRdLmRhdGEgJiYgZVtuW2FdLmRwX2lkXS5kYXRhLmxlbmd0aCA+IDApIHsKCQkJCQkJCQl2YXIgbyA9IHooZVtuW2FdLmRwX2lkXSwgblthXS5wcmljZSk7CgkJCQkJCQkJbyAmJiAoblthXS5uZXdfcHJpY2UgPSBvLnByaWNlLCBuW2FdLnByaWNlZGVzYyA9IG8uZGVzYykKCQkJCQkJCX0KCQkJCQkJCXZhciByID0gewoJCQkJCQkJCXVybDogblthXS51cmwsCgkJCQkJCQkJc2l0ZV9pZDogblthXS5zaXRlX2lkLAoJCQkJCQkJCWRwX2lkOiBuW2FdLmRwX2lkLAoJCQkJCQkJCXVuaW9uOiB0LnVuaW9uLAoJCQkJCQkJCW1vZDogImFsc292aWV3IgoJCQkJCQkJfTsKCQkJCQkJCW5bYV0udXJsID0gZC5pbml0KHIpCgkJCQkJCX0KCQkJCQkJaShuKQoJCQkJCX0pCgkJCQl9LAoJCQkJeiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQlmb3IgKHZhciBuID0gewoJCQkJCQlwcmljZTogdCwKCQkJCQkJZGVzYzogIiIKCQkJCQl9LCBpID0gZS5kYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKQoJCQkJCQlpZiAoMSA9PSBlLmRhdGFbaV0udHlwZSkgewoJCQkJCQkJdmFyIGEgPSBlLmRhdGFbaV0uZGVzYy5tYXRjaCgvWzAtOS5dKy9nKTsKCQkJCQkJCWlmIChwYXJzZUZsb2F0KHQpID49IHBhcnNlRmxvYXQoYVswXSkpIHsKCQkJCQkJCQluLnByaWNlID0gcGFyc2VGbG9hdCh0KSAtIHBhcnNlRmxvYXQoYVsxXSksIG4uZGVzYyA9IGUuZGF0YVtpXS5kZXNjOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCX0gZWxzZSBpZiAoMiA9PSBlLmRhdGFbaV0udHlwZSkgcmV0dXJuICExOwoJCQkJCXJldHVybiAiIiAhPSBuLmRlc2MgPyBuIDogITEKCQkJCX0sCgkJCQlCID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gZS5qb2luKCIsIiksCgkJCQkJCWEgPSB0LnNlcnZlciArICIvZXh0ZW5zaW9uP2FjPWdldFByb21vJmRwX2lkcz0iICsgaTsKCQkJCQlyLmdldChhKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJbihlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7CgkJCQkJCW4oKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXkoZSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTU4KSwKCQkJCW8gPSBuKDg3KSwKCQkJCXIgPSBuKDkyKSwKCQkJCXMgPSBuKDc3KSwKCQkJCWwgPSBuKDExOSksCgkJCQljID0gbigxNTkpLAoJCQkJZCA9IG4oMTYxKSwKCQkJCXAgPSBuKDE2MyksCgkJCQloID0gbigxMTcpLAoJCQkJdSA9IG4oMTY0KSwKCQkJCW0gPSBuKDE2NSksCgkJCQlmID0gbigxNjYpLAoJCQkJZyA9IG4oMTYpLAoJCQkJXyA9IG4oMTY3KSwKCQkJCXggPSBuKDE2OSksCgkJCQl3ID0gbigxMjIpLAoJCQkJdiA9IG4oMjYpLAoJCQkJYiA9IG4oMTMpLAoJCQkJeSA9IG4oOSksCgkJCQlrID0gdC5kdmFsLAoJCQkJeiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbigxNzApOwoJCQkJCWkoImJvZHkiKS5hcHBlbmQoZy5jb21waWxlKGUpKHsKCQkJCQkJZG9tbmFtZTogdC5kdmFsCgkJCQkJfSkpCgkJCQl9OwoJCQllLmV4cG9ydHMuY2xvc2UgPSBmdW5jdGlvbigpIHsKCQkJCWlmICgibXNpZSIgIT0gdC5icm93c2VyLmFnZW50ICYmIHQuY2hlY2tfYW5pbWF0ZSgpKSB7CgkJCQkJdHJ5IHsKCQkJCQkJaSgiYm9keSIpLmFuaW1hdGUoewoJCQkJCQkJInBhZGRpbmctdG9wIjogIjBweCIKCQkJCQkJfSwgNTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWkoImJvZHkiKS5hdHRyKCJzdHlsZSIsICIiKS5jc3MoInBhZGRpbmctdG9wIiwgMCksIGkoaykuYXR0cigic3R5bGUiLCAiIiksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWluaSIpLnNob3coKQoJCQkJCQl9KQoJCQkJCX0gY2F0Y2ggKGUpIHsKCQkJCQkJaSgiYm9keSIpLmF0dHIoInN0eWxlIiwgIiIpLmNzcygibWFyZ2luLXRvcCIsIDApLmNzcygicGFkZGluZy10b3AiLCAwKSwgaShrKS5hdHRyKCJzdHlsZSIsICIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1taW5pIikuc2hvdygpCgkJCQkJfQoJCQkJCWooITEpCgkJCQl9IGVsc2UgaShrKS5hdHRyKCJzdHlsZSIsICIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5oaWRlKCksIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsICIiKS5jc3MoIm1hcmdpbi10b3AiLCAwKS5jc3MoInBhZGRpbmctdG9wIiwgMCksIGkoIiMiICsgdC5leHROYW1lICsgIi1taW5pIikuc2hvdygpLCBqKCExKQoJCQl9LCBlLmV4cG9ydHMuZmxvYXRfYm9keSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSAiMzJweCI7CgkJCQlpZiAoIm1zaWUiICE9IHQuYnJvd3Nlci5hZ2VudCkgewoJCQkJCXZhciBuID0gaSgiYm9keSIpLmF0dHIoInN0eWxlIikgfHwgIiI7CgkJCQkJbiA9IG4ucmVwbGFjZSgvcGFkZGluZy10b3BbXjpdKjpbXjtdKjs/LywgIiIpLCBuID0gbiArICI7cGFkZGluZy10b3A6IiArIGUgKyAiICFpbXBvcnRhbnQ7IiwgbiArPSAicGhpbGlwcyIgPT0gdC5zaXRlIHx8ICJpbmVpZ28iID09IHQuc2l0ZSA/ICI7YmFja2dyb3VuZC1wb3NpdGlvbjowIDMycHg7IiA6ICIiOwoJCQkJCXRyeSB7CgkJCQkJCWkoImJvZHkiKS5hbmltYXRlKHsKCQkJCQkJCSJwYWRkaW5nLXRvcCI6IGUKCQkJCQkJfSwgNTAwLCAic3dpbmciLCBmdW5jdGlvbigpIHsKCQkJCQkJCWkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pCgkJCQkJCX0pCgkJCQkJfSBjYXRjaCAoYSkgewoJCQkJCQlpKCJib2R5IikuYXR0cigic3R5bGUiLCBuKQoJCQkJCX0KCQkJCX0gZWxzZSAiYW1hem9uIiAhPSB0LnNpdGUgPyAobiA9IGkoImJvZHkiKS5hdHRyKCJzdHlsZSIpLCBuID0gbiArICIgd2lkdGg6MTAwJTttYXJnaW4tdG9wOiIgKyBlICsgIiAhaW1wb3J0YW50OyIsIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pKSA6IChuID0gaSgiYm9keSIpLmF0dHIoInN0eWxlIiksIG4gPSBuICsgIjttYXJnaW4tdG9wOiIgKyBlICsgIiAhaW1wb3J0YW50OyIsIGkoImJvZHkiKS5hdHRyKCJzdHlsZSIsIG4pKQoJCQl9OwoJCQl2YXIgQiA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoaykuZW1wdHkoKSwgaShrKS5hdHRyKCJzdHlsZSIsICJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7ei1pbmRleDo5OTk5OTk5OTk5ICFpbXBvcnRhbnQ7Iikuc2hvdygpLCAxICE9IHQucF9mb2xkICYmIGUuZXhwb3J0cy5mbG9hdF9ib2R5KCksIGkoaykuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCQkiY2xhc3MiOiB0Lm1iYXIgKyAiICBiamRhbmctbWFpbiIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1haW4iLAoJCQkJCQlzdHlsZTogImRpc3BsYXk6IiArICgxID09IHQucF9mb2xkID8gIm5vbmUiIDogImJsb2NrIikKCQkJCQl9KS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbmF2IiwKCQkJCQkJaWQ6IHQuZXh0TmFtZSArICItbWFpbi1uYXYiLAoJCQkJCQlzdHlsZTogIm92ZXJmbG93OiB2aXNpYmxlOyIKCQkJCQl9KSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCQlpZDogdC5sb2dvTmFtZSwKCQkJCQkJImNsYXNzIjogImxvZ28iCgkJCQkJfSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogImd3ZF9iZyIKCQkJCQl9KSkpKSwgaShrKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbWluaSIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1pbmkiLAoJCQkJCQlzdHlsZTogIndpZHRoOiA2MHB4OyBsZWZ0OiAwcHg7ZGlzcGxheTpub25lOyIKCQkJCQl9KS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItbmF2IG1haW4iLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1tYWluLW5hdiIKCQkJCQl9KS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCQkiY2xhc3MiOiB0LmV4dEJyYW5kICsgIl9sb2dvIGd3ZF9iZyIsCgkJCQkJCWhyZWY6ICJodHRwOi8vd3d3LiIgKyB0LmV4dE5hbWUgKyAiLmNvbSIsCgkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQl9KSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogInVuZm9sZF9wb2ludGVyIiwKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IiwKCQkJCQkJdGl0bGU6ICLngrnlh7vlsZXlvIAiLAoJCQkJCQlpZDogdC5leHRCcmFuZCArICJfZm9sZF9wb2ludGVyIgoJCQkJCX0pKSkpLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2ZvbGRfcG9pbnRlciIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItbWluaSIpLmhpZGUoKSwgZS5leHBvcnRzLmZsb2F0X2JvZHkoKSwgci5tYWluYmFyZm9sZCgwKSwgaighMCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuc2hvdygpCgkJCQkJfSkKCQkJCX0sCgkJCQlqID0gZnVuY3Rpb24oZSkgewoJCQkJCWUgPyAoImRpYXBlcnMiID09IHQuc2l0ZSAmJiBpKCIjdWJlcm5hdi13cmFwcGVyIikuY3NzKCJ0b3AiLCAiMzJweCIpLCAicm9zZW9ubHkiID09IHQuc2l0ZSAmJiBpKCJib2R5Pi5oZWFkZXIiKS5jc3MoInRvcCIsICIzMnB4IiksICJhcHBsZSIgPT0gdC5zaXRlICYmIGkoIi5sb2NhbG5hdi13cmFwcGVyLCAuYXNlLXN0aWNreSIpLmFkZENsYXNzKHQuZXh0QnJhbmQgKyAiX3RvcCIpLCAieW91MTYzIiA9PSB0LnNpdGUgJiYgaSgiI2pzLWZ1bmNUYWIiKS5hZGRDbGFzcyh0LmV4dEJyYW5kICsgIl90b3AiKSwgImthbHVsaSIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCSJmaXhlZCIgPT0gaSgiLm1lbnUiKS5jc3MoInBvc2l0aW9uIikgJiYgaSgiLm1lbnUiKS5jc3MoInRvcCIsICIzNHB4IikKCQkJCQl9KSwgKCJqdW1laWdsb2JhbCIgPT0gdC5zaXRlIHx8ICJmZW5ncXUiID09IHQuc2l0ZSB8fCAianVtZWkiID09IHQuc2l0ZSB8fCAibGVmZW5nIiA9PSB0LnNpdGVyIHx8ICJ3b21haSIgPT0gdC5zaXRlIHx8ICJ0YW9iYW8tOTUwOTUiID09IHQuc2l0ZSB8fCAidG1hbGwiID09IHQuc2l0ZSkgJiYgaSgiYm9keSIpLmFkZENsYXNzKCJnd2RfdG9wIiksICJ6aG9uZ2ppdSIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCSJmaXhlZCIgPT0gaSgiLmNvbnRfaGVhZCIpLmNzcygicG9zaXRpb24iKSA/IGkoIi5jb250X2hlYWQiKS5jc3MoInRvcCIsICIzNXB4IikgOiBpKCIuY29udF9oZWFkIikuY3NzKCJ0b3AiLCAiMHB4IiksICJmaXhlZCIgPT0gaSgiLnRhYi10IikuY3NzKCJwb3NpdGlvbiIpID8gaSgiLnRhYi10IikuY3NzKCJ0b3AiLCAiMzVweCIpIDogaSgiLnRhYi10IikuY3NzKCJ0b3AiLCAiMHB4IikKCQkJCQl9KSwgInNoYW5ncGluIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJaSgiLnNwVGFic19tZW51X25ld19maXhlZCIpLmNzcygidG9wIiwgIjM1cHgiKQoJCQkJCX0pLCAiMzYwYnV5IiA9PSB0LnNpdGUgPyAoaSgiI3Byb2R1Y3QtZGV0YWlsIC5wcm9kdWN0LWRldGFpbC1uYXYtZml4ZWQiKS5hZGRDbGFzcygiZ3dkX3RvcCIpLCBpKCJodG1sIikuYWRkQ2xhc3MoImd3ZF90b3AiKSkgOiBpKCJib2R5IikuYWRkQ2xhc3MoImd3ZF90b3AiKSwgInlpaGFvZGlhbiIgPT0gdC5zaXRlICYmIGkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoImJvZHkiKS5oYXNDbGFzcygiZ3dkX3RvcCIpICYmIGkoIi5haXJfaGlkZSIpLmNzcyh7CgkJCQkJCQl0b3A6ICIzNXB4IgoJCQkJCQl9KQoJCQkJCX0pLCAieWFvMTIzIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKCIuc3Vja3RvcCIpLmNzcygidG9wIik7CgkJCQkJCSIwcHgiID09IGUgJiYgaSgiYm9keSIpLmhhc0NsYXNzKCJnd2RfdG9wIikgJiYgaSgiLnN1Y2t0b3AiKS5jc3MoewoJCQkJCQkJdG9wOiAiMzVweCIKCQkJCQkJfSkKCQkJCQl9KSwgIm1laWNpIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJImZpeGVkIiA9PSBpKCIucHJvVGFiX20iKS5jc3MoInBvc2l0aW9uIikgJiYgaSgiYm9keSIpLmhhc0NsYXNzKCJnd2RfdG9wIikgJiYgaSgiLnByb1RhYl9tIikuY3NzKHsKCQkJCQkJCXRvcDogIjM1cHgiCgkJCQkJCX0pCgkJCQkJfSksICJodGMiID09IHQuc2l0ZSAmJiBpKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewoJCQkJCQkiZml4ZWQiID09IGkoIiN0b3AtYmFyIikuY3NzKCJwb3NpdGlvbiIpICYmICIwcHgiID09IGkoIiN0b3AtYmFyIikuY3NzKCJ0b3AiKSAmJiBpKCJib2R5IikuaGFzQ2xhc3MoImd3ZF90b3AiKSAmJiBpKCIjdG9wLWJhciIpLmNzcyh7CgkJCQkJCQl0b3A6ICIzNXB4IgoJCQkJCQl9KQoJCQkJCX0pLCAiYm9xaWkiID09IHQuc2l0ZSAmJiBpKCIudG9wX2F1dG8iKS5jc3MoewoJCQkJCQlwb3NpdGlvbjogInJlbGF0aXZlIiwKCQkJCQkJdG9wOiAiLTM1cHgiCgkJCQkJfSksICJzYXNhIiA9PSB0LnNpdGUgJiYgaSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKCQkJCQkJImZpeGVkIiA9PSBpKCIjcHJvZHVjdC10YWdzIikuY3NzKCJwb3NpdGlvbiIpICYmICIwcHgiID09IGkoIiNwcm9kdWN0LXRhZ3MiKS5jc3MoInRvcCIpICYmIGkoImJvZHkiKS5oYXNDbGFzcygiZ3dkX3RvcCIpICYmIChpKCIjcHJvZHVjdC10YWdzIikuYWRkQ2xhc3MoImd3ZF90b3BfaW1wb3J0YW50IiksIGkoIiNwcm9kdWN0LXRhZ3MiKS5jc3MoewoJCQkJCQkJdG9wOiAiMzVweCIKCQkJCQkJfSkpCgkJCQkJfSksICJ2aXZvIiA9PSB0LnNpdGUgJiYgaSgiI2hlYWRlciIpLmF0dHIoInN0eWxlIiwgInRvcDogMHB4IWltcG9ydGFudCIpLCAic2VwaG9yYWNwcyIgPT0gdC5zaXRlICYmIChpKCIuZ3dkX3RvcCIpLmNzcygicGFkZGluZy10b3AiLCAiMCIpLCBpKCIjdG9wRml4IikuYWRkQ2xhc3MoImd3ZF90b3BfaW1wb3J0YW50IikpLCAibmV3ZWdnIiA9PSB0LnNpdGUgJiYgaSgiYm9keSIpLmFkZENsYXNzKCJnd2QtbmV3ZWdnIikpIDogKCJkaWFwZXJzIiA9PSB0LnNpdGUgJiYgaSgiI3ViZXJuYXYtd3JhcHBlciIpLmNzcygidG9wIiwgIjBweCIpLCAicm9zZW9ubHkiID09IHQuc2l0ZSAmJiBpKCJib2R5Pi5oZWFkZXIiKS5jc3MoInRvcCIsICIwcHgiKSwgImFwcGxlIiA9PSB0LnNpdGUgJiYgaSgiLmxvY2FsbmF2LXdyYXBwZXIsIC5hc2Utc3RpY2t5IikucmVtb3ZlQ2xhc3ModC5leHRCcmFuZCArICJfdG9wIiksICJ5b3UxNjMiID09IHQuc2l0ZSAmJiBpKCIjanMtZnVuY1RhYiIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiX3RvcCIpLCAiMzYwYnV5IiA9PSB0LnNpdGUgPyAoaSgiI3Byb2R1Y3QtZGV0YWlsIC5wcm9kdWN0LWRldGFpbC1uYXYtZml4ZWQiKS5yZW1vdmVDbGFzcygiZ3dkX3RvcCIpLCBpKCJodG1sIikucmVtb3ZlQ2xhc3MoImd3ZF90b3AiKSkgOiBpKCJib2R5IikucmVtb3ZlQ2xhc3MoImd3ZF90b3AiKSkKCQkJCX0sCgkJCQlDID0gZnVuY3Rpb24obikgewoJCQkJCWlmIChpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1uYXYiKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6ICJmZWVkYmFjay1jbG9zZSIsCgkJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiCgkJCQkJfSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJaHJlZjogImphdmFzY3JpcHQ6IiwKCQkJCQkJdGFyZ2V0OiAiX3NlbGYiLAoJCQkJCQkiY2xhc3MiOiB0LmV4dEJyYW5kICsgIl9jbG9zZSIsCgkJCQkJCXRpdGxlOiAi5YWz6Zet6LSt54mp5YWaIgoJCQkJCX0pLmFwcGVuZChpKCc8ZW0gY2xhc3M9Im5ld2ItYmciPjwvZW0+JykpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQlyLm1haW5iYXJmb2xkKDEpLCBlLmV4cG9ydHMuY2xvc2UoKSwgYS5maXhfc2ZiZXN0X2Nsb3NlKCkKCQkJCQl9KSkuYXBwZW5kKGkoIjxhPiIsIHsKCQkJCQkJaHJlZjogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgKyAiJmZyb21fZGV2aWNlPSIgKyB3KHQuZnJvbV9kZXZpY2UpICsgIiZidHlwZT0iICsgKHQuYnR5cGUgPyB0LmJ0eXBlIDogIiIpLAoJCQkJCQkiY2xhc3MiOiB0LmV4dE5hbWUgKyAiLXN1Z2dlc3QiLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1zdWdnZXN0IiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJdGl0bGU6ICLmj5Dlu7rorq7miJblkJDmp73pgYfliLDnmoTpl67popgiCgkJCQkJfSkuYXBwZW5kKGkoJzxlbSBjbGFzcz0ibmV3Yi1iZyI+PC9lbT48c3Bhbj7lj43ppog8L3NwYW4+JykpKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCQlocmVmOiAiamF2YXNjcmlwdDoiLAoJCQkJCQkiY2xhc3MiOiB0LmV4dE5hbWUgKyAiLWljb24gZmF2b3IiLAoJCQkJCQlpZDogdC5leHROYW1lICsgIi1mYXZvciIsCgkJCQkJCXRpdGxlOiAiIiA9PSB0LmVtYWlsID8gIuaUtuiXj+W5tuiOt+W+l+mZjeS7t+aPkOmGkiIgOiAi5oiR55qE5pS26JeP5aS5IiwKCQkJCQkJdGFyZ2V0OiAiX3NlbGYiCgkJCQkJfSkuYXBwZW5kKCI8c3BhbiBjbGFzcz0naGFzQ29sb3IgbmV3Yi1iZyc+PC9zcGFuPjxiIHRpdGxlPSfmlLbol4/lubbojrflvpfpmY3ku7fmj5DphpInPuaIkeeahOaUtuiXj+WkuTwvYj4iKSkpLCBuICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBuLmNvbGxlY3RJbmZvICYmICh0LmNvbGxlY3RJbmZvID0gbi5jb2xsZWN0SW5mbywgdC5zaXRlICYmIHQuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+PSAwKSkgewoJCQkJCQl2YXIgbyA9ICIiOwoJCQkJCQlvID0gaSgiI0pfUHJvbW9Cb3g+c3Ryb25nIikudGV4dCgpLCAiIiA9PSBvICYmIChvID0gaSgiI0pfUHJvbW9QcmljZSBzdHJvbmciKS50ZXh0KCksICIiICE9IG8gJiYgKG8gPSBvLnN1YnN0cigxKSkpLCAiIiAhPSBvICYmIChvLmluZGV4T2YoIiAtIikgPiAwICYmIChvID0gby5zdWJzdHIoMCwgby5pbmRleE9mKCIgLSIpKSksIHQuY29sbGVjdEluZm8ucHJpY2UgPSBvKQoJCQkJCX0KCQkJCQl0cnkgewoJCQkJCQkidGFvYmFvIiA9PSB0LnNpdGUgfHwgInRtYWxsIiA9PSB0LnNpdGUgPyBuICYmIG4uY29sbGVjdEluZm8uZHBfaWQgJiYgbi5leGFjdF9hcnIudGFvYmFvX3NhbWVfaWQgJiYgbi5jb2xsZWN0SW5mby5kcF9pZCA9PSBuLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCAmJiBuLmNvbGxlY3RJbmZvLnByaWNlICYmIHBhcnNlSW50KG4uY29sbGVjdEluZm8ucHJpY2UpID4gMCB8fCBpKCIjIiArIHQuZXh0TmFtZSArICItZmF2b3ItZGV0YWlsIC5hZGQiKS5yZW1vdmUoKSA6ICghbiB8fCBuLm5vdyAmJiAiIiA9PSBuLm5vdy5ub3dfZHBfaWQpICYmIGkoIiMiICsgdC5leHROYW1lICsgIi1mYXZvci1kZXRhaWwgLmFkZCIpLnJlbW92ZSgpCgkJCQkJfSBjYXRjaCAocykgewoJCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgcwoJCQkJCX0KCQkJCX0sCgkJCQlTID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAnPGRpdiBpZD0iJyArIHQuZXh0TmFtZSArICctbWFpbi1jb250ZW50cyIgY2xhc3M9ImFjY3VyYXRlIGNvbnRlbnRzICI+IDwvZGl2Pic7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tbmF2IikuYXBwZW5kKGcuY29tcGlsZShlKSgpKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlKSB7CgkJCQlCKCksIHooKSwgQyhlKTsKCQkJCXZhciBhID0gbig3NCkuaW5pdCgpLAoJCQkJCXIgPSAhMDsKCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluLW5hdiIpLmFwcGVuZChpKCI8ZGl2PiIsIHsKCQkJCQlpZDogdC5leHROYW1lICsgIi1iYXItaWNvbnMiLAoJCQkJCSJjbGFzcyI6ICJpY29ucyBwb3NfciIKCQkJCX0pLmFwcGVuZChpKCI8YT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaCBuZXdiLWJnIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi1zZWFyY2giLAoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJdGl0bGU6IHIgPyAi5Y675reY5a6d5om+5a6d6LSdIiA6ICLljrvotK3nianlhZrmkJzntKIiLAoJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCX0pLmNsaWNrKGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbCgpOwoJCQkJCWlmIChuID0gaS50cmltKG4pLCAxID09IGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmF0dHIoImRlZmF1bHQiKSkgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikudmFsKCIiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IikuYXR0cigiZGVmYXVsdCIsIDApLCBlLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJZWxzZSBpZiAoIiIgIT0gbikgewoJCQkJCQlpZiAocikgdmFyIGEgPSAiaHR0cDovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCQllbHNlIGEgPSAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vc2VhcmNoP3NfcHJvZHVjdD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCQlpKHRoaXMpLmF0dHIoImhyZWYiLCBhKQoJCQkJCX0gZWxzZSBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiKS5mb2N1cygpLCBlLnByZXZlbnREZWZhdWx0KCkKCQkJCX0pKSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLWJhci1zZWFyY2giLAoJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItc2VhcmNoLWZvcm0iCgkJCQl9KS5hcHBlbmQoaSgiPGZvcm0+IiwgewoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLXNlYXJjaC1mb3JtIiwKCQkJCQlhY3Rpb246IHIgPyAiaHR0cDovL3MudGFvYmFvLmNvbS9zZWFyY2giIDogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL3NlYXJjaCIsCgkJCQkJbWV0aG9kOiAiZ2V0IiwKCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQl9KS5hcHBlbmQoaSgiPHVsPiIsIHsKCQkJCQlpZDogInNlYXJjaF93ZWJzaXRlIiwKCQkJCQkiY2xhc3MiOiAibm9yaWdodCIKCQkJCX0pLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuWbvee+jjwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+5LiA5Y+35bqXPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1faGlkZGVuIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7lvZPlvZM8L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuS6mumprOmAijwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+6IuP5a6BPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1faGlkZGVuIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7kuqzkuJw8L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLnByZXBlbmQoaSgiPGxpPiIsIHsKCQkJCQkiY2xhc3MiOiAic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iCgkJCQl9KS5odG1sKCI8ZGl2PjxzcGFuIGNsYXNzPSd3ZWJzaXRlX2l0ZW0nPuWUr+WTgeS8mjwvc3Bhbj48c3BhbiBjbGFzcz0nYXJyb3cnPjwvc3Bhbj48L2Rpdj4iKSkucHJlcGVuZChpKCI8bGk+IiwgewoJCQkJCSJjbGFzcyI6ICJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIKCQkJCX0pLmh0bWwoIjxkaXY+PHNwYW4gY2xhc3M9J3dlYnNpdGVfaXRlbSc+6LSt54mp5YWaPC9zcGFuPjxzcGFuIGNsYXNzPSdhcnJvdyc+PC9zcGFuPjwvZGl2PiIpKS5wcmVwZW5kKGkoIjxsaT4iLCB7CgkJCQkJImNsYXNzIjogInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2hvdyBzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCAiICsgdC5leHRCcmFuZCArICItc2VhcmNoLWFycm93LWRvd24gIgoJCQkJfSkuaHRtbCgiPGRpdj48c3BhbiBjbGFzcz0nd2Vic2l0ZV9pdGVtJz7mt5jlrp08L3NwYW4+PHNwYW4gY2xhc3M9J2Fycm93Jz48L3NwYW4+PC9kaXY+IikpLmNzcygiYm9yZGVyLXJpZ2h0LWNvbG9yIiwgIiNmZmYiKSkuYXBwZW5kKGkoIjxpbnB1dD4iLCB7CgkJCQkJaWQ6IHQuZXh0TmFtZSArICItc2VhcmNoLXByb2R1Y3QiLAoJCQkJCXR5cGU6ICJ0ZXh0IiwKCQkJCQluYW1lOiByID8gInEiIDogInNfcHJvZHVjdCIsCgkJCQkJdmFsdWU6IHIgPyAi5Y675reY5a6d5om+5a6d6LSdIiA6ICLljrvotK3nianlhZrmkJzntKIiLAoJCQkJCSJkZWZhdWx0IjogIjEiLAoJCQkJCXN0eWxlOiAiZmxvYXQ6bGVmdDsiLAoJCQkJCWRlZmF1bHRfdmFsOiByID8gIuWOu+a3mOWuneaJvuWunei0nSIgOiAi5Y676LSt54mp5YWa5pCc57SiIgoJCQkJfSkpLmFwcGVuZChpKCI8aW5wdXQ+IiwgewoJCQkJCXR5cGU6ICJoaWRkZW4iLAoJCQkJCW5hbWU6ICJmcm9tIiwKCQkJCQl2YWx1ZTogImJyb3dzZXIiCgkJCQl9KSkpKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tbmF2IikuYXBwZW5kKGkoJzxkaXYgaWQ9InJpZ2h0X2luZm8iIGNsYXNzPSJjb250ZW50cyI+PC9kaXY+JykpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1uYXYiKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJImNsYXNzIjogImFjY3VyYXRlIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi1iYXItY29tcGFyZSIKCQkJCX0pLmFwcGVuZChpKCI8ZGl2PiIsIHsKCQkJCQkiY2xhc3MiOiAiY29udGVudHMiLAoJCQkJCWlkOiB0LmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiCgkJCQl9KSkpLCBpKCIjIiArIHQuZXh0TmFtZSArICItc2VhcmNoIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJCXYoImNsaWNrOm1haW46c2VhcmNoIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mkJzntKLngrnlh7siKQoJCQkJfSksIG8uaW5pdChlKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdG1hbGwtZHAiLAoJCQkJCXRhcmdldDogIl9zZWxmIiwKCQkJCQlzdHlsZTogImRpc3BsYXk6bm9uZSIsCgkJCQkJImNsYXNzIjogdC5leHROYW1lICsgIi10YWIiCgkJCQl9KS5hcHBlbmQoaSgiPHNwYW4+IiwgewoJCQkJCSJjbGFzcyI6ICJ0bWFsbC1pY29uIGd3ZF9iZyIKCQkJCX0pKS5hcHBlbmQoaSgiPHNwYW4+IiwgewoJCQkJCSJjbGFzcyI6ICJ0bWFsbF90ZXh0IgoJCQkJfSkudGV4dCgi5aSp54yrIikpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogImxvd2VzdCB0YW9iYW8gIiArIHQuZXh0QnJhbmQgKyAiLXByaWNlIgoJCQkJfSkpKS5hcHBlbmQoaSgiPGE+IiwgewoJCQkJCWhyZWY6ICJqYXZhc2NyaXB0OiIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdGFvYmFvLWRwIiwKCQkJCQl0YXJnZXQ6ICJfc2VsZiIsCgkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiLAoJCQkJCSJjbGFzcyI6IHQuZXh0TmFtZSArICItdGFiIgoJCQkJfSkuYXBwZW5kKGkoIjxzcGFuPiIsIHsKCQkJCQkiY2xhc3MiOiAidGFvYmFvLWljb24gZ3dkX2JnIgoJCQkJfSkpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogInRhb2Jhb190ZXh0IgoJCQkJfSkudGV4dCgi5reY5a6dIikpLmFwcGVuZChpKCI8c3Bhbj4iLCB7CgkJCQkJImNsYXNzIjogImxvd2VzdCB0YW9iYW8gIiArIHQuZXh0QnJhbmQgKyAiLXByaWNlIgoJCQkJfSkpKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQoaSgiPGRpdj4iLCB7CgkJCQkJImNsYXNzIjogInBhbmVsIHRhb2Jhby1jb21wYXJlIiwKCQkJCQlpZDogdC5leHROYW1lICsgIi10bWFsbC1kcC1kZXRhaWwiCgkJCQl9KSkuYXBwZW5kKGkoIjxkaXY+IiwgewoJCQkJCSJjbGFzcyI6ICJwYW5lbCB0YW9iYW8tY29tcGFyZSIsCgkJCQkJaWQ6IHQuZXh0TmFtZSArICItdGFvYmFvLWRwLWRldGFpbCIKCQkJCX0pKSwgcy5pbml0KGUpLCBuKDE3MSkuaW5pdCgpLCBuKDE3NCkuaW5pdCgpLCBsLmluaXQoZS5zaGFyZV9nb29kLCBlLm5vdyksIG4oMTQyKS5taW5pYmFyKCksIGMuaW5pdChlLm5vdywgdC51bmlvbiksIGQuYWRkUHJvbW8oZC5nZXRQcm9tb0RhdGEoZSkpLCAiYW1hem9uIiA9PT0gdC5zaXRlICYmIG4oMTc2KS5pbml0KHQubm93X2RwX2lkKTsKCQkJCXRyeSB7CgkJCQkJaC5pbml0KHQud2hlcmVfYnV5X2RwcywgdC5ub3dfZHBfaWQsICJ0b3AiKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0cnkgewoJCQkJCW4oMTgwKS5pbml0KGUpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJIiIgIT0gZS5leGFjdF9hcnIuaXNibiAmJiAodC5pc2JuID0gZS5leGFjdF9hcnIuaXNibiksIHAuc2hvdyhlLmV4YWN0X2Fyci5pc2JuLCAidG9wIik7CgkJCQl0cnkgewoJCQkJCXUucmVwbGFjZVF1YW4oZS5xdWFuKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0cnkgewoJCQkJCW0uaW5pdCgidG9wIikKCQkJCX0gY2F0Y2ggKGcpIHsKCQkJCQlpZiAodC5kZWJ1ZykgdGhyb3cgZwoJCQkJfQoJCQkJaWYgKCJhbWF6b24iID09IHQuc2l0ZSAmJiAodC53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSksIHRoaXMuc2V0X3BhbmVsX2hvdmVyX2V2ZW50KCksIGkoIi5wYW5lbC1ub3RpY2UiKS51bmJpbmQoKSwgdC5pbml0X2l0ZW1fbGlzdCgpLCBpKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkgewoJCQkJCXQudG9wUmVzaXplVGltZXIgJiYgY2xlYXJUaW1lb3V0KHQudG9wUmVzaXplVGltZXIpLCB0LnRvcFJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdC5zZXRfaXRlbV9hcmdzKCksIHQuc2V0X3BhZ2VfYXJncygpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPiAwID8gdC53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA6IHQud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWIyYy1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMzAyIC0gMiAqIGEuYjJjVHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWIyY19mdXp6eS1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMiAqIGEudHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcC1kZXRhaWwgLmFsbC1wcm9kdWN0cyIpLmNzcygid2lkdGgiLCB0LndpZHRoIC0gMiAqIGEudHVybnBXKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnJlY29tbWVuZCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHQud2lkdGggLSAyICogYS50dXJucFcpLCB0LmZpeFdpZHRoKCkKCQkJCQl9LCAzMDApCgkJCQl9KSwgdC5zZXRfaXRlbV9hcmdzKCksIHQuc2V0X3BhZ2VfYXJncygpLCAiYW1hem9uIiA9PSB0LnNpdGUgJiYgKHQud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiIpLmNzcygid2lkdGgiLCB0LndpZHRoKSksIHQubG9hZF9pbWFnZSgiYjJjIiwgMCwgdC5wYWdlX3NpemVfbWluaSksIHQubG9hZF9pbWFnZSgiYjJjX2Z1enp5IiwgMCwgYS5zaG93TGlzdE51bSksIHQubG9hZF9pbWFnZSgiYWxzb19idXkiLCAwLCB0LnBhZ2Vfc2l6ZSksICIiICE9IGUuZXhhY3RfYXJyLmlzYm4pIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLmV4YWN0X2Fyci5pc2JuKTsKCQkJCWVsc2UgaWYgKCIiICE9IGUuZXhhY3RfYXJyLmJyYW5kICYmICIiICE9IGUuZXhhY3RfYXJyLnR5cGUpIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChlLmV4YWN0X2Fyci5icmFuZCArICIgIiArIGUuZXhhY3RfYXJyLnR5cGUpOwoJCQkJZWxzZSB7CgkJCQkJdmFyIF8gPSAiIiAhPSBlLmV4YWN0X2Fyci5rZXl3b3JkcyA/IGUuZXhhY3RfYXJyLmtleXdvcmRzIDogZS5jb2xsZWN0SW5mby50aXRsZTsKCQkJCQkiIiA9PSBfICYmIChfID0gZS5ub3cuY3RpdGxlKSwgXyA9IF8gfHwgIiIsIGkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLnZhbChfLnJlcGxhY2UoLywvZywgIiAiKSkKCQkJCX0KCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIpLmF0dHIoImRlZmF1bHQiLCAwKSwgaSgiLiIgKyB0LmV4dE5hbWUgKyAiLW5vdGljZS1jbG9zZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCXkuZ2V0KHQuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfbm90aWNlJm5vdGljZT0iICsgdC5ub3RpY2UpLmRvbmUoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIi5wYW5lbC1ub3RpY2UiKS5oaWRlKCkKCQkJCQl9KQoJCQkJfSk7CgkJCQl0cnkgewoJCQkJCW4oMTI1KS5pbml0KGUubm93LnNpdGVfaWQpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJbigxODQpLmluaXQoKTsKCQkJCXRyeSB7CgkJCQkJdC5kY21FeHQgfHwgbigxODYpLmluaXQoZS5ub3cpCgkJCQl9IGNhdGNoIChnKSB7fQoJCQkJdHJ5IHsKCQkJCQl0LmRjbUV4dCB8fCBuKDE5MykuaW5pdCgpCgkJCQl9IGNhdGNoIChnKSB7CgkJCQkJaWYgKHQuZGVidWcpIHRocm93IGcKCQkJCX0KCQkJCXRyeSB7CgkJCQkJZi5pbnNlcnRTZXR0aW5nVmlldyhlKQoJCQkJfSBjYXRjaCAoZykgewoJCQkJCWlmICh0LmRlYnVnKSB0aHJvdyBnCgkJCQl9CgkJCQl0aGlzLmZpeE5hdGl2ZVRvcCgpLCB0LmZpeFdpZHRoKCksIGooITApLCAxID09IHQucF9mb2xkICYmIHRoaXMuY2xvc2UoKQoJCQl9LCBlLmV4cG9ydHMuc2V0X3BhbmVsX2hvdmVyX2V2ZW50ID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IHRoaXMsCgkJCQkJbiA9ICJtb3VzZWVudGVyIiwKCQkJCQlhID0gIm1vdXNlbGVhdmUiOwoJCQkJIm1zaWUiICE9IHQuYnJvd3Nlci5hZ2VudCAmJiAobiA9ICJtb3VzZW92ZXIiLCBhID0gIm1vdXNlb3V0IiksIGkoIiMiICsgdC5leHROYW1lICsgIi10cmVuZCIpLm9uKG4sIGZ1bmN0aW9uKCkgewoJCQkJCXYoImhvdmVyOm1haW46cHJpY2VUcmVuZCIpLCBiLmxvZygi5Li75bel5YW35qCP5Lu35qC86LaL5Yq/6byg5qCH5oKs5rWuIikKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItYjJjLWRwIikub24obiwgZnVuY3Rpb24oKSB7CgkJCQkJYi5sb2coIuS4u+W3peWFt+agj+avlOS7t+m8oOagh+aCrOa1riIpLCB2KCJob3ZlcjptYWluOmNvbXBhcmUiKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi10bWFsbC1kcCIpLm9uKG4sIGZ1bmN0aW9uKCkgewoJCQkJCXYoImhvdmVyOm1haW46Y29tcGFyZSIpLCBiLmxvZygi5Li75bel5YW35qCP5aSp54yr5q+U5Lu36byg5qCH5oKs5rWuIikKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItdGFvYmFvLWRwIikub24obiwgZnVuY3Rpb24oKSB7CgkJCQkJdigiaG92ZXI6bWFpbjpjb21wYXJlIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mt5jlrp3mr5Tku7fpvKDmoIfmgqzmta4iKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi1iMmMtZHAtZGV0YWlsIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJdigiY2xpY2s6bWFpbjpjb21wYXJlIiksIGIubG9nKCLkuLvlt6XlhbfmoI/mr5Tku7fngrnlh7siKQoJCQkJfSksIGkoIiMiICsgdC5leHROYW1lICsgIi10bWFsbC1kcC1kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2KCJjbGljazptYWluOmNvbXBhcmUiKSwgYi5sb2coIuS4u+W3peWFt+agj+WkqeeMq+avlOS7t+eCueWHuyIpCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLXRhb2Jhby1kcC1kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl2KCJjbGljazptYWluOmNvbXBhcmUiKSwgYi5sb2coIuS4u+W3peWFt+agj+a3mOWuneavlOS7t+eCueWHuyIpCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLmFjY3VyYXRlIC4iICsgdC5leHROYW1lICsgIi10YWIiKS5lYWNoKGZ1bmN0aW9uKG8pIHsKCQkJCQlpKHRoaXMpLmJpbmQobiwgZnVuY3Rpb24obikgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIyKSwgZS5tb3VzZV9vdmVyX2V2ZW50KGkodGhpcykpCgkJCQkJfSksIGkodGhpcykuYmluZChhLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lcjIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQudGFiX291dCgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbC1taW5pLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwtbWluaSIpLmhpZGUoKSwgY2xlYXJJbnRlcnZhbCh0LnRpbWVyMikKCQkJCQkJfSwgMzAwKQoJCQkJCX0pLCBpKHRoaXMpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIyKSwgImJsb2NrIiA9PSBpKCIjIiArIGkodGhpcykuYXR0cigiaWQiKSArICItZGV0YWlsIikuY3NzKCJkaXNwbGF5IikgPyAodC50YWJfb3V0KCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpKSA6IGUubW91c2Vfb3Zlcl9ldmVudChpKHRoaXMpKQoJCQkJCX0pCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLiIgKyB0LmV4dE5hbWUgKyAiLWljb24sIC4iICsgdC5leHROYW1lICsgIi1taW5pIC4iICsgdC5leHROYW1lICsgIi1pY29uIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQlpKHRoaXMpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24odCkgewoJCQkJCQl2YXIgbiA9IGkodGhpcykuYXR0cigiaWQiKTsKCQkJCQkJImJsb2NrIiAhPSBpKCIjIiArIG4gKyAiLWRldGFpbCIpLmNzcygiZGlzcGxheSIpID8gZS5tb3VzZV9jbGlja19ldmVudChpKHRoaXMpKSA6IGkoIiMiICsgbiArICItZGV0YWlsIikuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKQoJCQkJCX0pCgkJCQl9KSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaSh0aGlzKS5hdHRyKCJpZCIpOwoJCQkJCWUgPSBlLnN1YnN0cigwLCBlLmxlbmd0aCAtIDcpLCBpKHRoaXMpLmJpbmQobiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFySW50ZXJ2YWwodC50aW1lcjIpLCB0LnRhYl9pbihpKCIjIiArIGUpKSwgaSh0aGlzKS5zaG93KCkKCQkJCQl9KSwgaSh0aGlzKS5iaW5kKGEsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhckludGVydmFsKHQudGltZXIpLCB0LnRpbWVyMiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCQkJdC50YWJfb3V0KCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpLCBjbGVhckludGVydmFsKHQudGltZXIyKQoJCQkJCQl9LCAzMDApCgkJCQkJfSkKCQkJCX0pLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwtbWluaSwgLiIgKyB0LmV4dE5hbWUgKyAiLW1pbmkgLnBhbmVsLW1pbmkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCWkodGhpcykuYmluZChuLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyMiksIGkodGhpcykuc2hvdygpCgkJCQkJfSksIGkodGhpcykuYmluZChhLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lcjIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQudGFiX291dCgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwiKS5oaWRlKCksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbC1taW5pLCAuIiArIHQuZXh0TmFtZSArICItbWluaSAucGFuZWwtbWluaSIpLmhpZGUoKSwgY2xlYXJJbnRlcnZhbCh0LnRpbWVyMikKCQkJCQkJfSwgMzAwKQoJCQkJCX0pCgkJCQl9KQoJCQl9LCBlLmV4cG9ydHMuZml4TmF0aXZlVG9wID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlpKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspICJmaXhlZCIgPT0gaShlW25dKS5jc3MoInBvc2l0aW9uIikgPyAiYmxvY2siID09IGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuY3NzKCJkaXNwbGF5IikgPyBpKGVbbl0pLmNzcygidG9wIiwgMzIpIDogaShlW25dKS5jc3MoInRvcCIsIDApIDogaShlW25dKS5jc3MoInRvcCIsICJhdXRvIikKCQkJCQl9KQoJCQkJfQoJCQkJdmFyIG4gPSB0LnNpdGUsCgkJCQkJYSA9ICIiOwoJCQkJZm9yICh2YXIgbyBpbiB0aGlzLmZpeFRvcFBhdHRlcm4pIG8gPT0gbiAmJiAoYSA9IHRoaXMuZml4VG9wUGF0dGVybltvXSwgZShhKSkKCQkJfSwgZS5leHBvcnRzLmZpeFRvcFBhdHRlcm4gPSB7CgkJCQkiMzYwYnV5IjogWyIjcHJvLWRldGFpbC1oZCJdLAoJCQkJeWloYW9kaWFuOiBbIiNKX2ZpeGVkRGVzIl0sCgkJCQl6b2w6IFsiI2ZpeGVkVGFnTmF2Il0sCgkJCQl2aXBzaG9wOiBbIiNKX2J1eV90b3BiYXIiXSwKCQkJCSI1MWJ1eSI6IFsiI2luZm9fdGl0Il0sCgkJCQlkYW5nZGFuZzogWyIjYWxsX3RhYl9wYW5lbCJdLAoJCQkJZ29tZTogWyIjZml4dGFib3giXSwKCQkJCXRhb2JhbzogWyIjSl9UYWJCYXJXcmFwIl0sCgkJCQlsb2dpdGVjaDogWyJ1bC5wcm9kdWN0LWRldGFpbC10YWItbmF2Il0sCgkJCQlhcHBsZTogWyIjYWMtZ2xvYmFsbmF2Il0KCQkJfSwgZS5leHBvcnRzLnRoaXJkQmFyID0gZnVuY3Rpb24oKSB7CgkJCQlCKCksIHooKSwgQygpLCBTKCksIF8uaW5pdCgpLCB4LmluaXQoKSwgdS5ibGlua1BhZ2UodC5ocmVmKSwgbigxOTQpLmluaXQoKSwgbigxOTcpLmluaXQoKQoJCQl9LCBlLmV4cG9ydHMubW91c2Vfb3Zlcl9ldmVudCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXZhciBuID0gZS5hdHRyKCJpZCIpOwoJCQkJY2xlYXJJbnRlcnZhbCh0LnRpbWVyKSwgdC50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewoJCQkJCXQudGFiX291dCgpLCB0LnRhYl9pbihpKCIjIiArIG4pKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsIikuaGlkZSgpLCBpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbiAucGFuZWwtbWluaSwgLiIgKyB0LmV4dE5hbWUgKyAiLW1pbmkgLnBhbmVsLW1pbmkiKS5oaWRlKCksIGUuYWRkQ2xhc3MoInRhYm1zX2hvdmVyIiksIGkoIiMiICsgbiArICItZGV0YWlsIikuc2hvdygpLCBjbGVhckludGVydmFsKHQudGltZXIpCgkJCQl9LCAyMDApCgkJCX0sIGUuZXhwb3J0cy5tb3VzZV9jbGlja19ldmVudCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWNsZWFySW50ZXJ2YWwodC50aW1lciksIGNsZWFySW50ZXJ2YWwodC50aW1lcjIpOwoJCQkJdmFyIG4gPSBlLmF0dHIoImlkIik7CgkJCQl0LnRhYl9vdXQoKSwgdC50YWJfaW4oZSksIGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIC5wYW5lbCIpLmhpZGUoKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4gLnBhbmVsLW1pbmksIC4iICsgdC5leHROYW1lICsgIi1taW5pIC5wYW5lbC1taW5pIikuaGlkZSgpLCBpKCIjIiArIG4gKyAiLWRldGFpbCIpLnNob3coKQoJCQl9LCBlLmV4cG9ydHMuZGlzcGxheV9zZWFyY2hfYmFyX3RvcCA9IGZ1bmN0aW9uKGUpIHsKCQkJCXooKSwgXy5pbml0KCksIHguaW5pdCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBuKDYpLAoJCQkJCXQgPSB7fTsKCQkJCXJldHVybiB0LmJpbmRCZ2lmcmFtZSA9IGZ1bmN0aW9uKCkgewoJCQkJCWUuZm4uYmdpZnJhbWUgPSBmdW5jdGlvbigpIHsKCQkJCQkJcmV0dXJuIHRoaXMKCQkJCQl9LCBlLmZuLmJnSWZyYW1lID0gZS5mbi5iZ2lmcmFtZQoJCQkJfSwgdC5maXhfc2ZiZXN0X3RvcF9iYXIgPSBmdW5jdGlvbih0KSB7CgkJCQkJdmFyIG4gPSB0OwoJCQkJCWlmICgic2ZiZXN0IiA9PSBhLnNpdGUpIHRyeSB7CgkJCQkJCWlmICgibXNpZSIgIT0gYS5icm93c2VyLmFnZW50KSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWUoIiNmbG9hdCIpLmFuaW1hdGUoewoJCQkJCQkJCQkicGFkZGluZy10b3AiOiBuCgkJCQkJCQkJfSwgNTAwLCAic3dpbmciKQoJCQkJCQkJfSBjYXRjaCAoaSkgewoJCQkJCQkJCWUoIiNmbG9hdCIpLmNzcygidG9wIiwgbikKCQkJCQkJCX0KCQkJCQkJCW4gPSAiNjhweCIKCQkJCQkJfSBlbHNlIGUoIiNmbG9hdCIpLmNzcygidG9wIiwgbikKCQkJCQl9IGNhdGNoIChpKSB7CgkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBpCgkJCQkJfQoJCQkJCXJldHVybiBuCgkJCQl9LCB0LmZpeF9zZmJlc3RfY2xvc2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoInNmYmVzdCIgPT0gYS5zaXRlKSB0cnkgewoJCQkJCQlpZiAoc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWUoIiNmbG9hdCIpLmNzcyh7CgkJCQkJCQkJInBhZGRpbmctdG9wIjogIjBweCIKCQkJCQkJCX0pLCBlKCJib2R5IikuY3NzKCJwYWRkaW5nLXRvcCIsICIzNnB4IikKCQkJCQkJfSwgNTAxKSwgIm1zaWUiID09IGEuYnJvd3Nlci5hZ2VudCkgewoJCQkJCQkJZSgiYm9keSIpLmNzcygicGFkZGluZy10b3AiLCAiMzZweCIpOwoJCQkJCQkJdmFyIHQgPSBhLklFNiA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiAwOwoJCQkJCQkJZSgiI2Zsb2F0IikuY3NzKCJ0b3AiLCB0ICsgInB4IikKCQkJCQkJfQoJCQkJCX0gY2F0Y2ggKG4pIHsKCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IG4KCQkJCQl9CgkJCQl9LCB0CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKG4pIHsKCQkJCQlmb3IgKHZhciBpID0gYltuXSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKQoJCQkJCQlpZiAoZyhpW2FdKS5pcygiOnZpc2libGUiKSAmJiB0KCkpIHJldHVybiBoID0gbiwgdm9pZCBvKG0pOwoJCQkJCXYrKywgMTAgIT09IHYgJiYgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJZShuKQoJCQkJCX0sIDFlMykKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KCkgewoJCQkJCXZhciBlID0gITEsCgkJCQkJCXQgPSBhLnNpdGU7CgkJCQkJc3dpdGNoICh0KSB7CgkJCQkJCWNhc2UgIjM2MGJ1eSI6CgkJCQkJCQllID0gITA7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiZGFuZ2RhbmciOgoJCQkJCQkJZSA9ICEwOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgInN1bmluZyI6CgkJCQkJCQllID0gZygiI3FyQ29kZSIpLnRleHQoKS5pbmRleE9mKCLmiYvmnLrotK3kubAiKSA+IC0xID8gITAgOiBnKCIjcGhvbmVPcmRlckNvZGUiKS50ZXh0KCkuaW5kZXhPZigi5omL5py65LiT5Lqr5Lu3IikgPiAtMSAmJiBnKCIjcGhvbmVPcmRlckNvZGUiKS5pcygiOnZpc2libGUiKSA/ICEwIDogITE7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiNTFidXkiOgoJCQkJCQkJaWYgKGcoIiNzZWFfZGVzYyIpLnRleHQoKS5pbmRleE9mKCLmiYvmnLrkuJPkuqvku7ciKSA+IC0xKSBlID0gITA7CgkJCQkJCQllbHNlIGlmIChnKCIueHByaWNlIC5tLXFyY29kZSAudHh0IGVtIikudGV4dCgpLmluZGV4T2YoIuaJi+acuui0reS5sOecgSIpID4gLTEpIHsKCQkJCQkJCQlpZiAoZygiLnhwcmljZSAubS1xcmNvZGUgLnR4dCBlbSIpLnRleHQoKS5pbmRleE9mKCLvv6UwLjAwIikgPiAtMSkgcmV0dXJuICExOwoJCQkJCQkJCWUgPSAhMAoJCQkJCQkJfSBlbHNlIGUgPSAhMTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJnb21lIjoKCQkJCQkJCSLmiYvmnLrkuJPkuqsiID09IGcoIiNzaG91aml6aHVhbnhpYW5nX2JveCAuaGxfcmVkX2JnIikudGV4dCgpICYmIChlID0gITApOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgInlpaGFvZGlhbiI6CgkJCQkJCQllID0gZygiI3Byb2R1Y3RTdWJOYW1lIikudGV4dCgpLmluZGV4T2YoIuaJi+acuuerr+S4i+WNlSIpID4gLTEgPyAhMCA6ICExCgkJCQkJfQoJCQkJCXJldHVybiBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gaSgpIHsKCQkJCQlmb3IgKHZhciB0IGluIGIpIGEuc2l0ZSA9PT0gdCAmJiBlKHQpOwoJCQkJCXJldHVybiAwID09PSB2ID8gITEgOiB2b2lkIDAKCQkJCX0KCgkJCQlmdW5jdGlvbiBvKGUpIHsKCQkJCQl2YXIgdCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CgkJCQkJXy5nZXQoYS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1nb19tb2JpbGUmdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQodCkpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkiIiAhPT0gZS51cmwgJiYgMSA9PT0gZS5zdGF0dXMgJiYgKCJsdXlvdSIgPT0gYS5idHlwZSB8fCAianV6aSIgPT09IGEuZnJvbV9kZXZpY2UgPyAobChlLnVybCksIGMoZS51cmwpKSA6IGooZS51cmwpKQoJCQkJCX0pCgkJCQl9CgoJCQkJZnVuY3Rpb24gcigpIHsKCQkJCQlyZXR1cm4gIjM2MGJ1eSIgPT0gYS5zaXRlID8gITAgOiAiQWN0aXZlWE9iamVjdCIgaW4gd2luZG93ID8gITEgOiAhMAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlnKCIjYmpkX21fcHJpY2UiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQllID0gZyh0aGlzKS5jc3MoImNvbG9yIiksICJzdW5pbmciID09IGEuc2l0ZSB8fCBhLnNpdGUuaW5kZXhPZigic3VuaW5nIikgPiAtMSA/IGcodGhpcykuY3NzKCJjb2xvciIsICIjZmZmIikgOiBnKHRoaXMpLmNzcygiY29sb3IiLCAiIzAwMzM5OSIpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZyh0aGlzKS5jc3MoImNvbG9yIiwgZSkKCQkJCQl9KSwgZygiI2JqZF9tX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW4oMjYpKCJjbGljazptb2JpbGVfcHJpY2UiKSwgeC5sb2coIuaJi+acuuS4k+S6q+S7t+eCueWHuyIpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBsKGUpIHsKCQkJCQlpZiAoZSAmJiAiMzYwYnV5IiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gcCgpLAoJCQkJCQkJaSA9IG4oMTYwKTsKCQkJCQkJZygiI3N1bW1hcnktcHJpY2UgLmRkIikuZXEoMCkuYXBwZW5kKHcuY29tcGlsZShpKSh7CgkJCQkJCQl1cmw6IGQoZSksCgkJCQkJCQlwcmljZTogdCwKCQkJCQkJCW5ld19leHRlbnNpb246IGEubmV3X2V4dGVuc2lvbiwKCQkJCQkJCWV4dEJyYW5kOiBhLmV4dEJyYW5kCgkJCQkJCX0pKSwgZygiIyIgKyBhLmV4dEJyYW5kICsgIl9tb2JpbGVfcHJpY2UiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCW4oMjYpKCJjbGljazptb2JpbGVfcHJpY2VfMzYwYnV5IiksIHgubG9nKCLmiYvmnLrkuJPkuqvku7fngrnlh7syamQiKQoJCQkJCQl9KQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQlpZiAoZSkgewoJCQkJCQl2YXIgdCA9IHAoKSwKCQkJCQkJCW4gPSAi6LSt54mp5YWa5bCG5bim5oKo5YmN5b6A5omL5py654mI6aG16Z2i77yM5Lul5LiT5Lqr5Lu36LSt5Lmw5ZWG5ZOBIjsKCQkJCQkJYS5uZXdfZXh0ZW5zaW9uICYmIChuID0gIiIpOwoJCQkJCQl2YXIgaSwgbyA9IGtbaF07CgkJCQkJCWlmIChnLmlzQXJyYXkoeltoXSkpIHsKCQkJCQkJCWZvciAodmFyIHIgPSAwOyByIDwgeltoXS5sZW5ndGg7IHIrKykKCQkJCQkJCQlpZiAoZyh6W2hdW3JdKS5sZW5ndGggPiAwKSB7CgkJCQkJCQkJCWkgPSB6W2hdW3JdOwoJCQkJCQkJCQlicmVhawoJCQkJCQkJCX0KCQkJCQkJfSBlbHNlIGkgPSB6W2hdOwoJCQkJCQkiZGFuZ2RhbmciID09IGggfHwgInN1bmluZyIgPT0gaCB8fCAiMzYwYnV5IiA9PSBoIHx8ICIzNjBidXlfMSIgPT0gaCA/IGcoaSkuZXEoMCkuYWZ0ZXIody5jb21waWxlKG8pKHsKCQkJCQkJCXVybDogZChlKSwKCQkJCQkJCXByaWNlOiB0LAoJCQkJCQkJdGl0bGU6IG4KCQkJCQkJfSkpIDogZyhpKS5lcSgwKS5iZWZvcmUody5jb21waWxlKG8pKHsKCQkJCQkJCXVybDogZChlKSwKCQkJCQkJCXByaWNlOiB0LAoJCQkJCQkJdGl0bGU6IG4KCQkJCQkJfSkpLCB4LmxvZygi5bGV546w5omL5py65LiT5Lqr5Lu3IiksIHMoKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBkKGUpIHsKCQkJCQl2YXIgdCA9IGEudG9Nb2JpbGVVcmw7CgkJCQkJcmV0dXJuIHQgKyAiL3VuaW9uL2dvP3NpdGVfaWQ9IiArIHUuc2l0ZV9pZCArICImdGFyZ2V0X3VybD0iICsgZSArICImdW5pb249IiArIG0gKyAiJmNvbHVtbj16aHVhbnhpYW5nXyIgKyB1Lm5vd19kcF9pZAoJCQkJfQoKCQkJCWZ1bmN0aW9uIHAoKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQlpZiAoKCIzNjBidXkiID09IGggfHwgIjM2MGJ1eV8xIiA9PSBoKSAmJiAoZSA9IGcoeVtoXSkudGV4dCgpKSwgImRhbmdkYW5nIiA9PSBoICYmIChlID0gZyh5W2hdKS50ZXh0KCkpLCAieWloYW9kaWFuIiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gZygiI3Byb2R1Y3RTdWJOYW1lIikudGV4dCgpLm1hdGNoKC8oWzAtOS5dKynlhYMvKTsKCQkJCQkJdCAmJiAoZSA9ICLCpSIgKyB0WzFdKQoJCQkJCX0KCQkJCQlpZiAoIjUxYnV5IiA9PSBoKSB7CgkJCQkJCXZhciB0ID0gZygiI3NlYV9kZXNjIikudGV4dCgpLm1hdGNoKC/kuJPkuqvku7coWzAtOS5dKykvKTsKCQkJCQkJaWYgKHQpIGUgPSAiwqUiICsgdFsxXTsKCQkJCQkJZWxzZSB7CgkJCQkJCQl2YXIgbiA9IGEuZHAucHJpY2UsCgkJCQkJCQkJaSA9IGcoIi54cHJpY2UgLm0tcXJjb2RlIC50eHQgZW0iKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJCWkgJiYgKGkgPSBpWzBdLCBuID0gTnVtYmVyKG4pIC0gTnVtYmVyKGkpLCBlID0gIsKlIiArIG4pCgkJCQkJCX0KCQkJCQl9CgkJCQkJaWYgKCJzdW5pbmciID09IGgpIHsKCQkJCQkJdmFyIHQgPSBOdW1iZXIoZygiLnFyY29kZS1tYWluLXByaWNlIGVtIikudGV4dCgpKTsKCQkJCQkJaWYgKCIiICE9IHQpIHsKCQkJCQkJCXZhciBvID0gYS5kcC5wcmljZSwKCQkJCQkJCQllID0gKG8gLSB0KS50b1N0cmluZygpOyAtIDEgPT0gZS5pbmRleE9mKCIuIikgJiYgKGUgPSAiwqUiICsgZSArICIuMDAiKQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdmFyIHQgPSBnKCIjcGhvbmVPcmRlckNvZGUiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJCXQgJiYgKHQgPSB0WzBdKSwgdCAmJiAoZSA9ICLCpSIgKyB0KQoJCQkJCQl9CgkJCQkJfQoJCQkJCWlmICgiZ29tZSIgPT0gaCkgewoJCQkJCQl2YXIgciA9IGcoIiNzYXZlbW9uZXkiKS50ZXh0KCkubWF0Y2goL1swLTkuXSsvKTsKCQkJCQkJciAmJiAociA9IE51bWJlcihyWzBdKSB8fCAwKTsKCQkJCQkJdmFyIG8gPSBhLmRwLnByaWNlLAoJCQkJCQkJZSA9IChvIC0gcikudG9TdHJpbmcoKTsgLSAxID09IGUuaW5kZXhPZigiLiIpICYmIChlID0gIsKlIiArIGUgKyAiLjAwIikKCQkJCQl9CgkJCQkJcmV0dXJuIGUubWF0Y2goL1swLTldezV9LykgJiYgKGUgPSBlLnJlcGxhY2UoL1wuWzAtOV0rLywgIiIpKSwgZQoJCQkJfQoJCQkJdmFyIGgsIHUsIG0sIGYgPSB7fSwKCQkJCQlnID0gbig2KSwKCQkJCQlfID0gbig5KSwKCQkJCQl4ID0gbigxMyksCgkJCQkJdyA9IG4oMTYpLAoJCQkJCXYgPSAwLAoJCQkJCWIgPSB7CgkJCQkJCSIzNjBidXkiOiBbIiNwcm9tLW1idXkgLm1vYi1idXkiLCAiI20tcGlyY2UiXSwKCQkJCQkJeWloYW9kaWFuOiBbIiNwcm9kdWN0U3ViTmFtZSJdLAoJCQkJCQlkYW5nZGFuZzogWyIjbW9iaWxlX2V4Y2x1c2l2ZV9wcmljZSJdLAoJCQkJCQlzdW5pbmc6IFsiI3FyQ29kZSIsICIjcGhvbmVPcmRlckNvZGUiXSwKCQkJCQkJZ29tZTogWyIjc2hvdWppemh1YW54aWFuZ19ib3giXSwKCQkJCQkJIjUxYnV5IjogWyIjc2VhX2Rlc2MiXQoJCQkJCX0sCgkJCQkJeSA9IHsKCQkJCQkJIjM2MGJ1eSI6ICIjcHJvbS1tYnV5IC5KLW0tcHJpY2UiLAoJCQkJCQkiMzYwYnV5XzEiOiAiI20tcGlyY2UgLkotbS1wcmljZSIsCgkJCQkJCWRhbmdkYW5nOiAiI21vYmlsZV9wcmljZSIKCQkJCQl9LAoJCQkJCWsgPSB7CgkJCQkJCSIzNjBidXkiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQkiMzYwYnV5XzEiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQl5aWhhb2RpYW46ICc8YSBpZD0iYmpkX21fcHJpY2UiIGhyZWY9Int7dXJsfX0iIHRhcmdldD0iX2JsYW5rIiAgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7YmFja2dyb3VuZC1jb2xvcjogI2ZmZjRmMjtkaXNwbGF5OiBibG9jaztwYWRkaW5nLWxlZnQ6IDEwcHg7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nLAoJCQkJCQlkYW5nZGFuZzogJzxhIGlkPSJiamRfbV9wcmljZSIgaHJlZj0ie3t1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9yZWZlcnJlciIgdGl0bGU9Int7dGl0bGV9fSJzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojMDA1YWEwOyI+5peg6ZyA5omr56CB77yM55S16ISR5LiK5Lmf5Y+v5Lqr5Y+X5omL5py65LyY5oOg5Lu3ITwvYT4nLAoJCQkJCQlzdW5pbmc6ICc8YSBpZD0iYmpkX21fcHJpY2UiIGhyZWY9Int7dXJsfX0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcmVmZXJyZXIiIHRpdGxlPSJ7e3RpdGxlfX0ic3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7ZmxvYXQ6cmlnaHQ7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTVweDt3aWR0aDoxMTBweDtjb2xvcjogIzAwMzM5OTsiPuWJjeW+gOaJi+acuueJiOmhtemdoui0reS5sDwvYT4nLAoJCQkJCQkiNTFidXkiOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7ZGlzcGxheTogYmxvY2s7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nLAoJCQkJCQlnb21lOiAnPGEgaWQ9ImJqZF9tX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB0aXRsZT0ie3t0aXRsZX19InN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2NvbG9yOiMwNmM7ZGlzcGxheTogYmxvY2s7aGVpZ2h0OiAyNnB4O2xpbmUtaGVpZ2h0OiAyNnB4O2ZvbnQtc2l6ZTogMTNweDsiPuaJi+acuuS4k+S6q+S7t3t7cHJpY2V9fe+8jOeri+WNs+WJjeW+gOi0reS5sDwvYT4nCgkJCQkJfSwKCQkJCQl6ID0gewoJCQkJCQkiMzYwYnV5IjogWyIjbS1waXJjZSIsICIuSi1wcm9tLW1idXkiLCAiI3Byb20tb25lIl0sCgkJCQkJCXlpaGFvZGlhbjogIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYWN0aXZlX3lpaGFvZGlhbiIsCgkJCQkJCWRhbmdkYW5nOiAiI21vYmlsZV9leGNsdXNpdmVfcHJpY2UiLAoJCQkJCQlzdW5pbmc6IFsiI3FyQ29kZSAucXJjb2RlLW1haW4taW1nIiwgIi5waC1wcmljZS1xcmNvZGUgLnFyY29kZS1yZWdpb24iXSwKCQkJCQkJIjUxYnV5IjogIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYWN0aXZlXzUxYnV5IiwKCQkJCQkJZ29tZTogIiNzaG91aml6aHVhbnhpYW5nX2JveCIKCQkJCQl9OwoJCQkJZi5pbml0ID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCW0gPSB0LCB1ID0gZSwgcigpICYmIGkoKQoJCQkJfTsKCQkJCXZhciBCID0gZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IHAoKSwKCQkJCQkJCW4gPSAnPGxpIGNsYXNzPSJtb2JpbGVfcHJpY2UiPlxuICAgICAgICAgICAgICA8c3Bhbj7miYvmnLrkuJPkuqs8L3NwYW4+XG4gICAgICAgICAgICAgIDxhIGhyZWY9IicgKyBlICsgJyIgdGFyZ2V0PSJfYmxhbmsiPicgKyB0ICsgIjwvYT5cbiAgICAgICAgICAgIDwvbGk+IjsKCQkJCQkJZygiI2JkZXh0X21pbmliYXIgLnByb21vLWJveCB1bCIpLnByZXBlbmQoZyhuKSksIGcoIiNiZGV4dF9taW5pYmFyIC5wcm9tby1ib3giKS5zaG93KCksIGcoIi5iZGV4dC10b3B0YWJzIC5iZGV4dC1taW5pLWxvZ28sIC5iZGV4dC1taW5pLWNvbXBhcmUiKS5hZGRDbGFzcygiaGFzUHJvbW8iKQoJCQkJCX0sCgkJCQkJaiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkJImJhaWR1IiA9PT0gYS5mcm9tX2RldmljZSA/IEIoZSkgOiBDKGUpCgkJCQkJfSwKCQkJCQlDID0gZnVuY3Rpb24oZSkgewoJCQkJCQlpZiAoIjM2MGJ1eSIgIT09IGEuc2l0ZSAmJiAoKCIzNjBidXkiICE9IGEuc2l0ZSB8fCAibWlfbmV3IiA9PSBhLmZyb21fZGV2aWNlKSAmJiAoZSA9IGQoZSkpLCBlKSkgewoJCQkJCQkJdmFyIHQgPSBwKCksCgkJCQkJCQkJbiA9ICc8bGkgY2xhc3M9ImxpXzAiIGRhdGEtdHlwZT0ibW9iIj48YSBocmVmPSInICsgZSArICciIHRpdGxlPSLotK3nianlhZrlsIbluKbmgqjliY3lvoDmiYvmnLrniYjpobXpnaLvvIzku6XkuJPkuqvku7fotK3kubDllYblk4EiIHRhcmdldD0iX2JsYW5rIiBpZD0iJyArIGEuZXh0QnJhbmQgKyAnX21vYmlsZV9wcmljZSIgcmVsPSJub3JlZmVycmVyIj48c3BhbiBjbGFzcz0ibW9iaWxlX3RpdGxlIiA+5LiT5Lqr5Lu36LSt5LmwPC9zcGFuPjxzcGFuIGNsYXNzPSJtb2JpbGVfbnVtIj4nICsgdCArICI8L3NwYW4+Pj48L2E+PC9saT4iOwoJCQkJCQkJZygiLnByb21vX2JveF9sZWZ0IHVsIikucHJlcGVuZChnKG4pKTsKCQkJCQkJCWZvciAodmFyIGkgPSBnKCIucHJvbW9fYm94X2xlZnQgdWwgbGkiKSwgbyA9IGkubGVuZ3RoLCByID0gMDsgbyA+IHI7IHIrKykgaS5lcShyKS5hdHRyKCJjbGFzcyIsICJsaV8iICsgcik7CgkJCQkJCQkzID4gbyA/IChnKCIjIiArIGEuZXh0QnJhbmQgKyAiX3dpc2hsaXN0X2RpdiIpLmFkZENsYXNzKCJvbmVsaW5lIiksIGcoIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCAxID09IG8gJiYgZygiLnByb21vX3NodXhpYW4iKS5oaWRlKCkpIDogZygiIyIgKyBhLmV4dEJyYW5kICsgIl93aXNobGlzdF9kaXYiKS5yZW1vdmVDbGFzcygib25lbGluZSIpLmFkZENsYXNzKCJ0d29saW5lcyIpLCB4LmxvZygi5paw54mI5bWM5YWl5omL5py65LiT5Lqr5Lu35bGV546wIiksIGcoIiMiICsgYS5leHRCcmFuZCArICJfbW9iaWxlX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJeC5sb2coIuaWsOeJiOW1jOWFpeaJi+acuuS4k+S6q+S7t+eCueWHuyIpCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfTsKCQkJCXJldHVybiBmCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxhIGlkPSJ7e2V4dEJyYW5kfX1fbW9iaWxlX3ByaWNlIiBocmVmPSJ7e3VybH19IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub3JlZmVycmVyIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX10aXRsZT0i6LSt54mp5YWa5bCG5bim5oKo5YmN5b6A5omL5py654mI6aG16Z2i77yM5Lul5LiT5Lqr5Lu36LSt5Lmw5ZWG5ZOBXG4iIHt7L2lmfX0+XG4gIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbXByaWNlX3RpdGxlIj7ngrnmraTkuJPkuqvku7fotK3kubA8L3NwYW4+XG4gIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fbXByaWNlX251bSI+e3twcmljZX19PC9zcGFuPlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIGEje3tleHRCcmFuZH19X21vYmlsZV9wcmljZSB7XG4gICAgICB3aWR0aDogMTMycHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICBzcGFuLnt7ZXh0QnJhbmR9fV9tcHJpY2VfdGl0bGUge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDk0cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTY4Y2RmO1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgc3Bhbi57e2V4dEJyYW5kfX1fbXByaWNlX3RpdGxlOmhvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwNzFjNjtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgc3Bhbi57e2V4dEJyYW5kfX1fbXByaWNlX251bSB7XG4gICAgICBjb2xvcjogI2U0MzkzYztcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9hPicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKGUpIHsKCQkJCQlpZiAoImx1eW91IiA9PSBhLmJ0eXBlICYmIDAgIT0gYS5zaG93X3Byb21vICYmICgibWF4dGhvbiIgIT09IGEuZnJvbV9kZXZpY2UgfHwgIShsb2NhdGlvbi5ob3N0LmluZGV4T2YoInRhb2JhbyIpID4gLTEgfHwgbG9jYXRpb24uaG9zdC5pbmRleE9mKCJ0bWFsbCIpID4gLTEpKSkgewoJCQkJCQl2YXIgdCA9IGEuc2F2ZV9wcm9tb19sZW4sCgkJCQkJCQluID0gW107CgkJCQkJCWlmIChlLnRvdGFsID4gMCAmJiAzID4gdCkgewoJCQkJCQkJdHJ5IHsKCQkJCQkJCQlmb3IgKHZhciBpID0gZS5wcm9kdWN0cywgciA9IGEuaHJlZi5pbmRleE9mKCJ0bWFsbC5jb20iKSA+PSAwID8gInRtYWxsIiA6IGEuc2l0ZSwgcyA9IG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0XyIgKyByKS5sZW5ndGggPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2JyYW5kX2xheW91dF8iICsgcikuZW1wdHkoKSA6IG8oIjxkaXY+IiwgewoJCQkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fYnJhbmRfbGF5b3V0XyIgKyByLAoJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9wcm9tb19icmFuZF9sYXlvdXQiCgkJCQkJCQkJfSksIGQgPSAwOyBkIDwgaS5sZW5ndGggJiYgIShkID49IDMgLSB0KTsgZCsrKSB7CgkJCQkJCQkJCW4ucHVzaChpW2RdLnByb21vX2lkKTsKCQkJCQkJCQkJdmFyIHAgPSBvKCI8cD4iLCB7CgkJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8tYnJhbmQtcCIsCgkJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQkJfSksCgkJCQkJCQkJCQloID0gImJyYW5kIiA9PSBlLl9mcm9tZSA/IGlbZF0uc2l0ZV9uYW1lICsgJyAiJyArIGlbZF0udGl0bGUgKyAnIiAnICsgaVtkXS5rZXl3b3JkcyArICIgIiArIGlbZF0uZW5kX3RpbWUuc3BsaXQoIiAiKVswXSArICLnu5PmnZ8iIDogaVtkXS5hX3RpdGxlOwoJCQkJCQkJCQlwLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1wcm9tby1icmFuZC1jbGljayIsCgkJCQkJCQkJCQlocmVmOiBpW2RdLnVybCwKCQkJCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQkJCQl0aXRsZTogaCwKCQkJCQkJCQkJCXByb21vaWQ6IGlbZF0ucHJvbW9faWQKCQkJCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpdGUtbmFtZSIsCgkJCQkJCQkJCQlzdHlsZTogaVtkXS5zaXRlX25hbWUubGVuZ3RoID49IDUgPyAicGFkZGluZy1yaWdodDoxMHB4OyIgOiAiIiwKCQkJCQkJCQkJCXByb21vaWQ6IGlbZF0ucHJvbW9faWQKCQkJCQkJCQkJfSkudGV4dChpW2RdLnNpdGVfbmFtZSkuYXBwZW5kKG8oIjxiPiIsIHsKCQkJCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLXNpdGUtbmFtZS1yaWdodCIKCQkJCQkJCQkJfSkudGV4dCgi77yaIikpKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8ta2V5d29yZHMiLAoJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQl9KS50ZXh0KGlbZF0ua2V5d29yZHMpKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvbW8tdGl0bGUiLAoJCQkJCQkJCQkJcHJvbW9pZDogaVtkXS5wcm9tb19pZAoJCQkJCQkJCQl9KS50ZXh0KGlbZF0udGl0bGUpKSksIHMuYXBwZW5kKHApCgkJCQkJCQkJfQoJCQkJCQkJfSBjYXRjaCAodSkgewoJCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyB1CgkJCQkJCQl9CgkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiLXByb21vLWJyYW5kLXAiKS5vbigiY2xpY2siLCBmdW5jdGlvbihlKSB7CgkJCQkJCQkJcmV0dXJuIGwoImNsaWNrOm1pbmk6cHJvbW86IiArIGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoInByb21vaWQiKSksIGMubG9nKCLltYzlhaXkv4PplIDmtLvliqjngrnlh7siKSwgITAKCQkJCQkJCX0pLCBjLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo5bGV546wIiksIGwoInRyYWNrOm1pbmk6cHJvbW86IiArIG4uam9pbigiLCIpKQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHQodCwgbikgewoJCQkJCXZhciBvID0gbnVsbDsKCQkJCQl0LnRvdGFsID4gMCA/ICh0Ll9mcm9tZSA9ICJicmFuZCIsIG8gPSB0KSA6IG8gPSBudWxsICE9IG4gPyBuIDogewoJCQkJCQl0b3RhbDogMCwKCQkJCQkJcHJvZHVjdHM6IFtdCgkJCQkJfSwgImx1eW91IiA9PSBhLmJ0eXBlID8gKGUobyksIGkodC5icmFuZF9pZCwgdC5icmFuZCkpIDogMCAhPSBkLmdldCgic2hvd19wcm9tbyIpICYmIG0obyksIHMuYXV0b0FkZEZhdm9yKCkKCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUsIHQpIHsKCQkJCQllICYmICFhLmRwSXNCb29rICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5hdHRyKHsKCQkJCQkJYnJhbmRJZDogZSwKCQkJCQkJYWN0aW9uVHlwZTogMQoJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGkgPSBvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKSwKCQkJCQkJCXIgPSB7fSwKCQkJCQkJCXMgPSAi5ZOB54mM54m55Y2W5o+Q5YmN55+l6YGTIjsKCQkJCQkJMSA9PSBpLmF0dHIoImFjdGlvblR5cGUiKSA/IChyLmxvYWRNc2cgPSAi5q2j5Zyo5YWz5rOoLi4uIiwgci5hY3Rpb24gPSAiYWRkIikgOiAoci5sb2FkTXNnID0gIuWPlua2iOWFs+azqC4uLiIsIHIuYWN0aW9uID0gImRlbGV0ZSIpOwoJCQkJCQl2YXIgbCA9IGkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1icmFuZC1zdWJzY3JpYmUtdGV4dCIpLmVxKDApLAoJCQkJCQkJYyA9IGkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1iZyIpLmVxKDApOwoJCQkJCQlsLnRleHQoci5sb2FkTXNnKTsKCQkJCQkJdmFyIGQgPSBuKDkpOwoJCQkJCQlkLmdldChhLmNfc2VydmVyICsgIi9icndleHQvYnJhbmRfc3Vic2NyaWJlP2JyYW5kX2lkPSIgKyBlICsgIiZhY3Rpb249IiArIHIuYWN0aW9uKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJCXZhciBuID0gZSAmJiBlLmNvZGU7CgkJCQkJCQlpZiAoMCA9PSBuKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGEuY19zZXJ2ZXIgKyAiL3VzZXIvbG9naW4/ZnJvbV91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChhLmhyZWYpOwoJCQkJCQkJZWxzZSBpZiAoMSA9PSBuIHx8IDMgPT0gbikgewoJCQkJCQkJCXZhciBvID0gIiIsCgkJCQkJCQkJCWQgPSAxLAoJCQkJCQkJCQlwID0gYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWljb24tYmx1ZSI7CgkJCQkJCQkJImFkZCIgPT0gci5hY3Rpb24gPyAobyA9IDEgPT0gbiA/ICLlhbPms6jmiJDlip8iIDogIuW3suWFs+azqCIsIGQgPSAwLCBwID0gYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWljb24tcmVkIiwgcyA9ICLigJwiICsgKHQgPyB0IDogIuivpeWTgeeJjCIpICsgIuKAneeahOeJueWNlua0u+WKqOS8muesrOS4gOaXtumXtOaPkOmGkuS9oCIpIDogImRlbGV0ZSIgPT0gci5hY3Rpb24gJiYgKG8gPSAxID09IG4gPyAi5YWz5rOo5q2k5ZOB54mMIiA6ICLmk43kvZzlpLHotKUiLCBkID0gMSk7CgkJCQkJCQkJdmFyIGg7CgkJCQkJCQkJY2xlYXJUaW1lb3V0KGgpLCBoID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQkJaS5hdHRyKCJhY3Rpb25UeXBlIiwgZCksIGwudGV4dChvKSwgYy5hdHRyKCJjbGFzcyIsIGEuZXh0QnJhbmQgKyAiLWJnICIgKyBwKQoJCQkJCQkJCX0sIDUwMCkKCQkJCQkJCX0gZWxzZSBpLmF0dHIoImNsYXNzIiwgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlIikuYXR0cigiYWN0aW9uVHlwZSIsIDEpLCBsLnRleHQoIuWFs+azqOatpOWTgeeJjCIpOwoJCQkJCQkJaS5hdHRyKCJ0aXRsZSIsIHMpCgkJCQkJCX0pCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWJveCIpLnNob3coKSwgbygiLnN1YnNjcmliZV9zaHV4aWFuIikuc2hvdygpKQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbigxMTkpLAoJCQkJCWwgPSBuKDI2KSwKCQkJCQljID0gbigxMyksCgkJCQkJZCA9IG4oMTcpLAoJCQkJCXAgPSBuKDkpLAoJCQkJCWggPSBuKDE2KSwKCQkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJCW8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfbW9iaWxlX3ByaWNlIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQljLmxvZygi5omL5py65LiT5Lqr5Lu354K55Ye7IikKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJCWlmICgiMzYwYnV5LXJlIiAhPT0gYS5zaXRlKSB7CgkJCQkJCQlmb3IgKHZhciB0ID0gewoJCQkJCQkJCTE6ICLkv4MiLAoJCQkJCQkJCTI6ICLmipgiLAoJCQkJCQkJCTM6ICLotaAiLAoJCQkJCQkJCTQ6ICLlh48iLAoJCQkJCQkJCTU6ICLotaAiLAoJCQkJCQkJCTY6ICLov5QiCgkJCQkJCQl9LCBpID0gMDsgaSA8IGUucHJvZHVjdHMubGVuZ3RoOyBpKyspIHRbZS5wcm9kdWN0c1tpXS5wcm9tb190eXBlXSA/IGUucHJvZHVjdHNbaV0ucHJvbW9rZXlzID0gdFtlLnByb2R1Y3RzW2ldLnByb21vX3R5cGVdIDogZS5wcm9kdWN0c1tpXS5wcm9tb2tleXMgPSAi5L+DIjsKCQkJCQkJCXZhciByID0gbigxNjIpLAoJCQkJCQkJCXMgPSBlLnByb2R1Y3RzLmxlbmd0aDsKCQkJCQkJCWlmICgwICE9IHMpIHsKCQkJCQkJCQl2YXIgbCA9IG8oIi5wcm9tb19ib3hfbGVmdCB1bCBsaSIpLmxlbmd0aDsKCQkJCQkJCQlsID4gMCAmJiAobygiLnByb21vX3NodXhpYW4iKS5zaG93KCksIHMgKz0gbCk7CgkJCQkJCQkJdmFyIGQgPSBoLmNvbXBpbGUocikoewoJCQkJCQkJCQlkYXRhOiBlLnByb2R1Y3RzLAoJCQkJCQkJCQlzaXplOiBsCgkJCQkJCQkJfSk7CgkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19ib3ggLnByb21vX2JveF9sZWZ0IHVsIikuYXBwZW5kKGQpLCB1KCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYm94Iikuc2hvdygpLCBjLmxvZygi5bWM5YWl5L+D6ZSA5rS75Yqo5bGV546wIiksIDMgPiBzID8gbygiIyIgKyBhLndpc2hkb20yKS5hZGRDbGFzcygib25lbGluZSIpIDogbygiIyIgKyBhLndpc2hkb20yKS5hZGRDbGFzcygidHdvbGluZXMiKS5yZW1vdmVDbGFzcygib25lbGluZSIpCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9OwoJCQkJcmV0dXJuIHIuZ2V0UHJvbW9EYXRhID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gewoJCQkJCQlfZnJvbWU6ICJhY3RpdmUiLAoJCQkJCQl0b3RhbDogMCwKCQkJCQkJcHJvZHVjdHM6IFtdCgkJCQkJfTsKCQkJCQlpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuYjJjLnByb2R1Y3QgJiYgZS5iMmMucHJvZHVjdC5sZW5ndGggPiAwKSB7CgkJCQkJCWZvciAodmFyIG4gPSBlLmIyYy5wcm9kdWN0LCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHsKCQkJCQkJCXZhciBhID0gbltpXS5kcF9pZC5zcGxpdCgiLSIpWzFdOwoJCQkJCQkJaWYgKCgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZS5ub3cuc2l0ZV9pZCB8fCBhICE9IGUubm93LnNpdGVfaWQpICYmIG5baV0ucHJvbW8ubGVuZ3RoID4gMCkKCQkJCQkJCQlmb3IgKHZhciBvID0gbltpXS5wcm9tbywgciA9IDA7IHIgPCBvLmxlbmd0aDsgcisrKSB7CgkJCQkJCQkJCXZhciBzID0gewoJCQkJCQkJCQkJc2l0ZV9uYW1lOiBuW2ldLnNpdGVfbmFtZSwKCQkJCQkJCQkJCXVybDogbltpXS51cmwsCgkJCQkJCQkJCQl0aXRsZTogb1tyXS5kZXNjLAoJCQkJCQkJCQkJZW5kX3RpbWU6ICIiLAoJCQkJCQkJCQkJYnJhbmQ6IG9bcl0uZGVzYy5sZW5ndGggPiAyMSA/IG9bcl0uZGVzYy5zdWJzdHIoMCwgMjApIDogb1tyXS5kZXNjLAoJCQkJCQkJCQkJa2V5d29yZHM6ICLvv6UiICsgbltpXS5wcmljZSwKCQkJCQkJCQkJCWFfdGl0bGU6IG5baV0udGl0bGUKCQkJCQkJCQkJfTsKCQkJCQkJCQkJdC5wcm9kdWN0cy5wdXNoKHMpCgkJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCXQudG90YWwgPSB0LnByb2R1Y3RzLmxlbmd0aAoJCQkJCX0KCQkJCQlyZXR1cm4gdC5wcm9kdWN0cy5sZW5ndGggPiAwID8gdCA6IG51bGwKCQkJCX0sIHIuYWRkUHJvbW8gPSBmdW5jdGlvbihuKSB7CgkJCQkJaWYgKG51bGwgPT0gYS5zYXZlX3Byb21vX2RhdGEpIHsKCQkJCQkJdmFyIGkgPSBhLmRwSXNCb29rLAoJCQkJCQkJciA9IGEuc2F2ZV9kcF9xdWVyeSwKCQkJCQkJCXMgPSAiIiAhPSByLm5vdy5ub3dfZHBfaWQgPyByLm5vdy5ub3dfZHBfaWQgOiByLmV4YWN0X2Fyci50YW9iYW9fc2FtZV9pZCwKCQkJCQkJCWwgPSByLm5vdy5jbGFzc19pZCwKCQkJCQkJCWMgPSByLmV4YWN0X2Fyci5zYnJhbmQsCgkJCQkJCQlkID0gci5leGFjdF9hcnIuYnJhbmRfaWQsCgkJCQkJCQloID0gci5leGFjdF9hcnIudGFvYmFvX2NsYXNzX2lkOwoJCQkJCQlpZiAobnVsbCA9PSBpIHx8ICIiID09IGkpIHsKCQkJCQkJCW4gPSBudWxsLCBzID0gcyB8fCAiMCI7CgkJCQkJCQl2YXIgdSA9IDAsCgkJCQkJCQkJbSA9ICIiID09IGEuY29sbGVjdEluZm8udGl0bGUgPyBhLmRwLm5hbWUgOiBhLmNvbGxlY3RJbmZvLnRpdGxlOwoJCQkJCQkJcC5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9wcm9tb19icmFuZD9wZz0xJnBzPTMwJm9yZGVyPSIgKyB1ICsgIiZ0Yl9jbGFzcz0iICsgaCArICImY2xhc3NfaWQ9IiArIGwgKyAiJmRwX2lkPSIgKyBzICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG0pICsgIiZ1cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikgKyAiJnVuaW9uPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS51bmlvbikgKyAiJnNicmFuZD0iICsgYyArICImYnJhbmRfaWQ9IiArIGQpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkJCXJldHVybiAhZSB8fCBlICYmIDAgPT0gZS5sZW5ndGggPyB2b2lkIG8oIiMiICsgYS5leHRCcmFuZCArICItYnJhbmQtc3Vic2NyaWJlLWJ0biIpLmhpZGUoKSA6IHZvaWQgdChlLCBuKQoJCQkJCQkJfSkuZmFpbChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiLWJyYW5kLXN1YnNjcmliZS1idG4iKS5oaWRlKCksIG51bGwgIT0gbiAmJiBlKG4pCgkJCQkJCQl9KQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwgci5pbnNlcnRQcm9tb1Nob3dMaXN0ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gdGhpczsKCQkJCQlpZiAobnVsbCAhPSBlICYmIG51bGwgIT0gZS5wcm9tb3MgJiYgMCAhPSBlLnByb21vcy5sZW5ndGgpIHsKCQkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIsCgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiCgkJCQkJCX0pLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwb2ludGVyLXVwIgoJCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF91bCIsCgkJCQkJCQlzdHlsZTogInBhZGRpbmc6MHB4OyIKCQkJCQkJfSkpKSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWwoImNsaWNrOm1haW46Y3V4aWFvIiksIGMubG9nKCLkuLvlt6XlhbfmoI/kv4PplIDngrnlh7siKQoJCQkJCQl9KTsKCQkJCQkJZm9yICh2YXIgbiA9IDA7IG4gPCBlLnByb21vcy5sZW5ndGggJiYgNSA+IG47ICsrbikgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHt9KS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJdGl0bGU6IGUucHJvbW9zW25dLnRpdGxlICsgIiDmiKrmraI6IiArIGUucHJvbW9zW25dLmVuZF90aW1lLnNwbGl0KCIgIilbMF0sCgkJCQkJCQlocmVmOiBlLnByb21vc1tuXS51cmwsCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLmh0bWwoZS5wcm9tb3Nbbl0udGl0bGUucmVwbGFjZSgvKFxkKykvZywgIjxzcGFuIGNsYXNzPSciICsgYS5leHRCcmFuZCArICItcmVkJz4kMTwvc3Bhbj4iKSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAicHJvbW9fc3BhbiIKCQkJCQkJfSkudGV4dCgi5oiq5q2iOiIgKyBlLnByb21vc1tuXS5lbmRfdGltZS5tYXRjaCgvXGR7NH0tKFswLTktXXs1fSkvKVsxXSkpKTsKCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHsKCQkJCQkJCXN0eWxlOiAidGV4dC1hbGlnbjogcmlnaHQ7Ym9yZGVyOiBub25lOyIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXRpdGxlOiAi5p+l55yL5YWo6YOo5L+D6ZSAIiwKCQkJCQkJCWhyZWY6IGUudXJsLAoJCQkJCQkJImNsYXNzIjogInNob3dfYWxsX3Byb21vIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5p+l55yL5YWo6YOoKCIgKyBlLm51bSArICIpIikpKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19idG4iKS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJCQl0LnRpbWVyX3Nob3dfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3NtYWxsX3RhYiIpLmhpZGUoKSwgbygiLnBhbmVsIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5jc3MoImxlZnQiLCBvKGUpLm9mZnNldCgpLmxlZnQgKyAicHgiKS5zaG93KCkKCQkJCQkJCX0sIDMwMCksIGNsZWFyVGltZW91dCh0LnRpbWVyX2hpZGVfZGl2KSwgbCgiaG92ZXI6bWFpbjpjdXhpYW8iKSwgYy5sb2coIuS4u+W3peWFt+agj+S/g+mUgOm8oOagh+aCrOa1riIpCgkJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX2J0biIpLm1vdXNlb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJdC50aW1lcl9oaWRlX2RpdiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuaGlkZSgpCgkJCQkJCQl9LCAzMDApLCBjbGVhclRpbWVvdXQodC50aW1lcl9zaG93X2RpdikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fYnRuIikuY2xpY2soZnVuY3Rpb24oZSkgewoJCQkJCQkJcmV0dXJuICJibG9jayIgPT0gbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuY3NzKCJkaXNwbGF5IikgPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkgOiAobygiLiIgKyBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiKS5oaWRlKCksIG8oIi5wYW5lbCIpLmhpZGUoKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9wcm9tb19zaG93X2xpc3RfZGl2IikuY3NzKCJsZWZ0Iiwgbyh0aGlzKS5vZmZzZXQoKS5sZWZ0ICsgInB4Iikuc2hvdygpKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgITEKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQodC50aW1lcl9oaWRlX2RpdikKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7CgkJCQkJCQl0LnRpbWVyX2hpZGVfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3Byb21vX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkKCQkJCQkJCX0sIDMwMCkKCQkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcHJvbW9fc2hvd19saXN0X2RpdiIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiLiIgKyBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiKS5oaWRlKCkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJsaV97eyRpbmRleCtzaXplfX0iPlxuICAgIHt7aWYgJHZhbHVlLnByb21va2V5c319XG4gICAgPHNwYW4+e3skdmFsdWUucHJvbW9rZXlzfX08L3NwYW4+XG4gICAge3svaWZ9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gIDwvbGk+XG57ey9lYWNofX0nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJZnVuY3Rpb24gZShlLCB0KSB7CgkJCQkJaWYgKCEobygiI2RvdWJhbi10b3AiKS5sZW5ndGggPiAwIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2U7CgkJCQkJCW8oIiMiICsgYS5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXN0eWxlOiAiaGVpZ2h0OjMwcHgiLAoJCQkJCQkJdGl0bGU6ICLosYbnk6Por4TliIYiLAoJCQkJCQkJaWQ6ICJkb3ViYW4tdG9wIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlocmVmOiBlLmFsdCArICgicmV2aWV3cz8iICsgYS5leHRCcmFuZCArICJfaXNibj0iKSArIHQKCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJkb3ViYW4taWNvbiIKCQkJCQkJfSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQlzdHlsZTogImNvbG9yOiMwMDc2MTAiCgkJCQkJCX0pLmFwcGVuZChuICsgIuWIhiIpKSkKCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlLCB0KSB7CgkJCQkJaWYgKCEobygiIyIgKyBhLmV4dEJyYW5kICsgIi1kb3ViYW4iKS5sZW5ndGggPiAwIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2U7CgkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICItZmF2b3ItbW9kdWxlIikuZXEoMCkuYWZ0ZXIobygiPGRpdj4iLCB7CgkJCQkJCQlpZDogYS5leHRCcmFuZCArICItZG91YmFuIiwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNsb3NlLW1vZHVsZSAiICsgYS5leHRCcmFuZCArICItZGVzYyByZS0iICsgYS5leHRCcmFuZCArICItZGVzYyIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCWlkOiAiZ290b19kb3ViYW4iLAoJCQkJCQkJdGl0bGU6ICLosYbnk6Por4TliIYiLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCWhyZWY6IGUuYWx0ICsgKCJyZXZpZXdzPyIgKyBhLmV4dEJyYW5kICsgIl9pc2JuPSIpICsgdAoJCQkJCQl9KS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgImFuZF9kb3ViYW5faWNvbl9ib3R0b20iCgkJCQkJCX0pKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl90ZXh0X2JvdHRvbSIKCQkJCQkJfSkuYXBwZW5kKG4gKyAi5YiGIikpKSksIHMuc2V0Qm90dG9tVmlld09mZnNldCgpLCBsLnNldEJvdHRvbVZpZXdPZmZzZXQoKQoJCQkJCX0KCQkJCX0KCgkJCQlmdW5jdGlvbiBpKGUsIHQpIHsKCQkJCQlpZiAoIShvKCIjIiArIGEuZXh0TmFtZSArICJfZG91YmFuX2RpdiIpLnRleHQoKS5sZW5ndGggPiAxIHx8IG51bGwgPT0gZS5yYXRpbmcuYXZlcmFnZSB8fCAwID09IHBhcnNlSW50KGUucmF0aW5nLmF2ZXJhZ2UpKSkgewoJCQkJCQl2YXIgbiA9IGUucmF0aW5nLmF2ZXJhZ2UsCgkJCQkJCQlpID0gMTYsCgkJCQkJCQlyID0gODAsCgkJCQkJCQlzID0gMTYsCgkJCQkJCQlsID0gLTgwLAoJCQkJCQkJYyA9IC0xNzksCgkJCQkJCQlkID0gMCwKCQkJCQkJCXAgPSAwLAoJCQkJCQkJaCA9IHBhcnNlRmxvYXQobikgLyAyLAoJCQkJCQkJdSA9IHBhcnNlSW50KGgpOwoJCQkJCQloICE9IHUgJiYgKGggPSAuMjUgPj0gaCAtIHUgPyB1IDogaCAtIHUgPj0gLjc1ID8gdSArIDEgOiB1ICsgLjUpLCBkID0gcyAqIHBhcnNlSW50KGggLSA1KSwgcCA9IHBhcnNlSW50KGgpID09IGggPyBsIDogYzsKCQkJCQkJdmFyIG0gPSAiaGVpZ2h0OiIgKyBpICsgInB4O3dpZHRoOiIgKyByICsgInB4O2JhY2tncm91bmQtcG9zaXRpb246IiArIGQgKyAicHggIiArIHAgKyAicHg7ZmxvYXQ6bGVmdCI7CgkJCQkJCW8oIiMiICsgYS5leHROYW1lICsgIl9kb3ViYW5fZGl2IikuYWRkQ2xhc3MoYS5leHROYW1lICsgIl9kb3ViYW4iKSwgbygiIyIgKyBhLmV4dE5hbWUgKyAiX2RvdWJhbl9kaXYiKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX2luc2VydF9pY29uIiwKCQkJCQkJCXRpdGxlOiAi6LGG55Oj6K+E5YiGIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlocmVmOiBlLmFsdCArICgicmV2aWV3cz8iICsgYS5leHRCcmFuZCArICJfaXNibj0iKSArIHQKCQkJCQkJfSkpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl9pbnNlcnRfdGV4dCIKCQkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0TmFtZSArICJfZG91YmFuX2luc2VydF90ZXh0IgoJCQkJCQl9KS5hcHBlbmQoIuivhOWIhu+8miIpKSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkJaWQ6IGEuZXh0TmFtZSArICJfZG91YmFuX3N0YXIiLAoJCQkJCQkJc3R5bGU6IG0KCQkJCQkJfSkpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiBhLmV4dE5hbWUgKyAiX2RvdWJhbl9hdmVyYWdlIgoJCQkJCQl9KS5hcHBlbmQoZS5yYXRpbmcuYXZlcmFnZSArICLliIYiKSksIG8oIiMiICsgYS5leHROYW1lICsgIl9kb3ViYW5fZGl2Iikuc2hvdygpCgkJCQkJfQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbig3NSksCgkJCQkJbCA9IG4oODcpOwoJCQkJcmV0dXJuIHIuc2hvdyA9IGZ1bmN0aW9uKG8sIHIpIHsKCQkJCQlpZiAobnVsbCAhPSBvICYmICIiICE9IG8pIHsKCQkJCQkJdmFyIHMgPSBuKDkpOwoJCQkJCQlzLmdldFB1cmUobG9jYXRpb24ucHJvdG9jb2wgKyAiLy9hcGkuZG91YmFuLmNvbS92Mi9ib29rL2lzYm4vIiArIG8pLmRvbmUoZnVuY3Rpb24obikgewoJCQkJCQkJIjYwMDAiICE9IG4uY29kZSAmJiAoInRvcCIgPT0gciAmJiBlKG4sIG8pLCAiYm90dG9tIiA9PSByICYmIHQobiwgbyksIGkobiwgbyksIGEuZml4V2lkdGgoKSkKCQkJCQkJfSkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQlmdW5jdGlvbiBlKCkgewoJCQkJCXZhciBlID0gdGhpczsKCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCJjbGljazptYWluOmN1eGlhbyIpLCBsLmxvZygi5Li75bel5YW35qCP5L+D6ZSA54K55Ye7IikKCQkJCQl9KSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX2J0biIpLm1vdXNlb3ZlcihmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCQllLnRpbWVyX3Nob3dfZGl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICJfc21hbGxfdGFiIikuaGlkZSgpLCBvKCIucGFuZWwiKS5oaWRlKCksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY3NzKCJsZWZ0Iiwgbyh0KS5vZmZzZXQoKS5sZWZ0ICsgInB4Iikuc2hvdygpCgkJCQkJCX0sIDMwMCksIGNsZWFyVGltZW91dChlLnRpbWVyX2hpZGVfZGl2KSwgcygiaG92ZXI6bWFpbjpxdWFuIiksIGwubG9nKCLkuLvlt6XlhbfmoI/kvJjmg6DliLjpvKDmoIfmgqzmta4iKQoJCQkJCX0pLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fYnRuIikubW91c2VvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCWUudGltZXJfaGlkZV9kaXYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9kaXYiKS5oaWRlKCkKCQkJCQkJfSwgMzAwKSwgY2xlYXJUaW1lb3V0KGUudGltZXJfc2hvd19kaXYpCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9idG4iKS5jbGljayhmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiAiYmxvY2siID09IG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY3NzKCJkaXNwbGF5IikgPyBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmhpZGUoKSA6IChvKCIuIiArIGEuZXh0QnJhbmQgKyAiX3NtYWxsX3RhYiIpLmhpZGUoKSwgbygiLnBhbmVsIikuaGlkZSgpLCBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmNzcygibGVmdCIsIG8odGhpcykub2Zmc2V0KCkubGVmdCArICJweCIpLnNob3coKSksIGUuc3RvcFByb3BhZ2F0aW9uKCksICExCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikubW91c2VlbnRlcihmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUudGltZXJfaGlkZV9kaXYpCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJZS50aW1lcl9oaWRlX2RpdiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X2RpdiIpLmhpZGUoKQoJCQkJCQl9LCAzMDApCgkJCQkJfSksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfZGl2IikuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQkJCW8oIi4iICsgYS5leHRCcmFuZCArICJfc21hbGxfdGFiIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0KCgkJCQlmdW5jdGlvbiB0KGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gW10sIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgbmV3IERhdGUoZVtuXS5lKSA+IG5ldyBEYXRlICYmIHQucHVzaChlW25dKTsKCQkJCQlyZXR1cm4gdAoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJbygiIyIgKyBhLmV4dE5hbWUgKyAiLW1haW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9kaXYiLAoJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIl9zbWFsbF90YWIiCgkJCQkJfSkuYXBwZW5kKG8oIjxkaXY+IiwgewoJCQkJCQkiY2xhc3MiOiAicG9pbnRlci11cCIKCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF9jb250ZW50IgoJCQkJCX0pLmFwcGVuZChvKCI8dWw+IiwgewoJCQkJCQlpZDogYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfdWwiLAoJCQkJCQlzdHlsZTogInBhZGRpbmc6MHB4OyIKCQkJCQl9KSkpKSwgZS5jYWxsKHt9KQoJCQkJfQoJCQkJdmFyIG8gPSBuKDYpLAoJCQkJCXIgPSB7fSwKCQkJCQlzID0gbigyNiksCgkJCQkJbCA9IG4oMTMpOwoJCQkJcmV0dXJuIHIucmVwbGFjZVF1YW4gPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUgJiYgbygiIyIgKyBhLmV4dE5hbWUgKyAiLWIyYy1kcCIpLmxlbmd0aCkgewoJCQkJCQl2YXIgdCA9IG8oIiMiICsgYS5leHROYW1lICsgIi1iMmMtZHAtZGV0YWlsIHVsLmJ1eS1saXN0IGxpIiksCgkJCQkJCQluID0gdC5sZW5ndGggLSAxOwoJCQkJCQlvKCIjIiArIGEuZXh0TmFtZSArICItYjJjLWRwLWRldGFpbCB1bC5idXktbGlzdCBsaSIpLmVxKG4pLnByZXBlbmQobygiPGE+IiwgewoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJCSJjbGFzcyI6ICJidXktbGlzdC1xdWFuIiwKCQkJCQkJCXN0eWxlOiAiZmxvYXQ6bGVmdDsgbWFyZ2luLWxlZnQ6NHB4OyIsCgkJCQkJCQlocmVmOiBlLnVybAoJCQkJCQl9KS50ZXh0KCLmn6XnnIvkvJjmg6DliLgoIiArIGUubnVtICsgIikiKSkKCQkJCQl9CgkJCQl9LCByLmluc2VydFNob3AgPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5xdWFucyA9IHQoZS5xdWFucyksIGkoKTsKCQkJCQlmb3IgKHZhciBuID0gZS5xdWFucy5sZW5ndGgsIHIgPSAwOyBuID4gciAmJiA1ID4gcjsgKytyKSB7CgkJCQkJCXZhciBzID0gZS5xdWFuc1tyXTsKCQkJCQkJbygiIyIgKyBhLmV4dEJyYW5kICsgIl9xdWFuX3Nob3dfbGlzdF91bCIpLmFkZENsYXNzKCJzaG9wX3Byb21vdGlvbnMiKS5hcHBlbmQoJzxsaT48YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cDovL2ZmLndpbi50YW9iYW8uY29tL3Byb21vdGlvbi5odG0/aWQ9JyArIGUudXNlcl9pZCArICciPjxkaXYgY2xhc3M9IicgKyBhLmV4dEJyYW5kICsgJy1xdWFuLWxlZnQiPua7oSA8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXJlZCI+JyArIHMubSArICc8L3NwYW4+IOWHjyA8c3BhbiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXJlZCI+JyArIHMuaiArICc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz0iJyArIGEuZXh0QnJhbmQgKyAnLXF1YW4tcmlnaHQiPuacieaViOaXtumXtDogJyArIHMucyArICIgfiAiICsgcy5lICsgIiA8L2Rpdj48L2E+PC9saT4iKQoJCQkJCX0KCQkJCQluICYmIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9idG4iKS5hcHBlbmQoJzxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgbiArICI8L3NwYW4+IiksIG8oIiMiICsgYS5leHRCcmFuZCArICJfcXVhbl9zaG93X2xpc3RfdWwiKS5hcHBlbmQobygiPGxpPiIsIHsKCQkJCQkJc3R5bGU6ICJ0ZXh0LWFsaWduOiByaWdodDtib3JkZXI6IG5vbmU7IgoJCQkJCX0pLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCXRpdGxlOiAi5p+l55yL5YWo6YOo5LyY5oOg5Yi4IiwKCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQsCgkJCQkJCSJjbGFzcyI6ICJzaG93X2FsbF9xdWFuIiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCX0pLnRleHQoIuafpeeci+WFqOmDqCgiICsgbiArICIpIikpKQoJCQkJfSwgci5pbml0X3Nob3BfcHJvbW90aW9uc19ib3R0b20gPSBmdW5jdGlvbihlKSB7CgkJCQkJZS5xdWFucyA9IHQoZS5xdWFucyksIGUgJiYgZS5xdWFucyAmJiBlLnF1YW5zLmxlbmd0aCAmJiAoYS5jaXJjbGVOb3RpY2UoZSksIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLmFwcGVuZChvKCI8ZGl2PiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsIiwKCQkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiCgkJCQkJfSkuYXBwZW5kKG8oIjxwPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZSAiICsgYS5leHRCcmFuZCArICItaGVpZ2h0LWF1dG8iCgkJCQkJfSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZGV0YWlsLXRpdGxlLWRlc2MiLAoJCQkJCQl0ZXh0OiAi5ZWG5Z+O5LyY5oOg5Yi4IgoJCQkJCX0pKS5hcHBlbmQobygiPGE+IiwgewoJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1ncmV5ICIgKyBhLmV4dEJyYW5kICsgIl9zZWVfYWxsIiwKCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQsCgkJCQkJCXRleHQ6ICLmn6XnnIvlhajpg6giLAoJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJfSkpKS5hcHBlbmQoZnVuY3Rpb24oKSB7CgkJCQkJCWZvciAodmFyIHQgPSBvKCI8dWw+IiwgewoJCQkJCQkJaWQ6IGEuZXh0QnJhbmQgKyAiX3F1YW5faXRlbV9saXN0IiwKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWl0ZW0tbGlzdCBzaG9wX3Byb21vdGlvbnMiCgkJCQkJCX0pLCBuID0gMDsgbiA8IGUucXVhbnMubGVuZ3RoICYmIDUgPiBuOyBuKyspIHQuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5OmJsb2NrIgoJCQkJCQl9KS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWdyZXkgIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4tYm94IiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQlodG1sOiAn5ruhIDxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgZS5xdWFuc1tuXS5tICsgJzwvc3Bhbj4g5YePIDxzcGFuIGNsYXNzPSInICsgYS5leHRCcmFuZCArICctcmVkIj4nICsgZS5xdWFuc1tuXS5qICsgIjwvc3Bhbj4iLAoJCQkJCQkJaHJlZjogImh0dHA6Ly9mZi53aW4udGFvYmFvLmNvbS9wcm9tb3Rpb24uaHRtP2lkPSIgKyBlLnVzZXJfaWQKCQkJCQkJfSkpLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saWdodC1ncmV5IiwKCQkJCQkJCXN0eWxlOiAiZmxvYXQ6cmlnaHQiLAoJCQkJCQkJdGV4dDogIuacieaViOaXtumXtDogIiArIGUucXVhbnNbbl0ucyArICIgfiAiICsgZS5xdWFuc1tuXS5lCgkJCQkJCX0pKSkpOwoJCQkJCQlyZXR1cm4gdAoJCQkJCX0pKSwgbygiIyIgKyBhLmV4dEJyYW5kICsgIi1xdWFuIikubW91c2VlbnRlcihmdW5jdGlvbigpIHsKCQkJCQkJbyh0aGlzKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuc2hvdygpLCBhLklFNiAmJiAiYW1hem9uIiA9PSBhLnNpdGUgJiYgKG8odGhpcykuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgbygiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5hZGRDbGFzcygiYW1hem9uX2hhY2siKSksIHMoImhvdmVyOm1haW46cXVhbiIpLCBsLmxvZygi5Li75bel5YW35qCP5LyY5oOg5Yi46byg5qCH5oKs5rWuIikKCQkJCQl9KS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkgewoJCQkJCQlvKHRoaXMpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikuZW5kKCkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5oaWRlKCkKCQkJCQl9KSkKCQkJCX0sIHIuaW5pdF9xdWFuX2JvdHRvbSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlyZXR1cm4gZSA/IChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4iKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLmF0dHIoImhyZWYiLCBlLnVybCksIHZvaWQoZSAmJiBlLnF1YW5zICYmIGUucXVhbnMubGVuZ3RoICYmIChvKCIjIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4iKS5hcHBlbmQobygiPGRpdj4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWRldGFpbCIsCgkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lIgoJCQkJCX0pLmFwcGVuZChvKCI8cD4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUgIiArIGEuZXh0QnJhbmQgKyAiLWhlaWdodC1hdXRvIgoJCQkJCX0pLmFwcGVuZChvKCI8c3Bhbj4iLCB7CgkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWRldGFpbC10aXRsZS1kZXNjIiwKCQkJCQkJdGV4dDogIuWVhuWfjuS8mOaDoOWIuCIKCQkJCQl9KSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItZ3JleSAiICsgYS5leHRCcmFuZCArICJfc2VlX2FsbCIsCgkJCQkJCWhyZWY6IGUudXJsLAoJCQkJCQl0ZXh0OiAi5p+l55yL5YWo6YOoIiwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCX0pKSkuYXBwZW5kKGZ1bmN0aW9uKCkgewoJCQkJCQlmb3IgKHZhciB0ID0gbygiPHVsPiIsIHsKCQkJCQkJCWlkOiBhLmV4dEJyYW5kICsgIl9xdWFuX2l0ZW1fbGlzdCIsCgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1pdGVtLWxpc3QiCgkJCQkJCX0pLCBuID0gMDsgbiA8IGUucXVhbnMubGVuZ3RoICYmIDUgPiBuOyBuKyspIHQuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQkiY2xhc3MiOiBhLmV4dEJyYW5kICsgIi1saXN0LWl0ZW0iLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5OmJsb2NrIgoJCQkJCQl9KS5hcHBlbmQobygiPHA+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItcHJvZHVjdC10aXRsZSIKCQkJCQkJfSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCSJjbGFzcyI6IGEuZXh0QnJhbmQgKyAiLWdyZXkgIiArIGEuZXh0QnJhbmQgKyAiLXF1YW4tYm94IiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIsCgkJCQkJCQl0aXRsZTogZS5xdWFuc1tuXS50aXRsZSwKCQkJCQkJCWhyZWY6IGUucXVhbnNbbl0udXJsLAoJCQkJCQkJaHRtbDogZS5xdWFuc1tuXS50aXRsZS5yZXBsYWNlKC8oXGQrKS9nLCAiPHNwYW4gY2xhc3M9JyIgKyBhLmV4dEJyYW5kICsgIi1yZWQnPiQxPC9zcGFuPiIpCgkJCQkJCX0pKS5hcHBlbmQobygiPHNwYW4+IiwgewoJCQkJCQkJImNsYXNzIjogYS5leHRCcmFuZCArICItbGlnaHQtZ3JleSIsCgkJCQkJCQlzdHlsZTogImZsb2F0OnJpZ2h0IiwKCQkJCQkJCXRleHQ6ICLliak6IiArIGUucXVhbnNbbl0ucmVzdAoJCQkJCQl9KSkpKTsKCQkJCQkJcmV0dXJuIHQKCQkJCQl9KSksIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCW8odGhpcykuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyhhLmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgYS5JRTYgJiYgImFtYXpvbiIgPT0gYS5zaXRlICYmIChvKHRoaXMpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikuYWRkQ2xhc3MoYS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIikuZW5kKCkuZmluZCgiLiIgKyBhLmV4dEJyYW5kICsgIi1kZXRhaWwiKS5zaG93KCksIG8oIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuYWRkQ2xhc3MoImFtYXpvbl9oYWNrIikpLCBzKCJob3ZlcjptYWluOnF1YW4iKSwgbC5sb2coIuS4u+W3peWFt+agj+S8mOaDoOWIuOm8oOagh+aCrOa1riIpCgkJCQkJfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJbyh0aGlzKS5maW5kKCIuIiArIGEuZXh0QnJhbmQgKyAiLXRhYiIpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItZGV0YWlsIikuaGlkZSgpCgkJCQkJfSkpKSkgOiB2b2lkIG8oIiMiICsgYS5leHRCcmFuZCArICItcXVhbiIpLmZpbmQoIi4iICsgYS5leHRCcmFuZCArICItdGFiIikuYXR0cigiaHJlZiIsICJodHRwOi8vd3d3LiIgKyBhLmV4dE5hbWUgKyAiLmNvbS9xdWFuLz9mcm9tPSIgKyBhLmZyb21fZGV2aWNlICsgIiZtPXByb21vdGlvbiIpCgkJCQl9LCByLmluc2VydFF1YW5TaG93TGlzdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAobnVsbCAhPSBlICYmIG51bGwgIT0gZS5xdWFucyAmJiAwICE9IGUucXVhbnMubGVuZ3RoKSB7CgkJCQkJCWkoKTsKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLnF1YW5zLmxlbmd0aCAmJiA1ID4gdDsgKyt0KSBvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X3VsIikuYXBwZW5kKG8oIjxsaT4iLCB7fSkuYXBwZW5kKG8oIjxhPiIsIHsKCQkJCQkJCXRpdGxlOiBlLnF1YW5zW3RdLnRpdGxlICsgIiDliak6IiArIGUucXVhbnNbdF0ucmVzdCArICLlvKAiLAoJCQkJCQkJaHJlZjogZS5xdWFuc1t0XS51cmwsCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLmh0bWwoZS5xdWFuc1t0XS50aXRsZS5yZXBsYWNlKC8oXGQrKS9nLCAiPHNwYW4gY2xhc3M9JyIgKyBhLmV4dEJyYW5kICsgIi1yZWQnPiQxPC9zcGFuPiIpKSkuYXBwZW5kKG8oIjxzcGFuPiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJxdWFuX3NwYW4iCgkJCQkJCX0pLnRleHQoIuWJqToiICsgZS5xdWFuc1t0XS5yZXN0KSkpOwoJCQkJCQlvKCIjIiArIGEuZXh0QnJhbmQgKyAiX3F1YW5fc2hvd19saXN0X3VsIikuYXBwZW5kKG8oIjxsaT4iLCB7CgkJCQkJCQlzdHlsZTogInRleHQtYWxpZ246IHJpZ2h0O2JvcmRlcjogbm9uZTsiCgkJCQkJCX0pLmFwcGVuZChvKCI8YT4iLCB7CgkJCQkJCQl0aXRsZTogIuafpeeci+WFqOmDqOS8mOaDoOWIuCIsCgkJCQkJCQlocmVmOiBlLnVybCwKCQkJCQkJCSJjbGFzcyI6ICJzaG93X2FsbF9xdWFuIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5p+l55yL5YWo6YOoKCIgKyBlLm51bSArICIpIikpKQoJCQkJCX0KCQkJCX0sIHIuYmxpbmtQYWdlID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmICgvZG9uZ3RhaVwudGFvYmFvXC5jb21cL21pY3Jvc2hvcFwvZnJvbnRcLmh0bS8udGVzdChlKSkgdHJ5IHsKCQkJCQkJdmFyIHQgPSAwLAoJCQkJCQkJbiA9IG8oIi5kdC1tYWluLXRhYl9yaWdodF9zYWxlIikuZXEoMCk7CgkJCQkJCW4uY3NzKCJib3JkZXIiLCAiMnB4IHNvbGlkIHJlZCIpLCBuLmhvdmVyKGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChhLnRpbWVyKSwgbi5jc3MoImJvcmRlci1jb2xvciIsICIjZjFlZmYwIikKCQkJCQkJfSksIGEudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCQkJCQkJCXQrKyAlIDIgPT0gMCA/IG4uY3NzKCJib3JkZXItY29sb3IiLCAiI2YxZWZmMCIpIDogbi5jc3MoImJvcmRlci1jb2xvciIsICJyZWQiKQoJCQkJCQl9LCA1MDApLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbChhLnRpbWVyKSwgbi5jc3MoImJvcmRlci1jb2xvciIsICIjZjFlZmYwIikKCQkJCQkJfSwgMWU0KQoJCQkJCX0gY2F0Y2ggKGkpIHsKCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IGkKCQkJCQl9CgkJCQl9LCByCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNik7CgkJCQlyZXR1cm4gewoJCQkJCXR5cGU6ICJ0b3AiLAoJCQkJCWNsZWFyVGltZXI6IG51bGwsCgkJCQkJdGFiczogewoJCQkJCQlqaW5nZG9uZzogewoJCQkJCQkJc2l0ZV9pZDogMywKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLmpkLmNvbS9TZWFyY2g/ZW5jPXV0Zi04JmtleXdvcmQ9IgoJCQkJCQl9LAoJCQkJCQlhbWF6b246IHsKCQkJCQkJCXNpdGVfaWQ6IDEsCgkJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5hbWF6b24uY24vcz9maWVsZC1rZXl3b3Jkcz0iCgkJCQkJCX0sCgkJCQkJCWRhbmdkYW5nOiB7CgkJCQkJCQlzaXRlX2lkOiAyLAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zZWFyY2hiLmRhbmdkYW5nLmNvbS8/a2V5PSIKCQkJCQkJfSwKCQkJCQkJc3VuaW5nOiB7CgkJCQkJCQlzaXRlX2lkOiAyNSwKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnN1bmluZy5jb20vZW1hbGwvc2VhcmNoLmRvP2tleXdvcmQ9IgoJCQkJCQl9LAoJCQkJCQl0YW9iYW86IHsKCQkJCQkJCXNpdGVfaWQ6IDgzLAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zLnRhb2Jhby5jb20vc2VhcmNoP3E9IgoJCQkJCQl9LAoJCQkJCQlnb21lOiB7CgkJCQkJCQlzaXRlX2lkOiAyOCwKCQkJCQkJCXBhdHRlcm46ICJodHRwOi8vd3d3LmdvbWUuY29tLmNuL3NlYXJjaD9xdWVzdGlvbj0iCgkJCQkJCX0sCgkJCQkJCXlpaGFvZGlhbjogewoJCQkJCQkJc2l0ZV9pZDogMzEsCgkJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3NlYXJjaC55aGQuY29tL3MyL2MwLTAvayIKCQkJCQkJfSwKCQkJCQkJdmlwc2hvcDogewoJCQkJCQkJc2l0ZV9pZDogMTI5LAoJCQkJCQkJcGF0dGVybjogImh0dHA6Ly93d3cuIiArIGEuZXh0TmFtZSArICIuY29tL3NlYXJjaD9jcmM2ND0xJnNfdmlwPSIKCQkJCQkJfQoJCQkJCX0sCgkJCQkJZ3dkQXBpOiAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vc2VhcmNoP3NfcHJvZHVjdD0iLAoJCQkJCWlzRm9sZGVyT3BlbjogITEsCgkJCQkJc2V0VHlwZTogZnVuY3Rpb24oZSkgewoJCQkJCQl0aGlzLnR5cGUgPSBlCgkJCQkJfSwKCQkJCQlzZW5kU2VhcmNoV2F5OiBmdW5jdGlvbihlKSB7CgkJCQkJCXZhciB0ID0gewoJCQkJCQkJCSLlm73nvo4iOiAiZ29tZSIsCgkJCQkJCQkJIuS4gOWPt+W6lyI6ICJ5aWhhb2RpYW4iLAoJCQkJCQkJCSLllK/lk4HkvJoiOiAidmlwc2hvcCIsCgkJCQkJCQkJIuiLj+WugSI6ICJzdW5pbmciLAoJCQkJCQkJCSLkuqzkuJwiOiAiamQiLAoJCQkJCQkJCSLlvZPlvZMiOiAiZGFuZ2RhbmciLAoJCQkJCQkJCSLkuprpqazpgIoiOiAiYW1hem9uIiwKCQkJCQkJCQki5reY5a6dIjogInRhb2JhbyIsCgkJCQkJCQkJIui0reeJqeWFmiI6ICJnd2QiCgkJCQkJCQl9LAoJCQkJCQkJaSA9IG4oOSk7CgkJCQkJCWkuZ2V0KGEuc2VydmVyICsgIi9icndleHQvcGVybWFuZW50X2lkP3ZlcnNpb249MiZvcD1zZXRfc2VhcmNoX3dheSZzZWFyY2hfd2F5PSIgKyB0W2VdKQoJCQkJCX0sCgkJCQkJc2V0U2VhcmNoV2F5OiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB7CgkJCQkJCQlnb21lOiAi5Zu9576OIiwKCQkJCQkJCXlpaGFvZGlhbjogIuS4gOWPt+W6lyIsCgkJCQkJCQl2aXBzaG9wOiAi5ZSv5ZOB5LyaIiwKCQkJCQkJCXN1bmluZzogIuiLj+WugSIsCgkJCQkJCQlqZDogIuS6rOS4nCIsCgkJCQkJCQlkYW5nZGFuZzogIuW9k+W9kyIsCgkJCQkJCQlhbWF6b246ICLkuprpqazpgIoiLAoJCQkJCQkJdGFvYmFvOiAi5reY5a6dIiwKCQkJCQkJCWd3ZDogIui0reeJqeWFmiIKCQkJCQkJfTsKCQkJCQkJYS5zZWFyY2hfd2F5ID0gdFthLnNlYXJjaF93YXldLCAidmlwc2hvcCIgPT0gYS5zaXRlICYmIChhLnNlYXJjaF93YXkgPSAi5ZSv5ZOB5LyaIik7CgkJCQkJCXZhciBuID0gdGhpcywKCQkJCQkJCWkgPSBbIua3mOWunSIsICLoi4/lroEiLCAi5ZSv5ZOB5LyaIiwgIuW9k+W9kyIsICLkuqzkuJwiLCAi5Lqa6ams6YCKIiwgIui0reeJqeWFmiIsICLlm73nvo4iLCAi5LiA5Y+35bqXIl07CgkJCQkJCWUuaW5BcnJheShhLnNlYXJjaF93YXksIGkpID4gLTEgJiYgZSgiI3NlYXJjaF93ZWJzaXRlIikuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCWEuc2VhcmNoX3dheSA9PSBlKHRoaXMpLnRleHQoKSAmJiAoZSgiI3NlYXJjaF93ZWJzaXRlIikuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQllKHRoaXMpLnJlbW92ZUNsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCIpLCBlKHRoaXMpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIikKCQkJCQkJCX0pLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIG4uaGlkZGVuX3NlYXJjaF93ZWJzaXRlKCkpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQloaWRkZW5fc2VhcmNoX3dlYnNpdGU6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IGUoIiNzZWFyY2hfd2Vic2l0ZSIpLAoJCQkJCQkJbiA9IHRoaXM7CgkJCQkJCXQuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCWUodGhpcykucmVtb3ZlQ2xhc3MoInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2hvdyIpLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX2hpZGRlbiIpCgkJCQkJCX0pLCBlKCIuc2VhcmNoX3dlYnNpdGVfaXRlbV9zZWxlY3QiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJZSh0aGlzKS5yZW1vdmVDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iKSwgZSh0aGlzKS5hZGRDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IiksICJ0b3AiID09IG4udHlwZSAmJiBlKCIjc2VhcmNoX3dlYnNpdGUiKS5wcmVwZW5kKGUodGhpcykpLCAiYm90dG9tIiA9PSBuLnR5cGUgJiYgZSgiI3NlYXJjaF93ZWJzaXRlIikuYXBwZW5kKGUodGhpcykpCgkJCQkJCX0pLCAiYm90dG9tIiA9PSBuLnR5cGUgJiYgKHQuYXR0cigic3R5bGUiLCAidG9wOjBweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmYiKSwgYS5JRTYgJiYgdC5jc3MoInRvcCIsICIxOHB4IikpLCAidG9wIiA9PSBuLnR5cGUgJiYgdC5hdHRyKCJzdHlsZSIsICJib3JkZXItcmlnaHQtY29sb3I6I2ZmZjtoZWlnaHQ6MjJweDsiKQoJCQkJCX0sCgkJCQkJYmluZE1vcnNlRW50ZXI6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJCWUoIiNzZWFyY2hfd2Vic2l0ZSIpLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYgKCF0LmlzRm9sZGVyT3BlbikgewoJCQkJCQkJCWUodGhpcykuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCQkJZSh0aGlzKS5yZW1vdmVDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9oaWRkZW4iKSwgZSh0aGlzKS5hZGRDbGFzcygic2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IikKCQkJCQkJCQl9KSwgImJvdHRvbSIgPT0gdC50eXBlICYmIChhLm5ld19leHRlbnNpb24gPyBlKHRoaXMpLmF0dHIoInN0eWxlIiwgInRvcDotMTc1cHg7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjY2RjZGNkO2hlaWdodDoyMDBweDsiKSA6IGUodGhpcykuYXR0cigic3R5bGUiLCAidG9wOi0yMDBweDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNjZGNkY2Q7aGVpZ2h0OjIyNXB4OyIpLCBhLklFNiAmJiBlKHRoaXMpLmNzcygidG9wIiwgIi0xNThweCIpKSwgInRvcCIgPT0gdC50eXBlICYmIGUodGhpcykuYXR0cigic3R5bGUiLCAiYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjY2RjZGNkO2hlaWdodDphdXRvO3dpZHRoOjYxcHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMHB4OyIpOwoJCQkJCQkJCXZhciBuID0gZSgibGkuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIHNwYW4iKS5lcSgwKTsKCQkJCQkJCQluLnBhcmVudCgpLnBhcmVudCgpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCIpLCBuLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIHQuaXNGb2xkZXJPcGVuID0gITAKCQkJCQkJCX0KCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJpbmRNb3JzZUxlYXZlOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSB0aGlzOwoJCQkJCQllKCIjc2VhcmNoX3dlYnNpdGUiKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkgewoJCQkJCQkJdC5jbGVhclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCQl0LmhpZGRlbl9zZWFyY2hfd2Vic2l0ZSgpOwoJCQkJCQkJCXZhciBuID0gZSgibGkuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy11cCBkaXYiKS5lcSgwKTsKCQkJCQkJCQluLnBhcmVudCgpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIG4ucGFyZW50KCkucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItc2VhcmNoLWFycm93LXVwIiksIHQuaXNGb2xkZXJPcGVuID0gITEKCQkJCQkJCX0sIDUwMCkKCQkJCQkJfSksIGUoIiNzZWFyY2hfd2Vic2l0ZSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCQljbGVhclRpbWVvdXQodC5jbGVhclRpbWVyKQoJCQkJCQl9KQoJCQkJCX0sCgkJCQkJYmluZE1vcnNlQ2xpY2s6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXM7CgkJCQkJCWUoIiNzZWFyY2hfd2Vic2l0ZSBsaSIpLmNsaWNrKGZ1bmN0aW9uKG4pIHsKCQkJCQkJCXQuaXNGb2xkZXJPcGVuICYmIChlKCIjc2VhcmNoX3dlYnNpdGUiKS5jaGlsZHJlbigibGkiKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJCWUodGhpcykucmVtb3ZlQ2xhc3MoInNlYXJjaF93ZWJzaXRlX2l0ZW1fc2VsZWN0IiksIGUodGhpcykucmVtb3ZlQ2xhc3MoYS5leHRCcmFuZCArICItc2VhcmNoLWFycm93LXVwIikKCQkJCQkJCX0pLCBlKHRoaXMpLmFkZENsYXNzKCJzZWFyY2hfd2Vic2l0ZV9pdGVtX3NlbGVjdCIpLCBlKHRoaXMpLmFkZENsYXNzKGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1hcnJvdy1kb3duIiksIHQuaGlkZGVuX3NlYXJjaF93ZWJzaXRlKCksIHQuc2VuZFNlYXJjaFdheShlKHRoaXMpLnRleHQoKSksIHQuaXNGb2xkZXJPcGVuID0gITEsIG4uc3RvcFByb3BhZ2F0aW9uKCkpCgkJCQkJCX0pCgkJCQkJfSwKCQkJCQliaW5kU3RhcnRTZWFyY2g6IGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgdCA9IHRoaXMsCgkJCQkJCQluID0gIiIsCgkJCQkJCQlpID0gIiIsCgkJCQkJCQlvID0gIiMiICsgYS5leHROYW1lICsgIi1zZWFyY2gtcHJvZHVjdCIsCgkJCQkJCQlyID0gIiMiICsgYS5leHROYW1lICsgIi1zZWFyY2giOwoJCQkJCQkiYm90dG9tIiA9PSB0aGlzLnR5cGUgJiYgKG8gPSAiLiIgKyBhLmV4dEJyYW5kICsgIi1zZWFyY2gtaW5wdXQiLCByID0gIi4iICsgYS5leHRCcmFuZCArICItc2VhcmNoLWJ0biIpLCBlKHIpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24ocikgewoJCQkJCQkJdmFyIHMgPSBlKCIuc2VhcmNoX3dlYnNpdGVfaXRlbV9zaG93IikudGV4dCgpOwoJCQkJCQkJaWYgKHMgPSBzLnRyaW0oKSwgIuS6rOS4nCIgPT0gcyAmJiAobiA9IHQudGFicy5qaW5nZG9uZy5wYXR0ZXJuLCBpID0gdC50YWJzLmppbmdkb25nLnNpdGVfaWQpLCAi5reY5a6dIiA9PSBzICYmIChuID0gdC50YWJzLnRhb2Jhby5wYXR0ZXJuLCBpID0gdC50YWJzLnRhb2Jhby5zaXRlX2lkKSwgIuW9k+W9kyIgPT0gcykgewoJCQkJCQkJCW4gPSB0LnRhYnMuZGFuZ2RhbmcucGF0dGVybiwgaSA9IHQudGFicy5kYW5nZGFuZy5zaXRlX2lkOwoJCQkJCQkJCXZhciBsID0gZShvKS52YWwoKTsKCQkJCQkJCQlsID0gbC5yZXBsYWNlKC8gL2csICItIiksIGwubGVuZ3RoID4gMzAgJiYgKGwgPSBsLnN1YnN0cigwLCAzMCkpLCBlKG8pLnZhbChsKQoJCQkJCQkJfQoJCQkJCQkJaWYgKCLoi4/lroEiID09IHMgJiYgKG4gPSB0LnRhYnMuc3VuaW5nLnBhdHRlcm4sIGkgPSB0LnRhYnMuc3VuaW5nLnNpdGVfaWQpLCAi5Lqa6ams6YCKIiA9PSBzICYmIChuID0gdC50YWJzLmFtYXpvbi5wYXR0ZXJuLCBpID0gdC50YWJzLmFtYXpvbi5zaXRlX2lkKSwgIuWbvee+jiIgPT0gcyAmJiAobiA9IHQudGFicy5nb21lLnBhdHRlcm4sIGkgPSB0LnRhYnMuZ29tZS5zaXRlX2lkKSwgIuS4gOWPt+W6lyIgPT0gcyAmJiAobiA9IHQudGFicy55aWhhb2RpYW4ucGF0dGVybiwgaSA9IHQudGFicy55aWhhb2RpYW4uc2l0ZV9pZCksICLllK/lk4HkvJoiID09IHMgJiYgKG4gPSB0LnRhYnMudmlwc2hvcC5wYXR0ZXJuLCBpID0gdC50YWJzLnZpcHNob3Auc2l0ZV9pZCksICLotK3nianlhZoiID09IHMpIG4gPSB0Lmd3ZEFwaSwgd2luZG93Lm9wZW4obiArIGVuY29kZVVSSUNvbXBvbmVudChlKG8pLnZhbCgpKSk7CgkJCQkJCQllbHNlIGlmICgi5ZSv5ZOB5LyaIiA9PSBzKSB3aW5kb3cub3BlbihuICsgZW5jb2RlVVJJQ29tcG9uZW50KGUobykudmFsKCkpICsgIiZqdT1KVVUySlRnNEpUa3hKVVUySlRrNEpVRkdkbWx3YzJodmNBIik7CgkJCQkJCQllbHNlIHsKCQkJCQkJCQl2YXIgYyA9IGEudV9zZXJ2ZXIgKyAiL3VuaW9uL2dvIiwKCQkJCQkJCQkJZCA9IGMgKyAiLz9zX3Byb2R1Y3Q9IiArIGVuY29kZVVSSUNvbXBvbmVudChlKG8pLnZhbCgpKSArICImdGFyZ2V0X3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4gKyBlbmNvZGVVUkkoZShvKS52YWwoKSkpICsgIiZzaXRlX2lkPSIgKyBpOwoJCQkJCQkJCXdpbmRvdy5vcGVuKGQpCgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gci5zdG9wUHJvcGFnYXRpb24oKSwgITEKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWJpbmRGb3JtQWN0aW9uOiBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIHQgPSAiIyIgKyBhLmV4dE5hbWUgKyAiLXNlYXJjaC1wcm9kdWN0IiwKCQkJCQkJCW4gPSAiIyIgKyBhLmV4dE5hbWUgKyAiLXNlYXJjaCI7CgkJCQkJCSJib3R0b20iID09IHRoaXMudHlwZSAmJiAodCA9ICIuIiArIGEuZXh0QnJhbmQgKyAiLXNlYXJjaC1pbnB1dCIsIG4gPSAiLiIgKyBhLmV4dEJyYW5kICsgIi1zZWFyY2gtYnRuIiksIGUodCkuYmluZCgia2V5cHJlc3MiLCBmdW5jdGlvbih0KSB7CgkJCQkJCQlyZXR1cm4gIjEzIiA9PSB0LmtleUNvZGUgPyAoZShuKS5jbGljaygpLCB0LnN0b3BQcm9wYWdhdGlvbigpLCAhMSkgOiB2b2lkIDAKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWluaXQ6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJdGhpcy5zZXRUeXBlKGUpLCB0aGlzLnNldFNlYXJjaFdheSgpLCB0aGlzLmJpbmRNb3JzZUVudGVyKCksIHRoaXMuYmluZE1vcnNlTGVhdmUoKSwgdGhpcy5iaW5kTW9yc2VDbGljaygpLCB0aGlzLmJpbmRTdGFydFNlYXJjaCgpLCB0aGlzLmJpbmRGb3JtQWN0aW9uKCkKCQkJCQl9CgkJCQl9CgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNiksCgkJCQkJdCA9IG4oMTIyKTsKCQkJCXJldHVybiBlKCJib2R5IikuYXBwZW5kKCdcbjxzdHlsZT5cbiAgICAjZ3dkX3NldHRpbmdfY29udGVudCAuZ3dkX3NldHRpbmdfaXRlbSBhIHtcbiAgICAgIGZvbnQtZmFtaWx5OiAiTWljcm9zb2Z0IFlhaGVpIiFpbXBvcnRhbnQ7XG4gICAgfVxuPC9zdHlsZT5cbiAgICAnKSwgewoJCQkJCWhpZGRlblRpbWVyOiBudWxsLAoJCQkJCWluc2VydG5vcm1hbFZpZXc6IGZ1bmN0aW9uKCkgewoJCQkJCQllKGEuZHZhbCkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJaWQ6ICJnd2Rfc2V0dGluZ19kaXYiLAoJCQkJCQkJc3R5bGU6ICJkaXNwbGF5Om5vbmUiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJwb2ludGVyLXVwIgoJCQkJCQl9KS5odG1sKCI8IS0tW2lmIElFIDZdPuKXhjwhW2VuZGlmXS0tPiIpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9zZXR0aW5nX2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2RfZnVuY3Rpb25fc2V0dGluZyIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLnNlcnZlciArICIvYnJ3ZXh0L3NldHRpbmc/ZnJvbT0iICsgdChhLmZyb21fZGV2aWNlKSArICImYnR5cGU9IiArIChhLmJ0eXBlID8gYS5idHlwZSA6ICIiKSwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5Yqf6IO96K6+572uIikpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZHNldHRpbmdfYmcgZ3dkX29waW5pb25fZmVlZGJhY2siCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvYnJ3ZXh0L3N1Z2dlc3Q/cmVmZXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJmJ0eXBlPSIgKyAoYS5idHlwZSA/IGEuYnR5cGUgOiAiIiksCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLnRleHQoIuaEj+ingeWPjemmiCIpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2RzZXR0aW5nX2JnIGd3ZF91c2VfaGVscCIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi9hcHAvZXh0ZW5zaW9uP3BhZ2U9cXVlc3Rpb24iLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQl9KS50ZXh0KCLkvb/nlKjluK7liqkiKSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2RfaG9tZXBhZ2UiCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi6LSt54mp5YWa6aaW6aG1IikpKSkpCgkJCQkJfSwKCQkJCQlpbnNlcnRTZXR0aW5nVmlldzogZnVuY3Rpb24odCkgewoJCQkJCQl0aGlzLmluc2VydG5vcm1hbFZpZXcoKSwgZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfbGluZSIKCQkJCQkJfSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkc2V0dGluZ19iZyBnd2Rfc2hhcmVfc2luYV93ZWlibyIKCQkJCQkJfSkpLmFwcGVuZCgiPGEgdGl0bGU9J+WIhuS6q+WIsOaWsOa1quW+ruWNmicgdGFyZ2V0PSdfc2VsZicgYWhyZWY9JyIgKyB0LnNoYXJlX2dvb2Quc2luYSArICInIG9uY2xpY2s9XCIiICsgdC5zaGFyZS53aW4gKyAiXCIgaHJlZj0namF2YXNjcmlwdDonPuWIhuS6q+WIsOaWsOa1quW+ruWNmjwvYT4iKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2RzZXR0aW5nX2JnIGd3ZF9zaGFyZV9xcV9xem9uZSIKCQkJCQkJfSkpLmFwcGVuZCgiPGEgdGl0bGU9J+WIhuS6q+WIsFFR56m66Ze0JyB0YXJnZXQ9J19zZWxmJyBhaHJlZj0nIiArIHQuc2hhcmVfZ29vZC5xem9uZSArICInIG9uY2xpY2s9XCIiICsgdC5zaGFyZS53aW4gKyAiXCIgaHJlZj0namF2YXNjcmlwdDonPuWIhuS6q+WIsFFR56m66Ze0PC9hPiIpKSwgdGhpcy5iaW5kRXZlbnQoKQoJCQkJCX0sCgkJCQkJaW5zZXJ0bm9ybWFsVmlld19ib3R0b206IGZ1bmN0aW9uKCkgewoJCQkJCQlhLm5ld19leHRlbnNpb24gfHwgZShhLmR2YWwpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCWlkOiAiZ3dkX3NldHRpbmdfZGl2IiwKCQkJCQkJCXN0eWxlOiAiZGlzcGxheTpub25lIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9zZXR0aW5nX2NvbnRlbnQiCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19saW5lIgoJCQkJCQl9KSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2RfaG9tZXBhZ2UiCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvIiwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi6LSt54mp5YWa6aaW6aG1IikpKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIGd3ZF91c2VfaGVscCIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLmNfc2VydmVyICsgIi9hcHAvZXh0ZW5zaW9uP3BhZ2U9cXVlc3Rpb24iLAoJCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIgoJCQkJCQl9KS50ZXh0KCLkvb/nlKjluK7liqkiKSkpLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19pdGVtIgoJCQkJCQl9KS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfYmcgZ3dkX29waW5pb25fZmVlZGJhY2siCgkJCQkJCX0pKS5hcHBlbmQoZSgiPGE+IiwgewoJCQkJCQkJaHJlZjogYS5jX3NlcnZlciArICIvYnJ3ZXh0L3N1Z2dlc3Q/cmVmZXI9IiArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSArICImZnJvbV9kZXZpY2U9IiArIGEuZnJvbV9kZXZpY2UgKyAiJmJ0eXBlPSIgKyAoYS5idHlwZSA/IGEuYnR5cGUgOiAiIiksCgkJCQkJCQl0YXJnZXQ6ICJfYmxhbmsiCgkJCQkJCX0pLnRleHQoIuaEj+ingeWPjemmiCIpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2RfZnVuY3Rpb25fc2V0dGluZyIKCQkJCQkJfSkpLmFwcGVuZChlKCI8YT4iLCB7CgkJCQkJCQlocmVmOiBhLnNlcnZlciArICIvYnJ3ZXh0L3NldHRpbmc/ZnJvbT0iICsgdChhLmZyb21fZGV2aWNlKSArICImYnR5cGU9IiArIChhLmJ0eXBlID8gYS5idHlwZSA6ICIiKSwKCQkJCQkJCXRhcmdldDogIl9ibGFuayIKCQkJCQkJfSkudGV4dCgi5Yqf6IO96K6+572uIikpKSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIHBvaW50ZXItZG93biIKCQkJCQkJfSkpKQoJCQkJCX0sCgkJCQkJaW5zZXJ0U2V0dGluZ1ZpZXdfQm90dG9tOiBmdW5jdGlvbih0KSB7CgkJCQkJCXRoaXMuaW5zZXJ0bm9ybWFsVmlld19ib3R0b20oKSwgZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5hcHBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQlpZDogImd3ZF9jbG9zZU1haW5iYXIiLAoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCXN0eWxlOiAxICE9IGEucF9mb2xkID8gImJhY2tncm91bmQtcG9zaXRpb246IC01NXB4IC01cHg7IiA6ICJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjZweCAtNXB4OyIsCgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfYmcgZ3dkX2Nsb3NlYWxsIgoJCQkJCQl9KSkuYXBwZW5kKGUoIjxhPiIsIHsKCQkJCQkJCWlkOiAiZ3dkX2Nsb3NlYWxsIgoJCQkJCQl9KS50ZXh0KDEgPT0gYS5wX2ZvbGQgPyAi5bGV5byA5o+S5Lu2IiA6ICLmlLbotbfmj5Lku7YiKSkpLCBlKCIjZ3dkX3NldHRpbmdfY29udGVudCIpLnByZXBlbmQoZSgiPGRpdj4iLCB7CgkJCQkJCQkiY2xhc3MiOiAiZ3dkX3NldHRpbmdfaXRlbSIKCQkJCQkJfSkuYXBwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2JnIGd3ZF9zaGFyZV9zaW5hX3dlaWJvIgoJCQkJCQl9KSkuYXBwZW5kKCI8YSB0aXRsZT0n5YiG5Lqr5Yiw5paw5rWq5b6u5Y2aJyB0YXJnZXQ9J19zZWxmJyBhaHJlZj0nIiArIHQuc2hhcmVfZ29vZC5zaW5hICsgIicgb25jbGljaz1cIiIgKyB0LnNoYXJlLndpbiArICJcIiBocmVmPSdqYXZhc2NyaXB0Oic+5YiG5Lqr5Yiw5paw5rWq5b6u5Y2aPC9hPiIpKS5wcmVwZW5kKGUoIjxkaXY+IiwgewoJCQkJCQkJImNsYXNzIjogImd3ZF9zZXR0aW5nX2l0ZW0iCgkJCQkJCX0pLmFwcGVuZChlKCI8ZGl2PiIsIHsKCQkJCQkJCSJjbGFzcyI6ICJnd2Rfc2V0dGluZ19iZyBnd2Rfc2hhcmVfcXFfcXpvbmUiCgkJCQkJCX0pKS5hcHBlbmQoIjxhIHRpdGxlPSfliIbkuqvliLBRUeepuumXtCcgdGFyZ2V0PSdfc2VsZicgYWhyZWY9JyIgKyB0LnNoYXJlX2dvb2QucXpvbmUgKyAiJyBvbmNsaWNrPVwiIiArIHQuc2hhcmUud2luICsgIlwiIGhyZWY9J2phdmFzY3JpcHQ6Jz7liIbkuqvliLBRUeepuumXtDwvYT4iKSksIHRoaXMuYmluZEV2ZW50KCkKCQkJCQl9LAoJCQkJCWJpbmRFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gdGhpczsKCQkJCQkJZSgiI2d3ZF9zZXR0aW5nX2NvbnRlbnQiKS5kZWxlZ2F0ZSgiLmd3ZF9zZXR0aW5nX2l0ZW0iLCAibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJZSh0aGlzKS5hZGRDbGFzcygiZ3dkX3NldHRpbmdfaXRlbV9ob3ZlciIpCgkJCQkJCX0pLCBlKCIjZ3dkX3NldHRpbmdfY29udGVudCIpLmRlbGVnYXRlKCIuZ3dkX3NldHRpbmdfaXRlbSIsICJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQllKHRoaXMpLnJlbW92ZUNsYXNzKCJnd2Rfc2V0dGluZ19pdGVtX2hvdmVyIikKCQkJCQkJfSksIGUoIiNnd2Rfc2V0dGluZ19jb250ZW50IikuZGVsZWdhdGUoImEiLCAiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJCXQuaGlkZGVuU2V0dGluZ0RpdigpCgkJCQkJCX0pLCBhLmhhbzEyMyB8fCAibWF4dGhvbiIgPT09IGEuZnJvbV9kZXZpY2UgfHwgKGUoIiMiICsgYS5sb2dvTmFtZSArICIsLmd3ZF9sb2dvLC5nd2QtbG9nbywuZ3dkLXJlLWNoYW5nZS1sb2dvIikuYmluZCgibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJYS5zaG93X2Nsb3NlTWFpbkJhciB8fCAoZSgiI2d3ZF9jbG9zZU1haW5iYXIiKS5oaWRlKCksIGUoIiNnd2Rfc2V0dGluZ19kaXYiKS5hZGRDbGFzcygiY2xvc2VfbWFpbmJhciIpKSwgZSgiI2d3ZF9zZXR0aW5nX2RpdiIpLnNob3coKQoJCQkJCQl9KS5iaW5kKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmhpZGRlblNldHRpbmdEaXYoKQoJCQkJCQl9KSwgZSgiI2d3ZF9zZXR0aW5nX2RpdiIpLmJpbmQoIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJCWNsZWFyVGltZW91dCh0LmhpZGRlblRpbWVyKQoJCQkJCQl9KS5iaW5kKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQl0LmhpZGRlblNldHRpbmdEaXYoKQoJCQkJCQl9KSkKCQkJCQl9LAoJCQkJCWhpZGRlblNldHRpbmdEaXY6IGZ1bmN0aW9uKCkgewoJCQkJCQl0aGlzLmhpZGRlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCWUoIiNnd2Rfc2V0dGluZ19kaXYiKS5oaWRlKCkKCQkJCQkJfSwgMzAwKQoJCQkJCX0KCQkJCX0KCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQl2YXIgaTsKCQkoZnVuY3Rpb24oYSwgbykgewoJCQkidXNlIHN0cmljdCI7CgkJCWkgPSBmdW5jdGlvbigpIHsKCQkJCWZ1bmN0aW9uIGUoKSB7CgkJCQkJZm9yICh2YXIgZSA9ICExLCB0ID0gSS5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkKCQkJCQkJaWYgKGUgPSBJW3RdLnRlc3QobG9jYXRpb24uaHJlZikpIHJldHVybiBlCgkJCQl9CgoJCQkJZnVuY3Rpb24gdChlKSB7CgkJCQkJQigiYm9keSIpLm9uKCJtb3VzZW92ZXIiLCAiaW1nIiwgZnVuY3Rpb24oZSkgewoJCQkJCQl2YXIgdCA9IGUudGFyZ2V0OwoJCQkJCQlpZiAodC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS10aXAiKSkgcmV0dXJuICExOwoJCQkJCQlpZiAodC53aWR0aCA+IDUwICYmIHQuaGVpZ2h0ID4gNTApIHsKCQkJCQkJCXZhciBuID0gdC5wYXJlbnRFbGVtZW50OwoJCQkJCQkJIkEiID09PSBuLnRhZ05hbWUgJiYgL15odHRwcz86XC9cLy8udGVzdChuLmhyZWYpICYmIEMuaXNQcm9kdWN0UGFnZShuLmhyZWYpID8gKGQodCksIHkgPSBpKHQsIG4uaHJlZiksIGMobiksIHIobikpIDogIkEiID09PSBuLnBhcmVudEVsZW1lbnQudGFnTmFtZSAmJiAvXmh0dHBzPzpcL1wvLy50ZXN0KG4ucGFyZW50RWxlbWVudC5ocmVmKSAmJiBDLmlzUHJvZHVjdFBhZ2Uobi5wYXJlbnRFbGVtZW50LmhyZWYpICYmIChuID0gbi5wYXJlbnRFbGVtZW50LCBkKHQpLCB5ID0gaSh0LCBuLmhyZWYpLCBjKG4pLCByKG4pKQoJCQkJCQl9CgkJCQkJfSksIHgub24oIm1vdXNlZW50ZXIiLCBzKSwgeC5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXcuaGlkZSgpLCBiID0gITEsIHguaGlkZSgpCgkJCQkJCX0sIDYwMCkKCQkJCQl9KSwgdy5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQodiksIGIgPSAhMCwgdy5zaG93KCkKCQkJCQl9KSwgdy5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXcuaGlkZSgpLCB4LmhpZGUoKSwgYiA9ICExCgkJCQkJCX0sIDYwMCkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoZSwgdCkgewoJCQkJCWlmIChhLmNyYzY0KSByZXR1cm4gdDsKCQkJCQlzd2l0Y2ggKFQuc2l0ZU5hbWUpIHsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCXZhciBuID0gQihlKS5wYXJlbnRzKCIud3JhcCIpLmZpbmQoImlucHV0LmhpZGVuSW5mbyIpLmF0dHIoImRhdGFwcm8iKS5zcGxpdCgifHwiKVswXTsKCQkJCQkJCXQgPSAiaHR0cDovL3d3dy5zdW5pbmcuY29tL2VtYWxsL3ByZF8xMDA1Ml8xMDA1MV8tN18iICsgbiArICJfLmh0bWwiCgkJCQkJfQoJCQkJCXJldHVybiB0CgkJCQl9CgoJCQkJZnVuY3Rpb24gcihlKSB7CgkJCQkJdmFyIHQgPSBCKGUpOwoJCQkJCXQuYXR0cihhLmV4dEJyYW5kICsgIl90aXBfYmluZCIpIHx8ICh0Lm9uKCJtb3VzZWxlYXZlIiwgbCksIHQuYXR0cihhLmV4dEJyYW5kICsgIl90aXBfYmluZCIsIDEpKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIHMoKSB7CgkJCQkJY2xlYXJUaW1lb3V0KHYpLCB4LnNob3coKSwgaCgpCgkJCQl9CgoJCQkJZnVuY3Rpb24gbCgpIHsKCQkJCQljbGVhclRpbWVvdXQodiksIGIgPyB2ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJeC5oaWRlKCksIHcuaGlkZSgpLCBiID0gITEKCQkJCQl9LCA2MDApIDogKHguaGlkZSgpLCB3LmhpZGUoKSkKCQkJCX0KCgkJCQlmdW5jdGlvbiBjKGUpIHsKCQkJCQl4LmNzcygibGVmdCIsIEUoZSkgKyBCKGUpLndpZHRoKCkgLyAyIC0gMzUpLCB4LmNzcygidG9wIiwgcShlKSksIHguc2hvdygpLmNzcygiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGQoZSkgewoJCQkJCXZhciB0ID0gIiI7CgkJCQkJc3dpdGNoIChhLnNpdGUpIHsKCQkJCQkJY2FzZSAieWloYW9kaWFuIjoKCQkJCQkJCXZhciBuID0gQihlKS5wYXJlbnQoKS5hdHRyKCJpZCIpLnNwbGl0KCJfIik7CgkJCQkJCQluICYmIChuID0gblsxXSksIHQgPSAiJmlkPSIgKyBuICsgIi0zMSIKCQkJCQl9CgkJCQkJayA9IHQKCQkJCX0KCgkJCQlmdW5jdGlvbiBwKGUpIHsKCQkJCQlpZiAoIWEuY3VycmVuY3kgfHwgIWUpIHJldHVybiBlOwoJCQkJCWlmIChlLnN0b3JlICYmIGUuc3RvcmUubGVuZ3RoID4gMCkKCQkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLnN0b3JlLmxlbmd0aDsgdCsrKSB7CgkJCQkJCQl2YXIgbiA9IGUuc3RvcmVbdF07CgkJCQkJCQluLnByaWNlICYmIG4ucHJpY2UubWF0Y2goL1xkKy8pICYmIChlLnN0b3JlW3RdLnByaWNlID0gIsKlIiArIFMobi5wcmljZSkpCgkJCQkJCX0KCQkJCQlpZiAoZS50cmVuZCAmJiBlLnRyZW5kLnN0b3JlLmxlbmd0aCA+IDApIHsKCQkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlLnRyZW5kLnN0b3JlWzBdLmRhdGEubGVuZ3RoOyBpKyspIHsKCQkJCQkJCXZhciBvID0gZS50cmVuZC5zdG9yZVswXS5kYXRhW2ldOwoJCQkJCQkJZS50cmVuZC5zdG9yZVswXS5kYXRhW2ldWzFdID0gUyhvWzFdKQoJCQkJCQl9CgkJCQkJCWUudHJlbmQuc3RvcmVbMF0ubWluX3ByaWNlID0gUyhlLnRyZW5kLnN0b3JlWzBdLm1pbl9wcmljZSksIGUudHJlbmQuc3RvcmVbMF0ubWF4X3ByaWNlID0gUyhlLnRyZW5kLnN0b3JlWzBdLm1heF9wcmljZSksIGUudHJlbmQuc3RvcmVbMF0uY3VycmVudF9wcmljZSA9IFMoZS50cmVuZC5zdG9yZVswXS5jdXJyZW50X3ByaWNlKQoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGgoKSB7CgkJCQkJdy5odG1sKCc8aW1nIHNyYz0iJyArIGEuc2VydmVyICsgJy90ZW1wbGF0ZS9hdWcvaW1hZ2VzLzAzNS5naWYiIHN0eWxlPSJtYXJnaW46IDVweDsiIGlkPSInICsgYS5leHRCcmFuZCArICdfcHJpY2VfdGlwX2xvYWRpbmciPicpLCB3LmNzcygid2lkdGgiLCA1MCksIHcuY3NzKCJsZWZ0IiwgRShCKHgpWzBdKSArIEIoeCkud2lkdGgoKSksIHcuY3NzKCJ0b3AiLCBxKEIoeClbMF0pKSwgYiA9ICEwLCB3LnNob3coKSwgUFt5XSA/IHUoUFt5XSkgOiBBLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L3RpcD9kYXlzPTE4MCZzaXRlPSIgKyBhLnNpdGUgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHkpICsgaykuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXJldHVybiBlID0gcChlKSwgZSAmJiAwICE9PSBlLnRyZW5kLnN0b3JlLmxlbmd0aCA/IChQW3ldID0gZSwgdm9pZCB1KGUpKSA6IGcoKQoJCQkJCX0pLmZhaWwoZykKCQkJCX0KCgkJCQlmdW5jdGlvbiB1KGUpIHsKCQkJCQlmKGUpOwoJCQkJCXZhciB0ID0gIiI7CgkJCQkJInRvcC5qZC5jb20iID09PSBsb2NhdGlvbi5ob3N0ICYmICh0ID0gImpkdG9wIiksIHcuaHRtbChqLmNvbXBpbGUoTikoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQluZXdfZXh0ZW5zaW9uOiBhLm5ld19leHRlbnNpb24sCgkJCQkJCWV4dE5hbWU6IGEuZXh0TmFtZSwKCQkJCQkJZXh0QnJhbmQ6IGEuZXh0QnJhbmQsCgkJCQkJCWpkdG9wOiB0CgkJCQkJfSkpLCB3LmNzcygid2lkdGgiLCA0NTApLCBCKHdpbmRvdykud2lkdGgoKSAtIEUod1swXSkgLSBCKHgpLndpZHRoKCkgPCA0NTAgJiYgdy5jc3MoImxlZnQiLCBFKHdbMF0pIC0gNDUwIC0gQih4KS53aWR0aCgpKSwgXyhlLnRyZW5kKSwgbShlKQoJCQkJfQoKCQkJCWZ1bmN0aW9uIG0oZSkgewoJCQkJCUIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwX25vdGlmeV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbih0KSB7CgkJCQkJCXQucHJldmVudERlZmF1bHQoKSwgQigiIyIgKyBhLmV4dEJyYW5kICsgIl9ub3RpZnlfZXJyb3IiKS5oaWRlKCksIEIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwX25vdGlmeV9idG4iKS50ZXh0KCLmraPlnKjmt7vliqAuLi4uLi4iKSwgQS5nZXQoYS5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9IiArIGUuZHBfaWQgKyAiJmZyb209dGlwIikuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCQkxMDAgPT0gZS5jb2RlIHx8IGUuY29kZSA8PSAwID8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovL3d3dy4iICsgYS5leHROYW1lICsgIi5jb20vdXNlci9sb2dpbj9mcm9tX3VybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSA6IDEgPT0gZS5jb2RlID8gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfbm90aWZ5X2J0biIpLnRleHQoIuW3sua3u+WKoOWIsOaUtuiXj+WkuSIpLmF0dHIoInN0eWxlIiwgImZsb2F0OnJpZ2h0O2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMThBMEY1OyIpIDogMiA9PSBlLmNvZGUgJiYgIuato+WcqOa3u+WKoC4uLi4uLiIgPT0gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfbm90aWZ5X2J0biIpLnRleHQoKSAmJiBCKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX3RpcF9ub3RpZnlfYnRuIikudGV4dCgi5L2g5bey57uP5re75Yqg6L+H5ZWmIikuYXR0cigic3R5bGUiLCAiZmxvYXQ6cmlnaHQ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMxOEEwRjU7IikKCQkJCQkJfSkKCQkJCQl9KQoJCQkJfQoKCQkJCWZ1bmN0aW9uIGYoZSkgewoJCQkJCXZhciB0ID0gWzEsIDEwMywgMTA4LCAxMjMsIDEyNCwgMTI2LCAxMjksIDEzNCwgMTM2LCAxNCwgMTQxLCAxNSwgMTY3LCAxNjgsIDE5LCAyLCAyMSwgMjUsIDI2LCAyOCwgMywgMzEsIDM0LCAzNSwgNDEsIDYsIDY2LCA3LCA4NiwgOTMsIDldLAoJCQkJCQluID0gZS5zdG9yZTsKCQkJCQlpZiAobikKCQkJCQkJZm9yICh2YXIgaSA9IG4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKCQkJCQkJCW5baV0uaWNvbl91cmwgPSBuW2ldLmljb25fdXJsLnJlcGxhY2UoImJyb3dzZXIiLCAiczEiKTsKCQkJCQkJCXZhciBvID0gL1wvKFxkKylcLmljby8uZXhlYyhuW2ldLmljb25fdXJsKTsKCQkJCQkJCW8gJiYgKG8gPSBvWzFdLCAhYS5JRTYgJiYgdC5pbmRleE9mKE51bWJlcihvKSkgPiAtMSAmJiAobltpXS5pY29uX3VybCA9IG5baV0uaWNvbl91cmwucmVwbGFjZSgvXGQrXC5pY28vLCBvICsgIi5wbmciKS5yZXBsYWNlKC9icm93c2VyXC4vLCAiczEuIikpKQoJCQkJCQl9CgkJCQl9CgoJCQkJZnVuY3Rpb24gZygpIHsKCQkJCQl3Lmh0bWwoJzxkaXYgc3R5bGU9ImNvbG9yOiM3NzciPuW+iOaKseatiSA6KCDmmoLml6Dmr5Tku7flkozku7fmoLzljoblj7Lkv6Hmga/miJHku6zkvJrlsL3lv6vmlLblvZU8L2Rpdj4nKSwgdy5jc3MoIndpZHRoIiwgMTAwKSwgdy5zaG93KCkKCQkJCX0KCgkJCQlmdW5jdGlvbiBfKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gQigiIyIgKyBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfdHJlbmQiKSwgbiA9IHsKCQkJCQkJY2hhcnQ6IHsKCQkJCQkJCXJlbmRlclRvOiBhLmV4dEJyYW5kICsgIl9wcmljZV90aXBfdHJlbmQiLAoJCQkJCQkJdHlwZTogImxpbmUiLAoJCQkJCQkJc3BhY2luZ1RvcDogMCwKCQkJCQkJCXNwYWNpbmdCb3R0b206IDAsCgkJCQkJCQlzcGFjaW5nTGVmdDogMCwKCQkJCQkJCXNwYWNpbmdSaWdodDogMAoJCQkJCQl9LAoJCQkJCQljcmVkaXRzOiB7CgkJCQkJCQllbmFibGVkOiAhMQoJCQkJCQl9LAoJCQkJCQljb2xvcnM6IFsiIzJmN2VkOCJdLAoJCQkJCQl0aXRsZTogewoJCQkJCQkJdGV4dDogIuacgOi/kTE4MOWkqeS7t+agvOWOhuWPsiIsCgkJCQkJCQlzdHlsZTogewoJCQkJCQkJCWNvbG9yOiAiIzJmN2VkOCIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeEF4aXM6IHsKCQkJCQkJCXR5cGU6ICJkYXRldGltZSIsCgkJCQkJCQlkYXRlVGltZUxhYmVsRm9ybWF0czogewoJCQkJCQkJCWRheTogIiVtLSVkIiwKCQkJCQkJCQl3ZWVrOiAiJW0tJWQiLAoJCQkJCQkJCW1vbnRoOiAiJW0tJWQiCgkJCQkJCQl9LAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQlsYWJlbHM6IHsKCQkJCQkJCQl4OiAtMTIKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJeUF4aXM6IHsKCQkJCQkJCXRpdGxlOiBudWxsLAoJCQkJCQkJcGxvdExpbmVzOiBbewoJCQkJCQkJCXZhbHVlOiAwLAoJCQkJCQkJCXdpZHRoOiAxLAoJCQkJCQkJCWNvbG9yOiAiIzgwODA4MCIKCQkJCQkJCX1dLAoJCQkJCQkJZ3JpZExpbmVDb2xvcjogIiNjMGQwZTAiLAoJCQkJCQkJbWlub3JHcmlkTGluZUNvbG9yOiAiI2RmZGZkZiIsCgkJCQkJCQl0aWNrUGl4ZWxJbnRlcnZhbDogNTAKCQkJCQkJfSwKCQkJCQkJcGxvdE9wdGlvbnM6IHsKCQkJCQkJCXNlcmllczogewoJCQkJCQkJCWFuaW1hdGlvbjogITEsCgkJCQkJCQkJbWFya2VyOiB7CgkJCQkJCQkJCXJhZGl1czogMgoJCQkJCQkJCX0sCgkJCQkJCQkJc2VyaWVzOiB7CgkJCQkJCQkJCWVuYWJsZU1vdXNlVHJhY2tpbmc6ICExCgkJCQkJCQkJfSwKCQkJCQkJCQlzaGFkb3c6ICExCgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCXRvb2x0aXA6IHsKCQkJCQkJCXhEYXRlRm9ybWF0OiAiJVktJW0tJWQiCgkJCQkJCX0sCgkJCQkJCWxlZ2VuZDogewoJCQkJCQkJZW5hYmxlZDogITEKCQkJCQkJfSwKCQkJCQkJc2VyaWVzOiBbXQoJCQkJCX0sIGkgPSBlLnN0b3JlLmxlbmd0aCwgciA9IDA7IGkgPiByOyByKyspCgkJCQkJCWlmIChuLnNlcmllc1tyXSA9IHsKCQkJCQkJCXZpc2libGU6ICEwLAoJCQkJCQkJbmFtZTogZS5zdG9yZVtyXS5uYW1lLAoJCQkJCQkJcG9pbnRTdGFydDogZS5zdG9yZVswXS5kYXRhWzBdWzBdLAoJCQkJCQkJcG9pbnRJbnRlcnZhbDogODY0ZTUsCgkJCQkJCQlkYXRhOiBbXQoJCQkJCQl9LCBlLnN0b3JlW3JdLmRhdGEubGVuZ3RoID4gMCkgewoJCQkJCQkJdmFyIHMgPSBlLnN0b3JlW3JdLAoJCQkJCQkJCWwgPSBzLmRhdGEubGVuZ3RoLAoJCQkJCQkJCWMgPSBzLmRhdGE7CgkJCQkJCQkxZTMgKiBzLm1pbl9zdGFtcCA+IHBhcnNlSW50KERhdGUuVVRDKGUuc3RhcnRZLCBlLnN0YXJ0TSwgZS5zdGFydEQpKSAmJiBuLnNlcmllc1tyXS5kYXRhLnB1c2gobnVsbCk7CgkJCQkJCQlmb3IgKHZhciBkID0gMDsgbCA+IGQ7IGQrKykgewoJCQkJCQkJCXZhciBwID0gbmV3IEFycmF5KDIpOwoJCQkJCQkJCXBbMF0gPSBwYXJzZUludChjW2RdWzBdKSwgcFsxXSA9IHBhcnNlRmxvYXQoY1tkXVsxXSksIG4uc2VyaWVzW3JdLmRhdGEucHVzaChwKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJQigiIyIgKyBuLmNoYXJ0LnJlbmRlclRvKS5sZW5ndGggJiYgbmV3IG8uQ2hhcnQobiksIHQuc2hvdygpCgkJCQl9CgkJCQl2YXIgeCwgdywgdiwgYiwgeSwgaywgeiA9IHt9LAoJCQkJCUIgPSBuKDYpLAoJCQkJCWogPSBuKDE2KSwKCQkJCQlDID0gbig1KSwKCQkJCQlTID0gbig0MCksCgkJCQkJTiA9IG4oMTY4KSwKCQkJCQlUID0gYS5wYWdlSW5mbywKCQkJCQlQID0ge30sCgkJCQkJSSA9IFsvdGFvYmFvXC5jb20vLCAvc2hhbmdwaW5cLmNvbS9dLAoJCQkJCUEgPSBuKDkpLAoJCQkJCXEgPSBmdW5jdGlvbiBPKGUpIHsKCQkJCQkJdmFyIHQgPSBlLm9mZnNldFRvcDsKCQkJCQkJcmV0dXJuIG51bGwgIT0gZS5vZmZzZXRQYXJlbnQgJiYgKHQgKz0gTyhlLm9mZnNldFBhcmVudCkpLCB0CgkJCQkJfSwKCQkJCQlFID0gZnVuY3Rpb24gTChlKSB7CgkJCQkJCXZhciB0ID0gZS5vZmZzZXRMZWZ0OwoJCQkJCQlyZXR1cm4gbnVsbCAhPSBlLm9mZnNldFBhcmVudCAmJiAodCArPSBMKGUub2Zmc2V0UGFyZW50KSksIHQKCQkJCQl9OwoJCQkJcmV0dXJuIHouaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJCWUoKSB8fCAoMSA9PT0gVC50eXBlICYmIChCKCJib2R5IikuYXBwZW5kKCc8YSBpZCA9IicgKyBhLmV4dEJyYW5kICsgJ19wcmljZV90aXAiIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiB0YXJnZXQ9Il9zZWxmIiA+PC9hPjxkaXYgaWQ9IicgKyBhLmV4dEJyYW5kICsgJ19wcmljZV90aXBfZGV0YWlsIj48L2Rpdj4nKSwgeCA9IEIoIiMiICsgYS5leHRCcmFuZCArICJfcHJpY2VfdGlwIiksIHcgPSBCKCIjIiArIGEuZXh0QnJhbmQgKyAiX3ByaWNlX3RpcF9kZXRhaWwiKSksIHQoKSkKCQkJCX0sIHoKCQkJfS5jYWxsKHQsIG4sIHQsIGUpLCAhKHZvaWQgMCAhPT0gaSAmJiAoZS5leHBvcnRzID0gaSkpCgkJfSkuY2FsbCh0LCBuKDEpLCBuKDk0KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzx1bCBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9zdG9yZSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+XG4gIDxsaT48YSB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gaHJlZj0ie3tkYXRhLm1vcmVfbGlua319IiB0YXJnZXQ9Il9ibGFuayIge3svaWZ9fT48c3BhbiBjbGFzcz0idGxlYiI+5ZWG5a625q+U5Lu377yaPC9zcGFuPjwvYT48L2xpPlxuICB7e2VhY2ggZGF0YS5zdG9yZX19XG4gIDxsaT5cbiAgICA8aW1nIHNyYz0ie3skdmFsdWUuaWNvbl91cmx9fSIgYWx0PSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19Ij5cbiAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPHNwYW4gYWx0PSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSIgdGl0bGU9Int7JHZhbHVlLnNpdGVfbmFtZX19IiB7e2lmICRpbmRleCA9PSAwfX1zdHlsZT0iY29sb3I6I2Q4MDAwMSJ7ey9pZn19Pnt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgPC9hPlxuICA8L2xpPlxuICB7ey9lYWNofX1cbiAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgPGxpPjxhIGhyZWY9Int7ZGF0YS5tb3JlX2xpbmt9fSIgdGFyZ2V0PSJfYmxhbmsiPjxzcGFuIGNsYXNzPSJ0bGUiPnt7ZGF0YS5tb3JlX3RsZX19PC9zcGFuPjwvYT48L2xpPlxuICB7ey9pZn19XG48L3VsPlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF90cmVuZCIgc3R5bGU9IndpZHRoOiAzMDBweDsgaGVpZ2h0OiAxNTBweDsiPjwvZGl2PlxuPGRpdiBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9vdGhlciIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrOyI+XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV90aXBfbGVmdF9pbmZvIiBzdHlsZT0iZmxvYXQ6IGxlZnQ7IGhlaWdodDogNTBweDsgd2lkdGg6IDk4cHg7IG1hcmdpbjogMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij5cbiAgICA8YSBpZD0ie3tleHRCcmFuZH19X3ByaWNlX3RpcF9sb2dvIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX1ocmVmPSJodHRwOi8vd3d3Lnt7ZXh0TmFtZX19LmNvbSIgdGFyZ2V0PSJfYmxhbmsiIHt7L2lmfX0gc3R5bGU9ImRpc3BsYXk6aW5saW5lO21hcmdpbi10b3A6MHB4O2JhY2tncm91bmQtcG9zaXRpb246LTIzN3B4IDhweDsiPjwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9wcmljZV90aXBfbm90aWZ5IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7Ij5cbiAgICA8ZGl2IGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfdGlwX3JlY29yZCI+IFxuICAgICAgPHNwYW4gaWQ9Int7ZXh0QnJhbmR9fV9taW4iIHN0eWxlPSJmb250LXdlaWdodDpib2xkIj7mnIDkvY46IHt7ZGF0YS50cmVuZC5zdG9yZVswXS5taW5fcHJpY2V9feWFgzwvc3Bhbj5cbiAgICAgIDxzcGFuIGlkPSJ7e2V4dEJyYW5kfX1fbWF4Ij7mnIDpq5g6IHt7ZGF0YS50cmVuZC5zdG9yZVswXS5tYXhfcHJpY2V9feWFgzwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICB7e2lmICFuZXdfZXh0ZW5zaW9ufX1cbiAgICAgIDxhIGlkPSJ7e2V4dEJyYW5kfX1fcHJpY2VfdGlwX25vdGlmeV9idG4iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9ImZsb2F0OnJpZ2h0OyIgdGFyZ2V0PSJfc2VsZiI+5pS26JeP5bm26ZmN5Lu35o+Q6YaSPC9hPlxuICAgICAgPGRpdiBzdHlsZT0iY2xlYXI6Ym90aDsiIGlkPSJ7e2V4dEJyYW5kfX1fbW9yZV9saW5rIj5cbiAgICAgICAge3tkYXRhLnNpdGVfbmFtZX19XG4gICAgICAgIHt7ZWFjaCBkYXRhLm1vcmV9fVxuICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICAgIHt7aWYgJGluZGV4ICsgMSAhPSBkYXRhLm1vcmUubGVuZ3RofX3jgIF7ey9pZn19XG4gICAgICAgIHt7L2VhY2h9fVxuICAgICAgPC9kaXY+XG4gICAge3svaWZ9fVxuICAgIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGg7Ij48L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgc3R5bGU9ImNsZWFyOmJvdGg7Ij48L2Rpdj5cbiAge3tpZiBqZHRvcCA9PT0gXCdqZHRvcFwnfX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZ3dkXzM2MGJ1eSBzdmcgcGF0aCB7XG4gICAgICBmaWxsOiBub25lO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAge3svaWZ9fVxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJdmFyIGk7CgkJKGZ1bmN0aW9uKGEpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQlpID0gZnVuY3Rpb24oKSB7CgkJCQl2YXIgZSA9IG4oNiksCgkJCQkJdCA9IG4oOSk7CgkJCQlyZXR1cm4gewoJCQkJCW1vZE5hbWU6IGEuZXh0QnJhbmQgKyAiX3Byb2R1Y3RNb25pdG9yIiwKCQkJCQl1cmw6ICIiLAoJCQkJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkJCQl0aGlzLnVybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CgkJCQkJCXZhciBlID0gYS50al9zZXJ2ZXI7CgkJCQkJCWlmIChhLm5ld19leHRlbnNpb24gJiYgKGUgPSBhLnNlcnZlciksIHRoaXMuaXNNb25pdG9yU2l0ZSgpICYmIHRoaXMudXJsLnNlYXJjaCgic2VhcmNoIikgPiAtMSkgewoJCQkJCQkJdGhpcy5iaW5kRXZlbnQoKTsKCQkJCQkJCXZhciBuID0gdGhpcy5nZXRrZXl3b3JkcygpOwoJCQkJCQkJaWYgKCIiID09IG4ua2V5d29yZCkgcmV0dXJuOwoJCQkJCQkJdC5nZXQoZSArICIva2V5d29yZHNfbG9nP2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmtleXdvcmQpICsgIiZzaXRlPSIgKyBhLnNpdGUgKyAiJmNoYXJzZXQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmNoYXJzZXRzKSkKCQkJCQkJfQoJCQkJCX0sCgkJCQkJaXNNb25pdG9yU2l0ZTogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gYS5zaXRlOwoJCQkJCQlmb3IgKHZhciB0IGluIHRoaXMua2V5d29yZHNQYXR0ZXJucykKCQkJCQkJCWlmIChlID09IHQpIHJldHVybiAhMDsKCQkJCQkJcmV0dXJuICExCgkJCQkJfSwKCQkJCQlnZXRrZXl3b3JkczogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciB0ID0gYS5zaXRlLAoJCQkJCQkJbiA9IHRoaXMua2V5d29yZHNQYXR0ZXJuc1t0XSwKCQkJCQkJCWkgPSAiIiwKCQkJCQkJCW8gPSB7CgkJCQkJCQkJa2V5d29yZDogIiIsCgkJCQkJCQkJY2hhcnNldHM6ICIiCgkJCQkJCQl9LAoJCQkJCQkJciA9ICIiLAoJCQkJCQkJcyA9ICIiOwoJCQkJCQl0cnkgewoJCQkJCQkJaSA9IG5ldyBSZWdFeHAoIiIgKyBuICsgIihbXiYvXSspIiksIHMgPSB0aGlzLnVybC5tYXRjaChpKVsxXQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQlpZiAoYS5kZWJ1ZykgdGhyb3cgbAoJCQkJCQl9CgkJCQkJCWlmICgiIiA9PSBzKSB0cnkgewoJCQkJCQkJaSA9IG5ldyBSZWdFeHAoIiIgKyBuICsgIihbXigvfD8pXSspIiksIHMgPSB0aGlzLnVybC5tYXRjaChpKVsxXQoJCQkJCQl9IGNhdGNoIChsKSB7CgkJCQkJCQlpZiAoYS5kZWJ1ZykgdGhyb3cgbAoJCQkJCQl9CgkJCQkJCXRyeSB7CgkJCQkJCQlyID0gZSgiW2h0dHAtZXF1aXY9J0NvbnRlbnQtVHlwZSddIikuYXR0cigiY29udGVudCIpLm1hdGNoKC9jaGFyc2V0PShbMC05YS16QS1aLV0rKS8pWzFdCgkJCQkJCX0gY2F0Y2ggKGwpIHsKCQkJCQkJCWlmIChhLmRlYnVnKSB0aHJvdyBsCgkJCQkJCX0KCQkJCQkJaWYgKCFyKSB0cnkgewoJCQkJCQkJciA9IGUoIm1ldGFbY2hhcnNldF0iKS5hdHRyKCJjaGFyc2V0IikKCQkJCQkJfSBjYXRjaCAobCkgewoJCQkJCQkJaWYgKGEuZGVidWcpIHRocm93IGwKCQkJCQkJfQoJCQkJCQlyZXR1cm4gby5rZXl3b3JkID0gcywgby5jaGFyc2V0cyA9IHIsIG8KCQkJCQl9LAoJCQkJCWJpbmRFdmVudDogZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBuID0gdGhpcy5nZXRrZXl3b3JkcygpLAoJCQkJCQkJaSA9IG4ua2V5d29yZCwKCQkJCQkJCW8gPSBuLmNoYXJzZXRzOwoJCQkJCQllKCJib2R5IikuZGVsZWdhdGUoImltZywgYXJlYSIsICJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIG4gPSBlKHRoaXMpLnBhcmVudCgpLmF0dHIoImhyZWYiKTsKCQkJCQkJCXQuZ2V0KGEudGpfc2VydmVyICsgIi9sb2c/cGVybWFuZW50X2lkPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5wX2lkKSArICImdXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQobikgKyAiJmtleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChpKSArICImY2hhcnNldD0iICsgbykKCQkJCQkJfSkKCQkJCQl9LAoJCQkJCWtleXdvcmRzUGF0dGVybnM6IHsKCQkJCQkJIjM2MGJ1eSI6ICJrZXl3b3JkPSIsCgkJCQkJCXRhb2JhbzogIls/Jl1xPSIsCgkJCQkJCXRtYWxsOiAiWz8mXXE9IiwKCQkJCQkJZGFuZ2Rhbmc6ICJrZXk9IiwKCQkJCQkJanVtZWk6ICJzZWFyY2g9IiwKCQkJCQkJZ29tZTogInF1ZXN0aW9uPSIsCgkJCQkJCXlpaGFvZGlhbjogIi9jLisvayIsCgkJCQkJCXN1bmluZzogImNvbS8iCgkJCQkJfQoJCQkJfQoJCQl9LmNhbGwodCwgbiwgdCwgZSksICEodm9pZCAwICE9PSBpICYmIChlLmV4cG9ydHMgPSBpKSkKCQl9KS5jYWxsKHQsIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICIiCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSBuKDkpLAoJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5vbigiY2xpY2siLCAiLml0ZW1fY2xvc2VfYnRuIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXZhciBlID0gdCh0aGlzKS5hdHRyKCJkYXRhLWlkIik7CgkJCQkJCXMoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIG4gPSBpLmNfc2VydmVyICsgIi9jb2xsZWN0L2FqX2RlbD9kcF9pZD0iICsgZTsKCQkJCQlvLmdldChuKS5kb25lKGZ1bmN0aW9uKG4pIHsKCQkJCQkJMSA9PSBuLmNvZGUgJiYgKGUgPT0gaS5ub3dfZHBfaWQgJiYgdCgiI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1jb2wiKS50ZXh0KCLmlLbol4/llYblk4EiKS5yZW1vdmVDbGFzcygiY29sbGVjdGVkIiksIHQoIiN0b3BmYXZvcl9kZXRhaWwgLnNwLWRlbCIpLnNob3coKS5mYWRlT3V0KDNlMyksIGQoYykpCgkJCQkJfSkKCQkJCX0sCgkJCQlsID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpLmNvbGxlY3RJbmZvLAoJCQkJCQluID0gaS5kcDsKCQkJCQllLnByaWNlID0gbi5vbGRQcmljZSwgZS50aXRsZSA9IG4ubmFtZSB8fCB0KCJ0aXRsZSIpLmh0bWwoKSwgZS51cmwgPSBlLnVybCB8fCBsb2NhdGlvbi5ocmVmLCBlLmltZyA9IGUuaW1nIHx8IG4uaW1nOwoJCQkJCXZhciBhID0gaS5jX3NlcnZlciArICIvY29sbGVjdC9hal9hZGQ/ZHBfaWQ9IiArIGUuZHBfaWQgKyAiJnVybD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudXJsKSArICImaW1nPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5pbWcpICsgIiZ0aXRsZT0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUudGl0bGUpICsgIiZwcmljZT0iICsgZS5wcmljZSArICImc2l0ZV9pZD0iICsgZS5zaXRlX2lkICsgIiZjYXRfaWQ9IiArIG4uY2F0X2lkOwoJCQkJCW8uZ2V0KGEpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQkiMSIgPT09IGUuY29kZSA/IChkKGMpLCB0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgLnNwLWNvbCIpLnRleHQoIuaUtuiXj+aIkOWKnyIpLmFkZENsYXNzKCJjb2xsZWN0ZWQiKSkgOiAiMiIgPT09IGUuY29kZSAmJiB0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgLnNwLWNvbCIpLnRleHQoIuaUtuiXj+i/h+S6hiIpLmFkZENsYXNzKCJjb2xsZWN0ZWQiKQoJCQkJCX0pCgkJCQl9LAoJCQkJYyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBvID0gMDsgbyA8IGUucHJvZHVjdHMubGVuZ3RoOyBvKyspIHsKCQkJCQkJdmFyIHMgPSBlLnByb2R1Y3RzW29dLmRwX2lkLnNwbGl0KCItIilbMV07CgkJCQkJCWUucHJvZHVjdHNbb10uc2l0ZV9pZCA9IHMKCQkJCQl9CgkJCQkJdmFyIGwgPSBuKDE3Mik7CgkJCQkJdCgiI3RvcGZhdm9yX2RldGFpbCAuZmF2b3ItbGlzdCIpLmVtcHR5KCkuYXBwZW5kKGEuY29tcGlsZShsKSh7CgkJCQkJCWRhdGE6IGUucHJvZHVjdHMsCgkJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyCgkJCQkJfSkpLCB0KCIuc2VlLWFsbC1mYXZvciBlbSIpLnRleHQoZS50b3RhbF9jbnQpLCB0KCIuc2VlLWFsbC1mYXZvciIpLmF0dHIoImhyZWYiLCAiIiArIGkuY19zZXJ2ZXIgKyBlLmp1bXBfdXJsKSwgcigpLCB0KCIjdG9wZmF2b3JfZGV0YWlsIikuaGFzQ2xhc3MoImlzbG9naW4iKSB8fCB0KCIjdG9wZmF2b3JfZGV0YWlsIikuYWRkQ2xhc3MoImlzbG9naW4iKQoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbihlKSB7CgkJCQkJdmFyIHQgPSBpLmNfc2VydmVyICsgIi9hcHAvY29sbGVjdGlvbiI7CgkJCQkJby5nZXQodCkuZG9uZShmdW5jdGlvbih0KSB7CgkJCQkJCWUodCkKCQkJCQl9KQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJdC5hamF4KHsKCQkJCQkJdHlwZTogInBvc3QiLAoJCQkJCQl1cmw6ICJodHRwczovL3d3dy4iICsgaS5leHROYW1lICsgIi5jb20vdXNlci9hal9sb2dpbiIsCgkJCQkJCXhockZpZWxkczogewoJCQkJCQkJd2l0aENyZWRlbnRpYWxzOiAhMAoJCQkJCQl9LAoJCQkJCQljcm9zc0RvbWFpbjogITAsCgkJCQkJCWRhdGE6IHsKCQkJCQkJCWVtYWlsOiBlLAoJCQkJCQkJcGFzc3dvcmQ6IG4sCgkJCQkJCQl0OiAiY2hlY2siLAoJCQkJCQkJaG9zdDogbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdAoJCQkJCQl9LAoJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihlKSB7CgkJCQkJCQlhKGUpCgkJCQkJCX0KCQkJCQl9KQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQl0KCIjdG9wZmF2b3JfZGV0YWlsIC50b3BmLWhlYWQgc3BhbiIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsKCkKCQkJCQl9KSwgdCgiI3RvcGZhdm9yX2RldGFpbCAubG9naW5fY2xpY2siKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSB0KCIjdG9wZmF2b3JfZGV0YWlsICN1c2VybmFtZSIpLnZhbCgpLAoJCQkJCQkJbiA9IHQoIiN0b3BmYXZvcl9kZXRhaWwgI3Bhc3N3b3JkIikudmFsKCk7CgkJCQkJCXJldHVybiBlICYmIG4gPyB2b2lkIHAoZSwgbiwgZnVuY3Rpb24obikgewoJCQkJCQkJIjEiID09PSBuID8gKGkuZW1haWwgPSBlLCBkKGMpKSA6IHQoIiN0b3BmYXZvcl9kZXRhaWwgLmxvZ2luX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDVlMykKCQkJCQkJfSkgOiB2b2lkIHQoIiN0b3BmYXZvcl9kZXRhaWwgLmxvZ2luX3JlbWluZCIpLnNob3coKS5mYWRlT3V0KDVlMykKCQkJCQl9KSwgdCgiI2d3ZGFuZy1mYXZvciIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5zaG93KCksIHQodGhpcykuYWRkQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCX0pLCB0KCIjZ3dkYW5nLWZhdm9yIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIG4gPSB0aGlzOwoJCQkJCQllID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5oaWRlKCksIHQobikucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKQoJCQkJCQl9LCAxMDApCgkJCQkJfSksIHQoIiN0b3BmYXZvcl9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoZSkKCQkJCQl9KSwgdCgiI3RvcGZhdm9yX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiN0b3BmYXZvcl9kZXRhaWwiKS5oaWRlKCksIHQoIiNnd2RhbmctZmF2b3IiKS5yZW1vdmVDbGFzcygibXNIb3ZlciIpCgkJCQkJfSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCW8gPSAiI2d3ZGFuZy1tYWluIiwKCQkJCQkJciA9ICJ0b3A6MzdweDsiOwoJCQkJCSJib3R0b20iID09PSBpLnN0eWxlICYmIChvID0gIiNiamRfYm90dG9tX2RldGFpbCIsIHIgPSAiYm90dG9tOiA2MHB4O2JveC1zaGFkb3c6IDAgMHB4IDVweCAwIHJnYmEoMCwwLDAsMC4zMCk7cmlnaHQ6IDQwcHg7IiksICghaS5ub3dfZHBfaWQgfHwgaS5ub3dfZHBfaWQubWF0Y2goL14wLVxkKyQvKSkgJiYgKGUgPSAhMCk7CgkJCQkJdmFyIHMgPSBuKDE3Myk7CgkJCQkJdChvKS5hcHBlbmQoYS5jb21waWxlKHMpKHsKCQkJCQkJZW1haWw6IGkuZW1haWwsCgkJCQkJCWhpZGVidG46IGUsCgkJCQkJCXBhZ2V1cmw6IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmKSwKCQkJCQkJc3R5bGU6IHIKCQkJCQl9KSksIGgoKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXUoKSwgaS5lbWFpbCAmJiBkKGMpCgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICd7e2VhY2ggZGF0YX19XG4gIDxsaSA+XG4gICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij48aW1nIGlkPSJkcF97eyR2YWx1ZS5kcF9pZH19IiAgc3JjPSJ7eyR2YWx1ZS5waWNfdXJsfX0iPjwvYT5cbiAgICA8ZGl2IGNsYXNzPSJpdGVtX2Rlc2MiPlxuICAgICAgPGEgY2xhc3M9Iml0ZW1fdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPnt7JHZhbHVlLnRpdGxlfX08L2E+XG4gICAgICA8YSBjbGFzcz0ib3RoZXJfZGVzYyI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iID48aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW1fcHJpY2UiPsKle3skdmFsdWUubm93X3ByaWNlfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJpdGVtX2Nsb3NlX2J0biIgZGF0YS1pZD0ie3skdmFsdWUuZHBfaWR9fSI+5Yig6ZmkPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2xpPlxue3svZWFjaH19JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0idG9wZmF2b3JfZGV0YWlsIiBjbGFzcz0ie3tpZiBlbWFpbH19aXNsb2dpbnt7L2lmfX0iIHN0eWxlPSJ7e3N0eWxlfX0iPiBcbiAgICA8ZGl2IGNsYXNzPSJ0b3BmLWhlYWQiPlxuICAgICAgPGRpdj7mlLbol4/lubbpmY3ku7fmj5DphpI8L2Rpdj5cbiAgICAgIDxzcGFuIGNsYXNzPSJzcC1kZWwiPuWIoOmZpOaIkOWKnzwvc3Bhbj5cbiAgICAgIHt7aWYgIWhpZGVidG59fVxuICAgICAgPHNwYW4gY2xhc3M9InNwLWNvbCI+5pS26JeP5ZWG5ZOBPC9zcGFuPlxuICAgICAge3svaWZ9fVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InRvcGYtYm9keSI+XG4gICAgICA8ZGl2IGNsYXNzPSJsb2dpbl9kZXRhaWwiPlxuICAgICAgICA8cCBjbGFzcz0ibG9naW4tcmVtaW5kIj7or7flhYgg55m75b2VIOi0reeJqeWFmu+8jOaIluS9v+eUqOesrOS4ieaWuei0puWPt+eZu+W9lTwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz0ibG9naW5pbmZvIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiAgaWQ9InVzZXJuYW1lIiBwbGFjZWhvbGRlcj0i6LSm5Y+3IiBhdXRvY29tcGxldGU9Im9mZiI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgcGxhY2Vob2xkZXI9IuWvhueggSI+IFxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvZm9yZ290X3B3ZC8iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZm9yZ2V0X3Bhc3MiPuW/mOiusOWvhueggTwvYT5cbiAgICAgICAgPHNwYW4gY2xhc3M9ImxvZ2luX2NsaWNrIj7nmbvlvZU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJsb2dpbl9yZW1pbmQiPueUqOaIt+WQjeaIluWvhueggemUmeivrzwvc3Bhbj5cbiAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvcmVnaXN0ZXIiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0icmVnaXN0ZXIiPuW/q+mAn+azqOWGjDwvYT5cbiAgICAgICAgPGRpdiBjbGFzcz0ic2xpY2VfZGl2Ij4gPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9Im90aGVyX2xvZ2luIj5cbiAgICAgICAgICA8YSBocmVmPSJodHRwOi8vd3d3Lmd3ZGFuZy5jb20vdXNlci9vYXV0aC8/cGw9NyZvcD1sb2dpbiZmcm9tX3VybD17e3BhZ2V1cmx9fSIgY2xhc3M9InFxbG9naW4iIHRhcmdldD0iX2JsYW5rIj48L2E+XG4gICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3d3dy5nd2RhbmcuY29tL3VzZXIvb2F1dGhoLz9wbD0yJm9wPWxvZ2luJmZyb21fdXJsPXt7cGFnZXVybH19IiBjbGFzcz0ic2luYWxvZ2luIiB0YXJnZXQ9Il9ibGFuayI+PC9hPlxuICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vb3Blbi53ZWl4aW4ucXEuY29tL2Nvbm5lY3QvcXJjb25uZWN0P2FwcGlkPXd4MzQwMDZjMTQxZjlkYWEzYSZyZXNwb25zZV90eXBlPWNvZGUmc2NvcGU9c25zYXBpX2xvZ2luJnN0YXRlPTJjZWQ5NzBkNWI5NzY4MGU5NTY3MGE0OGQxMTAyNjExJnJlZGlyZWN0X3VyaT1odHRwJTNBJTJGJTJGd3d3Lmd3ZGFuZy5jb20lMkZ1c2VyJTJGd2VjaGF0X29hdXRoJTJGJTNGcGwlM0Q5JTI2b3AlM0Rsb2dpbiUyNmZyb21fdXJsJTNEe3twYWdldXJsfX0iIGNsYXNzPSJ3ZWl4aW5sb2dpbiIgdGFyZ2V0PSJfYmxhbmsiPjwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9ImZhdm9yLWRwLWRldGFpbCI+XG4gICAgICAgIDx1bCBjbGFzcz0iZmF2b3ItbGlzdCI+XG4gICAgICAgICAgXG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxhIGNsYXNzPSJzZWUtYWxsLWZhdm9yIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iIj7mn6XnnIvlhajpg6goPGVtPjwvZW0+KTwvYT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHJpZ2h0OiAwcHg7XG4gICAgICAgIHdpZHRoOiAyODBweDtcbiAgICAgICAgaGVpZ2h0OiAzNzZweDtcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgcmdiYSgwLDAsMCwwLjMwKTtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnRvcGYtaGVhZCB7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1ib2R5IHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAudG9wZi1oZWFkICoge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnRvcGYtaGVhZCBkaXYge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIHNwYW4uc3AtY29sIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0YwNzg2MDtcbiAgICAgICAgY29sb3I6ICNGMDc4NjA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgd2lkdGg6IDY4cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAxMXB4O1xuICAgICAgICByaWdodDogMTRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1kZWwge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbG9yOiAjRjA3ODYwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIHRvcDogMTJweDtcbiAgICAgICAgbGVmdDogMTMwcHg7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9IFxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAudG9wZi1oZWFkIC5zcC1jb2wuY29sbGVjdGVkIHtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGMDc4NjA7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsLmlzbG9naW4gLnRvcGYtaGVhZCBzcGFuLnNwLWNvbCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cbiAgICAgIC50b3BmLWJvZHkge1xuICAgICAgICBoZWlnaHQ6IDMzNnB4O1xuICAgICAgfVxuICAgICAgLmlzbG9naW4gLmxvZ2luX2RldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAudG9wZi1ib2R5IHAubG9naW4tcmVtaW5kIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAubG9naW5pbmZvIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsICNwYXNzd29yZCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDE4cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5mb3JnZXRfcGFzcyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxOTNweDtcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tdG9wOiAyMXB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAubG9naW5fZGV0YWlsIC5sb2dpbmluZm8gaW5wdXQge1xuICAgICAgICB3aWR0aDogMTk2cHg7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBwYWRkaW5nOiAwcHggNnB4IDBweCAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNCMUMzQ0M7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5sb2dpbl9jbGljayB7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQ4YmVmMztcbiAgICAgICAgY29sb3I6ICNmZmYhaW1wb3J0YW50O1xuICAgICAgICBsaW5lLWhlaWdodDogMzBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5sb2dpbl9yZW1pbmQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTcycHg7XG4gICAgICAgIGxlZnQ6IDM3cHg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB3aWR0aDogMTE2cHg7XG4gICAgICAgIGNvbG9yOiAjRUM0OTY2O1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAucmVnaXN0ZXIge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgbWFyZ2luLXRvcDogOXB4O1xuICAgICAgICBjb2xvcjogIzQ4QkVGRSFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgfVxuICAgICAgLnJlZ2lzdGVyOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBjb2xvcjogIzQ4QkVGRTtcbiAgICAgIH1cbiAgICAgIC5zbGljZV9kaXYge1xuICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmbG9hdDogbGVmdCFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi10b3A6IDIzcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ2h0dHA6Ly9jZG4uZ3dkYW5nLmNvbS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvc2xpY2VfZGl2X2ljb24ucG5nXCcpIC01cHggMHB4IG5vLXJlcGVhdDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLnFxbG9naW4sIC5sb2dpbl9kZXRhaWwgLnNpbmFsb2dpbiwgLmxvZ2luX2RldGFpbCAud2VpeGlubG9naW4ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgLmxvZ2luX2RldGFpbCAucXFsb2dpbiB7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybCgiaHR0cDovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci90b3BfbG9naW5fcXEucG5nIikgLTNweCAtMnB4IG5vLXJlcGVhdDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDQ3cHg7XG4gICAgICB9XG4gICAgICAubG9naW5fZGV0YWlsIC5zaW5hbG9naW4ge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCdodHRwOi8vY2RuLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyL3RvcF9sb2dpbl9zaW5hLnBuZ1wnKSAtM3B4IC0ycHggbm8tcmVwZWF0O1xuICAgICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLndlaXhpbmxvZ2luIHtcbiAgICAgICAgYmFja2dyb3VuZDogdXJsKFwnaHR0cDovL2Nkbi5nd2RhbmcuY29tL2ltYWdlcy9leHRlbnNpb25zL25ld2Jhci90b3BfbG9naW5fd2VpeGluLnBuZ1wnKSAtM3B4IC0ycHggbm8tcmVwZWF0O1xuICAgICAgICBtYXJnaW4tbGVmdDogNDBweDtcbiAgICAgIH1cbiAgICAgIC5sb2dpbl9kZXRhaWwgLm90aGVyX2xvZ2luIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIGhlaWdodDogNTdweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9IFxuICAgICAgLmZhdm9yLWRwLWRldGFpbCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuaXNsb2dpbiAuZmF2b3ItZHAtZGV0YWlsIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5mYXZvci1saXN0IHtcbiAgICAgICAgaGVpZ2h0OiAyNTZweDtcbiAgICAgICAgd2lkdGg6IDI4MHB4O1xuICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLmZhdm9yLWxpc3QgbGkge1xuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICBoZWlnaHQ6IDc2cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxN3B4O1xuICAgICAgICBmbG9hdDogbm9uZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLmZhdm9yLWxpc3QgbGk6Zmlyc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW4tdG9wOiAxNHB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuZmF2b3ItbGlzdCBsaSAuaXRlbV9pbWcge1xuICAgICAgICBoZWlnaHQ6IDczcHg7XG4gICAgICAgIHdpZHRoOiA3M3B4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLml0ZW1faW1nIGltZyB7XG4gICAgICAgIGhlaWdodDogNzNweDtcbiAgICAgICAgd2lkdGg6IDczcHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5pdGVtX2Rlc2Mge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNHB4O1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgLW1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICB3aWR0aDogMTU5cHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIGEuaXRlbV90aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgd2lkdGg6IDE1OXB4O1xuICAgICAgICBjb2xvcjogIzRhNGE0YTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBhLml0ZW1fdGl0bGU6aG92ZXIge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLm90aGVyX2Rlc2MsICN0b3BmYXZvcl9kZXRhaWwgLml0ZW1fdGl0bGUge1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIC5vdGhlcl9kZXNjIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMjZweDtcbiAgICAgICAgd2lkdGg6IDE2MnB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgLnNpdGVfaWNvbiBpbWcge1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICB9XG4gICAgICAjdG9wZmF2b3JfZGV0YWlsIHNwYW4uaXRlbV9wcmljZSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICAgICAgY29sb3I6ICNEMTA4MzE7XG4gICAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDE0cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCBzcGFuLml0ZW1fY2xvc2VfYnRuIHtcbiAgICAgICAgY29sb3I6ICM5YjliOWI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICB3aWR0aDogMjVweDtcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMDtcbiAgICAgIH1cbiAgICAgICN0b3BmYXZvcl9kZXRhaWwgc3Bhbi5pdGVtX2Nsb3NlX2J0bjpob3ZlciB7XG4gICAgICAgIGNvbG9yOiAjNzA3MDcwO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuc2VlLWFsbC1mYXZvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAxN3B4O1xuICAgICAgICByaWdodDogMTRweDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogIzliOWI5YjtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgfVxuICAgICAgI3RvcGZhdm9yX2RldGFpbCAuc2VlLWFsbC1mYXZvcjpob3ZlcntcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMjYpLAoJCQkJciA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbigxNzUpLAoJCQkJCQlyID0gYS5jb21waWxlKGUpKHsKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyCgkJCQkJCX0pOwoJCQkJCWkoIiNyaWdodF9pbmZvIikuYXBwZW5kKHIpLmFkZENsYXNzKCJ2aXBiYXIiKSwgaSgiI2d3ZGFuZy1zZWFyY2giKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJbygidmlwc2hvcDpzZWFyY2hfY2xpY2siKQoJCQkJCX0pCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJInZpcHNob3AiID09PSB0LnNpdGUgJiYgcigpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICcgPGRpdiBpZD0idmlwc2VhcmNoX3JlbWluZCI+XG4gICA8c3BhbiBjbGFzcz0idmlwLXJlLXRsZSI+5ZSv5ZOB5Lya54m55Y2WPC9zcGFuPlxuICAgPHNwYW4gY2xhc3M9InZpcC1yZS1pY29uIj48L3NwYW4+XG4gICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgI3ZpcHNlYXJjaF9yZW1pbmQge1xuICAgIGZsb2F0OiByaWdodDtcbiAgIH1cbiAgICAjdmlwc2VhcmNoX3JlbWluZCAudmlwLXJlLXRsZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogI2YxMDE4MDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gICAgfVxuICAgICN2aXBzZWFyY2hfcmVtaW5kIC52aXAtcmUtaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9uZXdiYXIvdmlwX3NlYXJjaF9pY29uLnBuZ1wnKSBuby1yZXBlYXQgMHB4IDBweDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiA2cHg7XG4gICAgfVxuXG4gICA8L3N0eWxlPlxuIDwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOSksCgkJCQlvID0gbig0MCksCgkJCQlyID0gbigxNiksCgkJCQlzID0gbigyNiksCgkJCQlsID0gbigxOCksCgkJCQljID0gewoJCQkJCTE6ICLkuK3lm70iLAoJCQkJCTIyODogIue+juWbvSIsCgkJCQkJMjI5OiAi5pel5pysIiwKCQkJCQkyNDY6ICLlvrflm70iLAoJCQkJCTI2NjogIuiLseWbvSIsCgkJCQkJMzY1OiAi5rOV5Zu9IiwKCQkJCQkzNjY6ICLliqDmi7/lpKciCgkJCQl9LAoJCQkJZCA9IHsKCQkJCQkyMjg6ICJVU0QiLAoJCQkJCTIyOTogIkpQWSIsCgkJCQkJMjQ2OiAiRVVSIiwKCQkJCQkyNjY6ICJHQlAiLAoJCQkJCTM2NTogIkVVUiIsCgkJCQkJMzY2OiAiQ0FEIgoJCQkJfSwKCQkJCXAgPSB7CgkJCQkJMTogIsKlIiwKCQkJCQkyMjg6ICIkIiwKCQkJCQkyMjk6ICLlhoYiLAoJCQkJCTI0NjogIkVVUiIsCgkJCQkJMjY2OiAiwqMiLAoJCQkJCTM2NTogIkVVUiIsCgkJCQkJMzY2OiAiQ0ROJCIKCQkJCX0sCgkJCQloID0gIiMiICsgdC5leHROYW1lICsgIi1hbWF6b24tZHAiLAoJCQkJdSA9ICIjIiArIHQuZXh0TmFtZSArICItYW1hem9uLWRwLWRldGFpbCIsCgkJCQltID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gdC5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1hbWF6b25HbG9iYWwmZHBfaWQ9IiArIGU7CgkJCQkJYS5nZXQoaSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCWUgJiYgZS5sZW5ndGggPiAwICYmIG4oZSkKCQkJCQl9KQoJCQkJfSwKCQkJCWYgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgbiA9IDAsIGkgPSBlLmxlbmd0aDsgaSA+IG47IG4rKykgewoJCQkJCQl2YXIgYSA9IGVbbl0uZHBfaWQuc3BsaXQoIi0iKVsxXTsKCQkJCQkJIjEiID09PSBlW25dLm5vd3BhZ2UgPyBlW25dLnNpdGVOYW1lID0gY1thXSArICLkuprpqazpgIoo5b2T5YmN5ZWG5Z+OKSIgOiBlW25dLnNpdGVOYW1lID0gY1thXSArICLkuprpqazpgIoiOwoJCQkJCQl2YXIgciA9IChOdW1iZXIoZVtuXS5wcmkpIC8gMTAwKS50b0ZpeGVkKDIpLAoJCQkJCQkJcyA9ICIiOwoJCQkJCQlpZiAoIjEiICE9PSBhKSB7CgkJCQkJCQl2YXIgaCA9ICIiOwoJCQkJCQkJaCA9ICIyMjkiID09PSBhID8gciArIHBbYV0gOiBwW2FdICsgciwgcyA9IG8ociwgZFthXSksIHIgPSAiwqUiICsgcyArICgiKCIgKyBoICsgIikiKQoJCQkJCQl9IGVsc2UgcyA9IHIsIHIgPSAiwqUiICsgcjsKCQkJCQkJdmFyIHUgPSB7CgkJCQkJCQlzaXRlX2lkOiBhLAoJCQkJCQkJdXJsOiBlW25dLnVybCwKCQkJCQkJCW1vZDogImFtYXpvbl9nbG9iYWwiLAoJCQkJCQkJdW5pb246IHQudW5pb24uc3BsaXQoIl8iKVsxXSwKCQkJCQkJCWRwX2lkOiBlW25dLmRwX2lkCgkJCQkJCX07CgkJCQkJCWVbbl0udXJsID0gbC5pbml0KHUpLCBlW25dLnByaWNlID0gciwgZVtuXS5wdXJlUHJpY2UgPSBzCgkJCQkJfQoJCQkJCXJldHVybiBlLnNvcnQoZnVuY3Rpb24oZSwgdCkgewoJCQkJCQlyZXR1cm4gTnVtYmVyKGUucHVyZVByaWNlKSAtIE51bWJlcih0LnB1cmVQcmljZSkKCQkJCQl9KSwgZQoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbihlKSB7CgkJCQkJZSA9IGYoZSksICJ0b3AiID09PSB0LnN0eWxlICYmIHcoZSksIHYoZSksIGIoZSksIHgoKQoJCQkJfSwKCQkJCV8gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8YSBpZD0iJyArIHQuZXh0TmFtZSArICctYW1hem9uLWRwIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYW1hem9uLWljb24gZ3dkX2JnIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+IOS6mumprOmAiua1t+Wklui0re+8mjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ3dkLXByaWNlIGFtYXpvbl9kcCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+JzsKCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLnByZXBlbmQoaShlKSkKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDA7CgkJCQkJaShoKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKHUpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBpKGgpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBzKCJ0cmFjazphbWF6b25fZ2xvYmFsOm1zaG92ZXIiKQoJCQkJCX0pLCBpKGgpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaSh1KS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKSwgaShoKS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKQoJCQkJCQl9LCAyMDApCgkJCQkJfSksIGkodSkub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpLCBpKHUpLmFkZENsYXNzKCJfbXNob3ZlciIpLCBpKGgpLmFkZENsYXNzKCJfbXNob3ZlciIpCgkJCQkJfSksIGkodSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSh1KS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKSwgaShoKS5yZW1vdmVDbGFzcygiX21zaG92ZXIiKQoJCQkJCX0pLCBpKCIjYW1hem9uX2RwLWl0ZW0tbGlzdCBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzKCJ0cmFjazphbWF6b25fZ2xvYmFsOmNsaWNrIikKCQkJCQl9KSwgaSgiI2FtYXpvbl9nbG9iYWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgZSA9IGkoIiNnbG9iYWxJbm5lckRldGFpbCIpOwoJCQkJCQllLmlzKCI6dmlzaWJsZSIpIHx8IChpKCIuY29udGVudF9kZWZhdWx0IikuaGlkZSgpLCBlLnNob3coKSkKCQkJCQl9KSwgaSgiI2dsb2JhbElubmVyRGV0YWlsIC5jb250ZW50X2RlZmF1bHRfbGVmdCBhIikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCXMoInRyYWNrOmFtYXpvbl9nbG9iYWxfaW5uZXJfZGV0YWlsOmNsaWNrIikKCQkJCQl9KQoJCQkJfSwKCQkJCXcgPSBmdW5jdGlvbihlKSB7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWFtYXpvbi1kcCAuYW1hem9uX2RwIikudGV4dChlWzBdLnByaWNlKSwgaShoKS5jc3MoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIik7CgkJCQkJdmFyIGEgPSBuKDE3NyksCgkJCQkJCW8gPSByLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogZSwKCQkJCQkJCWV4dEJyYW5kOiB0LmV4dEJyYW5kLAoJCQkJCQkJZXh0TmFtZTogdC5leHROYW1lCgkJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIikuYXBwZW5kKG8pLCBzKCJ0cmFjazphbWF6b25fZ2xvYmFsOnRyYWNrIikKCQkJCX0sCgkJCQl2ID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gZVswXTsKCQkJCQlpZiAodCkgewoJCQkJCQl2YXIgYSA9IG4oMTc4KSwKCQkJCQkJCW8gPSBpKCIjZ3dkX2h0X21haW4gLmh0X2hlYWQiKTsKCQkJCQkJMCAhPT0gby5sZW5ndGggJiYgKG8uYXBwZW5kKHIuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiB0CgkJCQkJCX0pKSwgcygidHJhY2s6YW1hem9uX2dsb2JhbF9pbm5lcjp0cmFjayIpLCBpKCIjYW1hem9uX2dsb2JhbCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJcygidHJhY2s6YW1hem9uX2dsb2JhbF9pbm5lcjpjbGljayIpCgkJCQkJCX0pKQoJCQkJCX0KCQkJCX0sCgkJCQliID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciB0ID0gbigxNzkpLAoJCQkJCQlhID0gci5jb21waWxlKHQpKHsKCQkJCQkJCWRhdGE6IGVbMF0KCQkJCQkJfSk7CgkJCQkJaSgiI2d3ZF9odF9tYWluIC5odF9jb250ZW50IikuYXBwZW5kKGEpCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWxvY2F0aW9uLmhvc3QuaW5kZXhPZigiLmNuIikgPiAtMSB8fCAoInRvcCIgPT09IHQuc3R5bGUgJiYgXygpLCBtKGUsIGcpKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCIgY2xhc3M9IiBwcmljZV9jb21wYXJlIGFtYXpvbi1kcC1kZXRhaWwiPlxuICA8ZGl2IGNsYXNzPSJwYW5lbC13cmFwIj5cbiAgICA8ZGl2IGNsYXNzPSJwYWdlcyI+XG4gICAgICDnrKwmbmJzcDtcbiAgICAgIDxzcGFuIGlkPSJhbWF6b25fZHAtY3VycmVudC1wYWdlIiBjbGFzcz0iY3VycmVudC1wYWdlIj4xPC9zcGFuPlxuICAgICAgJm5ic3A76aG177yM5YWxJm5ic3A7XG4gICAgICA8c3BhbiBpZD0iYW1hem9uX2RwLXBhZ2UtbnVtIiBjbGFzcz0icGFnZS1udW0iPjE8L3NwYW4+XG4gICAgICAmbmJzcDvpobVcbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPSJsZWZ0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiK5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImFsbC1wcm9kdWN0cyI+XG4gICAgICA8dWwgaWQ9ImFtYXpvbl9kcC1pdGVtLWxpc3QiPlxuICAgICAgICB7e2VhY2ggZGF0YX19XG4gICAgICAgICAgPGxpIGlkPSJhbWF6b25fZHAtcHJvZC1pdGVtLXt7JGluZGV4fX0iPlxuICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGxlfX0iIGNsYXNzPSJzbWFsbC1pbWciPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nfX0iPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiPnt7JHZhbHVlLnByaWNlfX08L2E+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlTmFtZSI+e3skdmFsdWUuc2l0ZU5hbWV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZlZXMiPuS4jeWQjOWNluWutui/kOi0ueS4jeWQjDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGxlfX0iPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX1fdGl0bGUiPnt7JHZhbHVlLnRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiL5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICN7e2V4dE5hbWV9fS1hbWF6b24tZHAtZGV0YWlsLl9tc2hvdmVyIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCAubGVmdC1wYWdle1xuICAgICAgbGVmdDogNXB4O1xuICAgIH1cbiAgICAje3tleHROYW1lfX0tYW1hem9uLWRwLWRldGFpbCAuYWxsLXByb2R1Y3Rze1xuICAgICAgbGVmdDogMzVweDtcbiAgICB9XG4gICAgXG4gICAgI3t7ZXh0TmFtZX19LWFtYXpvbi1kcC1kZXRhaWwgLnt7ZXh0QnJhbmR9fS1wcmljZTpob3ZlciB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICB9XG4gICAgI2FtYXpvbl9kcC1pdGVtLWxpc3Qgc3BhbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgI2FtYXpvbl9kcC1pdGVtLWxpc3Qgc3Bhbi5zaXRlTmFtZSB7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cbiAgICAue3tleHROYW1lfX0tbWFpbiAucGFuZWwtd3JhcCAuYWxsLXByb2R1Y3RzICNhbWF6b25fZHAtaXRlbS1saXN0IGxpIGEgaW1ne1xuICAgICAgbWF4LXdpZHRoOiA5MHB4O1xuICAgICAgbWF4LWhlaWdodDogOTBweDtcbiAgICB9XG4gICAgLnt7ZXh0TmFtZX19LW1haW4gLnBhbmVsLXdyYXAgLmFsbC1wcm9kdWN0cyB1bCBsaSAuc21hbGwtaW1ne1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjYW1hem9uX2RwLWl0ZW0tbGlzdCBsaSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgICNiamQue3tleHROYW1lfX0tbWFpbiAuYWxsLXByb2R1Y3RzIHVsIGxpIC5nd2QtcHJpY2Uge1xuICAgICAgY29sb3I6ICNFNTI2MDA7XG4gICAgfVxuICAgICN7e2V4dE5hbWV9fS1hbWF6b24tZHAtZGV0YWlsIC57e2V4dEJyYW5kfX0tcHJpY2Uge1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxhIGhyZWY9Int7ZGF0YS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGlkPSJhbWF6b25fZ2xvYmFsIiA+XG4gIOa1t+Wklui0re+8mlxuICA8c3BhbiBjbGFzcz0iaHRfZ2V0cHJpY2VfbnVtIGZvbnRmX0FyaWFsIj5cbiAgICB7e2RhdGEucHJpY2V9fVxuICA8L3NwYW4+XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgZGl2Lmd3ZF9oYWl0YW8gLmh0X2dldHByaWNlIHtcbiAgICAgIHdpZHRoOiAxNjBweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgIGRpdi5nd2RfaGFpdGFvIC5odF9nZXRwcmljZSBzcGFuIHtcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG4gICAgI2FtYXpvbl9nbG9iYWwge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDM1cHg7XG4gICAgICBsaW5lLWhlaWdodDogMzVweDtcbiAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHdpZHRoOiAxNjFweDtcbiAgICAgIGNvbG9yOiAjNDU0YTRkO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2FtYXpvbl9nbG9iYWwgc3BhbiB7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxuICAgICNhbWF6b25fZ2xvYmFsOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgIGNvbG9yOiAjNDU0YTRkO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvYT4nCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGNsYXNzPSJjb250ZW50X2RlZmF1bHQiIGlkPSJnbG9iYWxJbm5lckRldGFpbCI+XG4gIDxkaXYgY2xhc3M9ImNvbnRlbnRfZGVmYXVsdF9sZWZ0Ij5cbiAgICA8YSBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iaW5uZXItaW1nIj5cbiAgICAgIDxpbWcgc3JjPSJ7e2RhdGEuaW1nfX0iPlxuICAgIDwvYT5cbiAgICA8YSBocmVmPSJ7e2RhdGEudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3tkYXRhLnRsZX19IiBjbGFzcz0iaW5uZXItdGxlIj57e2RhdGEudGxlfX08L2E+XG4gICAgPGEgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImlubmVyLWJ0biI+IOebtOi+vumTvuaOpTwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9ImNvbnRlbnRfZGVmYXVsdF9yaWdodCI+XG4gICAgPGEgY2xhc3M9InByb190eXBlIj5cbiAgICAgIDxlbSBjbGFzcz0ieml5aW5nIj48L2VtPlxuICAgICAgPHNwYW4gY2xhc3M9InByb190X3RsZSIgPuiHquiQpTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9InByb190eXBlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5Lqa6ams6YCK55u05o6l6ZSA5ZSuXG4gICAgICA8L2Rpdj5cbiAgICA8L2E+XG4gICAgPGEgY2xhc3M9Im1haWxfdHlwZSIgPlxuICAgICAgPGVtIGNsYXNzPSJ6aGl5b3UiPjwvZW0+XG4gICAgICA8c3BhbiA+55u06YKuPC9zcGFuPlxuICAgICAgPGRpdiBjbGFzcz0ibWFpbF90eXBlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5ZWG5ZOB5pSv5oyB55u06YKu5Lit5Zu9IDctMTLlpKnlj6/liLDovr5cbiAgICAgIDwvZGl2PlxuICAgIDwvYT5cbiAgICA8YSBjbGFzcz0iaHRfdHJhbnNsYXRlIHNhbWUtc3R5bGUiPlxuICAgICAgPGVtPjwvZW0+XG4gICAgICA8c3Bhbj7lkIzmrL48L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPSJzYW1lLXN0eWxlX2RldGFpbCBkaXZfZGV0YWlsIj5cbiAgICAgICAg5Lit5LqaLea1t+Wklui0reWQjOasvlxuICAgICAgPC9kaXY+XG4gICAgPC9hPlxuICAgIDxhIGNsYXNzPSJzaXplX2hlbHAgdmlwX3RsZSIgaHJlZj0iaHR0cHM6Ly93d3cuYW1hem9uLmNuL2dwL3ByaW1lL3BpcGVsaW5lL2xhbmRpbmc/aWU9VVRGOCZyZWZfPW5hdl9wcmltZV90cnlfYnRuIiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICA8ZW0+PC9lbT5cbiAgICAgIDxzcGFuPuS8muWRmOWFjei/kOi0uTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9InNpemVfZGV0YWlsIHZpcF90bGVfZGV0YWlsIGRpdl9kZXRhaWwiPlxuICAgICAgICDngrnlh7vnq4vkuqvlhY3otLnor5XnlKgzMOWkqVxuICAgICAgPC9kaXY+XG4gICAgPC9hPlxuICA8L2Rpdj5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTgxKSwKCQkJCXIgPSBuKDEzMCksCgkJCQlzID0gbig5KSwKCQkJCWwgPSBuKDY1KSwKCQkJCWMgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdLnB1cmV0bGUgPSBlW3RdLnRpdGxlLCBlW3RdLnRpdGxlID0gZVt0XS50aXRsZS5yZXBsYWNlKC9cYihbMC05Ll0rKVxiL2csICI8ZW0+JDE8L2VtPiIpOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gdm9pZCAwLAoJCQkJCQluID0gdCgiI3Byb21vX3F1YW5fYnRuIiksCgkJCQkJCWEgPSAiIiwKCQkJCQkJbyA9IHQoIiNwcm9tb19xdWFuX2RldGFpbCIpOwoJCQkJCSJib3R0b20iID09IGkuc3R5bGUgJiYgKG4gPSB0KCIjIiArIGkuZXh0QnJhbmQgKyAiLWh1aSIpLCBhID0gaS5leHRCcmFuZCArICItY29tcGFyZS1pdGVtLWhvdmVyIiksIG4ub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJby5zaG93KCksIG4uYWRkQ2xhc3MoIm1zSG92ZXIiKSwgbi5maW5kKCJhIikuYWRkQ2xhc3MoYSk7CgkJCQkJCXZhciBlID0gbi5vZmZzZXQoKS5sZWZ0OwoJCQkJCQlvLmNzcygibGVmdCIsIGUgKyAicHgiKQoJCQkJCX0pLCBuLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJby5oaWRlKCksIG4ucmVtb3ZlQ2xhc3MoIm1zSG92ZXIiKSwgbi5maW5kKCJhIikucmVtb3ZlQ2xhc3MoYSkKCQkJCQkJfSwgMTAwKQoJCQkJCX0pLCBvLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pLCBvLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCW8uaGlkZSgpLCBuLnJlbW92ZUNsYXNzKCJtc0hvdmVyIiksIG4uZmluZCgiYSIpLnJlbW92ZUNsYXNzKGEpCgkJCQkJfSkKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSwgbiwgcikgewoJCQkJCXIgfHwgKHIgPSB7CgkJCQkJCXNpdGVfbmFtZTogbi5zaXRlX25hbWUKCQkJCQl9KTsKCQkJCQl2YXIgcyA9IHIuc2l0ZV9uYW1lIHx8IG4uc2l0ZV9uYW1lLAoJCQkJCQlsID0gci5zaXRlX25hbWUgfHwgbi5zaXRlX25hbWUsCgkJCQkJCXAgPSBuLnByb21vdGlvbi51cmwsCgkJCQkJCWggPSBuLnF1YW4gJiYgbi5xdWFuLnVybDsKCQkJCQluLnByb21vdGlvbi5zaXRlX2hhc19wcm9tbyB8fCAocyA9ICLlhajnvZHmnIDmlrAiKSwgMSA9PSBuLnByb21vdGlvbi5wcm9tb3MubGVuZ3RoICYmIChwID0gbi5wcm9tb3Rpb24ucHJvbW9zWzBdLnVybCksIG4ucXVhbiAmJiAhbi5xdWFuLnNpdGVfaGFzX3F1YW4gJiYgKGwgPSAi5YWo572R5pyA5Y+X5YWz5rOoIiksIHQoZSkuYXBwZW5kKGEuY29tcGlsZShvKSh7CgkJCQkJCXByb21vX3NpdGU6IHMsCgkJCQkJCXF1YW5fc2l0ZTogbCwKCQkJCQkJcHJvbW9zOiBjKG4ucHJvbW90aW9uLnByb21vcy5zbGljZSgwLCA0KSksCgkJCQkJCXByb21vX3VybDogcCwKCQkJCQkJcXVhbnM6IGMobi5xdWFuICYmIG4ucXVhbi5xdWFucy5zbGljZSgwLCA0KSB8fCBbXSksCgkJCQkJCXF1YW5fdXJsOiBoLAoJCQkJCQlzX3NlcnZlcjogaS5zX3NlcnZlciwKCQkJCQkJbmV3X2V4dGVuc2lvbjogaS5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlzdHlsZTogaS5zdHlsZQoJCQkJCX0pKSwgZCgpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkidG9wIiA9PSBpLnN0eWxlID8gcCgiIyIgKyBpLmV4dE5hbWUgKyAiLW1haW4iLCB0LCBlKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgcChpLmR2YWwsIHQsIGUpCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoZSAmJiAwICE9PSBlLnByb21vLmxlbmd0aCkgewoJCQkJCQl2YXIgaSA9IDE7CgkJCQkJCTEgPT09IGUucHJvbW8ubGVuZ3RoICYmIChpID0gMCk7CgkJCQkJCXZhciBvID0gZS5wcm9tb1tpXSwKCQkJCQkJCXIgPSBuKDE4Mik7CgkJCQkJCXQoIi5kZXRhaWxfcmlnaHQiKS5hcHBlbmQoYS5jb21waWxlKHIpKHsKCQkJCQkJCWl0ZW06IG8KCQkJCQkJfSkpLCB0KCIuZGV0YWlsX3JpZ2h0Iikuc2hvdygpCgkJCQkJfQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICc8c3BhbiBpZD0icHJvbW9fcXVhbl9idG4iPjxlbT48L2VtPuS/g+mUgOS8mOaDoOWIuDwvc3Bhbj4nOwoJCQkJCXQoIiMiICsgaS5leHROYW1lICsgIi10cmVuZCIpLmxlbmd0aCA+IDAgPyB0KCIjIiArIGkuZXh0TmFtZSArICItdHJlbmQiKS5hZnRlcih0KGUpKSA6IHQoIiMiICsgaS5leHROYW1lICsgIi1tYWluLWNvbnRlbnRzIikuYXBwZW5kKHQoZSkpCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkge30sCgkJCQlnID0gZnVuY3Rpb24oKSB7CgkJCQkJInRvcCIgPT0gaS5zdHlsZSA/IG0oKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgZigpCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IGkuc2VydmVyICsgIi9leHRlbnNpb24/YWM9cHJvbW90aW9uJnNpdGVfaWQ9IiArIGUuc2l0ZV9pZCArICImY2xhc3NfaWQ9IiArIGUuY2xhc3NfaWQgKyAiJnN0eWxlPSIgKyBpLnN0eWxlOwoJCQkJCXMuZ2V0KG4pLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmIHQoZSkKCQkJCQl9KQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlLCBpKSB7CgkJCQkJci5pbml0KHsKCQkJCQkJY2xhc3NfaWQ6IGUuY2xhc3NfaWQsCgkJCQkJCWtleXdvcmQ6IGUua2V5d29yZAoJCQkJCX0sIGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcm9tby5sZW5ndGggPiAwICYmIChlLnByb21vWzBdLnB1cmV0bGUgPSBlLnByb21vWzBdLnRpdGxlLCBpLnByb21vdGlvbi5wcm9tb3MgPSBlLnByb21vLmNvbmNhdChpLnByb21vdGlvbi5wcm9tb3MpKTsKCQkJCQkJdmFyIG8gPSBuKDE4Myk7CgkJCQkJCXQoIi53cmFwcGVyIC5icmVhZGNydW1iIikuZXEoMCkuYWZ0ZXIoYS5jb21waWxlKG8pKHsKCQkJCQkJCWRhdGE6IGkucHJvbW90aW9uLnByb21vcy5zbGljZSgwLCAzKQoJCQkJCQl9KSkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLnJlbmRlclNlYXJjaCA9IGZ1bmN0aW9uKCkgewoJCQkJaWYgKGkuc2l0ZS5pbmRleE9mKCJ0YW9iYW8iKSA+IC0xIHx8IGkuc2l0ZS5pbmRleE9mKCJ0bWFsbCIpID4gLTEgfHwgIjE2ODgiID09IGkuc2l0ZSkgcmV0dXJuIHZvaWQgdCgiIyIgKyBpLmV4dEJyYW5kICsgIi1odWkiKS5oaWRlKCk7CgkJCQl2YXIgZSA9IGwuZ2V0U2l0ZUlkKGkuc2l0ZSk7CgkJCQlpZiAoZSkgewoJCQkJCXZhciBuID0ge307CgkJCQkJbi5zaXRlX2lkID0gZSwgXyhuLCBmdW5jdGlvbihlKSB7CgkJCQkJCWgobnVsbCwgZSkKCQkJCQl9KQoJCQkJfQoJCQl9LCBlLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChpLnNpdGUuaW5kZXhPZigidGFvYmFvIikgPiAtMSB8fCBpLnNpdGUuaW5kZXhPZigidG1hbGwiKSA+IC0xIHx8ICIxNjg4IiA9PSBpLnNpdGUpIHJldHVybiB2b2lkIHQoIiMiICsgaS5leHRCcmFuZCArICItaHVpIikuaGlkZSgpOwoJCQkJZygpOwoJCQkJdmFyIG4gPSBlLm5vdy5jbGFzc19pZCwKCQkJCQlhID0gZS5ub3cuY29yZXdvcmQsCgkJCQkJbyA9IGUubm93LnNpdGVfaWQ7CgkJCQkiMCIgPT09IG8gJiYgKG8gPSBsLmdldFNpdGVJZChpLnNpdGUpKTsKCQkJCXZhciBzID0ge307CgkJCQlzLmtleXdvcmQgPSBhLCBzLnNpdGVfaWQgPSBvLCBzLmNsYXNzX2lkID0gZS5ub3cuY2xhc3NfaWQsIHMuYnJhbmRfaWQgPSBlLmV4YWN0X2Fyci5icmFuZF9pZCwgXyhzLCBmdW5jdGlvbih0KSB7CgkJCQkJaChlLm5vdywgdCksICJ6b2wiID09PSBpLnNpdGUgJiYgeChzLCB0KSwgci5pbml0KHsKCQkJCQkJY2xhc3NfaWQ6IG4sCgkJCQkJCWtleXdvcmQ6IGEKCQkJCQl9LCB1KQoJCQkJfSkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InByb21vX3F1YW5fZGV0YWlsIiBjbGFzcz0icHJvbW9fcXVhbl9ib3giPlxuICA8ZGl2IGNsYXNzPSJkZXRhaWxfbGVmdCI+XG4gICAgPGRpdiBjbGFzcz0icHJvbW9fZGl2Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImRfaGVhZCI+XG4gICAgICAgIDxzcGFuPnt7cHJvbW9fc2l0ZX195L+D6ZSA5rS75YqoPC9zcGFuPlxuICAgICAgICB7e2lmICFuZXdfZXh0ZW5zaW9ufX1cbiAgICAgICAgPGEgaHJlZj0ie3twcm9tb191cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPuafpeeci+WFqOmDqDxlbSBjbGFzcz0ic2VlX2FsbF9pY29uIj48L2VtPjwvYT5cbiAgICAgICAge3svaWZ9fVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPSJwcm9tb19ib2R5Ij5cbiAgICAgICAgICB7e2VhY2ggcHJvbW9zfX1cbiAgICAgICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiBjbGFzcz0icHJvbW9faXRlbSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICAgICAgICA8ZW0gY2xhc3M9ImNpcmNsZSI+PC9lbT5cbiAgICAgICAgICAgICAge3sjJHZhbHVlLnRpdGxlfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICB7ey9lYWNofX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIHt7aWYgIW5ld19leHRlbnNpb259fVxuICAgIDxkaXYgY2xhc3M9InF1YW5fZGl2Ij5cbiAgICAgIDxkaXYgY2xhc3M9ImRfaGVhZCI+XG4gICAgICAgIDxzcGFuPnt7cXVhbl9zaXRlfX3kvJjmg6DliLg8L3NwYW4+XG4gICAgICAgIHt7aWYgIW5ld19leHRlbnNpb259fVxuICAgICAgICA8YSBocmVmPSJ7e3F1YW5fdXJsfX0iIHRhcmdldD0iX2JsYW5rIj7mn6XnnIvlhajpg6g8ZW0gY2xhc3M9InNlZV9hbGxfaWNvbiI+PC9lbT48L2E+XG4gICAgICAgIHt7L2lmfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0icXVhbl9ib2R5Ij5cbiAgICAgICAge3tlYWNoIHF1YW5zfX1cbiAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgY2xhc3M9InF1YW5faXRlbSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICAgICAgICA8ZW0gY2xhc3M9ImNpcmNsZSI+PC9lbT5cbiAgICAgICAgICAgICAge3sjJHZhbHVlLnRpdGxlfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICB7ey9pZiB9fVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iZGV0YWlsX3JpZ2h0Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvbW9fcXVhbl9kZXRhaWwge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAzN3B4O1xuICAgICAgbGVmdDogMHB4O1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBoZWlnaHQ6IDI3MnB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMHB4ICNlNmU5ZWI7XG4gICAgfVxuICAgIHt7aWYgc3R5bGUgPT0gImJvdHRvbSJ9fVxuICAgICNwcm9tb19xdWFuX2RldGFpbCB7XG4gICAgICB0b3A6IGluaGVyaXQ7XG4gICAgICBib3R0b206IDYwcHg7XG4gICAgfVxuICAgIHt7L2lmfX1cbiAgICAjcHJvbW9fcXVhbl9kZXRhaWwgLmRldGFpbF9sZWZ0IHtcbiAgICAgIHdpZHRoOiA2MjFweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U2ZTllYjtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19kaXYsIC5wcm9tb19xdWFuX2JveCAucXVhbl9kaXYge1xuICAgICAgaGVpZ2h0OiAxMzVweDtcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5kX2hlYWQge1xuICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI2cHg7XG4gICAgICBmbG9hdDogbm9uZTtcbiAgICB9XG4gICAgI3Byb21vX3F1YW5fZGV0YWlsIC5kZXRhaWxfbGVmdCAuZF9oZWFkIGEge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM3ZDdmODA7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAuZGV0YWlsX2xlZnQgLmRfaGVhZCBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjNUVCRUZGO1xuICAgIH1cbiAgICAucHJvbW9fcXVhbl9ib3ggLnNlZV9hbGxfaWNvbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDI2cHg7XG4gICAgICB3aWR0aDogMTJweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy9iYXJfc2VlX2FsbC5wbmdcJykgbm8tcmVwZWF0IDRweCA4cHg7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tbGVmdDogM3B4O1xuICAgIH1cbiAgICAucHJvbW9fcXVhbl9ib3ggLmRfaGVhZCBzcGFue1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZF9oZWFkIHNwYW46aG92ZXIge1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZF9oZWFkIGEge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgd2lkdGg6IDY0cHg7XG4gICAgICBoZWlnaHQ6IDI2cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDI0cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9fZGl2IHtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgI2U2ZTllYjtcbiAgICB9XG4gICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19ib2R5IHtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDk2cHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbSwgI3Byb21vX3F1YW5fZGV0YWlsIC5xdWFuX2l0ZW0ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICB3aWR0aDogMjgwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyMXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDM2cHg7XG4gICAgICBtYXJnaW4tdG9wOiA3cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI3Byb21vX3F1YW5fZGV0YWlsIC5wcm9tb19ib2R5IC5wcm9tb19pdGVtOmhvdmVyLCAjcHJvbW9fcXVhbl9kZXRhaWwgLnF1YW5faXRlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA3ODYwO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9faXRlbSBlbSAsIC5wcm9tb19xdWFuX2JveCAucXVhbl9pdGVtIGVte1xuICAgICAgY29sb3I6ICNlNDM5M2M7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIG1hcmdpbjogMCAycHg7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbTpob3ZlciBlbSAsICNwcm9tb19xdWFuX2RldGFpbCAucXVhbl9pdGVtOmhvdmVyIGVte1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgfVxuICAgICNwcm9tb19xdWFuX2RldGFpbCAucHJvbW9fYm9keSAucHJvbW9faXRlbTpob3ZlciAuY2lyY2xlICwgI3Byb21vX3F1YW5fZGV0YWlsIC5xdWFuX2l0ZW06aG92ZXIgLmNpcmNsZXtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAucHJvbW9fYm9keSAuY2lyY2xlLCAucHJvbW9fcXVhbl9ib3ggLnF1YW5faXRlbSAuY2lyY2xle1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDhweDtcbiAgICAgIHdpZHRoOiA4cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA3ODYwO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTRweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gICAgfVxuICAgIC5wcm9tb19xdWFuX2JveCAuZGV0YWlsX3JpZ2h0IHtcbiAgICAgIHdpZHRoOiAyMDZweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgLnF1YW5fYm9keSB7XG4gICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnF1YW5fYm9keTphZnRlciB7XG4gICAgICBjb250ZW50OiAiIjtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY2xlYXI6IGJvdGg7XG4gICAgfVxuICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAjcHJvbW9fcXVhbl9kZXRhaWwgZGl2LmRldGFpbF9sZWZ0IHtcbiAgICAgICAgd2lkdGg6IDMyMnB4O1xuICAgICAgfVxuICAgICAgLnByb21vX3F1YW5fYm94IC5wcm9tb19kaXYsIC5wcm9tb19xdWFuX2JveCAucXVhbl9kaXYge1xuICAgICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG4gICAgICAucHJvbW9fcXVhbl9ib3ggLnByb21vX2JvZHkge1xuICAgICAgICBoZWlnaHQ6IDIyMHB4O1xuICAgICAgfVxuICAgIHt7L2lmfX1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9InByb21vX2l0ZW1fYWQiPlxuICA8YSBjbGFzcz0iaXRlbV9pZF9pbWciIGhyZWY9Int7aXRlbS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgIDxpbWcgc3JjPSJ7e2l0ZW0uaW1nfX0iPlxuICA8L2E+XG4gIDxhIGhyZWY9Int7aXRlbS51cmx9fSIgY2xhc3M9Iml0ZW1fdGxlIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7aXRlbS50aXRsZX19Ij57e2l0ZW0udGl0bGV9fTwvYT5cbiAgPHNwYW4gY2xhc3M9Iml0ZW1fYnJhbmQiPnt7aXRlbS5icmFuZH19PC9zcGFuPlxuICA8YSBocmVmPSJ7e2l0ZW0uc3RvcmVfdXJsfX0iIGNsYXNzPSJpdGVtX3Nob3BuYW1lIiB0YXJnZXQ9Il9ibGFuayI+e3tpZiBpdGVtLnBsYXRmb3JtfX0ge3tpdGVtLnBsYXRmb3JtICsgIiAifX0ge3svaWZ9fXt7aXRlbS5zdG9yZV9uYW1lfX08L2E+XG4gIDxzcGFuICBjbGFzcz0idHVpZ3VhbmdfbGluayIgPueDreWNljwvc3Bhbj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjcHJvbW9faXRlbV9hZCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB3aWR0aDogMjA2cHg7XG4gICAgICBoZWlnaHQ6IDI0OHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjcHJvbW9faXRlbV9hZD5hLCAjcHJvbW9faXRlbV9hZD5zcGFuIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgI3Byb21vX2l0ZW1fYWQgLml0ZW1faWRfaW1nIHtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIG1hcmdpbi10b3A6IDM1cHg7XG4gICAgfVxuICAgICNwcm9tb19pdGVtX2FkIC5pdGVtX2lkX2ltZyBpbWcge1xuICAgICAgd2lkdGg6IDEwMHB4O1xuICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICB9XG4gICAgZGl2I3Byb21vX2l0ZW1fYWQgYS5pdGVtX3RsZSB7XG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICMxMTE7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBoZWlnaHQ6IDMzcHg7XG4gICAgfVxuICAgICNwcm9tb19pdGVtX2FkIC5pdGVtX2JyYW5kIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICB9XG4gICAgI3Byb21vX2l0ZW1fYWQgLml0ZW1fc2hvcG5hbWUge1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgZGl2I3Byb21vX2l0ZW1fYWQgc3Bhbi50dWlndWFuZ19saW5rIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGNvbG9yOiAjYmJiO1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICB0b3A6IDE1cHg7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JzsKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF96b2xfcHJvbW8iPlxuICA8c3BhbiBjbGFzcz0iYmpkLXByb21vLWhlYWQiPlxuICAgIDxlbT48L2VtPlxuICAgIDxzcGFuPueDreWNljwvc3Bhbj5cbiAgPC9zcGFuPlxuICA8ZGl2IGNsYXNzPSJiamQtcHJvbW8tYm94Ij5cbiAgICB7e2VhY2ggZGF0YX19XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS5wdXJldGxlfX0iPnt7IyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIHt7L2VhY2h9fVxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuZmVlZGJhY2sge1xuICAgICAgbWFyZ2luLXRvcDogLTUwcHghaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oOSksCgkJCQlyID0gbigyNiksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCXQuYWxpU2l0ZSAmJiAoZSA9ICJqYXZhc2NyaXB0OiIpOwoJCQkJCXZhciBuID0gJzxhIGlkPSInICsgdC5leHRCcmFuZCArICdfaGFveW0iIHRhcmdldD0iX2JsYW5rIiBocmVmPSInICsgZSArICciIHRpdGxlPSLngrnlh7vmn6XnnIvlhajpg6jlgLzlvpfkubDllYblk4EiPjxzcGFuIGNsYXNzPSJoYW95bV9pY29uIG5ld2ItYmciPjwvc3Bhbj48c3BhbiBjbGFzcz0iaGFveW1fdGV4dCI+6aKG5Yi4aMSBb+e+iuavmzwvc3Bhbj48L2E+JzsKCQkJCQlpKCIjcmlnaHRfaW5mbyIpLmFwcGVuZChhLmNvbXBpbGUobikoe30pKQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbigpIHsKCQkJCQlpKCIjaGFveW1fZGV0YWlsIC5oeW0taW1nLWJveCBpbWciKS5lYWNoKGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQkJaSh0KS5hdHRyKCJzcmMiLCBpKHQpLmF0dHIoImRhdGEtc3JjIikpCgkJCQkJfSkKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBpKCIjZ3dkX2hhb3ltLCAuY29tLWh5bSIpLAoJCQkJCQluID0gaSgiI2hhb3ltX2RldGFpbCIpLAoJCQkJCQlhID0gIm1vdXNlZW50ZXIiLAoJCQkJCQlvID0gIm1vdXNlbGVhdmUiLAoJCQkJCQlzID0gdm9pZCAwLAoJCQkJCQljID0gdm9pZCAwOwoJCQkJCWUub24oYSwgZnVuY3Rpb24oKSB7CgkJCQkJCXMgfHwgKHMgPSAhMCwgbCgpKTsKCQkJCQkJdmFyIGEgPSBlLm9mZnNldCgpLmxlZnQsCgkJCQkJCQlvID0gaSh3aW5kb3cpLndpZHRoKCk7CgkJCQkJCWUuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgInRvcCIgPT09IHQuc3R5bGUgJiYgbi5jc3MoImxlZnQiLCBhICsgInB4IikuY3NzKCJyaWdodCIsICJhdXRvIiksICJib3R0b20iID09PSB0LnN0eWxlICYmIG4uY3NzKCJsZWZ0IiwgYSAtIDIgKyAicHgiKSwgbi5zaG93KCksIG8gLSAobi5vZmZzZXQoKS5sZWZ0ICsgbi5vdXRlcldpZHRoKCkgKyAyKSA8IDAgJiYgInRvcCIgPT09IHQuc3R5bGUgJiYgbi5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIHIoImhhb3ltOnNob3ciKQoJCQkJCX0pLCBlLm9uKG8sIGZ1bmN0aW9uKCkgewoJCQkJCQljID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJCW4uaGlkZSgpLCBlLnJlbW92ZUNsYXNzKCJtc2hvdmVyIikKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBuLm9uKGEsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoYykKCQkJCQl9KSwgbi5vbihvLCBmdW5jdGlvbigpIHsKCQkJCQkJbi5oaWRlKCksIGUucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCX0pCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlpZiAoIWUpIHJldHVybiBlOwoJCQkJCWZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgdC5hbGlTaXRlICYmIChlW25dLmNvdXBvblVybCA9IGVbbl0uY291cG9uVXJsLnJlcGxhY2UoInd3dy5nd2RhbmciLCAidGIuZ3dkYW5nIiksIGVbbl0udXJsID0gZVtuXS51cmwucmVwbGFjZSgid3d3Lmd3ZGFuZyIsICJ0Yi5nd2RhbmciKSksIGVbbl0uaW1nVXJsID0gZVtuXS5pbWdVcmwucmVwbGFjZSgvanBnXzkweDkwLywgImpwZ18xMDB4MTAwIik7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlwID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBvID0gIiNnd2RhbmctbWFpbiI7CgkJCQkJImJvdHRvbSIgPT09IHQuc3R5bGUgJiYgKG8gPSAiI2JqZF9ib3R0b21fZGV0YWlsIiksIGUuZGF0YSA9IGQoZS5kYXRhKSwgInRvcCIgPT09IHQuc3R5bGUgJiYgcyhlLmxpbmtVcmwpOwoJCQkJCXZhciByID0gbigxODUpLAoJCQkJCQlsID0gYS5jb21waWxlKHIpKHsKCQkJCQkJCWRhdGE6IGUuZGF0YSwKCQkJCQkJCXBhZ2V1cmw6IGUubGlua1VybCwKCQkJCQkJCXNfc2VydmVyOiB0LnNfc2VydmVyLAoJCQkJCQkJYWxpc2l0ZTogdC5hbGlTaXRlCgkJCQkJCX0pOwoJCQkJCWkobykuYXBwZW5kKGwpLCAiYm90dG9tIiA9PT0gdC5zdHlsZSAmJiBpKCIuY29tLWh5bSIpLnNob3coKSwgYygpCgkJCQl9LAoJCQkJaCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IHQuc2F2ZV9kcF9xdWVyeSwKCQkJCQkJaSA9IHQuc2VydmVyICsgIi9leHRlbnNpb24vZ2V0Q291cG9uVGFvP2tleXdvcmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLm5vdy5jb3Jld29yZCkgKyAiJmNsYXNzX2lkPSIgKyBuLm5vdy5jbGFzc19pZCArICImYnJhbmQ9IiArIGVuY29kZVVSSUNvbXBvbmVudChuLmV4YWN0X2Fyci5zYnJhbmQpICsgIiZzaWdlX2lkPSIgKyBuLm5vdy5zaXRlX2lkOwoJCQkJCW8uZ2V0KGkpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQl0ICYmIHQuZGF0YSAmJiB0LmRhdGEubGVuZ3RoID4gMCAmJiBlKHQpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQl0LmFsaVNpdGUgfHwgaChwKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0iaGFveW1fZGV0YWlsIiBjbGFzcz0iaGFveW1fZGV0YWlsIiBzdHlsZT0ie3tzdHlsZX19Ij5cbiAgPHVsPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICA8bGk+XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJoeW0taW1nLWJveCI+XG4gICAgICAgIDxpbWcgc3JjPSJ7e3Nfc2VydmVyfX0vdGVtcGxhdGUvYXVnL2ltYWdlcy9uZXcvMTIwLmdpZiIgZGF0YS1zcmM9Int7JHZhbHVlLmltZ1VybH19Ij5cbiAgICAgIDwvYT5cbiAgICAgIDxkaXYgY2xhc3M9InByaS1pbmZvIj5cbiAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLnNpY29ufX0iPlxuICAgICAgICA8c3BhbiBjbGFzcz0iaHltLXNwMSI+6aKG5Yi45ZCOPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0iaHltLXNwMiI+PGVtPu+/pTwvZW0+e3skdmFsdWUuY3VycmVudFByaWNlfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJoeW0tc3AzIj7vv6V7eyR2YWx1ZS5vcmlnaW5QcmljZX19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8YSBocmVmPSJ7eyR2YWx1ZS5jb3Vwb25Vcmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJjb3Vwb25idG4gbmV3Yi1iZyI+XG4gICAgICAgIHt7JHZhbHVlLmNvdXBvbkluZm99fVxuICAgICAgPC9hPlxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Imh5bS10bGUiPlxuICAgICAgICAgIHt7JHZhbHVlLnRpdGxlfX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgIDwvbGk+XG4gICAge3svZWFjaH19XG4gIDwvdWw+XG4gIHt7aWYgIWFsaXNpdGV9fVxuICA8YSBocmVmPSJ7e3BhZ2V1cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJoeW1fbW9yZWxpbmsiPuafpeeci+WFqOmDqD4+PC9hPlxuICB7ey9pZn19XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgLmhhb3ltX2RldGFpbCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAjZ3dkX2hhb3ltIC5oYW95bV9pY29uIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDVweCAtMTlweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICB9XG4gICAgI2d3ZF9oYW95bS5tc2hvdmVyIHtcbiAgICAgIGNvbG9yOiAjNWViZWZmO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGhlaWdodDogMzhweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgIH1cbiAgICBcbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoKCQkJZnVuY3Rpb24gYShlKSB7CgkJCQl2YXIgYSA9ICJodHRwczovL3d3dy5nd2RhbmcuY29tL3Byb21vdGlvbi9wcmljZT9rZXl3b3JkPSIgKyBiLmtleXdvcmQgKyAiJmV4dD0xJmNsYXNzX2lkPSIgKyBiLmNsYXNzX2lkLAoJCQkJCW8gPSBuKDE5Mik7CgkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbiIpLmFwcGVuZChfLmNvbXBpbGUobykoewoJCQkJCXJlbW86ICLmm7TlpJrlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTlkIznsbvllYblk4EiLAoJCQkJCWRhdGE6IGUuc2xpY2UoMCwgMyksCgkJCQkJZXh0TmFtZTogaS5leHROYW1lLAoJCQkJCWV4dEJyYW5kOiBpLmV4dEJyYW5kLAoJCQkJCXNfc2VydmVyOiBpLnNfc2VydmVyLAoJCQkJCWxvd1VybDogYQoJCQkJfSkpLCBuKDEyOCkucmVuZGVyTG93ZXN0QWQoZi5jbGFzc19pZCwgZi5jb3Jld29yZCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikuc2hvdygpCgkJCX0KCgkJCWZ1bmN0aW9uIG8oZSkgewoJCQkJdmFyIGEgPSAiaHR0cHM6Ly93d3cuZ3dkYW5nLmNvbS9wcm9tb3Rpb24vcHJpY2U/a2V5d29yZD0iICsgYi5rZXl3b3JkICsgIiZleHQ9MSZjbGFzc19pZD0iICsgYi5jbGFzc19pZCwKCQkJCQlvID0gbigxOTIpOwoJCQkJdCgiI2JqZF9ib3R0b21fZGV0YWlsIikuYXBwZW5kKF8uY29tcGlsZShvKSh7CgkJCQkJcmVtbzogIuabtOWkmuWkhOS6juWOhuWPsuacgOS9juS7t+eahOWQjOexu+WVhuWTgSIsCgkJCQkJZGF0YTogZS5zbGljZSgwLCAzKSwKCQkJCQlleHROYW1lOiBpLmV4dE5hbWUsCgkJCQkJZXh0QnJhbmQ6IGkuZXh0QnJhbmQsCgkJCQkJc19zZXJ2ZXI6IGkuc19zZXJ2ZXIsCgkJCQkJbG93VXJsOiBhCgkJCQl9KSksIHQoIi5jb20tbG93cHJpIikuc2hvdygpCgkJCX0KCgkJCWZ1bmN0aW9uIHIoZSkgewoJCQkJZS5oaWdoZXN0X3ByaWNlID0gZS5sYXN0X3ByaWNlLCBlLmxhc3RfcHJpY2UgPSBlLmxhc3RfcHJpY2UudG9TdHJpbmcoKS5zcGxpdCgiLiIpWzBdCgkJCX0KCgkJCWZ1bmN0aW9uIHMoZSkgewoJCQkJdmFyIHQgPSBuKDE4KTsKCQkJCWUubGVuZ3RoID4gMzAgJiYgKGUgPSBlLnNsaWNlKDAsIDMwKSk7CgkJCQlmb3IgKHZhciBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIHsKCQkJCQlyKGVbYV0pOwoJCQkJCXZhciBvID0gewoJCQkJCQlzaXRlX2lkOiBlW2FdLnNpdGVfaWQsCgkJCQkJCXVybDogZVthXS51cmwsCgkJCQkJCW1vZDogInp1aWRpamlhIiwKCQkJCQkJdW5pb246IGkudW5pb24uc3BsaXQoIl8iKVsxXSwKCQkJCQkJZHBfaWQ6IGVbYV0udXJsX2NyYyArICItIiArIGVbYV0uc2l0ZV9pZAoJCQkJCX07CgkJCQkJZVthXS51cmwgPSB0LmluaXQobykKCQkJCX0KCQkJCXJldHVybiBlCgkJCX0KCgkJCWZ1bmN0aW9uIGwoKSB7CgkJCQlpLmZpeFdpZHRoKCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQl0KHRoaXMpLmFkZENsYXNzKGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9ob3ZlciIpLCB3KCJwcm9kdWN0X3BhZ2VfbG93ZXN0X3Nob3ciKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikuY3NzKCJsZWZ0IiwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5vZmZzZXQoKS5sZWZ0ICsgInB4IikuY3NzKCJyaWdodCIsICJhdXRvIiksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCAuYWxsLXByb2R1Y3RzIikuY3NzKCJ3aWR0aCIsIHkgLSA4MCksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLnNob3coKSwgdCh3aW5kb3cpLndpZHRoKCkgLSAodCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikub2Zmc2V0KCkubGVmdCArIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm91dGVyV2lkdGgoKSArIDIpIDwgMCAmJiB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5jc3MoInJpZ2h0IiwgIjBweCIpLmNzcygibGVmdCIsICJhdXRvIiksIChpLklFNyB8fCBpLklFOCkgJiYgdCh3aW5kb3cpLndpZHRoKCkgPCAxNTAwICYmIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmNzcygicmlnaHQiLCAiMHB4IikuY3NzKCJsZWZ0IiwgImF1dG8iKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQoZSkucmVtb3ZlQ2xhc3MoaS5leHRCcmFuZCArICJfbG93cHJpX2hvdmVyIiksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmhpZGUoKQoJCQkJCX0sIDIwMCkKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmkiKS5yZW1vdmVDbGFzcyhpLmV4dEJyYW5kICsgIl9sb3dwcmlfaG92ZXIiKSwgdCh0aGlzKS5oaWRlKCkKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQl3KCJwcm9kdWN0X3BhZ2VfbG93ZXN0X2NsaWNrIikKCQkJCX0pLCB0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaV9kZXRhaWwgLmxlZnQtcGFnZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWkuY2hhbmdlX3BhZ2UoImxvd3ByaSIsIC0xKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCAucmlnaHQtcGFnZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCWkuY2hhbmdlX3BhZ2UoImxvd3ByaSIsIDEpCgkJCQl9KQoJCQl9CgoJCQlmdW5jdGlvbiBjKCkgewoJCQkJdCgiLmNvbS1sb3dwcmkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKSwgdygicHJvZHVjdF9wYWdlX2xvd2VzdF9zaG93IiksIHQodGhpcykuYWRkQ2xhc3MoIm1zaG92ZXIiKSwgdCgiIyIgKyBpLmV4dEJyYW5kICsgIl9sb3dwcmlfZGV0YWlsIikuc2hvdygpCgkJCQl9KSwgdCgiLmNvbS1sb3dwcmkiKS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dChnKTsKCQkJCQl2YXIgZSA9IHRoaXM7CgkJCQkJZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCXQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLmhpZGUoKSwgdChlKS5yZW1vdmVDbGFzcygibXNob3ZlciIpCgkJCQkJfSwgMjAwKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJY2xlYXJUaW1lb3V0KGcpLCB0KHRoaXMpLnNob3coKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24oKSB7CgkJCQkJdCh0aGlzKS5oaWRlKCksIHQoIi5jb20tbG93cHJpIikucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJfSksIHQoIiMiICsgaS5leHRCcmFuZCArICJfbG93cHJpX2RldGFpbCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCXcoInByb2R1Y3RfcGFnZV9sb3dlc3RfY2xpY2siKQoJCQkJfSkKCQkJfQoKCQkJZnVuY3Rpb24gZChlKSB7CgkJCQlmb3IgKHZhciB0ID0gcyhlLmRhdGEpLCBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHRbbl0uZGlzY291bnQgPSAoMTAgKiB0W25dLmRpc2NvdW50KS50b0ZpeGVkKDEpOwoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiAoYSh0KSwgbCgpKSwgImJvdHRvbSIgPT0gaS5zdHlsZSAmJiAobyh0KSwgYygpKSwgImx1eW91IiA9PT0gaS5idHlwZSAmJiAiaG5keCIgIT09IGkuZnJvbV9kZXZpY2UgJiYgdi5pbml0KGYsIGUpCgkJCX0KCgkJCWZ1bmN0aW9uIHAoKSB7CgkJCQl2YXIgZSA9ICc8YSBpZD0iJyArIGkuZXh0QnJhbmQgKyAnX2xvd3ByaSIgPjxzcGFuIGNsYXNzPSJsb3dwcmlfaWNvbiBuZXdiLWJnIj48L3NwYW4+PHNwYW4gY2xhc3M9Imxvd3ByaV90ZXh0Ij7mm7TlpJrlkIznsbvkvY7ku7c8L3NwYW4+PC9hPic7CgkJCQl0KCIjcmlnaHRfaW5mbyIpLmFwcGVuZChfLmNvbXBpbGUoZSkoe30pKQoJCQl9CgoJCQlmdW5jdGlvbiBoKCkgewoJCQkJInRvcCIgPT0gaS5zdHlsZSAmJiBwKCkKCQkJfQoKCQkJZnVuY3Rpb24gdShlLCBhLCBvKSB7CgkJCQl2YXIgciA9IGkuZHAucHJpY2UgfHwgMCwKCQkJCQlzID0gbig3MSk7CgkJCQkhciAmJiBzLmdldCgiZHBfZGF0YSIpICYmIHMuZ2V0KCJkcF9kYXRhIikubm93ICYmIChyID0gcy5nZXQoImRwX2RhdGEiKS5ub3cucHJpY2UpLCByIHx8IChyID0gMCksICJzdW5pbmciID09IGkuc2l0ZSAmJiB0KCIubWFpbnByaWNlIikuZXEoMCkudGV4dCgpLmluZGV4T2YoIj8iKSA+IC0xICYmIChyID0gMCksIGIua2V5d29yZCA9IGVuY29kZVVSSUNvbXBvbmVudChzLmdldCgiZHBfZGF0YSIpLm5vdy5jb3Jld29yZCB8fCAiIiksIGIuY2xhc3NfaWQgPSBlOwoJCQkJdmFyIGwgPSBpLnNlcnZlciArICIvZXh0ZW5zaW9uP2FjPXByaWNlX2IyY19sb3dlc3QmY2xhc3NfaWQ9ICIgKyBlICsgIiZzaXRlX2lkPSIgKyBhICsgIiZwcmljZT0iICsgciArICIma2V5d29yZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuZ2V0KCJkcF9kYXRhIikubm93LmNvcmV3b3JkIHx8ICIiKTsKCQkJCXguZ2V0KGwpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCWUgJiYgMCAhPSBlLmRhdGEubGVuZ3RoID8gbyhlKSA6ICh0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnJlbW92ZSgpLCAibHV5b3UiID09PSBpLmJ0eXBlICYmICJobmR4IiAhPT0gaS5mcm9tX2RldmljZSAmJiB2LmluaXQoZiwgZSkpCgkJCQl9KS5mYWlsKGZ1bmN0aW9uKGUpIHsKCQkJCQl0KCIjIiArIGkuZXh0QnJhbmQgKyAiX2xvd3ByaSIpLnJlbW92ZSgpLCAibHV5b3UiID09PSBpLmJ0eXBlICYmICJobmR4IiAhPT0gaS5mcm9tX2RldmljZSAmJiB2LmluaXQoZiwgbnVsbCkKCQkJCX0pCgkJCX0KCgkJCWZ1bmN0aW9uIG0oZSkgewoJCQkJdmFyIHQgPSAwOwoJCQkJcmV0dXJuICIwIiAhPSBlLnNpdGVfaWQgPyB0ID0gZS5zaXRlX2lkIDogIjAiICE9IGUubm93X2RwX2lkICYmICIiICE9IGUubm93X2RwX2lkICYmICh0ID0gZS5ub3dfZHBfaWQuc3BsaXQoIi0iKVsxXSksIHQKCQkJfQoJCQl2YXIgZiwgZywgXyA9IG4oMTYpLAoJCQkJeCA9IG4oOSksCgkJCQl3ID0gbigyNiksCgkJCQl2ID0gbigxODcpLAoJCQkJYiA9IHt9LAoJCQkJeSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+IDAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwoJCQllLmV4cG9ydHMuZ2V0UGFnZUluZm8gPSBmdW5jdGlvbihlKSB7CgkJCQl2YXIgdCA9IHt9LAoJCQkJCW4gPSBpLmdldEZpeGVkU2hvd1Byb2R1Y3ROdW0oKSwKCQkJCQlhID0gZS5sZW5ndGg7CgkJCQlyZXR1cm4gYSA+PSBuID8gKHQucGFnZXMgPSAhMCwgdC5wYWdld2lkdGggPSB5IC0gMikgOiAodC5wYWdlcyA9ICExLCB0LnBhZ2V3aWR0aCA9IDIwMCAqIGEgKyAyKSwgdC5kcG51bSA9IGEsIHQucGFnZW51bSA9IGEgJSBuID09IDAgPyBwYXJzZUludChhIC8gbikgOiBwYXJzZUludChhIC8gbiArIDEpLCB0LnBlclBhZ2VTaXplID0gbiwgdAoJCQl9LCBlLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGUpIHsKCQkJCWlmIChmID0gZSwgIWkuYWxpU2l0ZSAmJiAidmlwc2hvcCIgIT0gaS5zaXRlKSB7CgkJCQkJdmFyIHQgPSBtKGUpOwoJCQkJCXJldHVybiAwID09IHQgPyB2b2lkKCJsdXlvdSIgPT09IGkuYnR5cGUgJiYgImhuZHgiICE9PSBpLmZyb21fZGV2aWNlICYmIHYuaW5pdChmLCBudWxsKSkgOiB2b2lkKGkuSUU2IHx8IChoKCksIHUoZS5jbGFzc19pZCwgdCwgZCkpKQoJCQkJfQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxODgpLAoJCQkJbyA9IG4oMTkpLAoJCQkJciA9IG4oMTQpLAoJCQkJcyA9IG4oMTMpLAoJCQkJbCA9IG4oMTg5KSwKCQkJCWMgPSBuKDE2KSwKCQkJCWQgPSBuKDE3KSwKCQkJCXAgPSBuKDkpLAoJCQkJaCA9IHt9LAoJCQkJdSA9IHt9LAoJCQkJbSA9IHsKCQkJCQkiMzYwYnV5IjogewoJCQkJCQkiI2ZpdHRpbmctc3VpdCI6IFsiI2ZpdHRpbmctc3VpdCIsICJiZWZvcmUiXSwKCQkJCQkJIiNmaXR0aW5ncyI6IFsiI2ZpdHRpbmdzIiwgImJlZm9yZSJdLAoJCQkJCQkiI3Nob3BSZWNTdWl0IjogWyIjc2hvcFJlY1N1aXQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCSIzNjBidXktcmUiOiB7CgkJCQkJCSIjc2ltaWxhcl9nb29kcyI6IFsiI3NpbWlsYXJfZ29vZHMiLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQlhbWF6b246IHsKCQkJCQkJIiNidXl4Z2V0eV9mZWF0dXJlX2RpdiI6IFsiI2J1eXhnZXR5X2ZlYXR1cmVfZGl2IiwgImJlZm9yZSJdLAoJCQkJCQkiI3JoZi1jb250YWluZXIgLnJoZi1ib3JkZXIiOiBbIiNyaGYtY29udGFpbmVyIC5yaGYtYm9yZGVyIiwgImJlZm9yZSJdLAoJCQkJCQkiI2ZhbGxiYWNrc2Vzc2lvbi1zaW1zLWZlYXR1cmUiOiBbIiNmYWxsYmFja3Nlc3Npb24tc2ltcy1mZWF0dXJlIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQkiNTFidXkiOiB7CgkJCQkJCSIuZ3JpZF9jMSAueHRpZWluIjogWyIuZ3JpZF9jMSAueHRpZWluIiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlzdW5pbmc6IHsKCQkJCQkJIiNhY2Nlc3NvcnlJbmZvIjogWyIjYWNjZXNzb3J5SW5mbyIsICJwcmVwZW5kIl0sCgkJCQkJCSIjbGlzdFByb0NvbnRlbnQiOiBbIiNsaXN0UHJvQ29udGVudCIsICJwcmVwZW5kIl0sCgkJCQkJCSIud3JhcHBlciAucHJvY29uLXNpZGUiOiBbIi53cmFwcGVyIC5wcm9jb24tc2lkZSIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJIiNtYWluX2JkIC5zaG93IjogWyIjbWFpbl9iZCAuc2hvdyIsICJhZnRlciJdLAoJCQkJCQkiI21haW5fYmQgLnByb2R1Y3RfbWFpbiI6IFsiI21haW5fYmQgLnByb2R1Y3RfbWFpbiIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlnb21lOiB7CgkJCQkJCSIjZ20tb3RoZXItaW5mbyI6IFsiI2dtLW90aGVyLWluZm8iLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQl5aWhhb2RpYW46IHsKCQkJCQkJIi5mbV9kZXRhaWxfb25lIjogWyIuZm1fZGV0YWlsX29uZSIsICJhZnRlciJdCgkJCQkJfSwKCQkJCQlqdW1laTogewoJCQkJCQkiLmxheW91dF8xMDkwIC5kZWFsX2NvbnRlbnQiOiBbIi5sYXlvdXRfMTA5MCAuZGVhbF9jb250ZW50IiwgImFmdGVyIl0sCgkJCQkJCSIubWFsbF9kZXRhaWxfd3JhcCI6IFsiLm1hbGxfZGV0YWlsX3dyYXAiLCAiYXBwZW5kIl0KCQkJCQl9LAoJCQkJCXZtYWxsOiB7CgkJCQkJCSIjZ3JvdXAtYXJlYSsuaHItMjArLmxheW91dCI6IFsiI2dyb3VwLWFyZWErLmhyLTIwKy5sYXlvdXQiLCAicHJlcGVuZCJdCgkJCQkJfSwKCQkJCQlmZWluaXU6IHsKCQkJCQkJIiN0cmFja2VyX2l0ZW0gLnByb2R1Y3QtYWJvdXQiOiBbIiN0cmFja2VyX2l0ZW0gLnByb2R1Y3QtYWJvdXQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXlvdWdvdTogewoJCQkJCQkiI2dvb2RzQ29udGFpbmVyK3AiOiBbIiNnb29kc0NvbnRhaW5lcitwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCWthb2xhOiB7CgkJCQkJCSIuUEluZm9XcmFwIjogWyIuUEluZm9XcmFwIiwgImFmdGVyIl0KCQkJCQl9LAoJCQkJCXZpcHNob3A6IHsKCQkJCQkJIiNKLUZXLWRldGFpbCAuTS1kZXRhaWwiOiBbIiNKLUZXLWRldGFpbCAuTS1kZXRhaWwiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXdvbWFpOiB7CgkJCQkJCSIuZGV0YWlsX21haW4iOiBbIi5kZXRhaWxfbWFpbiIsICJwcmVwZW5kIl0sCgkJCQkJCSIuZGV0YWlsZWQiOiBbIi5kZXRhaWxlZCIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJaml1eGlhbjogewoJCQkJCQkiLmRldGFpbC1ib3gyIjogWyIuZGV0YWlsLWJveDIiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCXNlY29vOiB7CgkJCQkJCSIjc2hvd0FkZHMiOiBbIiNzaG93QWRkcyIsICJiZWZvcmUiXQoJCQkJCX0sCgkJCQkJd2JpYW86IHsKCQkJCQkJIiNoaXN0b3J5X2J1eSI6IFsiI2hpc3RvcnlfYnV5IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlzZmJlc3Q6IHsKCQkJCQkJIi5tYWluLWJveCI6IFsiLm1haW4tYm94IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQltaXlhYmFvYmVpOiB7CgkJCQkJCSIucG9wcHJvIC5iZmRfZGl2IjogWyIucG9wcHJvIC5iZmRfZGl2IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQlmZW5ncXU6IHsKCQkJCQkJIiNyZWNvbW1lbmQiOiBbIiNyZWNvbW1lbmQiLCAiYmVmb3JlIl0KCQkJCQl9LAoJCQkJCWVoYWllcjogewoJCQkJCQkiLnByb2R1Y3QtZGV0YWlscy1ib3giOiBbIi5wcm9kdWN0LWRldGFpbHMtYm94IiwgImJlZm9yZSJdCgkJCQkJfSwKCQkJCQl6b2w6IHsKCQkJCQkJIiNKX1JlY29tbWVuZGVkRGlzdHJpYnV0b3IiOiBbIiNKX1JlY29tbWVuZGVkRGlzdHJpYnV0b3IiLCAiYmVmb3JlIl0sCgkJCQkJCSIucHJvZHVjdC1kZXRhaWwtYm94IjogWyIucHJvZHVjdC1kZXRhaWwtYm94IiwgImFmdGVyIl0KCQkJCQl9CgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gbVt0LnNpdGVdOwoJCQkJCWZvciAodmFyIG4gaW4gZSkKCQkJCQkJaWYgKGkobikubGVuZ3RoID4gMCkgewoJCQkJCQkJaWYgKCJwcmVwZW5kIiA9PSBlW25dWzFdICYmICJub25lIiA9PSBpKG4pLmNzcygiZGlzcGxheSIpKSBjb250aW51ZTsKCQkJCQkJCXJldHVybiBlW25dCgkJCQkJCX0KCQkJCQlyZXR1cm4gITEKCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSwgdCwgbikgewoJCQkJCXN3aXRjaCAobikgewoJCQkJCQljYXNlICJiZWZvcmUiOgoJCQkJCQkJaSh0KS5iZWZvcmUoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYXBwZW5kIjoKCQkJCQkJCWkodCkuYXBwZW5kKGUpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImFmdGVyIjoKCQkJCQkJCWkodCkuYWZ0ZXIoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAicHJlcGVuZCI6CgkJCQkJCQlpKHQpLnByZXBlbmQoZSkKCQkJCQl9CgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICIgLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9jb250ZW50Iikud2lkdGgoKSwKCQkJCQkJYSA9IGkoIi5pbm5lcl9wYWdlX2xlZnQiKS53aWR0aCgpLAoJCQkJCQlvID0gbiAtIDIgKiBhIC0gNDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyXyIgKyBlLnR5cGUgKyAiIC5pbm5lcl9wcm9fbGlzdCIpLndpZHRoKG8pLCB4KG8sIGUpCgkJCQl9LAoJCQkJeCA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQllID0gZSB8fCAwOwoJCQkJCXZhciBhID0gbi5kYXRhLmxlbmd0aCB8fCAwLAoJCQkJCQlvID0gcGFyc2VJbnQoZSAvIDE5MiksCgkJCQkJCXIgPSBhICUgbyA9PSAwID8gYSAvIG8gOiBwYXJzZUludChhIC8gbykgKyAxOwoJCQkJCW4udG90YWwgPSByLCBuLnBlciA9IG8sIG4uY29udyA9IGUsIGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIG4udHlwZSArICIgLnRvdGFsX3BhZ2UiKS50ZXh0KHIpLCAxID09IHIgJiYgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2NvbnRlbnQgLnR1cm5wYWdlIikuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpCgkJCQl9LAoJCQkJdyA9IGZ1bmN0aW9uKGUsIG4pIHsKCQkJCQl2YXIgaSA9IGYoKTsKCQkJCQlpZiAoaSAhPT0gITEgJiYgMCAhPSBuLmxlbmd0aCkgewoJCQkJCQl1LmRhdGEgPSBuLCB1LnR5cGUgPSBlOwoJCQkJCQl2YXIgbyA9IGMuY29tcGlsZShhKSh7CgkJCQkJCQlkYXRhOiBuLAoJCQkJCQkJdHlwZTogZSwKCQkJCQkJCW51bTogbi5sZW5ndGgsCgkJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlciwKCQkJCQkJCW5ld19leHRlbnNpb246IHQubmV3X2V4dGVuc2lvbiwKCQkJCQkJCWV4dE5hbWU6IHQuZXh0TmFtZSwKCQkJCQkJCXNldHRpbmc6IHQuc2VydmVyICsgIi9icndleHQvc2V0dGluZ19mZWVkYmFjaz9zZXQ9MSIsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCQl9KTsKCQkJCQkJZyhvLCBpWzBdLCBpWzFdKSwgcy5sb2coIuW1jOWFpemhtemdouWQjOexu+WOhuWPsuacgOS9juS7t+WxleeOsCIpLCBfKHUpLCBqKDEsIHUpLCBiKHUpCgkJCQkJfQoJCQkJfSwKCQkJCXYgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIG8gPSBmKCk7CgkJCQkJaWYgKG8gIT09ICExICYmIDAgIT0gbi5sZW5ndGgpIHsKCQkJCQkJaC5kYXRhID0gbiwgaC50eXBlID0gZTsKCQkJCQkJdmFyIHIgPSBjLmNvbXBpbGUoYSkoewoJCQkJCQkJZGF0YTogbiwKCQkJCQkJCXR5cGU6IGUsCgkJCQkJCQludW06IG4ubGVuZ3RoLAoJCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCQluZXdfZXh0ZW5zaW9uOiB0Lm5ld19leHRlbnNpb24sCgkJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUsCgkJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCQl9KTsKCQkJCQkJaSgiLiIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9sb3dwcmljZSIpLmxlbmd0aCA+IDAgPyBpKCIuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvd3ByaWNlIikuYmVmb3JlKHIpIDogZyhyLCBvWzBdLCBvWzFdKSwgXyhoKSwgaigxLCBoKSwgcy5sb2coIuW1jOWFpemhtemdoueMnOS9oOWWnOasouWxleeOsCIpLCBiKGgpCgkJCQkJfQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlKSB7CgkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgZS50eXBlICsgIiAuaW5uZXJfcGFnZV9sZWZ0Iikub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CgkJCQkJCVMoLTEsIGUpCgkJCQkJfSksIGkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICIgLmlubmVyX3BhZ2VfcmlnaHQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJUygxLCBlKQoJCQkJCX0pLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX2xvdyBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzLmxvZygi5bWM5YWl6aG16Z2i5ZCM57G75Y6G5Y+y5pyA5L2O5Lu354K55Ye7IikKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl9mYXZvciBsaSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlzLmxvZygi5bWM5YWl6aG16Z2i54yc5L2g5Zac5qyi54K55Ye7IikKCQkJCQl9KQoJCQkJfSwKCQkJCXkgPSBmdW5jdGlvbihlKSB7CgkJCQkJZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdLm5ld2Rpc2NvdW50ID0gZVt0XS5kaXNjb3VudCwgZVt0XS5oaWdoZXN0ID0gZVt0XS5oaWdoZXN0X3ByaWNlOwoJCQkJCXJldHVybiBlCgkJCQl9LAoJCQkJayA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gZS5sZW5ndGggfHwgMCwgbiA9IDA7IHQgPiBuOyBuKyspIHsKCQkJCQkJdmFyIGkgPSAoTnVtYmVyKGVbbl0ucHJpY2UpIC8gMTAwKS50b1N0cmluZygpOyAtIDEgPT0gaS5pbmRleE9mKCIuIikgPyBlW25dLnByaWNlID0gaSArICIuMDAiIDogaS5tYXRjaCgvXC5bMC05XXsyfS8pID8gZVtuXS5wcmljZSA9IGkgOiBlW25dLnByaWNlID0gaSArICIwIgoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfSwKCQkJCXogPSBmdW5jdGlvbihlKSB7CgkJCQkJaWYgKGUucGVyICYmIDAgIT0gZS5wZXIpIHsKCQkJCQkJdmFyIG4gPSBlLmNvbncgLSAxOTIgKiBlLnBlciwKCQkJCQkJCWEgPSBwYXJzZUludChuIC8gNCk7CgkJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIGUudHlwZSArICcgLmlubmVyX3Byb19saXN0IGxpOm5vdCgiLmxpX2ZpcnN0IiknKS5jc3MoIm1hcmdpbi1sZWZ0IiwgYSArIDEyICsgInB4IikKCQkJCQl9CgkJCQl9LAoJCQkJQiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciB0ID0gMDsgZSA+IHQ7IHQrKykgewoJCQkJCQl2YXIgbiA9IGkoIiNnd2RfaW5uZXJfZmF2b3IgLml0ZW1faW1nIGltZyIpLmVxKHQpOwoJCQkJCQlsLmNoZWNraW1nKG4uYXR0cigic3JjIiksIG4sIDE3MCkKCQkJCQl9CgkJCQl9LAoJCQkJaiA9IGZ1bmN0aW9uKGUsIHQpIHsKCQkJCQl2YXIgbiA9IHQuZGF0YS5zbGljZSgoZSAtIDEpICogdC5wZXIsIGUgKiB0LnBlcik7CgkJCQkJQyhuLCB0KQoJCQkJfSwKCQkJCUMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBjLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlLAoJCQkJCQlzX3NlcnZlcjogdC5zX3NlcnZlcgoJCQkJCX0pOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICJfaW5uZXJfIiArIG4udHlwZSArICIgLmlubmVyX3Byb19saXN0IC4iICsgdC5leHRCcmFuZCArICJfIiArIG4udHlwZSArICJfbGlzdCIpLmVtcHR5KCkuYXBwZW5kKGEpLCBCKGUubGVuZ3RoKSwgeihuKQoJCQkJfSwKCQkJCVMgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkJdmFyIGEgPSBOdW1iZXIoaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX3BhZ2UgLmN1cl9wYWdlIikudGV4dCgpKTsKCQkJCQkxID09PSBlID8gKGEgPT0gbi50b3RhbCAmJiAoYSA9IDApLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyXyIgKyBuLnR5cGUgKyAiIC4iICsgdC5leHRCcmFuZCArICJfaW5uZXJfcGFnZSAuY3VyX3BhZ2UiKS50ZXh0KCsrYSksIGooYSwgbikpIDogKDEgPT0gYSAmJiAoYSA9IG4udG90YWwgKyAxKSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9pbm5lcl8iICsgbi50eXBlICsgIiAuIiArIHQuZXh0QnJhbmQgKyAiX2lubmVyX3BhZ2UgLmN1cl9wYWdlIikudGV4dCgtLWEpLCBqKGEsIG4pKQoJCQkJfSwKCQkJCU4gPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJdmFyIGEgPSBlLnNpdGVfaWQsCgkJCQkJCW8gPSBlLm5vd19kcF9pZCwKCQkJCQkJciA9IHQuc2VydmVyICsgIi9icndleHQvZ3Vlc3NfZmF2b3I/ZHBfaWQ9IiArIG8gKyAiJmRwX2lkcz0mc2l0ZV9pZD0iICsgYSArICImY29sdW1uPWFsc292aWV3IjsKCQkJCQlwLmdldChyKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJaSgiZmF2b3IiLCBuLmNvbmNhdChrKGUpKSkKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbihlLCBuKSB7CgkJCQkic3hkeCIgIT09IHQuZnJvbV9kZXZpY2UgJiYgKDAgIT0gZC5nZXQoInNob3dfZ3Vlc3NmYXZvciIpICYmIHIuZ2V0RHBMb3dlc3QoZnVuY3Rpb24odCkgewoJCQkJCU4oZSwgdCwgdikKCQkJCX0pLCAwICE9IGQuZ2V0KCJzaG93X2xvd3ByaSIpICYmIG4gJiYgdygibG93IiwgeShuLmRhdGEpKSkKCQkJfSwgZS5leHBvcnRzLmJkZXh0ID0gZnVuY3Rpb24oZSwgaSkgewoJCQkJMCAhPSB0LnNob3dfaW5uZXJfbG93ICYmIChhID0gbigxOTApLCBvID0gbigxOTEpLCB3KCJsb3ciLCB5KGkpKSkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9pbm5lcl97e3R5cGV9fSIgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSI+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIj5cbiAgICA8YSBjbGFzcz0ic2l0ZV9pY29uIiB7e2lmICFuZXdfZXh0ZW5zaW9ufX0gaHJlZj0iaHR0cDovL3d3dy57e2V4dE5hbWV9fS5jb20iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0i6LSt54mp5YWaIiB7ey9pZn19PjwvYT5cbiAgICA8c3BhbiBjbGFzcz0iYmlnX3RpdGxlIj5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDnjJzkvaDllpzmrKJcbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InNtYWxsX3RpdGxlIj5cbiAgICAgIHt7aWYgdHlwZSA9PSBcJ2xvd1wnfX1cbiAgICAgICAg6L+Z5Lqb5ZCM57G75ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDnnIvov4fmnKzllYblk4HnmoTov5jnnIvkuoZcbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG5cbiAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX3BhZ2UiPlxuICAgICAgPHNwYW4gY2xhc3M9ImN1cl9wYWdlIj4xPC9zcGFuPlxuICAgICAgPHNwYW4+Lzwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSJ0b3RhbF9wYWdlIj4xPC9zcGFuPlxuICAgIDwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9jb250ZW50Ij5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9sZWZ0IHR1cm5wYWdlIj48ZW0+PC9lbT48L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfcHJvX2xpc3QiID5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X3t7dHlwZX19X2xpc3QiPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtPjwvZW0+PC9hPlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAzMThweDtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9qaXV4aWFuIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UsIC57e2V4dEJyYW5kfX1fa2FvbGEgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZXtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1fd2JpYW8gLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2NvbnRlbnQge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfaGVhZCB7XG4gICAgICBoZWlnaHQ6IDUycHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5iaWdfdGl0bGUge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbWFyZ2luLXRvcDogMjFweDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDUxcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG4gICAgLnNtYWxsX3RpdGxlIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgIH1cbiAgICAgYS57e2V4dEJyYW5kfX1faW5uZXJfcGFnZTpob3ZlciB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfaGVhZCAuc2l0ZV9pY29uIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMThweDtcbiAgICAgIGxlZnQ6IDE4cHg7XG4gICAgICBoZWlnaHQ6IDIxcHg7XG4gICAgICB3aWR0aDogMjRweDtcbiAgICAgIHt7aWYgbmV3X2V4dGVuc2lvbn19XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy97e2V4dEJyYW5kfX1fc2l0ZV9pY29uMl8xLnBuZ1wnKSBuby1yZXBlYXQ7XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxMWxvZ28ucG5nXCcpIG5vLXJlcGVhdDtcbiAgICAgIHt7L2lmfX1cbiAgICAgIFxuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlICp7XG4gICAgICBmb250LWZhbWlseTogXCdNaWNyb3NvZnQgWWFoZWlcJztcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQsLmlubmVyX3BhZ2VfcmlnaHQge1xuICAgICAgd2lkdGg6IDYycHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE3MHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICBhLmlubmVyX3BhZ2VfbGVmdCBlbSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIG1hcmdpbi10b3A6IDgwcHg7XG4gICAgICBtYXJnaW4tbGVmdDogMjhweDtcbiAgICAgIGJhY2tncm91bmQ6IHVybChcJ3t7c19zZXJ2ZXJ9fS9pbWFnZXMvZXh0ZW5zaW9ucy8xMjE1YmFja19ub3JtYWwuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQgZW06aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTViYWNrX2hvdmVyLmpwZ1wnKSBuby1yZXBlYXQ7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xuICAgICAgYmFja2dyb3VuZDogdXJsKFwne3tzX3NlcnZlcn19L2ltYWdlcy9leHRlbnNpb25zLzEyMTVmb3J3YXJkX25vcm1hbC5qcGdcJykgbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9yaWdodCBlbTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL2V4dGVuc2lvbnMvMTIxNWZvcndhcmRfaG92ZXIuanBnXCcpIG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmlubmVyX3Byb19saXN0IHtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICBoZWlnaHQ6IDI2NHB4O1xuICAgICAgd2lkdGg6IDEwMDBweDtcbiAgICB9XG4gICAgLmlubmVyX3BhZ2VfbGVmdCwgLmlubmVyX3Byb19saXN0IHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpIHtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDI2NHB4O1xuICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSB1bCBsaS5saV9maXJzdCB7XG4gICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpIC5pdGVtX2ltZyB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBoZWlnaHQ6IDE3MnB4O1xuICAgICAgd2lkdGg6IDE3MnB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2YxZjFmMTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgaW1nIHtcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgLnNtYWxsX2Rlc2MgaW1nIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IGluaGVyaXQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIxcHg7XG4gICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWE1NDEyO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNXB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzU5NTc1NztcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYzpob3ZlciB7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5uZXdfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICNkODAwMDA7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2MgLm9sZF9wcmljZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzlGQTBBMDtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQllLmV4cG9ydHMuY2hlY2tpbWcgPSBmdW5jdGlvbihlLCBuLCBpLCBhKSB7CgkJCQl2YXIgbyA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBpIHx8ICIiID09IGkgfHwgbnVsbCA9PSBpID8gOTAgOiBpLAoJCQkJCXIgPSBlLAoJCQkJCXMgPSBuZXcgSW1hZ2U7CgkJCQl0LmJyb3dzZXIubXNpZSAmJiB0LmJyb3dzZXIudmVyc2lvbiA8IDExID8gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJCQlpZiAoImNvbXBsZXRlIiA9PSBzLnJlYWR5U3RhdGUgfHwgImxvYWRlZCIgPT0gcy5yZWFkeVN0YXRlKSB7CgkJCQkJCWlmIChzLndpZHRoID4gMCAmJiBzLmhlaWdodCA+IDApIHsKCQkJCQkJCXZhciB0ID0gbyAvIHMud2lkdGggPCBvIC8gcy5oZWlnaHQgPyBvIC8gcy53aWR0aCA6IG8gLyBzLmhlaWdodDsKCQkJCQkJCTEgPj0gdCA/IChuLmNzcygid2lkdGgiLCBzLndpZHRoICogdCksIG4uY3NzKCJoZWlnaHQiLCBzLmhlaWdodCAqIHQpKSA6IChuLmNzcygid2lkdGgiLCBzLndpZHRoKSwgbi5jc3MoImhlaWdodCIsIHMuaGVpZ2h0KSkKCQkJCQkJfQoJCQkJCQluLmF0dHIoInNyYyIsIGUpCgkJCQkJfQoJCQkJfSA6IHMub25sb2FkID0gZnVuY3Rpb24oKSB7CgkJCQkJaWYgKDEgPT0gcy5jb21wbGV0ZSkgewoJCQkJCQlpZiAocy53aWR0aCA+IDAgJiYgcy5oZWlnaHQgPiAwKSB7CgkJCQkJCQl2YXIgdCA9IG8gLyBzLndpZHRoIDwgbyAvIHMuaGVpZ2h0ID8gbyAvIHMud2lkdGggOiBvIC8gcy5oZWlnaHQ7CgkJCQkJCQkxID49IHQgPyAobi5jc3MoIndpZHRoIiwgcy53aWR0aCAqIHQpLCBuLmNzcygiaGVpZ2h0Iiwgcy5oZWlnaHQgKiB0KSkgOiAobi5jc3MoIndpZHRoIiwgcy53aWR0aCksIG4uY3NzKCJoZWlnaHQiLCBzLmhlaWdodCkpCgkJCQkJCX0KCQkJCQkJbi5hdHRyKCJzcmMiLCBlKSwgYSAmJiBhKCkKCQkJCQl9CgkJCQl9LCBzLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCQkJCQluLmF0dHIoInNyYyIsIHQuc19zZXJ2ZXIgKyAiL2ltYWdlcy9leHRlbnNpb25zL2RlZmF1bHRfbG9hZF9pbWFnZS5wbmciKS5jc3MoIndpZHRoIiwgOTApLCBuLmF0dHIoImRhdGEtb3JpZ2luYWwiLCB0LnNfc2VydmVyICsgIi9pbWFnZXMvZXh0ZW5zaW9ucy9kZWZhdWx0X2xvYWRfaW1hZ2UucG5nIikKCQkJCX0sIHMuc3JjID0gcgoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2lubmVyX3t7dHlwZX19IiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIj5cbiAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19X2lubmVyX2hlYWQiPlxuICAgIDxhIGNsYXNzPSJzaXRlX2ljb24gYmRleHQtYmciIGhyZWY9ImphdmFzY3JpcHQ6IiA+PC9hPlxuICAgIDxzcGFuIGNsYXNzPSJiaWdfdGl0bGUiPlxuICAgICAgICDljoblj7LmnIDkvY7ku7dcbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9InNtYWxsX3RpdGxlIj5cbiAgICAgICAg6L+Z5Lqb5ZCM57G75ZWG5ZOB5aSE5LqO5Y6G5Y+y5pyA5L2O5Lu3XG4gICAgPC9zcGFuPlxuXG4gICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIj5cbiAgICAgIDxzcGFuIGNsYXNzPSJjdXJfcGFnZSI+MTwvc3Bhbj5cbiAgICAgIDxzcGFuPi88L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz0idG90YWxfcGFnZSI+MTwvc3Bhbj5cbiAgICA8L2E+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCI+XG4gICAgPGEgY2xhc3M9ImlubmVyX3BhZ2VfbGVmdCB0dXJucGFnZSI+PGVtIGNsYXNzPSJiZGV4dC1iZyI+PC9lbT48L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfcHJvX2xpc3QiID5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19X3t7dHlwZX19X2xpc3QiPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgICA8YSBjbGFzcz0iaW5uZXJfcGFnZV9yaWdodCB0dXJucGFnZSI+PGVtIGNsYXNzPSJiZGV4dC1iZyI+PC9lbT48L2E+XG4gIDwvZGl2PlxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2Uge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDMxOHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2ppdXhpYW4gLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSwgLnt7ZXh0QnJhbmR9fV9rYW9sYSAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNle1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV93YmlhbyAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfY29udGVudCB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIHtcbiAgICAgIGhlaWdodDogNTJweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICAgLmJpZ190aXRsZSB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tdG9wOiAyMXB4O1xuICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBtYXJnaW4tbGVmdDogNTFweDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgY29sb3I6ICM0MjU3NjY7XG4gICAgfVxuICAgIC5zbWFsbF90aXRsZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIGNvbG9yOiAjYTBhYmIyO1xuICAgIH1cbiAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgdG9wOiAyMHB4O1xuICAgICAgY29sb3I6ICM0MjU3NjY7XG4gICAgfVxuICAgICBhLnt7ZXh0QnJhbmR9fV9pbm5lcl9wYWdlOmhvdmVyIHtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9oZWFkIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxOHB4O1xuICAgICAgbGVmdDogMThweDtcbiAgICAgIGhlaWdodDogMjNweDtcbiAgICAgIHdpZHRoOiAyM3B4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMHB4IDBweDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSAqe1xuICAgICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhaGVpXCc7XG4gICAgfVxuICAgIGEuaW5uZXJfcGFnZV9sZWZ0LC5pbm5lcl9wYWdlX3JpZ2h0IHtcbiAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAxNzBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgYS5pbm5lcl9wYWdlX2xlZnQgZW0ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgd2lkdGg6IDMwcHg7XG4gICAgICBtYXJnaW4tdG9wOiA4MHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzdweCAtMTI3cHg7XG4gICAgfVxuICAgIC5pbm5lcl9wYWdlX3JpZ2h0IGVtIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgbWFyZ2luLXRvcDogODBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTE1cHggLTEyN3B4O1xuICAgIH1cbiAgICAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfcGFnZV9sZWZ0LCAuaW5uZXJfcHJvX2xpc3Qge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIGhlaWdodDogMjY0cHg7XG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIH1cbiAgICAue3tleHRCcmFuZH19X2lubmVyX2xvd3ByaWNlIHVsIGxpLmxpX2ZpcnN0IHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgdWwgbGkgLml0ZW1faW1nIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTcycHg7XG4gICAgICB3aWR0aDogMTcycHg7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBpbWcge1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBtYXgtaGVpZ2h0OiAxNzBweDtcbiAgICAgIG1heC13aWR0aDogMTcwcHg7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuICAgIC57e2V4dEJyYW5kfX1faW5uZXJfbG93cHJpY2UgbGkgLnNtYWxsX2Rlc2MgaW1nIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IGluaGVyaXQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5zaXRlX2ljb24ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgd2lkdGg6IDIxcHg7XG4gICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnt7ZXh0QnJhbmR9fV9pbm5lcl9sb3dwcmljZSBsaSBhIGVte1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0NTAwO1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB3aWR0aDogNDJweDtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyB7XG4gICAgICB3aWR0aDogMTcwcHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIH1cbiAgICAuaW5uZXJfZHBfZGVzYyAuZHBfdGl0bGV7XG4gICAgICBjb2xvcjogIzQyNTc2NjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHdpZHRoOiAxNzBweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2Mge1xuICAgICAgbWFyZ2luLXRvcDogNnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAzNnB4O1xuICAgICAgd2lkdGg6IDE3MHB4O1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuc21hbGxfZGVzYzpob3ZlciB7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC5zbWFsbF9kZXNjIC5uZXdfcHJpY2Uge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICNlNTIyMjI7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnNtYWxsX2Rlc2MgLm9sZF9wcmljZSB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogI2EwYWJiMjtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbiAgPGxpIGNsYXNzPSJ7eyRpbmRleD09MD9cJ2xpX2ZpcnN0XCc6XCdcJ319Ij5cbiAgICA8YSBjbGFzcz0iaXRlbV9pbWciIGhyZWY9Int7JHZhbHVlLnVybH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICB7e2lmICR2YWx1ZS5uZXdkaXNjb3VudH19XG4gICAgICAgIDxlbT57eyR2YWx1ZS5uZXdkaXNjb3VudH195oqYPC9lbT5cbiAgICAgIHt7L2lmfX1cbiAgICA8L2E+XG4gICAgPGRpdiBjbGFzcz0iaW5uZXJfZHBfZGVzYyI+XG4gICAgICA8YSBjbGFzcz0iZHBfdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgdGFyZ2V0PSJfYmxhbmsiPlxuICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzcz0ic21hbGxfZGVzYyI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJuZXdfcHJpY2UiPlxuICAgICAgICAgICAgwqV7eyR2YWx1ZS5wcmljZX19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9Im9sZF9wcmljZSIgc3R5bGU9ImRpc3BsYXk6IHt7KCR2YWx1ZS5oaWdoZXN0KT9cJ2lubGluZS1ibG9ja1wnOlwnbm9uZVwnfX0iPsKle3skdmFsdWUuaGlnaGVzdH19PC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICA8L2xpPlxue3svZWFjaH19JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ie3tleHRCcmFuZH19X2xvd3ByaV9kZXRhaWwiIGNsYXNzPSJiamQtcHJvZHVjdC1kZXRhaWwiPlxuICA8dWwgaWQ9Imxvd3ByaS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgIDxsaSBpZD0ibG93cHJpLXByb2QtaXRlbS17eyRpbmRleH19Ij5cbiAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSIgY2xhc3M9InNtYWxsLWltZyI+XG4gICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgIDwvYT5cbiAgICAgICAgIDxkaXYgY2xhc3M9InNhbGUtcHJpLWluZm8iPlxuICAgICAgICAgIDxkaXYgY2xhc3M9InNhbGUtcHJpLWJveCI+XG4gICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9mYXZpY29uL3t7JHZhbHVlLnNpdGVfaWR9fS5pY28iIGNsYXNzPSJzaXRlX2ljb25faW1nIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzYWxlLXByaWNlIj7CpXt7JHZhbHVlLnByaWNlfX08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2FsZS1kZXNjIG5ld2ItYmciPuWIsOaJi+S7tzwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPSJvcmlnLXByaS1pbmZvIj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5ld2ItYmciPumhtemdouS7t8Kle3skdmFsdWUubGFzdF9wcmljZX19PC9zcGFuPlxuICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgPHNwYW4gY2xhc3M9Imxvd3ByaS1wcm9tbyI+e3skdmFsdWUucHJvbW99fTwvc3Bhbj5cbiAgICAgICAgIDxhIGNsYXNzPSJsb3dwcmktdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iIHRhcmdldD0iX2JsYW5rIj57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgPC9saT5cbiAgICB7ey9lYWNofX1cbiAgPC91bD5cbiAge3tpZiAhYWxpc2l0ZX19XG4gIDxhIGhyZWY9Int7bG93VXJsfX0iIGlkPSJsb3dwcmlfbW9yZWxpbmsiIHRhcmdldD0iX2JsYW5rIj7mn6XnnIvlhajpg6g+PjwvYT5cbiAge3svaWZ9fVxuICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgIC57e2V4dE5hbWV9fS1tYWluICN7e2V4dEJyYW5kfX1fbG93cHJpLnt7ZXh0QnJhbmR9fV9sb3dwcmlfaG92ZXJ7XG4gICAgICBoZWlnaHQ6IDM4cHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiA5OTk5OTk5OTE7XG4gICAgfVxuICAgIC5iamQtcHJvZHVjdC1kZXRhaWwge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gICAgI2d3ZF9sb3dwcmlfZGV0YWlsIHtcbiAgICAgIGhlaWdodDogMjY3cHg7XG4gICAgfVxuICAgIC5nd2RfemhpZGVtYWlfaG92ZXIge1xuICAgICAgY29sb3I6ICM1ZWJlZmYhaW1wb3J0YW50O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGhlaWdodDogMzhweCFpbXBvcnRhbnQ7XG4gICAgICB6LWluZGV4OiA5OTk7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5sb3dwcmlfaWNvbntcbiAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgIH1cbiAgICAubG93cHJpX2ljb24gaW1nIHtcbiAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgbWFyZ2luLXRvcDogLTRweDtcbiAgICB9XG4gICAgI3t7ZXh0QnJhbmR9fV9sb3dwcmkgLmxvd3ByaV9pY29ue1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB3aWR0aDogMjJweDtcbiAgICAgIG1hcmdpbi10b3A6IDZweDtcbiAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE4cHggLTE5cHg7XG4gICAgfVxuICAgIFxuICAgICN7e2V4dEJyYW5kfX1fbG93cHJpX2RldGFpbCAubG93cHJpX2Rlc2Mge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgIHdpZHRoOiA0NXB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNzdweDtcbiAgICAgICAgbGVmdDogOTNweDtcbiAgICAgIH1cbiAgICAgICNsb3dwcmktaXRlbS1saXN0IGxpIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9sb3dwcmlfZGV0YWlsICNsb3dwcmktaXRlbS1saXN0IC5sYXRlc3RDcmVhdGUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMTNweDs7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X2xvd3ByaV9kZXRhaWwgI2xvd3ByaS1pdGVtLWxpc3QgLmhpZ2hlc3RfZGlzY291bnQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xNHB4O1xuICAgICAgfVxuICAgICAgI2xvd3ByaV9tb3JlbGluayB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBib3R0b206IDlweDtcbiAgICAgICAgcmlnaHQ6IDlweDtcbiAgICAgICAgY29sb3I6ICM5YjliOWI7XG4gICAgICB9XG4gICAgICAjbG93cHJpX21vcmVsaW5rOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgICB9XG4gICAgICAuc2FsZS1wcmktYm94IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuICAgICAgLnNhbGUtcHJpLWJveD4qIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB9XG4gICAgICAuc2l0ZV9pY29uX2ltZyB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgICAgfVxuICAgICAgLmJqZC1wcm9kdWN0LWRldGFpbCAuc2FsZS1wcmljZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICAgICAgfVxuICA8L3N0eWxlPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbig5KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSBmdW5jdGlvbihlLCBuLCBhKSB7CgkJCQkJdmFyIHIgPSAnPGEgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtsaW5lLWhlaWdodDozMnB4OyIgaWQ9InpkbV9pbWciIHRhcmdldD0iX2JsYW5rIiBocmVmPSJ7e3VybH19IiB0aXRsZT0ie3t0aXRsZX19Ij48aW1nIHNyYz0ie3tpbWd9fSIgc3R5bGU9ImhlaWdodDozNXB4Ij48L2E+JzsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChvLmNvbXBpbGUocikoewoJCQkJCQl1cmw6IG4sCgkJCQkJCWltZzogZSwKCQkJCQkJdGl0bGU6IGEKCQkJCQl9KSkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCWUuaW1nICYmIGUudXJsICYmIGUudGl0bGUgJiYgcihlLmltZywgZS51cmwsIGUudGl0bGUpCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1yZW1pbmQmc2l0ZT0iICsgaS5zaXRlICsgIiZob3N0PSIgKyBsb2NhdGlvbi5ob3N0ICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZTsKCQkJCQlhLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAmJiBlLmlzc2hvdyA9PT0gITAgJiYgcyhlKQoJCQkJCX0pLmZhaWwoZnVuY3Rpb24oKSB7fSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQlsKCkKCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oOSksCgkJCQlyID0gbigxMyksCgkJCQlzID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBvID0gbigxOTUpOwoJCQkJCXQoaS5kdmFsKS5hcHBlbmQoYS5jb21waWxlKG8pKHsKCQkJCQkJZGF0YTogZQoJCQkJCX0pKSwgci5sb2coIuW6lemDqOi1hOiur+WxleeOsCIpCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbyA9IG4oMTk2KTsKCQkJCQl0KCIjIiArIGkuZXh0TmFtZSArICItbWFpbi1jb250ZW50cyIpLmFwcGVuZChhLmNvbXBpbGUobykoewoJCQkJCQlkYXRhOiBlCgkJCQkJfSkpLCByLmxvZygi6aG26YOo6LWE6K6v5bGV546wIikKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI25ld19pbmZvbWF0aW9uIGEiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJci5sb2coaS5zdHlsZSArICLotYTorq/ngrnlh7siKQoJCQkJCX0pCgkJCQl9LAoJCQkJZCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQkidG9wIiA9PSBpLnN0eWxlID8gbChlKSA6ICJib3R0b20iID09IGkuc3R5bGUgJiYgcyhlKSwgYyhpLnN0eWxlKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCWlmIChpLmx1eW91cWkpIHsKCQkJCQl2YXIgZSA9IGkuc2VydmVyICsgIi9leHRlbnNpb24/YWM9YW5ub3VuY2VtZW50IjsKCQkJCQlvLmdldChlKS5kb25lKGZ1bmN0aW9uKGUpIHsKCQkJCQkJZSAmJiBlLmxlbmd0aCA+IDAgJiYgZChlKQoJCQkJCX0pCgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oNiksIG4oMSkpCgl9LAoJZnVuY3Rpb24oZSwgdCkgewoJCWUuZXhwb3J0cyA9ICc8ZGl2IGlkPSJuZXdfaW5mb21hdGlvbiIgY2xhc3M9Imd3ZC1jbG9zZS1tb2R1bGUiPlxuICA8c3BhbiBjbGFzcz0ibmlfaGVhZCI+W+i1hOiur108L3NwYW4+XG4gIDxkaXY+XG4gICAge3tlYWNoIGRhdGF9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPuKXjyZuYnNwO3t7IyR2YWx1ZS50aXRsZX19PC9hPlxuICAgIHt7L2VhY2h9fVxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjbmV3X2luZm9tYXRpb24ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbiA+IGRpdiB7XG4gICAgICBwYWRkaW5nOiAxMnB4IDBweDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uIC5uaV9oZWFke1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogODVweDtcbiAgICAgIGhlaWdodDogNjBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbiBhIHtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICAgIG1heC13aWR0aDogNDQycHg7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb24gYTpob3ZlciwgI25ld19pbmZvbWF0aW9uIGE6aG92ZXIgc3BhbiB7XG4gICAgICBjb2xvcjogIzE3OTBkZCAhaW1wb3J0YW50O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Im5ld19pbmZvbWF0aW9uX3RvcCI+XG4gIDxzcGFuIGNsYXNzPSJuaV9oZWFkIj5b6LWE6K6vXTwvc3Bhbj5cbiAge3tlYWNoIGRhdGF9fVxuICAgIDxhIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPjxlbT7il488L2VtPiZuYnNwO3t7IyR2YWx1ZS50aXRsZX19PC9hPlxuICB7ey9lYWNofX1cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGJvcmRlci1yaWdodDogMXB4IGRhc2hlZCAjZWVlO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBsaW5lLWhlaWdodDogMzZweDtcbiAgICAgIGhlaWdodDogMzZweDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uX3RvcCBhIHtcbiAgICAgIGNvbG9yOiAjNjY2IDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweCA7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgIH1cbiAgICAjbmV3X2luZm9tYXRpb25fdG9wIGEgc3BhbiB7XG4gICAgICBmbG9hdDogbm9uZTtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuICAgICNuZXdfaW5mb21hdGlvbl90b3AgYSBlbSB7XG4gICAgICBjb2xvcjogI2U1MjYwMDtcbiAgICB9XG4gICAgI25ld19pbmZvbWF0aW9uX3RvcCBhOmhvdmVyLCAjbmV3X2luZm9tYXRpb25fdG9wIGE6aG92ZXIgZW0sICAjbmV3X2luZm9tYXRpb25fdG9wIGE6aG92ZXIgc3BhbiB7XG4gICAgICBjb2xvcjogIzE3OTBkZCAhaW1wb3J0YW50O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2Rpdj4nOwoJfSwKCWZ1bmN0aW9uKGUsIHQsIG4pIHsKCQkoZnVuY3Rpb24odCwgaSkgewoJCQkidXNlIHN0cmljdCI7CgkJCXZhciBhID0gbigxOTgpLAoJCQkJbyA9IG4oMTApLAoJCQkJciA9IG4oOSksCgkJCQlzID0gbigxNiksCgkJCQlsID0gbigxMyksCgkJCQljID0gewoJCQkJCSIzNjBidXkiOiAzLAoJCQkJCXN1bmluZzogMjUsCgkJCQkJZ29tZTogMjgsCgkJCQkJeWloYW9kaWFuOiAzMSwKCQkJCQlkYW5nZGFuZzogMiwKCQkJCQlhbWF6b246IDEKCQkJCX0sCgkJCQlkID0gewoJCQkJCSIzNjBidXkiOiB7CgkJCQkJCWRvbTogIiNKX2NydW1ic0JhciAuY3J1bWJzLW5hdiAuY3J1bWJzLW5hdi1tYWluIiwKCQkJCQkJcG9zOiAiYXBwZW5kIgoJCQkJCX0sCgkJCQkJc3VuaW5nOiB7CgkJCQkJCWRvbTogIiNzZWFyY2gtcGF0aCIsCgkJCQkJCXNlYXJjaGRvbTogIiNhZHZGaWx0ZXIgLm9mbCIsCgkJCQkJCXBvczogImFwcGVuZCIKCQkJCQl9LAoJCQkJCXlpaGFvZGlhbjogewoJCQkJCQlkb206ICIubW9kX3NlYXJjaF9jcnVtYiAuY3J1bWJDbGlwIiwKCQkJCQkJcG9zOiAiYXBwZW5kIgoJCQkJCX0sCgkJCQkJZGFuZ2Rhbmc6IHsKCQkJCQkJZG9tOiAiI0IiLAoJCQkJCQlzZWFyY2hkb206ICIjSl90YWIiLAoJCQkJCQlwb3M6ICJhcHBlbmQiCgkJCQkJfSwKCQkJCQlnb21lOiB7CgkJCQkJCWRvbTogIi5uU2VhcmNoLWNydW1iLWNhdGVnb3J5LXJlc3VsdHMiLAoJCQkJCQlwb3M6ICJhcHBlbmQiLAoJCQkJCQlzZWFyY2hkb206ICIublNlYXJjaC1jcnVtYiIKCQkJCQl9LAoJCQkJCWFtYXpvbjogewoJCQkJCQlkb206ICIjcy1yZXN1bHQtY291bnQiLAoJCQkJCQlwb3M6ICJhcHBlbmQiCgkJCQkJfQoJCQkJfSwKCQkJCXAgPSBmdW5jdGlvbihlLCBuLCBpKSB7CgkJCQkJc3dpdGNoIChpKSB7CgkJCQkJCWNhc2UgImJlZm9yZSI6CgkJCQkJCQl0KG4pLmJlZm9yZShlKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJhcHBlbmQiOgoJCQkJCQkJdChuKS5hcHBlbmQoZSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiYWZ0ZXIiOgoJCQkJCQkJdChuKS5hZnRlcihlKQoJCQkJCX0KCQkJCX0sCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJcmV0dXJuICJzdW5pbmciID09IGkuc2l0ZSAmJiB0KCIjYWR2RmlsdGVyIikubGVuZ3RoID4gMCAmJiAtMSA9PSBkW2kuc2l0ZV0uZG9tLmluZGV4T2YoImFkdkZpbHRlciIpID8gITAgOiAhMQoJCQkJfSwKCQkJCXUgPSBmdW5jdGlvbihlKSB7CgkJCQkJImJvdHRvbSIgPT0gaS5zdHlsZSA/IG4oMTk5KShlKSA6ICJ0b3AiID09IGkuc3R5bGUgJiYgbShlKQoJCQkJfSwKCQkJCW0gPSBmdW5jdGlvbihlKSB7CgkJCQkJdCgiIyIgKyBpLmV4dE5hbWUgKyAiLW1haW4tY29udGVudHMiKS5hcHBlbmQodCgiPGE+IiwgewoJCQkJCQlocmVmOiBlLnVybCwKCQkJCQkJdGFyZ2V0OiAiX2JsYW5rIiwKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcHJvbW9fcCIsCgkJCQkJCWlkOiBpLmV4dEJyYW5kICsgIl9wcm9tb19idG4iLAoJCQkJCQlzdHlsZTogInBvc2l0aW9uOnJlbGF0aXZlOyIKCQkJCQl9KS5hcHBlbmQodCgiPHNwYW4+IiwgewoJCQkJCQkiY2xhc3MiOiBpLmV4dEJyYW5kICsgIl9iZyAiICsgaS5leHRCcmFuZCArICJfcHJvbW9faWNvbiIsCgkJCQkJCXN0eWxlOiAibWFyZ2luLXRvcDotNXB4OyIKCQkJCQl9KSkuYXBwZW5kKHQoIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcHJvbW9fdGV4dCIKCQkJCQl9KS50ZXh0KCLkv4PplIAiKSkuYXBwZW5kKHQoIjxzcGFuPiIsIHsKCQkJCQkJImNsYXNzIjogaS5leHRCcmFuZCArICJfcmVkIgoJCQkJCX0pLnRleHQoZS5udW0pKSksIG4oMTYxKS5pbnNlcnRQcm9tb1Nob3dMaXN0KGUpCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IDA7CgkJCQkJIjM2MGJ1eSIgPT0gaS5zaXRlID8gbiA9IDEwMCA6ICJ5aWhhb2RpYW4iID09IGkuc2l0ZSA/IG4gPSAtMTM4IDogImRhbmdkYW5nIiA9PSBpLnNpdGUgPyBuID0gbG9jYXRpb24uaG9zdC5pbmRleE9mKCJzZWFyY2giKSA+IC0xID8gMjcwIDogNzAgOiAiZ29tZSIgPT0gaS5zaXRlID8gbiA9IDIwIDogImFtYXpvbiIgPT0gaS5zaXRlICYmIChuID0gMTkwKTsKCQkJCQlmb3IgKHZhciBhID0gdChlICsgIiA+ICoiKS5sZW5ndGgsIG8gPSB0KGUpLndpZHRoKCksIHIgPSAwLCBzID0gMDsgYSA+IHM7IHMrKykgIlNDUklQVCIgIT0gdChlICsgIiA+ICoiKS5lcShzKVswXS5ub2RlTmFtZSAmJiAociArPSB0KGUgKyAiID4gKiIpLmVxKHMpLm91dGVyV2lkdGgoKSk7CgkJCQkJcmV0dXJuIG8gLSByIC0gbgoJCQkJfSwKCQkJCWcgPSBmdW5jdGlvbigpIHsKCQkJCQkieWloYW9kaWFuIiA9PSBpLnNpdGUgJiYgdCgiLmJqZF9zZWFyY2hfcHJvbW8iKS5hZGRDbGFzcygiaGFja3loZCIpLCAiZGFuZ2RhbmciID09IGkuc2l0ZSAmJiB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLmFkZENsYXNzKCJoYWNrZGFuZ2RhbmciKSwgImdvbWUiID09IGkuc2l0ZSAmJiB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLmFkZENsYXNzKCJoYWNrZ29tZSIpLCAiYW1hem9uIiA9PSBpLnNpdGUgJiYgdCgiLmJqZF9zZWFyY2hfcHJvbW8iKS5hZGRDbGFzcygiaGFja2FtYXpvbiIpCgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKCkgewoJCQkJCWxvY2F0aW9uLmhvc3QuaW5kZXhPZigic2VhcmNoIikgPiAtMSAmJiB0KGRbaS5zaXRlXS5zZWFyY2hkb20pLmxlbmd0aCA+IDAgJiYgKGRbaS5zaXRlXS5kb20gPSBkW2kuc2l0ZV0uc2VhcmNoZG9tKQoJCQkJfSwKCQkJCXggPSBmdW5jdGlvbihlKSB7CgkJCQkJXygpOwoJCQkJCXZhciBhID0gZihkW2kuc2l0ZV0uZG9tKTsKCQkJCQlpZiAoIWgoKSAmJiBkW2kuc2l0ZV0pIHsKCQkJCQkJdmFyIG8gPSBuKDIwMSksCgkJCQkJCQlyID0gcy5jb21waWxlKG8pKHsKCQkJCQkJCQlkYXRhOiBlCgkJCQkJCQl9KTsKCQkJCQkJcChyLCBkW2kuc2l0ZV0uZG9tLCBkW2kuc2l0ZV0ucG9zKSwgbC5sb2coIuWIl+ihqOmhteW1jOWFpeS/g+mUgOa0u+WKqOWxleeOsCIpLCB0KCIuYmpkX3NlYXJjaF9wcm9tbyIpLndpZHRoKGEpLCBnKCksIHcoKQoJCQkJCX0KCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oKSB7CgkJCQkJdCgiI2JqZF9zZWFyY2hfcHJvbW8gYSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQlsLmxvZygi5YiX6KGo6aG15bWM5YWl5L+D6ZSA5rS75Yqo54K55Ye7IikKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXZhciBlID0gY1tpLnNpdGVdLAoJCQkJCXQgPSBvLmluaXQoNSk7CgkJCQlpZiAoZSAmJiB0KSB7CgkJCQkJdmFyIG4gPSB0LmpvaW4oIiwiKSwKCQkJCQkJcyA9IGEuaW5pdCgpLAoJCQkJCQlsID0gaS5zZXJ2ZXIgKyAiL2V4dGVuc2lvbj9hYz1wcm9tb19ieV9jbGFzcyZzaXRlX2lkPSIgKyBlICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZSArICImdW5pb249IiArIGkudW5pb24gKyAiJmNhdF9pZD0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuY2F0ZUlkKSArICImY2F0X25hbWU9IiArIGVuY29kZVVSSUNvbXBvbmVudChzLmNhdGVOYW1lKSArICImdXJscz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4pOwoJCQkJCXIuZ2V0KGwpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQllICYmIGUubnVtID4gMCAmJiAodShlKSwgeChlLnByb21vcykpCgkJCQkJfSkKCQkJCX0KCQkJfQoJCX0pLmNhbGwodCwgbig2KSwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIG4pIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgaSA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gIiI7CgkJCQkJc3dpdGNoICh0LnNpdGUpIHsKCQkJCQkJY2FzZSAiMzYwYnV5IjoKCQkJCQkJCWlmICgibGlzdC5qZC5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJdmFyIGkgPSBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZikubWF0Y2goL2NhdD0oLiopKD86JnwpLyk7CgkJCQkJCQkJZSA9IGkgJiYgaVsxXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJaWYgKCJpdGVtLmpkLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQl2YXIgaSA9IHdpbmRvdy5wYWdlQ29uZmlnICYmIHdpbmRvdy5wYWdlQ29uZmlnLnByb2R1Y3QgJiYgd2luZG93LnBhZ2VDb25maWcucHJvZHVjdC5jYXQ7CgkJCQkJCQkJaSAmJiBpLmpvaW4gJiYgKGUgPSBpLmpvaW4oIiwiKSk7CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICJ5aWhhb2RpYW4iOgoJCQkJCQkJaWYgKCJsaXN0LnloZC5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJdmFyIGkgPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9saXN0LnloZC5jb21cL2MoXGQrKS0vKTsKCQkJCQkJCQllID0gaSAmJiBpWzFdOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlpZiAoIml0ZW0ueWhkLmNvbSIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQllID0gbigiI2NhdGVnb3J5SWQiKS52YWwoKTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImRhbmdkYW5nIjoKCQkJCQkJCWlmICgiY2F0ZWdvcnkuZGFuZ2RhbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvY2lkKFxkKykvKTsKCQkJCQkJCQllID0gaSAmJiBpWzFdOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlpZiAoInByb2R1Y3QuZGFuZ2RhbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCWUgPSBuKCIjcGlkX3NwYW4iKS5hdHRyKCJjYXRlZ29yeV9pZCIpOwoJCQkJCQkJCWJyZWFrCgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAic3VuaW5nIjoKCQkJCQkJCWlmICgibGlzdC5zdW5pbmcuY29tIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvbGlzdC5zdW5pbmcuY29tXC9cZCstKFxkKyktLyk7CgkJCQkJCQkJZSA9IGkgJiYgaVsxXTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJaWYgKCJwcm9kdWN0LnN1bmluZy5jb20iID09PSBsb2NhdGlvbi5ob3N0KSB7CgkJCQkJCQkJZSA9IHdpbmRvdy5zbiAmJiB3aW5kb3cuc24uY2F0ZWdvcnlJZDsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgImdvbWUiOgoJCQkJCQkJaWYgKCJsaXN0LmdvbWUuY29tLmNuIiA9PT0gbG9jYXRpb24uaG9zdCkgewoJCQkJCQkJCXZhciBpID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvZ29tZS5jb20uY25cL2NhdChcZCspLi8pOwoJCQkJCQkJCWUgPSBpICYmIGlbMV07CgkJCQkJCQkJYnJlYWsKCQkJCQkJCX0KCQkJCQkJCWlmICgiaXRlbS5nb21lLmNvbS5jbiIgPT09IGxvY2F0aW9uLmhvc3QpIHsKCQkJCQkJCQl2YXIgaSA9IHdpbmRvdy5wcmRJbmZvICYmIHdpbmRvdy5wcmRJbmZvLmNhdElkLnJlcGxhY2UoImNhdCIsICIiKTsKCQkJCQkJCQllID0gaSAmJiBpLnJlcGxhY2UoImNhdCIsICIiKTsKCQkJCQkJCQlicmVhawoJCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gZQoJCQkJfSwKCQkJCWEgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9ICIiOwoJCQkJCWlmICgxID09PSB0LnBhZ2VJbmZvLnR5cGUpIHsKCQkJCQkJZm9yICh2YXIgaSA9IFtdLCBhID0gbihvW3Quc2l0ZV0pLCByID0gYS5sZW5ndGgsIHMgPSAwOyByID4gczsgcysrKSBpLnB1c2goYS5lcShzKS50ZXh0KCkpOwoJCQkJCQllID0gaS5qb2luKCIjIikKCQkJCQl9IGVsc2UgZSA9IHQuZHAuY2F0ZU5hbWU7CgkJCQkJcmV0dXJuIGUKCQkJCX0sCgkJCQlvID0gewoJCQkJCSIzNjBidXkiOiAiI0pfY3J1bWJzQmFyIC5jcnVtYnMtbmF2LWl0ZW0gLm1lbnUtZHJvcCAudHJpZ2dlciAuY3VyciIsCgkJCQkJZ29tZTogIi5uU2VhcmNoLWNydW1iIC5uU2VhcmNoLWNydW1iLWNhdGVnb3J5IC5jYXRlZ29yeS1uYW1lIiwKCQkJCQlzdW5pbmc6ICIjc2VhcmNoLXBhdGggLmRpci1saXN0IC5icmVhZE5hdiBhLCNzZWFyY2gtcGF0aCAuZGlyLWxpc3QgLmJyZWFkTmF2ICsgc3Bhbi5sIiwKCQkJCQl5aWhhb2RpYW46ICIuY3J1bWJDbGlwIC5saXN0Q29uIGxpLmNydW1iX2xpc3QgYTp2aXNpYmxlIiwKCQkJCQlkYW5nZGFuZzogJyNCIGFbbmFtZT0iQiJdLCAjQiBzcGFuLmN1cnJlbnQnCgkJCQl9OwoJCQllLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUgPSBhKCksCgkJCQkJdCA9IGkoKTsKCQkJCXJldHVybiB7CgkJCQkJY2F0ZU5hbWU6IGUsCgkJCQkJY2F0ZUlkOiB0CgkJCQl9CgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgewoJCQkJdmFyIGEgPSBuKDI2KSwKCQkJCQlvID0gbigxNiksCgkJCQkJciA9IG4oMTMpOwoJCQkJaWYgKCFlICYmICF0Lm5ld19leHRlbnNpb24pIHJldHVybiB2b2lkIGkoIiMiICsgdC5leHRCcmFuZCArICItY3UiKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLXRhYiIpLmF0dHIoImhyZWYiLCAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vcHJvbW90aW9uL2FjdGl2aXR5Lz9mcm9tPWJyb3dzZXImbT1wcm9tb3Rpb24iKTsKCQkJCWlmICh0Lm5ld19leHRlbnNpb24gfHwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jdSIpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItdGFiIikuYXR0cigiaHJlZiIsIGUudXJsKSwgZSAmJiBlLnByb21vcyAmJiBlLnByb21vcy5sZW5ndGgpIHsKCQkJCQllLnByb21vcyA9IGUucHJvbW9zLnNsaWNlKDAsIDUpOwoJCQkJCXZhciBzID0gbigyMDApOwoJCQkJCWkoIiMiICsgdC5leHRCcmFuZCArICItY3UiKS5hcHBlbmQoby5jb21waWxlKHMpKHsKCQkJCQkJZGF0YTogZSwKCQkJCQkJbmV3X2V4dGVuc2lvbjogdC5uZXdfZXh0ZW5zaW9uLAoJCQkJCQlleHRCcmFuZDogdC5leHRCcmFuZAoJCQkJCX0pKSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIi1jdSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7CgkJCQkJCWkodGhpcykuZmluZCgiLiIgKyB0LmV4dEJyYW5kICsgIi10YWIiKS5hZGRDbGFzcyh0LmV4dEJyYW5kICsgIi1jb21wYXJlLWl0ZW0taG92ZXIiKS5lbmQoKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLWRldGFpbCIpLnNob3coKSwgYSgiaG92ZXI6bWFpbjpjdXhpYW8iKSwgci5sb2coIuS4u+W3peWFt+agj+S/g+mUgOm8oOagh+aCrOa1riIpCgkJCQkJfSkubW91c2VsZWF2ZShmdW5jdGlvbigpIHsKCQkJCQkJaSh0aGlzKS5maW5kKCIuIiArIHQuZXh0QnJhbmQgKyAiLXRhYiIpLnJlbW92ZUNsYXNzKHQuZXh0QnJhbmQgKyAiLWNvbXBhcmUtaXRlbS1ob3ZlciIpLmVuZCgpLmZpbmQoIi4iICsgdC5leHRCcmFuZCArICItZGV0YWlsIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0KCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1kZXRhaWwiIHN0eWxlPSJkaXNwbGF5OiBub25lIj5cbiAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIHt7ZXh0QnJhbmR9fS1oZWlnaHQtYXV0byI+XG4gICAgPHNwYW4gY2xhc3M9Int7ZXh0QnJhbmR9fS1kZXRhaWwtdGl0bGUtZGVzYyI+5pys5ZWG5Z+O5L+D6ZSA5rS75YqoKHt7ZGF0YS5udW19fSk8L3NwYW4+XG4gICAge3tpZiAhbmV3X2V4dGVuc2lvbn19XG4gICAgPGEgaHJlZj0ie3tkYXRhLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9Int7ZXh0QnJhbmR9fS1ncmV5IHt7ZXh0QnJhbmR9fV9zZWVfYWxsIj7mn6XnnIvlhajpg6g8L2E+XG4gICAge3svaWZ9fVxuICA8L3A+XG4gIDx1bCBpZD0ie3tleHRCcmFuZH19X3Byb21vX2l0ZW1fbGlzdCIgY2xhc3M9Int7ZXh0QnJhbmR9fS1pdGVtLWxpc3QiPlxuICAgIHt7ZWFjaCBkYXRhLnByb21vc319XG4gICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0iIHN0eWxlPSJkaXNwbGF5OiBibG9jayI+XG4gICAgICAgIDxwIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJvZHVjdC10aXRsZSI+XG4gICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIGNsYXNzPSJ7e2V4dEJyYW5kfX0tZ3JleSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2xpPlxuICAgIHt7L2VhY2h9fVxuICA8L3VsPlxuPC9kaXY+JwoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0iYmpkX3NlYXJjaF9wcm9tbyIgaWQ9ImJqZF9zZWFyY2hfcHJvbW8iPlxuICB7e2VhY2ggZGF0YX19XG4gICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+e3skdmFsdWUudGl0bGV9fTwvYT5cbiAge3svZWFjaH19XG4gIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+XG4gICAgLmJqZF9zZWFyY2hfcHJvbW8ge1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICB3aWR0aDogMTAwMHB4O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja3loZCB7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiAyMjtcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja2RhbmdkYW5nLCAjYmpkX3NlYXJjaF9wcm9tby5oYWNrZ29tZXtcbiAgICAgIHRvcDogNnB4O1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyAgICBcbiAgICB9XG4gICAgI2JqZF9zZWFyY2hfcHJvbW8uaGFja2FtYXpvbiB7XG4gICAgICB0b3A6IDVweDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgICAgXG4gICAgfVxuICAgICNiamRfc2VhcmNoX3Byb21vLmhhY2tkYW5nZGFuZyBhIHtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgIH1cbiAgICAjYmpkX3NlYXJjaF9wcm9tbyBhOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjMTc5MGRkO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cbiAgICAuYmpkX3NlYXJjaF9wcm9tbyBhIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxOXB4O1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIiBjbGFzcz0icGFuZWwgcHJpY2VfY29tcGFyZSI+XG4gIDxkaXYgY2xhc3M9InBhbmVsLXdyYXAiPlxuICAgIDxkaXYgY2xhc3M9InBhZ2VzIj5cbiAgICAgIOesrCZuYnNwO1xuICAgICAgPHNwYW4gaWQ9InNlYXJjaGxvd3ByaS1jdXJyZW50LXBhZ2UiIGNsYXNzPSJjdXJyZW50LXBhZ2UiPjE8L3NwYW4+XG4gICAgICAmbmJzcDvpobXvvIzlhbEmbmJzcDtcbiAgICAgIDxzcGFuIGlkPSJzZWFyY2hsb3dwcmktcGFnZS1udW0iIGNsYXNzPSJwYWdlLW51bSI+MTwvc3Bhbj5cbiAgICAgICZuYnNwO+mhtVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImxlZnQtcGFnZSBnd2RzZXR0aW5nX2JnIj5cbiAgICAgIDxhIHRpdGxlPSLkuIrkuIDpobUiIHRhcmdldD0iX3NlbGYiIGhyZWY9ImphdmFzY3JpcHQ6Ij48L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iYWxsLXByb2R1Y3RzIj5cbiAgICAgIDx1bCBpZD0ic2VhcmNobG93cHJpLWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgaWQ9InNlYXJjaGxvd3ByaS1wcm9kLWl0ZW0te3skaW5kZXh9fSI+XG4gICAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiBjbGFzcz0ic21hbGwtaW1nIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9Int7JHZhbHVlLmltZ191cmx9fSI+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiPsKle3skdmFsdWUucHJpY2V9fTwvYT5cbiAgICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZ3JheV9wcmljZSB7eyR2YWx1ZS5wcmljZWRlc2M/XCdcJyA6IFwnX3Rocm91Z2hcJ319IiA+XG4gICAgICAgICAgICAgICAge3tpZiAkdmFsdWUucHJpY2VkZXNjfX1cbiAgICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgICAge3tlbHNlfX1cbiAgICAgICAgICAgICAgICAgIHt7JHZhbHVlLmxhc3RfcHJpY2V9fVxuICAgICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSBjbGFzcz0iZ2V0X3ByaWNlIj5cbiAgICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICAgICAg5Yiw5omL5Lu3wqV7eyR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19X3RpdGxlIj57eyR2YWx1ZS50aXRsZX19PC9zcGFuPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InJpZ2h0LXBhZ2UgZ3dkc2V0dGluZ19iZyI+XG4gICAgICA8YSB0aXRsZT0i5LiL5LiA6aG1IiB0YXJnZXQ9Il9zZWxmIiBocmVmPSJqYXZhc2NyaXB0OiI+PC9hPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icGFuZWwtc2hhZG93Ij48L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaS5tX2hvdmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgIGNvbG9yOiAjMTc3RUU1O1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaSB7XG4gICAgICBib3JkZXItcmlnaHQ6IDFweCBkYXNoZWQgI2RkZDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaSBzcGFuIHtcbiAgICAgIGNvbG9yOiAjRTUyNjAwO1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWx7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLmxlZnQtcGFnZXtcbiAgICAgIGxlZnQ6IDVweDtcbiAgICB9XG4gICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC5hbGwtcHJvZHVjdHN7XG4gICAgICBsZWZ0OiAzNXB4O1xuICAgIH1cbiAgICBcbiAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1wcmljZTpob3ZlciwgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC5nZXRfcHJpY2U6aG92ZXIge1xuICAgICAgY29sb3I6ICNFNTI2MDA7XG4gICAgICBjdXJzb3I6IHRleHQ7XG4gICAgfVxuICAgIC57e2V4dE5hbWV9fS1tYWluIC5wYW5lbC13cmFwIC5hbGwtcHJvZHVjdHMgdWwgbGkgYSBpbWd7XG4gICAgICB3aWR0aDogOTBweDtcbiAgICB9XG4gICAgLnt7ZXh0TmFtZX19LW1haW4gLnBhbmVsLXdyYXAgLmFsbC1wcm9kdWN0cyB1bCBsaSAuc21hbGwtaW1ne1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cbiAgICAjc2VhcmNobG93cHJpLWl0ZW0tbGlzdCBsaSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5hbGwtcHJvZHVjdHMgLmdyYXlfcHJpY2UsIC5hbGwtcHJvZHVjdHMgLmdldF9wcmljZSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHdpZHRoOiAxODBweDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ3JheV9wcmljZSB7XG4gICAgICBjb2xvcjogIzk5OSFpbXBvcnRhbnQ7XG4gICAgICBcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ3JheV9wcmljZS5fdGhyb3VnaCB7XG4gICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaCFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIC5hbGwtcHJvZHVjdHMgLmdldF9wcmljZSB7XG4gICAgICBjb2xvcjogI0U1MjYwMDtcbiAgICB9XG4gICAgLmFsbC1wcm9kdWN0cyAuZ2V0X3ByaWNlOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjRTUyNjAwO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJ3t7ZWFjaCBkYXRhfX1cbjxsaSBjbGFzcz0ic2VhcmNoX2l0ZW1fbGlzdCAiPlxuICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbSI+XG4gICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgPC9hPlxuICA8L3NwYW4+XG4gIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHJlLXt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLWZpeGVkIHt7ZXh0QnJhbmR9fS1saXN0LWl0ZW0gIj5cbiAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19LXBpYyIgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICA8aW1nIHNyYz0ie3skdmFsdWUuaW1nX3VybH19IiBkYXRhLW9yaWdpbmFsPSJ7e3Nfc2VydmVyfX0vaW1hZ2VzL2RwX2RlZmF1bHQuanBnIiA+XG4gICAgPC9hPlxuICAgIDxhIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJvZHVjdC10aXRsZSIgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0ie3skdmFsdWUudGl0bGV9fSI+XG4gICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgPC9hPlxuICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tcHJpY2UiID5cbiAgICAgIMKle3skdmFsdWUucHJpY2V9fVxuICAgIDwvc3Bhbj5cbiAgICA8YSBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJncmF5X3ByaWNlIHt7JHZhbHVlLnByaWNlZGVzYz9cJ1wnIDogXCdfdGhyb3VnaFwnfX0iIFxuICAgICAgdGl0bGU9IlxuICAgICAge3tpZiAkdmFsdWUucHJpY2VkZXNjfX1cbiAgICAgICAg5qCH5Lu3wqUke3skdmFsdWUucHJpY2V9fSB7eyR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAge3svaWZ9fVxuICAgICAgIiAgIFxuICAgID5cbiAgICAgIHt7aWYgJHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICB7e2Vsc2V9fVxuICAgICAgICDCpXt7JHZhbHVlLmxhc3RfcHJpY2V9fVxuICAgICAge3svaWZ9fVxuICAgIDwvYT5cbiAgICA8c3BhbiBjbGFzcz0iZ2V0X3ByaWNlIj5cbiAgICAgIHt7aWYgJHZhbHVlLm5ld19wcmljZX19XG4gICAgICAgIOWIsOaJi+S7t8Kle3skdmFsdWUubmV3X3ByaWNlfX1cbiAgICAgIHt7L2lmfX1cbiAgICA8L3NwYW4+XG4gIDwvZGl2PlxuPC9saT5cbnt7L2VhY2h9fVxuPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAge3tkb21OYW1lfX0gLmxvd2VzdF9wcmljZV9idG4ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmbG9hdDogbGVmdDtcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgaGVpZ2h0OiA2MHB4O1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7XG4gIH1cbiAge3tkb21OYW1lfX0gLnt7ZXh0QnJhbmR9fV9maXJzdCB7XG4gICAgbWFyZ2luLXRvcDogOHB4O1xuICB9XG4gIHt7ZG9tTmFtZX19IC5sb3dlc3RfcHJpY2VfYnRuIGEge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGhlaWdodDogMjJweDtcbiAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG4gIC5sb3dlc3RfcHJpY2VfYnRuIGEgc3BhbntcbiAgICBjb2xvcjogI0U1MjYwMDtcbiAgfVxuICAue3tleHRCcmFuZH19LWNvbXBhcmUgbGkgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0gYXtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4gIHt7ZG9tTmFtZX19IC57e2V4dEJyYW5kfX0tY29tcGFyZT5saXtcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZWVlO1xuICB9XG4gIHt7ZG9tTmFtZX19IC57e2V4dEJyYW5kfX0tY29tcGFyZSBsaSAue3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbSBhe1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG4gIC5zZWFyY2hfaXRlbV9saXN0IC57e2V4dEJyYW5kfX1fZmF2b3JfaG92ZXIge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xuICB9XG4gIC57e2V4dEJyYW5kfX1fc3VuaW5nIC5zZWFyY2hfaXRlbV9saXN0IC57e2V4dEJyYW5kfX1fZmF2b3JfaG92ZXIge1xuICAgIHBhZGRpbmctYm90dG9tOiA3cHg7XG4gIH1cbiAgLnNlYXJjaF9pdGVtX2xpc3QgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgaGVpZ2h0OiAxODBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBtYXJnaW4tbGVmdDogLTMycHg7XG4gIH1cbiAgLnNlYXJjaF9pdGVtX2xpc3QgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsIC57e2V4dEJyYW5kfX0tcGljIGltZyB7XG4gICAgaGVpZ2h0OiA5MHB4O1xuICAgIGhlaWdodDogOTBweDtcbiAgfVxuICAuc2VhcmNoX2l0ZW1fbGlzdCAue3tleHRCcmFuZH19LXByaWNlIHtcbiAgICBsaW5lLWhlaWdodDogMTRweDtcbiAgfVxuICAuZ3JheV9wcmljZSwgLmdldF9wcmljZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGhlaWdodDogMTZweDtcbiAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxuICB7e2RvbU5hbWV9fSAuZ3JheV9wcmljZSB7XG4gICAgY29sb3I6ICM5OTk7XG4gIH1cbiAge3tkb21OYW1lfX0gLmdyYXlfcHJpY2UuX3Rocm91Z2gge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICB9XG4gIC5nZXRfcHJpY2Uge1xuICAgIGNvbG9yOiAjRTUyNjAwO1xuICB9XG48L3N0eWxlPicKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzx1bCBpZD0ie3tleHRCcmFuZH19LWNvbXBhcmUtc2VhcmNobG93cHJpImNsYXNzPSJ7e2V4dEJyYW5kfX0tY2xvc2UtbW9kdWxlIHt7ZXh0QnJhbmR9fS1kZXNjIHt7ZXh0QnJhbmR9fS1jb21wYXJlIj5cbiAgPGxpICBpZD0ie3tleHRCcmFuZH19LXNlYXJjaGxvd3ByaSIgcGFnZXM9Int7cGFnZUluZm8ucGFnZXM/XCdcJzpcJzFcJ319IiBsZW49Int7cGFnZUluZm8ucGFnZXM/XCdcJzpwYWdlSW5mby5kcG51bX19Ij5cbiAgICA8YSBjbGFzcz0ic2VhcmNobG93cHJpX2J0biI+XG4gICAgICA8c3BhbiBjbGFzcz0ibG93X3ByaV9pb2NuIj4uLi48L3NwYW4+XG4gICAgPC9hPlxuICAgIDxkaXYgaWQ9Int7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwgcmUte3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwge3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwtZml4ZWQiIHN0eWxlPSJ3aWR0aDp7e3BhZ2VJbmZvLnBhZ2V3aWR0aH19cHgiPlxuICAgICAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIHt7ZXh0QnJhbmR9fS1oZWlnaHQtYXV0byB7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1maXhlZCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC10aXRsZS1kZXNjIj7lvZPliY3pobXlpITkuo7ljoblj7LmnIDkvY7ku7fnmoTllYblk4E8L3NwYW4+XG4gICAgICA8L3A+XG4gICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1wcmV2LXBhZ2Uge3tleHRCcmFuZH19LWxlZnQiIHN0eWxlPSJkaXNwbGF5Ont7cGFnZUluZm8ucGFnZXM/XCdibG9ja1wnOlwnbm9uZVwnfX0iPlxuICAgICAgICA8ZGl2IGNsYXNzPSJ7e2V4dEJyYW5kfX0tYmcgcGFnZS1hcnJvdyI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDx1bCBjbGFzcz0ie3tleHRCcmFuZH19LWl0ZW0tbGlzdCI+XG4gICAgICAgIHt7ZWFjaCBkYXRhfX1cbiAgICAgICAgICA8bGkgY2xhc3M9Int7ZXh0QnJhbmR9fS1saXN0LWl0ZW0gIiBzdHlsZT0iZGlzcGxheTp7eyRpbmRleD49cGFnZUluZm8ucGVyUGFnZVNpemU/XCdub25lXCc6XCdibG9ja1wnfX0iPlxuICAgICAgICAgICAgPGEgY2xhc3M9Int7ZXh0QnJhbmR9fS1waWMiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICA8aW1nIHNyYz0ie3tzX3NlcnZlcn19L2ltYWdlcy9kcF9kZWZhdWx0LmpwZyIgZGF0YS1vcmlnaW5hbD0ie3skdmFsdWUuaW1nX3VybH19IiA+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8YSBjbGFzcz0ie3tleHRCcmFuZH19LXByb2R1Y3QtdGl0bGUiIGhyZWY9Int7JHZhbHVlLnVybH19IiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9Int7JHZhbHVlLnRpdGxlfX0iPlxuICAgICAgICAgICAgICB7eyR2YWx1ZS50aXRsZX19XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0ie3tleHRCcmFuZH19LXByaWNlIiA+XG4gICAgICAgICAgICAgIMKle3skdmFsdWUucHJpY2V9fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPGEgaHJlZj0ie3skdmFsdWUudXJsfX0iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZ3JheV9wcmljZSB7eyR2YWx1ZS5wcmljZWRlc2M/XCdcJyA6IFwnX3Rocm91Z2hcJ319IiBcbiAgICAgICAgICAgICAgdGl0bGU9IlxuICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgIHt7L2lmfX1cbiAgICAgICAgICAgICAgIiAgIFxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7e2lmICR2YWx1ZS5wcmljZWRlc2N9fVxuICAgICAgICAgICAgICAgIHt7JHZhbHVlLnByaWNlZGVzY319XG4gICAgICAgICAgICAgIHt7ZWxzZX19XG4gICAgICAgICAgICAgICAgwqV7eyR2YWx1ZS5sYXN0X3ByaWNlfX1cbiAgICAgICAgICAgICAge3svaWZ9fVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdldF9wcmljZSI+XG4gICAgICAgICAgICAgIHt7aWYgJHZhbHVlLm5ld19wcmljZX19XG4gICAgICAgICAgICAgICAg5Yiw5omL5Lu3wqV7eyR2YWx1ZS5uZXdfcHJpY2V9fVxuICAgICAgICAgICAgICB7ey9pZn19XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAge3svZWFjaH19XG4gICAgICA8L3VsPlxuICAgICAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19LWNvbXBhcmUtbmV4dC1wYWdlIHt7ZXh0QnJhbmR9fS1yaWdodCIgc3R5bGU9ImRpc3BsYXk6e3twYWdlSW5mby5wYWdlcz9cJ2Jsb2NrXCc6XCdub25lXCd9fSI+XG4gICAgICAgIDxkaXYgY2xhc3M9Int7ZXh0QnJhbmR9fS1iZyBwYWdlLWFycm93Ij48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz0ie3tleHRCcmFuZH19LWIyYy1QYWdlVmlldyB7e2V4dEJyYW5kfX0tYjJjLVBhZ2VWaWV3LWZpeGVkIiBzdHlsZT0iZGlzcGxheTp7e3BhZ2VJbmZvLnBhZ2VzP1wnYmxvY2tcJzpcJ25vbmVcJ319Ij5cbiAgICAgICAgPHAgY2xhc3M9Int7ZXh0QnJhbmR9fS1jb21wYXJlLWl0ZW0tZGV0YWlsLXRpdGxlIiBzdHlsZT0iaGVpZ2h0OmF1dG87Ij5cbiAgICAgICAgICA8c3BhbiBzdHlsZT0iZmxvYXQ6bm9uZTtwYWRkaW5nLWxlZnQ6MTBweDsiIGNsYXNzPSJ7e2V4dEJyYW5kfX0tY29tcGFyZS1pdGVtLWRldGFpbC1wYWdlcyI+XG4gICAgICAgICAgICA8ZW0gaWQ9InBhZ2Utbm93LXNlYXJjaGxvd3ByaSIgY2xhc3M9InBhZ2Utbm93Ij5cbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgPC9lbT5cbiAgICAgICAgICAgIC9cbiAgICAgICAgICAgIDxlbSBpZD0icGFnZS10b3RhbC1zZWFyY2hsb3dwcmkiIGNsYXNzPSJwYWdlLXRvdGFsIj5cbiAgICAgICAgICAgICAge3twYWdlSW5mby5wYWdlbnVtfX1cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPlxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaXtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZWVlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaT5saSB7XG4gICAgICAgIGhlaWdodDogNjBweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX0tY29tcGFyZS1zZWFyY2hsb3dwcmkgLnt7ZXh0QnJhbmR9fS1wcmljZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgfVxuICAgICAgLnNlYXJjaGxvd3ByaV9idG57XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgaGVpZ2h0OiAzN3B4O1xuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNmZmY7XG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmZmY7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgICB3aWR0aDogMzNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fS1jb21wYXJlLXNlYXJjaGxvd3ByaSAuc2VhcmNobG93cHJpX2J0bl9ob3ZlciB7XG4gICAgICAgIG1hcmdpbi10b3A6IC0xcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCAjMTc5MGRkO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogN3B4O1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlse1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgaW1ne1xuICAgICAgICB3aWR0aDogOTBweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LXBpY3tcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC57e2V4dEJyYW5kfX0tcGljPnNwYW57XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VhNTUxNDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgICAgICAgdG9wOiA3NHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGxlZnQ6IDAgIWltcG9ydGFudDtcbiAgICAgICAgcmlnaHQ6IDQ4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LWNvbXBhcmUtaXRlbS1kZXRhaWwtdGl0bGUsICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAue3tleHRCcmFuZH19LWIyYy1QYWdlVmlldyB7XG4gICAgICAgIGJvdHRvbTogMjQxcHg7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1jb21wYXJlLW5leHQtcGFnZXtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICB9XG4gICAgICAubG93X3ByaV9pb2Nue1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGhlaWdodDogMjVweDtcbiAgICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIH1cbiAgICAgIC5zZWFyY2hsb3dwcmlfYnRuX2hvdmVyIC5sb3dfcHJpX2lvY257XG4gICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX0tY29tcGFyZS1zZWFyY2hsb3dwcmkgLnt7ZXh0QnJhbmR9fS1wcmljZSBzcGFuIHtcbiAgICAgICAgY29sb3I6ICM5OTk7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgIH1cbiAgICAgICN7e2V4dEJyYW5kfX1fc2VhcmNobG93cHJpX2RldGFpbCAuc2VhcmNobG93cHJpX2Rlc2Mge1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCd7e3Nfc2VydmVyfX0vaW1hZ2VzL3NlYXJjaGxvd3ByaV9kZXNjLnBuZ1wnKTtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgICAgICB3aWR0aDogNDVweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDc3cHg7XG4gICAgICAgIGxlZnQ6IDEwMXB4O1xuICAgICAgfVxuICAgICAgI3t7ZXh0QnJhbmR9fV9zZWFyY2hsb3dwcmlfZGV0YWlsIC57e2V4dEJyYW5kfX0taXRlbS1saXN0IC5sYXRlc3RDcmVhdGUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xMTNweDs7XG4gICAgICB9XG4gICAgICAje3tleHRCcmFuZH19X3NlYXJjaGxvd3ByaV9kZXRhaWwgLnt7ZXh0QnJhbmR9fS1pdGVtLWxpc3QgLmhpZ2hlc3RfZGlzY291bnQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC00MHB4IC0xNHB4O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvbGk+XG48L3VsPicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMjA2KSwKCQkJCW8gPSBuKDE2KSwKCQkJCXIgPSAwLAoJCQkJcyA9IG4oMTgpLAoJCQkJbCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBlID0gJzxhIGlkPSInICsgdC5leHRCcmFuZCArICdfaGlzdG9yeSIgY2xhc3M9IicgKyB0LmV4dEJyYW5kICsgJy1jbG9zZS1tb2R1bGUiPiA8c3Bhbj48ZW0+PC9lbT7mtY/op4jljoblj7I8L3NwYW4+PC9hPicsCgkJCQkJCW4gPSBpKCIuIiArIHQuZXh0QnJhbmQgKyAiX29wdGlvbl9zZXR0aW5nIik7CgkJCQkJdC5uZXdfZXh0ZW5zaW9uICYmIChuID0gaSgiLmZlZWRiYWNrX2J0biIpKSwgbi5hZnRlcihvLmNvbXBpbGUoZSkoKSkKCQkJCX0sCgkJCQljID0gZnVuY3Rpb24oKSB7CgkJCQkJaSgiIyIgKyB0LmV4dE5hbWUgKyAiLWZlZWQtY2xvc2UiKS5hZGRDbGFzcygiX25ld2JhcjEiKSwgaSgiIyIgKyB0LmV4dE5hbWUgKyAiLW1haW4iKS5hZGRDbGFzcygiX25ld2JhcjIiKQoJCQkJfSwKCQkJCWQgPSBmdW5jdGlvbigpIHsKCQkJCQljKCk7CgkJCQkJdmFyIGUgPSAnPGEgaWQ9IicgKyB0LmV4dEJyYW5kICsgJ19oaXN0b3J5Ij4gPGVtIGNsYXNzPSJuZXdiLWJnIj48L2VtPjxzcGFuPua1j+iniOWOhuWPsjwvc3Bhbj48L2E+JzsKCQkJCQlpKCIjIiArIHQuZXh0TmFtZSArICItZmVlZC1jbG9zZSIpLmFmdGVyKG8uY29tcGlsZShlKSgpKSwgdC5maXhXaWR0aCgpCgkJCQl9LAoJCQkJcCA9IGZ1bmN0aW9uKCkgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyBkKCkgOiAiYm90dG9tIiA9PSB0LnN0eWxlICYmIGwoKQoJCQkJfSwKCQkJCWggPSBmdW5jdGlvbihlLCBhLCBzKSB7CgkJCQkJdmFyIGwgPSBuKDIwNyk7CgkJCQkJaShlKS5hcHBlbmQoby5jb21waWxlKGwpKHsKCQkJCQkJZGF0YTogYSwKCQkJCQkJc19zZXJ2ZXI6IHQuc19zZXJ2ZXIsCgkJCQkJCWhpc19zaXplOiByLAoJCQkJCQlleHROYW1lOiB0LmV4dE5hbWUKCQkJCQl9KSkKCQkJCX0sCgkJCQl1ID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCSJ0b3AiID09IHQuc3R5bGUgPyBoKGkoIiMiICsgdC5leHROYW1lICsgIi1tYWluIiksIGUsIG4pIDogImJvdHRvbSIgPT0gdC5zdHlsZSAmJiAoaCgiI2JqZF9ib3R0b21fZGV0YWlsIiwgZSwgbiksIHQuYXV0b0ZpeFdpZHRoKCkpCgkJCQl9LAoJCQkJbSA9IGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiByID49IDQgPyAzNDMgOiA3NSAqIHIgKyAxNCAqIChyIC0gMSkgKyAxCgkJCQl9LAoJCQkJZiA9IGZ1bmN0aW9uKGUpIHsKCQkJCQlmb3IgKHZhciBuID0gW10sIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykKCQkJCQkJaWYgKGVbaV0udXJsKSB7CgkJCQkJCQl2YXIgYSA9IHsKCQkJCQkJCQlzaXRlX2lkOiBlW2ldLnNpdGVfaWQsCgkJCQkJCQkJdXJsOiBlW2ldLnVybCwKCQkJCQkJCQltb2Q6ICJoaXN0b3J5IiwKCQkJCQkJCQl1bmlvbjogdC51bmlvbi5zcGxpdCgiXyIpWzFdLAoJCQkJCQkJCWRwX2lkOiBlW2ldLmRwX2lkCgkJCQkJCQl9OwoJCQkJCQkJZVtpXS51cmwgPSBzLmluaXQoYSksIG4ucHVzaChlW2ldKQoJCQkJCQl9CgkJCQkJcmV0dXJuIG4KCQkJCX0sCgkJCQlnID0gZnVuY3Rpb24oZSkgewoJCQkJCWlmIChlICYmIDAgIT0gZS5sZW5ndGgpIHsKCQkJCQkJZSA9IGYoZS5zbGljZSgwLCAxMCkpLCByID0gZS5sZW5ndGg7CgkJCQkJCXZhciB0ID0gbSgpOwoJCQkJCQlwKCksIHUoZSwgdCksIF8ocikKCQkJCQl9CgkJCQl9LAoJCQkJXyA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbiA9IHZvaWQgMCwKCQkJCQkJYSA9IHZvaWQgMDsKCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlhIHx8IHQubG9hZEltYWdlKGkoIiNoaXN0b3J5X2RldGFpbCBsaSAuaXRlbV9pbWciKSwgMCwgZSwgNzApLCBpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5hZGRDbGFzcygiaGlzdG9yeV9ob3ZlciIpLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5zaG93KCkKCQkJCQl9KSwgaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9oaXN0b3J5Iikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQlpKCIjIiArIHQuZXh0QnJhbmQgKyAiX2hpc3RvcnkiKS5yZW1vdmVDbGFzcygiaGlzdG9yeV9ob3ZlciIpLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBpKCIjaGlzdG9yeV9kZXRhaWwiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQobikKCQkJCQl9KSwgaSgiI2hpc3RvcnlfZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiIyIgKyB0LmV4dEJyYW5kICsgIl9oaXN0b3J5IikucmVtb3ZlQ2xhc3MoImhpc3RvcnlfaG92ZXIiKSwgaSgiI2hpc3RvcnlfZGV0YWlsIikuaGlkZSgpCgkJCQkJfSksIGkoIiNoaXN0b3J5X2RldGFpbCAuaXRlbV9jbG9zZV9idG4iKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKHRoaXMpLmF0dHIoImRhdGEtaWQiKTsKCQkJCQkJci0tLCBiKGkodGhpcykucGFyZW50cygibGkiKSwgZSkKCQkJCQl9KSwgaSgiI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXMiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdygpCgkJCQkJfSkKCQkJCX0sCgkJCQl4ID0gZnVuY3Rpb24oKSB7CgkJCQkJYS5nZXQoZykKCQkJCX0sCgkJCQl3ID0gZnVuY3Rpb24oKSB7CgkJCQkJYS5kZWxBbGwoZnVuY3Rpb24oKSB7CgkJCQkJCWkoIi5oaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50IHVsIikuZW1wdHkoKSwgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5hZGRDbGFzcygibm8taGlzLWNvbnRlbnQiKSwgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5oZWlnaHQoNzYpLCBpKCIuY2xlYXJfaGlzIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0sCgkJCQl2ID0gZnVuY3Rpb24oKSB7CgkJCQkJInRhb2JhbyIgIT0gdC5zaXRlICYmICJ0bWFsbCIgIT0gdC5zaXRlICYmIGEuYWRkKHQubm93X2RwX2lkKQoJCQkJfSwKCQkJCWIgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJdmFyIG4gPSBtKCk7CgkJCQkJYS5kZWwodCwgZnVuY3Rpb24oKSB7CgkJCQkJCXJldHVybiBpKGUpLnJlbW92ZSgpLCAzNDMgIT0gbiA/IDAgPT09IHIgPyAoaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5hZGRDbGFzcygibm8taGlzLWNvbnRlbnQiKSwgdm9pZCBpKCIuY2xlYXJfaGlzIikuaGlkZSgpKSA6IHZvaWQgaSgiLmhpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQiKS5oZWlnaHQobikgOiB2b2lkIDAKCQkJCQl9KQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXgoKSwgdigpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCXZhciBpOwoJCShmdW5jdGlvbihhKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJaSA9IGZ1bmN0aW9uKCkgewoJCQkJdmFyIGUsIHQsIGksIG8gPSB7fSwKCQkJCQlyID0gbig5KSwKCQkJCQlzID0gbigxMik7CgkJCQlvLmdldCA9IGZ1bmN0aW9uKG4pIHsKCQkJCQlyLmdldChhLnNlcnZlciArICIvYnJ3ZXh0L2hpc3Rvcnk/b3A9Z2V0IikuZG9uZShmdW5jdGlvbihhKSB7CgkJCQkJCWEgPSBzKGEucmVzdWx0KSwgYSA9IGwoYSksIGUgPSBhLCBuICYmIG4oYSksIGkgJiYgIXQgJiYgKGkoYSksIHQgPSAhMCkKCQkJCQl9KQoJCQkJfTsKCQkJCXZhciBsID0gZnVuY3Rpb24oZSkgewoJCQkJCWZvciAodmFyIHQgPSBbXSwgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CgkJCQkJCXZhciBpID0gTnVtYmVyKGVbbl0ucHJpY2UpOwoJCQkJCQllW25dLnVybCAmJiBlW25dLnRpdGxlICYmIGkgJiYgaSA+IDAgJiYgdC5wdXNoKGVbbl0pCgkJCQkJfQoJCQkJCXJldHVybiB0CgkJCQl9OwoJCQkJcmV0dXJuIG8uYWRkID0gZnVuY3Rpb24oZSwgdCkgewoJCQkJCXIuZ2V0KGEuc2VydmVyICsgIi9icndleHQvaGlzdG9yeT9vcD1hZGQmZHBfaWQ9IiArIGUpLmRvbmUoZnVuY3Rpb24oZSkgewoJCQkJCQl0ICYmIHQoZSkKCQkJCQl9KQoJCQkJfSwgby5kZWxBbGwgPSBmdW5jdGlvbihlKSB7CgkJCQkJci5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9oaXN0b3J5P29wPWRlbEFsbCIpLmRvbmUoZnVuY3Rpb24odCkgewoJCQkJCQllKCkKCQkJCQl9KQoJCQkJfSwgby5kZWwgPSBmdW5jdGlvbihlLCB0KSB7CgkJCQkJci5nZXQoYS5zZXJ2ZXIgKyAiL2Jyd2V4dC9oaXN0b3J5P29wPWRlbCZkcF9pZD0iICsgZSkuZG9uZShmdW5jdGlvbihlKSB7CgkJCQkJCXQgJiYgdCgpCgkJCQkJfSkKCQkJCX0sIG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKG4pIHsKCQkJCQllID8gKG4oZSksIHQgPSAhMCkgOiBpID0gbiwgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQkJdCB8fCAoaShudWxsKSwgdCA9ICEwKQoJCQkJCX0sIDE0ZTMpCgkJCQl9LCBvCgkJCX0uY2FsbCh0LCBuLCB0LCBlKSwgISh2b2lkIDAgIT09IGkgJiYgKGUuZXhwb3J0cyA9IGkpKQoJCX0pLmNhbGwodCwgbigxKSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9Imhpc3RvcnlfZGV0YWlsIiBjbGFzcz0iaGlzdG9yeV9kZXRhaWwiPlxuICA8ZGl2IGNsYXNzPSJoaXN0b3J5X2hlYWQiPlxuICAgIDxzcGFuIGNsYXNzPSJoaXN0b3J5X2hlYWRfdGxlIj7mtY/op4jljoblj7I8L3NwYW4+XG4gICAge3tpZiBoaXNfc2l6ZSAhPSAwfX1cbiAgICA8c3BhbiBjbGFzcz0iY2xlYXJfaGlzIj7muIXnqbrljoblj7I8L3NwYW4+XG4gICAge3svaWZ9fVxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0iaGlzdG9yeV9jb250ZW50IGhpc19zaXplX3t7aGlzX3NpemV9fSI+XG4gICAgPHVsPlxuICAgICAge3tlYWNoIGRhdGF9fVxuICAgICAgPGxpID5cbiAgICAgICAgPGEgY2xhc3M9Iml0ZW1faW1nIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij48aW1nIHNyYz0iaHR0cDovL3MxLmd3ZGFuZy5jb20vaW1hZ2VzL2V4dGVuc2lvbnMvbmV3YmFyLzEyMC5naWYiIGRhdGEtb3JpZ2luYWw9Int7JHZhbHVlLmltZ191cmx9fSI+PC9hPlxuICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtX2Rlc2MiPlxuICAgICAgICAgIDxhIGNsYXNzPSJpdGVtX3RpdGxlIiBocmVmPSJ7eyR2YWx1ZS51cmx9fSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJ7eyR2YWx1ZS50aXRsZX19Ij57eyR2YWx1ZS50aXRsZX19PC9hPlxuICAgICAgICAgIDxhIGNsYXNzPSJvdGhlcl9kZXNjIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzaXRlX2ljb24iIHRpdGxlPSJ7eyR2YWx1ZS5zaXRlX25hbWV9fSI+PGltZyBzcmM9Int7c19zZXJ2ZXJ9fS9pbWFnZXMvZmF2aWNvbi97eyR2YWx1ZS5zaXRlX2lkfX0uaWNvIj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0iaXRlbV9wcmljZSI+wqV7eyR2YWx1ZS5wcmljZX19PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW1fY2xvc2VfYnRuIiBkYXRhLWlkPSJ7eyR2YWx1ZS5kcF9pZH19Ij7liKDpmaQ8L3NwYW4+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgICB7ey9lYWNofX1cbiAgICA8L3VsPlxuICAgIDxkaXYgY2xhc3M9Im5vLWhpc3RvcnkiPuaaguaXoOa1j+iniOWOhuWPsjwvZGl2PlxuICA8L2Rpdj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAjaGlzdG9yeV9kZXRhaWwge1xuICAgICAgd2lkdGg6IDI4OHB4O1xuICAgICAgbWluLWhlaWdodDogMTQwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiA0MDVweDtcbiAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgfVxuICAgIC5oaXN0b3J5X2hlYWQge1xuICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIC5uby1oaXN0b3J5IHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA3MHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDcwcHg7XG4gICAgICBjb2xvcjogIzMyMzMzMztcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIC5oaXN0b3J5X2hlYWQgc3BhbiB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9oZWFkX3RsZSB7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBjb2xvcjogIzMyMzMzMztcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgdG9wOiAxMnB4O1xuICAgICAgbGVmdDogMTVweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXMge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM4YThjOGQ7XG4gICAgICB0b3A6IDEycHg7XG4gICAgICByaWdodDogMTlweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5jbGVhcl9oaXM6aG92ZXIge1xuICAgICAgY29sb3I6ICM3MDcwNzA7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50IHtcbiAgICAgIG1hcmdpbjogMHB4IDBweCAxN3B4IDA7XG4gICAgICB3aWR0aDogMjcycHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTZweDtcbiAgICAgIGhlaWdodDogMzM0cHg7XG4gICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzAsICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzEge1xuICAgICAgaGVpZ2h0OiA3NnB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5oaXNfc2l6ZV8wLCAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5uby1oaXMtY29udGVudCB7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLmhpc3RvcnlfY29udGVudC5oaXNfc2l6ZV8yIHtcbiAgICAgIGhlaWdodDogMTY1cHg7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCAuaGlzdG9yeV9jb250ZW50Lmhpc19zaXplXzMge1xuICAgICAgaGVpZ2h0OiAyNTRweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQuaGlzX3NpemVfMCAubm8taGlzdG9yeSwgI2hpc3RvcnlfZGV0YWlsIC5oaXN0b3J5X2NvbnRlbnQubm8taGlzLWNvbnRlbnQgLm5vLWhpc3Rvcnkge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCB1bCB7XG4gICAgICBtYXJnaW46IDBweDtcbiAgICAgIHBhZGRpbmc6IDBweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIHVsIGxpe1xuICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgIGhlaWdodDogNzJweDtcbiAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgZmxvYXQ6IG5vbmU7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCB1bCBsaTpmaXJzdC1jaGlsZHtcbiAgICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIC5pdGVtX2ltZyB7XG4gICAgICBoZWlnaHQ6IDcwcHg7XG4gICAgICB3aWR0aDogNzBweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgIGxpbmUtaGVpZ2h0OiA3MHB4O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgLml0ZW1fZGVzYyB7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogMTRweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgLW1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgd2lkdGg6IDE1OXB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgYS5pdGVtX3RpdGxlLCAjaGlzdG9yeV9kZXRhaWwgYS5vdGhlcl9kZXNjIHtcbiAgICAgIGhlaWdodDogMTZweDtcbiAgICAgIHdpZHRoOiAxNTlweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4O1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIGEub3RoZXJfZGVzYyB7XG4gICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgICAgd2lkdGg6IDE2NXB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgYS5pdGVtX3RpdGxle1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB3aWR0aDogMTU5cHg7XG4gICAgICBjb2xvcjogIzRhNGE0YTtcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICB9XG4gICAgI2hpc3RvcnlfZGV0YWlsIGEuaXRlbV90aXRsZTpob3ZlcntcbiAgICAgIGNvbG9yOiAjNGE0YTRhO1xuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuICAgIC5vdGhlcl9kZXNjOmFmdGVyIHtcbiAgICAgIGNvbnRlbnQ6ICIiO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBjbGVhcjogYm90aDtcbiAgICB9XG4gICAgLm90aGVyX2Rlc2Mgc3BhbiB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB9XG4gICAgc3Bhbi5pdGVtX3ByaWNlIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBtYXJnaW4tdG9wOiAycHg7XG4gICAgICBjb2xvcjogI0QxMDgzMTtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIGhlaWdodDogMTRweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgIH1cbiAgICAjaGlzdG9yeV9kZXRhaWwgc3Bhbi5pdGVtX3ByaWNlOmhvdmVyIHtcbiAgICAgIGNvbG9yOiAjRDEwODMxO1xuICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgIH1cbiAgICAuaXRlbV9pbWcgaW1nIHtcbiAgICAgIG1heC1oZWlnaHQ6IDcwcHg7XG4gICAgICBtYXgtd2lkdGg6IDcwcHg7XG4gICAgfVxuICAgICNoaXN0b3J5X2RldGFpbCBzcGFuLnNpdGVfaWNvbiB7XG4gICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICBsaW5lLWhlaWdodDogMTZweDtcbiAgICAgIGN1cnNvcjogdGV4dDtcbiAgICB9XG4gICAgXG4gICAgc3Bhbi5pdGVtX2Nsb3NlX2J0biB7XG4gICAgICBjb2xvcjogIzliOWI5YjtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGhlaWdodDogMTJweDtcbiAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbGluZS1oZWlnaHQ6IDE3cHg7XG4gICAgfVxuICAgIHNwYW4uaXRlbV9jbG9zZV9idG46aG92ZXIge1xuICAgICAgY29sb3I6ICM3MDcwNzAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBcbiAgICBcbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oOTIpLAoJCQkJbyA9IG4oNzUpLAoJCQkJciA9IG4oMTE5KSwKCQkJCXMgPSBuKDE2MSksCgkJCQlsID0gbigxMTcpLAoJCQkJYyA9IG4oMTY3KSwKCQkJCWQgPSBuKDE2OSksCgkJCQlwID0gbigxNiksCgkJCQloID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSAiIjsKCQkJCQkiMSIgPT09IHQucF9mb2xkICYmIChlID0gImItaGlkZGVuIik7CgkJCQkJdmFyIGEgPSBuKDIwOSk7CgkJCQkJaSgiYm9keSIpLmFwcGVuZChwLmNvbXBpbGUoYSkoewoJCQkJCQloaWRlbW9kOiBlCgkJCQkJfSkpCgkJCQl9LAoJCQkJdSA9IGZ1bmN0aW9uKCkgewoJCQkJCWkoIiNnd2RhbmctdHJlbmQiKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQlpKCIjZ3dkYW5nLXRyZW5kLWRldGFpbCIpLnNob3coKSwgaSh0aGlzKS5hZGRDbGFzcygibXNob3ZlciIpCgkJCQkJfSksIGkoIiNnd2RhbmctdHJlbmQsICNnd2RhbmctdHJlbmQtZGV0YWlsIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJaSgiI2d3ZGFuZy10cmVuZC1kZXRhaWwiKS5oaWRlKCksIGkodGhpcykucmVtb3ZlQ2xhc3MoIm1zaG92ZXIiKQoJCQkJCX0pLCBpKCIubmJ0LWNsb3NlLWJ0biIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQkJCQkiMSIgIT09IHQucF9mb2xkID8gKGkoIi5jbG9zZS1tb2R1bGUiKS5hZGRDbGFzcygiYi1oaWRkZW4iKSwgaSh0aGlzKS5hZGRDbGFzcygiYi1oaWRkZW4iKSwgaSgiI2JqZF9ib3R0b21fZGV0YWlsIikuY3NzKCJ3aWR0aCIsICI4NnB4IiksIHQucF9mb2xkID0gIjEiKSA6IChpKCIuY2xvc2UtbW9kdWxlIikucmVtb3ZlQ2xhc3MoImItaGlkZGVuIiksIGkodGhpcykucmVtb3ZlQ2xhc3MoImItaGlkZGVuIiksIGkoIiNiamRfYm90dG9tX2RldGFpbCIpLmNzcygid2lkdGgiLCAiMTAwJSIpLCB0LnBfZm9sZCA9ICIwIiksIGEubWFpbmJhcmZvbGQodC5wX2ZvbGQpCgkJCQkJfSkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0MiA9IGZ1bmN0aW9uKGUpIHsKCQkJCXQuSUU2ICYmICJjY2IiID09IHQuc2l0ZSB8fCAoaCgpLCBuKDIxMCkuaW5pdChlKSwgbigxODYpLmluaXQoZS5ub3cpLCBuKDE4NCkuaW5pdCgpLCBuKDEyNSkuaW5pdChlLm5vdy5zaXRlX2lkKSwgbig4NCkuaW5pdChlKSwgbigxNzEpLmluaXQoKSwgbigyMTIpLmluaXQoKSwgdSgpLCBsLmluaXQodC53aGVyZV9idXlfZHBzLCB0Lm5vd19kcF9pZCwgImJvdHRvbSIpLCBvLmluaXQoZSwgImJvdHRvbSIpLCByLmluaXQoZS5zaGFyZV9nb29kLCBlLm5vdyksIHMuYWRkUHJvbW8ocy5nZXRQcm9tb0RhdGEoZSkpKQoJCQl9LCBlLmV4cG9ydHMucmVuZGVyU2VhcmNoID0gZnVuY3Rpb24oKSB7CgkJCQljLmluaXQoKSwgZC5pbml0KCkKCQkJfQoJCX0pLmNhbGwodCwgbigxKSwgbig2KSkKCX0sCglmdW5jdGlvbihlLCB0KSB7CgkJZS5leHBvcnRzID0gJzxkaXYgaWQ9ImJqZF9ib3R0b21fZGV0YWlsIiBjbGFzcz0ie3toaWRlbW9kfX0iPlxuICA8YSBocmVmPSIiIGlkPSJiamRfbG9nbyIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSLotK3nianlhZoiPlxuICAgIDxzcGFuIGNsYXNzPSJuYnQtYmciPjwvc3Bhbj5cbiAgPC9hPlxuICA8ZGl2IGNsYXNzPSJsZWZ0LWNvbXBhcmUgY2xvc2UtbW9kdWxlIHt7aGlkZW1vZH19Ij5cbiAgICA8c3BhbiBjbGFzcz0iY29tLWxvd3ByaSI+XG4gICAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9ImNvbS16ZG0iPlxuICAgICAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG4gICAgPC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSJjb20taHltIj5cbiAgICAgIDxlbSBjbGFzcz0ibmJ0LWJnIj48L2VtPlxuICAgIDwvc3Bhbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9Im5idC1hZGluZm8gY2xvc2UtbW9kdWxlIHt7aGlkZW1vZH19Ij48L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibmJ0LWNsb3NlLWJ0biB7e2hpZGVtb2R9fSI+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0icmlnaHQtaW5mbyBjbG9zZS1tb2R1bGUge3toaWRlbW9kfX0iPlxuICAgIDxkaXYgY2xhc3M9InByaWNlLXRyZW5kLWJ0biIgaWQ9Imd3ZGFuZy10cmVuZCI+XG4gICAgICA8ZGl2IGNsYXNzPSJ0cmVuZC1ib3gtZGV2Ij5cbiAgICAgICAgPGVtIGNsYXNzPSJzZXR0aW5nLWJnIj48L2VtPlxuICAgICAgICA8c3Bhbj7ku7fmoLzkuIvpmY08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBpZD0iZ3dkYW5nLXRyZW5kLWRldGFpbCIgY2xhc3M9Imd3ZC10cmVuZC1kZXRhaWwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNlYXJjaC1tb2QiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9ImJqZC1oaXN0b3J5LWJ0biByaW5mby1idG4iIGlkPSJnd2RfaGlzdG9yeSI+XG4gICAgICA8c3BhbiBjbGFzcz0ibmJ0LWJnIj48L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iYmpkLWZhdm9yLWJ0biByaW5mby1idG4iIGlkPSJnd2RhbmctZmF2b3IiPlxuICAgICAgPHNwYW4gY2xhc3M9Im5idC1iZyI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ibWFpbi1jb21wYXJlIGNsb3NlLW1vZHVsZSB7e2hpZGVtb2R9fSI+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyBtYmFyLXR1cm5wYWdlIHRsZWZ0Ij48L3NwYW4+XG4gICAgPGRpdiBjbGFzcz0iY29tcGFyZS1ib3giPlxuICAgICAgPHVsIGNsYXNzPSJjb21wYXJlLWxpc3QiPlxuICAgICAgICBcbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICAgPHNwYW4gY2xhc3M9Im5idC1iZyBtYmFyLXR1cm5wYWdlIHRyaWdodCI+PC9zcGFuPlxuICA8L2Rpdj5cbiAgPGRpdiA+PC9kaXY+XG48L2Rpdj4nCgl9LAoJZnVuY3Rpb24oZSwgdCwgbikgewoJCShmdW5jdGlvbih0LCBpKSB7CgkJCSJ1c2Ugc3RyaWN0IjsKCQkJdmFyIGEgPSBuKDE2KSwKCQkJCW8gPSB7CgkJCQkJIuS6rOS4nCI6IHsKCQkJCQkJc2l0ZV9pZDogMywKCQkJCQkJcGF0dGVybjogImh0dHA6Ly9zZWFyY2guamQuY29tL1NlYXJjaD9lbmM9dXRmLTgma2V5d29yZD0iCgkJCQkJfSwKCQkJCQki5Lqa6ams6YCKIjogewoJCQkJCQlzaXRlX2lkOiAxLAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5hbWF6b24uY24vcz9maWVsZC1rZXl3b3Jkcz0iCgkJCQkJfSwKCQkJCQki5b2T5b2TIjogewoJCQkJCQlzaXRlX2lkOiAyLAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3NlYXJjaGIuZGFuZ2RhbmcuY29tLz9rZXk9IgoJCQkJCX0sCgkJCQkJIuiLj+WugSI6IHsKCQkJCQkJc2l0ZV9pZDogMjUsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnN1bmluZy5jb20vZW1hbGwvc2VhcmNoLmRvP2tleXdvcmQ9IgoJCQkJCX0sCgkJCQkJIua3mOWunSI6IHsKCQkJCQkJc2l0ZV9pZDogODMsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vcy50YW9iYW8uY29tL3NlYXJjaD9xPSIKCQkJCQl9LAoJCQkJCSLlm73nvo4iOiB7CgkJCQkJCXNpdGVfaWQ6IDI4LAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy5nb21lLmNvbS5jbi9zZWFyY2g/cXVlc3Rpb249IgoJCQkJCX0sCgkJCQkJIuS4gOWPt+W6lyI6IHsKCQkJCQkJc2l0ZV9pZDogMzEsCgkJCQkJCXBhdHRlcm46ICJodHRwOi8vc2VhcmNoLnloZC5jb20vczIvYzAtMC9rIgoJCQkJCX0sCgkJCQkJIuWUr+WTgeS8miI6IHsKCQkJCQkJc2l0ZV9pZDogMTI5LAoJCQkJCQlwYXR0ZXJuOiAiaHR0cDovL3d3dy4iICsgdC5leHROYW1lICsgIi5jb20vc2VhcmNoP2NyYzY0PTEmc192aXA9IgoJCQkJCX0sCgkJCQkJIui0reeJqeWFmiI6IHsKCQkJCQkJcGF0dGVybjogImh0dHA6Ly93d3cuIiArIHQuZXh0TmFtZSArICIuY29tL3NlYXJjaD9zX3Byb2R1Y3Q9IiwKCQkJCQkJc2l0ZV9pZDogMAoJCQkJCX0KCQkJCX0sCgkJCQlyID0gZnVuY3Rpb24oZSkgewoJCQkJCXZhciBuID0gIiIsCgkJCQkJCWEgPSBvW2VdLnBhdHRlcm4sCgkJCQkJCXIgPSBvW2VdLnNpdGVfaWQsCgkJCQkJCXMgPSBpKCIuc2VhcmNoLWlucHV0IikudmFsKCk7CgkJCQkJcmV0dXJuIG4gPSAi6LSt54mp5YWaIiA9PT0gZSB8fCAi5ZSv5ZOB5LyaIiA9PT0gZSA/IGEgKyBlbmNvZGVVUklDb21wb25lbnQocykgOiB0LnVfc2VydmVyICsgIi91bmlvbi9nby8/c19wcm9kdWN0PSIgKyBlbmNvZGVVUklDb21wb25lbnQocykgKyAiJnRhcmdldF91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChhICsgZW5jb2RlVVJJKHMpKSArICImc2l0ZV9pZD0iICsgciwgaSgiLnNlYXJjaC1zdWJtaXQiKS5hdHRyKCJocmVmIiwgbiksIG4KCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSB2b2lkIDAsCgkJCQkJCXQgPSB2b2lkIDA7CgkJCQkJaSgiLnNlYXJjaC10bGUiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdCA/IChpKCIuYmpkLXNlYXJjaC1saXN0IikuaGlkZSgpLCBpKCIuc2VhcmNoLXRsZSBlbSIpLnJlbW92ZUNsYXNzKCJlbXVwIiksIGkoIi5zZWFyY2gtdGxlIikucmVtb3ZlQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwgdCA9ICExKSA6ICh0ID0gITAsIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5zaG93KCksIGkoIi5zZWFyY2gtdGxlIikuYWRkQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwKCQkJCQkJCWkoIi5zZWFyY2gtdGxlIGVtIikuYWRkQ2xhc3MoImVtdXAiKSkKCQkJCQl9KSwgaSgiLmJqZC1zZWFyY2gtbGlzdCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKCQkJCQkJdmFyIG4gPSBpKGUudGFyZ2V0KS50ZXh0KCksCgkJCQkJCQlhID0gaSgiLnNlYXJjaC10bGUgc3BhbiIpLAoJCQkJCQkJbyA9IGEudGV4dCgpOwoJCQkJCQlhLnRleHQobiksIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5oaWRlKCkuYXBwZW5kKGkoIjxzcGFuPiIgKyBvICsgIjwvc3Bhbj4iKSksIGkoIi5zZWFyY2gtdGxlIikucmVtb3ZlQ2xhc3MoInNlYXJjaC1zZWxlY3QiKSwgaSgiLnNlYXJjaC10bGUgZW0iKS5yZW1vdmVDbGFzcygiZW11cCIpLCB0ID0gITEsIGkoZS50YXJnZXQpLnJlbW92ZSgpCgkJCQkJfSksIGkoIi5zZWFyY2gtdGxlLCAuYmpkLXNlYXJjaC1saXN0Iikub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbigpIHsKCQkJCQkJY2xlYXJUaW1lb3V0KGUpCgkJCQkJfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0ID0gITEsIGkoIi5iamQtc2VhcmNoLWxpc3QiKS5oaWRlKCksIGkoIi5zZWFyY2gtdGxlIGVtIikucmVtb3ZlQ2xhc3MoImVtdXAiKSwgaSgiLnNlYXJjaC10bGUiKS5yZW1vdmVDbGFzcygic2VhcmNoLXNlbGVjdCIpCgkJCQkJCX0sIDMwMCkKCQkJCQl9KSwgaSgiLnNlYXJjaC1zdWJtaXQiKS5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCQkJdmFyIGUgPSBpKCIuc2VhcmNoLXRsZSBzcGFuIikudGV4dCgpOwoJCQkJCQlyKGUpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCQkJaSgiLnNlYXJjaC1zdWJtaXQiKS5hdHRyKCJocmVmIiwgbnVsbCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCBpKCIuc2VhcmNoLXRsZSIpLm9uKCJtb3VzZWVudGVyIiwgZnVuY3Rpb24oKSB7CgkJCQkJCWNsZWFyVGltZW91dChlKQoJCQkJCX0pCgkJCQl9LAoJCQkJbCA9IGZ1bmN0aW9uKGUpIHsKCQkJCQl2YXIgbyA9IGUuZXhhY3RfYXJyLmtleXdvcmRzLnJlcGxhY2UoLywvZywgIiAiKTsKCQkJCQkidmlwc2hvcCIgPT09IHQuc2l0ZSAmJiAobyA9IGUubm93LmNvcmV3b3JkKTsKCQkJCQl2YXIgciA9IG4oMjExKTsKCQkJCQlpKCIuc2VhcmNoLW1vZCIpLmFwcGVuZChhLmNvbXBpbGUocikoewoJCQkJCQlrZXl3b3JkOiBvCgkJCQkJfSkpLCBzKCkKCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oZSkgewoJCQkJImJvdHRvbSIgPT09IHQuc3R5bGUgJiYgbChlKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDEpLCBuKDYpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBjbGFzcz0ic2VhcmNoLXRsZSI+XG4gIDxzcGFuPui0reeJqeWFmjwvc3Bhbj5cbiAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG48L2Rpdj5cbjxpbnB1dCBjbGFzcz0ic2VhcmNoLWlucHV0IiB2YWx1ZT0ie3trZXl3b3JkfX0iPlxuPGEgaHJlZj0iIiBjbGFzcz0ic2VhcmNoLXN1Ym1pdCBuYnQtYmciIHRhcmdldD0iX2JsYW5rIj48L2E+XG48ZGl2IGNsYXNzPSJiamQtc2VhcmNoLWxpc3QiPlxuICA8c3Bhbj7mt5jlrp08L3NwYW4+XG4gIDxzcGFuPuWUr+WTgeS8mjwvc3Bhbj5cbiAgPHNwYW4+5Lqs5LicPC9zcGFuPlxuICA8c3Bhbj7oi4/lroE8L3NwYW4+XG4gIDxzcGFuPuS6mumprOmAijwvc3Bhbj5cbiAgPHNwYW4+5b2T5b2TPC9zcGFuPlxuICA8c3Bhbj7kuIDlj7flupc8L3NwYW4+XG4gIDxzcGFuPuWbvee+jjwvc3Bhbj5cbiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5cbiAgICAuc2VhcmNoLXRsZSB7XG4gICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NkY2RjZDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMThweDtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDE4cHg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICB9XG4gICAgLnNlYXJjaC10bGUuc2VhcmNoLXNlbGVjdCB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwcHg7XG4gICAgfVxuICAgIC5zZWFyY2gtdGxlIHNwYW4ge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xuICAgICAgLXdlYmtpdC10ZXh0LWFsaWduLWxhc3Q6anVzdGlmeTtcbiAgICB9XG4gICAgLnNlYXJjaC10bGUgZW0ge1xuICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgaGVpZ2h0OiA2cHg7XG4gICAgICB3aWR0aDogOXB4O1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTMycHggLTEwMnB4O1xuICAgIH1cbiAgICAuc2VhcmNoLXRsZSBlbS5lbXVwIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNzdweCAtMTAycHg7XG4gICAgfVxuICAgIC5iamQtc2VhcmNoLWxpc3Qge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaGVpZ2h0OiAxNjBweDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIGJvdHRvbTogNTlweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG4gICAgLmd3ZF9hbWF6b24gLmJqZC1zZWFyY2gtbGlzdCB7XG4gICAgICBib3R0b206IDU3cHg7XG4gICAgfVxuICAgIC5iamQtc2VhcmNoLWxpc3Qgc3BhbiB7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGhlaWdodDogMjBweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgICAtd2Via2l0LXRleHQtYWxpZ24tbGFzdDpqdXN0aWZ5O1xuICAgIH1cbiAgICAuYmpkLXNlYXJjaC1saXN0IHNwYW46aG92ZXIge1xuICAgICAgY29sb3I6ICM1ZWJlZmY7XG4gICAgfVxuICAgIEBtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MCl7XG4gICAgICAuYmpkLXNlYXJjaC1saXN0IHNwYW46YWZ0ZXIsIC5zZWFyY2gtdGxlIHNwYW46YWZ0ZXJ7XG4gICAgICAgICAgY29udGVudDoiLiI7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICAgIGhlaWdodDowO1xuICAgICAgfVxuICAgIH1cbiAgICAuc2VhcmNoLWlucHV0IHtcbiAgICAgIHdpZHRoOiAxOTJweDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIHBhZGRpbmc6IDAgMCAwIDVweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NkY2RjZDtcbiAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgb3V0bGluZTogMDtcbiAgICAgIGNvbG9yOiAjOTk5O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC1mYW1pbHk6IFwnTWljcm9zb2Z0IFlhSGVpXCcsdGFob21hLGFyaWFsLFNpbVN1bjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgfVxuICAgIGEuc2VhcmNoLXN1Ym1pdCB7XG4gICAgICB3aWR0aDogMzBweDtcbiAgICAgIGhlaWdodDogMjRweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtOTRweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzNzkwRTE7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMThweDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxOHB4O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMTYpLAoJCQkJbyA9IG4oMTIyKSwKCQkJCXIgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IHZvaWQgMDsKCQkJCQl0KCIjYmpkX2xvZ28iKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQl0KCIjbmJ0X3NldHRpbmciKS5zaG93KCkKCQkJCQl9KSwgdCgiI2JqZF9sb2dvIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCQl0KCIjbmJ0X3NldHRpbmciKS5oaWRlKCkKCQkJCQkJfSwgMjAwKQoJCQkJCX0pLCB0KCIjbmJ0X3NldHRpbmciKS5vbigibW91c2VlbnRlciIsIGZ1bmN0aW9uKCkgewoJCQkJCQljbGVhclRpbWVvdXQoZSkKCQkJCQl9KSwgdCgiI25idF9zZXR0aW5nIikub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkJdCgiI25idF9zZXR0aW5nIikuaGlkZSgpCgkJCQkJfSkKCQkJCX0sCgkJCQlzID0gZnVuY3Rpb24oKSB7CgkJCQkJdmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLAoJCQkJCQlzID0gaS5idHlwZSA/IGkuYnR5cGUgOiAiIiwKCQkJCQkJbCA9IG4oMjEzKTsKCQkJCQl0KCIjYmpkX2JvdHRvbV9kZXRhaWwiKS5hcHBlbmQoYS5jb21waWxlKGwpKHsKCQkJCQkJbWFpbnNldDogaS5zZXJ2ZXIgKyAiL2Jyd2V4dC9zZXR0aW5nP2Zyb209IiArIG8oaS5mcm9tX2RldmljZSkgKyAiJmJ0eXBlPSIgKyBzLAoJCQkJCQlmZWVkYmFjazogaS5jX3NlcnZlciArICInL2Jyd2V4dC9zdWdnZXN0P3JlZmVyPSciICsgZW5jb2RlVVJJQ29tcG9uZW50KGUpICsgIiZmcm9tX2RldmljZT0iICsgaS5mcm9tX2RldmljZSArICImYnR5cGU9IiArIHMsCgkJCQkJCWhlbHA6IGkuY19zZXJ2ZXIgKyAiL2FwcC9leHRlbnNpb24/cGFnZT1xdWVzdGlvbiIsCgkJCQkJCXdlYnBhZ2U6IGkuY19zZXJ2ZXIgKyAiLyIKCQkJCQl9KSksIHIoKQoJCQkJfTsKCQkJZS5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHsKCQkJCXMoKQoJCQl9CgkJfSkuY2FsbCh0LCBuKDYpLCBuKDEpKQoJfSwKCWZ1bmN0aW9uKGUsIHQpIHsKCQllLmV4cG9ydHMgPSAnPGRpdiBpZD0ibmJ0X3NldHRpbmciPiBcbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBtYWluLXNldHRpbmciIGhyZWY9Int7bWFpbnNldH19IiB0YXJnZXQ9Il9ibGFuayI+XG4gICAgPGVtIGNsYXNzPSJuYnQtYmciPjwvZW0+XG4gICAgPHNwYW4+5Yqf6IO96K6+572uPC9zcGFuPlxuICA8L2E+XG4gIDxhIGNsYXNzPSJzZXR0aW5nLWl0ZW0gbmJ0LWZlZWRiYWNrIiBocmVmPSJ7e2ZlZWRiYWNrfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7mhI/op4Hlj43ppog8L3NwYW4+XG4gIDwvYT5cbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBuYnQtaGVscCIgaHJlZj0ie3toZWxwfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7kvb/nlKjluK7liqk8L3NwYW4+XG4gIDwvYT5cbiAgPGEgY2xhc3M9InNldHRpbmctaXRlbSBuYnQtd2VicGFnZSIgaHJlZj0ie3t3ZWJwYWdlfX0iIHRhcmdldD0iX2JsYW5rIj5cbiAgICA8ZW0gY2xhc3M9Im5idC1iZyI+PC9lbT5cbiAgICA8c3Bhbj7otK3nianlhZrpppbpobU8L3NwYW4+XG4gIDwvYT5cbjwvZGl2PicKCX0sCglmdW5jdGlvbihlLCB0LCBuKSB7CgkJKGZ1bmN0aW9uKHQsIGkpIHsKCQkJInVzZSBzdHJpY3QiOwoJCQl2YXIgYSA9IG4oMjA2KSwKCQkJCW8gPSB7CgkJCQkJeW91eXU6ICI0MDYiLAoJCQkJCWpkOiAiMyIsCgkJCQkJdml2bzogIjM4MCIKCQkJCX0sCgkJCQlyID0gZnVuY3Rpb24oZSwgbikgewoJCQkJCXZhciBpID0gb1tuXTsKCQkJCQlyZXR1cm4gdC5zcGVjaWFsVW5pb24gKyAiP3NpdGVfaWQ9IiArIGkgKyAiJnRhcmdldF91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudChlKSArICImdW5pb249MTA5ODE2NCZjb2x1bW49ZmRzIgoJCQkJfSwKCQkJCXMgPSBmdW5jdGlvbigpIHsKCQkJCQlmb3IgKHZhciBlID0gaSgiLnByb2R1Y3QtYjJjLXByaWNlLWJveCBhIiksIHQgPSBlLmxlbmd0aCwgbiA9IDA7IHQgPiBuOyBuKyspIHsKCQkJCQkJdmFyIGEgPSBlLmVxKG4pLmF0dHIoImhyZWYiKTsKCQkJCQkJYS5tYXRjaCgvXig/Omh0dHB8aHR0cHMpXDpcL1wvXHcrXC55b3V5dVwuY29tLykgPyBlLmVxKG4pLmF0dHIoImhyZWYiLCByKGEsICJ5b3V5dSIpKSA6IGEubWF0Y2goL14oPzpodHRwfGh0dHBzKVw6XC9cL3VuaW9uXC5jbGlja1wuamRcLmNvbS8pID8gKGEgPSBhLm1hdGNoKC8mdG89KC4qKS8pWzFdLCBlLmVxKG4pLmF0dHIoImhyZWYiLCByKGEsICJqZCIpKSkgOiBhLm1hdGNoKC9eKD86aHR0cHxodHRwcylcOlwvXC9zaG9wXC52aXZvXC5jb21cLmNuLykgJiYgKGEgPSBhLnJlcGxhY2UoIj9zb3VyY2U9dml2b196b2wiLCAiIiksIGUuZXEobikuYXR0cigiaHJlZiIsIHIoYSwgInZpdm8iKSkpCgkJCQkJfQoJCQkJfSwKCQkJCWwgPSBmdW5jdGlvbigpIHsKCQkJCQl2YXIgZSA9IGkoIi5wcm9kdWN0LWIyYy1wcmljZS1ib3ggLmIyYy1qZCIpLAoJCQkJCQl0ID0gZS5lcSgwKS5hdHRyKCJocmVmIikgfHwgIiIsCgkJCQkJCW4gPSB0Lm1hdGNoKC90bz0oPzpodHRwfGh0dHBzKTpcL1wvaXRlbVwuamRcLmNvbVwvKFxkKylcLmh0bWwvKTsKCQkJCQlpZiAobikgewoJCQkJCQl2YXIgbyA9IG5bMV0gKyAiLTMiOwoJCQkJCQlhLmFkZChvKQoJCQkJCX0KCQkJCX07CgkJCWUuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7CgkJCQkibmpjayIgPT09IHQuZnJvbV9kZXZpY2UgJiYgInpvbCIgPT09IHQuc2l0ZSAmJiBzKCksICJ6b2wiID09PSB0LnNpdGUgJiYgbCgpCgkJCX0KCQl9KS5jYWxsKHQsIG4oMSksIG4oNikpCgl9Cl0pOw=="},{"name":"京东自营过滤","options":{"awareOfChrome":false,"check_for_updates":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["*://list.jd.com/list.html?*","*://search.jd.com/search?*","*://search.jd.com/Search?*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null},"storage":{"ts":1508688273167,"data":{}},"enabled":true,"position":26,"file_url":"https://greasyfork.org/scripts/33729-%E4%BA%AC%E4%B8%9C%E8%87%AA%E8%90%A5%E8%BF%87%E6%BB%A4/code/%E4%BA%AC%E4%B8%9C%E8%87%AA%E8%90%A5%E8%BF%87%E6%BB%A4.user.js","uuid":"898bc446-b39f-4488-a587-243681745f98","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDkuqzkuJzoh6rokKXov4fmu6QKLy8gQHZlcnNpb24gICAgICAwLjMuMC4zCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuamQuY29tL2Zhdmljb24uaWNvCi8vIEBkZXNjcmlwdGlvbiAg5Zyo5Lqs5Lic5ZWG5ZOB5YiX6KGo5ZKM5pCc57Si57uT5p6c6aG16Z2i5aKe5Yqg44CQ6Ieq6JCl44CR44CQ6Z2e6Ieq6JCl44CR6L+H5ruk6YCJ6aG544CC5Lqs5Lic55qE5ZWG5ZOB5YiG57G75YiX6KGo6aG15ZKM5pCc57Si57uT5p6c5YiX6KGo6aG16L+H5ruk5Zmo5Lit55qE44CQ5Lqs5Lic6YWN6YCB44CR5ZKM44CQ6Ieq6JCl44CR5piv5LiN5LiA5qC355qE77yM44CQ5Lqs5Lic6YWN6YCB44CR5Lya5YyF5ZCr6YOo5YiG56ys5LiJ5pa55ZWG5a6255qE5ZWG5ZOB77yM5Y+q5piv55Sx5Lqs5Lic5om/5ouF54mp5rWB6L+Q6L6T6ICM5bey77yM6L+Z5Lqb56ys5LiJ5pa55ZWG5ZOB5b6I5aSa6YO95rKh5pyJ4oCc5LiK5Y2I5LiL5Y2V5LiL5Y2I5bCx5Yiw4oCd55qE5b+r5o2377yM5omA5Lul5pyJ5b+F6KaB5LiT6Zeo6ZKI5a+544CQ6Ieq6JCl44CR5ZKM44CQ6Z2e6Ieq6JCl44CR6L+H5ruk5ZWG5ZOB5YiX6KGo77yB5L2G5piv6ZyA6KaB5rOo5oSP55qE5piv77yM5pyJ5Lqb44CQ6Ieq6JCl44CR5ZWG5ZOB5Lmf5piv55Sx44CQ5Y6C5ZWG6YWN6YCB44CR55qE77yM6L+Z56eN5ZWG5ZOB5Y+v5Lul6YCa6L+H5ZCM5pe26YCJ5Lit44CQ6Ieq6JCl44CR5ZKM44CQ5Lqs5Lic6YWN6YCB44CR6L+H5ruk5o6J44CCCi8vIEBhdXRob3IgICAgICAgWW91IQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9kZWxldGVWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBpbmNsdWRlICAgICAgKjovL2xpc3QuamQuY29tL2xpc3QuaHRtbD8qCi8vIEBpbmNsdWRlICAgICAgKjovL3NlYXJjaC5qZC5jb20vc2VhcmNoPyoKLy8gQGluY2x1ZGUgICAgICAqOi8vc2VhcmNoLmpkLmNvbS9TZWFyY2g/KgovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzMzNzI5LeS6rOS4nOiHquiQpei/h+a7pAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvL+aJq+aPj+mhtemdoueahOmXtOmalOmikeeOh+aXtumXtAogICAgdmFyIHRpbWVyRnJlcSA9IDMwMDsKCiAgICBmdW5jdGlvbiBPbkRvY1N0YXJ0KCkgewogICAgICAgIHZhciBqZERlbGl2ZXJ5ID0gImRlbGl2ZXJ5IjsgLy/kuqzkuJzphY3pgIEKICAgICAgICB2YXIgamRTdG9jayA9ICJzdG9jayI7IC8v5pyJ6LSnCgogICAgICAgIHN3aXRjaChjdXJyZW50UGF0aG5hbWUpIHsKICAgICAgICAgICAgY2FzZSAnL3NlYXJjaCc6CiAgICAgICAgICAgICAgICBqZERlbGl2ZXJ5ID0gInd0eXBlIjsKICAgICAgICB9CgogICAgICAgIHZhciB1cmxPcHRzID0gdXJsMk9iaigpOwoKICAgICAgICBpZiAoLy/kuqzkuJzphY3pgIEKICAgICAgICAgICAgcmVhZE9wdHMoJ2pkX2RlbGl2ZXJ5JywgdXJsT3B0cywgamREZWxpdmVyeSkgfAogICAgICAgICAgICAvL+S7heaYvuekuuaciei0pwogICAgICAgICAgICByZWFkT3B0cygnamRfc3RvY2snLCB1cmxPcHRzLCBqZFN0b2NrKQogICAgICAgICkgewogICAgICAgICAgICB2YXIgbmV3U2VhcmNoID0gJz8nOwogICAgICAgICAgICBmb3IgKHZhciBvcHQgaW4gdXJsT3B0cykgewogICAgICAgICAgICAgICAgaWYgKG5ld1NlYXJjaC5sZW5ndGggPiAxKSBuZXdTZWFyY2ggKz0gJyYnOwogICAgICAgICAgICAgICAgbmV3U2VhcmNoICs9IG9wdDsKICAgICAgICAgICAgICAgIG5ld1NlYXJjaCArPSAnPSc7CiAgICAgICAgICAgICAgICBuZXdTZWFyY2ggKz0gdXJsT3B0c1tvcHRdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBuZXdTZWFyY2gubGVuZ3RoID4gMSA/IG5ld1NlYXJjaCA6ICcnOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXJsMk9iaigpIHsKICAgICAgICAgICAgdmFyIHJldCA9IHt9OwogICAgICAgICAgICB2YXIgdSA9IGxvY2F0aW9uLnNlYXJjaC5zcGxpdCgvW1w/Jl0vKTsKICAgICAgICAgICAgZm9yKHZhciBpIGluIHUpIHsKICAgICAgICAgICAgICAgIHZhciBvcHQgPSB1W2ldOwogICAgICAgICAgICAgICAgaWYgKG9wdC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBvcHQgPSBvcHQuc3BsaXQoJz0nKTsKICAgICAgICAgICAgICAgICAgICByZXRbb3B0WzBdXSA9IG9wdFsxXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVhZE9wdHMoZ21fbmFtZSwgb3B0cywgb3B0X25hbWUpIHsKICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKGdtX25hbWUpKSB7CiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkob3B0X25hbWUpIHx8IG9wdHNbb3B0X25hbWVdICE9PSAiMSIpIHsKICAgICAgICAgICAgICAgICAgICBvcHRzW29wdF9uYW1lXSA9ICIxIjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KG9wdF9uYW1lKSAmJiBvcHRzW29wdF9uYW1lXSAhPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdHNbb3B0X25hbWVdOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLy/ovb3lhaXpobXpnaLlkI7vvIzkuLrpobXpnaLlop7liqDjgJDoh6rokKXjgJHjgJDpnZ7oh6rokKXjgJHov4fmu6TlmajvvIzku6Xlj4rjgJDkuqzkuJzphY3pgIHjgJHjgJDku4XmmL7npLrmnInotKfjgJHnrYnnmoTorr7nva7kv53lrZjlh73mlbAKICAgIGZ1bmN0aW9uIE9uRG9jUmVhZHkoKSB7CiAgICAgICAgLy92YXIgZ29vZHNKZEtleSA9ICdqZF8nICsgbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoL1tcL1wuXS8pWzFdLnRvTG93ZXJDYXNlKCkgKyAnXycgKyBsb2NhdGlvbi5zZWFyY2guc3BsaXQoL1tcPyZdLylbMV0ucmVwbGFjZSgvWz0sXS9nLCAnXycpLnRvTG93ZXJDYXNlKCkgKyAnX2dvb2RzSmQnOwogICAgICAgIC8vdmFyIGdvb2RzM3JkS2V5ID0gJ2pkXycgKyBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgvW1wvXC5dLylbMV0udG9Mb3dlckNhc2UoKSArICdfJyArIGxvY2F0aW9uLnNlYXJjaC5zcGxpdCgvW1w/Jl0vKVsxXS5yZXBsYWNlKC9bPSxdL2csICdfJykudG9Mb3dlckNhc2UoKSArICdfZ29vZHMzcmQnOwogICAgICAgIC8v5LiK6Z2i5Lik6KGM5pu/5o2i5LiL6Z2i5Lik6KGM5Y+v5Lul5a+55q+P5Liq5ZWG5ZOB5YiG57G75YiX6KGo5ZKM5pCc57Si5YWz6ZSu6K+N54us56uL5L+d5a2Y6L+H5ruk5Zmo6K6+572uCiAgICAgICAgdmFyIGdvb2RzSmRLZXkgPSAnamRfZ29vZHNKZCc7CiAgICAgICAgdmFyIGdvb2RzM3JkS2V5ID0gJ2pkX2dvb2RzM3JkJzsKCiAgICAgICAgcnVuTWFpbigpOwoKICAgICAgICAvL+mhtemdouWFpeWPo+eCuQogICAgICAgIGZ1bmN0aW9uIHJ1bk1haW4oKSB7CiAgICAgICAgICAgIHN3aXRjaChjdXJyZW50UGF0aG5hbWUpIHsKICAgICAgICAgICAgICAgIGNhc2UgJy9zZWFyY2gnOgogICAgICAgICAgICAgICAgICAgIGlmICgkKCdzcGFuLm5zLWljb24nKS5sZW5ndGggPT0gMSkgcmV0dXJuOyAvL+aQnOe0ouayoeaciee7k+aenAogICAgICAgICAgICB9CgogICAgICAgICAgICB1aUluaXQoKTsKICAgICAgICAgICAgbG9hZEFsbEdvb2RzKCk7CiAgICAgICAgfQoKICAgICAgICAvL+WQkemhtemdoua3u+WKoOiHquiQpei/h+a7pOmAiemhuQogICAgICAgIGZ1bmN0aW9uIHVpSW5pdCgpIHsKICAgICAgICAgICAgdmFyIHVpUG9zID0gJCgnLmYtZmVhdHVyZSB1bCcpOwogICAgICAgICAgICBpZiAodWlQb3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIGFUYWdEZWxpdmVyeTsKICAgICAgICAgICAgICAgIHZhciBhVGFnU3RvY2s7CgogICAgICAgICAgICAgICAgc3dpdGNoKGN1cnJlbnRQYXRobmFtZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgJy9zZWFyY2gnOgogICAgICAgICAgICAgICAgICAgICAgICB1aVBvcy5maW5kKCdsaSBhW29uY2xpY2tdJykuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWdBID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRPbkNsaWNrID0gdGhpcy5vbmNsaWNrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnQS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRPbkNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhaXRBamF4TG9hZEdvb2RzTGlzdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5zYWZlV2luZG93LlNFQVJDSC5sb2FkaW5nKSBzZXRUaW1lb3V0KHdhaXRBamF4TG9hZEdvb2RzTGlzdCwgdGltZXJGcmVxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBydW5NYWluKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHdhaXRBamF4TG9hZEdvb2RzTGlzdCwgdGltZXJGcmVxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnQS5yZW1vdmVBdHRyKCdvbmNsaWNrJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvb2tTZWFyY2hTb3J0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEEgPSAkKCcjSl9maWx0ZXIgZGl2LmYtc29ydCBhW29uY2xpY2tdJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5zYWZlV2luZG93LlNFQVJDSCAhPT0gdW5kZWZpbmVkICYmIHVuc2FmZVdpbmRvdy5TRUFSQ0guc29ydF9odG1sICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkU29ydEh0bWwgPSB1bnNhZmVXaW5kb3cuU0VBUkNILnNvcnRfaHRtbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuU0VBUkNILnNvcnRfaHRtbCA9IGZ1bmN0aW9uKEMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU29ydEh0bWwoQyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNKX2ZpbHRlciBkaXYuZi1zb3J0IGFbb25jbGlja10nKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ0EgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZE9uQ2xpY2sgPSB0aGlzLm9uY2xpY2s7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdBLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZE9uQ2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FpdEFqYXhMb2FkR29vZHNMaXN0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bnNhZmVXaW5kb3cuU0VBUkNILmxvYWRpbmcpIHNldFRpbWVvdXQod2FpdEFqYXhMb2FkR29vZHNMaXN0LCB0aW1lckZyZXEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGxvYWRBbGxHb29kcygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh3YWl0QWpheExvYWRHb29kc0xpc3QsIHRpbWVyRnJlcSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0EucmVtb3ZlQXR0cignb25jbGljaycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzZXRUaW1lb3V0KGhvb2tTZWFyY2hTb3J0LCB0aW1lckZyZXEpOwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBob29rU2VhcmNoU29ydCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy/jgJDkuqzkuJzphY3pgIHjgJHmjInpkq4KICAgICAgICAgICAgICAgICAgICAgICAgYVRhZ0RlbGl2ZXJ5ID0gdWlQb3MuZmluZCgnbGkgYVtkYXRhLWZpZWxkPSJ3dHlwZSJdJykuZmlyc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy/jgJDku4XmmL7npLrmnInotKfjgJHmjInpkq4KICAgICAgICAgICAgICAgICAgICAgICAgYVRhZ1N0b2NrID0gdWlQb3MuZmluZCgnbGkgYVtkYXRhLWZpZWxkPSJzdG9jayJdJykuZmlyc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgJy9saXN0Lmh0bWwnOgogICAgICAgICAgICAgICAgICAgICAgICAvL+OAkOS6rOS4nOmFjemAgeOAkeaMiemSrgogICAgICAgICAgICAgICAgICAgICAgICBhVGFnRGVsaXZlcnkgPSB1aVBvcy5maW5kKCdsaSNkZWxpdmVyeSBhJykuZmlyc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy/jgJDku4XmmL7npLrmnInotKfjgJHmjInpkq4KICAgICAgICAgICAgICAgICAgICAgICAgYVRhZ1N0b2NrID0gdWlQb3MuZmluZCgnbGkjc3RvY2sgYScpLmZpcnN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy/jgJDkuqzkuJzphY3pgIHjgJHmjInpkq4KICAgICAgICAgICAgICAgIGFUYWdEZWxpdmVyeS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZ0RlbGl2ZXJ5Lmhhc0NsYXNzKCdzZWxlY3RlZCcpKSBHTV9kZWxldGVWYWx1ZSgnamRfZGVsaXZlcnknKTsgZWxzZSBHTV9zZXRWYWx1ZSgnamRfZGVsaXZlcnknLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy/jgJDku4XmmL7npLrmnInotKfjgJHmjInpkq4KICAgICAgICAgICAgICAgIGFUYWdTdG9jay5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYVRhZ1N0b2NrLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSBHTV9kZWxldGVWYWx1ZSgnamRfc3RvY2snKTsgZWxzZSBHTV9zZXRWYWx1ZSgnamRfc3RvY2snLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHZhciBnb29kc0pkQ2hlY2tlZCA9IEdNX2dldFZhbHVlKGdvb2RzSmRLZXkpID09PSB1bmRlZmluZWQgPyAnY2xhc3M9InNlbGVjdGVkIicgOiAnJzsKICAgICAgICAgICAgICAgIHZhciBnb29kczNyZENoZWNrZWQgPSBHTV9nZXRWYWx1ZShnb29kczNyZEtleSkgPT09IHVuZGVmaW5lZCA/ICdjbGFzcz0ic2VsZWN0ZWQiJyA6ICcnOwogICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoJy5nb29kc0NvdW50e2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZTIzYTNhO2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MHB4IDNweDttYXJnaW46MCA1cHggMCAycHh9Jyk7CiAgICAgICAgICAgICAgICB1aVBvcy5maXJzdCgpLnByZXBlbmQoJCgKICAgICAgICAgICAgICAgICAgICAnPGxpPjxhICcrZ29vZHNKZENoZWNrZWQrJyBocmVmPSJqYXZhc2NyaXB0OjsiIGlkPSJnb29kc0pkIj48aS8+6Ieq6JClPHNwYW4gY2xhc3M9Imdvb2RzQ291bnQiIGlkPSJnb29kc0pkQ291bnQiPjA8L3NwYW4+PC9hPjwvbGk+JysKICAgICAgICAgICAgICAgICAgICAnPGxpPjxhICcrZ29vZHMzcmRDaGVja2VkKycgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0iZ29vZHMzcmQiPjxpLz7pnZ7oh6rokKU8c3BhbiBjbGFzcz0iZ29vZHNDb3VudCIgaWQ9Imdvb2RzM3JkQ291bnQiPjA8L3NwYW4+PC9hPjwvbGk+JwogICAgICAgICAgICAgICAgKSk7CgogICAgICAgICAgICAgICAgJCgnI2dvb2RzSmQnKS5maXJzdCgpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gJCgnI2dvb2RzSmQnKS50b2dnbGVDbGFzcygnc2VsZWN0ZWQnKS5hdHRyKCdjbGFzcycpLmxlbmd0aCA+IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUdvb2RzSmQoY2hlY2tlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+d5a2Y6K6+572uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSBHTV9kZWxldGVWYWx1ZShnb29kc0pkS2V5KTsgZWxzZSBHTV9zZXRWYWx1ZShnb29kc0pkS2V5LCBjaGVja2VkKTsKICAgICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJCgnI2dvb2RzM3JkJykuZmlyc3QoKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9ICQoJyNnb29kczNyZCcpLnRvZ2dsZUNsYXNzKCdzZWxlY3RlZCcpLmF0dHIoJ2NsYXNzJykubGVuZ3RoID4gMDsKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlR29vZHMzcmQoY2hlY2tlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+d5a2Y6K6+572uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSBHTV9kZWxldGVWYWx1ZShnb29kczNyZEtleSk7IGVsc2UgR01fc2V0VmFsdWUoZ29vZHMzcmRLZXksIGNoZWNrZWQpOwogICAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBzZXRUaW1lb3V0KHVpSW5pdCwgdGltZXJGcmVxKTsKICAgICAgICB9CgogICAgICAgIC8v5YiH5o2i6L+H5ruk6Ieq6JClL+mdnuiHquiQpeWVhuWTgQogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUdvb2RzSmQoY2hlY2tlZCkgewogICAgICAgICAgICAkKCdsaS5nbC1pdGVtOmhhcyhpW2RhdGEtdGlwcz0i5Lqs5Lic6Ieq6JCl77yM5ZOB6LSo5L+d6ZqcIl0pJykuY3NzKCdkaXNwbGF5JywgY2hlY2tlZCA/ICcnIDogJ25vbmUnKTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlR29vZHMzcmQoY2hlY2tlZCkgewogICAgICAgICAgICAkKCdsaS5nbC1pdGVtOm5vdCg6aGFzKGlbZGF0YS10aXBzPSLkuqzkuJzoh6rokKXvvIzlk4HotKjkv53pmpwiXSkpJykuY3NzKCdkaXNwbGF5JywgY2hlY2tlZCA/ICcnIDogJ25vbmUnKTsKICAgICAgICB9CgogICAgICAgIC8v5Yqg6L295omA5pyJ5ZWG5ZOBCiAgICAgICAgZnVuY3Rpb24gbG9hZEFsbEdvb2RzKCkgewogICAgICAgICAgICBzd2l0Y2goY3VycmVudFBhdGhuYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlICcvbGlzdC5odG1sJzoKICAgICAgICAgICAgICAgICAgICBwcm9jZXNzR29vZHNMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAnL3NlYXJjaCc6CiAgICAgICAgICAgICAgICAgICAgaWYgKHVuc2FmZVdpbmRvdy5TRUFSQ0ggIT09IHVuZGVmaW5lZCAmJiB1bnNhZmVXaW5kb3cuU0VBUkNILnNjcm9sbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5TRUFSQ0guc2Nyb2xsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQod2FpdEFsbEdvb2RzLCB0aW1lckZyZXEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHNldFRpbWVvdXQobG9hZEFsbEdvb2RzLCB0aW1lckZyZXEpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8v562J5b6F5omA5pyJ5ZWG5ZOB5Yqg6L295a6M5oiQCiAgICAgICAgZnVuY3Rpb24gd2FpdEFsbEdvb2RzKCkgewogICAgICAgICAgICBpZiAodW5zYWZlV2luZG93LlNFQVJDSC5sb2FkaW5nKSBzZXRUaW1lb3V0KHdhaXRBbGxHb29kcywgdGltZXJGcmVxKTsKICAgICAgICAgICAgZWxzZSBwcm9jZXNzR29vZHNMaXN0KCk7CiAgICAgICAgfQogICAgICAgIC8v5pS25bC+5aSE55CGCiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0dvb2RzTGlzdCgpIHsKICAgICAgICAgICAgLy/orqHnrpfllYblk4HmlbDph48KICAgICAgICAgICAgc2V0Q291bnQoKTsKICAgICAgICAgICAgLy/liqDovb3ov4fmu6Tlmajorr7nva4KICAgICAgICAgICAgbG9hZFNldHRpbmdzKCk7CiAgICAgICAgICAgIC8v5Y+W5raI5Zu+54mH5bu26L+f5Yqg6L29CiAgICAgICAgICAgIGZvcmNlTG9hZExhenlJbWdzKCk7CiAgICAgICAgfQogICAgICAgIC8v6K6h566X5ZWG5ZOB5pWw6YePCiAgICAgICAgZnVuY3Rpb24gc2V0Q291bnQoKSB7CiAgICAgICAgICAgICQoJyNnb29kc0pkQ291bnQnKS50ZXh0KCQoJ2xpLmdsLWl0ZW06aGFzKGlbZGF0YS10aXBzPSLkuqzkuJzoh6rokKXvvIzlk4HotKjkv53pmpwiXSknKS5sZW5ndGgpOwogICAgICAgICAgICAkKCcjZ29vZHMzcmRDb3VudCcpLnRleHQoJCgnbGkuZ2wtaXRlbTpub3QoOmhhcyhpW2RhdGEtdGlwcz0i5Lqs5Lic6Ieq6JCl77yM5ZOB6LSo5L+d6ZqcIl0pKScpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIC8v5Yqg6L296L+H5ruk5Zmo6K6+572uCiAgICAgICAgZnVuY3Rpb24gbG9hZFNldHRpbmdzKCkgewogICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoZ29vZHNKZEtleSkgIT09IHVuZGVmaW5lZCkgdG9nZ2xlR29vZHNKZChmYWxzZSk7CiAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZShnb29kczNyZEtleSkgIT09IHVuZGVmaW5lZCkgdG9nZ2xlR29vZHMzcmQoZmFsc2UpOwogICAgICAgIH0KICAgICAgICAvL+WPlua2iOWbvueJh+W7tui/n+WKoOi9vQogICAgICAgIGZ1bmN0aW9uIGZvcmNlTG9hZExhenlJbWdzKCkgewogICAgICAgICAgICB2YXIgbGF6eUltZ3MgPSAkKCd1bC5nbC13YXJwIGltZ1tkYXRhLWxhenktaW1nXVtkYXRhLWxhenktaW1nIT0iZG9uZSJdJyk7CiAgICAgICAgICAgIGlmIChsYXp5SW1ncy5sZW5ndGggPiAwKSBsYXp5SW1ncy5lYWNoKGZ1bmN0aW9uKGlkeCl7CiAgICAgICAgICAgICAgICB2YXIgaW1nID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gaW1nLmF0dHIoJ2RhdGEtbGF6eS1pbWcnKTsKICAgICAgICAgICAgICAgIGltZy5yZW1vdmVBdHRyKCdkYXRhLWxhenktaW1nJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICB2YXIgY3VycmVudFBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICB2YXIgbmV3U2VhcmNoID0gT25Eb2NTdGFydCgpOwogICAgaWYgKG5ld1NlYXJjaCAhPT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zZWFyY2ggPSBuZXdTZWFyY2g7CiAgICBlbHNlIGRvY3VtZW50LnJlYWR5ID0gZnVuY3Rpb24oKSB7IHNldFRpbWVvdXQoT25Eb2NSZWFkeSwgMCk7IH07Cn0pKCk7Cg=="}],"settings":{"script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":"2"},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":"3"}]}}